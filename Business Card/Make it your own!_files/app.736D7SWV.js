//__HEAD__
import{$ as aw,$a as o6t,$b as mw,$c as tkt,$d as G6,$e as C$e,$f as U8t,$g as SJ,A as le,Aa as Vl,Ab as aR,Ac as t$e,Ad as w3,Ae as _$e,Af as c8t,Ag as H$e,Ah as k_t,B as NK,Ba as Mn,Bb as f6t,Bc as F6t,Bd as mR,Be as Nkt,Bf as h8t,Bg as B$e,Bh as Q$e,C as pt,Ca as Hme,Cb as m6t,Cc as H6t,Cd as c$e,Ce as Ikt,Cf as p8t,Cg as Z8t,Ch as __t,D as H,Da as Su,Db as XK,Dc as B6t,Dd as h$e,De as $J,Df as d8t,Dg as wJ,Dh as x_t,E as w,Ea as _3,Eb as $6t,Ec as nJ,Ed as p$e,Ee as yJ,Ef as f8t,Eg as G8t,Eh as eye,F as Ir,Fa as Bme,Fb as y6t,Fc as iJ,Fd as ykt,Fe as x$e,Ff as m8t,Fg as Y8t,G as R,Ga as VK,Gb as b6t,Gc as bw,Gd as $R,Ge as Fkt,Gf as X6,Gg as V$e,H as M,Ha as oR,Hb as g6t,Hc as V6t,Hd as bkt,He as xw,Hf as $8t,Hg as X8t,I as da,Ia as Vme,Ib as Xme,Ic as z6t,Id as xf,Ie as Hkt,If as T$e,Ig as wf,J as Ve,Ja as zK,Jb as k6t,Jc as q6t,Jd as d$e,Je as Bkt,Jf as y8t,Jg as K8t,K as pe,Ka as Zgt,Kb as _6t,Kc as W6t,Kd as yR,Ke as Vkt,Kf as b8t,Kg as z$e,L as $e,La as nR,Lb as x6t,Lc as sJ,Ld as f$e,Le as bJ,Lf as g8t,Lg as J8t,M as fa,Ma as qK,Mb as KK,Md as gkt,Me as zkt,Mf as xR,Mg as Q8t,N as Jt,Na as Ggt,Nb as v6t,Nc as lJ,Nd as kw,Ne as qkt,Nf as k8t,Ng as e_t,Nh as v_t,O as wt,Oa as cw,Ob as Kme,Oc as r$e,Od as kkt,Oe as v$e,Of as _8t,Og as q$e,Oh as w_t,P as de,Pa as hw,Pb as w6t,Pc as o$e,Pd as m$e,Pe as gJ,Pf as x8t,Pg as t_t,Q as ln,Qa as pw,Qb as S6t,Qc as Z6t,Qd as _kt,Qe as w$e,Qf as Sw,Qg as r_t,Qh as S_t,R as Bt,Ra as Ygt,Rb as M1,Rc as Z6,Rd as $$e,Re as kJ,Rf as O$e,Rg as K6,Rh as C_t,S as Jn,Sa as Xgt,Sb as uR,Sc as P2,Sd as uJ,Se as Wkt,Sf as v8t,Sg as o_t,T as Hl,Ta as Kgt,Tb as JK,Tc as G6t,Td as xkt,Te as Zkt,Tf as w8t,Tg as n_t,Th as E_t,U as $i,Ua as WK,Ub as cR,Ud as cJ,Ue as C3,Uf as R$e,Ug as W$e,V as no,Va as Jgt,Vb as QK,Vc as Y6t,Vd as vkt,Ve as Gkt,Vf as S8t,Vg as J6,Vh as j_t,W as an,Wa as zme,Wb as C6t,Wc as X6t,Wd as y$e,We as Ykt,Wf as C8t,Wg as i_t,Wh as tye,X as un,Xa as Qgt,Xb as Jme,Xc as K6t,Xd as bR,Xe as S$e,Xf as E8t,Xg as s_t,Xh as A_t,Y as dt,Ya as e6t,Yb as E6t,Yc as J6t,Yd as hJ,Yf as j8t,Yg as wR,Z as ge,Za as t6t,Zb as hR,Zc as Q6t,Zd as S3,Ze as Xkt,Zf as M$e,Zg as l_t,Zh as U_t,_ as En,_a as r6t,_b as fw,_c as ekt,_d as wkt,_e as Kkt,_f as A8t,_g as D1,a as A,aa as Ngt,ab as qme,ac as j6t,ad as rkt,ae as Skt,af as E$e,ag as P8t,ah as Cw,b as Le,ba as Bl,bb as Wme,bc as A6t,bd as okt,be as Ckt,bf as vw,bg as T8t,bh as a_t,c as Ye,ca as wu,cb as n6t,cc as eJ,cd as nkt,ce as Ekt,cf as _J,ch as CJ,ci as P_t,d as p,da as Igt,db as Zme,dc as $w,dd as ikt,de as b$e,df as Jkt,dg as O8t,dh as Z$e,di as rye,e as Cn,ea as Fgt,eb as i6t,ec as Qme,ed as n$e,ee as jkt,ef as kR,eg as R8t,eh as u_t,ei as T_t,f as gt,fa as wo,fb as W6,fd as skt,fe as pJ,ff as Qkt,fg as M8t,fh as c_t,g as B,ga as Hgt,gb as iR,gd as gw,ge as Akt,gf as _R,gg as L8t,gh as h_t,h as se,ha as A2,hb as x3,hc as tJ,hd as dR,he as _w,hf as e8t,hg as D8t,hh as G$e,i as Dgt,ia as Bgt,ib as s6t,ic as U6t,id as fR,ie as Ukt,if as j$e,ig as j3,ih as Ew,j as Qe,ja as gf,jb as sR,jc as pR,jd as i$e,je as T2,jf as t8t,jg as L$e,jh as p_t,k as E,ka as Xt,kb as ZK,kc as v3,kd as lkt,ke as Pkt,kg as N8t,kh as M2,l as re,la as qi,lb as l6t,lc as P6t,ld as akt,le as Tkt,lf as r8t,lg as I8t,lh as d_t,m as oe,ma as Vgt,mb as GK,mc as T6t,md as ukt,me as dJ,mf as E3,mg as F8t,mh as f_t,n as yl,na as zgt,nb as Gme,nc as O6t,nd as ckt,ne as g$e,nf as o8t,ng as H8t,nh as SR,o as bl,oa as qgt,ob as a6t,oc as rJ,od as s$e,oe as Okt,of as A$e,og as B8t,oh as Y$e,p as pa,pa as IK,pb as _f,pc as R6t,pe as O2,pf as U$e,pg as V8t,ph as m_t,q as Il,qa as Wgt,qb as lR,qc as M6t,qd as hkt,qe as Rkt,qf as P$e,qg as vJ,qh as EJ,ra as k3,rb as u6t,rc as L6t,rd as pkt,re as Y6,rf as n8t,rg as z8t,rh as X$e,s as vu,sa as FK,sb as c6t,sc as oJ,sd as l$e,se as Mkt,sf as i8t,sg as vR,sh as $_t,t as Cr,ta as HK,tb as h6t,tc as U2,td as a$e,te as Lkt,tf as xJ,tg as D$e,th as y_t,ub as YK,uc as yw,ud as dkt,ue as Dkt,uf as s8t,ug as N$e,uh as b_t,v as De,va as uw,vb as p6t,vc as e$e,vd as fkt,ve as k$e,vf as l8t,vg as I$e,vh as g_t,w as We,wa as jn,wb as Yme,wc as D6t,wd as aJ,we as fJ,wf as a8t,wg as q8t,wh as jJ,x as ke,xa as kf,xb as d6t,xc as N6t,xd as mkt,xe as vf,xf as R2,xg as W8t,xh as K$e,y as Fl,ya as BK,yb as ma,yc as I6t,yd as $kt,ye as mJ,yf as ww,z as ho,za as y,zb as dw,zc as L1,zd as u$e,ze as gR,zf as u8t,zg as F$e,zh as J$e}from"/assets/chunks/chunk.YAKFUJHG.js";import{a as Lgt,b as Gt,c as Fme,d as q6,e as rR,f as T,g as G}from"/assets/chunks/chunk.D2XAKVFA.js";var k5t=Gt((d3n,g5t)=>{"use strict";T();function oTo(l){if(l.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<l.length;r++){var o=l.charAt(r),n=o.charCodeAt(0);if(e[n]!==255)throw new TypeError(o+" is ambiguous");e[n]=r}var i=l.length,s=l.charAt(0),a=Math.log(i)/Math.log(256),u=Math.log(256)/Math.log(i);function c(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var m=0,$=0,b=0,g=f.length;b!==g&&f[b]===0;)b++,m++;for(var x=(g-b)*u+1>>>0,k=new Uint8Array(x);b!==g;){for(var _=f[b],S=0,v=x-1;(_!==0||S<$)&&v!==-1;v--,S++)_+=256*k[v]>>>0,k[v]=_%i>>>0,_=_/i>>>0;if(_!==0)throw new Error("Non-zero carry");$=S,b++}for(var C=x-$;C!==x&&k[C]===0;)C++;for(var j=s.repeat(m);C<x;++C)j+=l.charAt(k[C]);return j}function h(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;for(var m=0,$=0,b=0;f[m]===s;)$++,m++;for(var g=(f.length-m)*a+1>>>0,x=new Uint8Array(g);f[m];){var k=e[f.charCodeAt(m)];if(k===255)return;for(var _=0,S=g-1;(k!==0||_<b)&&S!==-1;S--,_++)k+=i*x[S]>>>0,x[S]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");b=_,m++}for(var v=g-b;v!==g&&x[v]===0;)v++;for(var C=new Uint8Array($+(g-v)),j=$;v!==g;)C[j++]=x[v++];return C}function d(f){var m=h(f);if(m)return m;throw new Error("Non-base"+i+" character")}return{encode:c,decodeUnsafe:h,decode:d}}g5t.exports=oTo});var X5t=Gt((Vge,Y5t)=>{T();Vge=Y5t.exports=tOo;Vge.getSerialize=G5t;function tOo(l,e,t,r){return JSON.stringify(l,G5t(e,r),t)}function G5t(l,e){var t=[],r=[];return e==null&&(e=function(o,n){return t[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,t.indexOf(n)).join(".")+"]"}),function(o,n){if(t.length>0){var i=t.indexOf(this);~i?t.splice(i+1):t.push(this),~i?r.splice(i,1/0,o):r.push(o),~t.indexOf(n)&&(n=e.call(this,o,n))}else t.push(n);return l==null?n:l.call(this,o,n)}}});var J5t=Gt((Y3n,K5t)=>{"use strict";T();var rOo=X5t(),oOo=function(){var l=4022871197,e=function(t){if(t){t=t.toString();for(var r=0;r<t.length;r++){l+=t.charCodeAt(r);var o=.02519603282416938*l;l=o>>>0,o-=l,o*=l,l=o>>>0,o-=l,l+=o*4294967296}return(l>>>0)*23283064365386963e-26}else l=4022871197};return e},zge=function(l){return function(){var e=48,t=1,r=e,o=new Array(e),n,i,s=0,a=new oOo;for(n=0;n<e;n++)o[n]=a(Math.random());var u=function(){++r>=e&&(r=0);var d=1768863*o[r]+t*23283064365386963e-26;return o[r]=d-(t=d|0)},c=function(d){return Math.floor(d*(u()+(u()*2097152|0)*11102230246251565e-32))};c.string=function(d){var f,m="";for(f=0;f<d;f++)m+=String.fromCharCode(33+c(94));return m};var h=function(){var d=Array.prototype.slice.call(arguments);for(n=0;n<d.length;n++)for(i=0;i<e;i++)o[i]-=a(d[n]),o[i]<0&&(o[i]+=1)};return c.cleanString=function(d){return d=d.replace(/(^\s*)|(\s*$)/gi,""),d=d.replace(/[\x00-\x1F]/gi,""),d=d.replace(/\n /,`
`),d},c.hashString=function(d){for(d=c.cleanString(d),a(d),n=0;n<d.length;n++)for(s=d.charCodeAt(n),i=0;i<e;i++)o[i]-=a(s),o[i]<0&&(o[i]+=1)},c.seed=function(d){(typeof d>"u"||d===null)&&(d=Math.random()),typeof d!="string"&&(d=rOo(d,function(f,m){return typeof m=="function"?m.toString():m})),c.initState(),c.hashString(d)},c.addEntropy=function(){var d=[];for(n=0;n<arguments.length;n++)d.push(arguments[n]);h(s+++new Date().getTime()+d.join("")+Math.random())},c.initState=function(){for(a(),n=0;n<e;n++)o[n]=a(" ");t=1,r=e},c.done=function(){a=null},typeof l<"u"&&c.seed(l),c.range=function(d){return c(d)},c.random=function(){return c(Number.MAX_VALUE-1)/Number.MAX_VALUE},c.floatBetween=function(d,f){return c.random()*(f-d)+d},c.intBetween=function(d,f){return Math.floor(c.random()*(f-d+1))+d},c}()};zge.create=function(l){return new zge(l)};K5t.exports=zge});var s3t=Gt((K3n,i3t)=>{T();var e3t=9007199254740991,nOo="[object Arguments]",iOo="[object Function]",sOo="[object GeneratorFunction]",lOo=/^(?:0|[1-9]\d*)$/;function t3t(l,e,t){switch(t.length){case 0:return l.call(e);case 1:return l.call(e,t[0]);case 2:return l.call(e,t[0],t[1]);case 3:return l.call(e,t[0],t[1],t[2])}return l.apply(e,t)}function aOo(l,e){for(var t=-1,r=Array(l);++t<l;)r[t]=e(t);return r}var WR=Object.prototype,ZR=WR.hasOwnProperty,r3t=WR.toString,uOo=WR.propertyIsEnumerable,Q5t=Math.max;function cOo(l,e){var t=kOo(l)||gOo(l)?aOo(l.length,String):[],r=t.length,o=!!r;for(var n in l)(e||ZR.call(l,n))&&!(o&&(n=="length"||n3t(n,r)))&&t.push(n);return t}function hOo(l,e,t,r){return l===void 0||qge(l,WR[t])&&!ZR.call(r,t)?e:l}function pOo(l,e,t){var r=l[e];(!(ZR.call(l,e)&&qge(r,t))||t===void 0&&!(e in l))&&(l[e]=t)}function dOo(l){if(!Zge(l))return bOo(l);var e=yOo(l),t=[];for(var r in l)r=="constructor"&&(e||!ZR.call(l,r))||t.push(r);return t}function o3t(l,e){return e=Q5t(e===void 0?l.length-1:e,0),function(){for(var t=arguments,r=-1,o=Q5t(t.length-e,0),n=Array(o);++r<o;)n[r]=t[e+r];r=-1;for(var i=Array(e+1);++r<e;)i[r]=t[r];return i[e]=n,t3t(l,this,i)}}function fOo(l,e,t,r){t||(t={});for(var o=-1,n=e.length;++o<n;){var i=e[o],s=r?r(t[i],l[i],i,t,l):void 0;pOo(t,i,s===void 0?l[i]:s)}return t}function mOo(l){return o3t(function(e,t){var r=-1,o=t.length,n=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(n=l.length>3&&typeof n=="function"?(o--,n):void 0,i&&$Oo(t[0],t[1],i)&&(n=o<3?void 0:n,o=1),e=Object(e);++r<o;){var s=t[r];s&&l(e,s,r,n)}return e})}function n3t(l,e){return e=e??e3t,!!e&&(typeof l=="number"||lOo.test(l))&&l>-1&&l%1==0&&l<e}function $Oo(l,e,t){if(!Zge(t))return!1;var r=typeof e;return(r=="number"?Wge(t)&&n3t(e,t.length):r=="string"&&e in t)?qge(t[e],l):!1}function yOo(l){var e=l&&l.constructor,t=typeof e=="function"&&e.prototype||WR;return l===t}function bOo(l){var e=[];if(l!=null)for(var t in Object(l))e.push(t);return e}function qge(l,e){return l===e||l!==l&&e!==e}function gOo(l){return _Oo(l)&&ZR.call(l,"callee")&&(!uOo.call(l,"callee")||r3t.call(l)==nOo)}var kOo=Array.isArray;function Wge(l){return l!=null&&vOo(l.length)&&!xOo(l)}function _Oo(l){return wOo(l)&&Wge(l)}function xOo(l){var e=Zge(l)?r3t.call(l):"";return e==iOo||e==sOo}function vOo(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=e3t}function Zge(l){var e=typeof l;return!!l&&(e=="object"||e=="function")}function wOo(l){return!!l&&typeof l=="object"}var SOo=mOo(function(l,e,t,r){fOo(e,EOo(e),l,r)}),COo=o3t(function(l){return l.push(void 0,hOo),t3t(SOo,void 0,l)});function EOo(l){return Wge(l)?cOo(l,!0):dOo(l)}i3t.exports=COo});var h3t=Gt((GR,c3t)=>{T();Object.defineProperty(GR,"__esModule",{value:!0}),GR.default=void 0;var jOo=u3t(J5t()),l3t=u3t(s3t());function u3t(l){return l&&l.__esModule?l:{default:l}}function a3t(l,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}var AOo=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broad","broken","calm","cold","cool","crimson","curly","damp","dark","dawn","delicate","divine","dry","empty","falling","fancy","flat","floral","fragrant","frosty","gentle","green","hidden","holy","icy","jolly","late","lingering","little","lively","long","lucky","misty","morning","muddy","mute","nameless","noisy","odd","old","orange","patient","plain","polished","proud","purple","quiet","rapid","raspy","red","restless","rough","round","royal","shiny","shrill","shy","silent","small","snowy","soft","solitary","sparkling","spring","square","steep","still","summer","super","sweet","throbbing","tight","tiny","twilight","wandering","weathered","white","wild","winter","wispy","withered","yellow","young"],UOo=["art","band","bar","base","bird","block","boat","bonus","bread","breeze","brook","bush","butterfly","cake","cell","cherry","cloud","credit","darkness","dawn","dew","disk","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","hall","hat","haze","heart","hill","king","lab","lake","leaf","limit","math","meadow","mode","moon","morning","mountain","mouse","mud","night","paper","pine","poetry","pond","queen","rain","recipe","resonance","rice","river","salad","scene","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","term","thunder","tooth","tree","truth","union","unit","violet","voice","water","waterfall","wave","wildflower","wind","wood"],POo={delimiter:"-",tokenLength:4,tokenHex:!1,tokenChars:"0123456789"},TOo=function(){function l(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")})(this,l),this.adjectives=o.adjectives||AOo,this.nouns=o.nouns||UOo,this.random=jOo.default.create(o.seed),this.config=(0,l3t.default)(o.defaults,POo)}var e,t,r;return e=l,(t=[{key:"haikunate",value:function(o){var n=(0,l3t.default)(o,this.config);n.tokenHex===!0&&(n.tokenChars="0123456789abcdef");var i=this._randomElement(this.adjectives),s=this._randomElement(this.nouns);n.tokenLength||(n.tokenLength=0);for(var a="",u=0;u<n.tokenLength;u++)a+=this._randomElement(n.tokenChars);return[i,s,a].filter(function(c){return!!c}).join(n.delimiter)}},{key:"_randomElement",value:function(o){if(o)return o[this.random(o.length)]}}])&&a3t(e.prototype,t),r&&a3t(e,r),l}();GR.default=TOo,c3t.exports=GR.default});var kwt=Gt((bwt,gwt)=>{T();(function(l){if(typeof bwt=="object")gwt.exports=l();else if(typeof define=="function"&&define.amd)define(l);else{var e;try{e=window}catch{e=self}e.SparkMD5=l()}})(function(l){"use strict";var e=function(g,x){return g+x&4294967295},t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(g,x,k,_,S,v){return x=e(e(x,g),e(_,v)),e(x<<S|x>>>32-S,k)}function o(g,x){var k=g[0],_=g[1],S=g[2],v=g[3];k+=(_&S|~_&v)+x[0]-680876936|0,k=(k<<7|k>>>25)+_|0,v+=(k&_|~k&S)+x[1]-389564586|0,v=(v<<12|v>>>20)+k|0,S+=(v&k|~v&_)+x[2]+606105819|0,S=(S<<17|S>>>15)+v|0,_+=(S&v|~S&k)+x[3]-1044525330|0,_=(_<<22|_>>>10)+S|0,k+=(_&S|~_&v)+x[4]-176418897|0,k=(k<<7|k>>>25)+_|0,v+=(k&_|~k&S)+x[5]+1200080426|0,v=(v<<12|v>>>20)+k|0,S+=(v&k|~v&_)+x[6]-1473231341|0,S=(S<<17|S>>>15)+v|0,_+=(S&v|~S&k)+x[7]-45705983|0,_=(_<<22|_>>>10)+S|0,k+=(_&S|~_&v)+x[8]+1770035416|0,k=(k<<7|k>>>25)+_|0,v+=(k&_|~k&S)+x[9]-1958414417|0,v=(v<<12|v>>>20)+k|0,S+=(v&k|~v&_)+x[10]-42063|0,S=(S<<17|S>>>15)+v|0,_+=(S&v|~S&k)+x[11]-1990404162|0,_=(_<<22|_>>>10)+S|0,k+=(_&S|~_&v)+x[12]+1804603682|0,k=(k<<7|k>>>25)+_|0,v+=(k&_|~k&S)+x[13]-40341101|0,v=(v<<12|v>>>20)+k|0,S+=(v&k|~v&_)+x[14]-1502002290|0,S=(S<<17|S>>>15)+v|0,_+=(S&v|~S&k)+x[15]+1236535329|0,_=(_<<22|_>>>10)+S|0,k+=(_&v|S&~v)+x[1]-165796510|0,k=(k<<5|k>>>27)+_|0,v+=(k&S|_&~S)+x[6]-1069501632|0,v=(v<<9|v>>>23)+k|0,S+=(v&_|k&~_)+x[11]+643717713|0,S=(S<<14|S>>>18)+v|0,_+=(S&k|v&~k)+x[0]-373897302|0,_=(_<<20|_>>>12)+S|0,k+=(_&v|S&~v)+x[5]-701558691|0,k=(k<<5|k>>>27)+_|0,v+=(k&S|_&~S)+x[10]+38016083|0,v=(v<<9|v>>>23)+k|0,S+=(v&_|k&~_)+x[15]-660478335|0,S=(S<<14|S>>>18)+v|0,_+=(S&k|v&~k)+x[4]-405537848|0,_=(_<<20|_>>>12)+S|0,k+=(_&v|S&~v)+x[9]+568446438|0,k=(k<<5|k>>>27)+_|0,v+=(k&S|_&~S)+x[14]-1019803690|0,v=(v<<9|v>>>23)+k|0,S+=(v&_|k&~_)+x[3]-187363961|0,S=(S<<14|S>>>18)+v|0,_+=(S&k|v&~k)+x[8]+1163531501|0,_=(_<<20|_>>>12)+S|0,k+=(_&v|S&~v)+x[13]-1444681467|0,k=(k<<5|k>>>27)+_|0,v+=(k&S|_&~S)+x[2]-51403784|0,v=(v<<9|v>>>23)+k|0,S+=(v&_|k&~_)+x[7]+1735328473|0,S=(S<<14|S>>>18)+v|0,_+=(S&k|v&~k)+x[12]-1926607734|0,_=(_<<20|_>>>12)+S|0,k+=(_^S^v)+x[5]-378558|0,k=(k<<4|k>>>28)+_|0,v+=(k^_^S)+x[8]-2022574463|0,v=(v<<11|v>>>21)+k|0,S+=(v^k^_)+x[11]+1839030562|0,S=(S<<16|S>>>16)+v|0,_+=(S^v^k)+x[14]-35309556|0,_=(_<<23|_>>>9)+S|0,k+=(_^S^v)+x[1]-1530992060|0,k=(k<<4|k>>>28)+_|0,v+=(k^_^S)+x[4]+1272893353|0,v=(v<<11|v>>>21)+k|0,S+=(v^k^_)+x[7]-155497632|0,S=(S<<16|S>>>16)+v|0,_+=(S^v^k)+x[10]-1094730640|0,_=(_<<23|_>>>9)+S|0,k+=(_^S^v)+x[13]+681279174|0,k=(k<<4|k>>>28)+_|0,v+=(k^_^S)+x[0]-358537222|0,v=(v<<11|v>>>21)+k|0,S+=(v^k^_)+x[3]-722521979|0,S=(S<<16|S>>>16)+v|0,_+=(S^v^k)+x[6]+76029189|0,_=(_<<23|_>>>9)+S|0,k+=(_^S^v)+x[9]-640364487|0,k=(k<<4|k>>>28)+_|0,v+=(k^_^S)+x[12]-421815835|0,v=(v<<11|v>>>21)+k|0,S+=(v^k^_)+x[15]+530742520|0,S=(S<<16|S>>>16)+v|0,_+=(S^v^k)+x[2]-995338651|0,_=(_<<23|_>>>9)+S|0,k+=(S^(_|~v))+x[0]-198630844|0,k=(k<<6|k>>>26)+_|0,v+=(_^(k|~S))+x[7]+1126891415|0,v=(v<<10|v>>>22)+k|0,S+=(k^(v|~_))+x[14]-1416354905|0,S=(S<<15|S>>>17)+v|0,_+=(v^(S|~k))+x[5]-57434055|0,_=(_<<21|_>>>11)+S|0,k+=(S^(_|~v))+x[12]+1700485571|0,k=(k<<6|k>>>26)+_|0,v+=(_^(k|~S))+x[3]-1894986606|0,v=(v<<10|v>>>22)+k|0,S+=(k^(v|~_))+x[10]-1051523|0,S=(S<<15|S>>>17)+v|0,_+=(v^(S|~k))+x[1]-2054922799|0,_=(_<<21|_>>>11)+S|0,k+=(S^(_|~v))+x[8]+1873313359|0,k=(k<<6|k>>>26)+_|0,v+=(_^(k|~S))+x[15]-30611744|0,v=(v<<10|v>>>22)+k|0,S+=(k^(v|~_))+x[6]-1560198380|0,S=(S<<15|S>>>17)+v|0,_+=(v^(S|~k))+x[13]+1309151649|0,_=(_<<21|_>>>11)+S|0,k+=(S^(_|~v))+x[4]-145523070|0,k=(k<<6|k>>>26)+_|0,v+=(_^(k|~S))+x[11]-1120210379|0,v=(v<<10|v>>>22)+k|0,S+=(k^(v|~_))+x[2]+718787259|0,S=(S<<15|S>>>17)+v|0,_+=(v^(S|~k))+x[9]-343485551|0,_=(_<<21|_>>>11)+S|0,g[0]=k+g[0]|0,g[1]=_+g[1]|0,g[2]=S+g[2]|0,g[3]=v+g[3]|0}function n(g){var x=[],k;for(k=0;k<64;k+=4)x[k>>2]=g.charCodeAt(k)+(g.charCodeAt(k+1)<<8)+(g.charCodeAt(k+2)<<16)+(g.charCodeAt(k+3)<<24);return x}function i(g){var x=[],k;for(k=0;k<64;k+=4)x[k>>2]=g[k]+(g[k+1]<<8)+(g[k+2]<<16)+(g[k+3]<<24);return x}function s(g){var x=g.length,k=[1732584193,-271733879,-1732584194,271733878],_,S,v,C,j,P;for(_=64;_<=x;_+=64)o(k,n(g.substring(_-64,_)));for(g=g.substring(_-64),S=g.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0;_<S;_+=1)v[_>>2]|=g.charCodeAt(_)<<(_%4<<3);if(v[_>>2]|=128<<(_%4<<3),_>55)for(o(k,v),_=0;_<16;_+=1)v[_]=0;return C=x*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),j=parseInt(C[2],16),P=parseInt(C[1],16)||0,v[14]=j,v[15]=P,o(k,v),k}function a(g){var x=g.length,k=[1732584193,-271733879,-1732584194,271733878],_,S,v,C,j,P;for(_=64;_<=x;_+=64)o(k,i(g.subarray(_-64,_)));for(g=_-64<x?g.subarray(_-64):new Uint8Array(0),S=g.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_=0;_<S;_+=1)v[_>>2]|=g[_]<<(_%4<<3);if(v[_>>2]|=128<<(_%4<<3),_>55)for(o(k,v),_=0;_<16;_+=1)v[_]=0;return C=x*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),j=parseInt(C[2],16),P=parseInt(C[1],16)||0,v[14]=j,v[15]=P,o(k,v),k}function u(g){var x="",k;for(k=0;k<4;k+=1)x+=t[g>>k*8+4&15]+t[g>>k*8&15];return x}function c(g){var x;for(x=0;x<g.length;x+=1)g[x]=u(g[x]);return g.join("")}c(s("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(g,x){var k=(g&65535)+(x&65535),_=(g>>16)+(x>>16)+(k>>16);return _<<16|k&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function g(x,k){return x=x|0||0,x<0?Math.max(x+k,0):Math.min(x,k)}ArrayBuffer.prototype.slice=function(x,k){var _=this.byteLength,S=g(x,_),v=_,C,j,P,U;return k!==l&&(v=g(k,_)),S>v?new ArrayBuffer(0):(C=v-S,j=new ArrayBuffer(C),P=new Uint8Array(j),U=new Uint8Array(this,S,C),P.set(U),j)}}();function h(g){return/[\u0080-\uFFFF]/.test(g)&&(g=unescape(encodeURIComponent(g))),g}function d(g,x){var k=g.length,_=new ArrayBuffer(k),S=new Uint8Array(_),v;for(v=0;v<k;v+=1)S[v]=g.charCodeAt(v);return x?S:_}function f(g){return String.fromCharCode.apply(null,new Uint8Array(g))}function m(g,x,k){var _=new Uint8Array(g.byteLength+x.byteLength);return _.set(new Uint8Array(g)),_.set(new Uint8Array(x),g.byteLength),k?_:_.buffer}function $(g){var x=[],k=g.length,_;for(_=0;_<k-1;_+=2)x.push(parseInt(g.substr(_,2),16));return String.fromCharCode.apply(String,x)}function b(){this.reset()}return b.prototype.append=function(g){return this.appendBinary(h(g)),this},b.prototype.appendBinary=function(g){this._buff+=g,this._length+=g.length;var x=this._buff.length,k;for(k=64;k<=x;k+=64)o(this._hash,n(this._buff.substring(k-64,k)));return this._buff=this._buff.substring(k-64),this},b.prototype.end=function(g){var x=this._buff,k=x.length,_,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(_=0;_<k;_+=1)S[_>>2]|=x.charCodeAt(_)<<(_%4<<3);return this._finish(S,k),v=c(this._hash),g&&(v=$(v)),this.reset(),v},b.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},b.prototype.setState=function(g){return this._buff=g.buff,this._length=g.length,this._hash=g.hash,this},b.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},b.prototype._finish=function(g,x){var k=x,_,S,v;if(g[k>>2]|=128<<(k%4<<3),k>55)for(o(this._hash,g),k=0;k<16;k+=1)g[k]=0;_=this._length*8,_=_.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(_[2],16),v=parseInt(_[1],16)||0,g[14]=S,g[15]=v,o(this._hash,g)},b.hash=function(g,x){return b.hashBinary(h(g),x)},b.hashBinary=function(g,x){var k=s(g),_=c(k);return x?$(_):_},b.ArrayBuffer=function(){this.reset()},b.ArrayBuffer.prototype.append=function(g){var x=m(this._buff.buffer,g,!0),k=x.length,_;for(this._length+=g.byteLength,_=64;_<=k;_+=64)o(this._hash,i(x.subarray(_-64,_)));return this._buff=_-64<k?new Uint8Array(x.buffer.slice(_-64)):new Uint8Array(0),this},b.ArrayBuffer.prototype.end=function(g){var x=this._buff,k=x.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,v;for(S=0;S<k;S+=1)_[S>>2]|=x[S]<<(S%4<<3);return this._finish(_,k),v=c(this._hash),g&&(v=$(v)),this.reset(),v},b.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.ArrayBuffer.prototype.getState=function(){var g=b.prototype.getState.call(this);return g.buff=f(g.buff),g},b.ArrayBuffer.prototype.setState=function(g){return g.buff=d(g.buff,!0),b.prototype.setState.call(this,g)},b.ArrayBuffer.prototype.destroy=b.prototype.destroy,b.ArrayBuffer.prototype._finish=b.prototype._finish,b.ArrayBuffer.hash=function(g,x){var k=a(new Uint8Array(g)),_=c(k);return x?$(_):_},b})});var Hh=Gt((JDn,Xir)=>{T();var Ro={VERSION:"1.5.5"};Ro.createElementFactory=function(){return function(){return!0}};Ro.createTagScope=function(){return Ro};Ro.setTimeout=function(l,e){return setTimeout(function(){return e(),Ro.commit()},l)};Ro.setInterval=function(l,e){return setInterval(function(){return e(),Ro.commit()},l)};Ro.clearInterval=function(l){return clearInterval(l)};Ro.clearTimeout=function(l){return clearTimeout(l)};Ro.subclass=function(l,e){for(let t in e){let r;r=e[t],e.hasOwnProperty(t)&&(l[t]=r)}return l.prototype=Object.create(e.prototype),l.__super__=l.prototype.__super__=e.prototype,l.prototype.initialize=l.prototype.constructor=l,l};Ro.iterable=function(l){return l?l.toArray?l.toArray():l:[]};Ro.await=function(l){return l instanceof Array?(console.warn("await (Array) is deprecated - use await Promise.all(Array)"),Promise.all(l)):l&&l.then?l:Promise.resolve(l)};var GXo=/-./g,Gir={};Ro.toCamelCase=function(l){return l.indexOf("-")>=0?l.replace(GXo,function(e){return e.charAt(1).toUpperCase()}):l};Ro.toSetter=function(l){return Gir[l]||(Gir[l]=Ro.toCamelCase("set-"+l))};Ro.indexOf=function(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)};Ro.len=function(l){return l&&(l.len instanceof Function?l.len.call(l):l.length)||0};Ro.prop=function(l,e,t){if(l.defineProperty)return l.defineProperty(e,t)};Ro.attr=function(l,e,t){if(t===void 0&&(t={}),l.defineAttribute)return l.defineAttribute(e,t);let r=Ro.toCamelCase(e),o=Ro.toCamelCase("set-"+e),n=l.prototype;t.dom?(n[r]=function(){return this.dom()[e]},n[o]=function(i){return i!=this[e]()&&(this.dom()[e]=i),this}):(n[r]=function(){return this.getAttribute(e)},n[o]=function(i){return this.setAttribute(e,i),this})};Ro.propDidSet=function(l,e,t,r){let o=e.watch;o instanceof Function?o.call(l,t,r,e):(typeof o=="string"||o instanceof String)&&l[o]&&l[o](t,r,e)};var Yir=function(l,e,t){for(var r,o,n;(r=t)&&(t=t.next);)(o=t.listener)&&(t.path&&o[t.path]?n=e?o[t.path].apply(o,e):o[t.path]():n=e?o.apply(t,e):o.call(t)),t.times&&--t.times<=0&&(r.next=t.next,t.listener=null)};Ro.listen=function(l,e,t,r){var o,n,i;return o=l.__listeners__||(l.__listeners__={}),n=o[e]||(o[e]={}),i=n.tail||(n.tail=n.next={}),i.listener=t,i.path=r,n.tail=i.next={},i};Ro.once=function(l,e,t){var r=Ro.listen(l,e,t);return r.times=1,r};Ro.unlisten=function(l,e,t,r){var o,n,i=l.__listeners__;if(i&&(o=i[e])){for(;(n=o)&&(o=o.next);)if(o==t||o.listener==t){n.next=o.next,o.listener=null;break}}};Ro.emit=function(l,e,t){var r;(r=l.__listeners__)&&(r[e]&&Yir(e,t,r[e]),r.all&&Yir(e,[e,t],r.all))};Ro.observeProperty=function(l,e,t,r,o){return o&&typeof o=="object"&&Ro.unlisten(o,"all",l,t),r&&typeof r=="object"&&Ro.listen(r,"all",l,t),this};Xir.exports=Ro});var Qir=Gt(()=>{T();function YXo(l){return l?l.toArray?l.toArray():l:[]}var nr=Hh(),_m,Jir;Jir=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame,_m=window.requestAnimationFrame,_m||(_m=window.webkitRequestAnimationFrame),_m||(_m=window.mozRequestAnimationFrame),_m||(_m=function(l){return setTimeout(l,1e3/60)});function Df(){var l=this;l._queue=[],l._stage=-1,l._scheduled=!1,l._ticker=function(e){return l._scheduled=!1,l.tick(e)}}Df.prototype.stage=function(l){return this._stage};Df.prototype.setStage=function(l){return this._stage=l,this};Df.prototype.queue=function(l){return this._queue};Df.prototype.setQueue=function(l){return this._queue=l,this};Df.prototype.add=function(l,e){if((e||this._queue.indexOf(l)==-1)&&this._queue.push(l),!this._scheduled)return this.schedule()};Df.prototype.tick=function(l){var e=this._queue;if(this._ts||(this._ts=l),this._dt=l-this._ts,this._ts=l,this._queue=[],this._stage=1,this.before(),e.length)for(let t=0,r=YXo(e),o=r.length,n;t<o;t++)n=r[t],n instanceof Function?n(this._dt,this):n.tick&&n.tick(this._dt,this);return this._stage=2,this.after(),this._stage=this._scheduled?0:-1,this};Df.prototype.schedule=function(){return this._scheduled||(this._scheduled=!0,this._stage==-1&&(this._stage=0),_m(this._ticker)),this};Df.prototype.before=function(){return this};Df.prototype.after=function(){return nr.TagManager&&nr.TagManager.refresh(),this};nr.TICKER=new Df;nr.SCHEDULERS=[];nr.ticker=function(){return nr.TICKER};nr.requestAnimationFrame=function(l){return _m(l)};nr.cancelAnimationFrame=function(l){return Jir(l)};var Kir=0;nr.commit=function(l){Kir++,nr.emit(nr,"commit",l!=null?[l]:void 0),--Kir==0&&nr.TagManager&&nr.TagManager.refresh()};nr.Scheduler=function(e){var t=this;t._id=XXo++,t._target=e,t._marked=!1,t._active=!1,t._marker=function(){return t.mark()},t._ticker=function(r){return t.tick(r)},t._dt=0,t._frame={},t._scheduled=!1,t._timestamp=0,t._ticks=0,t._flushes=0,t.onevent=t.onevent.bind(t)};var XXo=0;nr.Scheduler.event=function(l){return nr.emit(nr,"event",l)};nr.Scheduler.prototype.__raf={watch:"rafDidSet",name:"raf"};nr.Scheduler.prototype.raf=function(l){return this._raf};nr.Scheduler.prototype.setRaf=function(l){var e=this.raf();return l!=e&&(this._raf=l),l!=e&&this.rafDidSet&&this.rafDidSet(l,e,this.__raf),this};nr.Scheduler.prototype.__interval={watch:"intervalDidSet",name:"interval"};nr.Scheduler.prototype.interval=function(l){return this._interval};nr.Scheduler.prototype.setInterval=function(l){var e=this.interval();return l!=e&&(this._interval=l),l!=e&&this.intervalDidSet&&this.intervalDidSet(l,e,this.__interval),this};nr.Scheduler.prototype.__events={watch:"eventsDidSet",name:"events"};nr.Scheduler.prototype.events=function(l){return this._events};nr.Scheduler.prototype.setEvents=function(l){var e=this.events();return l!=e&&(this._events=l),l!=e&&this.eventsDidSet&&this.eventsDidSet(l,e,this.__events),this};nr.Scheduler.prototype.marked=function(l){return this._marked};nr.Scheduler.prototype.setMarked=function(l){return this._marked=l,this};nr.Scheduler.prototype.rafDidSet=function(l){return l&&this._active&&this.requestTick(),this};nr.Scheduler.prototype.intervalDidSet=function(l){return clearInterval(this._intervalId),this._intervalId=null,l&&this._active&&(this._intervalId=setInterval(this.oninterval.bind(this),l)),this};nr.Scheduler.prototype.eventsDidSet=function(l,e){if(this._active&&l&&!e)return nr.listen(nr,"commit",this,"onevent");if(!l&&e)return nr.unlisten(nr,"commit",this,"onevent")};nr.Scheduler.prototype.active=function(){return this._active};nr.Scheduler.prototype.dt=function(){return this._dt};nr.Scheduler.prototype.configure=function(l){var e;return l===void 0&&(l={}),l.raf!=null&&this.setRaf(e=l.raf),l.interval!=null&&this.setInterval(e=l.interval),l.events!=null&&this.setEvents(e=l.events),this};nr.Scheduler.prototype.mark=function(){return this._marked=!0,this._scheduled||this.requestTick(),this};nr.Scheduler.prototype.flush=function(){return this._flushes++,this._target.tick(this),this._marked=!1,this};nr.Scheduler.prototype.tick=function(l,e){return this._ticks++,this._dt=l,e&&(this._scheduled=!1),this.flush(),this._raf&&this._active&&this.requestTick(),this};nr.Scheduler.prototype.requestTick=function(){return this._scheduled||(this._scheduled=!0,nr.TICKER.add(this)),this};nr.Scheduler.prototype.activate=function(l){return l===void 0&&(l=!0),this._active||(this._active=!0,this._commit=this._target.commit,this._target.commit=function(){return this},this._target&&this._target.flag&&this._target.flag("scheduled_"),nr.SCHEDULERS.push(this),this._events&&nr.listen(nr,"commit",this,"onevent"),this._interval&&!this._intervalId&&(this._intervalId=setInterval(this.oninterval.bind(this),this._interval)),l?this.tick(0):this._raf&&this.requestTick()),this};nr.Scheduler.prototype.deactivate=function(){if(this._active){this._active=!1,this._target.commit=this._commit;let l=nr.SCHEDULERS.indexOf(this);l>=0&&nr.SCHEDULERS.splice(l,1),this._events&&nr.unlisten(nr,"commit",this,"onevent"),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._target&&this._target.unflag&&this._target.unflag("scheduled_")}return this};nr.Scheduler.prototype.track=function(){return this._marker};nr.Scheduler.prototype.oninterval=function(){return this.tick(),nr.TagManager.refresh(),this};nr.Scheduler.prototype.onevent=function(l){return!this._events||this._marked?this:(this._events instanceof Function?this._events(l,this)&&this.mark():this._events instanceof Array?this._events.indexOf(l&&l.type||l)>=0&&this.mark():this.mark(),this)}});var tsr=Gt(()=>{T();function esr(l){return l?l.toArray?l.toArray():l:[]}var Xl=Hh();Xl.TagManagerClass=function(){this._inserts=0,this._removes=0,this._mounted=[],this._mountables=0,this._unmountables=0,this._unmounting=0};Xl.TagManagerClass.prototype.mounted=function(){return this._mounted};Xl.TagManagerClass.prototype.insert=function(l,e){this._inserts++,l&&l.mount&&this.regMountable(l)};Xl.TagManagerClass.prototype.remove=function(l,e){return this._removes++};Xl.TagManagerClass.prototype.changes=function(){return this._inserts+this._removes};Xl.TagManagerClass.prototype.mount=function(l){};Xl.TagManagerClass.prototype.refresh=function(l){if(l===void 0&&(l=!1),!(!l&&this.changes()==0))return(this._inserts&&this._mountables>this._mounted.length||l)&&this.tryMount(),(this._removes||l)&&this._mounted.length&&this.tryUnmount(),this._inserts=0,this._removes=0,this};Xl.TagManagerClass.prototype.unmount=function(l){return this};Xl.TagManagerClass.prototype.regMountable=function(l){if(!(l.FLAGS&Xl.TAG_MOUNTABLE))return l.FLAGS|=Xl.TAG_MOUNTABLE,this._mountables++};Xl.TagManagerClass.prototype.tryMount=function(){var l=0,e=document.body,t=e.querySelectorAll(".__mount");for(let r=0,o=esr(t),n=o.length,i;r<n;r++)i=o[r],i&&i._tag&&this._mounted.indexOf(i._tag)==-1&&this.mountNode(i._tag);return this};Xl.TagManagerClass.prototype.mountNode=function(l){this._mounted.indexOf(l)==-1&&(this.regMountable(l),this._mounted.push(l),l.FLAGS|=Xl.TAG_MOUNTED,l.mount&&l.mount())};Xl.TagManagerClass.prototype.tryUnmount=function(){this._unmounting++;var l=[],e=document.body;for(let t=0,r=esr(this._mounted),o=r.length,n;t<o;t++)n=r[t],n&&(document.documentElement.contains(n._dom)||(l.push(n),this._mounted[t]=null));if(this._unmounting--,l.length){this._mounted=this._mounted.filter(function(t){return t&&l.indexOf(t)==-1});for(let t=0,r=l.length,o;t<r;t++)o=l[t],o.FLAGS=o.FLAGS&~Xl.TAG_MOUNTED,o.unmount&&o._dom?o.unmount():o._scheduler&&o.unschedule()}return this}});var QUe=Gt(()=>{T();var r8=Hh();r8.Pointer=function(){return this._button=-1,this._event={x:0,y:0,type:"uninitialized"},this};r8.Pointer.prototype.button=function(){return this._button};r8.Pointer.prototype.touch=function(){return this._touch};r8.Pointer.prototype.update=function(l){return this._event=l,this._dirty=!0,this};r8.Pointer.prototype.process=function(){var l=this._event;if(this._dirty)if(this._prevEvent=l,this._dirty=!1,l.type=="mousedown"){if(this._button=l.button,this._touch&&this._button!=0)return;this._touch&&this._touch.cancel(),this._touch=new r8.Touch(l,this),this._touch.mousedown(l,l)}else l.type=="mousemove"?this._touch&&this._touch.mousemove(l,l):l.type=="mouseup"&&(this._button=-1,this._touch&&this._touch.button()==l.button&&(this._touch.mouseup(l,l),this._touch=null));else this._touch&&this._touch.idle();return this};r8.Pointer.prototype.x=function(){return this._event.x};r8.Pointer.prototype.y=function(){return this._event.y}});var osr=Gt(()=>{T();function Cse(l){return l?l.toArray?l.toArray():l:[]}var It=Hh();QUe();var rsr=["keydown","keyup","keypress","textInput","input","change","submit","focusin","focusout","focus","blur","contextmenu","selectstart","dblclick","selectionchange","mousewheel","wheel","scroll","beforecopy","copy","beforepaste","paste","beforecut","cut","dragstart","drag","dragend","dragenter","dragover","dragleave","dragexit","drop","mouseup","mousedown","mouseenter","mouseleave","mouseout","mouseover","mousemove","transitionstart","transitionend","transitioncancel","animationstart","animationiteration","animationend"];It.EventManager=function(e,t){var r=this;(!t||t.constructor!==Object)&&(t={});var o=t.events!==void 0?t.events:[];r._shimFocusEvents=window.netscape&&e.onfocusin===void 0,r.setRoot(e),r.setListeners([]),r.setDelegators({}),r.setDelegator(function(n){return r.delegate(n),!0});for(let n=0,i=Cse(o),s=i.length;n<s;n++)r.register(i[n]);return r};It.EventManager.prototype.root=function(l){return this._root};It.EventManager.prototype.setRoot=function(l){return this._root=l,this};It.EventManager.prototype.count=function(l){return this._count};It.EventManager.prototype.setCount=function(l){return this._count=l,this};It.EventManager.prototype.__enabled={default:!1,watch:"enabledDidSet",name:"enabled"};It.EventManager.prototype.enabled=function(l){return this._enabled};It.EventManager.prototype.setEnabled=function(l){var e=this.enabled();return l!=e&&(this._enabled=l),l!=e&&this.enabledDidSet&&this.enabledDidSet(l,e,this.__enabled),this};It.EventManager.prototype._enabled=!1;It.EventManager.prototype.listeners=function(l){return this._listeners};It.EventManager.prototype.setListeners=function(l){return this._listeners=l,this};It.EventManager.prototype.delegators=function(l){return this._delegators};It.EventManager.prototype.setDelegators=function(l){return this._delegators=l,this};It.EventManager.prototype.delegator=function(l){return this._delegator};It.EventManager.prototype.setDelegator=function(l){return this._delegator=l,this};var ePe=[];It.EventManager.prototype.enabledDidSet=function(l){return l?this.onenable():this.ondisable(),this};It.EventManager.bind=function(l){if(It.Events)return It.Events.autoregister(l);if(ePe.indexOf(l)==-1&&rsr.indexOf(l)>=0)return ePe.push(l)};It.EventManager.activate=function(){var l;if(It.Events)return It.Events;It.Events=new It.EventManager(It.document(),{events:[]}),It.POINTER||(It.POINTER=new It.Pointer);var e=window&&window.ontouchstart!==void 0;return e&&(It.Events.listen("touchstart",function(t){return It.Touch.ontouchstart(t)}),It.Events.listen("touchmove",function(t){return It.Touch.ontouchmove(t)}),It.Events.listen("touchend",function(t){return It.Touch.ontouchend(t)}),It.Events.listen("touchcancel",function(t){return It.Touch.ontouchcancel(t)})),It.Events.register("click",function(t){if(t.timeStamp-It.Touch.LastTimestamp>It.Touch.TapTimeout){t._imbaSimulatedTap=!0;var r=new It.Event(t);if(r.setType("tap"),r.process(),r._responder&&r.defaultPrevented)return t.preventDefault()}return It.Events.delegate(t)}),It.Events.listen("mousedown",function(t){if(t.timeStamp-It.Touch.LastTimestamp>It.Touch.TapTimeout&&It.POINTER)return It.POINTER.update(t).process()}),It.Events.listen("mouseup",function(t){if(t.timeStamp-It.Touch.LastTimestamp>It.Touch.TapTimeout&&It.POINTER)return It.POINTER.update(t).process()}),It.Events.register(["mousedown","mouseup"]),It.Events.register(ePe),It.Events.setEnabled(!0),It.Events};It.EventManager.prototype.register=function(l,e){if(e===void 0&&(e=!0),l instanceof Array){for(let r=0,o=Cse(l),n=o.length;r<n;r++)this.register(o[r],e);return this}if(this.delegators()[l])return this;var t=this.delegators()[l]=e instanceof Function?e:this.delegator();if(this.enabled())return this.root().addEventListener(l,t,!0)};It.EventManager.prototype.autoregister=function(l){return rsr.indexOf(l)==-1?this:this.register(l)};It.EventManager.prototype.listen=function(l,e,t){return t===void 0&&(t=!0),this.listeners().push([l,e,t]),this.enabled()&&this.root().addEventListener(l,e,t),this};It.EventManager.prototype.delegate=function(l){var e=It.Event.wrap(l);return e.process(),this._shimFocusEvents&&(l.type=="focus"?It.Event.wrap(l).setType("focusin").process():l.type=="blur"&&It.Event.wrap(l).setType("focusout").process()),this};It.EventManager.prototype.create=function(l,e,t){(!t||t.constructor!==Object)&&(t={});var r=t.data!==void 0?t.data:null,o=t.source!==void 0?t.source:null,n=It.Event.wrap({type:l,target:e});return r!=null&&n.setData(r),o&&n.setSource(o),n};It.EventManager.prototype.trigger=function(){return this.create.apply(this,arguments).process()};It.EventManager.prototype.onenable=function(){for(let l=this.delegators(),e,t=0,r=Object.keys(l),o=r.length,n;t<o;t++)n=r[t],e=l[n],this.root().addEventListener(n,e,!0);for(let l=0,e=Cse(this.listeners()),t=e.length,r;l<t;l++)r=e[l],this.root().addEventListener(r[0],r[1],r[2]);return window.addEventListener("hashchange",It.commit),window.addEventListener("popstate",It.commit),this};It.EventManager.prototype.ondisable=function(){for(let l=this.delegators(),e,t=0,r=Object.keys(l),o=r.length,n;t<o;t++)n=r[t],e=l[n],this.root().removeEventListener(n,e,!0);for(let l=0,e=Cse(this.listeners()),t=e.length,r;l<t;l++)r=e[l],this.root().removeEventListener(r[0],r[1],r[2]);return window.removeEventListener("hashchange",It.commit),window.removeEventListener("popstate",It.commit),this}});var nsr=Gt(()=>{T();function KXo(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function JXo(l,e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);l.prototype=Object.create(e.prototype),l.__super__=l.prototype.__super__=e.prototype,l.prototype.initialize=l.prototype.constructor=l}function kx(l){return l?l.toArray?l.toArray():l:[]}var he=Hh();he.CSSKeyMap={};he.TAG_BUILT=1;he.TAG_SETUP=2;he.TAG_MOUNTING=4;he.TAG_MOUNTED=8;he.TAG_SCHEDULED=16;he.TAG_AWAKENED=32;he.TAG_MOUNTABLE=64;he.TAG_AUTOCLASS_GLOBALS=!0;he.TAG_AUTOCLASS_LOCALS=!0;he.TAG_AUTOCLASS_SVG=!0;he.document=function(){return window.document};he.root=function(){return he.getTagForDom(he.document().body)};he.static=function(l,e,t){return l._type=e,l.static=t,l};he.mount=function(l,e){return e||(e=he.document().body),e.appendChild(l.dom()),he.TagManager.insert(l,e),l.scheduler().configure({events:!0}).activate(!1),he.TagManager.refresh(),l};he.createTextNode=function(l){return l&&l.nodeType==3?l:he.document().createTextNode(l)};function Ese(l){return this._target=l,this._cache={},this}Ese.build=function(l){return new Proxy(l,new this(l))};Ese.prototype.setter=function(l,e){var t=this;return function(r,o){return t._target[l]=r,e}};Ese.prototype.get=function(l,e,t){let r=l.V1CACHE||(l.V1CACHE={});if(r[e])return r[e];if(e=="dom")return r[e]=function(){return l};if(e=="tag")return r[e]=function(){return l};if(e=="_tag"||e=="_dom"||e=="_slot_")return l;if(e=="end")return r[e]=function(){return l.end$(),t};if(e.match(/^set[A-Z]/)){let o=e[3].toLowerCase()+e.slice(4);return r[e]=this.setter(o,t)}else return l[e]instanceof Function?l[e]:r[e]=function(){return l[e]};return null};he.Tag=function(e,t){this.setDom(e),this.$=tPe.build(this),this.$up=this._owner_=t,this._tree_=null,this.FLAGS=0,this.build()};he.Tag.buildNode=function(){var l=he.document().createElement(this._nodeType||"div");if(this._classes){var e=this._classes.join(" ");e&&(l.className=e)}return l};he.Tag.createNode=function(){var l=this._protoDom||(this._protoDom=this.buildNode());return l.cloneNode(!1)};he.Tag.build=function(l){return new this(this.createNode(),l)};he.Tag.dom=function(){return this._protoDom||(this._protoDom=this.buildNode())};he.Tag.end=function(){return this.commit(0)};he.Tag.inherit=function(l){if(l._protoDom=null,this._nodeType){if(l._nodeType=this._nodeType,l._classes=this._classes.slice(),l._flagName)return l._classes.push(l._flagName)}else return l._nodeType=l._name,l._flagName=null,l._classes=[]};he.Tag.prototype.optimizeTagStructure=function(){var l=this.constructor;let e=Object.keys(this);e.indexOf("mount")>=0&&(l._classes&&l._classes.indexOf("__mount")==-1&&l._classes.push("__mount"),l._protoDom&&l._protoDom.classList.add("__mount"));for(let t=0,r=kx(e),o=r.length,n;t<o;t++)n=r[t],/^on/.test(n)&&he.EventManager.bind(n.slice(2));return this};he.attr(he.Tag,"accesskey");he.attr(he.Tag,"autocapitalize");he.attr(he.Tag,"contenteditable");he.attr(he.Tag,"contextmenu");he.attr(he.Tag,"dir");he.attr(he.Tag,"draggable");he.attr(he.Tag,"dropzone");he.attr(he.Tag,"hidden");he.attr(he.Tag,"inputmode");he.attr(he.Tag,"itemid");he.attr(he.Tag,"itemprop");he.attr(he.Tag,"itemref");he.attr(he.Tag,"itemscope");he.attr(he.Tag,"itemtype");he.attr(he.Tag,"lang");he.attr(he.Tag,"name");he.attr(he.Tag,"role");he.attr(he.Tag,"slot");he.attr(he.Tag,"spellcheck");he.attr(he.Tag,"tabindex");he.Tag.prototype.title=function(l){return this.getAttribute("title")};he.Tag.prototype.setTitle=function(l){return this.setAttribute("title",l),this};he.attr(he.Tag,"translate");he.Tag.prototype.dom=function(){return this._dom};he.Tag.prototype.setDom=function(l){return l._tag=this,this._dom=this._slot_=l,this};he.Tag.prototype.ref=function(){return this._ref};he.Tag.prototype.root=function(){return this._owner_?this._owner_.root():this};he.Tag.prototype.ref_=function(l){return this.flag(this._ref=l),this};he.Tag.prototype.setData=function(l){return this._data=l,this};he.Tag.prototype.data=function(){return this._data};he.Tag.prototype.bindData=function(l,e,t){return this.setData(t?l[e].apply(l,t):l[e])};he.Tag.prototype.setHtml=function(l){return this.html()!=l&&(this._dom.innerHTML=l),this};he.Tag.prototype.html=function(){return this._dom.innerHTML};he.Tag.prototype.on$=function(l,e,t){let r=this._on_||(this._on_=[]),o=r[l];return l<0&&(o==null?l=r[l]=r.length:l=o,o=r[l]),r[l]=e,o?e.state=o.state:(e.state={context:t},he.EventManager.bind(e[0])),this};he.Tag.prototype.setId=function(l){return l!=null&&(this.dom().id=l),this};he.Tag.prototype.id=function(){return this.dom().id};he.Tag.prototype.setAttribute=function(l,e){var t=this.dom().getAttribute(l);return t==e||(e!=null&&e!==!1?this.dom().setAttribute(l,e):this.dom().removeAttribute(l)),this};he.Tag.prototype.setNestedAttr=function(l,e,t,r){return this[l+"SetAttribute"]?this[l+"SetAttribute"](e,t,r):this.setAttributeNS(l,e,t),this};he.Tag.prototype.setAttributeNS=function(l,e,t){var r=this.getAttributeNS(l,e);return r!=t&&(t!=null&&t!==!1?this.dom().setAttributeNS(l,e,t):this.dom().removeAttributeNS(l,e)),this};he.Tag.prototype.removeAttribute=function(l){return this.dom().removeAttribute(l)};he.Tag.prototype.getAttribute=function(l){return this.dom().getAttribute(l)};he.Tag.prototype.getAttributeNS=function(l,e){return this.dom().getAttributeNS(l,e)};he.Tag.prototype.set=function(l,e,t){let r=he.toSetter(l);return this[r]instanceof Function?this[r](e,t):this._dom.setAttribute(l,e),this};he.Tag.prototype.get=function(l){return this._dom.getAttribute(l)};he.Tag.prototype.setContent=function(l,e){return this.setChildren(l,e),this};he.Tag.prototype.setChildren=function(l,e){return this._tree_=l,this};he.Tag.prototype.setTemplate=function(l){return this._template||this.render==he.Tag.prototype.render&&(this.render=this.renderTemplate),this.template=this._template=l,this};he.Tag.prototype.template=function(){return null};he.Tag.prototype.renderTemplate=function(){var l=this.template();return l!=this&&this.setChildren(l),this};he.Tag.prototype.removeChild=function(l){var e=this.dom(),t=l._slot_||l;return t&&t.parentNode==e&&(he.TagManager.remove(t._tag||t,this),e.removeChild(t)),this};he.Tag.prototype.removeAllChildren=function(){if(this._dom.firstChild)for(var l;l=this._dom.firstChild;)he.TagManager.remove(l._tag||l,this),this._dom.removeChild(l);return this._tree_=this._text_=null,this};he.Tag.prototype.appendChild=function(l){return typeof l=="string"||l instanceof String?this.dom().appendChild(he.document().createTextNode(l)):l&&(this.dom().appendChild(l._slot_||l),he.TagManager.insert(l._tag||l,this)),this};he.Tag.prototype.insertBefore=function(l,e){return(typeof l=="string"||l instanceof String)&&(l=he.document().createTextNode(l)),l&&e&&(this.dom().insertBefore(l._slot_||l,e._slot_||e),he.TagManager.insert(l._tag||l,this)),this};he.Tag.prototype.detachFromParent=function(){return this._slot_==this._dom&&(this._slot_=this._dom._placeholder_||(this._dom._placeholder_=he.document().createComment("node")),this._slot_._tag||(this._slot_._tag=this),this._dom.parentNode&&(he.TagManager.remove(this,this._dom.parentNode),this._dom.parentNode.replaceChild(this._slot_,this._dom))),this};he.Tag.prototype.attachToParent=function(){if(this._slot_!=this._dom){let l=this._slot_;this._slot_=this._dom,l&&l.parentNode&&(he.TagManager.insert(this),l.parentNode.replaceChild(this._dom,l))}return this};he.Tag.prototype.orphanize=function(){var l;return(l=this.parent())&&l.removeChild(this),this};he.Tag.prototype.text=function(l){return this._dom.textContent};he.Tag.prototype.setText=function(l){return this._tree_=l,this._dom.textContent=l==null||this.text()===!1?"":l,this};he.Tag.prototype.dataset=function(l,e){if(l instanceof Object){for(let r,o=0,n=Object.keys(l),i=n.length,s;o<i;o++)s=n[o],r=l[s],this.dataset(s,r);return this}if(arguments.length==2)return this.setAttribute("data-"+l,e),this;if(l)return this.getAttribute("data-"+l);var t=this.dom().dataset;if(!t){t={};for(let r=0,o=kx(this.dom().attributes),n=o.length,i;r<n;r++)i=o[r],i.name.substr(0,5)=="data-"&&(t[he.toCamelCase(i.name.slice(5))]=i.value)}return t};he.Tag.prototype.render=function(){return this};he.Tag.prototype.build=function(){return this};he.Tag.prototype.setup=function(){return this};he.Tag.prototype.commit=function(){return this.beforeRender()!==!1&&this.render(),this};he.Tag.prototype.beforeRender=function(){return this};he.Tag.prototype.tick=function(){return this.beforeRender()!==!1&&this.render(),this};he.Tag.prototype.end=function(){return this.setup(),this.commit(0),this.end=he.Tag.end,this};he.Tag.prototype.$open=function(l){return l!=this._context_&&(this._tree_=null,this._context_=l),this};he.Tag.prototype.synced=function(){return this};he.Tag.prototype.awaken=function(){return this};he.Tag.prototype.flags=function(){return this._dom.classList};he.Tag.prototype.flag=function(l,e){return arguments.length==2?this._dom.classList.contains(l)!=!!e&&this._dom.classList.toggle(l):this._dom.classList.contains(l)||this._dom.classList.add(l),this};he.Tag.prototype.unflag=function(l){return this._dom.classList.remove(l),this};he.Tag.prototype.toggleFlag=function(l){return this._dom.classList.toggle(l),this};he.Tag.prototype.hasFlag=function(l){return this._dom.classList.contains(l)};he.Tag.prototype.flagIf=function(l,e){var t=this._flags_||(this._flags_={});let r=t[l];return e&&!r?(this._dom.classList.add(l),t[l]=!0):r&&!e&&(this._dom.classList.remove(l),t[l]=!1),this};he.Tag.prototype.setFlag=function(l,e){let t=this._namedFlags_||(this._namedFlags_={}),r=t[l];return r!=e&&(r&&this.unflag(r),e&&this.flag(e),t[l]=e),this};he.Tag.prototype.scheduler=function(){return this._scheduler==null?this._scheduler=new he.Scheduler(this):this._scheduler};he.Tag.prototype.schedule=function(l){return l===void 0&&(l={events:!0}),this.scheduler().configure(l).activate(),this};he.Tag.prototype.unschedule=function(){return this._scheduler&&this.scheduler().deactivate(),this};he.Tag.prototype.parent=function(){return he.getTagForDom(this.dom().parentNode)};he.Tag.prototype.children=function(l){let e=[];for(let t=0,r=kx(this._dom.children),o=r.length,n;t<o;t++)n=r[t],e.push(n._tag||he.getTagForDom(n));return e};he.Tag.prototype.querySelector=function(l){return he.getTagForDom(this._dom.querySelector(l))};he.Tag.prototype.querySelectorAll=function(l){var e=[];for(let t=0,r=kx(this._dom.querySelectorAll(l)),o=r.length;t<o;t++)e.push(he.getTagForDom(r[t]));return e};he.Tag.prototype.matches=function(l){var e;if(l instanceof Function)return l(this);if(l.query instanceof Function&&(l=l.query()),e=this._dom.matches||this._dom.matchesSelector||this._dom.webkitMatchesSelector||this._dom.msMatchesSelector||this._dom.mozMatchesSelector)return e.call(this._dom,l)};he.Tag.prototype.closest=function(l){return he.getTagForDom(this._dom.closest(l))};he.Tag.prototype.contains=function(l){return this.dom().contains(l._dom||l)};he.Tag.prototype.log=function(){for(var l=arguments,e=l.length,t=new Array(e>0?e:0);e>0;)t[e-1]=l[--e];return t.unshift(console),Function.prototype.call.apply(console.log,t),this};he.Tag.prototype.css=function(l,e,t){if(l instanceof Object){for(let o,n=0,i=Object.keys(l),s=i.length,a;n<s;n++)a=i[n],o=l[a],this.css(a,o);return this}var r=he.CSSKeyMap[l]||l;if(e==null)this.dom().style.removeProperty(r);else{if(e==null&&arguments.length==1)return this.dom().style[r];r.match(/^--/)?this.dom().style.setProperty(r,e):(typeof e=="number"||e instanceof Number)&&(r.match(/width|height|left|right|top|bottom/)||t&&t.px)?this.dom().style[r]=e+"px":this.dom().style[r]=e}return this};he.Tag.prototype.setStyle=function(l){return this.setAttribute("style",l)};he.Tag.prototype.style=function(){return this.getAttribute("style")};he.Tag.prototype.trigger=function(l,e){return e===void 0&&(e={}),he.Events.trigger(l,this,{data:e})};he.Tag.prototype.focus=function(){return this.dom().focus(),this};he.Tag.prototype.blur=function(){return this.dom().blur(),this};he.Tag.prototype.toString=function(){return this.dom().outerHTML};he.Tag.prototype.initialize=he.Tag;he.SVGTag=function(){return he.Tag.apply(this,arguments)};JXo(he.SVGTag,he.Tag);he.SVGTag.namespaceURI=function(){return"http://www.w3.org/2000/svg"};he.SVGTag.buildNode=function(){var l=he.document().createElementNS(this.namespaceURI(),this._nodeType);if(this._classes){var e=this._classes.join(" ");e&&(l.className.baseVal=e)}return l};he.SVGTag.inherit=function(l){if(l._protoDom=null,this==he.SVGTag)return l._nodeType=l._name,l._classes=[];l._nodeType=this._nodeType;var e=(this._classes||[]).slice(0);return he.TAG_AUTOCLASS_SVG&&l._flagName&&e.push(l._flagName),l._classes=e};he.HTML_TAGS="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" ");he.HTML_TAGS_UNSAFE="article aside header section".split(" ");he.HTML_ATTRS={a:"href target hreflang media download rel type ping referrerpolicy",audio:"autoplay controls crossorigin loop muted preload src",area:"alt coords download href hreflang ping referrerpolicy rel shape target",base:"href target",video:"autoplay buffered controls crossorigin height loop muted preload poster src width playsinline",fieldset:"disabled form name",form:"method action enctype autocomplete target",button:"autofocus type form formaction formenctype formmethod formnovalidate formtarget value name",embed:"height src type width",input:"accept disabled form list max maxlength min minlength pattern required size step type",label:"accesskey for form",img:"alt src srcset crossorigin decoding height importance intrinsicsize ismap referrerpolicy sizes width usemap",link:"rel type href media",iframe:"allow allowfullscreen allowpaymentrequest height importance name referrerpolicy sandbox src srcdoc width frameborder align longdesc scrolling",meta:"property content charset desc http-equiv color-scheme name scheme",map:"name",optgroup:"label",option:"label",output:"for form",object:"type data width height",param:"name type value valuetype",progress:"max",script:"src type async defer crossorigin integrity nonce language nomodule",select:"size form multiple",source:"sizes src srcset type media",textarea:"rows cols minlength maxlength form wrap",track:"default kind label src srclang",td:"colspan rowspan headers",th:"colspan rowspan"};he.HTML_PROPS={input:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",textarea:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",form:"novalidate",fieldset:"disabled",button:"disabled",select:"autofocus disabled required readOnly multiple",option:"disabled selected value",optgroup:"disabled",progress:"value",fieldset:"disabled",canvas:"width height"};var QXo=function(l,e){for(let t,r=0,o=Object.keys(e),n=o.length,i;r<n;r++)i=o[r],t=e[i],l[i]==null?l[i]=t:l[i];return l.prototype=Object.create(e.prototype),l.__super__=l.prototype.__super__=e.prototype,l.prototype.constructor=l,e.inherit&&e.inherit(l),l};function eKo(){return function(l,e){return this.initialize(l,e),this}}he.Tags=function(){};he.Tags.prototype.__clone=function(l){var e=Object.create(this);return e._parent=this,e};he.Tags.prototype.ns=function(l){return this["_"+l.toUpperCase()]||this.defineNamespace(l)};he.Tags.prototype.defineNamespace=function(l){var e=Object.create(this);return e._parent=this,e._ns=l,this["_"+l.toUpperCase()]=e,e};he.Tags.prototype.baseType=function(l,e){return KXo(l,he.HTML_TAGS)>=0?"element":"div"};he.Tags.prototype.defineTag=function(l,e,t,r){var o;r==null&&typeof t=="function"&&(r=t,t=""),t==null&&(t=""),r&&r._nodeType&&(t=r,r=null),this[e]&&console.log("tag already exists?",e);var n,i=e;let s=i.indexOf(":");s>=0&&(n=e.substr(0,s),i=e.substr(s+1),n=="svg"&&!t&&(t="svg:element")),t||(t=this.baseType(e));let a=typeof t=="string"||t instanceof String?this.findTagType(t):t,u=eKo();return u._name=i,u._flagName=null,i[0]=="#"?(he.SINGLETONS[i.slice(1)]=u,this[i]=u):i[0]==i[0].toUpperCase()?he.TAG_AUTOCLASS_LOCALS&&(u._flagName=i):(he.TAG_AUTOCLASS_GLOBALS&&(u._flagName="_"+e.replace(/[_\:]/g,"-")),this[e]=u),QXo(u,a),l&&l.scope&&l.scope.flags()&&(o=u._classes).push.apply(o,l.scope.flags()),r&&(r.call(u,u,u.TAGS||this),u.defined&&u.defined(),this.optimizeTag(u)),u};he.Tags.prototype.extendTag=function(l,e,t,r){r==null&&typeof t=="function"&&(r=t,t=""),t==null&&(t="");var o=typeof e=="string"||e instanceof String?this.findTagType(e):e;return r&&r&&r.call(o,o,o.prototype),o.extended&&o.extended(),this.optimizeTag(o),o};he.Tags.prototype.optimizeTag=function(l){var e;return(e=l.prototype)&&e.optimizeTagStructure&&e.optimizeTagStructure()};he.Tags.prototype.findTagType=function(l){var e,t;if(!l)throw"Expected a valid tag but got falsy type, did you forget to export it?";let r=this[l];if(!r){if(l.substr(0,4)=="svg:")r=this.defineTag(null,l,"svg:element");else if(he.HTML_TAGS.indexOf(l)>=0){if(r=this.defineTag(null,l,"element"),e=he.HTML_ATTRS[l])for(let o=0,n=kx(e.split(" ")),i=n.length;o<i;o++)he.attr(r,n[o]);if(t=he.HTML_PROPS[l])for(let o=0,n=kx(t.split(" ")),i=n.length;o<i;o++)he.attr(r,n[o],{dom:!0})}}return r};he.createElement=function(l,e,t,r){var o=l,n,i;if(l instanceof Function)o=l;else{if(ENV_DEBUG&&!he.TAGS.findTagType(l))throw"cannot find tag-type "+l;o=he.TAGS.findTagType(l)}return e instanceof _x?n=e.par$:r instanceof he.Tag?n=r:n=e&&r!=null?e[r]:e&&e._tag||e,o==null&&globalThis&&globalThis.imba?(i=globalThis.imba.document.createElement(l),i=Ese.build(i)):i=o.build(n),e instanceof _x&&(e.i$++,i.$key=t),e&&t!=null&&(e[t]=i),i};he.createElementFactory=function(l){return l?function(e,t,r,o){var n=he.createElement(e,t,r,o);return n._dom.classList.add("_"+l),n}:he.createElement};he.createTagScope=function(l){return new xx(l)};he.createTagCache=function(l){var e=[];return e._tag=l,e};he.createTagMap=function(l,e,t){var r=t??l._tag,o=new _x(l,e,r);return l[e]=o,o};he.createTagList=function(l,e,t){var r=[];return r._type=4,r._tag=t??l._tag,l[e]=r,r};he.createTagLoopResult=function(l,e,t){var r=[];return r._type=5,r.cache={i$:0},r};function tPe(l){this._tag=l}tPe.build=function(l){var e=[];return e._tag=l,e};function _x(l,e,t){this.cache$=l,this.key$=e,this.par$=t,this.i$=0}_x.prototype.$iter=function(){var l=[];return l._type=5,l.cache=this,l};_x.prototype.$prune=function(l){let e=this.cache$,t=this.key$,r=new _x(e,t,this.par$);for(let o=0,n=kx(l),i=n.length,s;o<i;o++)s=n[o],r[s.key$]=s;return r.i$=l.length,e[t]=r};function xx(l){this._ns=l,this._flags=l?["_"+l]:[]}xx.prototype.ns=function(l){return this._ns};xx.prototype.setNs=function(l){return this._ns=l,this};xx.prototype.flags=function(l){return this._flags};xx.prototype.setFlags=function(l){return this._flags=l,this};xx.prototype.defineTag=function(l,e,t){return t==null&&typeof e=="function"&&(t=e,e=""),e==null&&(e=""),he.TAGS.defineTag({scope:this},l,e,t)};xx.prototype.extendTag=function(l,e){return he.TAGS.extendTag({scope:this},l,e)};he.TagMap=_x;he.TagCache=tPe;he.SINGLETONS={};he.TAGS=new he.Tags;he.TAGS.element=he.TAGS.htmlelement=he.Tag;he.TAGS["svg:element"]=he.SVGTag;he.attr(he.Tag,"is");he.defineTag=function(l,e,t){return t==null&&typeof e=="function"&&(t=e,e=""),e==null&&(e=""),he.TAGS.defineTag({},l,e,t)};he.extendTag=function(l,e){return he.TAGS.extendTag({},l,e)};he.getTagSingleton=function(l){var e,t,r;if(e=he.SINGLETONS[l])return e&&e.Instance?e.Instance:(t=he.document().getElementById(l))?(r=e.Instance=new e(t),r.awaken(t),r):(t=e.createNode(),t.id=l,r=e.Instance=new e(t),r.end().awaken(t),r);if(t=he.document().getElementById(l))return he.getTagForDom(t)};var tKo=typeof SVGElement<"u";he.getTagForDom=function(l){if(!l)return null;if(l._dom)return l;if(l._tag)return l._tag;if(!l.nodeName)return null;var e=l.nodeName.toLowerCase(),t=e,r=he.TAGS;return l.id&&he.SINGLETONS[l.id]?he.getTagSingleton(l.id):(tKo&&l instanceof SVGElement?t=r.findTagType("svg:"+e):he.HTML_TAGS.indexOf(e)>=0?t=r.findTagType(e):t=he.Tag,new t(l,null).awaken(l))};he.Tag});var ssr=Gt(()=>{T();function isr(l){return l?l.toArray?l.toArray():l:[]}var xm=Hh();xm.createTagScope().defineTag("fragment","element",function(l){l.createNode=function(){return xm.document().createDocumentFragment()}});xm.createTagScope().extendTag("html",function(l){l.prototype.parent=function(){return null}});xm.createTagScope().extendTag("canvas",function(l){l.prototype.context=function(e){return e===void 0&&(e="2d"),this.dom().getContext(e)}});function vx(l,e,t){this._node=l,this._path=e,this._args=t,this._args&&(this._setter=xm.toSetter(this._path))}vx.bind=function(l,e,t,r){return(l._data||(l._data=new this(l,t,r))).bind(e,t,r),l};vx.prototype.bind=function(l,e,t){return l!=this._data&&(this._data=l),this};vx.prototype.getFormValue=function(){return this._setter?this._data[this._path]():this._data[this._path]};vx.prototype.setFormValue=function(l){return this._setter?this._data[this._setter](l):this._data[this._path]=l};var rPe=function(l){return l&&l.splice&&l.sort},rKo=function(l,e){let t=l.length,r=0;if(t!=e.length)return!1;for(;r++<t;)if(l[r]!=e[r])return!1;return!0};xm.createTagScope().extendTag("input",function(l){l.prototype.lazy=function(e){return this._lazy},l.prototype.setLazy=function(e){return this._lazy=e,this},l.prototype.number=function(e){return this._number},l.prototype.setNumber=function(e){return this._number=e,this},l.prototype.bindData=function(e,t,r){return vx.bind(this,e,t,r),this},l.prototype.checked=function(){return this._dom.checked},l.prototype.setChecked=function(e){return!!e!=this._dom.checked&&(this._dom.checked=!!e),this},l.prototype.setValue=function(e,t){return(this._localValue==null||t==null)&&(this.dom().value=this._value=e,this._localValue=void 0),this},l.prototype.setType=function(e){return this.dom().type=this._type=e,this},l.prototype.value=function(){let e=this._dom.value;return this._number&&e?parseFloat(e):e},l.prototype.oninput=function(e){let t=this._dom.value;this._localValue=t,this._data&&!this.lazy()&&this.type()!="radio"&&this.type()!="checkbox"&&this._data.setFormValue(this.value(),this)},l.prototype.onchange=function(e){if(this._modelValue=this._localValue=void 0,!!this.data())if(this.type()=="radio"||this.type()=="checkbox"){let t=this.checked(),r=this._data.getFormValue(this),o=this._value!=null?this._value:this.value();if(this.type()=="radio")return this._data.setFormValue(o,this);if(this.dom().value=="on"||this.dom().value==null)return this._data.setFormValue(!!t,this);if(rPe(r)){let n=r.indexOf(o);if(t&&n==-1)return r.push(o);if(!t&&n>=0)return r.splice(n,1)}else return this._data.setFormValue(o,this)}else return this._data.setFormValue(this.value())},l.prototype.onblur=function(e){return this._localValue=void 0},l.prototype.end=function(){if(this._localValue!==void 0||!this._data)return this;let e=this._data.getFormValue(this);if(e===this._modelValue)return this;if(rPe(e)||(this._modelValue=e),this.type()=="radio"||this.type()=="checkbox"){let t=this._value,r=rPe(e)?e.indexOf(t)>=0:this.dom().value=="on"||this.dom().value==null?!!e:e==this._value;this.setChecked(r)}else this._dom.value=e;return this}});xm.createTagScope().extendTag("textarea",function(l){l.prototype.lazy=function(e){return this._lazy},l.prototype.setLazy=function(e){return this._lazy=e,this},l.prototype.bindData=function(e,t,r){return vx.bind(this,e,t,r),this},l.prototype.setValue=function(e,t){return(this._localValue==null||t==null)&&(this.dom().value=e,this._localValue=void 0),this},l.prototype.oninput=function(e){let t=this._dom.value;if(this._localValue=t,this._data&&!this.lazy())return this._data.setFormValue(this.value(),this)},l.prototype.onchange=function(e){if(this._localValue=void 0,this._data)return this._data.setFormValue(this.value(),this)},l.prototype.onblur=function(e){return this._localValue=void 0},l.prototype.render=function(){if(!(this._localValue!=null||!this._data)){if(this._data){let e=this._data.getFormValue(this);this._dom.value=e??""}return this}}});xm.createTagScope().extendTag("option",function(l){l.prototype.setValue=function(e){return e!=this._value&&(this.dom().value=this._value=e),this},l.prototype.value=function(){return this._value||this.dom().value}});xm.createTagScope().extendTag("select",function(l){l.prototype.bindData=function(e,t,r){return vx.bind(this,e,t,r),this},l.prototype.setValue=function(e,t){let r=this._value;return this._value=e,t||this.syncValue(e),this},l.prototype.syncValue=function(e){let t=this._syncValue;if(this.multiple()&&e instanceof Array){if(t instanceof Array&&rKo(t,e))return this;e=e.slice()}if(this._syncValue=e,typeof e=="object"){let r=this.multiple()&&e instanceof Array;for(let o=0,n=isr(this.dom().options),i=n.length,s;o<i;o++){s=n[o];let a=s._tag?s._tag.value():s.value;if(r)s.selected=e.indexOf(a)>=0;else if(e==a){this.dom().selectedIndex=o;break}}}else this.dom().value=e;return this},l.prototype.value=function(){if(this.multiple()){let e=[];for(let t=0,r=isr(this.dom().selectedOptions),o=r.length,n;t<o;t++)n=r[t],e.push(n._tag?n._tag.value():n.value);return e}else{let e=this.dom().selectedOptions[0];return e?e._tag?e._tag.value():e.value:null}},l.prototype.onchange=function(e){if(this._data)return this._data.setFormValue(this.value(),this)},l.prototype.end=function(){return this._data&&this.setValue(this._data.getFormValue(this),1),this._value!=this._syncValue&&this.syncValue(this._value),this}})});var lsr=Gt(()=>{T();function o8(l){return l?l.toArray?l.toArray():l:[]}var Et=Hh();Et.Touch=function(e,t){return this.setEvent(e),this.setData({}),this.setActive(!0),this._button=e&&e.button||0,this._suppress=!1,this._captured=!1,this.setBubble(!1),t=t,this.setUpdates(0),this};Et.Touch.LastTimestamp=0;Et.Touch.TapTimeout=50;var oKo=[],Ase=0,jse={};Et.Touch.count=function(){return Ase};Et.Touch.lookup=function(l){return l&&(l.__touch__||jse[l.identifier])};Et.Touch.release=function(l,e){var t,r;t=jse[l.identifier],delete jse[l.identifier],r=l.__touch__,delete l.__touch__};Et.Touch.ontouchstart=function(l){for(let t=0,r=o8(l.changedTouches),o=r.length,n;t<o;t++)if(n=r[t],!this.lookup(n)){var e=jse[n.identifier]=new this(l);n.__touch__=e,oKo.push(e),Ase++,e.touchstart(l,n)}return this};Et.Touch.ontouchmove=function(l){var e;for(let t=0,r=o8(l.changedTouches),o=r.length,n;t<o;t++)n=r[t],(e=this.lookup(n))&&e.touchmove(l,n);return this};Et.Touch.ontouchend=function(l){var e;for(let t=0,r=o8(l.changedTouches),o=r.length,n;t<o;t++)n=r[t],(e=this.lookup(n))&&(e.touchend(l,n),this.release(n,e),Ase--);return this};Et.Touch.ontouchcancel=function(l){var e;for(let t=0,r=o8(l.changedTouches),o=r.length,n;t<o;t++)n=r[t],(e=this.lookup(n))&&(e.touchcancel(l,n),this.release(n,e),Ase--);return this};Et.Touch.onmousedown=function(l){return this};Et.Touch.onmousemove=function(l){return this};Et.Touch.onmouseup=function(l){return this};Et.Touch.prototype.phase=function(l){return this._phase};Et.Touch.prototype.setPhase=function(l){return this._phase=l,this};Et.Touch.prototype.active=function(l){return this._active};Et.Touch.prototype.setActive=function(l){return this._active=l,this};Et.Touch.prototype.event=function(l){return this._event};Et.Touch.prototype.setEvent=function(l){return this._event=l,this};Et.Touch.prototype.pointer=function(l){return this._pointer};Et.Touch.prototype.setPointer=function(l){return this._pointer=l,this};Et.Touch.prototype.target=function(l){return this._target};Et.Touch.prototype.setTarget=function(l){return this._target=l,this};Et.Touch.prototype.handler=function(l){return this._handler};Et.Touch.prototype.setHandler=function(l){return this._handler=l,this};Et.Touch.prototype.updates=function(l){return this._updates};Et.Touch.prototype.setUpdates=function(l){return this._updates=l,this};Et.Touch.prototype.suppress=function(l){return this._suppress};Et.Touch.prototype.setSuppress=function(l){return this._suppress=l,this};Et.Touch.prototype.data=function(l){return this._data};Et.Touch.prototype.setData=function(l){return this._data=l,this};Et.Touch.prototype.__bubble={chainable:!0,name:"bubble"};Et.Touch.prototype.bubble=function(l){return l!==void 0?(this.setBubble(l),this):this._bubble};Et.Touch.prototype.setBubble=function(l){return this._bubble=l,this};Et.Touch.prototype.timestamp=function(l){return this._timestamp};Et.Touch.prototype.setTimestamp=function(l){return this._timestamp=l,this};Et.Touch.prototype.gestures=function(l){return this._gestures};Et.Touch.prototype.setGestures=function(l){return this._gestures=l,this};Et.Touch.prototype.capture=function(){return this._captured=!0,this._event&&this._event.stopPropagation(),this._selblocker||(this._selblocker=function(l){return l.preventDefault()},Et.document().addEventListener("selectstart",this._selblocker,!0)),this};Et.Touch.prototype.isCaptured=function(){return!!this._captured};Et.Touch.prototype.extend=function(l){return this._gestures||(this._gestures=[]),this._gestures.push(l),this};Et.Touch.prototype.redirect=function(l){return this._redirect=l,this};Et.Touch.prototype.suppress=function(){return this._active=!1,this};Et.Touch.prototype.setSuppress=function(l){return console.warn("Imba.Touch#suppress= is deprecated"),this._supress=l,this};Et.Touch.prototype.touchstart=function(l,e){return this._event=l,this._touch=e,this._button=0,this._x=e.clientX,this._y=e.clientY,this.began(),this.update(),l&&this.isCaptured()&&l.preventDefault(),this};Et.Touch.prototype.touchmove=function(l,e){return this._event=l,this._x=e.clientX,this._y=e.clientY,this.update(),l&&this.isCaptured()&&l.preventDefault(),this};Et.Touch.prototype.touchend=function(l,e){if(this._event=l,this._x=e.clientX,this._y=e.clientY,this.ended(),Et.Touch.LastTimestamp=l.timeStamp,this._maxdr<20){var t=new Et.Event(l);t.setType("tap"),t.process()}return l&&this.isCaptured()&&l.preventDefault(),this};Et.Touch.prototype.touchcancel=function(l,e){return this.cancel()};Et.Touch.prototype.mousedown=function(l,e){var t=this;return t._event=l,t._button=l.button,t._x=e.clientX,t._y=e.clientY,t.began(),t.update(),t._mousemove=function(r){return t.mousemove(r,r)},Et.document().addEventListener("mousemove",t._mousemove,!0),t};Et.Touch.prototype.mousemove=function(l,e){return this._x=e.clientX,this._y=e.clientY,this._event=l,this.isCaptured()&&l.preventDefault(),this.update(),this.move(),this};Et.Touch.prototype.mouseup=function(l,e){return this._x=e.clientX,this._y=e.clientY,this.ended(),this};Et.Touch.prototype.idle=function(){return this.update()};Et.Touch.prototype.began=function(){this._timestamp=Date.now(),this._maxdr=this._dr=0,this._x0=this._x,this._y0=this._y;var l=this.event().target,e=null;for(this._sourceTarget=l&&Et.getTagForDom(l);l&&(e=Et.getTagForDom(l),!(e&&e.ontouchstart&&(this._bubble=!1,this.setTarget(e),this.target().ontouchstart(this),!this._bubble)));)l=l.parentNode;return this._updates++,this};Et.Touch.prototype.update=function(){var l;if(!this._active||this._cancelled)return this;var e=Math.sqrt(this.dx()*this.dx()+this.dy()*this.dy());if(e>this._dr&&(this._maxdr=e),this._dr=e,this._redirect&&(this._target&&this._target.ontouchcancel&&this._target.ontouchcancel(this),this.setTarget(this._redirect),this._redirect=null,this.target().ontouchstart&&this.target().ontouchstart(this),this._redirect))return this.update();if(this._updates++,this._gestures)for(let t=0,r=o8(this._gestures),o=r.length;t<o;t++)r[t].ontouchupdate(this);return(l=this.target())&&l.ontouchupdate&&l.ontouchupdate(this),this._redirect&&this.update(),this};Et.Touch.prototype.move=function(){var l;if(!this._active||this._cancelled)return this;if(this._gestures)for(let e=0,t=o8(this._gestures),r=t.length,o;e<r;e++)o=t[e],o.ontouchmove&&o.ontouchmove(this,this._event);return(l=this.target())&&l.ontouchmove&&l.ontouchmove(this,this._event),this};Et.Touch.prototype.ended=function(){var l;if(!this._active||this._cancelled)return this;if(this._updates++,this._gestures)for(let e=0,t=o8(this._gestures),r=t.length;e<r;e++)t[e].ontouchend(this);return(l=this.target())&&l.ontouchend&&l.ontouchend(this),this.cleanup_(),this};Et.Touch.prototype.cancel=function(){return this._cancelled||(this._cancelled=!0,this.cancelled(),this.cleanup_()),this};Et.Touch.prototype.cancelled=function(){var l;if(!this._active)return this;if(this._cancelled=!0,this._updates++,this._gestures)for(let e=0,t=o8(this._gestures),r=t.length,o;e<r;e++)o=t[e],o.ontouchcancel&&o.ontouchcancel(this);return(l=this.target())&&l.ontouchcancel&&l.ontouchcancel(this),this};Et.Touch.prototype.cleanup_=function(){return this._mousemove&&(Et.document().removeEventListener("mousemove",this._mousemove,!0),this._mousemove=null),this._selblocker&&(Et.document().removeEventListener("selectstart",this._selblocker,!0),this._selblocker=null),this};Et.Touch.prototype.dr=function(){return this._dr};Et.Touch.prototype.dx=function(){return this._x-this._x0};Et.Touch.prototype.dy=function(){return this._y-this._y0};Et.Touch.prototype.x0=function(){return this._x0};Et.Touch.prototype.y0=function(){return this._y0};Et.Touch.prototype.x=function(){return this._x};Et.Touch.prototype.y=function(){return this._y};Et.Touch.prototype.tx=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._x-this._targetBox.left};Et.Touch.prototype.ty=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._y-this._targetBox.top};Et.Touch.prototype.button=function(){return this._button};Et.Touch.prototype.sourceTarget=function(){return this._sourceTarget};Et.Touch.prototype.elapsed=function(){return Date.now()-this._timestamp};Et.TouchGesture=function(){};Et.TouchGesture.prototype.__active={default:!1,name:"active"};Et.TouchGesture.prototype.active=function(l){return this._active};Et.TouchGesture.prototype.setActive=function(l){return this._active=l,this};Et.TouchGesture.prototype._active=!1;Et.TouchGesture.prototype.ontouchstart=function(l){return this};Et.TouchGesture.prototype.ontouchupdate=function(l){return this};Et.TouchGesture.prototype.ontouchend=function(l){return this}});var csr=Gt(()=>{T();function usr(l){return l?l.toArray?l.toArray():l:[]}var br=Hh(),asr={esc:27,tab:9,enter:13,space:32,up:38,down:40},_l=br.Tag.prototype;_l.stopModifier=function(l){return l.stop()||!0};_l.preventModifier=function(l){return l.prevent()||!0};_l.silenceModifier=function(l){return l.silence()||!0};_l.bubbleModifier=function(l){return l.bubble(!0)||!0};_l.ctrlModifier=function(l){return l.event().ctrlKey==!0};_l.altModifier=function(l){return l.event().altKey==!0};_l.shiftModifier=function(l){return l.event().shiftKey==!0};_l.metaModifier=function(l){return l.event().metaKey==!0};_l.keyModifier=function(l,e){return e.keyCode()?e.keyCode()==l:!0};_l.delModifier=function(l){return l.keyCode()?l.keyCode()==8||l.keyCode()==46:!0};_l.selfModifier=function(l){return l.event().target==this._dom};_l.leftModifier=function(l){return l.button()!=null?l.button()===0:_l.keyModifier(37,l)};_l.rightModifier=function(l){return l.button()!=null?l.button()===2:_l.keyModifier(39,l)};_l.middleModifier=function(l){return l.button()!=null?l.button()===1:!0};_l.getHandler=function(l,e){if(this[l])return this;if(this._owner_&&this._owner_.getHandler)return this._owner_.getHandler(l,e)};br.Event=function(e){this.setEvent(e),this._bubble=!0};br.Event.prototype.event=function(l){return this._event};br.Event.prototype.setEvent=function(l){return this._event=l,this};br.Event.prototype.prefix=function(l){return this._prefix};br.Event.prototype.setPrefix=function(l){return this._prefix=l,this};br.Event.prototype.source=function(l){return this._source};br.Event.prototype.setSource=function(l){return this._source=l,this};br.Event.prototype.data=function(l){return this._data};br.Event.prototype.setData=function(l){return this._data=l,this};br.Event.prototype.responder=function(l){return this._responder};br.Event.prototype.setResponder=function(l){return this._responder=l,this};br.Event.wrap=function(l){return new this(l)};br.Event.prototype.setType=function(l){return this._type=l,this};br.Event.prototype.type=function(){return this._type||this.event().type};br.Event.prototype.native=function(){return this._event};br.Event.prototype.name=function(){return this._name||(this._name=this.type().toLowerCase().replace(/\:/g,""))};br.Event.prototype.bubble=function(l){return l!=null?(this.setBubble(l),this):this._bubble};br.Event.prototype.setBubble=function(l){return this._bubble=l,this};br.Event.prototype.stop=function(){return this.setBubble(!1),this};br.Event.prototype.stopPropagation=function(){return this.stop()};br.Event.prototype.halt=function(){return this.stop()};br.Event.prototype.prevent=function(){return this.event().preventDefault?this.event().preventDefault():this.event().defaultPrevented=!0,this.defaultPrevented=!0,this};br.Event.prototype.preventDefault=function(){return console.warn("Event#preventDefault is deprecated - use Event#prevent"),this.prevent()};br.Event.prototype.isPrevented=function(){return this.event()&&this.event().defaultPrevented};br.Event.prototype.cancel=function(){return console.warn("Event#cancel is deprecated - use Event#prevent"),this.prevent()};br.Event.prototype.silence=function(){return this._silenced=!0,this};br.Event.prototype.isSilenced=function(){return!!this._silenced};br.Event.prototype.target=function(){return br.getTagForDom(this.event()._target||this.event().target)};br.Event.prototype.responder=function(){return this._responder};br.Event.prototype.redirect=function(l){return this._redirect=l,this};br.Event.prototype.processHandlers=function(l,e){let t=1,r=e.length,o=this._bubble,n=e.state||(e.state={}),i;for(o&&(this._bubble=1);t<r;){let s=!1,a=e[t++],u=null,c=l,h=!1;if(a instanceof Array&&(u=a.slice(1),h=!0,a=a[0]),typeof a=="string"){asr[a]&&(u=[asr[a]],a="key");let d=a+"Modifier";l[d]&&(s=!0,u=(u||[]).concat([this,n]),a=l[d])}if(typeof a=="string"){let d=l,f=null,m=n.context;m&&(m.getHandler instanceof Function&&(m=m.getHandler(a,this)),m[a]instanceof Function&&(a=f=m[a],c=m)),f||console.warn("event "+this.type()+": could not find '"+a+"' in context",m)}if(a instanceof Function){if(h){for(let f=0,m=usr(u),$=m.length,b;f<$;f++)if(b=m[f],typeof b=="string"&&b[0]=="~"&&b[1]=="$"){let g=b.slice(2);g=="event"?u[f]=this:this[g]instanceof Function?u[f]=this[g]():l[g]instanceof Function?u[f]=l[g]():console.warn("Missing special handler $"+g)}}let d=a.apply(c,u||[this]);if(s||this._responder||(this._responder=l),d==!1)break;d&&!this._silenced&&d.then instanceof Function&&d.then(br.commit)}}return this._bubble===1&&(this._bubble=o),null};br.Event.prototype.process=function(){for(var l=this.name(),e="on"+(this._prefix||"")+l,t=null,r=this.event()._target||this.event().target,o=r._responder||r,n,i;o;){this._redirect=null;let s=o._dom?o:o._tag;if(s){if(i=s._on_){for(let a=0,u=usr(i),c=u.length,h;a<c;a++){if(h=u[a],!h)continue;let d=h[0];l==h[0]&&this.bubble()&&this.processHandlers(s,h)}if(!this.bubble())break}this.bubble()&&s[e]instanceof Function&&(this._responder||(this._responder=s),this._silenced=!1,n=t?s[e].apply(s,t):s[e](this,this.data())),s.onevent&&s.onevent(this)}if(!(this.bubble()&&(o=this._redirect||(s?s.parent():o.parentNode))))break}return this.processed(),n&&n.then instanceof Function&&n.then(this.processed.bind(this)),this};br.Event.prototype.processed=function(){return!this._silenced&&this._responder&&(br.emit(br,"event",[this]),br.commit(this.event())),this};br.Event.prototype.x=function(){return this.native().x};br.Event.prototype.y=function(){return this.native().y};br.Event.prototype.button=function(){return this.native().button};br.Event.prototype.keyCode=function(){return this.native().keyCode};br.Event.prototype.ctrl=function(){return this.native().ctrlKey};br.Event.prototype.alt=function(){return this.native().altKey};br.Event.prototype.shift=function(){return this.native().shiftKey};br.Event.prototype.meta=function(){return this.native().metaKey};br.Event.prototype.key=function(){return this.native().key};br.Event.prototype.which=function(){return this.event().which}});var msr=Gt(()=>{T();function TI(l){return l?l.toArray?l.toArray():l:[]}var UI={},OI=Hh(),jI=function(l,e,t){if(e instanceof Array)for(let r=0,o=TI(e),n=o.length;r<n;r++)jI(l,o[r],t);else if(e&&e._slot_)l.removeChild(e);else if(e!=null){let r=t?t.nextSibling:l._dom.firstChild;if(r instanceof Text&&r.textContent==e)l.removeChild(r);else throw"cannot remove string"}return t},PI=function(l,e){if(e instanceof Array){let t=0,r=e.taglen,o=r!=null?e.domlen=r:e.length;for(;t<o;)PI(l,e[t++])}else e&&e._dom?l.appendChild(e):e!=null&&e!==!1&&l.appendChild(OI.createTextNode(e))},psr=function(l,e,t){if(e instanceof Array){let r=0,o=e.taglen,n=o!=null?e.domlen=o:e.length;for(;r<n;)psr(l,e[r++],t)}else e&&e._dom?l.insertBefore(e,t):e!=null&&e!==!1&&l.insertBefore(OI.createTextNode(e),t);return t};UI.insertNestedAfter=function(l,e,t){var r=t?t.nextSibling:l._dom.firstChild;return r?(psr(l,e,r),r.previousSibling):(PI(l,e),l._dom.lastChild)};var dsr=function(l,e,t,r){var o=e.length,n=e[o-1],i=[],s=[],a=[],u=0,c=0,h=!1,d;for(let x=0,k=TI(t),_=k.length,S;x<_;x++){if(S=k[x],S&&S.nodeType==3?(d=e.indexOf(S.textContent),d>=0&&(e[d]=S),h=!0):d=e.indexOf(S),i.push(d),d==-1){l.removeChild(S),s.push(-1),a.push(-1);continue}for(var f=i.length-2;f>=0;)if(i[f]==-1)f--;else{if(d>i[f])break;f=s[f]}s.push(f);var m=f==-1?0:a[f]+1;m>u&&(u=m,c=x),a.push(m)}for(var $=[],b=i.length-1;b>=0;)b==c&&i[b]!=-1&&($[i[b]]=!0,c=s[c]),b-=1;for(let x=0,k=TI(e),_=k.length,S;x<_;x++){if(S=k[x],!$[x]){S&&S._dom||(S=e[x]=OI.createTextNode(S));var g=e[x-1];UI.insertNestedAfter(l,S,g&&g._slot_||g||r)}r=S._slot_||r&&r.nextSibling||l._dom.firstChild}return n&&n._slot_||r},nKo=function(l,e,t,r){var o=e.length,n=o,i=e[o-1];if(o==t.length&&e[0]===t[0])for(;n--&&e[n]===t[n];);return n==-1?i&&i._slot_||i||r:dsr(l,e,t,r)},hsr=function(l,e,t,r){for(var o=e.length,n=t.length,i=e.cache.i$,s=0,a=o-n;s<n&&s<o&&e[s]===t[s];)s++;if(i>1e3&&i-o>500&&e.cache.$prune(e),a>0&&s==n){for(;s<o;)l.appendChild(e[s++]);return}else if(a>0){let u=o;for(;u>s&&e[u-1]===t[u-1-a];)u--;if(a==u-s){let c=t[s]._slot_;for(;s<u;)l.insertBefore(e[s++],c);return}}else if(a<0&&s==o){for(;s<n;)l.removeChild(t[s++]);return}else if(a<0){let u=n;for(;u>s&&e[u-1+a]===t[u-1];)u--;if(a==s-u){for(;s<u;)l.removeChild(t[s++]);return}}else if(s==o)return;return dsr(l,e,t,r)},fsr=function(l,e,t,r){var o=e.taglen,n=e.domlen||0,i=o?e[o-1]:null;if(n>o)for(;n>o;){var s=e[--n];l.removeChild(s._slot_)}else if(o>n){let a=n?e[n-1]._slot_:r,u=a?a.nextSibling:l._dom.firstChild;for(;n<o;){let c=e[n++];u?l.insertBefore(c._slot_,u):l.appendChild(c._slot_)}}return e.domlen=o,i?i._slot_:r},Use=function(l,e,t,r){var o=e==null||e===!1,n=t==null||t===!1;if(e===t)return o?r:e._slot_?e._slot_:e instanceof Array&&e.taglen!=null?fsr(l,e,t,r):r?r.nextSibling:l._dom.firstChild;if(e instanceof Array){if(t instanceof Array){let i=e.static;if(i||t.static)if(i==t.static){for(let s=0,a=TI(e),u=a.length;s<u;s++)r=Use(l,a[s],t[s],r);return r}else jI(l,t,r);else return nKo(l,e,t,r)}else n||(t._slot_?l.removeChild(t):l.removeChild(r?r.nextSibling:l._dom.firstChild));return UI.insertNestedAfter(l,e,r)}else{if(!o&&e._slot_)return n||jI(l,t,r),UI.insertNestedAfter(l,e,r);if(o)return n||jI(l,t,r),r;{let i;if(t instanceof Array)jI(l,t,r);else if(t&&t._slot_)l.removeChild(t);else if(!n&&(i=r?r.nextSibling:l._dom.firstChild,i instanceof Text&&i.textContent!=e))return i.textContent=e,i;return UI.insertNestedAfter(l,e,r)}}};OI.createTagScope().extendTag("element",function(l){l.prototype.setChildren=function(e,t){var r=this._tree_;if(e===r&&(!e||e.taglen==null))return this;if(!r&&t!=3)this.removeAllChildren(),PI(this,e);else if(t==1){let o=null;for(let n=0,i=TI(e),s=i.length;n<s;n++)o=Use(this,i[n],r[n],o)}else{if(t==2)return this;if(t==3){if(typeof e!="object")return this.setText(e);if(e&&e._dom)this.removeAllChildren(),this.appendChild(e);else if(e instanceof Array)e._type==5&&r&&r._type==5?hsr(this,e,r,null):r instanceof Array?Use(this,e,r,null):(this.removeAllChildren(),PI(this,e));else return this.setText(e)}else t==4?fsr(this,e,r,null):t==5?hsr(this,e,r,null):e instanceof Array&&r instanceof Array?Use(this,e,r,null):(this.removeAllChildren(),PI(this,e))}return this._tree_=e,this},l.prototype.content=function(){return this._content||this.children().toArray()},l.prototype.setText=function(e){if(e!=this._tree_){var t=e===null||e===!1?"":e;(this._text_||this._dom).textContent=t,this._text_||(this._text_=this._dom.firstChild),this._tree_=e}return this}});var oPe=OI.Tag.prototype;oPe.setContent=oPe.setChildren;var iKo=typeof navigator<"u"&&(navigator.vendor||"").indexOf("Apple")==0;iKo&&(oPe.setText=function(l){return l!=this._tree_&&(this._dom.textContent=l===null||l===!1?"":l,this._tree_=l),this})});var ysr=Gt(()=>{T();var $sr=Hh();tsr();osr();$sr.TagManager=new $sr.TagManagerClass;nsr();ssr();QUe();lsr();csr();msr()});var ksr=Gt((UNn,gsr)=>{T();var RI=Hh(),bsr=!1,vm=typeof window<"u"?window:typeof globalThis<"u"?globalThis:null;vm&&vm.Imba?(console.warn("Imba v"+vm.Imba.VERSION+" is already loaded."),RI=vm.Imba):vm&&(vm.Imba=RI,bsr=!0,vm.define&&vm.define.amd&&vm.define("imba",[],function(){return RI}));gsr.exports=RI;Qir(),ysr(),bsr&&RI.EventManager.activate()});var An=Gt((TNn,_sr)=>{T();_sr.exports=ksr()});var Sx=Gt(wx=>{T();function Csr(l){return l?l.toArray?l.toArray():l:[]}var Pse={},xsr,vsr,RNn=wx.Triggers={"#":{type:"h1"},"##":{type:"h2"},"###":{type:"h3"},"####":{type:"h4"},"#####":{type:"h5"},"######":{type:"h6"},"*":{type:"li"},"1.":{type:"oli"},"-":{type:"li"},">":{type:"blockquote",wrap:!0},"/code":{type:"pre"},"---":{type:"hr"},"/js":{type:"pre",language:"javascript"},"/imba":{type:"pre",language:"imba"},"/html":{type:"pre",language:"html"},"/css":{type:"pre",language:"css"},"/rust":{type:"pre",language:"rust"}};Pse.getLanguages=function(){let l={};return l};var wsr=wx.Languages=Pse.getLanguages(),MNn=wx.Schema={h1:{next:"p",empty:{type:"p"}},h2:{next:"p",empty:{type:"p"}},h3:{next:"p",empty:{type:"p"}},h4:{next:"p",empty:{type:"p"}},h5:{next:"p",empty:{type:"p"}},h6:{next:"p",empty:{type:"p"}},hr:{next:"p",empty:{type:"p"}},bookmark:{next:"p",empty:{type:"p"}},blockquote:{next:"p",children:["*"]},li:{next:"li",children:["li","oli","*"],empty:{type:"p"}},oli:{next:"oli",children:["li","oli","*"],empty:{type:"p"}},todo:{next:{type:"todo",checked:!1},children:["todo","*"],empty:{type:"p"}},code:{next:"p",empty:{type:"p"}},default:{}},ps=wx.Actions=[{name:"Text",desc:"Plain text.",action:"block",params:[{type:"p"}]},{name:"Header",desc:"A large header with margin.",action:"block",params:[{type:"h1"}],shortcut:"#"},{name:"Sub Header",desc:"A smaller header",action:"block",params:[{type:"h2"}],shortcut:"##"},{name:"Bulleted List",desc:"Create a simple bulleted list",shortcut:"*",action:"block",params:[{type:"li"}]},{name:"Quote",desc:"Capture a quote.",action:"block",params:[{type:"quote"}]},{name:"Separator",desc:"Start new section.",action:"block",shortcut:"---",params:[{type:"hr"}]},{name:"Image",desc:"Upload or embed",action:"block",params:[{type:"image",size:"narrow"}]},{name:"Code",category:"code",action:"block",params:[{type:"code",language:"txt"}]},{name:"Select all",category:"mod",shortcut:"cmd+a",action:"select_all"},{name:"Undo",category:"mod",shortcut:"cmd+z",action:"undo"},{name:"Redo",category:"mod",shortcut:"shift+cmd+z",action:"redo"}],sKo={type:"table",body:[{type:"thead",body:[{type:"tr",body:[{type:"th",body:"Name"},{type:"th",body:"Description"}]}]},{type:"tbody",body:[{type:"tr",body:[{type:"td"},{type:"td"}]}]}]},Ssr=wx.Commands={h1:{name:"Header",action:["morph","h1"],icon:"h1",active:"div.h1",target:"div",trigger:"#",guard:"table,code,.pre"},h2:{name:"Sub Header",action:["morph","h2"],icon:"h2",active:"div.h2",target:"div",trigger:"##",guard:"table,code,.pre"},h3:{name:"Small Sub Header",action:["morph","h3"],icon:"h3",active:"div.h3",target:"div",trigger:"###",guard:"table,code,.pre"},h4:{name:"Smaller Sub Header",action:["morph","h4"],icon:"h4",active:"div.h4",target:"div",trigger:"####",guard:"table,code,.pre"},p:{name:"Paragraph",action:["morph","p"],icon:"notes",active:"div.p",target:"div:not(.p)"},li:{name:"Bulleted list",action:["morph",{type:"li"}],target:"div",active:"div.li",icon:"format_list_bulleted",trigger:["*","-"],guard:"table,code,.pre"},oli:{name:"Numbered list",action:["morph",{type:"oli"}],target:"div",active:"div.oli",icon:"format_list_numbered",trigger:"1.",guard:"table,code,.pre"},todo:{name:"To-do list",action:["morph",{type:"todo"}],icon:"playlist_add_check",target:"div",active:"div.todo",guard:"table,code,.pre",trigger:"[]",keywords:"todo task"},table:{name:"Table",action:["morph",JSON.parse(JSON.stringify(sKo))],icon:"grid_on",guard:"table,code,.pre"},hr:{name:"Divider",action:["morph",{type:"hr"}],guard:"table,code,.pre",icon:"remove",trigger:"---"},blockquote:{name:"Quote",action:["morph",{type:"blockquote"}],icon:"format_quote",trigger:">"},indent:{name:"Indent",action:"indent",icon:"format_indent_increase",shortcut:"tab",guard:"table,code,div.pre"},outdent:{name:"Outdent",action:"outdent",icon:"format_indent_decrease",shortcut:"shift+tab",guard:"table,code,div.pre"},focus_next_cell:{name:"Next cell",icon:"format_indent_increase",shortcut:"tab",target:"td,th"},focus_prev_cell:{name:"Prev cell",icon:"format_indent_increase",shortcut:"shift+tab",target:"td,th"},focus_above:{name:"Focus cell above",shortcut:"up",target:"td,th"},focus_below:{name:"Focus below",shortcut:"down",target:"td,th"},bold:{name:"Bold",shortcut:"cmd+b",action:"bold",active:"b,strong",icon:"format_bold"},italic:{name:"Italicize",shortcut:"cmd+i",action:"italic",active:"em,i",icon:"format_italic"},strike_through:{name:"Strike-through",shortcut:"shift+cmd+s",action:"strike_through",active:"del,strike,s",icon:"format_strikethrough"},toggle_code:{name:"Toggle code",shortcut:"shift+cmd+m",action:"code",active:"code",icon:"code"},link:{name:"Add link",action:"link",shortcut:"cmd+k",active:"a",icon:"link"},unlink:{name:"Unlink",action:"unlink",shortcut:"cmd+u",target:"a:not([data-type])",active:"a[href]",icon:"link_off"},img_toggle_hd:{name:"Toggle High DPI",action:"toggle_hd",active:"img[width]",target:"img",icon:"hd"},table_insert_row:{name:"Add row",action:"table_insert_row",target:"table,tr,td,th",shortcut:"ctrl+shift+down",icon:"$row-add"},table_insert_row_before:{name:"Add row above",action:["table_insert_row",{before:!0}],target:"td,th",shortcut:"shift+enter",icon:"$row-add"},table_insert_row_after:{name:"Add row below",action:"table_insert_row",target:"td,th",shortcut:"enter",icon:"$row-add"},table_insert_col:{name:"Add column",action:"table_insert_col",target:"table,tr,td,th",shortcut:"ctrl+shift+right",icon:"$col-add"},table_delete_col:{name:"Remove column",target:"table,tr,td,th",shortcut:"ctrl+shift+left",icon:"$col-del"},table_delete_row:{name:"Remove row",target:"table,tr,td,th",shortcut:"ctrl+shift+up",icon:"$row-del"},table_autodelete_row:{name:"Remove row",target:"td,th",shortcut:"del",icon:"$row-del"},table_row_move_up:{name:"Move row up",target:"tr",shortcut:"shift+cmd+up",icon:"$row-move-up"},table_row_move_down:{name:"Move row down",target:"tr",shortcut:"shift+cmd+down",icon:"$row-move-down"},align_left:{name:"Align left",action:["align","left"],target:"td,th",icon:"format_align_left",active:"[data-align=left]"},align_center:{name:"Align left",action:["align","center"],active:"[data-align=center]",target:"td,th",icon:"format_align_center"},align_right:{name:"Align left",action:["align","right"],active:"[data-align=right]",target:"td,th",icon:"format_align_right"},hard_enter:{name:"Hard enter",shortcut:"alt+enter",target:"div,table,tr,td,th,div.pre",action:"add_paragraph_after"},table_break:{name:"Table break",shortcut:"enter",target:"td,th"},moveup:{name:"Move block up",shortcut:"shift+cmd+up"},movedown:{name:"Move block down",shortcut:"shift+cmd+down"},toggle_embed:{icon:"calendar_view_day",name:"Toggle Bookmark",target:"a[data-type]",active:"a.block"},download:{icon:"cloud_download",target:"a[data-type=attachment]"},paste_test_data:{target:"div.root",shortcut:"ctrl+cmd+v"},copy_markdown:{shortcut:"shift+cmd+c",target:"div.root"}};for(let l,e=0,t=Object.keys(Ssr),r=t.length,o;e<r;e++)o=t[e],l=Ssr[o],l.ref=o,ps.push(l);var lKo={cmd:"",option:"",shift:"",ctrl:"",right:"",left:"",up:"",down:"",tab:"",esc:"",del:""};for(let l=0,e=ps.length,t;l<e;l++){t=ps[l];let r=t.ref||t.name.toLowerCase().replace(/\s/g,"_");if(t.ref=r,t.action||(t.action=r),(typeof(xsr=t.active)=="string"||xsr instanceof String)&&(t.$active=t.active,t.active=function(o){let n=o.dom.closest(this.$active);return n?n._tag:null}),(typeof(vsr=t.target)=="string"||vsr instanceof String)&&(t.$target=t.target,t.target=function(o){let n=o.dom.closest(this.$target);return n?n._tag:null}),!t.tip){let o=t.name;if(t.shortcut){let n=t.shortcut.split("+").map(function(i){return'<i class="'+i+'">'+(lKo[i]||i)+"</i>"}).join("").toUpperCase();o+="**"+n+"**"}else if(t.trigger){let n=t.trigger;n instanceof Array&&(n=n[0]),o+=" **"+n.replace(/\s/g,"")+"**"}t.tip=o}ps[r]=t}var Esr={name:"Codeblocks",actions:[{name:"Code",type:"code",action:"block",params:[{body:"",type:"pre"}],icon:"code",trigger:"```"}]};for(let l in wsr){let e;e=wsr[l],nPe={name:e,type:"code",action:"block",params:[{body:"",language:l,type:"pre"}],icon:"code"},ps.push(nPe),Esr.actions.push(nPe)}var nPe,LNn=wx.Groups=[{name:"Basic blocks",actions:[ps.h1,ps.h2,ps.h3,ps.li,ps.oli,ps.todo,ps.blockquote,ps.hr,ps.table]},{name:"Embeds",actions:[{icon:"cast",name:"Cast from repository",action:"cast",params:[{cwd:!1,branch:!0}]},{icon:"videocam",name:"Cast from local directory",action:"cast",params:[{cwd:!0}]}]},Esr];ps.matches=function(l,e){if(!(l.selector&&!e.node.dom().matches(l.selector))&&!(l.guard&&e.node.dom().closest(l.guard))&&!(l.target&&!(e.actionTarget=l.target(e))))return l};ps.find=function(l){for(let e=0,t=Csr(this),r=t.length,o;e<r;e++)if(o=t[e],o.shortcut&&l.key.combo==o.shortcut&&ps.matches(o,l))return o;return null};ps.findTrigger=function(l,e){for(let t=0,r=Csr(this),o=r.length,n;t<o;t++){n=r[t];let i=n.trigger;if(i&&(i==e||i instanceof Array&&i.indexOf(e)>=0)&&ps.matches(n,l))return n}return null}});function aPe(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function Osr(l){Ex=l}function Bo(l,e=""){let t=typeof l=="string"?l:l.source,r={replace:(o,n)=>{let i=typeof n=="string"?n:n.source;return i=i.replace(ja.caret,"$1"),t=t.replace(o,i),r},getRegex:()=>new RegExp(t,e)};return r}function Nf(l,e){if(e){if(ja.escapeTest.test(l))return l.replace(ja.escapeReplace,Asr)}else if(ja.escapeTestNoEncode.test(l))return l.replace(ja.escapeReplaceNoEncode,Asr);return l}function Usr(l){try{l=encodeURI(l).replace(ja.percentDecode,"%")}catch{return null}return l}function Psr(l,e){var n;let t=l.replace(ja.findPipe,(i,s,a)=>{let u=!1,c=s;for(;--c>=0&&a[c]==="\\";)u=!u;return u?"|":" |"}),r=t.split(ja.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!((n=r.at(-1))!=null&&n.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(ja.slashPipe,"|");return r}function LI(l,e,t){let r=l.length;if(r===0)return"";let o=0;for(;o<r;){let n=l.charAt(r-o-1);if(n===e&&!t)o++;else if(n!==e&&t)o++;else break}return l.slice(0,r-o)}function HKo(l,e){if(l.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<l.length;r++)if(l[r]==="\\")r++;else if(l[r]===e[0])t++;else if(l[r]===e[1]&&(t--,t<0))return r;return t>0?-2:-1}function Tsr(l,e,t,r,o){let n=e.href,i=e.title||null,s=l[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let a={type:l[0].charAt(0)==="!"?"image":"link",raw:t,href:n,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}function BKo(l,e,t){let r=l.match(t.other.indentCodeCompensation);if(r===null)return e;let o=r[1];return e.split(`
`).map(n=>{let i=n.match(t.other.beginningSpace);if(i===null)return n;let[s]=i;return s.length>=o.length?n.slice(o.length):n}).join(`
`)}function Co(l,e){return Cx.parse(l,e)}var Ex,DI,ja,aKo,uKo,cKo,NI,hKo,uPe,Rsr,Msr,pKo,cPe,dKo,hPe,fKo,mKo,Dse,pPe,$Ko,Lsr,yKo,dPe,jsr,bKo,gKo,kKo,_Ko,Dsr,xKo,Nse,fPe,Nsr,vKo,Isr,wKo,SKo,CKo,Fsr,EKo,jKo,Hsr,AKo,UKo,PKo,TKo,OKo,RKo,MKo,Rse,LKo,Bsr,Vsr,DKo,mPe,NKo,iPe,IKo,Tse,MI,FKo,Asr,Mse,wm,Lse,$Pe,Sm,Ose,VKo,Cx,INn,FNn,HNn,BNn,VNn,zNn,qNn,zsr=Lgt(()=>{T();Ex=aPe();DI={exec:()=>null};ja={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i")},aKo=/^(?:[ \t]*(?:\n|$))+/,uKo=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,cKo=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,NI=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,hKo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,uPe=/(?:[*+-]|\d{1,9}[.)])/,Rsr=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Msr=Bo(Rsr).replace(/bull/g,uPe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),pKo=Bo(Rsr).replace(/bull/g,uPe).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),cPe=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,dKo=/^[^\n]+/,hPe=/(?!\s*\])(?:\\.|[^\[\]\\])+/,fKo=Bo(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hPe).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),mKo=Bo(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,uPe).getRegex(),Dse="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pPe=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$Ko=Bo("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",pPe).replace("tag",Dse).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Lsr=Bo(cPe).replace("hr",NI).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dse).getRegex(),yKo=Bo(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Lsr).getRegex(),dPe={blockquote:yKo,code:uKo,def:fKo,fences:cKo,heading:hKo,hr:NI,html:$Ko,lheading:Msr,list:mKo,newline:aKo,paragraph:Lsr,table:DI,text:dKo},jsr=Bo("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",NI).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dse).getRegex(),bKo={...dPe,lheading:pKo,table:jsr,paragraph:Bo(cPe).replace("hr",NI).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",jsr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dse).getRegex()},gKo={...dPe,html:Bo(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pPe).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:DI,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Bo(cPe).replace("hr",NI).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Msr).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},kKo=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_Ko=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Dsr=/^( {2,}|\\)\n(?!\s*$)/,xKo=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Nse=/[\p{P}\p{S}]/u,fPe=/[\s\p{P}\p{S}]/u,Nsr=/[^\s\p{P}\p{S}]/u,vKo=Bo(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,fPe).getRegex(),Isr=/(?!~)[\p{P}\p{S}]/u,wKo=/(?!~)[\s\p{P}\p{S}]/u,SKo=/(?:[^\s\p{P}\p{S}]|~)/u,CKo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Fsr=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,EKo=Bo(Fsr,"u").replace(/punct/g,Nse).getRegex(),jKo=Bo(Fsr,"u").replace(/punct/g,Isr).getRegex(),Hsr="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",AKo=Bo(Hsr,"gu").replace(/notPunctSpace/g,Nsr).replace(/punctSpace/g,fPe).replace(/punct/g,Nse).getRegex(),UKo=Bo(Hsr,"gu").replace(/notPunctSpace/g,SKo).replace(/punctSpace/g,wKo).replace(/punct/g,Isr).getRegex(),PKo=Bo("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Nsr).replace(/punctSpace/g,fPe).replace(/punct/g,Nse).getRegex(),TKo=Bo(/\\(punct)/,"gu").replace(/punct/g,Nse).getRegex(),OKo=Bo(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),RKo=Bo(pPe).replace("(?:-->|$)","-->").getRegex(),MKo=Bo("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",RKo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Rse=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,LKo=Bo(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Rse).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bsr=Bo(/^!?\[(label)\]\[(ref)\]/).replace("label",Rse).replace("ref",hPe).getRegex(),Vsr=Bo(/^!?\[(ref)\](?:\[\])?/).replace("ref",hPe).getRegex(),DKo=Bo("reflink|nolink(?!\\()","g").replace("reflink",Bsr).replace("nolink",Vsr).getRegex(),mPe={_backpedal:DI,anyPunctuation:TKo,autolink:OKo,blockSkip:CKo,br:Dsr,code:_Ko,del:DI,emStrongLDelim:EKo,emStrongRDelimAst:AKo,emStrongRDelimUnd:PKo,escape:kKo,link:LKo,nolink:Vsr,punctuation:vKo,reflink:Bsr,reflinkSearch:DKo,tag:MKo,text:xKo,url:DI},NKo={...mPe,link:Bo(/^!?\[(label)\]\((.*?)\)/).replace("label",Rse).getRegex(),reflink:Bo(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rse).getRegex()},iPe={...mPe,emStrongRDelimAst:UKo,emStrongLDelim:jKo,url:Bo(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},IKo={...iPe,br:Bo(Dsr).replace("{2,}","*").getRegex(),text:Bo(iPe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tse={normal:dPe,gfm:bKo,pedantic:gKo},MI={normal:mPe,gfm:iPe,breaks:IKo,pedantic:NKo},FKo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Asr=l=>FKo[l];Mse=class{options;rules;lexer;constructor(l){this.options=l||Ex}space(l){let e=this.rules.block.newline.exec(l);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(l){let e=this.rules.block.code.exec(l);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:LI(t,`
`)}}}fences(l){let e=this.rules.block.fences.exec(l);if(e){let t=e[0],r=BKo(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(l){let e=this.rules.block.heading.exec(l);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let r=LI(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(l){let e=this.rules.block.hr.exec(l);if(e)return{type:"hr",raw:LI(e[0],`
`)}}blockquote(l){let e=this.rules.block.blockquote.exec(l);if(e){let t=LI(e[0],`
`).split(`
`),r="",o="",n=[];for(;t.length>0;){let i=!1,s=[],a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))s.push(t[a]),i=!0;else if(!i)s.push(t[a]);else break;t=t.slice(a);let u=s.join(`
`),c=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,o=o?`${o}
${c}`:c;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,n,!0),this.lexer.state.top=h,t.length===0)break;let d=n.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){let f=d,m=f.raw+`
`+t.join(`
`),$=this.blockquote(m);n[n.length-1]=$,r=r.substring(0,r.length-f.raw.length)+$.raw,o=o.substring(0,o.length-f.text.length)+$.text;break}else if((d==null?void 0:d.type)==="list"){let f=d,m=f.raw+`
`+t.join(`
`),$=this.list(m);n[n.length-1]=$,r=r.substring(0,r.length-d.raw.length)+$.raw,o=o.substring(0,o.length-f.raw.length)+$.raw,t=m.substring(n.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:n,text:o}}}list(l){let e=this.rules.block.list.exec(l);if(e){let t=e[1].trim(),r=t.length>1,o={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let n=this.rules.other.listItemRegex(t),i=!1;for(;l;){let a=!1,u="",c="";if(!(e=n.exec(l))||this.rules.block.hr.test(l))break;u=e[0],l=l.substring(u.length);let h=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),d=l.split(`
`,1)[0],f=!h.trim(),m=0;if(this.options.pedantic?(m=2,c=h.trimStart()):f?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,c=h.slice(m),m+=e[1].length),f&&this.rules.other.blankLine.test(d)&&(u+=d+`
`,l=l.substring(d.length+1),a=!0),!a){let g=this.rules.other.nextBulletRegex(m),x=this.rules.other.hrRegex(m),k=this.rules.other.fencesBeginRegex(m),_=this.rules.other.headingBeginRegex(m),S=this.rules.other.htmlBeginRegex(m);for(;l;){let v=l.split(`
`,1)[0],C;if(d=v,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),C=d):C=d.replace(this.rules.other.tabCharGlobal,"    "),k.test(d)||_.test(d)||S.test(d)||g.test(d)||x.test(d))break;if(C.search(this.rules.other.nonSpaceChar)>=m||!d.trim())c+=`
`+C.slice(m);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(h)||_.test(h)||x.test(h))break;c+=`
`+d}!f&&!d.trim()&&(f=!0),u+=v+`
`,l=l.substring(v.length+1),h=C.slice(m)}}o.loose||(i?o.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(i=!0));let $=null,b;this.options.gfm&&($=this.rules.other.listIsTask.exec(c),$&&(b=$[0]!=="[ ] ",c=c.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:u,task:!!$,checked:b,loose:!1,text:c,tokens:[]}),o.raw+=u}let s=o.items.at(-1);if(s)s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let a=0;a<o.items.length;a++)if(this.lexer.state.top=!1,o.items[a].tokens=this.lexer.blockTokens(o.items[a].text,[]),!o.loose){let u=o.items[a].tokens.filter(h=>h.type==="space"),c=u.length>0&&u.some(h=>this.rules.other.anyLine.test(h.raw));o.loose=c}if(o.loose)for(let a=0;a<o.items.length;a++)o.items[a].loose=!0;return o}}html(l){let e=this.rules.block.html.exec(l);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(l){let e=this.rules.block.def.exec(l);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:o}}}table(l){var i;let e=this.rules.block.table.exec(l);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Psr(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(i=e[3])!=null&&i.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],n={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?n.align.push("right"):this.rules.other.tableAlignCenter.test(s)?n.align.push("center"):this.rules.other.tableAlignLeft.test(s)?n.align.push("left"):n.align.push(null);for(let s=0;s<t.length;s++)n.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:n.align[s]});for(let s of o)n.rows.push(Psr(s,n.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:n.align[u]})));return n}}lheading(l){let e=this.rules.block.lheading.exec(l);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(l){let e=this.rules.block.paragraph.exec(l);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(l){let e=this.rules.block.text.exec(l);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(l){let e=this.rules.inline.escape.exec(l);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(l){let e=this.rules.inline.tag.exec(l);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(l){let e=this.rules.inline.link.exec(l);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let n=LI(t.slice(0,-1),"\\");if((t.length-n.length)%2===0)return}else{let n=HKo(e[2],"()");if(n===-2)return;if(n>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+n;e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let r=e[2],o="";if(this.options.pedantic){let n=this.rules.other.pedanticHrefTitle.exec(r);n&&(r=n[1],o=n[3])}else o=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),Tsr(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(l,e){let t;if((t=this.rules.inline.reflink.exec(l))||(t=this.rules.inline.nolink.exec(l))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=e[r.toLowerCase()];if(!o){let n=t[0].charAt(0);return{type:"text",raw:n,text:n}}return Tsr(t,o,t[0],this.lexer,this.rules)}}emStrong(l,e,t=""){let r=this.rules.inline.emStrongLDelim.exec(l);if(!(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!t||this.rules.inline.punctuation.exec(t))){let o=[...r[0]].length-1,n,i,s=o,a=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*l.length+o);(r=u.exec(e))!=null;){if(n=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!n)continue;if(i=[...n].length,r[3]||r[4]){s+=i;continue}else if((r[5]||r[6])&&o%3&&!((o+i)%3)){a+=i;continue}if(s-=i,s>0)continue;i=Math.min(i,i+s+a);let c=[...r[0]][0].length,h=l.slice(0,o+r.index+c+i);if(Math.min(o,i)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(l){let e=this.rules.inline.code.exec(l);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),o=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&o&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(l){let e=this.rules.inline.br.exec(l);if(e)return{type:"br",raw:e[0]}}del(l){let e=this.rules.inline.del.exec(l);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(l){let e=this.rules.inline.autolink.exec(l);if(e){let t,r;return e[2]==="@"?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(l){var t;let e;if(e=this.rules.inline.url.exec(l)){let r,o;if(e[2]==="@")r=e[0],o="mailto:"+r;else{let n;do n=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(n!==e[0]);r=e[0],e[1]==="www."?o="http://"+e[0]:o=e[0]}return{type:"link",raw:e[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(l){let e=this.rules.inline.text.exec(l);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},wm=class sPe{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ex,this.options.tokenizer=this.options.tokenizer||new Mse,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:ja,block:Tse.normal,inline:MI.normal};this.options.pedantic?(t.block=Tse.pedantic,t.inline=MI.pedantic):this.options.gfm&&(t.block=Tse.gfm,this.options.breaks?t.inline=MI.breaks:t.inline=MI.gfm),this.tokenizer.rules=t}static get rules(){return{block:Tse,inline:MI}}static lex(e,t){return new sPe(t).lex(e)}static lexInline(e,t){return new sPe(t).inlineTokens(e)}lex(e){e=e.replace(ja.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){var o,n,i;for(this.options.pedantic&&(e=e.replace(ja.tabCharGlobal,"    ").replace(ja.spaceLine,""));e;){let s;if((n=(o=this.options.extensions)==null?void 0:o.block)!=null&&n.some(u=>(s=u.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let u=t.at(-1);s.raw.length===1&&u!==void 0?u.raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue.at(-1).src=u.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let u=t.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+s.raw,u.text+=`
`+s.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}let a=e;if((i=this.options.extensions)!=null&&i.startBlock){let u=1/0,c=e.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},c),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(a=e.substring(0,u+1))}if(this.state.top&&(s=this.tokenizer.paragraph(a))){let u=t.at(-1);r&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(s),r=a.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let u=t.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+s.raw,u.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):t.push(s);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var s,a,u;let r=e,o=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let n=!1,i="";for(;e;){n||(i=""),n=!1;let c;if((a=(s=this.options.extensions)==null?void 0:s.inline)!=null&&a.some(d=>(c=d.call({lexer:this},e,t))?(e=e.substring(c.raw.length),t.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let d=t.at(-1);c.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=c.raw,d.text+=c.text):t.push(c);continue}if(c=this.tokenizer.emStrong(e,r,i)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),t.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),t.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),t.push(c);continue}let h=e;if((u=this.options.extensions)!=null&&u.startInline){let d=1/0,f=e.slice(1),m;this.options.extensions.startInline.forEach($=>{m=$.call({lexer:this},f),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(c=this.tokenizer.inlineText(h)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(i=c.raw.slice(-1)),n=!0;let d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=c.raw,d.text+=c.text):t.push(c);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},Lse=class{options;parser;constructor(l){this.options=l||Ex}space(l){return""}code({text:l,lang:e,escaped:t}){var n;let r=(n=(e||"").match(ja.notSpaceStart))==null?void 0:n[0],o=l.replace(ja.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Nf(r)+'">'+(t?o:Nf(o,!0))+`</code></pre>
`:"<pre><code>"+(t?o:Nf(o,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}heading({tokens:l,depth:e}){return`<h${e}>${this.parser.parseInline(l)}</h${e}>
`}hr(l){return`<hr>
`}list(l){let e=l.ordered,t=l.start,r="";for(let i=0;i<l.items.length;i++){let s=l.items[i];r+=this.listitem(s)}let o=e?"ol":"ul",n=e&&t!==1?' start="'+t+'"':"";return"<"+o+n+`>
`+r+"</"+o+`>
`}listitem(l){var t;let e="";if(l.task){let r=this.checkbox({checked:!!l.checked});l.loose?((t=l.tokens[0])==null?void 0:t.type)==="paragraph"?(l.tokens[0].text=r+" "+l.tokens[0].text,l.tokens[0].tokens&&l.tokens[0].tokens.length>0&&l.tokens[0].tokens[0].type==="text"&&(l.tokens[0].tokens[0].text=r+" "+Nf(l.tokens[0].tokens[0].text),l.tokens[0].tokens[0].escaped=!0)):l.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(l.tokens,!!l.loose),`<li>${e}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let e="",t="";for(let o=0;o<l.header.length;o++)t+=this.tablecell(l.header[o]);e+=this.tablerow({text:t});let r="";for(let o=0;o<l.rows.length;o++){let n=l.rows[o];t="";for(let i=0;i<n.length;i++)t+=this.tablecell(n[i]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){let e=this.parser.parseInline(l.tokens),t=l.header?"th":"td";return(l.align?`<${t} align="${l.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${Nf(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:e,tokens:t}){let r=this.parser.parseInline(t),o=Usr(l);if(o===null)return r;l=o;let n='<a href="'+l+'"';return e&&(n+=' title="'+Nf(e)+'"'),n+=">"+r+"</a>",n}image({href:l,title:e,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let o=Usr(l);if(o===null)return Nf(t);l=o;let n=`<img src="${l}" alt="${t}"`;return e&&(n+=` title="${Nf(e)}"`),n+=">",n}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:Nf(l.text)}},$Pe=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}},Sm=class lPe{options;renderer;textRenderer;constructor(e){this.options=e||Ex,this.options.renderer=this.options.renderer||new Lse,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $Pe}static parse(e,t){return new lPe(t).parse(e)}static parseInline(e,t){return new lPe(t).parseInline(e)}parse(e,t=!0){var o,n;let r="";for(let i=0;i<e.length;i++){let s=e[i];if((n=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&n[s.type]){let u=s,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){r+=c||"";continue}}let a=s;switch(a.type){case"space":{r+=this.renderer.space(a);continue}case"hr":{r+=this.renderer.hr(a);continue}case"heading":{r+=this.renderer.heading(a);continue}case"code":{r+=this.renderer.code(a);continue}case"table":{r+=this.renderer.table(a);continue}case"blockquote":{r+=this.renderer.blockquote(a);continue}case"list":{r+=this.renderer.list(a);continue}case"html":{r+=this.renderer.html(a);continue}case"paragraph":{r+=this.renderer.paragraph(a);continue}case"text":{let u=a,c=this.renderer.text(u);for(;i+1<e.length&&e[i+1].type==="text";)u=e[++i],c+=`
`+this.renderer.text(u);t?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):r+=c;continue}default:{let u='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}parseInline(e,t=this.renderer){var o,n;let r="";for(let i=0;i<e.length;i++){let s=e[i];if((n=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&n[s.type]){let u=this.options.extensions.renderers[s.type].call({parser:this},s);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=u||"";continue}}let a=s;switch(a.type){case"escape":{r+=t.text(a);break}case"html":{r+=t.html(a);break}case"link":{r+=t.link(a);break}case"image":{r+=t.image(a);break}case"strong":{r+=t.strong(a);break}case"em":{r+=t.em(a);break}case"codespan":{r+=t.codespan(a);break}case"br":{r+=t.br(a);break}case"del":{r+=t.del(a);break}case"text":{r+=t.text(a);break}default:{let u='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return r}},Ose=class{options;block;constructor(l){this.options=l||Ex}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}provideLexer(){return this.block?wm.lex:wm.lexInline}provideParser(){return this.block?Sm.parse:Sm.parseInline}},VKo=class{defaults=aPe();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Sm;Renderer=Lse;TextRenderer=$Pe;Lexer=wm;Tokenizer=Mse;Hooks=Ose;constructor(...l){this.use(...l)}walkTokens(l,e){var r,o;let t=[];for(let n of l)switch(t=t.concat(e.call(this,n)),n.type){case"table":{let i=n;for(let s of i.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of i.rows)for(let a of s)t=t.concat(this.walkTokens(a.tokens,e));break}case"list":{let i=n;t=t.concat(this.walkTokens(i.items,e));break}default:{let i=n;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{let a=i[s].flat(1/0);t=t.concat(this.walkTokens(a,e))}):i.tokens&&(t=t.concat(this.walkTokens(i.tokens,e)))}}return t}use(...l){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(t=>{let r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let n=e.renderers[o.name];n?e.renderers[o.name]=function(...i){let s=o.renderer.apply(this,i);return s===!1&&(s=n.apply(this,i)),s}:e.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let n=e[o.level];n?n.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){let o=this.defaults.renderer||new Lse(this.defaults);for(let n in t.renderer){if(!(n in o))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;let i=n,s=t.renderer[i],a=o[i];o[i]=(...u)=>{let c=s.apply(o,u);return c===!1&&(c=a.apply(o,u)),c||""}}r.renderer=o}if(t.tokenizer){let o=this.defaults.tokenizer||new Mse(this.defaults);for(let n in t.tokenizer){if(!(n in o))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;let i=n,s=t.tokenizer[i],a=o[i];o[i]=(...u)=>{let c=s.apply(o,u);return c===!1&&(c=a.apply(o,u)),c}}r.tokenizer=o}if(t.hooks){let o=this.defaults.hooks||new Ose;for(let n in t.hooks){if(!(n in o))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;let i=n,s=t.hooks[i],a=o[i];Ose.passThroughHooks.has(n)?o[i]=u=>{if(this.defaults.async)return Promise.resolve(s.call(o,u)).then(h=>a.call(o,h));let c=s.call(o,u);return a.call(o,c)}:o[i]=(...u)=>{let c=s.apply(o,u);return c===!1&&(c=a.apply(o,u)),c}}r.hooks=o}if(t.walkTokens){let o=this.defaults.walkTokens,n=t.walkTokens;r.walkTokens=function(i){let s=[];return s.push(n.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}this.defaults={...this.defaults,...r}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,e){return wm.lex(l,e??this.defaults)}parser(l,e){return Sm.parse(l,e??this.defaults)}parseMarkdown(l){return(e,t)=>{let r={...t},o={...this.defaults,...r},n=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return n(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return n(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return n(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=l);let i=o.hooks?o.hooks.provideLexer():l?wm.lex:wm.lexInline,s=o.hooks?o.hooks.provideParser():l?Sm.parse:Sm.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(e):e).then(a=>i(a,o)).then(a=>o.hooks?o.hooks.processAllTokens(a):a).then(a=>o.walkTokens?Promise.all(this.walkTokens(a,o.walkTokens)).then(()=>a):a).then(a=>s(a,o)).then(a=>o.hooks?o.hooks.postprocess(a):a).catch(n);try{o.hooks&&(e=o.hooks.preprocess(e));let a=i(e,o);o.hooks&&(a=o.hooks.processAllTokens(a)),o.walkTokens&&this.walkTokens(a,o.walkTokens);let u=s(a,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(a){return n(a)}}}onError(l,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,l){let r="<p>An error occurred:</p><pre>"+Nf(t.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(t);throw t}}},Cx=new VKo;Co.options=Co.setOptions=function(l){return Cx.setOptions(l),Co.defaults=Cx.defaults,Osr(Co.defaults),Co};Co.getDefaults=aPe;Co.defaults=Ex;Co.use=function(...l){return Cx.use(...l),Co.defaults=Cx.defaults,Osr(Co.defaults),Co};Co.walkTokens=function(l,e){return Cx.walkTokens(l,e)};Co.parseInline=Cx.parseInline;Co.Parser=Sm;Co.parser=Sm.parse;Co.Renderer=Lse;Co.TextRenderer=$Pe;Co.Lexer=wm;Co.lexer=wm.lex;Co.Tokenizer=Mse;Co.Hooks=Ose;Co.parse=Co;INn=Co.options,FNn=Co.setOptions,HNn=Co.use,BNn=Co.walkTokens,VNn=Co.parseInline,zNn=Sm.parse,qNn=wm.lex});var O7={};Fme(O7,{awakenNode:()=>yPe,dom2md:()=>WKo,html2dom:()=>Wsr,html2md:()=>Zsr,html2note:()=>qKo,md2html:()=>ZKo,md2note:()=>T7,md2rich:()=>GKo,sanitizePartialBlocks:()=>Ysr});function Wsr(l){var e,t;try{let r=globalThis.document.createElement("div");r.innerHTML=l;for(let i=0,s=B(r.querySelectorAll("meta,style,title,head,script")),a=s.length;i<a;i++){let u=s[i];u.parentNode.removeChild(u)}let o=r.innerText;for(let i=0,s=B(r.querySelectorAll("li.task-list-item")),a=s.length;i<a;i++){let u=s[i];u.dataset.type="todo";let c=u.querySelector("input[checked]"),h=u.querySelector(".handle");u.querySelector("input[checked]")&&(u.dataset.checked=!0),h&&u.removeChild(h),c&&u.removeChild(c)}let n=r.querySelectorAll("*");for(let i=0,s=B(n),a=s.length;i<a;i++){let u=s[i],c=u.getAttribute("style");if(u.removeAttribute("style"),u.title&&u.title.length>10&&u.removeAttribute("title"),Cn(u.nodeName,["SPAN","UL","OL","DIV"])&&u.replaceWith(...u.childNodes),u.matches('input[type="checkbox"]:first-child')&&((t=(e=u.parentNode)==null?void 0:e.matches)!=null&&t.call(e,"li"))){let h=u.parentNode;h.dataset.type="todo",u.checked&&(h.dataset.checked=!0),h.removeChild(u)}}return r}catch{}}function Zsr(l){try{let e=Wsr(l),t=e.innerText,r=[];for(let n=0,i=B(e.querySelectorAll("*")),s=i.length,a;n<s;n++){let u=i[n];(a=yPe(u,null,!1))&&r.push(a)}let o="";for(let n=0,i=B(e.childNodes),s=i.length;n<s;n++){let a=i[n];a._tag?o+=a._tag.markdown():p(a,Text)&&(o+=a.textContent)}return t.length-o.length>10?(console.log("conversion to markdown does not seem to have worked?",t,o),null):o}catch(e){return console.log("html2md error",e)}}function qKo(l){return T7(Zsr(l))}function WKo(l,e={}){if(!l)return"";let t=Array.from(l.querySelectorAll("*:not(dfn)")).reverse();for(let o=0,n=B(t),i=n.length;o<i;o++){let s=n[o];s.nodeName!="DFN"&&yPe(s,null,!1)}let r="";for(let o=0,n=B(l.childNodes),i=n.length;o<i;o++){let s=n[o];s._tag?r+=s._tag.toMarkdown(e):p(s,Text)&&(r+=s.textContent)}return r}function ad(l,e,t){var n,i;if(p(l,Array))return l.flatMap(function(s){return ad(s,e,t)}).filter(function(s){return s!=null});let r=l.type,o={};if(r=="heading")return o.type="h"+l.depth,o.body=ad(l.tokens,l,o),o;if(r=="text"&&(e==null?void 0:e.type)=="heading",r=="paragraph")return o.type="p",o.body=ad(l.tokens,l,o),o;if(r=="list_item"){r=e!=null&&e.ordered?"orderedli":l.task?"todo":"li",o.type=r;let[s,...a]=l.tokens,u=ad(s||[],{full:!0},o),c=u.findIndex(function(m){return Cn(m.type,["space","br"])}),h=[];if(c==u.length-1)u.pop();else if(c>0){let m=u.slice(c+1);typeof m[0]=="string"&&(m[0]=m[0].replace(/^[\s\t]+/,"")),h=[{type:"p",body:m}],u=u.slice(0,c)}((n=a[0])==null?void 0:n.type)=="space"&&a.shift();let d=ad(a,{full:!0,paragraph:!0},o),f=u;return h.push(...d),o.children=h,o.body=f,o.checked=l.checked,o.raw=l,o}if(r=="space")return e!=null&&e.full?l:((i=l==null?void 0:l.raw)==null?void 0:i.length)>2?[{type:"p",body:[""]}]:null;if(r=="html")return{type:"rawhtml",value:l.raw};if(r=="blockquote")return o.type="blockquote",o.body=ad(l.tokens,l,o),o;if(r=="link"){if(l.text=="&")return t&&(t.meta=l.href),null;let s=OPUrl.get(l.href);return r="opref",o.href=l.href,o.type="a",o.body=ad(l.tokens,l,o),l.href===l.text&&(o.body=["link"]),o}if(r=="text"){let s=!l.tokens||l.tokens.length==1?[l.text]:ad(l.tokens,l);return e!=null&&e.paragraph&&(typeof s[0]=="string"&&(s[0]=s[0].replace(/^[\s\t]+/,"")),s={type:"p",body:s}),s}if(Cn(r,["strong","em","del"]))return{type:r,body:ad(l.tokens,l)};if(r=="list")return ad(l.items,l);if(r=="codespan"){let[s,a,u,c]=l.text.match(/^([^@+]+)\s@\s([^\$\%]+)(.+)$/)||[];return s?{type:"smartref",body:[a],ref:""+u+c}:{type:"code",body:l.text}}return r=="code"?{type:"pre",lang:l.lang,raw:l.raw,body:l.text}:l}function Gsr(l){let e=Co.lexer(l);return{type:"root",body:ad(e,null)}}function ZKo(l){return Co.parse(l)}function GKo(l,e=!1){let t=Gsr(l);return e&&(t.type=="root"&&t.body.length==1&&(t=t.body[0]),t.type=="p"&&(t=t.body)),t}function Ysr(l){let e=l.lastIndexOf("`"),t=l.replace(/(\n|\s)(`[^`]+`)/g,function(o,n,i){return n+" ".repeat(i.length)});t=t.replace(/(\n|\s)(```.+```)/g,function(o,n,i){return n+" ".repeat(i.length)});let r=t.lastIndexOf("`");return e>=0&&e==r&&!/\w/.test(l[e-1]||"")?l.slice(0,e):l}function T7(l,e=!1,t=!0){t&&(l=Ysr(l));let r=(()=>{try{return Gsr(l)}catch(o){return o}})();if(p(r,Error))throw console.warn("failed to convert md2note",l,r),r;return e&&(r.type=="root"&&r.body.length==1&&(r=r.body[0]),r.type=="p"&&(r=r.body)),r&&(r[zKo]=l),r}function yPe(l,e,t=!1){let r;if(l._tag&&!l._tag.isBlock&&(l._tag=null),l._tag)return l._tag;let o=l.nodeName.toLowerCase(),n=l.dataset.type,i=l.classList[0];if(l.removeAttribute("style"),o=="div"&&(o=i),o=="font"&&(o="span"),o=="code"&&i=="a"&&(o=i),n&&Imba.TAGS["md:"+n]&&(o=n),r=Imba.TAGS["md:"+o]){let s=new r(l,e);if(s.isBlock()&&t){let a=s.prevBlock(),u=a&&qsr.Schema[a.type()];u&&u.next&&(s=s.morph(u.next))}else t||s.awaken();return s}return null}var qsr,zKo,jx=Lgt(()=>{T();oe();zsr();qsr=q6(Sx()),zKo=Symbol.for("#markdown");Co.use({gfm:!0,breaks:!0})});var Cm=Gt(Vo=>{T();function Xsr(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function bPe(l){return l?l.toArray?l.toArray():l:[]}function Ax(l){return l&&(l.len instanceof Function?l.len():l.length)||0}var ds=An(),gr={},YKo=ds.createTagScope();YKo.extendTag("element",function(l){l.prototype.hasFocus=function(){return this.dom().contains(document.activeElement)},l.prototype.relFocusTarget=function(e){var t;e===void 0&&(e=1);let r=this.dom().closest("[tabindex]"),o=this.dom().closest(".tabgroup")||document,n=Array.from(o.querySelectorAll('[tabindex]:not([tabindex="-1"])')),i=n.indexOf(r);return(t=n[i+e])&&t._tag},l.prototype.nextFocusTarget=function(){return this.relFocusTarget(1)},l.prototype.prevFocusTarget=function(){return this.relFocusTarget(-1)}});var Ksr=Sx(),rIn=Ksr.Schema,oIn=Ksr.Triggers,II=(jx(),rR(O7)),XKo={9:"tab",13:"enter",32:"space",38:"up",40:"down",37:"left",39:"right",27:"esc",8:"del",46:"del"},KKo=window.navigator.platform.indexOf("Mac")>=0;Vo.compareArrays=gr.compareArrays=function(l,e){if(Ax(l)!=Ax(e))return!1;for(let t=0,r=bPe(l),o=r.length,n;t<o;t++)if(n=r[t],e[t]!=n)return!1;return!0};Vo.rangeIsReversed=gr.rangeIsReversed=function(l,e,t,r){let o=l.compareDocumentPosition(t);if(o==0)return e>r;if(o===2)return!0;if(o===4)return!1;if(o===16)return!0;if(o===10){let n=l;for(;n.parentNode!=t;)n=n.parentNode;return Array.from(t.children).indexOf(t)>=r}else if(o===8){let n=t;for(;n.parentNode!=l;)n=n.parentNode;console.log("is reversed?",l,t,n)}return!1};Vo.parseLink=gr.parseLink=function(){for(var l=arguments,e=l.length,t=new Array(e>0?e:0);e>0;)t[e-1]=l[--e];return II.parseLink.apply(II,t)};Vo.block=gr.block=function(l){return l instanceof ds.Event&&(l=l.target()),l instanceof ds.Tag&&(l=l.dom()),l instanceof Element?(l=l.closest(".Block"),l?l._tag:null):null};Vo.idx=gr.idx=function(l){return typeof l=="number"||l instanceof Number?l:(l=gr.block(l),l instanceof ds.Tag&&l.index?l.index():-1)};Vo.toMarkdown=gr.toMarkdown=function(l,e){if(e||console.log("toMarkdown",l),e||(e={}),!l)return"";if(l instanceof Array)return l.map(function(o){return gr.toMarkdown(o,e)}).join("");if(typeof l=="string"||l instanceof String)return l;var t={h1:`
# 
`,h2:`
## 
`,h3:`
### 
`,h4:`
#### 
`,li:`
* 
`,i:"__",p:`

`,b:"**",hr:`
---
`,code:"\n\n```"+(l.language||"")+`

\`\`\`

`};let r=t[l.type]||"";return l.type=="a"&&(r="[]("+l.href+")"),r.indexOf("")>=0&&(r=r.replace("",gr.toMarkdown(l.body,e))),r};var JKo=gr;Vo.eventKeys=gr.eventKeys=function(l){var e={};let t=l instanceof Event?l.keyCode:l.keyCode(),r=l instanceof Event?l:l.event();var o=XKo[t],n=String.fromCharCode(t)||"";o&&(e[o]=!0);let i=[];return r.ctrlKey&&(e.ctrl=!0,i.push("ctrl")),r.shiftKey&&(e.shift=!0,i.push("shift")),r.altKey&&(e.alt=!0,i.push("alt")),r.metaKey&&(e.meta=!0,i.push("cmd")),(KKo?e.meta:e.ctrl)&&(e.mod=!0),e[n]=!0,e[n.toLowerCase()]=!0,o?i.push(o):n&&i.push(n.toLowerCase()),e.combo=i.join("+"),e};Vo.fuzzyMatch=gr.fuzzyMatch=function(l,e){for(var t=l.length,r=0,o=0;o<t;){let n=l[o++];if(r=e.indexOf(n,r),r==-1)return!1}return!0};ds.Event.prototype.keys=function(){return this._keys||(this._keys=JKo.eventKeys(this))};function QKo(){}Vo.ComposeurRange=QKo;function Qo(l,e){e===void 0&&(e=window.getSelection()),this._root=l,this._raw=e}Vo.Sel=Qo;Qo.prototype.raw=function(l){return this._raw};Qo.prototype.setRaw=function(l){return this._raw=l,this};Qo.prototype.range=function(){return this._raw.getRangeAt(0)};Qo.prototype.textBefore=function(){let l=this.range().cloneRange();return l.collapse(!0),l.setStart(this._root,0),l.toString()};Qo.prototype.textAfter=function(){let l=this.range().cloneRange();return l.collapse(!1),l.setEnd(this._root,this._root.childNodes.length),l.toString()};Qo.prototype.surround=function(l){typeof l=="string"||l instanceof String?l=document.createElement(l):l instanceof ds.Tag&&(l=l.dom()),this.range().surroundContents(l),this.raw().removeAllRanges();var e=new Range;return e.selectNodeContents(l),this.raw().addRange(e),this};Qo.prototype.start=function(){return this.textBefore().length};Qo.prototype.rect=function(){if(this._rect)return this._rect;if(this._rect=this.range().getBoundingClientRect(),this._rect.bottom==0){let l=this.serialize(),e=l.before?l.start-1:l.start;if(l.length==0){let t=Qo.range(this._root,e,e+1);this._rect=t.getBoundingClientRect()}}return this._rect};Qo.prototype.closest=function(l){let e=this.raw().anchorNode;return e instanceof Text&&(e=e.parentNode),e.closest(l)};Qo.prototype.toString=function(){return this.raw().toString()};Qo.prototype.atStart=function(){return this.raw().isCollapsed&&this.start()==0};Qo.prototype.atEnd=function(){return this.raw().isCollapsed&&this.textAfter().length==0};Qo.prototype.atTop=function(){var l=this.rect(),e=this._root.getBoundingClientRect(),t=window.getComputedStyle(this._root,null).getPropertyValue("padding-top");return Math.abs(e.top+parseInt(t)-l.top)<6||this.atStart()};Qo.prototype.atBottom=function(){var l=this.rect(),e=this._root.getBoundingClientRect(),t=window.getComputedStyle(this._root,null).getPropertyValue("padding-bottom");return Math.abs(e.bottom-l.bottom-parseInt(t))<6||this.atEnd()};Qo.prototype.insert=function(l){(typeof l=="string"||l instanceof String)&&(l=document.createTextNode(l));var e=this.range();return e.insertNode(l),e};Qo.prototype.serialize=function(){return this._serialized||(this._serialized={start:this.start(),length:this.toString().length,text:this.toString(),before:this.textBefore(),after:this.textAfter()})};Qo.prototype.collapseToEnd=function(){return this.raw().collapseToEnd()};Qo.setCaret=function(l,e){var t=document.createRange();t.selectNodeContents(l._dom||l),t.collapse(e!=-1);var r=window.getSelection();return r.removeAllRanges(),r.addRange(t),r};Qo.rangeOffset=function(l,e){for(var t=document.createRange(),r=document.createTreeWalker(l,NodeFilter.SHOW_TEXT),o,n=0,i,s,a;o=r.nextNode();){a=o;let u=n,c=u+o.length;if(n+=o.length,e>=u&&e<=c&&!i)return[o,e-u]}if(!a)return[l,0]};Qo.range=function(l,e,t,o){var o=document.createRange();if(l instanceof Array){let d=l[0],f=l[l.length-1];return o.setStartBefore(d._dom||d),o.setEndAfter(f._dom||f),o}var n=l instanceof Text?l.textContent.length:l.innerText.length;if(e<0&&(e=Math.max(n+(e+1),0)),t==null&&(t=e),t<0&&(t=Math.max(n+(t+1),0)),e==0&&(o.setStart(l,e),t==0))return o.setEnd(l,t),o;if(l instanceof Text)return o.setStart(l,Math.min(n,e)),o.setEnd(l,Math.min(n,t)),o;for(var i=document.createTreeWalker(l,NodeFilter.SHOW_TEXT),s,a=0,u,c,h;s=i.nextNode();){let d=h;h=s;let f=a,m=f+s.length;if(a+=s.length,e==f&&d&&d.length>0&&o.setStart(u=s,0),e>=f&&e<=m&&!u&&(o.setStart(u=s,e-f),t==e)){o.setStart(c=s,t-f);break}if(t>=f&&t<m){o.setEnd(c=s,t-f);break}}return h||(o.setStart(l,0),o.setEnd(l,l.childNodes.length)),!u&&h&&o.setStart(h,h.length),!c&&h&&o.setEnd(h,h.length),o};Qo.select=function(l,e,t){var r;l instanceof Range?r=l:r=Qo.range(l,e,t);var o=window.getSelection();return o.removeAllRanges(),o.addRange(r),o};Qo.selectBefore=function(l){var e=new Range;return e.setStartBefore(l),e.setEndBefore(l),this.select(e)};Qo.selectAfter=function(l){var e=new Range;return e.setStartAfter(l),e.setEndAfter(l),this.select(e)};Qo.reselect=function(){var l=window.getSelection();if(l.rangeCount>0){var e=l.getRangeAt(0),t=e.cloneRange();l.removeAllRanges(),l.addRange(t)}return l};Vo.selection=gr.selection=function(){return window.getSelection()};Vo.select=gr.select=function(){for(var l,e=arguments,t=e.length,r=new Array(t>0?t:0);t>0;)r[t-1]=e[--t];return Qo.select.apply(Qo,r)};Vo.isBlock=gr.isBlock=function(l){return l.matches("div,li,p,h1,h2,h3,h4,h5,h6,pre,blockquote")};Vo.blockForNode=gr.blockForNode=function(l){l instanceof Text&&(l=l.parentNode),l instanceof ds.Tag&&(l=l.dom());for(var e=[];l;){if(l._tag&&l._tag.isNoteBlock)return l._tag;e.push(l=l.parentNode)}return e};Vo.closestNode=gr.closestNode=function(l,e){let t;if(l instanceof Range){let r=l;l=r.commonAncestorContainer;let o=r.startContainer;!(l instanceof Text)&&r.collapsed&&(l=l.childNodes[Math.max(r.startOffset-1,0)]||l)}for(l instanceof Text&&(l=l.parentNode);l;){if(l._tag&&l._tag.isBlock){t=l._tag;break}l=l.parentNode}return t?e=="inline"?t.isBlock()?null:t:e=="block"?t.block():typeof e=="string"||e instanceof String?t.closest(e):t:null};Vo.inlineForNode=gr.inlineForNode=function(l){return l instanceof Text&&(l=l.parentNode),l instanceof ds.Tag&&(l=l.dom()),l.closest("span,em,strong,code,a,img")};Vo.escapeTicks=gr.escapeTicks=function(l){return l.indexOf("")>=0&&(l=l.replace(/\u200b/g,"")),l.indexOf("`")>=0?l.replace(/\`/g,"\\`"):l};Vo.textBefore=gr.textBefore=function(l,e){return l=l.cloneRange(),e||(e=gr.closestNode(l.startContainer)),l.collapse(!0),l.setStart(e._dom||e,0),l.toString()};Vo.textAfter=gr.textAfter=function(l,e){return l=l.cloneRange(),e||(e=gr.closestNode(l.endContainer)),e=e._dom||e,l.collapse(!1),l.setEnd(e,e.childNodes.length),l.toString()};Vo.nodeRangeInfo=gr.nodeRangeInfo=function(l,e){var t;let r=e._dom||e;return t={node:e._tag||e,before:gr.textBefore(gr.item(),r),after:gr.textAfter(gr.item(),r)}};Vo.guessCodeLanguage=gr.guessCodeLanguage=function(l,e){let t="if else do def is then switch function var let const class module export import require return".split(" "),r=new RegExp("\b("+t.join("|")+")\b","g");l=l.replace(/^\#+\s+/gm,""),l=l.replace(/^\s*[\*\-\]\s*/gm,""),l=l.replace(/^\s*\[[\sx]\]\s*/gm,""),l=l.replace(/^\>\s*/gm,""),l=l.replace(r,""),l=l.replace(/(\w)(\w+)/g,"$1"),l=l.replace(/\w\.\w/g,""),l=l.replace(/(\w)[\.\?\!] (\w)/g,"$1 $2"),l=l.replace(/(\w)[\.\?\!]$/gm,"$1");let o={score:0,languages:[]},n={words:Ax(l.replace(/[^\w]/g,"")),indent:Ax(l)-Ax(l.replace(/\t|\ {2}/g,"")),symbols:Ax(l.replace(/[\w\s]/g,""))};return Object.assign(o,n),o.tokens=l,o.score=(n.indent*1.5+n.symbols)/n.words,o};Vo.contextualize=gr.contextualize=function(l,e,t){var r;t===void 0&&(t=!1);var o=Date.now();let n={},i=e;if(e instanceof Selection){if(e.rangeCount==0)return{};e=e.getRangeAt(0)}if(e instanceof Range){let s=e.commonAncestorContainer;if(s.contains(l)){let a=Range.mdRange(l,0,-1);s=l,e=a}else if(!l.contains(s))return e=e.mdNormalize(),null;if(n.dom=s,n.dom instanceof Text&&(n.dom=n.dom.parentNode),n.range=e,n.node=gr.closestNode(e),n.inline=gr.closestNode(e,"inline"),n.block=n.node.block(),e.startContainer==(r=e.endContainer)&&r==n.block.dom()&&e.endOffset==e.startOffset+1){let a=e.startContainer.childNodes[e.startOffset];n.node=gr.closestNode(a),n.block=n.node.block(),n.dom=a}n.dom.contains(n.node.dom())&&(n.dom=n.node.dom()),n.text=e.toString(),n.textBefore=e.mdTextBefore(n.block.body()),n.textAfter=e.mdTextAfter(n.block.body()),t&&(n.start={node:gr.closestNode(n.range.startContainer),textBefore:gr.textBefore(n.range)},n.end={node:gr.closestNode(n.range.endContainer),textAfter:gr.textAfter(n.range)})}return e instanceof Text&&(e=e.parentNode),n.node||(n.node=e._tag),n.block||(n.block=gr.blockForNode(e)),n};Vo.blocksInRange=gr.blocksInRange=function(l){l=l.cloneRange().mdNormalize();let e=l.startContainer,t=l.endContainer,r=l.commonAncestorContainer,o=gr.blockForNode(e),n=gr.blockForNode(t),i=gr.blockForNode(r),s=[];if(o==n&&o!=o.root()&&o._dom!=e&&n._dom!=t)return[o];if(o==i&&o!=n&&o.contains(n)&&o!=o.root())return[o];let a=!0;for(let u=0,c=bPe(i.childBlocks()),h=c.length,d;u<h;u++)d=c[u],l.intersectsNode(d.dom())?s.push(d):a=!1;return a&&Xsr(i.type(),["blockquote","tr","thead","tbody","table"])>=0?i.type()=="tr"&&i.dom().matches(":only-child")?[i.table()]:Xsr(i.type(),["thead","tbody"])>=0?[i.table()]:[i]:s};Vo.serialize=gr.serialize=function(l,e){e===void 0&&(e={});let t=[];for(let r=0,o=bPe(l),n=o.length,i;r<n;r++)i=o[r],i=i._tag||i,!(e&&e.exclude&&e.exclude.indexOf(i)>=0)&&t.push(i instanceof Text?i.textContent:i instanceof Element?"":i instanceof ds.Tag&&(i.serialize?i.serialize(e):""));return t};Vo.blockify=gr.blockify=function(l,e){if((typeof l=="string"||l instanceof String)&&(l={type:l}),l instanceof Element)return l._tag;if(l instanceof Object){var t=l.type,r=ds.TAGS["md:"+t];if(!r)throw"could not find "+t;let o=ds.createElement("md:"+l.type,null,null,e);return o.build(l),o.setData(l),o}};Vo.zeroWidthSpace=gr.zeroWidthSpace=function(l){return ds.document().createTextNode("")};Vo.deserialize=gr.deserialize=function(l,e,t){(!t||t.constructor!==Object)&&(t={});var r=t.block!==void 0?t.block:!1;if(l instanceof DocumentFragment)return l;l instanceof Array||l instanceof NodeList||(l=[l]);let o=[],n=null;for(let u=0,c=l.length,h;u<c;u++){if(h=l[u],typeof h=="string"||h instanceof String){if(n)n.textContent=n.textContent+h;else{let d=ds.document().createTextNode(h);n=d,o.push(d)}continue}if(n=null,h instanceof Element||h instanceof Text){o.push(h);continue}if(h instanceof ds.Tag){o.push(h.dom());continue}if(h instanceof Object){if(h.type=="comment"){let f=ds.document().createComment(h.value);o.push(f);continue}if(h.markdown&&!h.type&&(h=II.md2note(h.markdown).body[0],e&&!e.allowChildType(h.type)&&h.body&&h.body.length==1&&(h=h.body[0],!e.allowChildType(h.type))))continue;var i=h.type,s=ds.TAGS["md:"+i];let d;if(h.html==!0)d=ds.TAGS["md:htmltag"].build(e,h.type);else if(!s)continue;d||(d=ds.createElement("md:"+i,null,null,e)),d.build(h),d.setData(h),h.meta&&(d.dom().dataset.meta=h.meta),d.built instanceof Function&&d.built(),o.push(d.dom())}}if(Ax(l)==1)return o[0];let a=ds.document().createDocumentFragment();for(let u=0,c=o.length;u<c;u++)a.appendChild(o[u]);return a};Vo.awaken=gr.awaken=function(){for(var l=arguments,e=l.length,t=new Array(e>0?e:0);e>0;)t[e-1]=l[--e];return II.awakenNode.apply(II,t)};Vo.checkIfFileIsImage=gr.checkIfFileIsImage=function(l){return gr}});var rlr=Gt(()=>{T();function Fse(l){return l?l.toArray?l.toArray():l:[]}var Hse=Cm(),Jsr=Hse.blockify,Qsr=Hse.closestNode,gPe=Hse.Sel,elr=Hse.deserialize,tlr=(jx(),rR(O7)),Ise=tlr.dom2md,kPe=tlr.md2note,eJo=new WeakMap;Range.VISUAL_POSITION_FIRST_LINE=1;Range.VISUAL_POSITION_LAST_LINE=2;Range.mdInvalidate=function(){return eJo=new WeakMap};Range.mdDeserialize=function(l){if(!l)return;let e=gPe.rangeOffset(l[0],l[1]),t=gPe.rangeOffset(l[2],l[3]),r=document.createRange();return r.setStart(e[0],e[1]),r.setEnd(t[0],t[1]),r;return r=gPe.range(l[0],l[1],l[2]),r};Range.mdRange=function(l,e,t){return Selection.mdRange(l,e,t)};Range.mdRangeInside=function(l){let e=document.createRange();return l=l._dom||l,e.setStart(l,0),e.setEnd(l,l.childNodes.length),e};Range.mdRangeFromPoint=function(l,e,t){if(l=l._dom||l,l.innerText==""){let i=l.getBoundingClientRect(),s=t>i.top+i.height*.5;return this.mdRangeInside(l).mdCollapse(!s).mdNormalize()}var r=this.mdRangeInside(l).mdLinesInfo(),o;for(let i=0,s=Fse(r.lines),a=s.length,u;i<a&&(u=s[i],o=u,!(u.top>t));i++);if(!o)return null;let n=o.last?o.start+o.str.length:o.start;for(let i=0,s=Fse(o.edges),a=s.length,u;i<a;i++){u=s[i];let c=u.left,h=o.edges[i+1];if(h&&(c+=(h.left-c)*.5,u.center=c),n=u.index,c>=e)break}return this.mdRange(l,n)};Range.mdVisualRange=function(l,e,t,r){if(l=l._dom||l,l.innerText=="")return this.mdRangeInside(l);r||(r=this.mdRangeInside(l).mdLinesInfo()),e<0&&(e=r.lines.length+e);let o=r.lines[e],n=o.last?o.start+o.str.length:o.start;for(let i=0,s=Fse(o.edges),a=s.length,u;i<a;i++){u=s[i];let c=u.left,h=o.edges[i+1];if(h&&(c+=(h.left-c)*.5,u.center=c),n=u.index,c>=t)break}return this.mdRange(l,n)};Range.prototype.mdDeserialize=function(l){return elr(l,this.mdStartNode())};Range.prototype.mdSelect=function(){var l=window.getSelection();return l.removeAllRanges(),l.addRange(this),this};Range.prototype.mdSelectNode=function(l){return this.selectNode(l),this};Range.prototype.mdRects=function(){let l=Array.from(this.getClientRects());return l.length==0?[this.mdBoundingRect()]:l};Range.prototype.mdBoundingRect=function(){let l=this,e=this.getBoundingClientRect();if(e.x==0&&e.y==0&&e.height==0&&e.width==0){let t=this.commonAncestorContainer;if(t&&t.innerText=="")return t.getBoundingClientRect();if(t){let o=Range.mdRangeInside(t).mdRects();return this.startOffset==0?o[0]:o[o.length-1]}}return e};Range.prototype.mdIsInFirstLine=function(l){return this.mdCompareVisualPosition(l)&Range.VISUAL_POSITION_FIRST_LINE};Range.prototype.mdIsInLastLine=function(l){return this.mdCompareVisualPosition(l)&Range.VISUAL_POSITION_LAST_LINE};Range.prototype.mdCompareVisualPosition=function(l){l=l._dom||l,l instanceof Element&&(l=Range.mdRangeInside(l));let e=this.cloneRange().mdCollapse(!0).mdBoundingRect(),t=this.cloneRange().mdCollapse().mdBoundingRect(),r=l.mdRects(),o=0,n=r[0],i=r[r.length-1];return console.log("compare top",n,e),console.log("compare end",i,t),n&&n.bottom>e.top+e.height*.5&&(o|=Range.VISUAL_POSITION_FIRST_LINE),i&&t.top>=i.top&&(o|=Range.VISUAL_POSITION_LAST_LINE),o};Range.prototype.mdLinesInfo=function(){let l=this.mdStartNode()._dom,e=Range.mdRangeInside(l),t=[],r=0;var o=0;let n=l.textContent;var i=document.createTreeWalker(l,NodeFilter.SHOW_TEXT),s=document.createRange(),a=i.nextNode(),u,c={nr:0,start:0,str:"",edges:[]};let h=[],d=[c],f={};for(;r<n.length&&a;){let m=r-o;if(m>=a.length){o=r,a=i.nextNode();continue}s.setStart(a,m),s.setEnd(a,m+1);let $=s.mdRects()[0];u||(u=$),$.top>=u.top+u.height*.5&&(f.last=!0,d.push(c={top:$.top,bottom:$.bottom,start:r,str:"",nr:d.length,edges:[]})),f={str:n[r],index:r,line:c,left:$.left,rect:$},c.top=$.top,c.height=$.height,c.str+=n[r],c.edges.push(f),t.push($),u=$,c.end=m,h[r]=f,r++}return c.last=!0,u&&c.edges.push(h[r]={index:r,str:"",line:c,left:u.left+u.width,last:!0}),{lines:d,map:h}};Range.prototype.mdCollapse=function(l){return this.collapse(l),this};Range.prototype.mdVisualInfo=function(){let l=this.mdStartNode()._dom,e=this.cloneRange(),t={text:l.textContent,lines:this.mdLinesInfo(),before:this.mdTextBefore(l)};return t.start=t.lines.map[t.before.length],t.inFirstLine=t.start.line.nr==0,t.inLastLine=!!t.start.line.last,t};Range.prototype.mdRangeAfter=function(l){let e=this.cloneRange();return l=l._dom||l,e.collapse(!1),e.setEnd(l,l.childNodes.length),e};Range.prototype.mdRangeBefore=function(l){let e=this.cloneRange();return l=l._dom||l,e.collapse(!0),e.setStart(l,0),e};Range.prototype.mdTextBefore=function(l){return this.mdRangeBefore(l).toString()};Range.prototype.mdTextAfter=function(l){return this.mdRangeAfter(l).toString()};Range.prototype.mdExtract=function(){return this.toString()?this.mdNormalizeAtomic().extractContents():null};Range.prototype.mdAtom=function(){let l=this.mdStartNode("a"),e=this.mdEndNode("a");return l&&e&&l==e?l:null};Range.prototype.mdInsert=function(l){let e=elr(l),t=this.mdStartNode("a,code.a"),r=this.mdEndNode("a,code.a");return console.log("mdInsert",l,e,this,t,r),t&&t==r&&(this.setStartAfter(t.dom()),this.setEndAfter(r.dom())),this.insertNode(e),e};Range.prototype.mdSerialize=function(){var l=this.mdStartNode(),e=this.mdEndNode("div,label,tr,td,th"),t=this.mdTextBefore(l),r=this.mdTextAfter(e);return[l._dom||l,t.length,e._dom||e,e.dom().textContent.length-r.length]};Range.prototype.mdClone=function(){return this.toString()?this.mdNormalizeAtomic().cloneContents():null};Range.prototype.mdDelete=function(){return this.mdNormalizeAtomic().deleteContents()};Range.prototype.mdInfo=function(l){let e=l._dom||l;var t={node:l._tag||l,before:this.mdTextBefore(l),after:this.mdTextAfter(l),range:this};return t.atStart=!t.before&&this.collapsed,t.atEnd=!t.after&&this.collapsed,t.atEnds=!t.before&&!t.after,t};Range.prototype.mdWrap=function(l){var e;if(e=Jsr(l))return this.surroundContents(e.body()),e};Range.prototype.mdReplace=function(l){let e=this.extractContents();if(typeof l=="string"||l instanceof String){let t=document.createTextNode(l);return this.insertNode(t),this.setStartAfter(t),t}else{let t=Jsr(l);return this.insertNode(t.body()),t}};Range.prototype.mdStartNode=function(l){l===void 0&&(l="block");let e=this.startContainer;return e instanceof Element&&(e=e.childNodes[this.startOffset]||e),Qsr(e,l)};Range.prototype.mdEndNode=function(l){l===void 0&&(l="block");let e=this.endContainer;return e instanceof Element&&(e=e.childNodes[this.endOffset-1]||e),Qsr(e,l)};Range.prototype.mdBlocks=function(){let l=this.mdStartNode(),e=this.mdEndNode();if(!(l&&l.isBlock))return[];let t=l.closest("table"),r=e.closest("table");if(t&&!r)l=t;else if(r&&!t)e=r;else if(t&&t==r){let n=l.closest("th,td"),i=e.closest("th,td");return!n||!i?[t]:t.subcells(n,i)}var o=l.root().allBlocks();return l==e?[l.block()]:o.slice(o.indexOf(l.block()),o.indexOf(e.block())+1)};Range.prototype.mdIsCellMode=function(){return this.mdBlocks().every(function(l){return l.matches("th,td")})};Range.prototype.mdDeleteContents=function(l){l===void 0&&(l={});var e=Date.now();this.mdNormalizeAtomic();let t=this.mdBlocks();if(t.every(function(S){return S.matches("th,td")})){for(let S=0,v=Fse(t),C=v.length;S<C;S++)v[S].clear();return this}let o=this.mdStartNode("label,div,td,th,table"),n=this.mdEndNode("label,div,td,th,table"),i=o.closest("table"),s=n.closest("table");if(o.matches("div.pre")&&this.setStartBefore(o.dom()),n.matches("div.pre")&&this.setEndAfter(n.dom()),i&&!s)this.setStartBefore(i.dom()),o=i;else if(s&&!i)this.setEndAfter(s.dom()),n=s;else if(i&&i==s){let S=o.closest("tr"),v=n.closest("tr");if(S==v)return S.cell(0).table_delete_row()}let a=this.mdRangeBefore(o).mdClone(),u=this.mdRangeAfter(n).mdClone(),c=o.block(),h=Ise(a)+Ise(u),d=h?kPe(h).body[0].body:[],f=this.mdTextBefore(o).length;if(o==n&&o.matches("th,td"))return o.deserialize(d);let m;o.matches("th,td")||n.matches("th,td")||(m=c.serialize({exclude:this.mdBlocks()}),m.body=d,c.isObject()&&(m.type="p"),m=c.addBlockBefore(m));for(var $=o.root().allBlocks(),b=$.indexOf(c),g=$.indexOf(n.block()),x=[],k=[],_=!1;b;){let S=$[b++];if(!S)break;let v=this.intersectsNode(S._dom),C=x.some(function(j){return j.contains(S)});if(v||(_=!0),v&&!_&&!C&&x.push(S),!v)if(C)k.some(function(j){return j.contains(S)})||k.push(S);else break}for(let S=0,v=k.length;S<v;S++)c.addBlockBefore(k[S].serialize());for(let S=0,v=x.length,C;S<v;S++)if(C=x[S],C==o&&C.matches("th,td")){let j=h?kPe(Ise(a)).body[0].body:[];C.deserialize(j)}else if(C==n&&C.matches("th,td")){let j=h?kPe(Ise(u)).body[0].body:[];C.deserialize(j)}else C.removeBlock();return m?(m.select(f),m.snapshot(),m):(o.select(f),o.snapshot(),o)};Range.prototype.mdIsEqual=function(l){return!(this.endContainer!=l.endContainer||this.endOffset!=l.endOffset||this.startContainer!=l.startContainer||this.startOffset!=l.startOffset)};Range.prototype.mdNormalizeAtomic=function(){if(!this.collapsed){let l=this.mdStartNode("a"),e=this.mdEndNode("a");l&&this.setStartBefore(l.dom()),e&&this.setEndAfter(e.dom())}return this};Range.prototype.mdNormalize=function(l){var e,t,r;(!l||l.constructor!==Object)&&(l={});var o=l.up!==void 0?l.up:!0,n=l.down!==void 0?l.down:!0;let i=!1;for((e=this.endContainer)&&e.matches&&e.matches("div.pre")&&this.endOffset==1&&!this.collapsed&&this.setEndBefore(this.endContainer),this.collapsed||this.endContainer instanceof Text&&this.endOffset==0&&!this.endContainer.previousSibling&&this.setEndBefore(this.endContainer);this.endContainer instanceof Element&&this.endOffset==0&&!this.collapsed&&!this.endContainer.matches("th,td");)i=!0,this.setEndBefore(this.endContainer);if(this.mdNormalizeAtomic(),this.collapsed)for(;this.startContainer instanceof Element&&this.startOffset==0&&this.startContainer.childNodes[0];){let u=this.startContainer.childNodes[0];this.setStart(u,0),this.setEnd(u,0)}if(this.collapsed&&this.startContainer instanceof Element){let u=this.startContainer.childNodes[this.startOffset];u&&(t=u)&&t.matches&&t.matches("table")&&this.setStart(u.querySelector("th,td"),0)}let s=this.mdStartNode("label,div,figure,td,th"),a=this.mdEndNode("label,div,figure,td,th");if((r=this.startContainer)&&r.matches&&r.matches(".todo")&&this.startContainer.contains(this.endContainer)&&this.setStart(s.body(),0),s!=a&&(s.matches("div.pre,figure")&&this.setStartBefore(s.dom()),a.matches("div.pre,figure")&&this.setEndAfter(a.dom())),this.endContainer instanceof Element){let u=this.endContainer.childNodes[this.endOffset-1];for(;u instanceof Element&&u.contains(this.startContainer);)this.setEnd(u,u.childNodes.length),u=this.endContainer.childNodes[this.endOffset-1]}return s.matches("th,td")&&s.closest("table")!=a.closest("table")&&this.setStartBefore(s.closest("table").dom()),a.matches("th,td")&&s.closest("table")!=a.closest("table")&&this.setEndAfter(a.closest("table").dom()),this.endContainer instanceof HTMLTableCellElement&&this.endOffset==0,this};Range.prototype.clientWidth=0;Range.prototype.clientHeight=10});var alr=Gt(llr=>{T();function R7(l){return l?l.toArray?l.toArray():l:[]}function olr(l){return l&&(l.len instanceof Function?l.len():l.length)||0}var M7=Cm(),uIn=M7.closestNode,slr=M7.rangeIsReversed,slr=M7.rangeIsReversed,cIn=M7.blocksInRange,nlr=M7.Sel,ilr=M7.compareArrays;function Lr(l){this._owner=l,globalThis.BS=this}llr.BlockSelection=Lr;Lr.prototype.__anchor={watch:"anchorDidSet",name:"anchor"};Lr.prototype.anchor=function(l){return this._anchor};Lr.prototype.setAnchor=function(l){var e=this.anchor();return l!=e&&(this._anchor=l),l!=e&&this.anchorDidSet&&this.anchorDidSet(l,e,this.__anchor),this};Lr.prototype.__focus={watch:"focusDidSet",name:"focus"};Lr.prototype.focus=function(l){return this._focus};Lr.prototype.setFocus=function(l){var e=this.focus();return l!=e&&(this._focus=l),l!=e&&this.focusDidSet&&this.focusDidSet(l,e,this.__focus),this};Lr.prototype.first=function(){return this.isReversed()?this.focus():this.anchor()};Lr.prototype.last=function(){return this.isReversed()?this.anchor():this.focus()};Lr.prototype.lastContainer=function(){let l=this.first()._dom,e=this.last()._dom;for(;!e.parentNode.contains(l);)e=e.parentNode;return e.matches("section")&&(e=e.parentNode),e._tag};Lr.prototype.firstContainer=function(){let l=this.first()._dom,e=this.last()._dom;for(;!l.parentNode.contains(e);)l=l.parentNode;return l.matches("section")&&(l=l.parentNode),l._tag};Lr.prototype.commonContainer=function(){var l;let e=this.first();return l=this.last()};Lr.prototype.containers=function(){if(this.isCollapsed())return[this.anchor()];var l=this.firstContainer(),e=this.lastContainer(),t=l.parentBlock().childBlocks();return t.slice(t.indexOf(l),t.indexOf(e)+1)};Lr.prototype.anchorDidSet=function(l){return this._blocks=null};Lr.prototype.focusDidSet=function(l){this._blocks=null,this.isTableMode()&&this._updating};Lr.prototype.isSameLevel=function(){return!0};Lr.prototype.isInlineAllowed=function(){return!(this.first()&&this.last()&&this.first()!=this.last()&&(this.first().matches("th,td")||this.last().matches("th,td")))};Lr.prototype.blocks=function(){if(this._blocks)return this._blocks;if(this.isCollapsed())return[this.anchor()];let l=this.first(),e=this.last(),t=l.closest("table"),r=e.closest("table");if(t&&l.matches("th,td")&&e.matches("th,td"))return t.subcells(l,e);if(t&&!r)l=t;else if(r&&!t)e=r;else if(t&&t==r){let n=l.closest("th,td"),i=e.closest("th,td");return t.subcells(n,i)}var o=this._owner.allBlocks();return o=o.slice(o.indexOf(l),o.indexOf(e)+1)};Lr.prototype.shallowBlocks=function(){var l=this.blocks();return l.filter(function(e){return!l.some(function(t){return t!=e&&t.contains(e)})})};Lr.prototype.update=function(l,e,t){var r=l.slice(0);return e&&(r=r.reverse()),this._updating=!0,this.setAnchor(r[0]),this.setFocus(r[r.length-1]),this._updating=!1,this._blocks=t||null,this};Lr.prototype.mdSerialize=function(){return[[this.anchor()._dom,this.focus()._dom],this.isReversed()]};Lr.prototype.mdRestore=function(l){return this.setAnchor(l[0][0]._tag||l[0][0]),this.setFocus(l[0][1]._tag||l[0][1]),this.apply()};Lr.prototype.normalize=function(){return this};Lr.prototype.isCollapsed=function(){return this.anchor()==this.focus()};Lr.prototype.collapse=function(l){return l===void 0&&(l=!0),this._tableCellAnchor=null,l?this.setAnchor(this.focus()):this.setFocus(this.anchor()),this._owner.inBlockMode()||(window.getSelection().mdSelect(this.focus(),0),this._owner.updateSelections()),this};Lr.prototype.enterTableMode=function(l){return this._tableCellAnchor=l||!0};Lr.prototype.exitTableMode=function(){return this._tableCellAnchor=null};Lr.prototype.isTableMode=function(){return!!(this.focus().matches("td,th")&&this.anchor().matches("td,th")&&(!this.isCollapsed()||this._tableCellAnchor))};Lr.prototype.isReversed=function(){var l=this._owner.allBlocks();return l.indexOf(this.anchor())>l.indexOf(this.focus())};Lr.prototype.select=function(l){return l?(this.setAnchor(l),this.setFocus(l),this):this};Lr.prototype.apply=function(){return this._owner.setSelections(this.blocks()),this.focus().dom().scrollIntoViewIfNeeded(),this};Lr.prototype.selectAbove=function(l){if(l===void 0&&(l=!0),this.focus().matches("td,th"))return this.setFocus(this.focus().cellAbove()||this.focus()),l&&this.collapse(),this;if(l){let e=this.first().blockAbove(!0);return e&&e.matches("td,th")&&!this.first().matches("td,th")&&(e=e.table()),this.select(e)}else this.moveFocusUp();return this};Lr.prototype.selectBelow=function(l){return l===void 0&&(l=!0),this.focus().matches("td,th")?(this.setFocus(this.focus().cellBelow()||this.focus()),l&&this.collapse(),this):(l?this.select(this.last().blockBelow()):this.moveFocusDown(),this)};Lr.prototype.selectLeft=function(l){return l===void 0&&(l=!0),this.focus().matches("td,th")?(this.setFocus(this.focus().prev()||this.focus().cellAbove()||this.focus()),l&&this.collapse(),this):l&&this.focus().matches("td,th")?this.select(this.focus().blockOnLeft()||this.focus()):this.selectAbove(l)};Lr.prototype.selectRight=function(l){return l===void 0&&(l=!0),this.focus().matches("td,th")?(this.setFocus(this.focus().next()||this.focus().cellBelow()||this.focus()),l&&this.collapse(),this):this.selectBelow(l)};Lr.prototype.selectPrev=function(l){return l===void 0&&(l=!0),this.selectAbove(l)};Lr.prototype.selectNext=function(l){return l===void 0&&(l=!0),this.selectBelow(l)};Lr.prototype.moveFocusUp=function(){var l;let e=this.focus().blockAbove()||this.focus();return(l=e)&&l.matches&&l.matches("td")&&(e=e.table()),this.setFocus(e),this};Lr.prototype.moveFocusDown=function(){var l;let e=this.focus().blockBelow()||this.focus();return(l=e)&&l.matches&&l.matches("td")&&(e=e.table()),this.setFocus(e),this};Lr.prototype.remove=function(){if(this.isTableMode()){let i=this.blocks(),s=this.focus().table();if(olr(i)==olr(s.cells())){let u=s.addBlockBefore({type:"p"});return s.removeBlock(),this.exitTableMode(),u.select(0),this._owner.updateSelections(),this}if(i.map(function(u){return u._dom.innerText}).join("").replace(/\n/g,"")==""){let u=s.column(this.focus().index()),c=this.focus().row().cells();if(ilr(u,i)){let h=this.focus().index();s.deleteCol(h);let d=s.cell(h,0)||s.cell(h-1,0);return d&&d.select(-1),this.exitTableMode(),this._owner.updateSelections(),this}else if(ilr(c,i)&&s.dom().rows.length>2){let h=s.cell(-1,this.focus().rowIndex()-1)||s.cell(-1,this.focus().rowIndex()+1);return s.deleteRow(this.focus().rowIndex()),h&&h.select(-1),this.exitTableMode(),this._owner.updateSelections(),this}}for(let u=0,c=R7(i),h=c.length;u<h;u++)c[u].clear();return window.getSelection().setBaseAndExtent(this.anchor().dom(),0,this.focus().dom(),0),this}let l=this.blocks(),e=l[0].prevBlock(),t=this.lastContainer().nextBlock(),r=l[0].parentBlock(),o=this.shallowBlocks(),n=this.lastContainer().allBlocks().filter(function(i){return l.indexOf(i)==-1});if(e)for(let i=0,s=R7(n.reverse()),a=s.length,u;i<a;i++)u=s[i],!n.some(function(c){return c!=u&&c.contains(u)})&&e.addBlockAfter(u.serialize());else if(t)for(let i=0,s=R7(n),a=s.length,u;i<a;i++)u=s[i],!n.some(function(c){return c!=u&&c.contains(u)})&&t.addBlockBefore(u.serialize());for(let i=0,s=R7(o),a=s.length;i<a;i++)s[i].removeBlock();if(e)this.select(e.nextBlock()||e).apply();else if(t)this.select(t).apply();else if(this._owner.hasChildBlocks())r&&this.select(r).apply();else{let i=this._owner.addBlockInside({type:"p"});this.select(i).apply()}return this};Lr.prototype.indent=function(){if(this.focus().matches("td,th"))return this.setFocus(this.focus().nextTabTarget()),this.collapse(),this.focus().select(0,-1),console.log("select all?!",this.focus()),this;let l=this.first().prevBlock(),e=[];if(l&&l.allowChild(this.first()))for(let t=0,r=R7(this.blocks()),o=r.length,n;t<o;t++)n=r[t],e.some(function(i){return i.contains(n)})||e.push(n);return window.getSelection().mdPreserve(function(){let t=[];for(let r=0,o=e.length;r<o;r++)t.push(l.addBlockInside(e[r]));return t}),this};Lr.prototype.outdent=function(){let l=this.firstContainer().parentBlock();if(l==this.firstContainer().root())return this;let e=this.containers();return window.getSelection().mdPreserve(function(){let t=[];for(let r=0,o=R7(e.reverse()),n=o.length;r<n;r++)t.push(l.addBlockAfter(o[r]));return t}),this};Selection.prototype.mdSelect=function(l,e,t){if(l instanceof Range)return this.removeAllRanges(),this.addRange(l),this.getRangeAt(0);let r=this.rangeCount==0?document.createRange():this.getRangeAt(0);return l=l._dom||l,e==null?r.mdSelectNode(l).mdSelect():(t==null&&(t=e),this.setBaseAndExtent(l,e,l,t),this.getRangeAt(0))};Selection.prototype.mdFirstRange=function(){return this.rangeCount==0?document.createRange():this.getRangeAt(0)};Selection.prototype.mdExtend=function(l,e){return this.extend(l._dom||l,e||0)};Selection.prototype.mdIsCollapsed=function(){return this.isCollapsed};Selection.prototype.mdIsReversed=function(){return slr(this.anchorNode,this.anchorOffset,this.focusNode,this.focusOffset)};Selection.prototype.mdPreserve=function(l){let e=[this.anchorNode,this.anchorOffset,this.focusNode,this.focusOffset];return l&&l(),this.setBaseAndExtent.apply(this,e),this};Selection.prototype.mdSerialize=function(l){if(this.rangeCount==0||l&&!l.contains(this.anchorNode))return null;var e=this.getRangeAt(0).mdSerialize();return[e,this.mdIsReversed()]};Selection.prototype.mdCaretRange=function(){try{let l=this.mdRange().cloneRange();return l.collapse(this.mdIsReversed()),l}catch{}};Selection.prototype.mdCaretBox=function(){var l;return(l=this.mdCaretRange())&&l.mdBoundingRect&&l.mdBoundingRect()};Selection.prototype.mdDeserialize=function(l){let e=nlr.rangeOffset(l[0][0],l[0][1]),t=nlr.rangeOffset(l[0][2],l[0][3]);return l[1]?this.setBaseAndExtent(t[0],t[1],e[0],e[1]):this.setBaseAndExtent(e[0],e[1],t[0],t[1]),this};Selection.prototype.mdRestore=function(l){return console.log("restore caret",l),this.mdDeserialize(l)};Selection.prototype.mdNormalize=function(){let l=this.getRangeAt(0),e=l.cloneRange().mdNormalize();return l.mdIsEqual(e)?this:(this.mdIsReversed()?this.setBaseAndExtent(e.endContainer,e.endOffset,e.startContainer,e.startOffset):this.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),this)};Selection.prototype.mdAnchor=function(l){l===void 0&&(l="block");try{return this.mdIsReversed()?this.mdRange().mdEndNode(l):this.mdRange().mdStartNode(l)}catch{}};Selection.prototype.mdFocus=function(l){l===void 0&&(l="block");try{return this.mdIsReversed()?this.mdRange().mdStartNode(l):this.mdRange().mdEndNode(l)}catch{}};Selection.prototype.mdInfo=function(l){try{return this.getRangeAt(0).mdInfo(l)}catch{}};Selection.prototype.mdRange=function(){try{return this.getRangeAt(0)}catch{}};Selection.mdRange=function(l,e,t,o){var o=document.createRange();if(l instanceof Array){let d=l[0],f=l[l.length-1];return o.setStartBefore(d._dom||d),o.setEndAfter(f._dom||f),o}var n=l instanceof Text?l.textContent.length:l.innerText.length;if(e<0&&(e=Math.max(n+(e+1),0)),t==null&&(t=e),t<0&&(t=Math.max(n+(t+1),0)),e==0&&(o.setStart(l,e),t==0))return o.setEnd(l,t),o;if(l instanceof Text)return o.setStart(l,Math.min(n,e)),o.setEnd(l,Math.min(n,t)),o;for(var i=document.createTreeWalker(l,NodeFilter.SHOW_TEXT),s,a=0,u,c,h;s=i.nextNode();){let d=h;h=s;let f=a,m=f+s.length;if(a+=s.length,e==f&&d&&d.length>0&&o.setStart(u=s,0),e>=f&&e<=m&&!u&&(o.setStart(u=s,e-f),t==e)){o.setStart(c=s,t-f);break}if(t>=f&&t<m){o.setEnd(c=s,t-f);break}}return h||(o.setStart(l,0),o.setEnd(l,l.childNodes.length)),!u&&h&&o.setStart(h,h.length),!c&&h&&o.setEnd(h,h.length),o}});var clr=Gt(ulr=>{T();function tJo(l,e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);l.prototype=Object.create(e.prototype),l.__super__=l.prototype.__super__=e.prototype,l.prototype.initialize=l.prototype.constructor=l}function Ux(){return Imba.Event.apply(this,arguments)}tJo(Ux,Imba.Event);ulr.MDEvent=Ux;Ux.trigger=function(l,e,t,r){var o=new this({type:e,target:t});return o.setSource(l),o.setData(r||l.data()),o.process()};Ux.prototype.stop=function(){var l;return(l=this.source())&&l.stop&&l.stop(),Ux.prototype.__super__.stop.apply(this,arguments)};Ux.prototype.prevent=function(){var l;return(l=this.source())&&l.prevent&&l.prevent(),Ux.prototype.__super__.prevent.apply(this,arguments)}});var hlr=Gt(()=>{T();function rJo(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function oJo(l){return l&&(l.len instanceof Function?l.len():l.length)||0}function Bse(l){return l?l.toArray?l.toArray():l:[]}var Tx=An(),nJo=Tx.createElementFactory(),Ox=Tx.createTagScope(),zse=Cm(),D7=zse.deserialize,Vse=zse.serialize,L7=zse.Sel,iJo=zse.escapeTicks,sJo=Sx().Schema,lJo=Cm(),mIn=clr().MDEvent,Px={options:{}};function FI(l,e){this._klass=l,this._options=e,this._key=e.name,this._getter="m"+e.name,this._setter=Tx.toSetter(this._getter),this.build()}FI.prototype.build=function(){var l=this;let e=l._klass.prototype;return e[l._getter]=function(){return l.get(this)},e[l._setter]=function(t){return l.set(this,t)},l};FI.prototype.get=function(l){let e=l._data&&l._data[this._key];return e===void 0?l.dataset(this._key):e};FI.prototype.set=function(l,e){if(l._data){let t=l._data[this._key];l._data[this._key]=e}return l.dataset(this._key,e),l};FI.prototype.load=function(l,e){return l.dataset(this._key,e)};Ox.defineTag("md:base",function(l){l.prototype.__data={watch:"update",name:"data"},l.prototype.data=function(e){return this._data},l.prototype.setData=function(e){var t=this.data();return e!=t&&(this._data=e),e!=t&&this.update&&this.update(e,t,this.__data),this},l.inherit=function(e){return e._protoDom=null,e._nodeType="div",e._flagName=null,e._classes=[],e._fields=Object.create(this._fields||{})},l.field=function(e,t){return t===void 0&&(t={}),this._fields||(this._fields={}),t.name=e,this._fields[e]=new FI(this,t),this},l.prototype.replaceWithElement=function(e){if(this._dom&&this._dom.outerHTML==e.outerHTML)return this;if(this._dom.nodeName==e.nodeName&&(!e._tag||e._tag.constructor==this.constructor)){let t=!1,r=Array.from(this._dom.childNodes),o=Array.from(e.childNodes);if(o.length>=r.length){t=!0;for(let n=0,i=Bse(o),s=i.length,a;n<s;n++){a=i[n];let u=r[n];if(a instanceof Text&&u instanceof Text){let c=u.textContent,h=a.textContent;c!=h&&(u.textContent=h)}else u&&u._tag&&u._tag.replaceWithElement?u._tag.replaceWithElement(a):u?u.outerHTML!=a.outerHTML&&this._dom.replaceChild(a,u):u?t=!1:this._dom.appendChild(a)}}if(e._tag&&e._tag.mdata instanceof Function&&this.setMdata(e._tag.mdata()),t)return this}return this._dom.parentNode.replaceChild(e,this._dom),e._tag},l.prototype.serializer=function(){return Px},l.prototype.log=function(){for(var e=arguments,t=e.length,r=new Array(t>0?t:0);t>0;)r[t-1]=e[--t];return!0},l.prototype.mdTrigger=function(e,t,r){if(this["on"+t]instanceof Function)return this["on"+t](e,r||e.data())},l.prototype.inBlockMode=function(){return this.root().inBlockMode()},l.prototype.hasFocus=function(){return this.dom().contains(document.activeElement)},l.prototype.fields=function(){return this.constructor._fields},l.prototype.mdata=function(){var e={type:this.type()};for(let t=this.fields(),r,o=0,n=Object.keys(t),i=n.length,s;o<i;o++){s=n[o],r=t[s];let a=r.get(this);a!=null&&(e[s]=a)}return e},l.prototype.setMdata=function(e){let t=this.fields();for(let r,o=0,n=Object.keys(e),i=n.length,s;o<i;o++)s=n[o],r=e[s],t[s]&&t[s].load(this,r);return this},l.prototype.util=function(){return lJo},l.prototype.awaken=function(){return this},l.prototype.root=function(){return this.closest(".markour.root")},l.prototype.closestHeader=function(){return this.closestAbove(".h1,.h2,.h3,.h4")},l.prototype.closestAbove=function(e){let t=this.dom();for(;t=t.previousElementSibling;)if(t.matches(e))return t._tag;return null},l.prototype.closestBelow=function(e){let t=this.dom();for(;t=t.nextElementSibling;)if(t.matches(e))return t._tag;return null},l.prototype.isBlock=function(){return!0},l.prototype.isHeading=function(){return!1},l.prototype.isAtomic=function(){return!1},l.prototype.isInlineBlock=function(){return!1},l.prototype.isTable=function(){return!1},l.prototype.isObject=function(){return!1},l.prototype.isEmpty=function(){return this.text()==""&&this.dom().children.length==0},l.prototype.isEditing=function(){var e;return(e=this.root())&&e.editing&&e.editing()},l.prototype.isOnlyChild=function(){return!this.dom().previousSibling&&!this.dom().nextSibling},l.prototype.is=function(e,t){var r=this;if((typeof e=="string"||e instanceof String)&&e.indexOf(",")>=0&&(e=e.split(",")),e instanceof Array)return e.some(function(n){return r.is(n,t)});let o=e.split(":");for(let n=0,i=Bse(o),s=i.length,a;n<s;n++)if(a=i[n],n==0){if(!(!a||r.type()==a))return!1}else{let u=Tx.toCamelCase("is-"+a);if(!(r[u]instanceof Function&&r[u](t)))return!1}return!0},l.prototype.allowChild=function(e){return!1},l.prototype.addTextAfter=function(e){return this.dom().insertAdjacentText("afterend",e),this.dom().nextSibling},l.prototype.addTextBefore=function(e){return this.dom().insertAdjacentText("beforebegin",e),this.dom().previousSibling},l.prototype.addAdjacent=function(e,t){return this.dom().insertAdjacentElement(e,t._dom||t),t._dom||t},l.prototype.deserialize=function(e){return e||(e=this._data&&this._data.body),this.setBodyContent(e),this},l.prototype.setBodyContent=function(e){return e=D7(e,this,{block:this.isBlock()}),this.body().innerHTML="",this.body().appendChild(e),this},l.prototype.setChildrenContent=function(e){return this},l.prototype.clone=function(){var e;return nJo("md:fragment").setData(Vse).end().root()},l.prototype.selection=function(){var e=window.getSelection();return e&&this.dom().contains(e.anchorNode)?new L7(this.dom(),e):null},l.prototype.snapshot=function(e){return e===void 0&&(e=!1),this._dom&&(!this._dom._snapshot||e)&&(this._dom._snapshot=this.serialize()),this},l.prototype.type=function(){return this.constructor._name},l.prototype.schema=function(){return sJo[this.type()]||{}},l.prototype.block=function(){return this},l.prototype.rootBlock=function(){return this.closest(".markour.root > *")},l.prototype.body=function(){return this.dom()},l.prototype.level=function(){let e=0;return this.block().level()},l.prototype.select=function(e,t){return L7.select(this.body(),e,t)},l.prototype.autoselect=function(){var e;return(e=this.root())&&e.inBlockMode&&e.inBlockMode()?this.root().selectedBlocks().select(this).apply():this.select(0,0),this},l.prototype.selectAll=function(){let e=document.createRange();e.selectNode(this.dom());var t=window.getSelection();return t.removeAllRanges(),t.addRange(e),t},l.prototype.selectBefore=function(){return L7.selectBefore(this.dom())},l.prototype.selectAfter=function(){return L7.selectAfter(this.dom())},l.prototype.range=function(e,t){return L7.range(this.body(),e,t)},l.prototype.exec=function(){for(var e=arguments,t=e.length,r=new Array(t>0?t:0);t>0;)r[t-1]=e[--t];return document.execCommand.apply(document,r)},l.prototype.parentBlock=function(){let e=this.block().parent();return e&&e.isBlock?e.block():null},l.prototype.selectBlock=function(){return this.select(0),this.root()._selectStartBlock=null,this.root().setEditMode("block"),this.root().updateSelections()},l.prototype.nextBlock=function(e){e===void 0&&(e=!1);let t=this.dom();for(var r;t=t.nextElementSibling;)if(t._tag&&(r=t._tag)&&r.isBlock&&r.isBlock())return t._tag;return e?this.parentBlock().nextBlock(e):null},l.prototype.prevBlock=function(e){e===void 0&&(e=!1);let t=this.dom();for(var r;t=t.previousElementSibling;)if(t._tag&&(r=t._tag)&&r.isBlock&&r.isBlock())return t._tag;if(e){let o=this.parentBlock().firstNestedBlock(),n=this.parentBlock().prevBlock();if(o!=this)return o;if(n)return n.lastNestedBlock()}return null},l.prototype.blockAbove=function(e){e===void 0&&(e=!1);let t=this.root().allBlocks();return t[t.indexOf(this)-1]},l.prototype.blockBelow=function(e){e===void 0&&(e=!1);let t=this.root().allBlocks();return t[t.indexOf(this)+1]},l.prototype.blockOnLeft=function(){return this.blockAbove()},l.prototype.blockOnRight=function(){return this.blockBelow()},l.prototype.lastNestedBlock=function(){let e=this.childBlocks();return e&&e.length?e[e.length-1].lastNestedBlock():this},l.prototype.firstNestedBlock=function(){return this},l.prototype.childBlocks=function(){var e;let t=[];for(let r=0,o=Bse(this.dom().children),n=o.length,i;r<n;r++)i=o[r],i._tag&&(e=i._tag)&&e.isBlock&&e.isBlock()&&t.push(i._tag);return t},l.prototype.allBlocks=function(){let e=Array.from(this.querySelectorAll(".rawhtml")),t=Array.from(this.querySelectorAll("div,figure,table,th,td"));return e.length&&(t=t.filter(function(r){return!r.closest(".rawhtml")||e.indexOf(r)>=0})),t},l.prototype.hasChildBlocks=function(){return oJo(this.childBlocks())>0},l.prototype.addBlockAfter=function(e){var t;return(typeof e=="string"||e instanceof String)&&(e={type:e}),e=D7(e,this.parentBlock()),(t=this.dom().nextElementSibling)?this.parent().insertBefore(e,t):this.parent().appendChild(e),e&&e._tag||e},l.prototype.addBlockBefore=function(e){return(typeof e=="string"||e instanceof String)&&(e={type:e}),e=D7(e,this.parentBlock()),this.parent().insertBefore(e,this.dom()),e&&e._tag||e},l.prototype.addBlock=function(e,t){return this.hasChildBlocks()?this.addBlockInside(e,t):this.addBlockAfter(e)},l.prototype.allowChildType=function(e){let t=this.schema().children;return!(!t||t.indexOf(e)==-1&&t.indexOf("*")==-1)},l.prototype.addBlockInside=function(e,t){if(e instanceof Tx.Tag||(e=D7(e,this)._tag),!this.allowChildType(e.type()))return!1;if(typeof t=="number"||t instanceof Number){let r=this.childBlocks()[t];if(r)return r.addBlockBefore(e)}return this.dom().appendChild(e.dom()),e},l.prototype.consumeBlock=function(e){this.snapshot();let t=this.body().textContent.length,r=e.serialize().body;return r=this.serialize().body.concat(r),this.setBodyContent(r),this.select(t),e.removeBlock(),this},l.prototype.removeBlock=function(){return this.parent().removeChild(this.dom())},l.prototype.markdownBody=function(e){var t="",r=this._dom.dataset.meta;for(let o=0,n=Bse(this.body().childNodes),i=n.length,s;o<i;o++)if(s=n[o],s instanceof Text)t+=iJo(s.textContent),r&&!this.serializer().options.exclude_meta&&(t[t.length-1]!=" "&&(t+=" "),t+="[&]("+r+")",r=null);else if(s instanceof Comment)t+=`
<!--`+s.textContent+`-->
`;else if(s&&s._tag){if(s.matches(".header"))continue;s._tag.markdown?t+=s._tag.markdown():this.log("tag cannot convert to markdown",s,s._tag)}else this.log("could not find markdown element",s),t+=s.innerText;return t},l.prototype.markdownText=function(e){return this.markdownBody(e||Px)},l.prototype.markdown=function(e){var t;let r=this.markdownText(Px);if(e){for(e.pre===!0&&(e.pre=1),e.post===!0&&(e.post=1),e.pre&&(!this.dom().previousSibling||(t=this.dom().previousSibling)&&t.matches&&t.matches(".header"))&&(e.pre=0),e.post&&!this.nextBlock()&&(e.post=0),e.wrap&&(r=e.wrap+r.replace(/\n/g,`
`+e.wrap));e.pre>0;)r=`
`+r,e.pre--;for(;e.post>0;)r=r+`
`,e.post--}return r},l.prototype.toMarkdown=function(e){e===void 0&&(e={});let t=Px;Px=e,e.options=e;let r=e.inline?this.markdownText(e):this.markdown(e);return Px=t,r}});Ox.defineTag("md:inline","md:base",function(l){l._nodeType="span",l.inherit=function(e){return e._protoDom=null,e._nodeType=e._name,e._flagName=null,e._classes=[]},l.prototype.isBlock=function(){return!1},l.prototype.block=function(){for(var e=this,t;e=e.parent();)if((t=e)&&t.isBlock&&t.isBlock())return e;return null},l.prototype.update=function(e){if(e.body)return this.deserialize(e.body)},l.prototype.serialize=function(e){return{type:this.type(),body:Vse(this.dom().childNodes,e||{})}},l.prototype.markdown=function(){return this.markdownText(Px)},l.prototype.unwrap=function(){var e;return(e=this.dom()).replaceWith.apply(e,this.dom().childNodes)}});Ox.defineTag("md:stt","md:inline",function(l){l._nodeType="span",l._classes=["stt"]});Ox.defineTag("md:block","md:base",function(l){l.normalize=function(e,t){return!e.body&&t&&t.body?Object.assign({body:t.body},e):e},l.prototype.onkeydown=function(e,t,r){if(t){if(t.info=r,t.key.enter){if(this.isEmpty()&&this.mdTrigger(e,"breakempty"),r.atStart&&e.bubble()&&this.mdTrigger(e,"breakstart"),r.atEnd&&e.bubble()&&this.mdTrigger(e,"breakend"),e.bubble())return this.mdTrigger(e,"break")}else if(t.key.del&&(this.isEmpty()&&this.mdTrigger(e,"delempty"),r.atStart&&e.bubble()))return this.mdTrigger(e,"delstart")}},l.prototype.level=function(){var e;return(e=this.parentBlock())?e.level()+1:1},l.prototype.blockPath=function(){let e=this,t=[];for(;e&&e!=this.root();)t.unshift(e.blockIndex()),e=e.parentBlock();return t},l.prototype.getBlockAtPath=function(e,t){t===void 0&&(t=0);let r=this.dom().children[e[t]];return e[t+1]!=null?r&&r._tag.getBlockAtPath(e,t+1):r&&r._tag},l.prototype.blockIndex=function(){return[].indexOf.call(this.dom().parentNode.children,this.dom())},l.prototype.isNoteBlock=function(){return!0},l.prototype.text=function(){return this.dom().textContent},l.prototype.serialize=function(e){return{type:this.type(),body:Vse(this.dom().childNodes,e||{})}},l.prototype.selection=function(){var e=window.getSelection();return e&&this.body().contains(e.anchorNode)?new L7(this.body(),e):null},l.prototype.setDom=function(e){var t;return e._tag&&((t=e._tag)&&t.cleanup&&t.cleanup(),e.classList.remove(e._tag.type())),e._tag=this,this._dom=this._slot_=e,this.type()!=e.nodeName.toLowerCase()&&e.classList.add(this.type()),this},l.prototype.wrap=function(e){return e=D7(e,this.parentBlock()),e instanceof Element&&(e=e._tag),e instanceof Tx.Tag&&(this.addBlockBefore(e),e.addBlockInside(this)),e},l.prototype.morphalize=function(e){return e},l.prototype.morph=function(e){let t=this.parent();if((typeof e=="string"||e instanceof String)&&(e={type:e}),e=Object.assign({},e),this.type()==e.type)return this.update(e),this;e=this.morphalize(e);let r=Tx.TAGS["md:"+e.type];if(r){this.log("morphing without any replacements",e,this.dom(),r._nodeType),r.normalize&&(e=r.normalize(e,this.serialize(),this));let o=this.addBlockBefore(e);return this.removeBlock(),o.autoselect()}else{throw this.log("morphing to unknown type?!?"),console.warn("unhandled morph",Vse,e),"morphing should not happen?";let o=[].slice.call(this.dom().childNodes,0);e=Object.assign({},this.data(),{type:e,body:o}),this.log("replacing with",e,o);let n=D7(e,t);return t.dom().replaceChild(n,this.dom()),n}},l.prototype.update=function(e){return e.type&&e.type!=this.type()?(this.log("updating with wrong datatype(!)"),this.morph(e)):(e.body&&this.deserialize(e.body),this)},l.prototype.onmoveup=function(e){if(this.log("onmoveup",e),this.prevBlock())return this.dom().insertAdjacentElement("afterend",this.prevBlock().dom()),e.stop()},l.prototype.add_paragraph_after=function(){var e;return(e=this.nextBlock())&&e.is&&e.is("p:empty")?this.nextBlock().autoselect():this.addBlockAfter({type:"p"}).autoselect()}});Ox.defineTag("md:textblock","md:block",function(l){l.prototype.allowChildType=function(e){return rJo(e,["attachment","image","mention","a","opref","stt","strong","code","em"])>=0},l.prototype.onbreakempty=function(e){return e.stop().prevent(),this.type()=="p"?this.addBlockBefore({type:"p"}):this.morph({type:"p"})},l.prototype.onbreakstart=function(e){return e.stop().prevent(),this.addBlockBefore({type:"p"})},l.prototype.onbreak=function(e,t){this.log("textblock on break",e,t,t.info,t.range,window.getSelection().mdSerialize()),e.stop().prevent();let r=window.getSelection().mdRange().cloneRange().mdNormalize(),o=r.collapsed?null:r.mdExtract(),i={type:"p",body:r.mdRangeAfter(this.body()).mdExtract()};return this.addBlock(i,0).autoselect(0)}});Ox.defineTag("md:textspan","md:inline",function(l){l.prototype.wrapping=function(){return""},l.prototype.markdownText=function(e){return this.dom().querySelector("table,pre,div.pre")||e.plain?this.markdownBody():""+this.wrapping()+this.markdownBody()+this.wrapping()}});Ox.defineTag("md:atom","md:block",function(l){l.prototype.isAtomic=function(){return!0},l.prototype.update=function(){return this},l.prototype.serialize=function(e){return{type:this.type()}},l.prototype.onkeydown=function(e,t){if(!t)return;let r=t.key;if(!(r.up||r.down||r.left||r.right))return r.del&&(this.block().addBlockBefore({type:"p"}).select(0),this.removeBlock()),e.prevent()}})});var dlr=Gt(()=>{T();function aJo(l){return l?l.toArray?l.toArray():l:[]}var uJo=An(),plr=uJo.createTagScope();plr.defineTag("md:slot","md:base",function(l){l.prototype.update=function(){return this}});plr.defineTag("md:section","md:block",function(l){l._nodeType="section",l.prototype.schema=function(){return this.parent()?this.parent().schema():{}},l.prototype.serialize=function(e){return this.util().serialize(this.dom().childNodes,e||{})},l.prototype.block=function(){return this.parent()},l.prototype.markdownBody=function(e){var t="";for(let r=0,o=aJo(this.body().childNodes),n=o.length,i;r<n;r++)i=o[r],i instanceof Text||(i&&i._tag?i._tag.markdown?e&&e.only&&e.only.indexOf(i._tag)==-1||(t+=i._tag.markdown()):this.log("tag cannot convert to markdown",i,i._tag):this.log("could not find markdown element",i));return t},l.prototype.markdown=function(e){if(e===void 0&&(e={}),this.isEmpty())return"";var t=l.prototype.__super__.markdown.call(this,{wrap:"    "});return t=t.replace(/^[ ]*\n/,""),`
`+t}})});var ylr=Gt(()=>{T();function cJo(l){return l&&(l.len instanceof Function?l.len():l.length)||0}function qse(l){return l?l.toArray?l.toArray():l:[]}var ud=An(),hJo=ud.createTagList,jr=ud.createElementFactory(),Rx=ud.createTagScope(),flr=Sx(),pJo=flr.Actions,mlr=flr.Groups,$lr=(jx(),rR(O7)),xIn=$lr.md2note,vIn=$lr.dom2md;Rx.defineTag("md:action",function(l){l.prototype.__action={watch:"actionDidSet",name:"action"},l.prototype.action=function(e){return this._action},l.prototype.setAction=function(e){var t=this.action();return e!=t&&(this._action=e),e!=t&&this.actionDidSet&&this.actionDidSet(e,t,this.__action),this},l.prototype.onmousedown=function(e){return e.prevent()},l.prototype.ontap=function(){return this.trigger("tapaction",this.action()||this.data())},l.prototype.actionDidSet=function(e){return(typeof e=="string"||e instanceof String)&&(e=this._action=pJo[e]),e&&(this.setFlag("action","action-"+e.ref),e.icon&&e.icon[0]!="$"&&this.dataset({micon:e.icon}),e.tip&&!this.hasFlag("notip")&&this.setTip(e.tip,{hud:!0,md:!0})),this},l.prototype.render=function(){var e,t,r=this.$,o;if(this.action()){let n=this.action().trigger;n instanceof Array&&(n=n[0]),this.$open(0).flag("action").setChildren([this.action().icon&&this.action().icon[0]=="$"?(r[0]||jr("i",r,0,this)).setSvg(this.action().icon.slice(1)).end():void 0,this.action().name?(r[1]||jr("span",r,1,this).flag("name")).setContent(this.action().name,3):void 0,this.action().desc?(r[2]||jr("span",r,2,this).flag("desc")).setContent(this.action().desc,3):void 0,n?(r[3]||jr("div",r,3,this).flag("trigger-shortcut-anim").setContent(r[4]||jr("span",r,4,3),2)).end((r[4].dataset("trigger",n).end(),!0)):void 0],1).synced()}if(this.action()&&this.action().active&&this.data()&&this.action().active instanceof Function)return this.flag("activated",this.action().active(this.data()))}});function n8(l){var e=this;e._data=l,Object.defineProperty(e,"clientWidth",{get:function(){return e.getClientWidth()}}),Object.defineProperty(e,"clientHeight",{get:function(){return e.getClientHeight()}})}n8.prototype.data=function(l){return this._data};n8.prototype.setData=function(l){return this._data=l,this};n8.prototype.offset=function(l){return this._offset};n8.prototype.setOffset=function(l){return this._offset=l,this};n8.prototype.getBoundingClientRect=function(){let l=this.data();if(l instanceof Range){if(l.collapsed&&l.startOffset==0&&l.endContainer instanceof HTMLElement){if(this._rect)return this._rect;l=l.endContainer}}else l instanceof ud.Tag&&(l=l.dom());let e=l.getBoundingClientRect();return e.left==0&&e.top==0&&this._rect?this._rect:(this._rect=e,e)};n8.prototype.getClientWidth=function(){return this.data().clientWidth};n8.prototype.getClientHeight=function(){return this.data().clientHeight};Rx.defineTag("md:hud",function(l){l.prototype.owner=function(e){return this._owner},l.prototype.setOwner=function(e){return this._owner=e,this},l.prototype.__anchor={default:"bottom-start",watch:"anchorDidSet",name:"anchor"},l.prototype.anchor=function(e){return this._anchor},l.prototype.setAnchor=function(e){var t=this.anchor();return e!=t&&(this._anchor=e),e!=t&&this.anchorDidSet&&this.anchorDidSet(e,t,this.__anchor),this},l.prototype._anchor="bottom-start",l.prototype.__source={watch:"sourceDidSet",name:"source"},l.prototype.source=function(e){return this._source},l.prototype.setSource=function(e){var t=this.source();return e!=t&&(this._source=e),e!=t&&this.sourceDidSet&&this.sourceDidSet(e,t,this.__source),this},l.prototype.__offsets={default:0,name:"offsets"},l.prototype.offsets=function(e){return this._offsets},l.prototype.setOffsets=function(e){return this._offsets=e,this},l.prototype._offsets=0,l.prototype.promise=function(e){return this._promise},l.prototype.setPromise=function(e){return this._promise=e,this},l.prototype.__autoclose={default:!0,name:"autoclose"},l.prototype.autoclose=function(e){return this._autoclose},l.prototype.setAutoclose=function(e){return this._autoclose=e,this},l.prototype._autoclose=!0,l.prototype.setup=function(){var e=this;return e._promise=new Promise(function(t,r){return e._resolver=t,e._rejecter=r}),e.autoclose()&&e._promise.then(function(){return e.close()},function(){return e.close()}),e},l.prototype.resolve=function(e){return this._resolver(e),this},l.prototype.reject=function(e){return this._rejecter(e)},l.prototype.onkeydown=function(e){return this},l.prototype.popperSource=function(){return this._popperSource||(this._popperSource=new n8)},l.prototype.sourceDidSet=function(e){if(this.popperSource().setData(e),this._popper&&e)return this._popper.update()},l.prototype.anchorDidSet=function(e){if(this._popOptions&&(this._popOptions.placement=e),this._popper)return this._popper.options.placement=e,this._popper.update()},l.prototype.popOptions=function(){return this._popOptions||(this._popOptions={placement:this.anchor(),modifiers:{offset:{offset:this.offsets()}}})},l.prototype.popSetAttribute=function(e,t){return this.popOptions()[e]=t,this},l.prototype.mount=function(){var e=this;e._mounted=!0,console.log("mounted hud");return;try{GSAPI.on("scrolled",e._updater)}catch{}},l.prototype.tick=function(){return this.render()},l.prototype.relayout=function(){return this._popper&&this._popper.update&&this._popper.update()},l.prototype.open=function(){return this.hasFlag("hiding")&&this.unflag("hiding"),this.render(),this._mounted&&this.dom().parentNode||ud.mount(this),this},l.prototype.close=function(){var e=this;return e.owner()&&e.owner().hud()==e&&e.owner().setHud(null),e.hasFlag("hiding")||(e.flag("hiding"),setTimeout(function(){if(e.hasFlag("hiding"))return e.orphanize()},300)),e},l.prototype.unmount=function(){this._mounted=!1,this.unflag("visible"),this.unflag("mousemoved"),console.log("hud unmount");return;try{this._popper.destroy()}catch{}try{GSAPI.un("scrolled",this._updater)}catch{}},l.prototype.ontapaction=function(e){if(this.data())return this.data().trigger("actionexec",e.data())},l.prototype.onclickoutside=function(e){return this.close()}});Rx.defineTag("md:ribbons","md:hud",function(l){l.prototype.__context={watch:"contextDidSet",name:"context"},l.prototype.context=function(e){return this._context},l.prototype.setContext=function(e){var t=this.context();return e!=t&&(this._context=e),e!=t&&this.contextDidSet&&this.contextDidSet(e,t,this.__context),this},l.prototype.__anchor={default:"top-end",watch:"anchorDidSet",name:"anchor"},l.prototype.anchor=function(e){return this._anchor},l.prototype.setAnchor=function(e){var t=this.anchor();return e!=t&&(this._anchor=e),e!=t&&this.anchorDidSet&&this.anchorDidSet(e,t,this.__anchor),this},l.prototype._anchor="top-end",l.prototype.__node={watch:"nodeDidSet",name:"node"},l.prototype.node=function(e){return this._node},l.prototype.setNode=function(e){var t=this.node();return e!=t&&(this._node=e),e!=t&&this.nodeDidSet&&this.nodeDidSet(e,t,this.__node),this},l.prototype.type=function(){return this.node()?this.node().type():null},l.prototype.refresh=function(){return this._popper&&this._popper.update&&this._popper.update()},l.prototype.contextDidSet=function(e){return this.shouldShow()?(this.setSource(e.node.dom().closest("img,div.pre,table,a")||e.range||e.dom),this.setAnchor(e.node.dom().closest("table")?"top-end":"top-start"),this.setNode(e.node),this.open()):this.close(),!0},l.prototype.nodeDidSet=function(e){return!0},l.prototype.inPath=function(e){return this.context()&&this.node()?this.node().dom().closest(e):!1},l.prototype.onclickoutside=function(e){return!0},l.prototype.shouldShow=function(){if(!this.context()||!this.owner().editing())return!1;let e=this.context().dom.closest("[data-multiselect]"),t=this.context().node&&this.context().node.closest("[data-scoped*=inside],a[data-scoped]");return this.context().node.closest(".header")?!1:t&&!e&&t.hasRibbons()?!0:this.context().text&&!this.context().dom.closest("div.pre,.mode-block,[data-multiselect]")||this.context().node.closest("table")},l.prototype.showMorphMenu=function(e){var t=this;try{let r=t.context().node.block();return r.root().choose(mlr,function(o){if(t.log("chose?",o,r,r.root()),o)return r.root().trigger("actionexec",o)})}catch{}},l.prototype.render=function(){var e,t,r=this.$,o;if(!this.shouldShow())return this.close();try{var n=this.context().node.block()}catch{}return this.$open(0).setChildren(r[0]||jr("div",r,0,this).flag("content").flag("bar").flag("menu"),2).synced((r[0].setContent(this.type()=="img"?(r[1]||jr("md:action",r,1,0).flag("action").set("action","img_toggle_hd")).bindData(this,"context",[]).end():this.type()=="pre"?(r[2]||jr("md:action",r,2,0).flag("action").set("action","bold")).bindData(this,"context",[]).end():this.type()=="a"?(r[3]||jr("md:action",r,3,0).set("action","unlink")).bindData(this,"context",[]).end():this.type()=="cite"?ud.static([(r[4]||jr("md:action",r,4,0).set("action","toggle_embed")).bindData(this,"context",[]).end(),(r[5]||jr("md:action",r,5,0).set("action","unlink")).bindData(this,"context",[]).end()],2,1):this.type()=="issue"?(r[6]||jr("md:action",r,6,0).set("action","toggle_embed")).bindData(this,"context",[]).end():this.type()=="mention"?(r[7]||jr("md:action",r,7,0).set("action","toggle_embed")).bindData(this,"context",[]).end():this.type()=="cast"?(r[8]||jr("md:action",r,8,0).set("action","toggle_embed")).bindData(this,"context",[]).end():this.type()=="attachment"?ud.static([(r[9]||jr("md:action",r,9,0).set("action","toggle_embed")).bindData(this,"context",[]).end(),(r[10]||jr("md:action",r,10,0).set("action","download")).bindData(this,"context",[]).end()],2,2):this.type()=="image"?ud.static([(r[11]||jr("md:action",r,11,0).set("action","toggle_embed")).bindData(this,"context",[]).end(),(r[12]||jr("md:action",r,12,0).set("action","download")).bindData(this,"context",[]).end()],2,3):this.inPath("table")?ud.static([(r[13]||jr("md:action",r,13,0).set("action","table_insert_col")).bindData(this,"context",[]).end(),r[14]||jr("div",r,14,0).flag("sep"),(r[15]||jr("md:action",r,15,0).flag("morph").set("action","align_left")).bindData(this,"context",[]).end(),(r[16]||jr("md:action",r,16,0).flag("morph").set("action","align_center")).bindData(this,"context",[]).end(),(r[17]||jr("md:action",r,17,0).flag("morph").set("action","align_right")).bindData(this,"context",[]).end(),r[18]||jr("div",r,18,0).flag("sep"),(r[19]||jr("md:action",r,19,0).set("action","bold")).bindData(this,"context",[]).end(),(r[20]||jr("md:action",r,20,0).set("action","italic")).bindData(this,"context",[]).end(),(r[21]||jr("md:action",r,21,0).set("action","toggle_code")).bindData(this,"context",[]).end(),(r[22]||jr("md:action",r,22,0).set("action","link")).bindData(this,"context",[]).end()],2,4):ud.static([n?(r[23]||jr("md:action",r,23,0).flag("morph").on$(0,["tap","stop","showMorphMenu"],this)).bindData(this,"context",[]).set("action",n.type()).end():void 0,r[24]||jr("div",r,24,0).flag("sep"),(r[25]||jr("md:action",r,25,0).set("action","bold")).bindData(this,"context",[]).end(),(r[26]||jr("md:action",r,26,0).set("action","italic")).bindData(this,"context",[]).end(),(r[27]||jr("md:action",r,27,0).set("action","strike_through")).bindData(this,"context",[]).end(),(r[28]||jr("md:action",r,28,0).set("action","toggle_code")).bindData(this,"context",[]).end(),(r[29]||jr("md:action",r,29,0).set("action","link")).bindData(this,"context",[]).end()],1,5),3),!0))}});Rx.defineTag("md:linker","md:hud",function(l){l.prototype.value=function(e){return this._value},l.prototype.setValue=function(e){return this._value=e,this},l.prototype.context=function(e){return this._context},l.prototype.setContext=function(e){return this._context=e,this},l.prototype.render=function(){var e,t,r=this.$,o,n;return this.$open(0).setChildren(n=r[0]||(n=jr("div",r,0,this)).flag("content").flag("bar").flag("menu").setContent([this._input=this._input||jr("input",n).flag("input").setType("text").setAutofocus(!0).setPlaceholder("Paste your link").on$(0,["keydown","esc","stop",["trigger","cancel"]],this).on$(1,["keydown","enter","prevent",["trigger","link","~$value"]],this),jr("button",r,1,n).flag("button").flag("blue").setText("Link"),jr("button",r,2,n).flag("button").setText("Unlink")],2),2).synced((this._input.bindData(this,"value",[]).end(),r[1].on$(0,["tap",["trigger","link",this.value()]],this),r[2].on$(0,["tap",["trigger","unlink",this.value()]],this).setDisabled(!this.context().dom.closest("a")).end(),!0))},l.prototype.onshow=function(){return this._input.focus()}});Rx.defineTag("md:samp","md:inline",function(l){l._nodeType="samp",l.prototype.options=function(e){return this._options},l.prototype.setOptions=function(e){return this._options=e,this},l.prototype.menu=function(e){return this._menu},l.prototype.setMenu=function(e){return this._menu=e,this},l.prototype.markdown=function(){return this.text()},l.prototype.editor=function(){return this._editor||(this._editor=this.closest(".markour.root"))},l.prototype.build=function(e){return this.setOptions(mlr),e&&this.flag(e.category),this._category=e&&e.category,this._o=e,this},l.prototype.cleanup=function(){let e=this.dom().parentNode;return this.selectAll().deleteFromDocument(),e.normalize(),this},l.prototype.serialize=function(){return this.text()},l.prototype.cancel=function(){var e;if(this.menu()){this.menu().resolve(null);return}this.cancel=function(){return!0};let t=this.parent();if(this.parent()){let r=(e=this.parent().selection())&&e.serialize&&e.serialize();this.unwrap(),t.dom().normalize(),this.setMenu(null),r&&t.select(r.start)}return this},l.prototype.createMenu=function(){return this.editor().choose(this.options())},l.prototype.onadded=function(){return this},l.prototype.onscoped=function(){var e=this;e.menu()},l.prototype.onunscoped=function(){if(this.log("unscoped"),this.menu())return this.cancel()},l.prototype.onmutation=function(e,t){return this._prevText&&!this.text()?this.cancel():(this.menu()&&(this.menu().setFilter(this.text()),!this.menu().selected()&&this.text().match(/\s/)&&this.cancel()),this._prevText=this.text(),this)},l.prototype.onkeydown=function(e,t){var r;return(r=this.menu())&&r.onkeydown&&r.onkeydown(e,t)},l.prototype.resolve=function(e){let t=this.parent();return this.cleanup(),t.trigger("actionexec",e),this}});Rx.defineTag("md:quickref","md:samp",function(l){l._nodeType="samp",l.prototype.options=function(e){return this._options},l.prototype.setOptions=function(e){return this._options=e,this},l.prototype.menu=function(e){return this._menu},l.prototype.setMenu=function(e){return this._menu=e,this},l.prototype.onscoped=function(){var e,t=this,r;if(!t.menu()){var o=t.trigger("quickref",r={type:t._category}),n=r.sources||SDB.virtuals().PRIORITY;return t.setMenu(jr("gs:issuepicker").flag("hide-header").flag("hud").set("anchor","bottom-start").set("focusable",!1).set("autoflip",!1).set("autofocus",!1).set("sorter","-pubts").setFlag(0,t._o.size).set("options",n).set("source",t).end()),t.menu().promise().then(function(i){return t.setMenu(null),i==null?t.cancel():t.resolve(i)}),t}},l.prototype.onmutation=function(e,t){return this._prevText&&!this.text()?this.cancel():(this.menu()&&(this.menu().setFilter(this.text().slice(1)),!this.menu().selected()&&this.text().match(/\s/)&&this.cancel()),this._prevText=this.text(),this)},l.prototype.onkeydown=function(e,t){let r=t.key.combo;if(this.log("actions combo",r,e.native().key),r=="down")this.menu().moveDown();else if(r=="up")this.menu().moveUp();else if(r=="enter")this.menu().toggleHover();else if(r=="right"&&!t.textAfter)this.cancel();else if(r=="left"&&!t.textBefore)this.cancel();else if(r=="esc")this.cancel();else if(e.native().key=="#"){this.cancel();return}else return;return e.stop().prevent()},l.prototype.resolve=function(e){var t=this.parent();this.log("selected",e);try{var r=e.toMarkdown();if(r){var o=this.editor();return this.cleanup(),o.exec({action:"paste",params:[{markdown:r}]})}}catch{}}});Rx.defineTag("md:choices","md:hud",function(l){l.prototype.options=function(e){return this._options},l.prototype.setOptions=function(e){return this._options=e,this},l.prototype.__filter={default:"",watch:"filterDidSet",name:"filter"},l.prototype.filter=function(e){return this._filter},l.prototype.setFilter=function(e){var t=this.filter();return e!=t&&(this._filter=e),e!=t&&this.filterDidSet&&this.filterDidSet(e,t,this.__filter),this},l.prototype._filter="",l.prototype.__selectedIndex={default:0,name:"selectedIndex"},l.prototype.selectedIndex=function(e){return this._selectedIndex},l.prototype.setSelectedIndex=function(e){return this._selectedIndex=e,this},l.prototype._selectedIndex=0,l.prototype.__selected={watch:"selectedDidSet",name:"selected"},l.prototype.selected=function(e){return this._selected},l.prototype.setSelected=function(e){var t=this.selected();return e!=t&&(this._selected=e),e!=t&&this.selectedDidSet&&this.selectedDidSet(e,t,this.__selected),this},l.prototype.selectedDidSet=function(e,t){var r,o;return t&&(r=t.node)&&r.unflag&&r.unflag("active"),e&&(o=e.node)&&o.flag&&o.flag("active"),e&&e.node.dom().offsetParent&&e.node.dom().scrollIntoViewIfNeeded(),this},l.prototype.filterDidSet=function(){return this.render(),this.setSelected(this._items[0]),this.relayout()},l.prototype.setup=function(){return l.prototype.__super__.setup.apply(this,arguments),this.reset(),this},l.prototype.selectNext=function(){var e;return this.setSelected(e=this._items[this._items.indexOf(this.selected())+1]||this._items[0]),e},l.prototype.selectPrev=function(){var e;return this.setSelected(e=this._items[this._items.indexOf(this.selected())-1]||this._items[this._items.length-1]),e},l.prototype.reset=function(){for(let e=0,t=qse(this.options()),r=t.length,o;e<r;e++){o=t[e];for(let n=0,i=qse(o.actions),s=i.length,a;n<s;n++)a=i[n],a.group=o,this.nodeForAction(a),a.node.unflag("active")}return this.render(),this.setSelected(this._items[0]),this},l.prototype.nodeForAction=function(e){var t;return e.node||(e.node=jr("md:action").flag("action").flag("item").flag("notip").set("action",e).end())},l.prototype.match=function(e){var t;return(t=this.filter().toLowerCase().replace(/[\/\-]/g,""))?(e.fulltext||(e.fulltext=[e.name,e.desc,e.keywords].join(" ").toLowerCase().replace(/[\/\-]/g,"")),e.fulltext.indexOf(t)>=0):!0},l.prototype.cancel=function(){return this.resolve(null),this.close(),this},l.prototype.render=function(){var e,t,r=this.$,o=this,n,i;o._items=[];var s=0;return o.$open(0).setChildren(r[0]||jr("div",r,0,o).flag("content").flag("menu"),2).synced((r[0].setContent([function(u){var c;for(let h=0,d=qse(o.options()),f=u.taglen=d.length,m;h<f;h++)m=d[h],(u[h]||jr("div",u,h).flag("optgroup")).dataset("title",m.name).setContent(function(b){for(let g=0,x=qse(m.actions),k=x.length,_;g<k;g++)_=x[g],o.match(_)&&b.push(o._items.push(_)&&o.nodeForAction(_));return b}([]),3).end();return u}(r[1]||hJo(r,1,r[0])),r[2]||jr("div",r,2,0).flag("none").flag("item").flag("action").setContent(r[3]||jr("span",r,3,2).setText("No results"),2)],1),!0)),o.flag("empty",cJo(o._items)==0)},l.prototype.onkeydown=function(e,t){let r=t.key.combo;if(r=="down")this.selectNext();else if(r=="up")this.selectPrev();else if(r=="enter")this.exec(this.selected());else if(r=="right"&&!t.textAfter)this.cancel();else if(r=="left"&&!t.textBefore)this.cancel();else if(r=="esc")this.cancel();else return;return e.stop().prevent(),this},l.prototype.exec=function(e){return this.resolve(e)},l.prototype.ontapaction=function(e){var t;return this.exec((this.setSelected(t=e.data()),t))}})});var blr=Gt(()=>{T();var dJo=An(),fJo=dJo.createTagScope();fJo.defineTag("md:span","md:inline")});var glr=Gt(()=>{T();var mJo=An(),$Jo=mJo.createTagScope();$Jo.defineTag("md:a","md:inline",function(l){l._nodeType="code",l._classes=["a"],l.inherit2=function(e){return e._protoDom=null,e._nodeType="code",e._flagName=null,e._classes=["a"]},l.prototype.__url={watch:"urlDidSet",name:"url"},l.prototype.url=function(e){return this._url},l.prototype.setUrl=function(e){var t=this.url();return e!=t&&(this._url=e),e!=t&&this.urlDidSet&&this.urlDidSet(e,t,this.__url),this},l.prototype.isInlineBlock=function(){return!0},l.prototype.update=function(e){var t;return this._data=e,e.href&&(this.dom().href=(this.setUrl(t=e.href),t)),e.title&&(this.dom().title=e.title),l.prototype.__super__.update.apply(this,arguments)},l.prototype.href=function(){return this.dom().href||this.dom().dataset.href||""},l.prototype.unlink=function(){this.parentBlock().snapshot();let e=this.body().textContent;this.dom().insertAdjacentText("afterend",e);let t=this.dom().nextSibling;return this.util().Sel.select(t,-1),this.removeBlock(),!0},l.prototype.hasRibbons=function(){return this.hasCustomTitle()},l.prototype.hasCustomTitle=function(){return this.body().textContent!=this.href().replace(/\/$/,"")},l.prototype.serialize=function(e){return{type:this.type(),body:this.util().serialize(this.dom().childNodes,e||{}),raw:this.dataset("raw"),href:this.href(),title:this.dom().title}},l.prototype.markdownText=function(e){return e&&e.plain?this.body().textContent:this.dom().dataset.raw?this.dom().dataset.raw:this.hasCustomTitle()?"["+this.markdownBody()+"]("+this.href()+(this.dom().title?' "'+this.dom().title.replace(/\"/g,'"')+'"':"")+")":this.body().textContent},l.prototype.isAtomic=function(){return!!this._type},l.prototype.ontap=function(e){let t=this.dom().href,r=!!this.dom().closest(".editable");if(!r||e.meta()){let o=Object.assign({},this._data,{href:t,meta:e.meta(),ctrl:e.ctrl()}),n=this.trigger("taplink",o);return this.log("triggered custom event",n,o),e.prevent()}else if(r)return e.prevent()},l.prototype.onkeydown=function(e,t,r){if(console.warn("onkeydown a",e,t,r),!!t){if(t.key.space&&r.atStart)this.util().Sel.selectAfter(this.addTextBefore(" "));else if(t.key.space&&r.atEnd)this.util().Sel.selectAfter(this.addTextAfter(" "));else if(t.key.right&&r.atEnd)this.selectAfter();else return;return e.stop().prevent()}},l.prototype.selectAfter=function(){let e=this.dom().nextSibling;return e instanceof Text&&e.textContent[0]==""?this.util().Sel.select(e,1):(this.dom().insertAdjacentText("afterend",""),this.util().Sel.select(this.dom().nextSibling,1)),this}})});var _lr=Gt(()=>{T();function _Pe(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function yJo(l){return l&&(l.len instanceof Function?l.len():l.length)||0}var klr=An(),Em=klr.createElementFactory(),HI=klr.createTagScope();function bJo(l){var e=Math.log(l)/Math.log(1e3)|0;return+(l/Math.pow(1e3,e)).toFixed(2)+" "+("kMGTPEZY"[e-1]||"")+"B"}HI.defineTag("md:object","md:inline",function(l){l._nodeType="a",l.inherit=function(e){return e._protoDom=null,e._nodeType="a",e._flagName=null,e._classes=[e._name]},l.prototype.__progress={watch:"progressDidSet",name:"progress"},l.prototype.progress=function(e){return this._progress},l.prototype.setProgress=function(e){var t=this.progress();return e!=t&&(this._progress=e),e!=t&&this.progressDidSet&&this.progressDidSet(e,t,this.__progress),this},l.prototype.__node={watch:"nodeDidSet",name:"node"},l.prototype.node=function(e){return this._node},l.prototype.setNode=function(e){var t=this.node();return e!=t&&(this._node=e),e!=t&&this.nodeDidSet&&this.nodeDidSet(e,t,this.__node),this},l.field("href"),l.prototype.nodeDidSet=function(e,t){if(e)return this.log("nodeDidSet",e,t),this.setFlag("nodeId",e.id),this.setFlag("nodeState",e.state()),this.render()},l.prototype.progressDidSet=function(e){return e!=null?this.dom().style.setProperty("--progress",e):this.dom().style.removeProperty("--progress")},l.prototype.hrefDidSet=function(e,t){return this},l.prototype.startAnchor=function(){return this.dom().firstChild},l.prototype.endAnchor=function(){return this.dom().lastChild},l.prototype.update=function(e){return this._data=e,this.dataset(e),this.render(),this.dom().href=this.href(),e.file&&this.upload(e.file),e.title&&(this.dom().title=e.title),this._label&&this._label.deserialize(e.label||this.title()),this},l.prototype.awaken=function(){let e=this._data;return this._data||(this._data=Object.assign({},this.dom().dataset)),this.log("awaken object",this._dom,e,this._data),this},l.prototype.selectStart=function(){return this.util().Sel.select(this.startAnchor(),0)},l.prototype.selectInside=function(){return this.util().Sel.select(this.endAnchor(),0)},l.prototype.selectEnd=function(){return this.util().Sel.select(this.endAnchor(),1)},l.prototype.selectAnchor=function(e){return e===void 0&&(e=0),e<2?this.util().Sel.select(this.startAnchor(),e):this.util().Sel.select(this.endAnchor(),e-2)},l.prototype.selectBefore=function(){return this},l.prototype.selectAfter=function(){return this},l.prototype.href=function(){return"#"},l.prototype.upload=function(){return this},l.prototype.kind=function(){return this.dataset("kind")},l.prototype.serialize=function(){return this._data},l.prototype.hasRibbons=function(){return!1},l.prototype.isBlockLike=function(){return!1},l.prototype.isInline=function(){return!this.isBlockLike()},l.prototype.toggle_embed=function(){return this.log("toggle_embed!!"),this.toggleFlag("block")},l.prototype.render=function(e){var t;return e===void 0&&(e=this._data),this.$open(0).flagIf("block",this.isBlockLike()).setChildren(["",this.atom(e),""],1).synced(),this.rendered()},l.prototype.rendered=function(){},l.prototype.onscoped=function(){return this.log("scoped")},l.prototype.onunscoped=function(){return this.log("unscoped")},l.prototype.onrescope=function(){this.log("rescope");let e=window.getSelection().mdInfo(this.dom()),t=e.before?e.after?e.after.length>1?"inside-start":"inside-end":"end":"start";return this.dataset({scoped:t})},l.prototype.caretpos=function(){return this.dataset("scoped")},l.prototype.caretIsInside=function(){return this.caretpos()=="inside-start"||this.caretpos()=="inside-end"},l.prototype.caretIsStart=function(){return this.caretpos()=="inside-start"||this.caretpos()=="start"},l.prototype.caretIsEnd=function(){return this.caretpos()=="inside-end"||this.caretpos()=="end"},l.prototype.body=function(){return this._dom},l.prototype.desc=function(){return this._data.body},l.prototype.atom=function(e){let t,r=this.$$||(this.$$={});return(this._body=this._body||Em("span",this).flag("body")).setContent(this.desc(),3)},l.prototype.onbeforeinput=function(e){let t=e.event().inputType,r=window.getSelection(),o=r.mdInfo(this.dom());if(console.log("object onbeforeinput",e.event(),t,o,this.dom()),t=="deleteContentBackward")return window.getSelection().mdSelect(this.dom()),e.stop();if(!o.before)return;if(this.caretIsInside()){this.caretIsStart()?this.selectStart():this.selectEnd();return}let n=this.dom().nextSibling;if(n instanceof Text&&n.textContent.length)return this.util().Sel.select(n,0),e.stop();if(t=="insertText"){this.dom().insertAdjacentText("afterend","");let i=this.dom().nextSibling;return r.setBaseAndExtent(i,0,i,1),e.stop()}},l.prototype.oninput=function(e){return this.log("object.oninput",e.event())},l.prototype.onkeydown=function(e,t){if(!t)return;let r=this.caretpos(),o=t.key.combo=="left",n=t.key.combo=="right";if(this.log("object.onkeydown",this.isInline(),t.key.combo,r),this.isInline()){if(o&&r=="end")return this.selectInside(),e.stop().prevent();if(o&&r!="start")return this.selectStart(),e.stop().prevent();if(n&&r=="start")return this.selectInside(),e.stop().prevent();if(n&&this.caretIsInside())return this.selectEnd(),e.stop().prevent()}else{if(o&&this.caretIsEnd())return this.selectAnchor(1),e.stop().prevent();if(o&&this.caretIsInside()){this.selectStart();return}else{if(n&&this.caretIsStart())return this.selectAnchor(2),e.stop().prevent();if(n&&this.caretIsInside()){this.selectEnd();return}}}if(t.key.combo=="enter"){r=="inside-start"||r=="before"?(this.log("link enter before"),this.select(0)):(r=="inside-end"||r=="after")&&this.select(-1);return}},l.prototype.markdownText=function(){return this.dataset().raw},l.prototype.onmutation=function(e,t){return this.log("object onmutation",e,t),yJo(e.removedNodes)?(this.parent().removeChild(this.dom()),!0):(e.type=="characterData",!0)},l.prototype.autoselect=function(){var e;return(e=this.root())&&e.inBlockMode&&e.inBlockMode()?this.parentBlock().autoselect():this.selectInside(),this},l.prototype.router=function(){return null},l.prototype.ontaproute=function(e){return this.log("ontaproute",e),e.stop().prevent()},l.prototype.open=function(e,t){return this.api()?(this.trigger("taplink",t),e.prevent().stop()):(window.open(this.href()),e.prevent().stop())},l.prototype.ontap=function(e){let t=!!this.dom().closest(".editable"),r=Object.assign({href:this.href()},this._data,{meta:e.meta(),ctrl:e.ctrl()});if(t&&this.selectInside(),!t||e.meta())return this.open(e,r)},l.prototype.onmutation=function(e,t){return this},l.prototype.modelDidEmit=function(e,t){return this.log("modelDidEmit",e,t),this.setNode(e),this.setFlag("nodeState",e.state()),this.render()}});HI.defineTag("md:opref","md:object",function(l){l.prototype.hasRibbons=function(){return!1},l.prototype.markdownText=function(){return"["+(this.dataset().label||"reference")+"]("+this.dataset().href+")"},l.prototype.isAtomic=function(){return!0},l.prototype.atom=function(){let e,t=this.$$||(this.$$={});return this._body=this._body||Em("span",this).flag("body")}});HI.defineTag("md:mention","md:object",function(l){l.prototype.hasRibbons=function(){return!1},l.prototype.markdownText=function(){return"@"+this.data().value}});HI.defineTag("md:attachment","md:object",function(l){l.field("size"),l.field("width"),l.field("height"),l.field("title"),l.field("alt"),l.prototype.title=function(){return this.mtitle()||"Image"},l.prototype.extension=function(){let e=this.mhref()||"",t;return(t=e.match(/\.(png|pdf|zip|jpg|gif|rar|gz|webm|mov|mp4|m4a|avi)($|\?)/))?t[1]:"null"},l.prototype.isBlockLike=function(){return!0},l.prototype.isImage=function(){return!1},l.prototype.download=function(){return this},l.prototype.thumbnailSrc=function(){return"/static/img/extensions/"+this.extension().toUpperCase()+".png"},l.prototype.ontaproute=function(e){return e.stop().prevent()},l.prototype.atom=function(e){let t,r=this.$$||(this.$$={}),o,n,i,s,a;return(n=this._body=this._body||(n=Em("span",this)).flag("body").setContent([s=this._thumbnail=this._thumbnail||(s=Em("span",n)).flag("thumbnail").setContent([this._img=this._img||Em("img",s).flag("img").on$(0,["tap","stop","quicklook"],this),Em("span",n.$,"A",s).flag("progress-bar")],2),a=a=Em("figcaption",n.$,"B",n)],2)).end((this._img.setSrc(this.thumbnailSrc()).end(),n.$.B.setContent([(this._label=this._label||Em("md:inline",a).flag("label").flag("name")).end(),this.node()?(n.$.C||Em("span",n.$,"C",a).flag("size")).setContent(bJo(this.node().size()||0),3):void 0],1),!0))},l.prototype.quicklook=function(e){return this.expand({meta:e.meta(),ctrl:e.ctrl()})},l.prototype.expand=function(e){e===void 0&&(e={});let t=Object.assign(e,this.serialize(),{node:this.node()});return this._img&&(t.img=this._img.dom()),this.isImage()||(t.download=!0),this.trigger("md:open",t)},l.prototype.open=function(e,t){return this.quicklook(e),e.prevent().stop()},l.prototype.metastr=function(){let e=[];for(let r=this.mdata(),o,n=0,i=Object.keys(r),s=i.length,a;n<s;n++)a=i[n],o=r[a],!(_Pe(a,["type","title","alt","href"])>=0)&&e.push(""+a+"="+o);var t=e;return this.hasFlag("block")||t.push("inline=1"),t.join("&")},l.prototype.markdownText=function(e){let t=this.metastr(),r=this._label&&this._label.markdown()||this.mtitle()||"attachment";return e.plain?r:t?"["+r+"]("+this.mhref()+' "'+t+'")':"["+r+"]("+this.mhref()+")"},l.prototype.upload=async function(e,t){var r=this,o;t===void 0&&(t={}),t.file=e,t.block=r;let n=r.trigger("md:upload",t);console.log("ev!!",n,n.data());let i=n.data().upload;return r._objectURL=URL.createObjectURL(e),i&&(r.setNode(i),r.setMhref(i.url())),r.render(),r;let s=await r.pngFileInfo(e);s||(s=await r.getImageSize(e)),r.log("upload image",e),r.setMtitle(e.name),r.setMsize(e.size);let a=s.hidpi||t.hidpi?2:1;s&&(r.setMwidth(s.width/a),r.setMheight(s.height/a));var u=function(d){var f;return r.log("progress",d),r.setProgress(f=d.totalPercent/100),f},c=function(d){var f;return r.log("finished",d),r._img.setSrc((r.setMsrc(f=d.url),f)),r.unflag("uploading"),r.render()},h=function(d){return r.log("error",d),r.unflag("uploading"),r.flag("error"),r.render()};return r.flag("uploading"),r._data.src=URL.createObjectURL(e),r.render(),FILESTACK?FILESTACK.upload(e,{onProgress:u}).then(c,h):o=setInterval(function(){if(r.setProgress(Math.min((r.progress()||0)+.05,1)),r.progress()==1)return r.unflag("uploading"),clearInterval(o)},100)}});HI.defineTag("md:image","md:attachment",function(l){l.prototype.isImage=function(){return!0},l.prototype.thumbnailSrc=function(){return this._objectURL||this.node()&&(this.node().objectURL()||this.node().url())||this.mhref()},l.prototype.metastr=function(){let e=[];for(let r=this.mdata(),o,n=0,i=Object.keys(r),s=i.length,a;n<s;n++)a=i[n],o=r[a],!(_Pe(a,["type","src","title","alt"])>=0)&&e.push(""+a+"="+o);var t=e;return this.hasFlag("block")||t.push("inline=1"),t.join("&")||"image"},l.prototype.markdownText=function(e){let t=this._label&&this._label.markdown()||this.mtitle();if(e.plain)return t;if(this.mwidth()||this.mheight()){let r='<img src="'+this.mhref()+'"';for(let o=this.mdata(),n,i=0,s=Object.keys(o),a=s.length,u;i<a;i++)u=s[i],n=o[u],!(_Pe(u,["type","src","title","alt","href"])>=0)&&(String(n).match(/^\d+$/)||(n='"'+n+'"'),r+=" "+u+"="+n);return t&&(r+=' alt="'+t+'"'),r+">"}return"!["+(t||"image")+"]("+this.mhref()+")"}})});var xlr=Gt(()=>{T();var gJo=An(),kJo=gJo.createTagScope();kJo.defineTag("md:label","md:inline",function(l){l._nodeName="label",l.prototype.mdTrigger=function(){for(var e,t=arguments,r=t.length,o=new Array(r>0?r:0);r>0;)o[r-1]=t[--r];return(e=this.parent()).mdTrigger.apply(e,o)},l.prototype.onkeydown=function(e,t,r){if(t){if(this.log("label.onkeydown",e,t,r),t.key.enter){if(this.isEmpty()&&this.mdTrigger(e,"breakempty"),r.atStart&&e.bubble()&&this.mdTrigger(e,"breakstart"),r.atEnd&&e.bubble()&&this.mdTrigger(e,"breakend"),e.bubble())return this.mdTrigger(e,"break")}else if(t.key.del&&(this.isEmpty()&&this.mdTrigger(e,"delempty"),r.atStart&&e.bubble()))return this.mdTrigger(e,"delstart")}},l.prototype.serialize=function(e){return this.util().serialize(this.dom().childNodes,e||{})},l.prototype.update=function(e){if(e instanceof Array)return this.deserialize(e)}})});var wlr=Gt(()=>{T();var _Jo=An(),vlr=_Jo.createTagScope();vlr.defineTag("md:rawhtml","md:block",function(l){l.prototype.update=function(e){return this._html=e.value,this.dom().innerHTML=this._html,this},l.prototype.markdownText=function(){return`
`+this.dom().innerHTML+`
`}});vlr.defineTag("md:htmltag","md:block",function(l){l.build=function(e,t){return new this(t?document.createElement(t):this.createNode(),e)},l.prototype.type=function(){return this._type||(this._type=this.dom().nodeName.toLowerCase())},l.prototype.markdownText=function(){return"<"+this.type()+">"+this.markdownBody()+"</"+this.type()+">"}})});var Slr=Gt(()=>{T();var xJo=An(),Mx=xJo.createTagScope();Mx.defineTag("md:heading","md:textblock",function(l){l.prototype.markdownText=function(e){return e.plain?this.markdownBody():"#".repeat(this.level())+(" "+this.markdownBody())},l.prototype.isHeading=function(){return!0},l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{pre:1,post:1})},l.prototype.level=function(){return parseInt(this.type().slice(1))},l.prototype.blocksAfterHeading=function(e){e===void 0&&(e="");let t=[],r=this.nextBlock();for(;r&&!r.isHeading();)(!e||r.matches(e))&&t.push(r),r=r.nextBlock();return t}});Mx.defineTag("md:h1","md:heading");Mx.defineTag("md:h2","md:heading");Mx.defineTag("md:h3","md:heading");Mx.defineTag("md:h4","md:heading");Mx.defineTag("md:h5","md:heading");Mx.defineTag("md:h6","md:heading")});var Clr=Gt(()=>{T();var vJo=An(),wJo=vJo.createTagScope();wJo.defineTag("md:p","md:textblock",function(l){l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{pre:1,post:1})},l.prototype.ontap=function(e){if(e.event().target==this.dom()&&e.event().layerX<0&&this.isEmpty())return this.deserialize({type:"samp"}),this.dom().children[0]._tag.select(0,0)},l.prototype.onbreakend=function(e){var t;if(t=this.body().textContent.match(/^\`\`\`(\w+)?$/)){let r={type:"pre",body:""};return t[1]&&(r.language=t[1]),this.addBlockAfter(r).select(0,0),this.block().removeBlock(),e.stop().prevent()}},l.prototype.ondelstart=function(e){var t;e.stop().prevent();let r=(t=this.prevBlock())&&t.lastNestedBlock&&t.lastNestedBlock(),o=this.parentBlock();return this.log("md:p delstart",r&&r.dom(),o&&o.dom()),r&&r.isObject()?(r.select(-1),this.isEmpty()&&this.removeBlock()):r&&r.is("hr")?r.removeBlock():r?r.consumeBlock(this):o&&o!=this.root()?o.is("blockquote")?(o.addBlockBefore(this),o.hasChildBlocks()||o.removeBlock(),this.select(0)):o.consumeBlock(this):this.nextBlock()&&this.isEmpty()&&(this.nextBlock().select(0),this.removeBlock()),this}})});var Elr=Gt(vPe=>{T();function SJo(l){return l?l.toArray?l.toArray():l:[]}var xPe={};vPe.htmlify=xPe.htmlify=function(l,e){e===void 0&&(e=30);var t="",r=l[0],o=l[1].split(`
`),n=l[2],i=0,s=0,a=o.length,u=r.split(`
`);t=[];for(let c=0,h=SJo(u),d=h.length,f;c<d;c++){f=h[c];let m=0,$=o[c],b=0,g="<span class='line'>";if($&&$.length)for(;b<$.length;){let x=$.charCodeAt(b++)-64;if(b%2==0){let k=f.slice(m,m=m+x);g+=k.replace(/\</g,"&lt;").replace(/\>/g,"&gt;"),g+="</span>"}else g+='<span class="'+(n?n[x]:"tok"+x)+'">'}else g+=f.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");g+=`</span>
`,t.push(g)}return t.join("")};vPe.highlight=xPe.highlight=function(l,e,t){return t===void 0&&(t={}),xPe.htmlify([l,""])}});var Plr=Gt(()=>{T();function CJo(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function jlr(l){return l?l.toArray?l.toArray():l:[]}function Wse(l){return l&&(l.len instanceof Function?l.len():l.length)||0}var jm=An(),EJo=jm.createTagList,Ulr=jm.createTagScope(),ei=jm.createElementFactory(),wPe=Elr().highlight,Alr=Sx().Languages;Ulr.defineTag("md:code","md:inline",function(l){l.prototype.markdownBody=function(){return this.dom().textContent},l.prototype.built=function(){return this.dom().spellcheck=!1},l.prototype.awaken=function(){return l.prototype.__super__.awaken.apply(this,arguments),this.dom().spellcheck=!1},l.prototype.markdownText=function(e){let t=this.markdownBody();return e.plain?t:t.indexOf("`")>=0?"`` "+t+" ``":"`"+t+"`"},l.prototype.isInlineBlock=function(){return!0},l.prototype.onkeydown=function(e,t,r){if(t){if(t.key.space&&r.atStart)this.util().Sel.selectAfter(this.addTextBefore(" "));else if(t.key.right&&r.atEnd)this.selectAfter();else return;return e.stop().prevent()}},l.prototype.selectAfter=function(){let e=this.dom().nextSibling;return e instanceof Text&&e.textContent[0]==""?this.util().Sel.select(e,1):(this.dom().insertAdjacentText("afterend",""),this.util().Sel.select(this.dom().nextSibling,1)),this}});Ulr.defineTag("md:pre","md:block",function(l){l.prototype.__link={watch:"linkDidSet",name:"link"},l.prototype.link=function(e){return this._link},l.prototype.setLink=function(e){var t=this.link();return e!=t&&(this._link=e),e!=t&&this.linkDidSet&&this.linkDidSet(e,t,this.__link),this},l.prototype.__hits={watch:"hitsDidSet",name:"hits"},l.prototype.hits=function(e){return this._hits},l.prototype.setHits=function(e){var t=this.hits();return e!=t&&(this._hits=e),e!=t&&this.hitsDidSet&&this.hitsDidSet(e,t,this.__hits),this},l.field("permalink"),l.field("language"),l.prototype.body=function(){return this._code.dom()},l.prototype.serialize=function(){return{type:"pre",language:this.lang(),body:this.plaintext()}},l.prototype.locate=function(e){return e===void 0&&(e={}),e.code||(e.code=this.plaintext()),this._locating=!0,this.trigger("code:locate",e),this.render()},l.prototype.oncodelocated=function(e,t){var r;if(this.log("located code?!?",e,t),r=t.matches){let o=r[0];return Wse(r)==1?(this.log("set reference!!!",o),this.linkToSourceLocation(o)):(this.setHits(r),o&&!this.mlanguage()&&this.setMlanguage(o.language),this.render())}else return this},l.prototype.linkToSourceLocation=function(e){let t={type:"pre",language:e.language,body:e.code||this.plaintext(),href:e.permalink,permalink:e.permalink};return this.addBlockAfter(t).autoselect(),this.removeBlock(),this},l.prototype.isObject=function(){return!0},l.prototype.markdownText=function(e){let t=this.plaintext();if(t[t.length-1]!=`
`&&(t+=`
`),e.plain)return t;let r="```"+(this.lang()||"")+`
`+t+"```";if(this.mpermalink()&&(r=this.mpermalink(),Wse(this.plaintext().split(`
`).join("")))){let o=this.plaintext().replace(/\t/g,"&#9;");r+=`
<!--code `+this.mpermalink()+`
`+o+`
-->`}return r},l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{pre:1,post:1})},l.prototype.filename=function(){return this.dataset("path")||""},l.prototype.selectSourceLocation=function(){var e=this;if(e.hits()){let t,r=[];for(let o=0,n=jlr(e.hits()),i=n.length,s;o<i;o++)s=n[o],r.push({name:""+s.file+":"+s.line,value:s,icon:"code"});t=r,e.root().choose([{name:"Locations",actions:t}],function(o){if(o)return e.linkToSourceLocation(o.value)})}else e.locate();return e},l.prototype.fetchSourceFromLocation=async function(){if(this.api()){let t=this._meta.owner+"/"+this._meta.repo,r=this._meta.gitref+":"+this._meta.path;var e=await this.api().fetchGitBlob(t,r);if(e){let o=this._meta.startLine-1,n=e.body.split(`
`).slice(o,o+this._meta.lines);this.log("found code",n),this.deserialize(n.join(`
`))}}return this},l.prototype.dismissSourceLocation=function(){return this.setHits(null),this._locating=!1,this.render()},l.prototype.selectLanguage=function(e){var t,r=this;let o=r.api().db().LANG,n=ei("gs:issuepicker").flag("hud").flag("languages").set("title","Select language").set("anchor","bottom-start").set("focusable",!0).set("autoflip",!1).set("autofocus",!0).set("sorter","title").set("options",o).set("source",e.target()).end();return n.promise().then(function(i){var s;if(n=null,i)return r.setMlanguage(s=i.value()),s}),n;for(let i,s=0,a=Object.keys(Alr),u=a.length,c;s<u;s++)c=a[s],i=Alr[c],o.push({name:i,icon:"code",value:c});return r.root().choose([{name:"Languages",actions:o}],function(i){var s;if(i)return r.setMlanguage(s=i.value),s})},l.prototype.absolutePath=function(){return this},l.prototype.openInEditor=function(e){var t,r,o,n,i=this,s=[];try{s=window.interop.ipc.getAvailableEditors()}catch{}return jm.mount((o=(o=ei("gs:menu")).set("autoclose",!0).set("anchor","bottom-start").setContent(o.$.A||ei("div",o.$,"A",o).flag("menu").flag("content"),2)).set("source",e.target()).end((o.$.A.setContent([o.$.B||ei("a",o.$,"B","A").flag("item").on$(0,["tap",["openWith","github"]],this).setText("View on GitHub.com"),s?jm.static([o.$.C||ei("hr",o.$,"C","A").flag("sm"),function(u){var c;for(let h=0,d=jlr(s),f=u.taglen=d.length,m;h<f;h++)m=d[h],(u[h]||ei("a",u,h).flag("item")).on$(0,["tap",["openWith",m.identifier]],i).setText("View in "+m.name);return u}(o.$.D||EJo(o.$,"D",o.$.A))],1,1):void 0],1),!0)))},l.prototype.openWith=function(e){if(e=="github"){let r="https://github.com/"+this._meta.owner+"/"+this._meta.repo+"/blob/"+this._meta.gitref+"/"+this._meta.path;return this._meta.startLine&&(r+="#L"+this._meta.startLine,this._meta.lines>1&&(r+="-L"+(this._meta.startLine+this._meta.lines-1))),this.api().openExternal(r)}else{var t=Object.assign({editor:e},this._meta);return this.trigger("codeopen",t)}},l.prototype.render=function(){var e,t,r=this.$,o,n,i;return this.$open(0).setChildren(r.$=r.$||[ei("header",r,0,this).on$(0,["tap","stop","selectBlock"],this),i=(i=ei("article",r,15,this)).setContent(this._code=this._code||ei("code",i).flag("code"),2)],2).synced((r[0].setContent([this._meta?jm.static([(r[1]||ei("a",r,1,0).flag("path").on$(0,["tap","stop","prevent","openInEditor"],this).setContent([ei("span",r,2,1).flag("repo"),ei("span",r,3,1).flag("path")],2)).setHref(this._meta.url).end((r[2].setContent(this._meta.repo,3),r[3].setContent(this._meta.path,3),!0)),this._meta.gitref?jm.static([r[4]||ei("span",r,4,0).flag("dim").setText(" in "),(r[5]||ei("a",r,5,0).flag("pre-gitref")).setHref(this.commitUrl()).setContent(this._meta.gitref.slice(0,7),3).end()],2,1):void 0],1,2):this.hits()&&Wse(this.hits())?jm.static([(r[6]||ei("span",r,6,0).flag("hook")).setText("Found in "+Wse(this.hits())+" locations"),r[7]||ei("button",r,7,0).flag("xs").flag("red").on$(0,["tap","selectSourceLocation"],this).setText("Resolve")],2,3):this.hits()?r[8]||ei("span",r,8,0).flag("hook").setText("Not found in repository"):this._locating?jm.static([r[9]||ei("span",r,9,0).flag("hook").setText("Is this code in your repository?"),r[10]||ei("button",r,10,0).flag("xs").flag("blue").on$(0,["tap","selectSourceLocation"],this).setText("Yes"),r[11]||ei("span",r,11,0).setText(" "),r[12]||ei("a",r,12,0).on$(0,["tap","dismissSourceLocation"],this).setText("No")],2,4):void 0,r[13]||ei("span",r,13,0).flag("grow"),(r[14]||ei("span",r,14,0).flag("lang").on$(0,["tap","stop","selectLanguage"],this)).setContent(this.lang()||"Plain Text",3)],1),!0))},l.prototype.awaken=function(){this.log("awakening pre/code",this.dom().innerHTML);let e=this.dom().querySelector("code");if(e){let r={type:"pre",body:e.textContent};this.dom().innerHTML="",this.render(),this.deserialize(r.body)}return this},l.prototype.setCodeHtml=function(e){return this.render(),this._code.dom().innerHTML=e,this},l.prototype.commitUrl=function(){if(this._meta)return"https://github.com/"+this._meta.owner+"/"+this._meta.repo+"/commits/"+this._meta.gitref},l.prototype.update=function(e){if(e.type!=this.type())return this.morph(e);let t=e.language||"text";if(this.setMdata(e),this.setLink(e.permalink||e.link),this.render(),e.body==null&&e.startLine&&(e.body=new Array(e.lines).join(`
`),this.fetchSourceFromLocation()),e.body!=null){var r=wPe(e.body,t);this.setCodeHtml(r)}return this},l.prototype.deserialize=function(e){if(e!=null){var t=wPe(e,this.lang()||"text");this.setCodeHtml(t)}return this},l.prototype.lang=function(){return this.mlanguage()},l.prototype.linkDidSet=function(e){if(!e)return this._meta=null;e=e.href||e;var t=this.util().parseLink(e);this._meta=t;let r={href:e,repo:t.repo,owner:t.owner,path:t.path,line:t.startLine};return this.dom().style.counterReset="code-line "+(this._meta.startLine-1),this.dataset(r)},l.prototype.build=function(e){return this.setAttribute("spellcheck","false"),this.rehighlight=this.rehighlight.bind(this),e&&this.dataset({language:e.language}),this},l.prototype.cleanup=function(){let e=this.dom().getElementsByTagName("br");for(;e[0];)e[0].replaceWith(document.createTextNode(`
`));return this},l.prototype.plaintext=function(){let e=this.body().textContent;return e[e.length-1]==`
`&&(e=e.slice(0,-1)),e},l.prototype.rehighlight=function(){var e=this,t;let r=e.plaintext();if(r+e.lang()!=e._highlighted){e._highlighted=r+e.lang();var o=wPe(r,e.lang());let n=(t=e.selection())&&t.start&&t.start();e.root().batch({silent:!0},function(){return e.setCodeHtml(o)}),e.log("selection before rehighlight",n),n!=null&&e.select(n)}return e},l.prototype.onmutation=function(e,t){return t.notify.add(this.rehighlight),!0},l.prototype.appendCode=function(e){try{let t=this.dom().querySelector("span.line:last-of-type");typeof e=="string"||e instanceof String||(e=e.textContent),t.appendChild(document.createTextNode(e))}catch{}return this},l.prototype.oninput=function(e,t){return e.stop()},l.prototype.onwillcopy=function(e,t){if(e.native().clipboardData.setData("text/code",t.text),t.text&&t.text.indexOf(`
`)>=0){let r="```"+this.lang()+`
`+t.text+"\n```";e.native().clipboardData.setData("text/plain",t.text),e.native().clipboardData.setData("text/markdown",r),e.prevent()}return this},l.prototype.onwillpaste=function(e,t){var r=e.event().clipboardData,o=r.getData("text/code"),n=r.getData("text/plain");return this.log("onwillpaste",t,r.getData("text/plain")),(o||n)&&(e.prevent(),this.mpermalink()||(t.range.mdDelete(),t.range.insertNode(document.createTextNode(o||n)),t.range.collapse())),this},l.prototype.ontap=function(e){var t;if(this.dataset("href")&&(!this.closest(".editable")||e.event().target.matches("dfn")))return t=this.dataset("href").replace("https://github.com","")},l.prototype.add_paragraph_after=function(){return this.addBlockAfter({type:"p"}).autoselect()},l.prototype.add_paragraph_before=function(){return this.addBlockBefore({type:"p"}).autoselect()},l.prototype.consumeBlock=function(e){let t=e.body().textContent;this.log("raw content to consume",t);let r=this.plaintext().length,o=t.length;return this.appendCode(t),this.select(r),e.removeBlock(),this},l.prototype.onkeydown=function(e,t){if(t){if(t.action=="select_all")return this.select(0,-1),e.stop().prevent();if(this.log("onkeydown in codeblock",t.key,t),t.key.esc)return this.selectBlock(),e.prevent().stop();if(this.mpermalink()&&!e.meta()&&!e.ctrl()&&!(t.key.down||t.key.up||t.key.right||t.key.left))return e.prevent().stop();if(!(CJo(t.action,["add_paragraph_after","moveup","movedown","add_after","undo","redo"])>=0)){if(t.key.del&&!t.textBefore){if(t.text||e.prevent(),!t.text&&(!t.textAfter||t.textAfter==`
`)){this.addBlockBefore({type:"p"}).select(0,0),this.removeBlock();return}if(!t.text&&!t.textBefore&&this.prevBlock()&&this.prevBlock().isEmpty()){this.prevBlock().removeBlock();return}}if(e.stop(),t.key.tab&&(this.exec("insertText",!1,"	"),e.prevent()),t.key.shift&&t.key.enter)this.rehighlight(),e.prevent();else if(t.key.enter){e.prevent();let r=window.getSelection();r.getRangeAt(0).insertNode(document.createTextNode(`
`)),r.collapseToEnd()}if(t.key.down&&t.textAfter==`
`&&!this.nextBlock()&&(this.add_paragraph_after(),e.prevent()),t.key.up&&t.textBefore==""&&!this.prevBlock())return this.add_paragraph_before(),e.prevent()}}}})});var Tlr=Gt(()=>{T();var jJo=An(),AJo=jJo.createTagScope();AJo.defineTag("md:blockquote","md:block",function(l){l.normalize=function(e,t){return e&&(!e.body||e.body.length==0)&&(e.body=[{type:"p",body:[]}]),e},l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{wrap:"> ",pre:1,post:1})},l.prototype.update=function(){return l.prototype.__super__.update.apply(this,arguments),this.log("blockquote update",this.dom()),this.normalize()},l.prototype.allowChild=function(){return!0},l.prototype.onbeforeinput=function(e){this.firstBlock()||this.addBlockInside({type:"p"}).select(0)},l.prototype.firstBlock=function(){return this.childBlocks()[0]},l.prototype.select=function(e,t){var r;return e?l.prototype.__super__.select.apply(this,arguments):(r=this.firstBlock())&&r.select&&r.select(e,t)},l.prototype.normalize=function(){return this}})});var Rlr=Gt(()=>{T();var UJo=An(),Olr=UJo.createTagScope();Olr.defineTag("md:strong","md:textspan",function(l){l.prototype.wrapping=function(){return"**"}});Olr.defineTag("md:b","md:textspan",function(l){l.prototype.wrapping=function(){return"**"}})});var Llr=Gt(()=>{T();var PJo=An(),Mlr=PJo.createTagScope();Mlr.defineTag("md:em","md:textspan",function(l){l.prototype.wrapping=function(){return"_"}});Mlr.defineTag("md:i","md:textspan")});var Dlr=Gt(()=>{T();var TJo=An(),SPe=TJo.createTagScope();SPe.defineTag("md:del","md:textspan",function(l){l.prototype.wrapping=function(){return"~~"}});SPe.defineTag("md:strike","md:del");SPe.defineTag("md:s","md:textspan",function(l){l.prototype.wrapping=function(){return"~~"}})});var Ilr=Gt(()=>{T();function EPe(l){return l?l.toArray?l.toArray():l:[]}function CPe(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}var Nlr=An(),jPe=Nlr.createElementFactory(),APe=Nlr.createTagScope();APe.defineTag("md:li","md:block",function(l){l.prototype.markdownBullet=function(){return"- "},l.prototype.markdownText=function(e){let t="  ".repeat(this.level()-1);return""+this.markdownBullet(e)+this.markdownBody()+this.childContainer().markdown()},l.prototype.markdownBody=function(){return this.label().markdownBody()},l.prototype.markdown=function(e){var t;return e===void 0&&(e={}),l.prototype.__super__.markdown.call(this,{pre:1,post:(t=this.nextBlock())&&t.type&&t.type()==this.type()?0:1})},l.prototype.number=function(){let e=1,t=this;for(;(t=t.prevBlock())&&t.type()==this.type();)e++;return e},l.prototype.allowChild=function(e){return!0},l.prototype.body=function(){return this._label.dom()},l.prototype.isEmpty=function(){return this.body().textContent==""},l.prototype.ondelempty=function(e){return e.stop().prevent(),this.log("ondelempty"),this.morph({type:"p"})},l.prototype.ondelstart=function(e){return e.stop().prevent(),this.log("ondelstart"),this.morph({type:"p"})},l.prototype.onbreakempty=function(e){return e.stop().prevent(),this.morph({type:"p"})},l.prototype.onbreakstart=function(e){return e.stop().prevent(),this.addBlockBefore({type:"p"})},l.prototype.onbreakend=function(e){e.stop().prevent();var t={type:this.type(),body:[]},r=this.childBlocks()[0]&&this.childBlocks()[0].type();return CPe(r,["orderedli","li","todo","p"])>=0&&(t.type=r),this.addBlock(t,0).autoselect(0)},l.prototype.onbreak=function(e,t){let r=t.range.mdRangeAfter(this.body()).mdExtract(),o={type:this.type(),body:r};this.log("onmdsplit",e,this.data(),o,r);var n=this.childBlocks()[0]&&this.childBlocks()[0].type();return CPe(n,["orderedli","li","todo","p"])>=0&&(o.type=n),this.addBlock(o,0).autoselect(0),e.stop().prevent()},l.prototype.morphalize=function(e){return e},l.prototype.morph=function(e){if((typeof e=="string"||e instanceof String)&&(e={type:e}),CPe(e.type,["orderedli","li","todo"])>=0){e=Object.assign({},this.serialize(),e);let t=this.addBlockBefore(e);return this.removeBlock(),t.autoselect()}else{this.log("morphing",this.serialize());let t=this.serialize().body;e.body=t;let r=this.addBlockBefore(e);for(let o=0,n=EPe(this.childBlocks().reverse()),i=n.length;o<i;o++)r.addBlockAfter(n[o]);return this.removeBlock(),r.autoselect(0)}},l.prototype.update=function(e,t){return e.type!=this.type()?(this.log("updating with wrong datatype(!)"),this.morph(e)):(this.setMdata(e),e.body&&this.setBodyContent(e.body),t||this._childContainer.deserialize(e.children||[]),this)},l.prototype.awaken=function(){for(let e=0,t=EPe(this.dom().children),r=t.length,o;e<r;e++)o=t[e],o.nodeName=="SECTION"?this._childContainer||(this._childContainer=o._tag):o.nodeName=="LABEL"&&(this._label||(this._label=o._tag));if(!this._label){let e=this.label();for(;this.dom().childNodes[0];){let t=this.dom().childNodes[0];t instanceof Text||!t.matches("label,section,li")?e.dom().appendChild(t):(e=this.childContainer(),e.dom()!=t&&e.dom().appendChild(t))}this.dom().insertAdjacentElement("afterbegin",this.label().dom()),this.dom().insertAdjacentElement("beforeend",this.childContainer().dom())}return this},l.prototype.bullet=function(){return null},l.prototype.label=function(){var e;return this._label||(this._label=jPe("md:label").end())},l.prototype.childContainer=function(){var e;return this._childContainer||(this._childContainer=jPe("md:section").end())},l.prototype.build=function(){return this.dom().childNodes.length||(this.bullet()&&this.dom().appendChild(this.bullet().dom()),this.dom().appendChild(this.label().dom()),this.dom().appendChild(this.childContainer().dom())),l.prototype.__super__.build.apply(this,arguments)},l.prototype.childBlocks=function(){return this.childContainer().childBlocks()},l.prototype.addBlockInside=function(){for(var e,t=arguments,r=t.length,o=new Array(r>0?r:0);r>0;)o[r-1]=t[--r];return(e=this.childContainer()).addBlockInside.apply(e,o)},l.prototype.setBodyContent=function(e){return this._label.setBodyContent(e)},l.prototype.firstNestedBlock=function(){return this},l.prototype.serialize=function(e){return Object.assign({type:this.type(),body:this.label().serialize(e),children:this.childContainer().serialize(e)},this.mdata())}});APe.defineTag("md:orderedli","md:li",function(l){l.prototype.markdownBullet=function(){return""+this.number()+". "}});APe.defineTag("md:todo","md:li",function(l){l.field("checked"),l.prototype.isRadio=function(){let e=this.closestHeader();return e&&e.matches("[data-meta=radios]")},l.prototype.radioOptions=function(){return this.isRadio()?this.closestHeader().blocksAfterHeading(".todo"):[]},l.prototype.checked=function(){return!!this.mchecked()},l.prototype.bullet=function(){let e,t=this.$$||(this.$$={});return this._bullet=this._bullet||jPe("button",this).flag("bullet")},l.prototype.markdown=function(e){e===void 0&&(e={});let t=this.serializer().options;return t.skip_unchecked_todos&&!this.checked()||t.skip_checked_todos&&this.checked()?"":l.prototype.__super__.markdown.call(this,e)},l.prototype.markdownBullet=function(e){return e.plain||this.serializer().options.todos_as_lis?"- ":this.checked()?"- [x] ":"- [ ] "},l.prototype.ontap=function(e){if(e.event().target==this._bullet.dom())return this.toggleChecked(),this.selectBlock(),e.prevent().stop()},l.prototype.toggleChecked=function(){if(this.isRadio()){for(let e=0,t=EPe(this.radioOptions()),r=t.length,o;e<r;e++)o=t[e],o.checked()&&o!=this&&o.toggle();if(!this.checked())return this.toggle()}else return this.toggle()},l.prototype.onblockkeydown=function(e,t){if(t.key.x||t.key.space)return this.toggleChecked(),e.prevent()},l.prototype.toggle=function(){var e=this;if(e.setMchecked(!e.mchecked()),e.trigger("todotoggle",e.mchecked()),e.mchecked())return clearTimeout(e._animTimeout),e.flag("anim"),e._animTimeout=setTimeout(function(){return e.unflag("anim")},1200)}})});var Flr=Gt(()=>{T();var OJo=An(),RJo=OJo.createTagScope();RJo.defineTag("md:br","md:inline",function(l){l.prototype.update=function(){return this},l.prototype.markdown=function(){return this.dom().closest("td,th")?"<br/>":`
`}})});var Hlr=Gt(()=>{T();var MJo=An(),LJo=MJo.createTagScope();LJo.defineTag("md:hr","md:atom",function(l){l.prototype.markdownText=function(){return"---"},l.prototype.update=function(){return this},l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{pre:1,post:1})},l.prototype.isEmpty=function(){return!0}})});var Vlr=Gt(()=>{T();function Blr(l){return l&&(l.len instanceof Function?l.len():l.length)||0}function Gc(l){return l?l.toArray?l.toArray():l:[]}var BI=An(),Lx=BI.createTagScope(),Zse=BI.createElementFactory(),DJo={left:":---",center:":---:",right:"---:",default:"---"};Lx.defineTag("md:tableitem","md:block",function(l){l.prototype.table=function(){return this.closest("table")},l.prototype.sync=function(e){return e===void 0&&(e={mutations:!0}),this.trigger("sync",e)},l.prototype.add_paragraph_after=function(){return this.table()==this?l.prototype.__super__.add_paragraph_after.apply(this,arguments):this.table().add_paragraph_after()},l.prototype.isTable=function(){return!0},l.prototype.awaken=function(){return this.snapshot(),this}});Lx.defineTag("md:table","md:tableitem",function(l){l._nodeType="table",l.prototype.isObject=function(){return!0},l.prototype.blockBelow=function(){return this.nextBlock()},l.prototype.markdownText=function(e){if(e.plain)return this.rows().map(function(r){return r.markdown()}).join(`
`);let t=[];for(let r=0,o=Gc(this.rows()),n=o.length,i;r<n;r++)i=o[r],t.push(i.markdown()),r==0&&t.push("| "+i.cells().map(function(s){return DJo[s.dom().dataset.align]||"---"}).join(" | ")+` |
`);return t.join("")},l.prototype.markdown=function(){return l.prototype.__super__.markdown.call(this,{pre:!0,post:!0})},l.prototype.rowAtIndex=function(e){try{return this.dom().rows[e]._tag}catch{}},l.prototype.insertRow=function(e){e===void 0&&(e=-1);let t=this.dom().rows[0].cells,r=this.dom().insertRow(e);for(let o=0,n=Gc(t),i=n.length;o<i;o++)r.insertCell();return r},l.prototype.insertCol=function(e){e===void 0&&(e=-1);for(let t=0,r=Gc(this.dom().rows),o=r.length;t<o;t++)r[t].insertCell(e);return this},l.prototype.deleteCol=function(e){for(let t=0,r=Gc(this.dom().rows),o=r.length;t<o;t++)r[t].deleteCell(e);return this.trigger("reflow"),this},l.prototype.deleteRow=function(e){return this.dom().deleteRow(e),this},l.prototype.expandTo=function(e,t){let r=this.dom().rows.length;for(;r++<t;)this.insertRow();let o=this.dom().rows[0].cells.length;for(;o++<e;)this.insertCol();return this},l.prototype.setSize=function(e,t){t<2&&(t=2),e<1&&(e=1);let r=this.dom().rows.length;for(console.log("change table size",e,t,r);r++<t;)this.insertRow();let o=this.dom().rows[0].cells.length;for(;o++<e;)this.insertCol();return this},l.prototype.column=function(e){var t=[];for(let r=0,o=Gc(this.dom().rows),n=o.length;r<n;r++){let i=o[r].cells[e];i&&t.push(i._tag)}return t},l.prototype.cell=function(e,t){let r=this.rowAtIndex(t);return r?r.cell(e):null},l.prototype.cells=function(){return this.querySelectorAll("th,td")},l.prototype.rows=function(){let e=[];for(let t=0,r=Gc(this.dom().rows),o=r.length;t<o;t++)e.push(r[t]._tag);return e},l.prototype.cols=function(){let e=this.rowAtIndex(0);return e?e.cells():[]},l.prototype.subgrid=function(e,t){e instanceof BI.Tag&&(e=e.closest("th,td"),e=[e.rowIndex(),e.index()]),t instanceof BI.Tag&&(t=t.closest("th,td"),t=[t.rowIndex(),t.index()]);var r=[];let o=e[0],n=t[0],i=Math.min(e[1],t[1]),s=Math.max(e[1],t[1]);for(;n>=o;){let a=i,u=this.rowAtIndex(o++),c=[];for(r.push(c);s>=a;){let h=u.cell(a++);c.push(h)}}return r},l.prototype.subcells=function(e,t){let r=this.subgrid(e,t);return[].concat.apply([],r)},l.prototype.subtable=function(e,t){return{type:"table",body:this.subgrid(e,t).map(function(n){return{type:"tr",body:n.map(function(i){return i.serialize()})}})}},l.prototype.select=function(){try{return this.dom().rows[0].cells[0]._tag.select(0,0)}catch{}},l.prototype.onblockkeydown=function(e,t){try{if(console.log("onblockkeydown",e,t),t.key.combo=="enter"){let r=this.dom().rows[0].cells[0];return this.root().selectedBlocks().select(r._tag).apply(),e.prevent()}}catch{}}});Lx.defineTag("md:thead","md:tableitem",function(l){l._nodeType="thead",l.prototype.markdown=function(e){let t=this.body().children[0],r=[];for(let s=0,a=Gc(this.body().children),u=a.length,c;s<u;s++)c=a[s],c._tag&&r.push(c._tag.markdown(e));var o=r,n=[];let i=[];for(let s=0,a=Gc(t.children),u=a.length,c;s<u;s++){if(c=a[s],!c._tag)continue;let h=c.dataset.align;i.push(h=="left"?":---":h=="center"?":---:":h=="right"?"---:":"---")}return n=i,o.join(`
`)+"| "+n.join(" | ")+` |
`}});Lx.defineTag("md:tbody","md:tableitem",function(l){l._nodeType="tbody"});Lx.defineTag("md:tr","md:tableitem",function(l){l._nodeType="tr",l.prototype.isHead=function(){return!!this.closest("thead")},l.prototype.markdownText=function(e){if(e.plain)return this.cells().map(function(n){return n.markdown()}).join("	");var t="| ";let r=[];for(let n=0,i=Gc(this.body().children),s=i.length,a;n<s;n++)a=i[n],a._tag&&r.push(a._tag.markdown(e).replace(/\|/g,"\\|"));var o=r;return"| "+o.join(" | ")+` |
`},l.prototype.index=function(){return this.dom().rowIndex},l.prototype.table_insert_row=function(e){return e===void 0&&(e={}),this.log("insert row!!!",this,this.dom().rowIndex,e),this.table().insertRow(this.index()+1)},l.prototype.table_row_move_up=function(){return this.dom().previousElementSibling?(this.log("move row up!!"),this.prev()&&this.addBlockAfter(this.prev().dom()),this):this},l.prototype.table_row_move_down=function(){return this.dom().nextElementSibling?(this.log("move row down!!"),this.next()&&this.addBlockBefore(this.next().dom()),this):this},l.prototype.blockAbove=function(){return this.prev()},l.prototype.blockBelow=function(){return this.next()},l.prototype.next=function(){try{return this.table().dom().rows[this.index()+1]._tag}catch{}},l.prototype.prev=function(){try{return this.table().dom().rows[this.index()-1]._tag}catch{}},l.prototype.cell=function(e){try{return this.dom().cells[e==-1?this.dom().cells.length-1:e]._tag}catch{}},l.prototype.isEmpty=function(){return this.dom().innerText=="",this.cells().every(function(e){return e.isEmpty()})},l.prototype.cells=function(){let e=[];for(let t=0,r=Gc(this.dom().cells),o=r.length;t<o;t++)e.push(r[t]._tag);return e}});Lx.defineTag("md:td","md:tableitem",function(l){l._nodeType="td",l.prototype.markdownText=function(){return l.prototype.__super__.markdownText.apply(this,arguments).replace(`
`,"<br/>")},l.prototype.snapshot=function(e){e===void 0&&(e=!1);try{this.row().snapshot(e)}catch{}return l.prototype.__super__.snapshot.apply(this,arguments),this},l.prototype.isHead=function(){return!!this.closest("th,thead")},l.prototype.row=function(){return this.closest("tr")},l.prototype.next=function(){return this.row().cell(this.index()+1)},l.prototype.prev=function(){return this.index()>0?this.row().cell(this.index()-1):null},l.prototype.cellAbove=function(){return this.row().prev()?this.row().prev().cell(this.index()):null},l.prototype.cellBelow=function(){return this.row().next()?this.row().next().cell(this.index()):null},l.prototype.index=function(){return this.dom().cellIndex},l.prototype.rowIndex=function(){return this.row().index()},l.prototype.nextTabTarget=function(){let e=this.next();return!e&&this.row().next()&&(e=this.row().next().cell(0)),e},l.prototype.prevTabTarget=function(){let e=this.prev();return!e&&this.row().prev()&&(e=this.row().prev().cell(0)),e},l.prototype.onpaste=function(e,t){if(!t)return;let r=t.clipboard.fragment();if(r&&r.is("table"))return this.pasteTable(r),e.stop();if(!r.is("p"))return t.clipboard.forcePlainText()},l.prototype.pasteTable=function(e){let t=this.rowIndex()+Blr(e.rows()),r=this.index()+Blr(e.cols());this.table().expandTo(r,t),this.root().flushMutations();for(let o=0,n=Gc(e.rows()),i=n.length,s;o<i;o++){s=n[o];let a=this.table().dom().rows[this.rowIndex()+o];for(let u=0,c=Gc(s.cells()),h=c.length,d;u<h;u++){d=c[u];let f=a.cells[this.index()+u];if(f){let m=d.text();f._tag?(f._tag.snapshot(),f._tag.update({body:[m]})):f.innerText=m}}}return this},l.prototype.update=function(e){return l.prototype.__super__.update.apply(this,arguments),this.dataset({align:e.align||void 0})},l.prototype.blockAbove=function(){try{return this.row().prev().cell(this.index())}catch{return this.table().blockAbove()}},l.prototype.blockBelow=function(){try{return this.row().next().cell(this.index())}catch{return this.table().blockBelow()}},l.prototype.blockOnLeft=function(){return this.prev()},l.prototype.blockOnRight=function(){return this.next()},l.prototype.add_paragraph_after=function(){return this.table().add_paragraph_after()},l.prototype.table_insert_row=function(e){return e===void 0&&(e={}),e.before?this.isHead()?(this.table().addBlockBefore({type:"p",body:[]}).select(0,0),this):(this.table().insertRow(this.row().index()),this.sync(),this.focus_above()):(this.table().insertRow(this.row().index()+1),this.sync(),this.focus_below())},l.prototype.table_insert_col=function(e){return this.table().insertCol(this.index()+1),this.sync(),this.focus_next_cell()},l.prototype.table_delete_col=function(){return this.focus_prev_cell(),this.table().deleteCol(this.index())},l.prototype.table_delete_row=function(){if(this.isHead())return;let e=this.row().prev()?this.row().prev().cell(this.index()):this.row().next().cell(this.index());return this.table().deleteRow(this.row().index()),e.select(0,0)},l.prototype.table_autodelete_row=function(){if(this.row().isEmpty())return!this.row().next()&&(!this.row().prev()||this.row().prev().isHead())?(this.table().add_paragraph_after(),this.table().removeBlock(),!0):(this.focus_above(),this.table().deleteRow(this.row().index()),!0)},l.prototype.table_break=function(){return this.row().next()?this.focus_below():this.table().add_paragraph_after(),this},l.prototype.focus_next_cell=function(){try{return!this.next()&&!this.row().next()&&(this.table().insertRow(),this.root().flushMutations()),(this.next()||this.row().next().cell(0)).select(0,-1),this}catch{}},l.prototype.focus_prev_cell=function(){try{return(this.prev()||this.row().prev().cell(-1)).select(0,-1),this}catch{}},l.prototype.focus_above=function(){var e;try{let t=(e=this.selection())&&e.start&&e.start();return this.row().prev().cell(this.index()).select(t||0)}catch{}},l.prototype.focus_below=function(){var e;try{let t=(e=this.selection())&&e.start&&e.start();return this.row().next().cell(this.index()).select(t||0)}catch{}},l.prototype.align=function(e){let t=this.dataset().align;for(let r=0,o=Gc(this.table().column(this.index())),n=o.length,i;r<n;r++)i=o[r],i.snapshot(),t==e?i.dataset({align:void 0}):i.dataset({align:e});return this},l.prototype.oncontextmenu=function(e){var t=this,r,o,n,i,s},l.prototype.onkeydown=function(e,t,r){var o,n;if(!r)return;t.key.del&&r.atStart&&this.row().isEmpty()&&this.log("row is empty!");let i;if(t.key.combo=="up"){if(this.is(":empty"))return(o=this.blockAbove())&&o.select&&o.select(-1),e.prevent().stop();let s=r.range.mdVisualInfo(),a=s.start,u=a.line;if(this.log("visual info",s,u,a),u.nr==0){let c=this.blockAbove();i=Range.mdVisualRange(c,-1,a.left)}else u.nr>0&&(i=Range.mdVisualRange(this.dom(),u.nr-1,a.left,s.lines))}else if(t.key.combo=="down"){if(this.is(":empty"))return(n=this.blockBelow())&&n.select&&n.select(0),e.prevent().stop();let s=r.range.mdVisualInfo();this.log("select next line",s);let a=s.start,u=a.line;if(u.last){let c=this.blockBelow()||this.table().addBlockAfter({type:"p"});i=Range.mdVisualRange(c,0,a.left)}else i=Range.mdVisualRange(this.dom(),u.nr+1,a.left,s.lines)}if(i)return window.getSelection().mdSelect(i),e.prevent().stop()},l.prototype.clear=function(){return this.body().textContent="",this},l.prototype.removeBlock=function(){return this.clear()}});Lx.defineTag("md:th","md:td",function(l){l._nodeType="th"})});var zlr=Gt(()=>{T();var NJo=An(),IJo=NJo.createTagScope();IJo.defineTag("md:smartref","md:a",function(l){l._nodeType="a",l._classes=["smartref"],l.prototype.update=function(e){return this._data=e,e.ref&&(this.dom().dataset.ref=e.ref,this.dom().dataset.href="index.html?q="+globalThis.encodeURIComponent(e.ref)),l.prototype.__super__.update.apply(this,arguments)}})});var qlr=Gt(()=>{T();var FJo=An(),HJo=FJo.createTagScope(),BJo=Cm().deserialize;HJo.defineTag("md:fragment","md:block",function(l){l.prototype.setData=function(e){return this._dom=BJo(e),this},l.prototype.root=function(){return this._dom instanceof Element&&this._dom._tag?this._dom._tag:this}})});var Wlr=Gt(()=>{T();var VJo=An(),zJo=VJo.createTagScope();zJo.defineTag("md:editable","md:block",function(l){l.prototype.__type={default:"plaintext-only",name:"type"},l.prototype.type=function(e){return this._type},l.prototype.setType=function(e){return this._type=e,this},l.prototype._type="plaintext-only",l.prototype.editing=function(e){return this._editing},l.prototype.setEditing=function(e){return this._editing=e,this},l.prototype.placeholder=function(e){return this.getAttribute("placeholder")},l.prototype.setPlaceholder=function(e){return this.setAttribute("placeholder",e),this},l.prototype.readonly=function(e){return this._readonly},l.prototype.setReadonly=function(e){return this._readonly=e,this},l.prototype.protected=function(e){return this._protected},l.prototype.setProtected=function(e){return this._protected=e,this},l.prototype.setup=function(){var e,t;return(e=this.tabindex())||this.setTabindex(t=0),l.prototype.__super__.setup.apply(this,arguments)},l.prototype.render=function(){return this.setAttribute("contenteditable",this.readonly()||this.protected()&&!this.editing()?"read-only":this.type()),this.flag("protected",this.protected()),this.flag("readonly",this.readonly()),this.flag("editing",this.editing()),this},l.prototype.ondblclick=function(e){if(this.protected()&&!this.editing()&&!this.readonly())return this.setEditing(!0),this.render(),this.focus(),this.select(-1)},l.prototype.edit=function(){return this.focus(),this.setEditing(!0),this.select(0,-1)},l.prototype.save=function(){return this.value()!=this._backingValue&&this.editing()&&this.trigger("change",this.value()),this},l.prototype.setValue=function(e,t){return this._backingValue=e,this._localValue==null&&this.setText(this._backingValue),this},l.prototype.reset=function(){return this._text_=this._tree_=null,this._localValue=void 0,this.setText(this._backingValue),this},l.prototype.value=function(){return this._dom.textContent},l.prototype.focus=function(e){return e===void 0&&(e={}),this.hasFocus()||this.dom().focus(),this.readonly()||this.setEditing(!0),e&&e.from&&e.from.x&&Range.mdRangeFromPoint(this.dom(),e.from.x,e.from.y).mdSelect(),this},l.prototype.oninput=function(){return this._localValue=this.value(),this},l.prototype.onkeydown=function(e){var t,r,o;let n=e.keys(),i=window.getSelection();if(n.combo=="up"&&i.mdCaretRange().mdIsInFirstLine(this.dom())){if((t=this.prevFocusTarget())&&t.closest("[contenteditable]:not([contenteditable=false])"))return e.prevent().stop(),t.focus({from:i.mdCaretBox()})}else if(n.combo=="down"&&i.mdCaretRange().mdIsInLastLine(this.dom())){if((r=this.nextFocusTarget())&&r.closest("[contenteditable]:not([contenteditable=false])"))return e.prevent().stop(),r.focus({from:i.mdCaretBox()})}else{if(n.combo=="tab"&&this.nextFocusTarget())return e.prevent().stop(),this.nextFocusTarget().focus({from:{x:0,y:-1e4}});if(n.combo=="enter")return(o=this.nextFocusTarget())&&o.focus&&o.focus({from:i.mdCaretBox()}),e.prevent().stop();if(n.combo=="esc"&&this.protected()&&this.editing())return e.prevent().stop(),this.setEditing(!1),this.render(),this.reset(),this.dom().focus()}},l.prototype.onblur=function(e){return this.value()!=this._backingValue&&(this.trigger("change",this.value()),this._localValue=void 0),this.setEditing(!1),!1}})});var Qlr=Gt(Jlr=>{T();function Zlr(l){return l?l.toArray?l.toArray():l:[]}var Glr=An(),qJo=Glr.createElementFactory(),N7=(jx(),rR(O7)),WJo=N7.md2note,Ylr=N7.html2dom,Xlr=N7.html2md,TFn=N7.dom2md,OFn=N7.textToEmoji,RFn=N7.html2note,Klr=Cm(),MFn=Klr.deserialize,ZJo=Klr.guessCodeLanguage;function go(l){if(this._root=this.root(),this._payload=l,this._meta={},this._data={},l instanceof DataTransfer)if(l._assets&&l._assets.length&&(this._assets=l._assets,this._urls=this._assets.map(function(e){return e.objectUrl})),l._data)this._payload=l._data;else{this._payload={};for(let e=0,t=Zlr(l.types),r=t.length,o;e<r;e++)o=t[e],this._payload[o]=l.getData(o);if(l.files&&l.files[0]){let e=[];for(let t=0,r=Zlr(l.files),o=r.length;t<o;t++)e.push(r[t]);this._files=e}}this.parse()}Jlr.ClipboardData=go;go.prototype.root=function(l){return this._root};go.prototype.setRoot=function(l){return this._root=l,this};go.prototype.payload=function(l){return this._payload};go.prototype.setPayload=function(l){return this._payload=l,this};go.prototype.data=function(l){return this._data};go.prototype.setData=function(l){return this._data=l,this};go.prototype.source=function(l){return this._source};go.prototype.setSource=function(l){return this._source=l,this};go.prototype.meta=function(l){return this._meta};go.prototype.setMeta=function(l){return this._meta=l,this};go.prototype.files=function(l){return this._files};go.prototype.setFiles=function(l){return this._files=l,this};go.prototype.code=function(l){return this._code};go.prototype.setCode=function(l){return this._code=l,this};go.prototype.markdown=function(l){return this._markdown};go.prototype.setMarkdown=function(l){return this._markdown=l,this};go.parse=function(l,e){return l instanceof go?(l.setRoot(e),l):new this(l,e)};go.prototype.types=function(){return Object.keys(this._payload)};go.prototype.parse=function(l){l===void 0&&(l=this._payload);for(let n,i=0,s=Object.keys(l),a=s.length,u;i<a;i++)u=s[i],n=l[u],u.indexOf("embedded-grid_range")>=0?this.setSource("gsheets"):u.indexOf("google-docs")>=0?this.setSource("gdocs"):u.indexOf("slack/")>=0?this.setSource("slack"):u.indexOf("markour")>=0?(this.setSource("markour"),this._data[u]=JSON.parse(n)):(u=="text/markdown"||u=="markdown")&&(this._markdown=n);let e;try{e=JSON.parse(this._payload["vscode-editor-data"])}catch{}e&&(this._vscode=e,e.mode=="markdown"&&(this._markdown=this.text())),this._urls&&(this._payload["text/plain"]=this._urls.join(" "));let t=this.html(),r=t&&Ylr(t);if(this.text()){let n={headings:this.text().match(/^#+ \w/gm),lis:this.text().match(/^- \w/gm),strong:this.text().match(/\*\*[^\n\*]+\*\*/gm),links:this.text().match(/\]\(http[^\n\)]+\)/gm),code:this.text().match(/\`[^\n\`]+\`/gm)}}if(!this.source()&&t&&(t.indexOf("-file-line")>=0&&(this.setSource("github"),this.setCode(this.text())),t.indexOf("monospace")>=0&&r)){let n=r.children[0],i=n&&n.getAttribute("style")||"";n&&i.indexOf("monospace")>=0&&!n.previousElementSibling&&this.setCode(this.text())}return(this._codeAnalysis=ZJo(this.text()||"")).score>.5&&this.text().indexOf(`
`)>=0&&!this.code()&&!this._markdown&&this.setCode(this.text()),this.code()&&(this._rich={type:"pre",body:this.text()}),this};go.prototype.getData=function(l){return this._payload[l]};go.prototype.text=function(){return this.getData("text/plain")};go.prototype.html=function(){return this.getData("text/html")};go.prototype.htmlMarkdown=function(){return this._htmlMarkdown||(this._htmlMarkdown=Xlr(this.html()))};go.prototype.forcePlainText=function(){return this._fragment=null,this._rich={type:"p",body:[this.text()]},this};go.prototype.markdown=function(){return this._markdown||(this._markdown=this.html()?Xlr(this.html()):this.text())};go.prototype.rich=function(){return this._rich||(this._rich=WJo(this.markdown()).body||[])};go.prototype.fragment=function(){var l;return this._fragment||(this._fragment=qJo("md:fragment").bindData(this,"rich",[]).end().root())};go.prototype.log=function(l,e){return console.groupCollapsed(l),e instanceof Function?e():console.log(e),console.groupEnd(l)};go.prototype.cleanHtml=function(){let l=this.html()||"";return l=l.replace(/style\=\"[^\"]*?\"/g,""),l};go.prototype.inspect=function(){return console.group("ClipboardData"),this.log("text",this.text()),this.log("html",this.html()),this.log("rich",this.rich()),this.log("code",this.code()),this.log("markdown",this.markdown()),this.log("html clean",this.cleanHtml()),this.log("html markdown",this.htmlMarkdown()),this.log("parsed html",Ylr(this.html())),this.log("fragment",this.fragment()._dom),this.log("code analysis",this._codeAnalysis),this.log("raw",this._payload),console.groupEnd("ClipboardData")};go.prototype.toAction=function(){return{action:"paste",params:[this]}};Glr.Event.prototype.mdClipboardData=function(){let l=this.native().clipboardData||this.native().dataTransfer;return go.parse(l)}});var rar=Gt(tar=>{T();function ear(l){return l?l.toArray?l.toArray():l:[]}function GJo(l){return l&&(l.len instanceof Function?l.len():l.length)||0}function Yc(l){this._owner=l,this.reset()}tar.History=Yc;Yc.prototype.last=function(){return this._stack[this._index]};Yc.prototype.caret=function(){return this.last()?this.last().caret:null};Yc.prototype.lastSelection=function(){return this.last()?this.last().selection:null};Yc.prototype.reset=function(){return this._index=-1,this._redo=[],this._stack=[],this};Yc.prototype.len=function(){return this._index+1};Yc.prototype.preserveSelection=function(l){var e=this._owner.selDump();let t=this.last();return t&&e&&(t.selection=e),this};Yc.prototype.push=function(l){return l.ts=Date.now(),l.index=this._index+1,(!this.last()||l.ts-this.last().ts>150||l.ts-this._lastSignificant>1e3)&&(l.significant=!0,this._lastSignificant=Date.now()),this._stack.length=l.index,this._stack[l.index]=l,this._index=l.index,this._redo=[],this};Yc.prototype.undo=function(){var l;if(this._redo.unshift(this._index),this._index<=0)return this;for(;this._index>0;){let e=this._stack[this._index];if(this.revert(e),--this._index,e.significant)break}return(l=this.lastSelection())&&this._owner.selRestore(l),this.takeRecords(),this};Yc.prototype.redo=function(){var l;let e=this._redo.shift();if(e)for(;this._index<e;)this.apply(this._stack[++this._index]);return(l=this.lastSelection())&&this._owner.selRestore(l),this.takeRecords(),this};Yc.prototype.takeRecords=function(){let l=this._owner._observer.takeRecords();return l&&GJo(l)&&this._owner.scheduleAutosave(),this};Yc.prototype.revert=function(l){let e=this._stack[l.index-1],t=l.ops.slice().reverse();for(let r=0,o=ear(t),n=o.length,i;r<n;r++){i=o[r];let s=i[0];s=="update"?(this._owner.log("undo-update",i,i[2][0],i[2][1]),i[1],i[1]._tag.update(i[2][0],"undo",i),i[1]._snapshot=i[2][0]):s=="attr"?i[1]._tag.setAttribute(i[2],i[3]):s=="add"?(this._owner.log("undo add",i),i[1].parentNode.removeChild(i[1])):s=="rem"&&(this._owner.log("undo rem",i),i[4]?i[2].insertBefore(i[1],i[4]):i[2].appendChild(i[1]))}return this};Yc.prototype.apply=function(l){for(let e=0,t=ear(l.ops),r=t.length,o;e<r;e++)if(o=t[e],o[0]=="add"){let n=o[4];o[3]&&o[3].parentNode&&(n=o[3].nextSibling),n?o[2].insertBefore(o[1],n):o[2].appendChild(o[1])}else o[0]=="attr"?o[1]._tag.setAttribute(o[2],o[4]):o[0]=="rem"?o[1].parentNode&&o[1].parentNode.removeChild(o[1]):o[0]=="update"&&(o[1]._tag.update(o[2][1],"redo",o),o[1]._snapshot=o[2][1]);return this}});var uar=Gt(aar=>{T();function I7(l,e){return e&&e.indexOf?e.indexOf(l):[].indexOf.call(l,e)}function If(l){return l&&(l.len instanceof Function?l.len():l.length)||0}function qs(l){return l?l.toArray?l.toArray():l:[]}var Dx=An(),zI=Dx.createElementFactory(),YJo=Dx.createTagScope(),XJo={};globalThis.ENV_DEBUG=!1;rlr();var KJo=alr().BlockSelection;hlr();dlr();ylr();blr();glr();_lr();xlr();wlr();Slr();Clr();Plr();Tlr();Rlr();Llr();Dlr();Ilr();Flr();Hlr();Vlr();zlr();qlr();Wlr();var UPe=Qlr().ClipboardData,Yse=(jx(),rR(O7)),oar=Yse.md2note,nar=Yse.dom2md,JJo=Yse.textToEmoji,QJo=Yse.md2html,F7=Cm(),VI=F7.deserialize,eQo=F7.awaken,Gse=F7.contextualize,FFn=F7.blocksInRange,PPe=F7.closestNode,tQo=F7.Sel,lar=Sx(),rQo=lar.Triggers,iar=lar.Actions,oQo=rar().History,sar={childList:!0,subtree:!0,characterData:!0,attributes:!0,attributeOldValue:!0,characterDataOldValue:!0,attributeFilter:["data-language","href","src","width","title","data-align"]};Dx.Events.register("beforeinput");{let l;document.addEventListener("selectionchange",function(e){let t=document.activeElement,r=window.getSelection();if(r.rangeCount){let n=r.getRangeAt(0).commonAncestorContainer,i;for(;n;){if(n._tag&&n._tag.ondomselectionchange){i=n._tag;break}n=n.parentNode}l&&l.ondomselectionchange(e),i&&i!=l&&i.ondomselectionchange(e),l=i}if(t&&t.matches("input,textarea")&&t._tag)return t._tag.trigger("selectionchange")})}YJo.defineTag("md:root","md:block",function(l){l._nodeType="div",l.prototype.__autosavedelay={default:1e3,name:"autosavedelay"},l.prototype.autosavedelay=function(e){return this._autosavedelay},l.prototype.setAutosavedelay=function(e){return this._autosavedelay=e,this},l.prototype._autosavedelay=1e3,l.prototype.history=function(e){return this._history},l.prototype.setHistory=function(e){return this._history=e,this},l.prototype.__data={watch:"dataDidSet",name:"data"},l.prototype.data=function(e){return this._data},l.prototype.setData=function(e){var t=this.data();return e!=t&&(this._data=e),e!=t&&this.dataDidSet&&this.dataDidSet(e,t,this.__data),this},l.prototype.__editable={watch:"editableDidSet",name:"editable"},l.prototype.editable=function(e){return this._editable},l.prototype.setEditable=function(e){var t=this.editable();return e!=t&&(this._editable=e),e!=t&&this.editableDidSet&&this.editableDidSet(e,t,this.__editable),this},l.prototype.__scope={watch:"scopeDidSet",name:"scope"},l.prototype.scope=function(e){return this._scope},l.prototype.setScope=function(e){var t=this.scope();return e!=t&&(this._scope=e),e!=t&&this.scopeDidSet&&this.scopeDidSet(e,t,this.__scope),this},l.prototype.__selections={watch:"selectionsDidSet",name:"selections"},l.prototype.selections=function(e){return this._selections},l.prototype.setSelections=function(e){var t=this.selections();return e!=t&&(this._selections=e),e!=t&&this.selectionsDidSet&&this.selectionsDidSet(e,t,this.__selections),this},l.prototype.__editing={default:!1,watch:"editingDidSet",name:"editing"},l.prototype.editing=function(e){return this._editing},l.prototype.setEditing=function(e){var t=this.editing();return e!=t&&(this._editing=e),e!=t&&this.editingDidSet&&this.editingDidSet(e,t,this.__editing),this},l.prototype._editing=!1,l.prototype.__editMode={watch:"editModeDidSet",name:"editMode"},l.prototype.editMode=function(e){return this._editMode},l.prototype.setEditMode=function(e){var t=this.editMode();return e!=t&&(this._editMode=e),e!=t&&this.editModeDidSet&&this.editModeDidSet(e,t,this.__editMode),this},l.prototype.model=function(e){return this._model},l.prototype.setModel=function(e){return this._model=e,this},l.prototype.__hud={watch:"hudDidSet",name:"hud"},l.prototype.hud=function(e){return this._hud},l.prototype.setHud=function(e){var t=this.hud();return e!=t&&(this._hud=e),e!=t&&this.hudDidSet&&this.hudDidSet(e,t,this.__hud),this},l.prototype.__selectedBlocks={watch:"selectedBlocksDidSet",name:"selectedBlocks"},l.prototype.selectedBlocks=function(e){return this._selectedBlocks},l.prototype.setSelectedBlocks=function(e){var t=this.selectedBlocks();return e!=t&&(this._selectedBlocks=e),e!=t&&this.selectedBlocksDidSet&&this.selectedBlocksDidSet(e,t,this.__selectedBlocks),this},l.prototype.__content={watch:"contentDidSet",name:"content"},l.prototype.content=function(e){return this._content},l.prototype.setContent=function(e){var t=this.content();return e!=t&&(this._content=e),e!=t&&this.contentDidSet&&this.contentDidSet(e,t,this.__content),this},l.prototype.titled=function(e){return this._titled},l.prototype.setTitled=function(e){return this._titled=e,this},l.prototype.__title={watch:"titleDidSet",name:"title"},l.prototype.title=function(e){return this._title},l.prototype.setTitle=function(e){var t=this.title();return e!=t&&(this._title=e),e!=t&&this.titleDidSet&&this.titleDidSet(e,t,this.__title),this},l.prototype.build=function(){return l.prototype.__super__.build.apply(this,arguments),this.setSelectedBlocks(new KJo(this)),this.autosave=this.autosave.bind(this),this.ondommousedown=this.ondommousedown.bind(this),this.ondommouseup=this.ondommouseup.bind(this),this.dom().addEventListener("mousedown",this.ondommousedown,!0),this.dom().addEventListener("mouseup",this.ondommouseup,!0),this.reset(),this.flag("markour"),this},l.prototype.paste_test_data=function(){if(this._clipboardTestData)return this.exec("paste",[this._clipboardTestData])},l.prototype.reset=function(){return this._history=new oQo(this),this},l.prototype.render=function(){return this},l.prototype.clear=function(){var e=this;let t=e.editable();return e.batch({silent:!0},function(){return e.setEditable(!1),e._data="",e.dataDidSet(e._data),e.setEditable(t),t}),e},l.prototype.titleDidSet=function(e,t){return this},l.prototype.level=function(){return 0},l.prototype.mount=function(){return this._mounted=!0,this.editable()&&this.setEditing(!0),this.schedule()},l.prototype.unmount=function(){return this._mounted=!1,this.setEditing(!1),this.unschedule(),this._ribbons&&this._ribbons.close&&this._ribbons.close()},l.prototype.blocks=function(){return this.childBlocks()},l.prototype.parentBlock=function(){return null},l.prototype.nextBlock=function(){return null},l.prototype.prevBlock=function(){return null},l.prototype.rootBlock=function(){return this},l.prototype.removeBlock=function(){return this},l.prototype.firstNestedBlock=function(){return this.childBlocks()[0]},l.prototype.allowChildType=function(e){return!0},l.prototype.addBlockAfter=function(){for(var e=arguments,t=e.length,r=new Array(t>0?t:0);t>0;)r[t-1]=e[--t];return this.addBlockInside.apply(this,r)},l.prototype.addBlockBefore=function(e){return this.addBlockInside(e,0)},l.prototype.isEmpty=function(){let e=this.dom().childNodes[0];return!e||!e.childNodes[0]},l.prototype.updateMarkdown=function(e){var t=this;let r=oar(e);return t.toMarkdown()==e||t.batch({silent:!0},function(){let n=VI(r.body,t),i=!0,s=[],a=[],u=[],c=Array.from(t._dom.childNodes);n instanceof DocumentFragment?n=Array.from(n.childNodes):n instanceof HTMLElement&&(n=[n]);let h=c.slice(n.length);for(let d=0,f=qs(h),m=f.length;d<m;d++)t.dom().removeChild(f[d]);for(let d=0,f=n.length,m;d<f;d++){m=n[d];let $=c[d];$&&$._tag&&$._tag.replaceWithElement?$._tag.replaceWithElement(m):$?t.dom().replaceChild(m,$):$||t.dom().appendChild(m)}return i||(t.dom().innerHTML="",t.dom().appendChild(n)),t._history.reset()}),!0},l.prototype.dataDidSet=function(e,t){var r=this;if(r.editing()&&t!=null&&t!=""&&r.hasFocus())if(e=="")console.warn("Implement input clearing");else return;if(typeof e=="string"||e instanceof String){if(e==r._autosaveValue||e&&e==r.markdown())return r;e==""?e={body:[{type:"p",body:[]}]}:e=oar(e),(!e.body||e.body.length==0)&&(e.body=[{type:"p",body:[]}])}return r.batch({silent:!0},function(){let o=VI(e.body,r);return r.dom().innerHTML="",r.dom().appendChild(o),r._history.reset()})},l.prototype.editModeDidSet=function(e){return this.setFlag("editMode","mode-"+e)},l.prototype.editableDidSet=function(e){var t;return this.dom().contentEditable=!!e,e&&this.data()==null&&this.dataDidSet(""),this.flag("editable",e),this._history.reset(),this._mounted&&this.setEditing(t=!!e),this},l.prototype.editingDidSet=function(e){var t=this;return e?(t._observer||(t._observer=new MutationObserver(function(r){return t.trigger("mutated",r)})),t._observer.observe(t.dom(),sar)):(t._observer&&t._observer.disconnect(),t.setSelections([]),t.setScope(null),t._ribbons&&t._ribbons.close&&t._ribbons.close()),t},l.prototype.batch=function(e,t){t==null&&typeof e=="function"&&(t=e,e={}),e==null&&(e={}),e.silent&&this._observer&&this._observer.disconnect();let r=t.call(this,e);return e.silent&&this._observer&&this._observer.observe(this.dom(),sar),r},l.prototype.selectionsDidSet=function(e,t){let r=!1;for(let o=0,n=qs(t),i=n.length,s;o<i;o++)s=n[o],(!e||e.indexOf(s)==-1)&&(r=!0,s.dataset({selected:void 0}));for(let o=0,n=qs(e),i=n.length,s;o<i;o++)s=n[o],(!t||t.indexOf(s)==-1)&&(r=!0,s.dataset({selected:1}));return this.dataset({multiselect:e&&If(e)>1}),this},l.prototype.inBlockMode=function(){return this.editMode()=="block"},l.prototype.inTableMode=function(){return this.selectedBlocks().isTableMode()},l.prototype.scopeDidSet=function(e,t){var r,o,n,i;return(r=t)&&r.dataset&&r.dataset({scoped:void 0}),(o=t)&&o.onunscoped&&o.onunscoped(),(n=e)&&n.dataset&&n.dataset({scoped:"1"}),(i=e)&&i.onscoped&&i.onscoped()},l.prototype.autosave=function(){let e=this.markdown();if(e!=this._autosaveValue)return this._dom.emit("change",this._autosaveValue=e)},l.prototype.scheduleAutosave=function(e){e===void 0&&(e=this.autosavedelay()),clearTimeout(this._autosaver),this._autosaver=setTimeout(this.autosave,e);let t=this.isEmpty();if(t!=this._savedEmpty)return this._savedEmpty=t,this.autosave()},l.prototype.ontodotoggle=function(e){if(this.editing())return this.scheduleAutosave()},l.prototype.onreflow=function(){return this.updateSelections()},l.prototype.onsync=function(e,t){return t===void 0&&(t={}),console.log("onsync",t),t.mutations&&this.flushMutations(),t.selections&&this.updateSelections(),e.stop(),this},l.prototype.selectAll=function(){},l.prototype.serializeCaretRange=function(){let e=window.getSelection().getRangeAt(0);return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}},l.prototype.selectCaretRange=function(e){let t=document.createRange();return t.setStart(e[0],e[1]),t.setEnd(e[2],e[3]),t},l.prototype.execCommand=function(){for(var e=arguments,t=e.length,r=new Array(t>0?t:0);t>0;)r[t-1]=e[--t];return document.execCommand.apply(document,r)},l.prototype.update=function(){return this},l.prototype.flushMutations=function(){let e=this._observer&&this._observer.takeRecords&&this._observer.takeRecords();return this.onmutated({},e)},l.prototype.ribbons=function(){let e,t=this.$$||(this.$$={});return(this._ribbons=this._ribbons||zI("md:ribbons",this).flag("ribbons").flag("animated")).setData(this).set("owner",this).end()},l.prototype.updateSelections=function(){var e;let t=window.getSelection(),r=this.selectedBlocks();if(t.rangeCount==0||!this.dom().contains(t.getRangeAt(0).commonAncestorContainer)){this.setSelections([]),this.setScope(null);return}let o=t.getRangeAt(0).cloneRange();window.r1=o.cloneRange(),window.r2=o.cloneRange().mdNormalize(),o.mdNormalize();let n=PPe(o),i=o.mdBlocks(),s=i.every(function(a){return a.matches("th,td")});try{let a=t.mdAnchor(),u=t.mdFocus();s&&a!=u&&!r._tableCellAnchor?(r.enterTableMode(a),i=[a],this.selectedBlocks().update([a,a],!1,i)):this.selectedBlocks().update([o.mdStartNode(),o.mdEndNode()],t.mdIsReversed(),i),s&&a!=r._tableCellAnchor&&r.exitTableMode()}catch(a){console.log("error?",a)}return this.editMode()=="block"&&(i=this.selectedBlocks().blocks()),this.flag("mode-table",r.isTableMode()),this.setSelections(i),this.setScope(n),this.scope()&&(e=this.scope())&&e.onrescope&&e.onrescope(),this._selectionsCaret=this.caret(),!this._mousedown&&this._ribbons,this.editing()&&If(this._history)==0&&this._history.push({type:"sel"}),this},l.prototype.selDump=function(){return this.inBlockMode()?this.selectedBlocks().mdSerialize(this):window.getSelection().mdSerialize(this)},l.prototype.selRestore=function(e){return e[0].length==2?(this.setEditMode("block"),this.selectedBlocks().mdRestore(e)):(this.setEditMode("insert"),window.getSelection().mdRestore(e))},l.prototype.preserveSelection=function(){let e=window.getSelection();return this._preserved={time:Date.now(),selection:this.serializeCaretRange()}},l.prototype.restoreSelection=function(){var e;if(e=this._preserved){this._preserved=null;try{let t=e.selection,r=document.createRange();return r.setStart(t.startContainer,t.startOffset),r.setEnd(t.endContainer,t.endOffset),window.getSelection().removeAllRanges(),window.getSelection().addRange(r),!0}catch(t){return console.log("error in restoreSelection",t),!1}}},l.prototype.caret=function(){let e=window.getSelection();return Gse(this.dom(),e)},l.prototype.hasFocus=function(){return this.dom().contains(document.activeElement)},l.prototype.focus=function(e){if(e&&e.from&&e.from.x&&this.editing()){let r=Range.mdRangeFromPoint(this.dom(),e.from.x,e.from.y);return console.log("focus and select range",r),r.mdSelect(),this}let t=this.caret();if(!(this._preserved&&this.restoreSelection())){if(!t||!t.block)try{this.blocks()[0].select(0)}catch{}}return this.hasFocus()||this.dom().focus(),this},l.prototype.oncompositionstart=function(e){return this.log("compositionstart",e)},l.prototype.oncompositionupdate=function(e){return this.log("compositionupdate",e)},l.prototype.oncompositionend=function(e){return this.log("oncompositionend",e)},l.prototype.onbeforeinput=function(e){var t,r;this._history.preserveSelection();let o=window.getSelection(),n=this.selections(),i=n.length>1,s=n[0];for(let a=0,u=qs(n),c=u.length;a<c;a++)u[a].snapshot();if(this._lastInputAt=Date.now(),this.log("onbeforeinput",e.event(),n,s,this.scope()),i)return this.log("multiple nodes are selected",(t=s)&&t.dom&&t.dom()),r=o.getRangeAt(0).mdDeleteContents();if(this.scope()&&this.scope()!=this&&this.scope().onbeforeinput&&this.scope().onbeforeinput(e),s&&s!=this&&s.onbeforeinput&&e.bubble())return s.onbeforeinput(e)},l.prototype.oninput=function(e){var t=this;t._lastInputAt=Date.now();let r=e.event().data,o;if(I7(r,["]","-","/","#","`","*","_","~",":"])>=0&&(o=t.caret()),o&&o.node!=t){if(o.node!=t){let s=o.node;for(;s&&s!=t;){if(s.oninput){let a=s.oninput(e,e.data());if(!e.bubble())break}s=s.parent()}}if(!e.bubble())return}if(r=="]"&&t.caret().textBefore=="[]"){if(t.caret().dom.closest("div.pre,table,code"))return;t.caret().block.range(0,2).mdDelete(),t.caret().block.morph({type:"todo"})}if(r=="/"&&t.caret().textBefore=="/"){t.log("start action-item?"),t.caret().block.range(0,1).mdWrap({type:"samp"}).select(1);return}if(I7(t.caret().textBefore,["---","***"])>=0&&!t.caret().textAfter&&t.caret().block.type()=="p"&&I7(r,["-","*"])>=0){t.caret().block.addBlockBefore({type:"hr"}),t.caret().block.range(0,3).mdDelete();return}var n=function(s,a){var u;let c=o.textBefore;if(s instanceof RegExp&&(u=c.match(s))&&u[2]==u[4]){u[2].length==2&&(a.type="strong");let h=u[3],d=c.length-u[0].length+u[1].length;a.body||(a.body=[h]);let f=t.caret().block.range(d,c.length).mdReplace(a);return f.selectAfter(),a.type=="strong"?document.execCommand("bold"):a.type=="em"?document.execCommand("italic"):a.type=="s"&&document.execCommand("strikeThrough"),f}};if(r=="*"){let s=n(/(^|\s)(\*+)(\S|\S.*?[^\*\s])(\*+)$/,{type:"em"})}else if(r=="_"){let s=n(/(^|\s)(_+)(\S|\S.*?[^_\s])(_+)$/,{type:"em"})}else if(r=="~"){let s=n(/(^|\s)(~+)(\S|\S.*?[^~\s])(~+)$/,{type:"s"})}else if(r==":"){let s=o.textBefore.match(/(\:[\w\-\+]+\:)$/);if(s){let a=JJo(s[0]);if(console.log("found emoji!!!",s,a),a&&a!=s[0]){let u=t.caret().block.range(o.textBefore.length-s[0].length,o.textBefore.length).mdReplace(a);t.util().Sel.selectAfter(u)}}}if(r=="`"){let s=o.textBefore.slice(0,-1).lastIndexOf("`"),a=o.textBefore.length;if(s>=0&&a-s>2){let u=o.textBefore.slice(s+1,-1);t.caret().block.range(s,a).mdReplace({type:"code",body:[u]}).selectAfter()}}let i=t.caret().textBefore.length-1},l.prototype.exec=function(e,t){return(typeof e=="string"||e instanceof String)&&(t&&!(t instanceof Array)&&(t=[t]),e={action:e,params:t}),this.trigger("actionexec",e)},l.prototype.onactionexec=function(e,t,r){var o=this,n,i;let s=e.native||e;console.log("onactionexec",e,t,r),t||(t=e.data()),r||(r=o.caret());var a=t.action,u=t.params,c=r.node,h=o.selectedBlocks();if(t.target&&(c=t.target(r),!c||c==o||!c.contains(c)))return null;switch(o.log("action",a,u,c,e),a instanceof Array&&(u=a.slice(1),a=a[0]),a){case"block":{r.block.type()=="p"&&r.block.isEmpty()&&r.block.morph(u[0]).select(0,0);break}case"morph":{let f,m=r.block.dom();r.block.type()=="p"&&r.block.isEmpty(),f=r.block.morph(u[0]),f.dom()!=m&&f.select(0,0);break}case"paste":{r=t.ctx||r;let f=u[0],m=UPe.parse(f);console.log("pasting",f,m),m._assets&&console.log("found assets in clipdata");let $=f.markdown,b=m.text(),g=m.files();if(r.block&&r.block!=o&&r.block.onwillpaste&&(r.block.onwillpaste(e,r),e.isPrevented()))return;r.clipboard=m;let x=r.node;for(;x&&x!=o;){if(x.onpaste){let _=x.onpaste(e,r,r.range.mdInfo(x));if(!e.bubble())break}x=x.parent()}if(!e.bubble())return;if(m._assets){let _=m._assets.map(function(S){return S.fullUrl})}else if(m.files()){let _=r.block,S=o.util().blockify("p",o),v,C=[];for(let j=0,P=qs(g),U=P.length,O;j<U;j++){O=P[j];let L="image";I7(O.type,["image/jpeg","image/jpg","image/png","image/bmp","image/gif"])>=0||(L="attachment");let I={type:L,label:O.name};C.push(v=S.addBlockInside(I))}_.addBlockAfter(S);for(let j=0,P=C.length;j<P;j++){let U=g[j];C[j].upload(U)}v&&v.autoselect(),r.block.is("p:empty")&&r.block.removeBlock();return}let k=m.fragment();if(console.log("pasting frag",k),o.inTableMode()){let _=h.blocks(),S=If(_)==1?_[0]:null;if(k.is("p"))for(let v=0,C=qs(_),j=C.length,P;v<j;v++)P=C[v],P.snapshot(),P.update({body:k.serialize().body});else if(k.is("table")){let v=k.rows(),C=k.cols(),j=_[0];for(let P=0,U=qs(_),O=U.length,L;P<O;P++){L=U[P];let I=(L.rowIndex()-j.rowIndex())%If(v),F=(L.index()-j.index())%If(C),N=k.cell(F,I);L.snapshot(),L.update({body:N.serialize().body})}}}else if(k.is("p"))r.range.collapsed||(o.deleteSelection(),r.range=window.getSelection().mdRange()),r.range.mdInsert(k.dom().childNodes),r.range.collapse();else{let _=k.is("fragment")?k.childBlocks().slice().reverse():[k],S=_[0],v=o.selectedBlocks().lastContainer();for(let C=0,j=qs(_),P=j.length;C<P;C++)v.addBlockAfter(j[C]);r.range.collapsed?r.block.is(":empty")&&r.block.removeBlock():o.deleteSelection(),S&&S.lastNestedBlock().select(-1),k.is("pre")?(k.locate({code:m.code(),silent:!0}),k.selectBlock()):o.inBlockMode()&&o.selectedBlocks().update([_[_.length-1],S.lastNestedBlock()]).apply()}break}case"bold":{document.execCommand("bold");break}case"italic":{document.execCommand("italic");break}case"strike_through":{document.execCommand("strikeThrough");break}case"link":{let f=o.preserveSelection(),m=r.dom.closest("a");if(o.log("linking?!",f,m),r.text){let $=function(x){var k,_=x.data();return o.restoreSelection(),_&&document.execCommand("createLink",!0,_),(k=o.hud())&&k.close&&k.close()},b=function(){var x;return o.restoreSelection(),document.execCommand("unlink"),(x=o.hud())&&x.close&&x.close()},g=function(){var x;return o.restoreSelection(),(x=o.hud())&&x.close&&x.close()};o.setHud(zI("md:linker").set("offsets","-10,0").set("context",r).set("value",m?m.href:"",1).set("source",r.range).on$(0,["link",$],o).on$(1,["unlink",b],o).on$(2,["cancel",g],o).end())}break}case"code":{r||(r=o.caret()),(i=r.dom.closest("code"))?(i._tag.unwrap(),o.updateSelections()):r.range.mdWrap("code");break}default:o.log("delegate action",a);let d=c;for(;o.contains(d);){if(d[a]instanceof Function)return d[a].apply(d,u);d=d.parent()}}return o},l.prototype.onkeyup=function(){return this},l.prototype.onkeydown=function(e){var t=this,r,o,n;if(!t.editing())return;let i=e.keys();if(i.combo=="enter"&&t.dom().emit("mdenter",i).defaultPrevented){e.prevent();return}t.hasChildBlocks()||(t.addBlockInside({type:"p"}).select(0),t.updateSelections()),t._lastKeyDownTime=Date.now();let s=window.getSelection(),a=t.selections(),u=t.selectedBlocks(),c=a&&a.length>1;t.history().preserveSelection(),t.inBlockMode()||s.mdNormalize();for(let _=0,S=qs(t.selections()),v=S.length;_<v;_++)S[_].snapshot();let h=t.caret();if(!h)return;h.key=i;let d=h.tabtrigger=rQo[h.textBefore],f=h.block,m=h.block.prevBlock(),$=h.block.nextBlock(),b=f.schema();if(e.setData(h),t._lastKeyCombo=i.combo,globalThis.M=t,t.hud()&&(t.hud().onkeydown(e,e.data()),!e.bubble()))return;if(i.combo=="cmd+enter")return e.prevent();let g=iar.find(h)||{};h.command=g,h.action=g&&g.action;let x=h.trigger=iar.findTrigger(h,h.textBefore);if(h.action instanceof Array&&(h.params=h.action.slice(1),h.action=h.action[0]),t.inBlockMode()||u.isTableMode()){let _=u.shallowBlocks();if(_.length==1&&_[0].onblockkeydown&&(_[0].onblockkeydown(e,e.data()),e.isPrevented()))return;if(i.combo=="shift+cmd+down"){let S=u.lastContainer().nextBlock();return S&&u.firstContainer().addBlockBefore(S),e.prevent()}else if(i.combo=="shift+cmd+up"){let S=u.firstContainer().prevBlock();return S&&u.lastContainer().addBlockAfter(S),e.prevent()}else{if(i.down)return u.selectBelow(!i.shift).apply(),e.prevent();if(i.right)return u.selectRight(!i.shift).apply(),e.prevent();if(i.up)return u.selectAbove(!i.shift).apply(),e.prevent();if(i.left)return u.selectLeft(!i.shift).apply(),e.prevent();if(i.enter)return u.last().select(-1),t.setEditMode("insert"),e.prevent();if(i.del)return t.deleteSelection(e),e.prevent();if(i.combo=="tab")return u.indent(),e.prevent();if(i.combo=="shift+tab")return u.outdent(),e.prevent()}if(!e.meta()&&!e.ctrl()&&!(i.up||i.down||i.left||i.right||i.esc))return e.prevent()}if(i.combo=="up"&&s.mdIsCollapsed()&&!h.block.blockAbove()&&s.mdRange().mdIsInFirstLine(h.block)&&(o=t.prevFocusTarget())&&o.closest("[contenteditable]:not([contenteditable=false])")){e.prevent().stop(),o.focus({from:s.mdCaretBox()});return}if(h.node!=t){let _=h.node;for(;_&&_!=t;){if(_.onkeydown){let S=_.onkeydown(e,e.data(),h.range.mdInfo(_));if(!e.bubble())break}_=_.parent()}if(!e.bubble())return}if(i.combo=="esc"&&!t.inBlockMode())return t.setEditMode("block"),e.prevent().stop();if(d=h.tabtrigger,d&&(i.space||i.enter)&&x){h.range.mdRangeBefore(f.body()).mdExtract(),t.flushMutations();let _;d.wrap?_=h.block.wrap(d):_=h.block.morph(d),e.prevent(),_.select(0,0);return}let k=h.action;if(f=h.block,m=h.block.prevBlock(),$=h.block.nextBlock(),h.actionTarget){let _=h.actionTarget;for(;t.contains(_);){if(_[h.action]instanceof Function){let S=[].concat(h.params).concat([e,h]);if(_[h.action].apply(_,h.params))return e.prevent()}_=_.parent()}}if(k=="outdent")return u.outdent(),e.prevent();if(k=="indent")return u.indent(),e.prevent();if(k=="moveup")m&&f.addBlockAfter(m),e.prevent();else if(k=="movedown")$&&f.addBlockBefore($),e.prevent();else if(k=="add_paragraph_after")f.addBlockAfter({type:"p"}).select(0,0),e.prevent();else if(k=="undo")e.prevent(),t.onundo(e);else if(k=="redo")e.prevent(),t.onredo(e);else if(I7(k,["code","link","strike_through"])>=0)e.prevent(),t.onactionexec(e,g,h);else if(i.enter)f.isEmpty()&&b.empty?(f.isAtomic()?f.addBlockAfter(b.empty).select(0,0):f.morph(b.empty),e.prevent()):!h.textBefore&&h.textAfter&&(f.addBlockBefore({type:"p"}),e.prevent());else if(i.left&&!h.textBefore&&s.mdIsCollapsed()&&!f.matches("td,th:not(:first-child)"))try{return f.blockAbove().select(-1),e.prevent()}catch{}else if(i.down&&!h.textAfter&&!$){if(!f.rootBlock().nextBlock()&&(f.type()!="p"||f.dom().lastChild&&f.dom().lastElementChild==f.dom().lastChild)&&(n=f.add_paragraph_after()))return n&&n.isBlock&&n.select(0),e.prevent()}else{if(i.up&&!h.textBefore&&!f.rootBlock().prevBlock()&&f.isObject())return f.rootBlock().addBlockBefore({type:"p"}).autofocus(),e.prevent();if(i.esc)t.autosave(),t.preserveSelection(),t.trigger("noteblur",{reason:"esc"}),e.prevent(),t.dom().blur(),window.getSelection().empty();else{if(i.del&&c)return console.log("deleting selection",e),t.deleteSelection(e);if(i.del&&!h.textBefore&&!h.text){let _=f.type(),S=m&&m.type();if(S=="p"&&m.isEmpty())m.removeBlock(),e.prevent();else if(f.is("p:empty")&&!m&&f.nextBlock())f.nextBlock().select(0),f.removeBlock(),e.prevent();else if(b.empty)f.morph(b.empty),e.prevent();else if(_=="p"&&S=="p"&&m.isEmpty())m.removeBlock(),e.prevent();else if(_=="p"&&S=="pre"){let v=f.dom().innerText||"",C=m.plaintext().length;m.appendCode(v),e.prevent(),f.removeBlock(),m.select(C)}else _=="p"&&m&&m.isObject()?(f.isEmpty()?(m.select(-1),f.removeBlock()):m.select(-1),e.prevent()):_!="hr"&&S=="hr"?(m.removeBlock(),e.prevent()):S||e.prevent()}}}if(i.mod&&i.u)if(e.prevent(),h.text){let _=function(v){var C=v.data();if(t.restoreSelection(),C)return document.execCommand("createLink",!0,C)},S=function(){return t.restoreSelection(),document.execCommand("unlink")};t.preserveSelection(),Dx.mount(zI("md:linker").set("source",h.range).on$(0,["link",_],t).on$(1,["unlink",S],t).end())}else document.execCommand("unlink")},l.prototype.hudDidSet=function(e,t){var r,o,n,i;return e&&((r=e.data())||e.setData(this),(o=e.owner())||e.setOwner(this),(n=e.source())||e.setSource(i=this.caret().range),Dx.mount(e)),t&&t.close(),this},l.prototype.copy_markdown=function(e){return this.trigger("copy",{plain:!1})},l.prototype.oncopy=function(e,t){var r;t===void 0&&(t={});var o=this.selectedBlocks(),n=o.blocks(),i=Gse(this.dom(),window.getSelection(),!0),s;if(e.setData(i),this.log("oncopy",e.event(),i,i&&i.block,t),i.block&&i.block!=this&&(s=i.block,i.block.onwillcopy&&(i.block.onwillcopy(e,i),e.isPrevented())))return;var a="",u,c={},h={};let d=i.node&&i.range.mdInfo(i.node);if(o.isTableMode()){let m=o.first().table(),$;If(n)==1?$=n[0]:$=VI(m.subtable(o.first(),o.last()),this)._tag,a=$.toMarkdown(),u=$.toMarkdown({plain:!0})}else if(this.inBlockMode()){let m=o.blocks(),$=If(m)==1;u="";for(let b=0,g=qs(o.shallowBlocks()),x=g.length,k;b<x;b++)k=g[b],a+=k.toMarkdown({only:m,inline:$}),u+=k.toMarkdown({only:m,plain:!0,inline:$})}else if(i.node&&d.atEnds)a=i.node.toMarkdown({inline:!0}),u=i.node.toMarkdown({plain:!0,inline:!0});else{let m=i.range,$=m.mdAtom();if(console.log(m,i),$)a=$.toMarkdown({inline:!0}),console.warn("has atom selected!",$,a),u=a;else{m=m.cloneRange().mdNormalize();let b=m.mdClone();if(console.warn("frag",b,m),!b){e.prevent();return}i.start.textBefore&&(r=b.children[0])&&r.matches("div:not(.pre)")&&(r.className="p"),u=nar(b,{plain:!0}),a=nar(b)}}(u||a)&&(h["text/plain"]=a||u),a&&(h["text/markdown"]=a,h["text/html"]="<meta charset='utf-8'><div style='font-family: sans-serif;'>"+QJo(a)+"</div>"),c&&(h["application/x-vnd.markour"]=JSON.stringify(c));let f=e.native().clipboardData;if(console.log("copy",h),f){for(let m,$=0,b=Object.keys(h),g=b.length,x;$<g;$++)x=b[$],m=h[x],f.setData(x,m);ENV_DEBUG&&e.mdClipboardData().inspect()}else if(a)try{window.navigator.clipboard.writeText(a)}catch(m){console.log("error from clipboard.writeText",m)}return e.prevent()},l.prototype.deleteSelection=function(e){return this.inBlockMode()||this.inTableMode()?(this.selectedBlocks().remove(),e&&e.prevent().stop()):(window.getSelection().getRangeAt(0).cloneRange().mdNormalize().mdDeleteContents(),e&&e.prevent().stop())},l.prototype.oncut=function(e){return this.oncopy(e),this.deleteSelection(e),e.prevent(),this},l.prototype.onoppaste=function(e,t){if(e instanceof DragEvent){let n=this.blockAtPoint(e.x,e.y),i=document.caretRangeFromPoint(e.x,e.y);console.log("oppaste on",n,i);try{window.getSelection().mdSelect(i),this.updateSelections()}catch{}}let r=UPe.parse(t),o=Gse(this.dom(),window.getSelection(),!0);return console.log("oppaste",e,t,o,r),r.inspect(),this.exec("paste",[r])},l.prototype.onpaste=function(e){var t;let r=e;if(console.log("ONPASTE",e),!(e instanceof Dx.Event&&(r=e.native(),r.handledByOP))){r instanceof Event&&(t=UPe.parse(r.clipboardData||r.dataTransfer)),console.log("onpaste",e,r,t);var o=r.ctx=Gse(this.dom(),window.getSelection(),!0);e instanceof Dx.Event&&e.setData(o);try{window.c1=t.payload(),this.onactionexec(e,{action:"paste",params:[t]},o)}catch(n){this.log("error onpaste",n)}e!=r&&e.prevent().stop()}},l.prototype.ondragover=function(e){return e.prevent().stop()},l.prototype.ondragenter=function(e){return e.prevent().stop()},l.prototype.ondragleave=function(e){return e.prevent().stop()},l.prototype.choose=function(e,t){var r;return console.log("choose",e),e instanceof Array&&!(e[0]&&e[0].actions)&&(e=[{name:"Paste",actions:e}]),this.setHud(zI("md:choices").flag("animated").set("options",e).end()),t&&this.hud().promise().then(t),this.hud()},l.prototype.onopdrop=function(e){return!0},l.prototype.ondrop=function(e){console.log("imba1 ondrop",e);return;var t,o,s},l.prototype.onmutated=function(e,t){var r=this,o,n,i,s;if(r._allBlocks=null,console.log("mutated",e,t),t.every(function(_){if(_.type=="attributes"&&_.target==r.dom())return!0;let S=_.target instanceof Text?_.target.parentNode:_.target;return!!(S&&S.closest("a.block .body")||S&&S.closest("a.block .body")||S&&S.closest("i"))}))return r;r._ribbons&&r._ribbons.refresh&&r._ribbons.refresh();var u={touched:new Set,notify:new Set,mutations:t,unwrap:new Set},c=[],h=[],d=new Set,f=new Set,m=!1;u.ops=h;let $=function(_){let S=_._snapshot,v=_._tag.serialize&&_._tag.serialize();return _._snapshot=v,d.add(_),[S,v]};for(let _=0,S=qs(t),v=S.length,C;_<v;_++){C=S[_];let j=C.target,P=PPe(j,"block"),U=!1;if(j instanceof Text&&(j=j.parentNode),j=j&&j.closest("div,samp,cite,a"),j&&j._tag&&j._tag.onmutation){let O=j._tag.onmutation(C,u);if(P&&O!=j._tag&&u.touched.add(P),O)continue}if(C.type=="childList")If(C.removedNodes)==1&&(m=!0);else if(C.type=="attributes"){let O=C.attributeName;P&&P.dom()==C.target?h.push(["attr",C.target,O,C.oldValue,C.target.getAttribute(O)]):P&&u.touched.add(P)}else C.type=="characterData"&&P&&u.touched.add(P);for(let O=0,L=qs(C.removedNodes),I=L.length,F;O<I;O++){if(F=L[O],F.MD_REMOVED){F.MD_REMOVED=null;continue}F._tag&&F._tag&&(o=F._tag)&&o.isBlock&&o.isBlock()?(h.push(["rem",F,C.target,C.previousSibling,C.nextSibling]),d.add(F)):P&&u.touched.add(P)}for(let O=0,L=qs(C.addedNodes),I=L.length,F;O<I;O++)if(F=L[O],F instanceof Text&&F.parentNode instanceof HTMLAnchorElement,F instanceof HTMLFontElement)u.unwrap.add(F);else if(F instanceof HTMLBRElement&&F.parentNode&&r._lastKeyCombo!="shift+enter")F.parentNode.removeChild(F),r._observer.takeRecords();else if(F instanceof Text){if(C.target==r.dom()&&F.parentNode==r.dom()){let N=VI({type:"p",body:[F.textContent||""]});C.target.replaceChild(N,F)}P&&u.touched.add(P)}else if(F.parentNode){if(F._tag||(n=F.dataset.selected,delete F.dataset.selected,i=F.dataset.scoped,delete F.dataset.scoped,F.removeAttribute("face"),F.removeAttribute("style")),I7(F.nodeName,["STRONG","B","EM","I","SPAN","CODE","FONT","STRIKE","DEL"])>=0){let V=F.childNodes;if(V.length==0||V.length==1&&V[0]instanceof HTMLBRElement){F.MD_REMOVED=!0,F.parentNode.removeChild(F);continue}}r.log("awaken?",F,F._tag),eQo(F,C.target._tag),F._tag&&(s=F._tag)&&s.isBlock&&s.isBlock()?(h.push(["add",F,C.target,C.previousSibling,C.nextSibling]),d.add(F)):P.isBlock()&&u.touched.add(P),F._tag&&F._tag.onadded&&F._tag.onadded()}}let b=Array.from(u.notify),g=Array.from(u.touched),x=Array.from(u.touched).map(function(_){return _&&_.dom()}),k=Array.from(u.unwrap);if(If(k)){for(let _=0,S=qs(k),v=S.length,C;_<v;_++)C=S[_],C.replaceWith.apply(C,C.childNodes);r._observer.takeRecords()}if(m){let _=window.getSelection();_&&_.anchorNode&&r._dom.contains(_.anchorNode)&&tQo.reselect()}for(let _=0,S=qs(b),v=S.length,C;_<v;_++)C=S[_],C instanceof Function&&C(u);for(let _=0,S=qs(g),v=S.length,C;_<v;_++){if(C=S[_],d.has(C.dom())||C==r)continue;let j=["update",C.dom()];h.push(j)}for(let _=0,S=h.length,v;_<S;_++)if(v=h[_],v[0]=="update"?(v.push($(v[1])),r.log.apply(r,v)):r.log(v[0],v[1]),v[0]=="add"&&Date.now()-r._lastKeyDownTime<300)try{v[1].scrollIntoViewIfNeeded()}catch{}if(r.scheduleAutosave(),r._preserved&&Date.now()-r._preserved.time<300&&r.restoreSelection(),If(h)){let _={ops:h};r._history.push({ops:h})}return r._history.preserveSelection(),r._dom.classList.toggle("is-empty",r.isEmpty()),r},l.prototype.ontap=function(e){if(!this.editing())return;let t=e.event().clientY,r=this.childBlocks()[0],o=e.event().target._tag,n=window.getSelection();if(this._lastTap=Date.now(),n.isCollapsed&&this.setEditMode("insert"),o==this&&n.isCollapsed){let i=this.blockAtPoint(0,t,!0);if(i&&!i.nextBlock())return i.is("p:empty")?i.select(0):i.is("p")?void 0:i.add_paragraph_after().autoselect();if(i){if(i.isObject()&&i.nextBlock().isObject())return i.add_paragraph_after()}else{if(r)return r.is("p")?r.select(0):r.addBlockBefore({type:"p"}).autoselect();{let s=VI({type:"p"},this);return this.dom().appendChild(s),s._tag.select(0,0)}}}},l.prototype.blockAtPoint=function(e,t,r){r===void 0&&(r=!1);let o=this.childBlocks(),n=r?null:o[0];for(let i=0,s=qs(o),a=s.length,u;i<a&&(u=s[i],!(u.dom().getBoundingClientRect().top>t));i++)n=u;return n},l.prototype.ondommousedown=function(e){if(this.editing())return this._mousedown=!0,this},l.prototype.ondommouseup=function(e){if(this.editing())return this._mousedown=!1,this._selectionsCaret,this},l.prototype.onundo=function(e){return this._history.undo(),this},l.prototype.onredo=function(e){return this._history.redo(),this},l.prototype.ondomselectionchange=function(e){let t=Date.now()-this._lastKeyDownTime,r=window.getSelection();if(t<15&&!this.inBlockMode()&&(this._lastKeyDownTime=0),Date.now()-this._lastTap<20&&this.inBlockMode()&&r.isCollapsed&&this.setEditMode("insert"),!this.inBlockMode())return this.updateSelections()},l.prototype.onselectstart=function(e){var t;return this._selectStartBlock=this.util().closestNode(e.event().target,"block"),this.setEditMode(t="insert"),t}});aar.createEditor=XJo.createEditor=function(l){var e;return zI("md:root").set("editable",!0).set("data",l).end()}});var wYr=Gt((Gb,vYr)=>{T();var xYr=typeof self<"u"?self:Gb,gde=function(){function l(){this.fetch=!1,this.DOMException=xYr.DOMException}return l.prototype=xYr,new l}();(function(l){var e=function(t){var r={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function o(U){return U&&DataView.prototype.isPrototypeOf(U)}if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(U){return U&&n.indexOf(Object.prototype.toString.call(U))>-1};function s(U){if(typeof U!="string"&&(U=String(U)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(U))throw new TypeError("Invalid character in header field name");return U.toLowerCase()}function a(U){return typeof U!="string"&&(U=String(U)),U}function u(U){var O={next:function(){var L=U.shift();return{done:L===void 0,value:L}}};return r.iterable&&(O[Symbol.iterator]=function(){return O}),O}function c(U){this.map={},U instanceof c?U.forEach(function(O,L){this.append(L,O)},this):Array.isArray(U)?U.forEach(function(O){this.append(O[0],O[1])},this):U&&Object.getOwnPropertyNames(U).forEach(function(O){this.append(O,U[O])},this)}c.prototype.append=function(U,O){U=s(U),O=a(O);var L=this.map[U];this.map[U]=L?L+", "+O:O},c.prototype.delete=function(U){delete this.map[s(U)]},c.prototype.get=function(U){return U=s(U),this.has(U)?this.map[U]:null},c.prototype.has=function(U){return this.map.hasOwnProperty(s(U))},c.prototype.set=function(U,O){this.map[s(U)]=a(O)},c.prototype.forEach=function(U,O){for(var L in this.map)this.map.hasOwnProperty(L)&&U.call(O,this.map[L],L,this)},c.prototype.keys=function(){var U=[];return this.forEach(function(O,L){U.push(L)}),u(U)},c.prototype.values=function(){var U=[];return this.forEach(function(O){U.push(O)}),u(U)},c.prototype.entries=function(){var U=[];return this.forEach(function(O,L){U.push([L,O])}),u(U)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function h(U){if(U.bodyUsed)return Promise.reject(new TypeError("Already read"));U.bodyUsed=!0}function d(U){return new Promise(function(O,L){U.onload=function(){O(U.result)},U.onerror=function(){L(U.error)}})}function f(U){var O=new FileReader,L=d(O);return O.readAsArrayBuffer(U),L}function m(U){var O=new FileReader,L=d(O);return O.readAsText(U),L}function $(U){for(var O=new Uint8Array(U),L=new Array(O.length),I=0;I<O.length;I++)L[I]=String.fromCharCode(O[I]);return L.join("")}function b(U){if(U.slice)return U.slice(0);var O=new Uint8Array(U.byteLength);return O.set(new Uint8Array(U)),O.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(U){this._bodyInit=U,U?typeof U=="string"?this._bodyText=U:r.blob&&Blob.prototype.isPrototypeOf(U)?this._bodyBlob=U:r.formData&&FormData.prototype.isPrototypeOf(U)?this._bodyFormData=U:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)?this._bodyText=U.toString():r.arrayBuffer&&r.blob&&o(U)?(this._bodyArrayBuffer=b(U.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(U)||i(U))?this._bodyArrayBuffer=b(U):this._bodyText=U=Object.prototype.toString.call(U):this._bodyText="",this.headers.get("content-type")||(typeof U=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(U)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var U=h(this);if(U)return U;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var U=h(this);if(U)return U;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(U){var O=U.toUpperCase();return x.indexOf(O)>-1?O:U}function _(U,O){O=O||{};var L=O.body;if(U instanceof _){if(U.bodyUsed)throw new TypeError("Already read");this.url=U.url,this.credentials=U.credentials,O.headers||(this.headers=new c(U.headers)),this.method=U.method,this.mode=U.mode,this.signal=U.signal,!L&&U._bodyInit!=null&&(L=U._bodyInit,U.bodyUsed=!0)}else this.url=String(U);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new c(O.headers)),this.method=k(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(L)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function S(U){var O=new FormData;return U.trim().split("&").forEach(function(L){if(L){var I=L.split("="),F=I.shift().replace(/\+/g," "),N=I.join("=").replace(/\+/g," ");O.append(decodeURIComponent(F),decodeURIComponent(N))}}),O}function v(U){var O=new c,L=U.replace(/\r?\n[\t ]+/g," ");return L.split(/\r?\n/).forEach(function(I){var F=I.split(":"),N=F.shift().trim();if(N){var V=F.join(":").trim();O.append(N,V)}}),O}g.call(_.prototype);function C(U,O){O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in O?O.statusText:"OK",this.headers=new c(O.headers),this.url=O.url||"",this._initBody(U)}g.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},C.error=function(){var U=new C(null,{status:0,statusText:""});return U.type="error",U};var j=[301,302,303,307,308];C.redirect=function(U,O){if(j.indexOf(O)===-1)throw new RangeError("Invalid status code");return new C(null,{status:O,headers:{location:U}})},t.DOMException=l.DOMException;try{new t.DOMException}catch{t.DOMException=function(O,L){this.message=O,this.name=L;var I=Error(O);this.stack=I.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(U,O){return new Promise(function(L,I){var F=new _(U,O);if(F.signal&&F.signal.aborted)return I(new t.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function V(){N.abort()}N.onload=function(){var W={status:N.status,statusText:N.statusText,headers:v(N.getAllResponseHeaders()||"")};W.url="responseURL"in N?N.responseURL:W.headers.get("X-Request-URL");var z="response"in N?N.response:N.responseText;L(new C(z,W))},N.onerror=function(){I(new TypeError("Network request failed"))},N.ontimeout=function(){I(new TypeError("Network request failed"))},N.onabort=function(){I(new t.DOMException("Aborted","AbortError"))},N.open(F.method,F.url,!0),F.credentials==="include"?N.withCredentials=!0:F.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&r.blob&&(N.responseType="blob"),F.headers.forEach(function(W,z){N.setRequestHeader(z,W)}),F.signal&&(F.signal.addEventListener("abort",V),N.onreadystatechange=function(){N.readyState===4&&F.signal.removeEventListener("abort",V)}),N.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return P.polyfill=!0,l.fetch||(l.fetch=P,l.Headers=c,l.Request=_,l.Response=C),t.Headers=c,t.Request=_,t.Response=C,t.fetch=P,Object.defineProperty(t,"__esModule",{value:!0}),t}({})})(gde);gde.fetch.ponyfill=!0;delete gde.fetch.polyfill;var sU=gde;Gb=sU.fetch;Gb.default=sU.fetch;Gb.fetch=sU.fetch;Gb.Headers=sU.Headers;Gb.Request=sU.Request;Gb.Response=sU.Response;vYr.exports=Gb});var _oo=Gt(gat=>{"use strict";T();Object.defineProperty(gat,"__esModule",{value:!0});function O0e(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O0e=function(e){return typeof e}:O0e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0e(l)}var goo="https://js.stripe.com/v3",$mn=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,$oo="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ymn=function(){for(var e=document.querySelectorAll('script[src^="'.concat(goo,'"]')),t=0;t<e.length;t++){var r=e[t];if($mn.test(r.src))return r}return null},yoo=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(goo).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},bmn=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.2.1",startTime:t})},hY=null,P0e=null,T0e=null,gmn=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},kmn=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},_mn=function(e){return hY!==null?hY:(hY=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn($oo),window.Stripe){t(window.Stripe);return}try{var o=ymn();if(o&&e)console.warn($oo);else if(!o)o=yoo(e);else if(o&&T0e!==null&&P0e!==null){var n;o.removeEventListener("load",T0e),o.removeEventListener("error",P0e),(n=o.parentNode)===null||n===void 0||n.removeChild(o),o=yoo(e)}T0e=kmn(t,r),P0e=gmn(r),o.addEventListener("load",T0e),o.addEventListener("error",P0e)}catch(i){r(i);return}}),hY.catch(function(t){return hY=null,Promise.reject(t)}))},xmn=function(e,t,r){if(e===null)return null;var o=e.apply(void 0,t);return bmn(o,r),o},boo=function(e){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||O0e(e)!=="object")throw new Error(t);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(t)},R0e,bat=!1,koo=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];bat=!0;var o=Date.now();return _mn(R0e).then(function(n){return xmn(n,t,o)})};koo.setLoadParameters=function(l){if(bat&&R0e){var e=boo(l),t=Object.keys(e),r=t.reduce(function(o,n){var i;return o&&l[n]===((i=R0e)===null||i===void 0?void 0:i[n])},!0);if(r)return}if(bat)throw new Error("You cannot change load parameters after calling loadStripe");R0e=boo(l)};gat.loadStripe=koo});var voo=Gt((Nti,xoo)=>{T();xoo.exports=_oo()});var o_o=Gt((Jli,r_o)=>{"use strict";T();function t_o(l,e,t){this.context=l,this.start=e,this.end=t}t_o.prototype={get offset_start(){return this.start<this.context.offset_start&&this.end>this.context.offset_start?this.context.offset_start:this.start>=this.context.offset_start&&this.start<this.context.offset_end?this.start:null},get offset_end(){return this.end>this.context.offset_start&&this.end<=this.context.offset_end?this.end:this.end>this.context.offset_end&&this.start<this.context.offset_end?this.context.offset_end:null},get offset_length(){return this.offset_end-this.offset_start},get length(){return this.end-this.start},get visible(){return this.context.in_offset(this.start)||this.context.in_offset(this.end)||this.context.offset_start>this.start&&this.context.offset_start<this.end},get min(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,0):[]},get max(){return this.visible?this.context.offsetValues(this.offset_start,this.offset_length,1):[]}};r_o.exports=t_o});var s_o=Gt((eai,i_o)=>{"use strict";T();function n_o(l,e){this.context=l,this.timeStamp=e}n_o.prototype={get visible(){return this.context.in_offset(this.timeStamp)}};i_o.exports=n_o});var a_o=Gt((rai,l_o)=>{"use strict";T();var Ign=o_o(),Fgn=s_o();function of(l,e){this.adapter=e.fromResponseData(l),this.segments={},this.points={},this.offset(0,this.adapter.length)}of.create=function(e){var t=null,r=null;if(e&&typeof e=="object"&&("responseText"in e||"response"in e)&&(r="responseType"in e?e.response:e.responseText||e.response),Object.keys(of.adapters).some(function(o){if(of.adapters[o].isCompatible(r||e))return t=of.adapters[o],!0}),t===null)throw new TypeError("Could not detect a WaveformData adapter from the input.");return new of(r||e,t)};of.prototype={offset:function(l,e){var t=this.adapter.length;if(e<0)throw new RangeError("End point must be non-negative ["+Number(e)+" < 0]");if(e<l)throw new RangeError("End point must not be before the start point ["+Number(e)+" < "+Number(l)+"]");if(l<0)throw new RangeError("Start point must be non-negative ["+Number(l)+" < 0]");if(l>=t)throw new RangeError("Start point must be within range ["+Number(l)+" >= "+t+"]");e>t&&(e=t),this.offset_start=l,this.offset_end=e,this.offset_length=e-l},set_segment:function(e,t,r){return(r==null||r.length===0)&&(r="default"),this.segments[r]=new Ign(this,e,t),this.segments[r]},set_point:function(e,t){return(t==null||t.length===0)&&(t="default"),this.points[t]=new Fgn(this,e),this.points[t]},remove_point:function(e){this.points[e]&&delete this.points[e]},resample:function(l){typeof l=="number"&&(l={width:l}),l.input_index=typeof l.input_index=="number"?l.input_index:null,l.output_index=typeof l.output_index=="number"?l.output_index:null,l.scale=typeof l.scale=="number"?l.scale:null,l.width=typeof l.width=="number"?l.width:null;var e=!!l.input_index||!!l.output_index;if(l.input_index!=null&&l.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+l.input_index+"]");if(l.output_index!=null&&l.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+l.output_index+"]");if(l.width!=null&&l.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+l.width+"]");if(l.scale!=null&&l.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+l.scale+"]");if(!l.scale&&!l.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var t=["width","scale","output_index","input_index"].reduce(function(S,v){return S+(l[v]===null?0:1)},0);if(e&&t!==4)throw new Error("Some partial resampling options are missing. You provided "+t+" of them over 4.");var r=[],o=l.scale||Math.floor(this.duration*this.adapter.sample_rate/l.width),n=this.adapter.scale,i=2,s=this.adapter.length,a=l.input_index||0,u=l.output_index||0,c=s?this.min_sample(a):0,h=s?this.max_sample(a):0,d=-128,f=127;if(o<n)throw new Error("Zoom level "+o+" too low, minimum: "+n);var m,$,b,g,x;function k(S){return Math.floor(S*o)}function _(S,v){r.push(S,v)}for(;a<s;){for(;Math.floor(k(u)/n)<=a;)u&&_(c,h),x=a,u++,m=k(u),$=k(u-1),m!==$&&(c=f,h=d);for(m=k(u),b=Math.floor(m/n),b>s&&(b=s);a<b;)g=this.min_sample(a),g<c&&(c=g),g=this.max_sample(a),g>h&&(h=g),a++;if(e&&r.length/i>=l.width)break}return e?r.length/i>l.width&&a!==x&&_(c,h):a!==x&&_(c,h),new of({version:this.adapter.version,samples_per_pixel:o,length:r.length/i,data:r,sample_rate:this.adapter.sample_rate},of.adapters.object)},get min(){return this.offsetValues(this.offset_start,this.offset_length,0)},get max(){return this.offsetValues(this.offset_start,this.offset_length,1)},offsetValues:function(e,t,r){var o=this.adapter,n=[];r+=e*2;for(var i=0;i<t;i++)n.push(o.at(i*2+r));return n},get duration(){return this.adapter.length*this.adapter.scale/this.adapter.sample_rate},get offset_duration(){return this.offset_length*this.adapter.scale/this.adapter.sample_rate},get pixels_per_second(){return this.adapter.sample_rate/this.adapter.scale},get seconds_per_pixel(){return this.adapter.scale/this.adapter.sample_rate},at:function(e){return this.adapter.at(e)},at_time:function(e){return Math.floor(e*this.adapter.sample_rate/this.adapter.scale)},time:function(e){return e*this.adapter.scale/this.adapter.sample_rate},in_offset:function(e){return e>=this.offset_start&&e<this.offset_end},min_sample:function(e){return this.adapter.at(e*2)},max_sample:function(e){return this.adapter.at(e*2+1)}};of.adapters={};of.adapter=function(e){this.data=e};l_o.exports=of});var c_o=Gt((nai,u_o)=>{"use strict";T();function $K(l){this.data=l}$K.isCompatible=function(e){return e&&typeof e=="object"&&"byteLength"in e};$K.fromResponseData=function(e){return new $K(new DataView(e))};$K.prototype={get version(){return this.data.getInt32(0,!0)},get is_8_bit(){return!!this.data.getUint32(4,!0)},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.getInt32(8,!0)},get scale(){return this.data.getInt32(12,!0)},get length(){return this.data.getUint32(16,!0)},at:function(e){return this.data.getInt8(20+e)}};u_o.exports=$K});var p_o=Gt((sai,h_o)=>{"use strict";T();function LT(l){this.data=l}LT.isCompatible=function(e){return e&&(typeof e=="object"&&"sample_rate"in e||typeof e=="string"&&"sample_rate"in JSON.parse(e))};LT.fromResponseData=function(e){return typeof e=="string"?new LT(JSON.parse(e)):new LT(e)};LT.prototype={get version(){return this.data.version||1},get is_8_bit(){return this.data.bits===8},get is_16_bit(){return!this.is_8_bit},get sample_rate(){return this.data.sample_rate},get scale(){return this.data.samples_per_pixel},get length(){return this.data.length},at:function(e){return this.data.data[e]}};h_o.exports=LT});var f_o=Gt((aai,d_o)=>{"use strict";T();d_o.exports={arraybuffer:c_o(),object:p_o()}});var K$t=Gt((cai,$_o)=>{"use strict";T();var m_o=a_o();m_o.adapters=f_o();$_o.exports=m_o});var g_o=Gt((pai,b_o)=>{T();var Hgn=!!(globalThis===globalThis.window&&globalThis.URL&&globalThis.Blob&&globalThis.Worker);function y_o(l,e){var t=this,r;if(e=e||{},Hgn)return r=l.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new globalThis.Worker(globalThis.URL.createObjectURL(new globalThis.Blob([r],{type:"text/javascript"})));function o(n){setTimeout(function(){t.onmessage({data:n})},0)}this.self=e,this.self.postMessage=o,setTimeout(l.bind(e,e),0)}y_o.prototype.postMessage=function(e){var t=this;setTimeout(function(){t.self.onmessage({data:e})},0)};b_o.exports=y_o});var x_o=Gt((fai,__o)=>{"use strict";T();var k_o=K$t(),Bgn=g_o();function Vgn(l,e){return function(r){var o=new Bgn(function(){var s=127,a=-128;function u(c,h){var d=Math.floor(c/h),f=c-d*h;return f>0&&d++,d}this.addEventListener("message",function(c){var h=c.data.scale,d=c.data.amplitude_scale,f=c.data.audio_buffer,m=u(f.length,h),$=20,b=new DataView(new ArrayBuffer($+m*2)),g=f.channels,x,k=1/0,_=-1/0,S=0,v=f.length,C=$,j;for(b.setInt32(0,1,!0),b.setUint32(4,1,!0),b.setInt32(8,f.sampleRate,!0),b.setInt32(12,h,!0),b.setInt32(16,m,!0),j=0;j<v;j++){var P=0;for(x=0;x<g.length;++x)P+=g[x][j];P=Math.floor(s*P*d/g.length),P<k&&(k=P,k<a&&(k=a)),P>_&&(_=P,_>s&&(_=s)),++S===h&&(b.setInt8(C++,Math.floor(k)),b.setInt8(C++,Math.floor(_)),k=1/0,_=-1/0,S=0)}S>0&&(b.setInt8(C++,Math.floor(k)),b.setInt8(C++,Math.floor(_))),this.postMessage(b)})});o.addEventListener("message",function(s){var a=s.data;e(null,new k_o(a.buffer,k_o.adapters.arraybuffer),r)});for(var n={length:r.length,sampleRate:r.sampleRate,channels:[]},i=0;i<r.numberOfChannels;++i)n.channels[i]=r.getChannelData(i);o.postMessage({scale:l.scale,amplitude_scale:l.amplitude_scale,audio_buffer:n})}}__o.exports=Vgn});T();oe();T();oe();T();T();oe();var lUo=Symbol(),oye=class oye{get size(){return this.length}set size(e){this.length=e}get empty(){return this.size===0}get any(){return this.size>0}get many(){return this.size>1}get one(){return this.size===1}get random(){return this[Math.floor(Math.random()*this.length)]}clear(){return this.length=0,this}async resolve(){return await Promise.all(this)}get unique(){let e=[];for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];e.indexOf(n)==-1&&e.push(n)}return e}set unique(e){Object.defineProperty(this,"unique",{value:e})}add(e){return this.has(e)||this.push(e),e}has(e){return this.includes(e)}sorted(e,t=!1){let r=this.slice(),o=e;return Ye(typeof e,"string")?o=function(n){return n[e]}:p(e,Map)?o=function(n){return e.get(n)}:p(e,Function)||(o=function(n){return n}),t?r.sort(function(n,i){let s=o(n),a=o(i);return s<a?1:s>a?-1:0}):r.sort(function(n,i){let s=o(n),a=o(i);return s>a?1:s<a?-1:0})}delete(e){let t=this.indexOf(e);return t<0?!1:(this.splice(t,1),!0)}};E(oye,lUo,"Array",1,Array);var O_t=oye;T();globalThis.sleep=function(l=0,e){return new Promise(function(t){return setTimeout(function(){return e&&e(),t()},l)})};T();Math.randint=function(l,e){return l=Math.ceil(l),e=Math.floor(e),Math.floor(Math.random()*(e-l+1)+l)};Math.randfloat=function(l,e){return Math.random()*(e-l)+l};Math.randbool=function(){return Math.random()<.5};T();oe();var aUo=Symbol(),nye=class nye{to(e){var t=this;return Array.from({length:e-this+1},function(r,o){return t+o})}floor(){return Math.floor(this)}ceil(){return Math.ceil(this)}times(e){let t=0,r=this;for(;t<r;)e(t++)}round(e=1){if(e!=1){let t=1/e;return Math.round(this*t)/t}return Math.round(this)}clamp(e,t){return typeof t!="number"?Math.max(this,e):Math.min(typeof e!="number"?this:Math.max(this,e),t)}lerp(e,t,r=0,o=1){let n=(this-e)/(t-e);return r+n*(o-r)}};E(nye,aUo,"Number",1,Number);var R_t=nye;T();oe();var uUo=Symbol(),iye=class iye{filter(e){return new Set(Array.from(this).filter(e))}};E(iye,uUo,"Set",1,Set);var M_t=iye;T();oe();var cUo=Symbol(),sye=class sye{setnx(e,t){return this.get(e)??(this.set(e,t)&&t)}};E(sye,cUo,"WeakMap",1,WeakMap);var L_t=sye,hUo=Symbol(),lye=class lye{setnx(e,t){return this.get(e)??(this.set(e,t)&&t)}};E(lye,hUo,"Map",1,Map);var D_t=lye;T();oe();var pUo=Symbol(),aye=class aye{get upper(){return/^[A-Z][A-Z_\d]*$/.test(this)}get num(){return this.int||this.float}get int(){return/^-?(0|[1-9]\d*)$/.test(this)}get float(){return/^-?\d+\.\d+$/.test(this)}get pascal(){return/^[A-Z]+[a-z]+[A-Za-z]*/.test(this)}get slug(){let e=this.normalize("NFKD");return e=e.replace(/[\u0300-\u036f]/g,""),e=e.trim(),e=e.toLowerCase(),e=e.replace(/[^a-z0-9 -]/g,""),e=e.replace(/\s+/g,"-"),e=e.replace(/-+/g,"-"),e}pluck(e){let t=this.match(e),r=t&&t.length;return r>2?t.slice(1):t?t[r-1]:null}};E(aye,pUo,"String",1,String);var N_t=aye;T();var AJ={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strike:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightred:[91,39],brightgreen:[92,39],brightyellow:[93,39],brightblue:[94,39],brightmagenta:[95,39],brightcyan:[96,39],brightwhite:[97,39],bgblack:[40,49],bgred:[41,49],bggreen:[42,49],bgyellow:[43,49],bgblue:[44,49],bgmagenta:[45,49],bgcyan:[46,49],bgwhite:[47,49],bggray:[100,49],bggrey:[100,49],bgbrightred:[101,49],bgbrightgreen:[102,49],bgbrightyellow:[103,49],bgbrightblue:[104,49],bgbrightmagenta:[105,49],bgbrightcyan:[106,49],bgbrightwhite:[107,49]},dUo={};for(let l=0,e=Object.keys(AJ),t=e.length,r;l<t;l++){r=e[l];let[o,n]=AJ[r];dUo[r]=function(i){return"\x1B["+o+"m"+i+"\x1B["+n+"m"}}for(let l=0,e=Object.keys(AJ),t=e.length,r;l<t;l++){r=e[l];let[o,n]=AJ[r];String.prototype.__defineGetter__(r,function(){return"\x1B["+o+"m"+this+"\x1B["+n+"m"})}String.prototype.f=function(l){return"\x1B[38;5;"+l+"m"+this+"\x1B[39m"};String.prototype.b=function(l){return"\x1B[48;5;"+l+"m"+this+"\x1B[49m"};function fUo(l,e){return l[l.length+e]}var I_t=Symbol.for("#key"),uye=Symbol.for("#map"),cye=Symbol.for("#truthyflag"),hye=Symbol.for("#falsyflag"),pye=Symbol.for("#watchers");var dye=47*31536e3*1e3,Y_t=function(){return Math.round((Date.now()-dye)/1e3)},F_t=Symbol(),mye=class mye extends Array{constructor(e="id"){super(),this[I_t]=e,this[uye]=new Map,re(this,F_t)}add(e){return this[uye].set(e[this[I_t]],e),this.push(e)}get(e){return this[uye].get(e)}};E(mye,F_t,"IndexedArray",16);var H_t=mye,mUo=Symbol(),$ye=class $ye{toJSON(){return String(this)}};E($ye,mUo,"BigInt",1,BigInt);var B_t=$ye,$Uo=Symbol(),yye=class yye{idx(e){var t;return p(e,RegExp)?((t=[...this.matchAll(e)][0])==null?void 0:t.index)||-1:this.indexOf(e)}lastidx(e){var t;return p(e,RegExp)?((t=fUo([...this.matchAll(e)],-1))==null?void 0:t.index)||-1:this.lastIndexOf(e)}replaceFuzzyMatches(e,t){return FZI.replaceMatchedRanges(e,this,t)}escapeHTML(){return this.replace(/[&<>"'`=\/]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"}[e]})}get has(){return this.includes}};E(yye,$Uo,"String",1,String);var V_t=yye,z_t=Symbol(),bye=class bye{[A](e=null,t=!0,r=!0){var o;this.callback=e&&(o=e.callback)!==void 0?o:null,this.select=e&&(o=e.select)!==void 0?o:!1,this.default=e&&(o=e.default)!==void 0?o:void 0,this.flag=e&&(o=e.flag)!==void 0?o:null,this.onflag=e&&(o=e.onflag)!==void 0?o:null}flagself(e,t){return this[cye]=e,this[hye]=t}constructor(e){this[A](),e!=null&&(this.default=p(e,Function)?e:function(){return e}),re(this,z_t)}watch(e){return(this[pye]||=[]).push(e)}$init(e,t,r){var o,n;return this.$set(e??((n=(o=this.default)==null?void 0:o.call)==null?void 0:n.call(o,t)),t,r)}$get(e,t){return e[t]}$set(e,t,r,o){let n=t[r];if(n!=e){if(t[r]=e,this.select&&(n&&(n.selected=!1),e&&(e.selected=!0)),typeof this.flag=="string"&&(n!=null&&n.flags&&n.flags.remove(this.flag),e!=null&&e.flags&&e.flags.add(this.flag)),this[cye]&&t.flags.toggle(this[cye],!!e),this[hye]&&t.flags.toggle(this[hye],!e),this[pye]&&n!=e){t[r]=e;for(let i=0,s=B(this[pye]),a=s.length;i<a;i++){let c=s[i].call(t,e,n,this)}}this.callback&&this.callback.call(t,e,n,this)}}};E(bye,z_t,"BasicProp",16);var fye=bye,yUo=Symbol(),jw;jw=class{attr(...e){return new fye(...e)}},E(jw,yUo,"element",3,da("element","Element"));var bUo=Symbol(),gye=class gye{get human(){return this.toString().slice(4,15)}format(e="ago"){return Number(this).format(e)}};E(gye,bUo,"Date",1,Date);var q_t=gye,gUo=Symbol(),kye=class kye{get msToStr(){return this.format("time")}get bytesToStr(){let e=this/1e3,t=e/1e3;return t>1?t.toFixed(2)+"mb":Math.round(e)+"kb"}get msToDuration(){return this.format("00:00")}get opToMs(){return this*1e3+dye}tocurrency(e="USD",t=1){var o;let r=t<.9?2:0;try{return new Intl.NumberFormat(((o=globalThis.navigator)==null?void 0:o.language)||"en-US",{style:"currency",currency:e,minimumFractionDigits:r}).format(Math.round(this))}catch{return t!=1?""+this.round(r)+" "+e:this.round(r)}}format(e){let t=this,r=this;e=="ago"&&(t=Y_t()*1e3+dye-t);let o=Math.floor(t%6e4/1e3),n=Math.floor((t-o*1e3)/6e4),i=0,s=0,a=0,u=0,c=n,h=n/60;o==60&&(o=0,n++),n>=60&&(i=Math.floor(n/60),n=n%60);let d;if(e=="d m")return new Date(this).toLocaleString("en-US",{month:"short",day:"numeric"});if(e=="00:00")d=""+n+":"+("0"+o).slice(-2),i>0&&(d=i+(d[1]==":"?":0":":")+d);else if(e=="00:00.000")d=""+n+":"+("0"+o).slice(-2)+"."+("000"+t%1e3).slice(-3);else if(e=="time")i=Math.floor(t/(60*60)),h>1.05?d=""+h.toFixed(1).replace(".0","")+" hours":c>0?d=""+Math.ceil(c)+" min":d=""+o+" sec";else if(e=="ymd"){let f=new Date(t),m=f.getFullYear(),$=f.getMonth()+1,b=f.getDate();$=$<10?"0"+$:$,b=b<10?"0"+b:b,d=""+m+"-"+$+"-"+b}else e=="ago"||e=="old"?(i>=24&&(s=Math.floor(i/24),i=i%24),s>=30&&(a=Math.floor(s/30),s=s%30),a>=12&&(u=Math.floor(a/12),a=a%12),u==1?d=""+u+" year "+e:u>1?d=""+u+" years "+e:a==1?d=""+a+" month "+e:a>1?d=""+a+" months "+e:s==1?d=""+s+" day "+e:s>1?d=""+s+" days "+e:i==1?d=""+i+" hour "+e:i?d=""+i+" hours "+e:n>0?d=""+n+" min "+e:d="just now"):d=String(t);return d}get timeAgo(){return this.format("ago")}};E(kye,gUo,"Number",1,Number);var W_t=kye,kUo=Symbol(),_ye=class _ye{get len(){return this.length}set len(e){this.length=e}clear(){return this.len=0,this}replace(e,...t){let r=this.windows.indexOf(e);return r>=0&&this.windows.splice(r,1,...t),this}flatten(e=null){let t=[];for(let r=0,o=B(this),n=o.length;r<n;r++){let i=o[r],s=i;e&&(s=e(i)),p(s,Array)?t=t.concat(s.flatten(e)):t.push(s)}return t}itemAfter(e){let t=this.indexOf(e);return t>=0?this[t+1]:null}itemBefore(e){let t=this.indexOf(e);return t>=1?this[t-1]:null}max(e){let t=e?this.map(function(r){return r[e]}):this;return t.length?Math.max(...t):0}min(e){let t=e?this.map(function(r){return r[e]}):this;return t.length?Math.min(...t):0}pluck(e){return this.map(function(t){return t&&t[e]}).compact()}};E(_ye,kUo,"Array",1,Array);var Z_t=_ye;URL.withsearchparams=function(l,e){let t=new URL(l);for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],t.searchParams.set(i,s);return t};var _Uo=Symbol(),xye=class xye{get params(){let e={};for(let[t,r]of B(this.searchParams.entries()))e[t]=r;return e}};E(xye,_Uo,"URL",1,URL);var G_t=xye;Object.defineProperty(globalThis,"url",{get:function(){return new URL(globalThis.location)}});globalThis.OPNOW=Y_t;T();oe();T();function r4t(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var P3=r4t();function xUo(l){P3=l}var o4t=/[&<>"']/,vUo=new RegExp(o4t.source,"g"),n4t=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,wUo=new RegExp(n4t.source,"g"),SUo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X_t=l=>SUo[l];function zl(l,e){if(e){if(o4t.test(l))return l.replace(vUo,X_t)}else if(n4t.test(l))return l.replace(wUo,X_t);return l}var CUo=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function i4t(l){return l.replace(CUo,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var EUo=/(^|[^\[])\^/g;function gn(l,e){l=typeof l=="string"?l:l.source,e=e||"";let t={replace:(r,o)=>(o=o.source||o,o=o.replace(EUo,"$1"),l=l.replace(r,o),t),getRegex:()=>new RegExp(l,e)};return t}var jUo=/[^\w:]/g,AUo=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function K_t(l,e,t){if(l){let r;try{r=decodeURIComponent(i4t(t)).replace(jUo,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!AUo.test(t)&&(t=OUo(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var UJ={},UUo=/^[^:]+:\/*[^/]*$/,PUo=/^([^:]+:)[\s\S]*$/,TUo=/^([^:]+:\/*[^/]*)[\s\S]*$/;function OUo(l,e){UJ[" "+l]||(UUo.test(l)?UJ[" "+l]=l+"/":UJ[" "+l]=PJ(l,"/",!0)),l=UJ[" "+l];let t=l.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:l.replace(PUo,"$1")+e:e.charAt(0)==="/"?t?e:l.replace(TUo,"$1")+e:l+e}var TJ={exec:function(){}};function J_t(l,e){let t=l.replace(/\|/g,(n,i,s)=>{let a=!1,u=i;for(;--u>=0&&s[u]==="\\";)a=!a;return a?"|":" |"}),r=t.split(/ \|/),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function PJ(l,e,t){let r=l.length;if(r===0)return"";let o=0;for(;o<r;){let n=l.charAt(r-o-1);if(n===e&&!t)o++;else if(n!==e&&t)o++;else break}return l.slice(0,r-o)}function RUo(l,e){if(l.indexOf(e[1])===-1)return-1;let t=l.length,r=0,o=0;for(;o<t;o++)if(l[o]==="\\")o++;else if(l[o]===e[0])r++;else if(l[o]===e[1]&&(r--,r<0))return o;return-1}function MUo(l){l&&l.sanitize&&!l.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Q_t(l,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=l),e>>=1,l+=l;return t+l}function e4t(l,e,t,r){let o=e.href,n=e.title?zl(e.title):null,i=l[1].replace(/\\([\[\]])/g,"$1");if(l[0].charAt(0)!=="!"){r.state.inLink=!0;let s={type:"link",raw:t,href:o,title:n,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,s}return{type:"image",raw:t,href:o,title:n,text:zl(i)}}function LUo(l,e){let t=l.match(/^(\s+)(?:```)/);if(t===null)return e;let r=t[1];return e.split(`
`).map(o=>{let n=o.match(/^\s+/);if(n===null)return o;let[i]=n;return i.length>=r.length?o.slice(r.length):o}).join(`
`)}var CR=class{constructor(e){this.options=e||P3}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:PJ(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],o=LUo(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let o=PJ(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;let n=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:n,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,n,i,s,a,u,c,h,d,f,m,$=t[1].trim(),b=$.length>1,g={type:"list",raw:"",ordered:b,start:b?+$.slice(0,-1):"",loose:!1,items:[]};$=b?`\\d{1,9}\\${$.slice(-1)}`:`\\${$}`,this.options.pedantic&&($=b?$:"[*+-]");let x=new RegExp(`^( {0,3}${$})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(r=t[0],e=e.substring(r.length),c=t[2].split(`
`,1)[0].replace(/^\t+/,_=>" ".repeat(3*_.length)),h=e.split(`
`,1)[0],this.options.pedantic?(i=2,f=c.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,f=c.slice(i),i+=t[1].length),a=!1,!c&&/^ *$/.test(h)&&(r+=h+`
`,e=e.substring(h.length+1),m=!0),!m){let _=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),S=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),v=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],h=d,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(v.test(h)||C.test(h)||_.test(h)||S.test(e)));){if(h.search(/[^ ]/)>=i||!h.trim())f+=`
`+h.slice(i);else{if(a||c.search(/[^ ]/)>=4||v.test(c)||C.test(c)||S.test(c))break;f+=`
`+h}!a&&!h.trim()&&(a=!0),r+=d+`
`,e=e.substring(d.length+1),c=h.slice(i)}}g.loose||(u?g.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(f),o&&(n=o[0]!=="[ ] ",f=f.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:r,task:!!o,checked:n,loose:!1,text:f}),g.raw+=r}g.items[g.items.length-1].raw=r.trimRight(),g.items[g.items.length-1].text=f.trimRight(),g.raw=g.raw.trimRight();let k=g.items.length;for(s=0;s<k;s++)if(this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]),!g.loose){let _=g.items[s].tokens.filter(v=>v.type==="space"),S=_.length>0&&_.some(v=>/\n.*\n/.test(v.raw));g.loose=S}if(g.loose)for(s=0;s<k;s++)g.items[s].loose=!0;return g}}html(e){let t=this.rules.block.html.exec(e);if(t){let r={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):zl(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:n}}}table(e){let t=this.rules.block.table.exec(e);if(t){let r={type:"table",header:J_t(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=t[0];let o=r.align.length,n,i,s,a;for(n=0;n<o;n++)/^ *-+: *$/.test(r.align[n])?r.align[n]="right":/^ *:-+: *$/.test(r.align[n])?r.align[n]="center":/^ *:-+ *$/.test(r.align[n])?r.align[n]="left":r.align[n]=null;for(o=r.rows.length,n=0;n<o;n++)r.rows[n]=J_t(r.rows[n],r.header.length).map(u=>({text:u}));for(o=r.header.length,i=0;i<o;i++)r.header[i].tokens=this.lexer.inline(r.header[i].text);for(o=r.rows.length,i=0;i<o;i++)for(a=r.rows[i],s=0;s<a.length;s++)a[s].tokens=this.lexer.inline(a[s].text);return r}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:zl(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):zl(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let i=PJ(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=RUo(t[2],"()");if(i>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let o=t[2],n="";if(this.options.pedantic){let i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);i&&(o=i[1],n=i[3])}else n=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(r)?o=o.slice(1):o=o.slice(1,-1)),e4t(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:n&&n.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){let n=r[0].charAt(0);return{type:"text",raw:n,text:n}}return e4t(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;let n=o[1]||o[2]||"";if(!n||n&&(r===""||this.rules.inline.punctuation.exec(r))){let i=o[0].length-1,s,a,u=i,c=0,h=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+i);(o=h.exec(t))!=null;){if(s=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!s)continue;if(a=s.length,o[3]||o[4]){u+=a;continue}else if((o[5]||o[6])&&i%3&&!((i+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);let d=e.slice(0,i+o.index+(o[0].length-s.length)+a);if(Math.min(i,a)%2){let m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}let f=d.slice(2,-2);return{type:"strong",raw:d,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),o=/[^ ]/.test(r),n=/^ /.test(r)&&/ $/.test(r);return o&&n&&(r=r.substring(1,r.length-1)),r=zl(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let r=this.rules.inline.autolink.exec(e);if(r){let o,n;return r[2]==="@"?(o=zl(this.options.mangle?t(r[1]):r[1]),n="mailto:"+o):(o=zl(r[1]),n=o),{type:"link",raw:r[0],text:o,href:n,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,n;if(r[2]==="@")o=zl(this.options.mangle?t(r[0]):r[0]),n="mailto:"+o;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(i!==r[0]);o=zl(r[0]),r[1]==="www."?n="http://"+r[0]:n=r[0]}return{type:"link",raw:r[0],text:o,href:n,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let r=this.rules.inline.text.exec(e);if(r){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):zl(r[0]):r[0]:o=zl(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}},pr={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:TJ,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};pr._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;pr._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;pr.def=gn(pr.def).replace("label",pr._label).replace("title",pr._title).getRegex();pr.bullet=/(?:[*+-]|\d{1,9}[.)])/;pr.listItemStart=gn(/^( *)(bull) */).replace("bull",pr.bullet).getRegex();pr.list=gn(pr.list).replace(/bull/g,pr.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+pr.def.source+")").getRegex();pr._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";pr._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;pr.html=gn(pr.html,"i").replace("comment",pr._comment).replace("tag",pr._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();pr.paragraph=gn(pr._paragraph).replace("hr",pr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pr._tag).getRegex();pr.blockquote=gn(pr.blockquote).replace("paragraph",pr.paragraph).getRegex();pr.normal={...pr};pr.gfm={...pr.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};pr.gfm.table=gn(pr.gfm.table).replace("hr",pr.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pr._tag).getRegex();pr.gfm.paragraph=gn(pr._paragraph).replace("hr",pr.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",pr.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pr._tag).getRegex();pr.pedantic={...pr.normal,html:gn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pr._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:TJ,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gn(pr.normal._paragraph).replace("hr",pr.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pr.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};var Vt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:TJ,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:TJ,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Vt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Vt.punctuation=gn(Vt.punctuation).replace(/punctuation/g,Vt._punctuation).getRegex();Vt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Vt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Vt._comment=gn(pr._comment).replace("(?:-->|$)","-->").getRegex();Vt.emStrong.lDelim=gn(Vt.emStrong.lDelim).replace(/punct/g,Vt._punctuation).getRegex();Vt.emStrong.rDelimAst=gn(Vt.emStrong.rDelimAst,"g").replace(/punct/g,Vt._punctuation).getRegex();Vt.emStrong.rDelimUnd=gn(Vt.emStrong.rDelimUnd,"g").replace(/punct/g,Vt._punctuation).getRegex();Vt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Vt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Vt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Vt.autolink=gn(Vt.autolink).replace("scheme",Vt._scheme).replace("email",Vt._email).getRegex();Vt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Vt.tag=gn(Vt.tag).replace("comment",Vt._comment).replace("attribute",Vt._attribute).getRegex();Vt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Vt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Vt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Vt.link=gn(Vt.link).replace("label",Vt._label).replace("href",Vt._href).replace("title",Vt._title).getRegex();Vt.reflink=gn(Vt.reflink).replace("label",Vt._label).replace("ref",pr._label).getRegex();Vt.nolink=gn(Vt.nolink).replace("ref",pr._label).getRegex();Vt.reflinkSearch=gn(Vt.reflinkSearch,"g").replace("reflink",Vt.reflink).replace("nolink",Vt.nolink).getRegex();Vt.normal={...Vt};Vt.pedantic={...Vt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:gn(/^!?\[(label)\]\((.*?)\)/).replace("label",Vt._label).getRegex(),reflink:gn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vt._label).getRegex()};Vt.gfm={...Vt.normal,escape:gn(Vt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};Vt.gfm.url=gn(Vt.gfm.url,"i").replace("email",Vt.gfm._extended_email).getRegex();Vt.breaks={...Vt.gfm,br:gn(Vt.br).replace("{2,}","*").getRegex(),text:gn(Vt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function DUo(l){return l.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function t4t(l){let e="",t,r,o=l.length;for(t=0;t<o;t++)r=l.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var A3=class l{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||P3,this.options.tokenizer=this.options.tokenizer||new CR,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:pr.normal,inline:Vt.normal};this.options.pedantic?(t.block=pr.pedantic,t.inline=Vt.pedantic):this.options.gfm&&(t.block=pr.gfm,this.options.breaks?t.inline=Vt.breaks:t.inline=Vt.gfm),this.tokenizer.rules=t}static get rules(){return{block:pr,inline:Vt}}static lex(e,t){return new l(t).lex(e)}static lexInline(e,t){return new l(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(s,a,u)=>a+"    ".repeat(u.length));let r,o,n,i;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(r=s.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(n=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0,a=e.slice(1),u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(s=Math.min(s,u))}),s<1/0&&s>=0&&(n=e.substring(0,s+1))}if(this.state.top&&(r=this.tokenizer.paragraph(n))){o=t[t.length-1],i&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),i=n.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,n,i=e,s,a,u;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,s.index)+"["+Q_t("a",s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,s.index)+"["+Q_t("a",s[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(i))!=null;)i=i.slice(0,s.index+s[0].length-2)+"++"+i.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,i,u)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,t4t)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,t4t))){e=e.substring(r.raw.length),t.push(r);continue}if(n=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0,h=e.slice(1),d;this.options.extensions.startInline.forEach(function(f){d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(n=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(n,DUo)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),a=!0,o=t[t.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},ER=class{constructor(e){this.options=e||P3}code(e,t,r){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let n=this.options.highlight(e,o);n!=null&&n!==e&&(r=!0,e=n)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+zl(o)+'">'+(r?e:zl(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:zl(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,r,o){if(this.options.headerIds){let n=this.options.headerPrefix+o.slug(r);return`<h${t} id="${n}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,r){let o=t?"ol":"ul",n=t&&r!==1?' start="'+r+'"':"";return"<"+o+n+`>
`+e+"</"+o+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(e=K_t(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(e=K_t(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}},OJ=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}},RJ=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do o++,r=e+"-"+o;while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){let r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}},U3=class l{constructor(e){this.options=e||P3,this.options.renderer=this.options.renderer||new ER,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new OJ,this.slugger=new RJ}static parse(e,t){return new l(t).parse(e)}static parseInline(e,t){return new l(t).parseInline(e)}parse(e,t=!0){let r="",o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C=e.length;for(o=0;o<C;o++){if(f=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(v=this.options.extensions.renderers[f.type].call({parser:this},f),v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){r+=v||"";continue}switch(f.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(f.tokens),f.depth,i4t(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(f.text,f.lang,f.escaped);continue}case"table":{for(h="",c="",s=f.header.length,n=0;n<s;n++)c+=this.renderer.tablecell(this.parseInline(f.header[n].tokens),{header:!0,align:f.align[n]});for(h+=this.renderer.tablerow(c),d="",s=f.rows.length,n=0;n<s;n++){for(u=f.rows[n],c="",a=u.length,i=0;i<a;i++)c+=this.renderer.tablecell(this.parseInline(u[i].tokens),{header:!1,align:f.align[i]});d+=this.renderer.tablerow(c)}r+=this.renderer.table(h,d);continue}case"blockquote":{d=this.parse(f.tokens),r+=this.renderer.blockquote(d);continue}case"list":{for(m=f.ordered,$=f.start,b=f.loose,s=f.items.length,d="",n=0;n<s;n++)x=f.items[n],k=x.checked,_=x.task,g="",x.task&&(S=this.renderer.checkbox(k),b?x.tokens.length>0&&x.tokens[0].type==="paragraph"?(x.tokens[0].text=S+" "+x.tokens[0].text,x.tokens[0].tokens&&x.tokens[0].tokens.length>0&&x.tokens[0].tokens[0].type==="text"&&(x.tokens[0].tokens[0].text=S+" "+x.tokens[0].tokens[0].text)):x.tokens.unshift({type:"text",text:S}):g+=S),g+=this.parse(x.tokens,b),d+=this.renderer.listitem(g,_,k);r+=this.renderer.list(d,m,$);continue}case"html":{r+=this.renderer.html(f.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(f.tokens));continue}case"text":{for(d=f.tokens?this.parseInline(f.tokens):f.text;o+1<C&&e[o+1].type==="text";)f=e[++o],d+=`
`+(f.tokens?this.parseInline(f.tokens):f.text);r+=t?this.renderer.paragraph(d):d;continue}default:{let j='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(j);return}else throw new Error(j)}}}return r}parseInline(e,t){t=t||this.renderer;let r="",o,n,i,s=e.length;for(o=0;o<s;o++){if(n=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type]&&(i=this.options.extensions.renderers[n.type].call({parser:this},n),i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))){r+=i||"";continue}switch(n.type){case"escape":{r+=t.text(n.text);break}case"html":{r+=t.html(n.text);break}case"link":{r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break}case"image":{r+=t.image(n.href,n.title,n.text);break}case"strong":{r+=t.strong(this.parseInline(n.tokens,t));break}case"em":{r+=t.em(this.parseInline(n.tokens,t));break}case"codespan":{r+=t.codespan(n.text);break}case"br":{r+=t.br();break}case"del":{r+=t.del(this.parseInline(n.tokens,t));break}case"text":{r+=t.text(n.text);break}default:{let a='Token with "'+n.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return r}},jR=class{constructor(e){this.options=e||P3}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}};function NUo(l,e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,l){let o="<p>An error occurred:</p><pre>"+zl(r.message+"",!0)+"</pre>";if(e)return Promise.resolve(o);if(t){t(null,o);return}return o}if(e)return Promise.reject(r);if(t){t(r);return}throw r}}function s4t(l,e){return(t,r,o)=>{typeof r=="function"&&(o=r,r=null);let n={...r};r={...hr.defaults,...n};let i=NUo(r.silent,r.async,o);if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(MUo(r),r.hooks&&(r.hooks.options=r),o){let s=r.highlight,a;try{r.hooks&&(t=r.hooks.preprocess(t)),a=l(t,r)}catch(h){return i(h)}let u=function(h){let d;if(!h)try{r.walkTokens&&hr.walkTokens(a,r.walkTokens),d=e(a,r),r.hooks&&(d=r.hooks.postprocess(d))}catch(f){h=f}return r.highlight=s,h?i(h):o(null,d)};if(!s||s.length<3||(delete r.highlight,!a.length))return u();let c=0;hr.walkTokens(a,function(h){h.type==="code"&&(c++,setTimeout(()=>{s(h.text,h.lang,function(d,f){if(d)return u(d);f!=null&&f!==h.text&&(h.text=f,h.escaped=!0),c--,c===0&&u()})},0))}),c===0&&u();return}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then(s=>l(s,r)).then(s=>r.walkTokens?Promise.all(hr.walkTokens(s,r.walkTokens)).then(()=>s):s).then(s=>e(s,r)).then(s=>r.hooks?r.hooks.postprocess(s):s).catch(i);try{r.hooks&&(t=r.hooks.preprocess(t));let s=l(t,r);r.walkTokens&&hr.walkTokens(s,r.walkTokens);let a=e(s,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(s){return i(s)}}}function hr(l,e,t){return s4t(A3.lex,U3.parse)(l,e,t)}hr.options=hr.setOptions=function(l){return hr.defaults={...hr.defaults,...l},xUo(hr.defaults),hr};hr.getDefaults=r4t;hr.defaults=P3;hr.use=function(...l){let e=hr.defaults.extensions||{renderers:{},childTokens:{}};l.forEach(t=>{let r={...t};if(r.async=hr.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){let n=e.renderers[o.name];n?e.renderers[o.name]=function(...i){let s=o.renderer.apply(this,i);return s===!1&&(s=n.apply(this,i)),s}:e.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){let o=hr.defaults.renderer||new ER;for(let n in t.renderer){let i=o[n];o[n]=(...s)=>{let a=t.renderer[n].apply(o,s);return a===!1&&(a=i.apply(o,s)),a}}r.renderer=o}if(t.tokenizer){let o=hr.defaults.tokenizer||new CR;for(let n in t.tokenizer){let i=o[n];o[n]=(...s)=>{let a=t.tokenizer[n].apply(o,s);return a===!1&&(a=i.apply(o,s)),a}}r.tokenizer=o}if(t.hooks){let o=hr.defaults.hooks||new jR;for(let n in t.hooks){let i=o[n];jR.passThroughHooks.has(n)?o[n]=s=>{if(hr.defaults.async)return Promise.resolve(t.hooks[n].call(o,s)).then(u=>i.call(o,u));let a=t.hooks[n].call(o,s);return i.call(o,a)}:o[n]=(...s)=>{let a=t.hooks[n].apply(o,s);return a===!1&&(a=i.apply(o,s)),a}}r.hooks=o}if(t.walkTokens){let o=hr.defaults.walkTokens;r.walkTokens=function(n){let i=[];return i.push(t.walkTokens.call(this,n)),o&&(i=i.concat(o.call(this,n))),i}}hr.setOptions(r)})};hr.walkTokens=function(l,e){let t=[];for(let r of l)switch(t=t.concat(e.call(hr,r)),r.type){case"table":{for(let o of r.header)t=t.concat(hr.walkTokens(o.tokens,e));for(let o of r.rows)for(let n of o)t=t.concat(hr.walkTokens(n.tokens,e));break}case"list":{t=t.concat(hr.walkTokens(r.items,e));break}default:hr.defaults.extensions&&hr.defaults.extensions.childTokens&&hr.defaults.extensions.childTokens[r.type]?hr.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(hr.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(hr.walkTokens(r.tokens,e)))}return t};hr.parseInline=s4t(A3.lexInline,U3.parseInline);hr.Parser=U3;hr.parser=U3.parse;hr.Renderer=ER;hr.TextRenderer=OJ;hr.Lexer=A3;hr.lexer=A3.lex;hr.Tokenizer=CR;hr.Slugger=RJ;hr.Hooks=jR;hr.parse=hr;var f5n=hr.options,m5n=hr.setOptions,$5n=hr.use,y5n=hr.walkTokens,b5n=hr.parseInline;var g5n=U3.parse,k5n=A3.lex;T();T();/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var{entries:$4t,setPrototypeOf:l4t,isFrozen:IUo,getPrototypeOf:FUo,getOwnPropertyDescriptor:HUo}=Object,{freeze:ya,seal:bh,create:y4t}=Object,{apply:jye,construct:Aye}=typeof Reflect<"u"&&Reflect;ya||(ya=function(e){return e});bh||(bh=function(e){return e});jye||(jye=function(e,t,r){return e.apply(t,r)});Aye||(Aye=function(e,t){return new e(...t)});var MJ=ba(Array.prototype.forEach),BUo=ba(Array.prototype.lastIndexOf),a4t=ba(Array.prototype.pop),AR=ba(Array.prototype.push),VUo=ba(Array.prototype.splice),DJ=ba(String.prototype.toLowerCase),vye=ba(String.prototype.toString),u4t=ba(String.prototype.match),UR=ba(String.prototype.replace),zUo=ba(String.prototype.indexOf),qUo=ba(String.prototype.trim),N1=ba(Object.prototype.hasOwnProperty),$a=ba(RegExp.prototype.test),PR=WUo(TypeError);function ba(l){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return jye(l,e,r)}}function WUo(l){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Aye(l,t)}}function Jr(l,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DJ;l4t&&l4t(l,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){let n=t(o);n!==o&&(IUo(e)||(e[r]=n),o=n)}l[o]=!0}return l}function ZUo(l){for(let e=0;e<l.length;e++)N1(l,e)||(l[e]=null);return l}function L2(l){let e=y4t(null);for(let[t,r]of $4t(l))N1(l,t)&&(Array.isArray(r)?e[t]=ZUo(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=L2(r):e[t]=r);return e}function TR(l,e){for(;l!==null;){let r=HUo(l,e);if(r){if(r.get)return ba(r.get);if(typeof r.value=="function")return ba(r.value)}l=FUo(l)}function t(){return null}return t}var c4t=ya(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wye=ya(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Sye=ya(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GUo=ya(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cye=ya(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),YUo=ya(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h4t=ya(["#text"]),p4t=ya(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Eye=ya(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),d4t=ya(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),LJ=ya(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XUo=bh(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KUo=bh(/<%[\w\W]*|[\w\W]*%>/gm),JUo=bh(/\$\{[\w\W]*/gm),QUo=bh(/^data-[\-\w.\u00B7-\uFFFF]+$/),ePo=bh(/^aria-[\-\w]+$/),b4t=bh(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tPo=bh(/^(?:\w+script|data):/i),rPo=bh(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),g4t=bh(/^html$/i),oPo=bh(/^[a-z][.\w]*(-[.\w]+)+$/i),f4t=Object.freeze({__proto__:null,ARIA_ATTR:ePo,ATTR_WHITESPACE:rPo,CUSTOM_ELEMENT:oPo,DATA_ATTR:QUo,DOCTYPE_NAME:g4t,ERB_EXPR:KUo,IS_ALLOWED_URI:b4t,IS_SCRIPT_OR_DATA:tPo,MUSTACHE_EXPR:XUo,TMPLIT_EXPR:JUo}),OR={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},nPo=function(){return typeof window>"u"?null:window},iPo=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(r=t.getAttribute(o));let n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},m4t=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function k4t(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nPo(),e=lt=>k4t(lt);if(e.version="3.2.6",e.removed=[],!l||!l.document||l.document.nodeType!==OR.document||!l.Element)return e.isSupported=!1,e;let{document:t}=l,r=t,o=r.currentScript,{DocumentFragment:n,HTMLTemplateElement:i,Node:s,Element:a,NodeFilter:u,NamedNodeMap:c=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=l,m=a.prototype,$=TR(m,"cloneNode"),b=TR(m,"remove"),g=TR(m,"nextSibling"),x=TR(m,"childNodes"),k=TR(m,"parentNode");if(typeof i=="function"){let lt=t.createElement("template");lt.content&&lt.content.ownerDocument&&(t=lt.content.ownerDocument)}let _,S="",{implementation:v,createNodeIterator:C,createDocumentFragment:j,getElementsByTagName:P}=t,{importNode:U}=r,O=m4t();e.isSupported=typeof $4t=="function"&&typeof k=="function"&&v&&v.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:L,ERB_EXPR:I,TMPLIT_EXPR:F,DATA_ATTR:N,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:q}=f4t,{IS_ALLOWED_URI:Y}=f4t,K=null,X=Jr({},[...c4t,...wye,...Sye,...Cye,...h4t]),Z=null,Q=Jr({},[...p4t,...Eye,...d4t,...LJ]),ee=Object.seal(y4t(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,ne=null,ie=!0,J=!0,me=!1,ce=!0,ye=!1,we=!0,ae=!1,be=!1,_e=!1,Ae=!1,ve=!1,Pe=!1,He=!0,Ue=!1,Be="user-content-",je=!0,ue=!1,xe={},Re=null,Oe=Jr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=null,Ne=Jr({},["audio","video","img","source","image","track"]),Ie=null,Ke=Jr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Te="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml",et=Ze,ft=!1,Ge=null,Je=Jr({},[Te,Ce,Ze],vye),ct=Jr({},["mi","mo","mn","ms","mtext"]),rt=Jr({},["annotation-xml"]),$t=Jr({},["title","style","font","a","script"]),it=null,tt=["application/xhtml+xml","text/html"],ze="text/html",at=null,st=null,yt=t.createElement("form"),vt=function(fe){return fe instanceof RegExp||fe instanceof Function},nt=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(st&&st===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=L2(fe),it=tt.indexOf(fe.PARSER_MEDIA_TYPE)===-1?ze:fe.PARSER_MEDIA_TYPE,at=it==="application/xhtml+xml"?vye:DJ,K=N1(fe,"ALLOWED_TAGS")?Jr({},fe.ALLOWED_TAGS,at):X,Z=N1(fe,"ALLOWED_ATTR")?Jr({},fe.ALLOWED_ATTR,at):Q,Ge=N1(fe,"ALLOWED_NAMESPACES")?Jr({},fe.ALLOWED_NAMESPACES,vye):Je,Ie=N1(fe,"ADD_URI_SAFE_ATTR")?Jr(L2(Ke),fe.ADD_URI_SAFE_ATTR,at):Ke,qe=N1(fe,"ADD_DATA_URI_TAGS")?Jr(L2(Ne),fe.ADD_DATA_URI_TAGS,at):Ne,Re=N1(fe,"FORBID_CONTENTS")?Jr({},fe.FORBID_CONTENTS,at):Oe,te=N1(fe,"FORBID_TAGS")?Jr({},fe.FORBID_TAGS,at):L2({}),ne=N1(fe,"FORBID_ATTR")?Jr({},fe.FORBID_ATTR,at):L2({}),xe=N1(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,ie=fe.ALLOW_ARIA_ATTR!==!1,J=fe.ALLOW_DATA_ATTR!==!1,me=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,ce=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ye=fe.SAFE_FOR_TEMPLATES||!1,we=fe.SAFE_FOR_XML!==!1,ae=fe.WHOLE_DOCUMENT||!1,Ae=fe.RETURN_DOM||!1,ve=fe.RETURN_DOM_FRAGMENT||!1,Pe=fe.RETURN_TRUSTED_TYPE||!1,_e=fe.FORCE_BODY||!1,He=fe.SANITIZE_DOM!==!1,Ue=fe.SANITIZE_NAMED_PROPS||!1,je=fe.KEEP_CONTENT!==!1,ue=fe.IN_PLACE||!1,Y=fe.ALLOWED_URI_REGEXP||b4t,et=fe.NAMESPACE||Ze,ct=fe.MATHML_TEXT_INTEGRATION_POINTS||ct,rt=fe.HTML_INTEGRATION_POINTS||rt,ee=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&vt(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&vt(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ye&&(J=!1),ve&&(Ae=!0),xe&&(K=Jr({},h4t),Z=[],xe.html===!0&&(Jr(K,c4t),Jr(Z,p4t)),xe.svg===!0&&(Jr(K,wye),Jr(Z,Eye),Jr(Z,LJ)),xe.svgFilters===!0&&(Jr(K,Sye),Jr(Z,Eye),Jr(Z,LJ)),xe.mathMl===!0&&(Jr(K,Cye),Jr(Z,d4t),Jr(Z,LJ))),fe.ADD_TAGS&&(K===X&&(K=L2(K)),Jr(K,fe.ADD_TAGS,at)),fe.ADD_ATTR&&(Z===Q&&(Z=L2(Z)),Jr(Z,fe.ADD_ATTR,at)),fe.ADD_URI_SAFE_ATTR&&Jr(Ie,fe.ADD_URI_SAFE_ATTR,at),fe.FORBID_CONTENTS&&(Re===Oe&&(Re=L2(Re)),Jr(Re,fe.FORBID_CONTENTS,at)),je&&(K["#text"]=!0),ae&&Jr(K,["html","head","body"]),K.table&&(Jr(K,["tbody"]),delete te.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw PR('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw PR('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=fe.TRUSTED_TYPES_POLICY,S=_.createHTML("")}else _===void 0&&(_=iPo(f,o)),_!==null&&typeof S=="string"&&(S=_.createHTML(""));ya&&ya(fe),st=fe}},Ct=Jr({},[...wye,...Sye,...GUo]),jt=Jr({},[...Cye,...YUo]),bt=function(fe){let Me=k(fe);(!Me||!Me.tagName)&&(Me={namespaceURI:et,tagName:"template"});let ut=DJ(fe.tagName),Rt=DJ(Me.tagName);return Ge[fe.namespaceURI]?fe.namespaceURI===Ce?Me.namespaceURI===Ze?ut==="svg":Me.namespaceURI===Te?ut==="svg"&&(Rt==="annotation-xml"||ct[Rt]):!!Ct[ut]:fe.namespaceURI===Te?Me.namespaceURI===Ze?ut==="math":Me.namespaceURI===Ce?ut==="math"&&rt[Rt]:!!jt[ut]:fe.namespaceURI===Ze?Me.namespaceURI===Ce&&!rt[Rt]||Me.namespaceURI===Te&&!ct[Rt]?!1:!jt[ut]&&($t[ut]||!Ct[ut]):!!(it==="application/xhtml+xml"&&Ge[fe.namespaceURI]):!1},Xe=function(fe){AR(e.removed,{element:fe});try{k(fe).removeChild(fe)}catch{b(fe)}},ht=function(fe,Me){try{AR(e.removed,{attribute:Me.getAttributeNode(fe),from:Me})}catch{AR(e.removed,{attribute:null,from:Me})}if(Me.removeAttribute(fe),fe==="is")if(Ae||ve)try{Xe(Me)}catch{}else try{Me.setAttribute(fe,"")}catch{}},Dt=function(fe){let Me=null,ut=null;if(_e)fe="<remove></remove>"+fe;else{let Yt=u4t(fe,/^[\r\n\t ]+/);ut=Yt&&Yt[0]}it==="application/xhtml+xml"&&et===Ze&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");let Rt=_?_.createHTML(fe):fe;if(et===Ze)try{Me=new d().parseFromString(Rt,it)}catch{}if(!Me||!Me.documentElement){Me=v.createDocument(et,"template",null);try{Me.documentElement.innerHTML=ft?S:Rt}catch{}}let St=Me.body||Me.documentElement;return fe&&ut&&St.insertBefore(t.createTextNode(ut),St.childNodes[0]||null),et===Ze?P.call(Me,ae?"html":"body")[0]:ae?Me.documentElement:St},mt=function(fe){return C.call(fe.ownerDocument||fe,fe,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},At=function(fe){return fe instanceof h&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof c)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},Ut=function(fe){return typeof s=="function"&&fe instanceof s};function kt(lt,fe,Me){MJ(lt,ut=>{ut.call(e,fe,Me,st)})}let _t=function(fe){let Me=null;if(kt(O.beforeSanitizeElements,fe,null),At(fe))return Xe(fe),!0;let ut=at(fe.nodeName);if(kt(O.uponSanitizeElement,fe,{tagName:ut,allowedTags:K}),we&&fe.hasChildNodes()&&!Ut(fe.firstElementChild)&&$a(/<[/\w!]/g,fe.innerHTML)&&$a(/<[/\w!]/g,fe.textContent)||fe.nodeType===OR.progressingInstruction||we&&fe.nodeType===OR.comment&&$a(/<[/\w]/g,fe.data))return Xe(fe),!0;if(!K[ut]||te[ut]){if(!te[ut]&&Mt(ut)&&(ee.tagNameCheck instanceof RegExp&&$a(ee.tagNameCheck,ut)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(ut)))return!1;if(je&&!Re[ut]){let Rt=k(fe)||fe.parentNode,St=x(fe)||fe.childNodes;if(St&&Rt){let Yt=St.length;for(let rr=Yt-1;rr>=0;--rr){let er=$(St[rr],!0);er.__removalCount=(fe.__removalCount||0)+1,Rt.insertBefore(er,g(fe))}}}return Xe(fe),!0}return fe instanceof a&&!bt(fe)||(ut==="noscript"||ut==="noembed"||ut==="noframes")&&$a(/<\/no(script|embed|frames)/i,fe.innerHTML)?(Xe(fe),!0):(ye&&fe.nodeType===OR.text&&(Me=fe.textContent,MJ([L,I,F],Rt=>{Me=UR(Me,Rt," ")}),fe.textContent!==Me&&(AR(e.removed,{element:fe.cloneNode()}),fe.textContent=Me)),kt(O.afterSanitizeElements,fe,null),!1)},xt=function(fe,Me,ut){if(He&&(Me==="id"||Me==="name")&&(ut in t||ut in yt))return!1;if(!(J&&!ne[Me]&&$a(N,Me))){if(!(ie&&$a(V,Me))){if(!Z[Me]||ne[Me]){if(!(Mt(fe)&&(ee.tagNameCheck instanceof RegExp&&$a(ee.tagNameCheck,fe)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(fe))&&(ee.attributeNameCheck instanceof RegExp&&$a(ee.attributeNameCheck,Me)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(Me))||Me==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&$a(ee.tagNameCheck,ut)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(ut))))return!1}else if(!Ie[Me]){if(!$a(Y,UR(ut,z,""))){if(!((Me==="src"||Me==="xlink:href"||Me==="href")&&fe!=="script"&&zUo(ut,"data:")===0&&qe[fe])){if(!(me&&!$a(W,UR(ut,z,"")))){if(ut)return!1}}}}}}return!0},Mt=function(fe){return fe!=="annotation-xml"&&u4t(fe,q)},Ot=function(fe){kt(O.beforeSanitizeAttributes,fe,null);let{attributes:Me}=fe;if(!Me||At(fe))return;let ut={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0},Rt=Me.length;for(;Rt--;){let St=Me[Rt],{name:Yt,namespaceURI:rr,value:er}=St,Zt=at(Yt),Nr=er,or=Yt==="value"?Nr:qUo(Nr);if(ut.attrName=Zt,ut.attrValue=or,ut.keepAttr=!0,ut.forceKeepAttr=void 0,kt(O.uponSanitizeAttribute,fe,ut),or=ut.attrValue,Ue&&(Zt==="id"||Zt==="name")&&(ht(Yt,fe),or=Be+or),we&&$a(/((--!?|])>)|<\/(style|title)/i,or)){ht(Yt,fe);continue}if(ut.forceKeepAttr)continue;if(!ut.keepAttr){ht(Yt,fe);continue}if(!ce&&$a(/\/>/i,or)){ht(Yt,fe);continue}ye&&MJ([L,I,F],xo=>{or=UR(or,xo," ")});let Tr=at(fe.nodeName);if(!xt(Tr,Zt,or)){ht(Yt,fe);continue}if(_&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!rr)switch(f.getAttributeType(Tr,Zt)){case"TrustedHTML":{or=_.createHTML(or);break}case"TrustedScriptURL":{or=_.createScriptURL(or);break}}if(or!==Nr)try{rr?fe.setAttributeNS(rr,Yt,or):fe.setAttribute(Yt,or),At(fe)?Xe(fe):a4t(e.removed)}catch{ht(Yt,fe)}}kt(O.afterSanitizeAttributes,fe,null)},tr=function lt(fe){let Me=null,ut=mt(fe);for(kt(O.beforeSanitizeShadowDOM,fe,null);Me=ut.nextNode();)kt(O.uponSanitizeShadowNode,Me,null),_t(Me),Ot(Me),Me.content instanceof n&&lt(Me.content);kt(O.afterSanitizeShadowDOM,fe,null)};return e.sanitize=function(lt){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=null,ut=null,Rt=null,St=null;if(ft=!lt,ft&&(lt="<!-->"),typeof lt!="string"&&!Ut(lt))if(typeof lt.toString=="function"){if(lt=lt.toString(),typeof lt!="string")throw PR("dirty is not a string, aborting")}else throw PR("toString is not a function");if(!e.isSupported)return lt;if(be||nt(fe),e.removed=[],typeof lt=="string"&&(ue=!1),ue){if(lt.nodeName){let er=at(lt.nodeName);if(!K[er]||te[er])throw PR("root node is forbidden and cannot be sanitized in-place")}}else if(lt instanceof s)Me=Dt("<!---->"),ut=Me.ownerDocument.importNode(lt,!0),ut.nodeType===OR.element&&ut.nodeName==="BODY"||ut.nodeName==="HTML"?Me=ut:Me.appendChild(ut);else{if(!Ae&&!ye&&!ae&&lt.indexOf("<")===-1)return _&&Pe?_.createHTML(lt):lt;if(Me=Dt(lt),!Me)return Ae?null:Pe?S:""}Me&&_e&&Xe(Me.firstChild);let Yt=mt(ue?lt:Me);for(;Rt=Yt.nextNode();)_t(Rt),Ot(Rt),Rt.content instanceof n&&tr(Rt.content);if(ue)return lt;if(Ae){if(ve)for(St=j.call(Me.ownerDocument);Me.firstChild;)St.appendChild(Me.firstChild);else St=Me;return(Z.shadowroot||Z.shadowrootmode)&&(St=U.call(r,St,!0)),St}let rr=ae?Me.outerHTML:Me.innerHTML;return ae&&K["!doctype"]&&Me.ownerDocument&&Me.ownerDocument.doctype&&Me.ownerDocument.doctype.name&&$a(g4t,Me.ownerDocument.doctype.name)&&(rr="<!DOCTYPE "+Me.ownerDocument.doctype.name+`>
`+rr),ye&&MJ([L,I,F],er=>{rr=UR(rr,er," ")}),_&&Pe?_.createHTML(rr):rr},e.setConfig=function(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt(lt),be=!0},e.clearConfig=function(){st=null,be=!1},e.isValidAttribute=function(lt,fe,Me){st||nt({});let ut=at(lt),Rt=at(fe);return xt(ut,Rt,Me)},e.addHook=function(lt,fe){typeof fe=="function"&&AR(O[lt],fe)},e.removeHook=function(lt,fe){if(fe!==void 0){let Me=BUo(O[lt],fe);return Me===-1?void 0:VUo(O[lt],Me,1)[0]}return a4t(O[lt])},e.removeHooks=function(lt){O[lt]=[]},e.removeAllHooks=function(){O=m4t()},e}var NJ=k4t();var sPo={ALLOWED_TAGS:["b","strong","i","em","u","a","p","br","ul","ol","li"],ALLOWED_ATTR:["href","target","rel"]};function IJ(l,e=sPo){return NJ.sanitize(l,e)}var Uye=Symbol.for("#markdown"),lPo={ALLOWED_TAGS:["b","strong","i","em","u","a","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6"],ALLOWED_ATTR:["href","target","rel"]},aPo=Symbol(),Pye=class Pye{apply(){let e=window.getSelection();return e.removeAllRanges(),e.addRange(this)}};E(Pye,aPo,"Range",1,Range);var _4t=Pye,uPo=Symbol(),Tye=class Tye{set markdown(e){this[Uye]!=e&&(this[Uye]=e,!0)&&(this.innerHTML=IJ(hr(e||""),lPo))}get markdown(){return this[Uye]}relativeOffset(e){return e==this?0:e.contains(this)?this.offsetLeft+this.offsetParent.relativeOffset(e):0}relativeOffsetTop(e){return e==this?0:e.contains(this)?this.offsetTop+this.offsetParent.relativeOffsetTop(e):0}getRange(e,t){let r=globalThis.document.createRange(),o=this,n=p(o,Text)?o.textContent.length:o.innerText.length;if(e<0&&(e=Math.max(n+(e+1),0)),t==null&&(t=e),t<0&&(t=Math.max(n+(t+1),0)),e==0&&(r.setStart(o,e),t==0))return r.setEnd(o,t),r;if(p(o,Text))return r.setStart(o,Math.min(n,e)),r.setEnd(o,Math.min(n,t)),r;let i=globalThis.document.createTreeWalker(o,NodeFilter.SHOW_TEXT),s,a=0,u,c,h;for(;s=i.nextNode();){let d=h;h=s;let f=a,m=f+s.length;if(a+=s.length,e==f&&d&&d.length>0&&r.setStart(u=s,0),e>=f&&e<=m&&!u&&(r.setStart(u=s,e-f),t==e)){r.setStart(c=s,t-f);break}if(t>=f&&t<m){r.setEnd(c=s,t-f);break}}return h||(r.setStart(o,0),r.setEnd(o,o.childNodes.length)),!u&&h&&r.setStart(h,h.length),!c&&h&&r.setEnd(h,h.length),r}getRelativeRect(e,t=null){let r=e.opbox(t),o=this.opbox(t);return{left:o.left-r.left,top:o.top-r.top,width:o.width,height:o.height}}};E(Tye,uPo,"Element",1,Element);var x4t=Tye;T();T();T();T();oe();T();oe();var cPo=le("&.item",globalThis,l=>l.item),hPo=le("&.score",globalThis,l=>l.score),v4t=Symbol(),Aw,w4t=new(Aw=class{constructor(e=null){this[A](e),re(this,v4t)}[A](e=null,t=!0,r=!0){var o;this.weights=e&&(o=e.weights)!==void 0?o:{min:-1/0,gapleading:-1,gaptrailing:-1,gapinner:-2,matchconsecutive:200,matchslash:180,matchword:160,matchcapital:140,matchdot:120},this.M=e&&(o=e.M)!==void 0?o:new Array(1e5),this.D=e&&(o=e.D)!==void 0?o:new Array(1e5),this.B=e&&(o=e.B)!==void 0?o:new Array(1e5),this.cache=e&&(o=e.cache)!==void 0?o:{}}search(e,t,...r){var o,n;if(!e||!t.len)return t;this.cache[e]??={},r.len||(r=[function(f){return f}]);let i=e.lower,a=(e.len*200-20).toString().len,u=BigInt(10)**BigInt(r.len*a),c=BigInt(0),h=0;n=[];for(let f=0,m=B(h.to(r.len-1)),$=m.length;f<$;f++){let b=m[f];n.push(BigInt(10)**BigInt((b+1)*a))}o=n;let d=[];for(let f=0,m=B(t),$=m.length;f<$;f++){let b=m[f],g=c,x=c,k=!1;for(let _=0,S=B(r),v=S.length;_<v;_++){let C=S[_],j=C(b),P=this.score(e,j);P!=-1/0&&(k=!0,P=this.cache[e][j]??=u*BigInt(Math.max(P,0)),x+=P/o[_],g=P>g?P:g)}k&&d.push({item:b,score:g+x})}return d.sorted(hPo,!0).map(cPo)}score(e,t,r=e==null?void 0:e.lower,o=t==null?void 0:t.lower){if(!(typeof t=="string"&&typeof e=="string")||!(typeof r=="string"&&typeof o=="string"&&o.hassubseq(r)))return-1/0;let n=e.length,i=t.length;return n<1||i<1?this.weights.min:i>1024?this.weights.min:(this.compute(e,t,r,o),this.M[(n-1)*i+(i-1)])}filter(e,t,...r){var o=this;return r.len||(r=[function(n){return n}]),t.filter(function(n){var i;i=[];for(let s=0,a=B(r),u=a.length;s<u;s++){let c=a[s];if(typeof o.haystack=="string"&&c(n).hassubseq(e))return!0}return i})}idx(e,t,r){return t*e+r}replaceMatches(e,t,r){if(!r||!t.lower.hassubseq(e.lower))return t;let o=e.length,n=t.length,i=new Array(n);if(o<1||n<1)return t;if(Ye(o,n)){for(let c=o,h=0,d=c-h;d>0?h<c:h>c;d>0?h++:h--)i[h]=r(t[h]);return i.join("")}if(n>1024)return t;this.compute(e,t);let s=!1,a=o-1,u=n-1;for(;a>=0;){for(;u>=0;){let c=this.idx(n,a,u),h=this.idx(n,a-1,u-1);if(!Ye(this.D[c],this.weights.min)&&(s||Ye(this.D[c],this.M[c]))){s=a&&u&&Ye(this.M[c],this.D[h]+this.weights.matchconsecutive),i[u]=r(t[u]),u--;break}else i[u]=t[u];u--}a--}for(;u>=0;)i[u]=t[u],u--;return i.join("")}replaceMatchedRanges(e,t,r){if(!r)return t;let o=e.length,n=t.length,i=new Array;if(o<1||n<1)return t;if(Ye(o,n))return r(t);if(n>1024)return t;this.compute(e,t);let s=!1,a,u=o-1,c=n-1;for(;u>=0;){for(;c>=0;){let h=this.idx(n,u,c),d=this.idx(n,u-1,c-1);if(!Ye(this.D[h],this.weights.min)&&(s||Ye(this.D[h],this.M[h]))){s=u&&c&&Ye(this.M[h],this.D[d]+this.weights.matchconsecutive),a??=c,c--;break}else a&&(i.push(r(t.substring(c+1,a+1))),a=null),i.push(t[c]);c--}u--}for(!Ye(a,null)&&c>=0?i.push(r(t.substring(c+1,a+1))):Ye(a,null)||i.push(r(t.substring(0,a+1)));c>=0;)i.push(t[c]),c--;return i.reverse().join("")}compute(e,t,r=e.lower,o=t.lower){var n,i;let s=e.length,a=t.length;this.precomputebonus(t),i=[];for(let u=s,c=0,h=u-c;h>0?c<u:c>u;h>0?c++:c--){let d=this.weights.min,f=Ye(c,s-1)?this.weights.gaptrailing:this.weights.gapinner;n=[];for(let m=a,$=0,b=m-$,g;b>0?$<m:$>m;b>0?$++:$--){let x=this.idx(a,c,$),k=this.idx(a,c-1,$-1);n.push(Ye(r[c],o[$])?(g=this.weights.min,Ye(c,0)?g=$*this.weights.gapleading+this.B[$]:$>0&&(g=Math.max(this.M[k]+this.B[$],this.D[k]+this.weights.matchconsecutive)),this.D[x]=g,this.M[x]=d=Math.max(g,d+f)):(this.D[x]=this.weights.min,this.M[x]=d=d+f))}i.push(n)}return i}precomputebonus(e){var t;let r=e.length,o="/";t=[];for(let n=r,i=0,s=n-i;s>0?i<n:i>n;s>0?i++:i--){let a=e[i];Ye(o,"/")?this.B[i]=this.weights.matchslash:Ye(o,"-")||Ye(o,"_")||Ye(o," ")?this.B[i]=this.weights.matchword:Ye(o,".")?this.B[i]=this.weights.matchdot:o.lower&&a.upper?this.B[i]=this.weights.matchcapital:this.B[i]=0,t.push(o=a)}return t}positions(e,t){let r=e.length,o=t.length,n=new Array(r);if(r<1||o<1)return n;if(Ye(r,o)){for(let u=r,c=0,h=u-c;h>0?c<u:c>u;h>0?c++:c--)n[c]=c;return n}if(o>1024)return n;this.compute(e,t);let i=!1,s=r-1,a=o-1;for(;s>=0;){for(;a>=0;){let u=this.idx(o,s,a),c=this.idx(o,s-1,a-1);if(!Ye(this.D[u],this.weights.min)&&(i||Ye(this.D[u],this.M[u]))){i=s&&a&&Ye(this.M[u],this.D[c]+this.weights.matchconsecutive),n[s]=a--;break}a--}s--}return n}},E(Aw,v4t,null,16),Aw);T();function pPo(l,e,t=4){let r=6e4/e,o=0,n=null,i=0,s=0,a=0,u=0,c=h=>new Promise(d=>{let f=setTimeout(d,h)});return async(...h)=>{var f;u++;let d=0;for(;d<=t;){n&&await n;let m=Date.now(),$=Math.max(m,o);if(o=$+r,$>m&&await c($-m),!n){i++,console.log(i,u,s,a);try{let b=await l(...h);return s++,b}catch(b){let g=(b==null?void 0:b.statusCode)??(b==null?void 0:b.status)??((f=b==null?void 0:b.response)==null?void 0:f.status);if(console.log("RATE LIMITED ERROR STATUS",g),g!==429)throw a++,b;if(!n){let x=1e3*2**d;n=c(x).finally(()=>{n=null})}d++}}}throw a++,new Error("Rate limit attempts maxed out")}}var S4t=pPo;function Rye(l,e){return l[l.length+e]}var Nye=Symbol.for("#matcher"),C4t=Symbol.for("#jszip"),Oye=Symbol.for("#resolved"),E4t=Symbol.for("#rejected"),RR=gt(globalThis),W4t=Symbol(),Mye=Symbol(),j4t=Symbol(),A4t=Symbol(),U4t=Symbol(),P4t=Symbol();globalThis.FZI=w4t;globalThis.LL=function(){};var dPo={};Object.isPlain=function(l){return typeof l=="object"&&l&&Object.getPrototypeOf(l)==Object.prototype};Object.getPrototypeChainOf=function(l){let e=[],t=l;for(;(t=Object.getPrototypeOf(t))&&t!==Object.prototype;)e.push(t);return e};Object.getAllPropertyDescriptorsWithDepth=function(l){let e={},t={},r=Object.getPrototypeChainOf(l);for(let o=0,n=B(r),i=n.length;o<i;o++){let s=n[o],a=Object.getOwnPropertyDescriptors(s);for(let u=0,c=Object.keys(a),h=c.length,d,f;u<h;u++)if(d=c[u],f=a[d],t[d]!=!0&&(t[d]=!0,!0)){let m=e[o]||={};m[d]||=f}}return e};Object.assignDeep=function(l,e,t=!0){for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++){if(i=o[r],s=e[i],s==null)continue;let a=l[i];typeof s=="object"&&a?Object.assignDeep(a,s,t):t?l[i]=s:l[i]??=s}return l};var fPo=Symbol(),Iye=class Iye{set[Nye](e){Object.defineProperty(this,Symbol.for("#matcher"),{value:e})}};E(Iye,fPo,"Function",1,Function);var T4t=Iye,mPo=Symbol(),Fye=class Fye{get path(){if(this.host)return this.href.replace(this.origin,"")}};E(Fye,mPo,"URL",1,URL);var O4t=Fye,$Po=Symbol(),Hye=class Hye{static async jszip(){return this[C4t]||=new Promise(async function(e){return e(globalThis.JSZip||=(await import("https://esm.sh/jszip")).default)}),await this[C4t],new globalThis.JSZip}throttled(e,t=100,r=10*1e3){let o,n,i=function(){return clearTimeout(n),n=null,o.last=null,e()};return o=function(s){clearTimeout(n);let a=o.delay;if(typeof s=="number"){if(a=o.delay=s,!n)return}else{let u=o.last??=Date.now(),c=Date.now()-u;a=Math.min(a,Math.max(0,r-c))}return n=setTimeout(i,a)},o.delay=t,o.cancel=function(){return clearTimeout(n),o.last=null},o}isPlainObject(e){return typeof e=="object"&&e&&Object.getPrototypeOf(e)==Object.prototype}async stop(e=5*1e3){await this.sleep(e);debugger}time(e,t=""){let r=globalThis.performance.now(),o=e(),n=globalThis.performance.now();return console.log("time("+t+") took "+(n-r)+"ms"),o}test(e,t,r){let o="Utils.test",n=1,i;p(e,Function)?i=e:p(t,Function)?(o=e,i=t):p(r,Function)&&(o=e,n=t,i=r),console.group(""+o+":");let s=globalThis.performance.now();for(let a=n,u=0,c=a-u;c>0?u<=a:u>=a;c>0?u++:u--)i();return console.log(""+(globalThis.performance.now()-s)+`ms
`),console.groupEnd()}ok(e,t){return t==null?this.assert.ok(e):this.assert.deepStrictEqual(e,t)}nok(e,t){return t==null?this.assert.ok(!e):this.assert.notDeepStrictEqual(e,t)}sleep(e=0,t){return new Promise(function(r){return setTimeout(function(){return t&&t(),r(!0)},e)})}random(e=0,t=1){return e+Math.random()*(t-e)}get rate_limited(){return S4t}};E(Hye,$Po,"OPUtils",0);var FJ=Hye;globalThis.OPUtils=FJ;globalThis.Utils=new FJ;var yPo=Symbol(),Bye=class Bye{[Nye](e){var t;return(t=e==null?void 0:e.match)==null?void 0:t.call(e,this)}};E(Bye,yPo,"RegExp",1,RegExp);var R4t=Bye,bPo=Symbol(),Vye=class Vye{get promise(){let e=+this-Date.now();return globalThis.sleep(Math.max(e,0))}get age(){return Date.now()-+this}get future(){return this.age<0}get past(){return this.age>0}add(e){return new Date(this.getTime()+e)}sub(e){return new Date(this.getTime()-e)}get optime(){return Math.min(Math.round(Number(this)/1e3),2147483646)}get asdatestr(){return""+this.getFullYear()+"-"+(this.getMonth()+1).toString().padStart(2,"0")+"-"+this.getDate().toString().padStart(2,"0")}get aslocale(){return""+this.toLocaleString()}};E(Vye,bPo,"Date",1,Date);var M4t=Vye,gPo=Symbol(),zye=class zye{get optime(){return Math.min(Math.round(this/1e3),2147483646)}get date(){return new Date(this)}get ago(){return new Date(Date.now()-this)}bench(e){let t=globalThis.performance.now(),r=0,o=this;for(;r<o;)e(r++);let n=globalThis.performance.now()-t;return[n,n/o]}};E(zye,gPo,"Number",1,Number);var L4t=zye;RR[W4t]??={};RR[Mye]??={};var kPo=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_Po=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i,xPo=Symbol(),qye=class qye{get hex(){return Array.from(this).map(function(e){return e.toString(16).padStart(2,"0")}).join("")}};E(qye,xPo,"Uint8Array",1,Uint8Array);var D4t=qye,vPo=Symbol(),Wye=class Wye{get hex(){return new Uint8Array(this).hex}};E(Wye,vPo,"ArrayBuffer",1,ArrayBuffer);var N4t=Wye,wPo=Symbol(),Zye=class Zye{nthIndexOf(e,t=0){if(t>=0){let r=-1;for(;t-->=0;){if(r=this.indexOf(e,r+1),r==-1)return-1;t>=0&&(r+=e.length-1)}return r}else{let r=this.length;for(;t++<0;){if(r=this.lastIndexOf(e,r-1),r==-1)return-1;t<0&&(r-=e.length-1)}return r}}indicesOf(e){let t=[],r=0;for(;r>=0&&r<this.length;){let o=this.indexOf(e,r);if(o>=0)t.push(o),r=o+e.length;else break}return t}get upper(){return this.toUpperCase()}get lower(){return this.toLowerCase()}get upper(){return Ye(this.upper,this)}get lower(){return Ye(this.lower,this)}get email(){return kPo.test(this)}get url(){return _Po.test(this)}fspathRegex(){let e=String(this),t=RR[Mye][e];if(t)return t;let r=e.replace(/([.+^${}()|[\]\\])/g,"\\$1");return r=r.replace(/\*/g,".*").replace(/\?/g,"."),Rye(r,-1)=="/"&&(r=r.slice(0,-1)),RR[Mye][e]=new RegExp("^"+r+"$")}hassubseq(e){let t=this,r=0,o=-1,n;for(;n=e[r++];)if(Ye(o=t.indexOf(n,o+1),-1))return!1;return!0}get tojs(){return this.replace(/|||/g,function(e){return{:"-",:"?",:"#",:"@"}[e]})}get toimba(){return this.replace(/-|\?|#|@/g,function(e){return{"-":"","?":"","#":"","@":""}[e]})}get tojsidentifier(){return this.replace(/-|\?|#|@/g,function(e){return{"-":"","?":"","#":"","@":""}[e]})}get toimbaidentifier(){return this.replace(/|||/g,function(e){return{:"-",:"?",:"#",:"@"}[e]})}pluralize(e=0){let t=dPo[this]||=(this+"s").replace(/ss$/,"s").replace(/ys$/,"ies");return e==1?this:t}tableize(){return this.pluralize().toLowerCase()}humanize(){let e=this,t=RR[W4t];return t[e]?t[e]:(e=e.toimbaidentifier,e=e.replace(/\$/g,"").replace("___","..."),e=e.replace(/(_|^||-)(\w)/gu,function(r,o,n){return(o?" ":"")+n.toUpperCase()}),e=e.replace(/\s(in|to|for|is|and|or)\s/gi,function(r){return r.toLowerCase()}),t[e]=e)}get az(){return this.replace(/[^a-z]+/gi," ")}strip(e){return typeof e!="string"?this.trim():this.stripstart(e).stripend(e)}stripstart(e){return typeof e!="string"?this.trimStart():this.startsWith(e)?this.slice(e.len).stripstart(e):this}stripend(e){return typeof e!="string"?this.trimEnd():this.endsWith(e)?this.slice(0,this.len-e.len).stripend(e):this}get lstrip(){return this.stripstart}get rstrip(){return this.stripend}get len(){return this.length}async toclipboard(){try{return await globalThis.navigator.clipboard.writeText(this),OP.toast("Copied to clipboard")}catch(e){return OP.toast("Unable to copy text to clipboard"),console.error(e)}}};E(Zye,wPo,"String",1,String);var I4t=Zye,SPo=Symbol(),Gye=class Gye{static date(e){var t=gt(this);return typeof e=="number"&&(e=new Date(e)),t[j4t]??=new Intl.DateTimeFormat("en-GB",{dateStyle:"full"}),t[j4t].format(e)}static"0:00"(e){var t=gt(this),r,o,n,i;t[A4t]??={};let s=Math.round(e/1e3);return t[A4t][s]||=(r=s%60,o=Math.floor(s/60)%60,n=Math.floor(s/3600),i=""+o+":"+(r>9?r:"0"+r),n&&(i=o>9?n+":"+i:n+":0"+i),i)}static hrs(e){var t=gt(this);t[U4t]??={};let r=Math.round(e/6e4),o=r/60;return t[U4t][r]||=o<2?r.floor()+" min":o.round(.1)+" hrs"}static ago(e){var t=gt(this);t[P4t]??={},p(e,Date)&&(e=+e);let r=OP.now-Math.round(e/1e3),o=Math.floor(r/60),n=Math.floor(r/3600),i=Math.floor(r/84600),s=Math.floor(i/365),a=Math.floor(i/30),u=Math.floor(i/7),c=" ago",h=i>0?t[P4t]:{};return h[r]||=s==1?""+s+" year"+c:s>1?""+s+" years"+c:a==1?""+a+" month"+c:a>1?""+a+" months"+c:u==1?""+u+" week"+c:u>1?""+u+" weeks"+c:i==1?""+i+" day"+c:i>1?""+i+" days"+c:n==1?""+n+" hour"+c:n?""+n+" hours"+c:o>0?""+o+" min"+c:"just now"}};E(Gye,SPo,"OPFormat",0);var Lye=Gye;globalThis.OPFormat=Lye;var CPo=Symbol(),Yye=class Yye{randomize(e=Number(this)){return this+(Math.random()*e*2-e).round()}min(...e){return Math.min(this,...e)}max(...e){return Math.max(this,...e)}get asmbstring(){return""+(+this/(1024*1024)).toFixed(2)+"mb"}get assizestring(){let e=this/1024,t=e/1024,r=t/1024;return r>1?r.toFixed(2)+"GB":t>1?t.toFixed(2)+"MB":Math.round(e)+"KB"}get asdurationstr(){let e=this.round(),r=(+this/1e3).round()/60,o=r/60;return o<2?r.floor()+" min":o.round(.1)+" hrs"}get aslongdurationstr(){let t=(+this/1e3).round()/60,r=t/60;return r<2?t.floor()+" minutes":r.round(.1)+" hours"}get aspercentstr(){return this.clamp(0,100).round()+"%"}get aselapsedstr(){let e=+this,t=Math.floor(e%6e4/1e3),r=Math.floor((e-t*1e3)/6e4),o=0,n=0,i=0,s=0,a=r,u=r/60,c,h="ago";return t==60&&(t=0,r++),r>=60&&(o=Math.floor(r/60),r=r%60),o>=24&&(n=Math.floor(o/24),o=o%24),n>=30&&(i=Math.floor(n/30),n=n%30),i>=12&&(s=Math.floor(i/12),i=i%12),s==1?c=""+s+" year "+h:s>1?c=""+s+" years "+h:i==1?c=""+i+" month "+h:i>1?c=""+i+" months "+h:n==1?c=""+n+" day "+h:n>1?c=""+n+" days "+h:o==1?c=""+o+" hour "+h:o?c=""+o+" hours "+h:r>0?c=""+r+" min "+h:c="just now",c}get optimeagostr(){let e=+this*1e3;return(Date.now()-e).aselapsedstr}};E(Yye,CPo,"Number",1,Number);var F4t=Yye,EPo=Symbol(),Xye=class Xye{[Symbol.match](e){return this.length?this.some(function(t){return t[Symbol.match](e)}):!0}refine(e){var t,r;return this.filter(((r=(t=e[Nye])==null?void 0:t.bind)==null?void 0:r.call(t,e))||e)}only(...e){let t=this;for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r],s=i.prototype?function(a){return p(a,i)}:i;t=t.filter(s)}return t}groupby(e){var r,o;let t=new Map;if(typeof e=="string"){let n=e;e=function(i){return i[n]}}for(let n=0,i=B(this),s=i.length;n<s;n++){let a=i[n],u=e(a);(o=(r=t.get(u))==null?void 0:r.push)!=null&&o.call(r,a)||t.set(u,[a])}return t}get remove(){return this.delete}get len(){return this.length}toggle(e,t=!1,r=!0){let o=this.has(e);return t?o&&r?this.delete(e):this.add(e):o&&this.length>1&&r?this.delete(e):o||this.add(e),this}asc(e,t=!1){return this.ordered(e,"asc",t)}desc(e,t=!1){return this.ordered(e,"desc",t)}after(e,t=!1){let r=this.indexOf(e);return r>=0?this.at(r+1)||(t?this.at(0):null):null}before(e,t=!1){let r=this.indexOf(e);return r>0||t&&r==0?this.at(r-1):null}zorder(e,t={}){let r=this.ordered(e),o,n,i,s;if(t.before)n=t.before,o=r[r.indexOf(n)-1],s=n[e],i=o?o[e]:s-OP_POS_GAP*2;else if(t.after)o=t.after,n=r[r.indexOf(o)+1],i=o[e],s=n?n[e]:i+OP_POS_GAP*2;else{if(t.start)return r[0]?r[0][e]-OP_POS_GAP*3:0;if(t.end)return Rye(r,-1)?Rye(r,-1)[e]+OP_POS_GAP*3:0}let a=s-i;return i+(a*.5).randomize(a*.2).round()}ordered(e,t="asc",r=!1){let o=this.slice(0),n,i,s=t=="desc"?-1:1;if(p(e,Function)&&(i=e),r){let a=new Map,u;o=o.filter(function(c){return u=i?i(c):c[e],u==null?!1:a.set(c,u)}),e=a}return o.sort(function(a,u){let c=a,h=u;return typeof e=="string"?(c=a[e],h=u[e]):i?(c=i(a),h=i(u)):p(e,Map)?(c=e.get(a),h=e.get(u)):e&&(c=e[a],h=e[u]),c==null&&(c=0),h==null&&(h=0),c>h?s:c==h?0:-s}),o}uniq(e){if(!e)return Array.from(new Set(this));let t=new Set;return this.filter(function(r){let o=e(r);if(!t.has(o))return t.add(o),!0})}sum(e){let t=e?this.map(e):this,r=0;for(let o=0,n=B(t),i=n.length;o<i;o++){let s=n[o];r+=s||0}return r}avg(e){return this.sum(e)/(this.length||1)}compact(e=null){let t=this;return typeof e=="string"?t=t.map(function(r){return r&&r[e]}):p(e,Function)&&(t=t.map(e)),t.filter(function(r){return r!=null})}};E(Xye,EPo,"Array",1,Array);var H4t=Xye,jPo=Symbol(),Kye=class Kye{get remove(){return this.delete}get len(){return this.size}toggle(e,t=!1,r=!0){let o=this.has(e);return t?o&&r?this.delete(e):this.add(e):o&&this.length>1&&r?this.delete(e):o||this.add(e),this}};E(Kye,jPo,"Set",1,Set);var B4t=Kye,APo=Symbol(),Jye=class Jye{change(e,t){return this.get(e)===t?!1:(this.set(e,t),!0)}};E(Jye,APo,"Map",1,Map);var V4t=Jye,z4t=Symbol(),Qye=class Qye extends Promise{get due(){return!this.met}get met(){return this.resolved||this.rejected}get resolved(){return!!this[Oye]}get rejected(){return!!this[E4t]}timeout(e){return this.resolved?this:Promise.race([this,Utils.sleep(e)])}constructor(e,t=null){var r;let o,n;super(function(i,s){return o=i,n=s}),r=this,this.resolve=function(){if(r[Oye]!=!0&&(r[Oye]=!0,!0))return o(...arguments)},this.reject=function(){return r[E4t]=!0,n(...arguments)},typeof e=="function"&&e.call(t??this,this.resolve,this.reject),re(this,z4t)}};E(Qye,z4t,"Vow",16);var Dye=Qye;globalThis.Vow=Dye;var UPo=Symbol(),ebe=class ebe{timeout(e){return Promise.race([this,Utils.sleep(e)])}};E(ebe,UPo,"Promise",1,Promise);var q4t=ebe;URL.encode=function(l,...e){let t=l[0];for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r];t+=globalThis.encodeURIComponent(i)+l[r+1]}return t};T();oe();var N2={};Fme(N2,{CustomMapping:()=>rk,Deserializer:()=>KJ,Packr:()=>iTo,Serializers:()=>sTo,Unpackr:()=>nTo,bases:()=>fbe,bx58:()=>w5t,concat:()=>S5t,concatBuffers:()=>cTo,createUnpacker:()=>lTo,getType:()=>aTo,pack:()=>IR,packMultiple:()=>uTo,packr:()=>pbe,parse:()=>QJ,register:()=>Dc,stringify:()=>FR,unpack:()=>O3,unpackMultiple:()=>$be,unpackStream:()=>ybe,unpackr:()=>mbe});T();oe();T();T();T();var rbe;try{rbe=new TextDecoder}catch{}var Tt,kh,Ee=0;var n5t=[],obe=n5t,nbe=0,cn={},po,Q6,gh=0,Sf=0,Os,D2,ql=[],io,Z4t={useRecords:!1,mapsAsObjects:!0},MR=class{},sbe=new MR;sbe.name="MessagePack 0xC1";var ek=!1,i5t=2,G4t,Y4t,X4t;try{new Function("")}catch{i5t=1/0}var _h=class l{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number"),e.sharedKeyMap&&(this.intToKeyMap=[],e.sharedKeyMap instanceof Array&&e.sharedKeyMap.forEach((t,r)=>{this.intToKeyMap[r]=t}))),Object.assign(this,e)}unpack(e,t){if(Tt)return c5t(()=>(BJ(),this?this.unpack(e,t):l.prototype.unpack.call(Z4t,e,t)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Buffer<"u"?Buffer.from(e):new Uint8Array(e)),typeof t=="object"?(kh=t.end||e.length,Ee=t.start||0):(Ee=0,kh=t>-1?t:e.length),nbe=0,Sf=0,Q6=null,obe=n5t,Os=null,Tt=e;try{io=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw Tt=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof l){if(cn=this,this.structures)return po=this.structures,HJ(t);(!po||po.length>0)&&(po=[])}else cn=Z4t,(!po||po.length>0)&&(po=[]);return HJ(t)}unpackMultiple(e,t){let r,o=0;try{ek=!0;let n=e.length,i=this?this.unpack(e,n):zJ.unpack(e,n);if(t){if(t(i,o,Ee)===!1)return;for(;Ee<n;)if(o=Ee,t(HJ(),o,Ee)===!1)return}else{for(r=[i];Ee<n;)o=Ee,r.push(HJ());return r}}catch(n){throw n.lastPosition=o,n.values=r,n}finally{ek=!1,BJ()}}_mergeStructures(e,t){Y4t&&(e=Y4t.call(this,e)),e=e||[],Object.isFrozen(e)&&(e=e.map(r=>r.slice(0)));for(let r=0,o=e.length;r<o;r++){let n=e[r];n&&(n.isShared=!0,r>=32&&(n.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let o=e[r],n=t[r];n&&(o&&((e.restoreStructures||(e.restoreStructures=[]))[r]=o),e[r]=n)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function HJ(l){try{if(!cn.trusted&&!ek){let t=po.sharedLength||0;t<po.length&&(po.length=t)}let e;if(cn.randomAccessStructure&&Tt[Ee]<64&&Tt[Ee]>=32&&G4t?(e=G4t(Tt,Ee,kh,cn),Tt=null,!(l&&l.lazy)&&e&&(e=e.toJSON()),Ee=kh):e=Si(),Os&&(Ee=Os.postBundlePosition,Os=null),ek&&(po.restoreStructures=null),Ee==kh)po&&po.restoreStructures&&K4t(),po=null,Tt=null,D2&&(D2=null);else{if(Ee>kh)throw new Error("Unexpected end of MessagePack data");if(!ek){let t;try{t=JSON.stringify(e,(r,o)=>typeof o=="bigint"?`${o}n`:o).slice(0,100)}catch(r){t="(JSON view not available "+r+")"}throw new Error("Data read, but end of buffer not reached "+t)}}return e}catch(e){throw po&&po.restoreStructures&&K4t(),BJ(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||Ee>kh)&&(e.incomplete=!0),e}}function K4t(){for(let l in po.restoreStructures)po[l]=po.restoreStructures[l];po.restoreStructures=null}function Si(){let l=Tt[Ee++];if(l<160)if(l<128){if(l<64)return l;{let e=po[l&63]||cn.getStructures&&s5t()[l&63];return e?(e.read||(e.read=lbe(e,l&63)),e.read()):l}}else if(l<144)if(l-=128,cn.mapsAsObjects){let e={};for(let t=0;t<l;t++){let r=a5t();r==="__proto__"&&(r="__proto_"),e[r]=Si()}return e}else{let e=new Map;for(let t=0;t<l;t++)e.set(Si(),Si());return e}else{l-=144;let e=new Array(l);for(let t=0;t<l;t++)e[t]=Si();return cn.freezeData?Object.freeze(e):e}else if(l<192){let e=l-160;if(Sf>=Ee)return Q6.slice(Ee-gh,(Ee+=e)-gh);if(Sf==0&&kh<140){let t=e<16?abe(e):l5t(e);if(t!=null)return t}return ibe(e)}else{let e;switch(l){case 192:return null;case 193:return Os?(e=Si(),e>0?Os[1].slice(Os.position1,Os.position1+=e):Os[0].slice(Os.position0,Os.position0-=e)):sbe;case 194:return!1;case 195:return!0;case 196:if(e=Tt[Ee++],e===void 0)throw new Error("Unexpected end of buffer");return tbe(e);case 197:return e=io.getUint16(Ee),Ee+=2,tbe(e);case 198:return e=io.getUint32(Ee),Ee+=4,tbe(e);case 199:return T3(Tt[Ee++]);case 200:return e=io.getUint16(Ee),Ee+=2,T3(e);case 201:return e=io.getUint32(Ee),Ee+=4,T3(e);case 202:if(e=io.getFloat32(Ee),cn.useFloat32>2){let t=VJ[(Tt[Ee]&127)<<1|Tt[Ee+1]>>7];return Ee+=4,(t*e+(e>0?.5:-.5)>>0)/t}return Ee+=4,e;case 203:return e=io.getFloat64(Ee),Ee+=8,e;case 204:return Tt[Ee++];case 205:return e=io.getUint16(Ee),Ee+=2,e;case 206:return e=io.getUint32(Ee),Ee+=4,e;case 207:return cn.int64AsType==="number"?(e=io.getUint32(Ee)*4294967296,e+=io.getUint32(Ee+4)):cn.int64AsType==="string"?e=io.getBigUint64(Ee).toString():cn.int64AsType==="auto"?(e=io.getBigUint64(Ee),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=io.getBigUint64(Ee),Ee+=8,e;case 208:return io.getInt8(Ee++);case 209:return e=io.getInt16(Ee),Ee+=2,e;case 210:return e=io.getInt32(Ee),Ee+=4,e;case 211:return cn.int64AsType==="number"?(e=io.getInt32(Ee)*4294967296,e+=io.getUint32(Ee+4)):cn.int64AsType==="string"?e=io.getBigInt64(Ee).toString():cn.int64AsType==="auto"?(e=io.getBigInt64(Ee),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=io.getBigInt64(Ee),Ee+=8,e;case 212:if(e=Tt[Ee++],e==114)return o5t(Tt[Ee++]&63);if(e==99){let t=Tt[Ee++];return cn.intToKeyMap[t]}else{let t=ql[e];if(t)return t.read?(Ee++,t.read(Si())):t.noBuffer?(Ee++,t()):t(Tt.subarray(Ee,++Ee));throw new Error("Unknown extension "+e)}case 213:return e=Tt[Ee],e==114?(Ee++,o5t(Tt[Ee++]&63,Tt[Ee++])):T3(2);case 214:return T3(4);case 215:return T3(8);case 216:return T3(16);case 217:return e=Tt[Ee++],Sf>=Ee?Q6.slice(Ee-gh,(Ee+=e)-gh):TPo(e);case 218:return e=io.getUint16(Ee),Ee+=2,Sf>=Ee?Q6.slice(Ee-gh,(Ee+=e)-gh):OPo(e);case 219:return e=io.getUint32(Ee),Ee+=4,Sf>=Ee?Q6.slice(Ee-gh,(Ee+=e)-gh):RPo(e);case 220:return e=io.getUint16(Ee),Ee+=2,Q4t(e);case 221:return e=io.getUint32(Ee),Ee+=4,Q4t(e);case 222:return e=io.getUint16(Ee),Ee+=2,e5t(e);case 223:return e=io.getUint32(Ee),Ee+=4,e5t(e);default:if(l>=224)return l-256;if(l===void 0){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw new Error("Unknown MessagePack token "+l)}}}var PPo=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function lbe(l,e){function t(){if(t.count++>i5t){let o=l.read=new Function("r","return function(){return "+(cn.freezeData?"Object.freeze":"")+"({"+l.map(n=>n==="__proto__"?"__proto_:r()":PPo.test(n)?n+":r()":"["+JSON.stringify(n)+"]:r()").join(",")+"})}")(Si);return l.highByte===0&&(l.read=J4t(e,l.read)),o()}let r={};for(let o=0,n=l.length;o<n;o++){let i=l[o];i==="__proto__"&&(i="__proto_"),r[i]=Si()}return cn.freezeData?Object.freeze(r):r}return t.count=0,l.highByte===0?J4t(e,t):t}var J4t=(l,e)=>function(){let t=Tt[Ee++];if(t===0)return e();let r=l<32?-(l+(t<<5)):l+(t<<5),o=po[r]||s5t()[r];if(!o)throw new Error("Record id is not defined for "+r);return o.read||(o.read=lbe(o,l)),o.read()};function s5t(){let l=c5t(()=>(Tt=null,cn.getStructures()));return po=cn._mergeStructures(l,po)}var ibe=LR,TPo=LR,OPo=LR,RPo=LR;function LR(l){let e;if(l<16&&(e=abe(l)))return e;if(l>64&&rbe)return rbe.decode(Tt.subarray(Ee,Ee+=l));let t=Ee+l,r=[];for(e="";Ee<t;){let o=Tt[Ee++];if(!(o&128))r.push(o);else if((o&224)===192){let n=Tt[Ee++]&63;r.push((o&31)<<6|n)}else if((o&240)===224){let n=Tt[Ee++]&63,i=Tt[Ee++]&63;r.push((o&31)<<12|n<<6|i)}else if((o&248)===240){let n=Tt[Ee++]&63,i=Tt[Ee++]&63,s=Tt[Ee++]&63,a=(o&7)<<18|n<<12|i<<6|s;a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a)}else r.push(o);r.length>=4096&&(e+=Ts.apply(String,r),r.length=0)}return r.length>0&&(e+=Ts.apply(String,r)),e}function Q4t(l){let e=new Array(l);for(let t=0;t<l;t++)e[t]=Si();return cn.freezeData?Object.freeze(e):e}function e5t(l){if(cn.mapsAsObjects){let e={};for(let t=0;t<l;t++){let r=a5t();r==="__proto__"&&(r="__proto_"),e[r]=Si()}return e}else{let e=new Map;for(let t=0;t<l;t++)e.set(Si(),Si());return e}}var Ts=String.fromCharCode;function l5t(l){let e=Ee,t=new Array(l);for(let r=0;r<l;r++){let o=Tt[Ee++];if((o&128)>0){Ee=e;return}t[r]=o}return Ts.apply(String,t)}function abe(l){if(l<4)if(l<2){if(l===0)return"";{let e=Tt[Ee++];if((e&128)>1){Ee-=1;return}return Ts(e)}}else{let e=Tt[Ee++],t=Tt[Ee++];if((e&128)>0||(t&128)>0){Ee-=2;return}if(l<3)return Ts(e,t);let r=Tt[Ee++];if((r&128)>0){Ee-=3;return}return Ts(e,t,r)}else{let e=Tt[Ee++],t=Tt[Ee++],r=Tt[Ee++],o=Tt[Ee++];if((e&128)>0||(t&128)>0||(r&128)>0||(o&128)>0){Ee-=4;return}if(l<6){if(l===4)return Ts(e,t,r,o);{let n=Tt[Ee++];if((n&128)>0){Ee-=5;return}return Ts(e,t,r,o,n)}}else if(l<8){let n=Tt[Ee++],i=Tt[Ee++];if((n&128)>0||(i&128)>0){Ee-=6;return}if(l<7)return Ts(e,t,r,o,n,i);let s=Tt[Ee++];if((s&128)>0){Ee-=7;return}return Ts(e,t,r,o,n,i,s)}else{let n=Tt[Ee++],i=Tt[Ee++],s=Tt[Ee++],a=Tt[Ee++];if((n&128)>0||(i&128)>0||(s&128)>0||(a&128)>0){Ee-=8;return}if(l<10){if(l===8)return Ts(e,t,r,o,n,i,s,a);{let u=Tt[Ee++];if((u&128)>0){Ee-=9;return}return Ts(e,t,r,o,n,i,s,a,u)}}else if(l<12){let u=Tt[Ee++],c=Tt[Ee++];if((u&128)>0||(c&128)>0){Ee-=10;return}if(l<11)return Ts(e,t,r,o,n,i,s,a,u,c);let h=Tt[Ee++];if((h&128)>0){Ee-=11;return}return Ts(e,t,r,o,n,i,s,a,u,c,h)}else{let u=Tt[Ee++],c=Tt[Ee++],h=Tt[Ee++],d=Tt[Ee++];if((u&128)>0||(c&128)>0||(h&128)>0||(d&128)>0){Ee-=12;return}if(l<14){if(l===12)return Ts(e,t,r,o,n,i,s,a,u,c,h,d);{let f=Tt[Ee++];if((f&128)>0){Ee-=13;return}return Ts(e,t,r,o,n,i,s,a,u,c,h,d,f)}}else{let f=Tt[Ee++],m=Tt[Ee++];if((f&128)>0||(m&128)>0){Ee-=14;return}if(l<15)return Ts(e,t,r,o,n,i,s,a,u,c,h,d,f,m);let $=Tt[Ee++];if(($&128)>0){Ee-=15;return}return Ts(e,t,r,o,n,i,s,a,u,c,h,d,f,m,$)}}}}}function t5t(){let l=Tt[Ee++],e;if(l<192)e=l-160;else switch(l){case 217:e=Tt[Ee++];break;case 218:e=io.getUint16(Ee),Ee+=2;break;case 219:e=io.getUint32(Ee),Ee+=4;break;default:throw new Error("Expected string")}return LR(e)}function tbe(l){return cn.copyBuffers?Uint8Array.prototype.slice.call(Tt,Ee,Ee+=l):Tt.subarray(Ee,Ee+=l)}function T3(l){let e=Tt[Ee++];if(ql[e]){let t;return ql[e](Tt.subarray(Ee,t=Ee+=l),r=>{Ee=r;try{return Si()}finally{Ee=t}})}else throw new Error("Unknown extension type "+e)}var r5t=new Array(4096);function a5t(){let l=Tt[Ee++],e=cn.intToKeyMap;if(l<160&&e){if(l==158)return e[Tt[Ee++]]+"s";if(l>154){let u=[];for(;l>154;){let c=e[Tt[Ee++]];u.push(c),l--}return u.join("_")}return e[l]}if(l>=160&&l<192){if(l=l-160,Sf>=Ee)return Q6.slice(Ee-gh,(Ee+=l)-gh);if(!(Sf==0&&kh<180))return ibe(l)}else return Ee--,u5t(Si());let t=(l<<5^(l>1?io.getUint16(Ee):l>0?Tt[Ee]:0))&4095,r=r5t[t],o=Ee,n=Ee+l-3,i,s=0;if(r&&r.bytes==l){for(;o<n;){if(i=io.getUint32(o),i!=r[s++]){o=1879048192;break}o+=4}for(n+=3;o<n;)if(i=Tt[o++],i!=r[s++]){o=1879048192;break}if(o===n)return Ee=o,r.string;n-=3,o=Ee}for(r=[],r5t[t]=r,r.bytes=l;o<n;)i=io.getUint32(o),r.push(i),o+=4;for(n+=3;o<n;)i=Tt[o++],r.push(i);let a=l<16?abe(l):l5t(l);return a!=null?r.string=a:r.string=ibe(l)}function u5t(l){if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean"||typeof l=="bigint")return l.toString();if(l==null)return l+"";throw new Error("Invalid property type for record",typeof l)}var o5t=(l,e)=>{let t=Si().map(u5t),r=l;e!==void 0&&(l=l<32?-((e<<5)+l):(e<<5)+l,t.highByte=e);let o=po[l];return o&&(o.isShared||ek)&&((po.restoreStructures||(po.restoreStructures=[]))[l]=o),po[l]=t,t.read=lbe(t,r),t.read()};ql[0]=()=>{};ql[0].noBuffer=!0;ql[66]=l=>{let e=l.length,t=BigInt(l[0]&128?l[0]-256:l[0]);for(let r=1;r<e;r++)t<<=8n,t+=BigInt(l[r]);return t};var MPo={Error,TypeError,ReferenceError};ql[101]=()=>{let l=Si();return(MPo[l[0]]||Error)(l[1])};ql[105]=l=>{if(cn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=io.getUint32(Ee-4);D2||(D2=new Map);let t=Tt[Ee],r;t>=144&&t<160||t==220||t==221?r=[]:r={};let o={target:r};D2.set(e,o);let n=Si();return o.used?Object.assign(r,n):(o.target=n,n)};ql[112]=l=>{if(cn.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=io.getUint32(Ee-4),t=D2.get(e);return t.used=!0,t.target};ql[115]=()=>new Set(Si());var ube=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(l=>l+"Array"),LPo=typeof globalThis=="object"?globalThis:window;ql[116]=l=>{let e=l[0],t=ube[e];if(!t)throw new Error("Could not find typed array for code "+e);return new LPo[t](Uint8Array.prototype.slice.call(l,1).buffer)};ql[120]=()=>{let l=Si();return new RegExp(l[0],l[1])};var DPo=[];ql[98]=l=>{let e=(l[0]<<24)+(l[1]<<16)+(l[2]<<8)+l[3],t=Ee;return Ee+=e-l.length,Os=DPo,Os=[t5t(),t5t()],Os.position0=0,Os.position1=0,Os.postBundlePosition=Ee,Ee=t,Si()};ql[255]=l=>l.length==4?new Date((l[0]*16777216+(l[1]<<16)+(l[2]<<8)+l[3])*1e3):l.length==8?new Date(((l[0]<<22)+(l[1]<<14)+(l[2]<<6)+(l[3]>>2))/1e6+((l[3]&3)*4294967296+l[4]*16777216+(l[5]<<16)+(l[6]<<8)+l[7])*1e3):l.length==12?new Date(((l[0]<<24)+(l[1]<<16)+(l[2]<<8)+l[3])/1e6+((l[4]&128?-281474976710656:0)+l[6]*1099511627776+l[7]*4294967296+l[8]*16777216+(l[9]<<16)+(l[10]<<8)+l[11])*1e3):new Date("invalid");function c5t(l){X4t&&X4t();let e=kh,t=Ee,r=nbe,o=gh,n=Sf,i=Q6,s=obe,a=D2,u=Os,c=new Uint8Array(Tt.slice(0,kh)),h=po,d=po.slice(0,po.length),f=cn,m=ek,$=l();return kh=e,Ee=t,nbe=r,gh=o,Sf=n,Q6=i,obe=s,D2=a,Os=u,Tt=c,ek=m,po=h,po.splice(0,po.length,...d),cn=f,io=new DataView(Tt.buffer,Tt.byteOffset,Tt.byteLength),$}function BJ(){Tt=null,D2=null,po=null}function h5t(l){l.unpack?ql[l.type]=l.unpack:ql[l.type]=l}var VJ=new Array(147);for(let l=0;l<256;l++)VJ[l]=+("1e"+Math.floor(45.15-l*.30103));var zJ=new _h({useRecords:!1}),NPo=zJ.unpack,IPo=zJ.unpackMultiple,FPo=zJ.unpack,qJ={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},HPo=new Float32Array(1),q5n=new Uint8Array(HPo.buffer,0,4);var GJ;try{GJ=new TextEncoder}catch{}var YJ,cbe,XJ=typeof Buffer<"u",WJ=XJ?function(l){return Buffer.allocUnsafeSlow(l)}:Uint8Array,$5t=XJ?Buffer:Uint8Array,p5t=XJ?4294967296:2144337920,Fe,DR,kn,Se=0,Wl,Qn=null,BPo,VPo=21760,ZJ=Symbol.for("#packed"),zPo=/[\u0080-\uFFFF]/,Uw=Symbol("record-id"),tk=class extends _h{constructor(e){super(e),this.offset=0;let t,r,o,n,i,s=$5t.prototype.utf8Write?function(N,V){return Fe.utf8Write(N,V,4294967295)}:GJ&&GJ.encodeInto?function(N,V){return GJ.encodeInto(N,Fe.subarray(V)).written}:!1,a=this;e||(e={});let u=e&&e.sequential,c=e.structures||e.saveStructures,h=e.maxSharedStructures;if(h==null&&(h=c?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let d=e.maxOwnStructures;d==null&&(d=c?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let f=h>32||d+h>64,m=h+64,$=h+d+64;if($>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let b=[],g=0,x=0;if(e.sharedKeyMap instanceof Array){let N=this.keyToIntMap={};e.sharedKeyMap.forEach((V,W)=>{N[V]=W})}let k=this.keyToIntMap;this.pack=this.encode=function(N,V){if(N&&N[ZJ]instanceof Uint8Array)return N[ZJ];if(Fe||(Fe=new WJ(8192),kn=Fe.dataView||(Fe.dataView=new DataView(Fe.buffer,0,8192)),Se=0),Wl=Fe.length-10,Wl-Se<2048?(Fe=new WJ(Fe.length),kn=Fe.dataView||(Fe.dataView=new DataView(Fe.buffer,0,Fe.length)),Wl=Fe.length-10,Se=0):Se=Se+7&2147483640,r=Se,V&tTo&&(Se+=V&255),i=a.structuredClone?new Map:null,a.bundleStrings&&typeof N!="string"?(Qn=[],Qn.size=1/0):Qn=null,n=a.structures,n){n.uninitialized&&(n=a._mergeStructures(a.getStructures()));let z=n.sharedLength||0;if(z>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let q=0;q<z;q++){let Y=n[q];if(!Y)continue;let K,X=n.transitions;for(let Z=0,Q=Y.length;Z<Q;Z++){let ee=Y[Z];K=X[ee],K||(K=X[ee]=Object.create(null)),X=K}X[Uw]=q+64}this.lastNamedStructuresLength=z}u||(n.nextId=z+64)}o&&(o=!1);let W;try{a.randomAccessStructure&&N&&N.constructor&&N.constructor===Object?F(N):v(N);let z=Qn;if(Qn&&m5t(r,v,0),i&&i.idsToInsert){let q=i.idsToInsert.sort((Z,Q)=>Z.offset>Q.offset?1:-1),Y=q.length,K=-1;for(;z&&Y>0;){let Z=q[--Y].offset+r;Z<z.stringsPosition+r&&K===-1&&(K=0),Z>z.position+r?K>=0&&(K+=6):(K>=0&&(kn.setUint32(z.position+r,kn.getUint32(z.position+r)+K),K=-1),z=z.previous,Y++)}K>=0&&z&&kn.setUint32(z.position+r,kn.getUint32(z.position+r)+K),Se+=q.length*6,Se>Wl&&O(Se),a.offset=Se;let X=WPo(Fe.subarray(r,Se),q);return i=null,X}return a.offset=Se,V&b5t?(Fe.start=r,Fe.end=Se,Fe):Fe.subarray(r,Se)}catch(z){throw W=z,z}finally{if(n&&(_(),o&&a.saveStructures)){let z=n.sharedLength||0,q=Fe.subarray(r,Se),Y=ZPo(n,a);if(!W)return a.saveStructures(Y,Y.isCompatible)===!1?a.pack(N,V):(a.lastNamedStructuresLength=z,q)}V&eTo&&(Se=r)}};let _=()=>{x<10&&x++;let N=n.sharedLength||0;if(n.length>N&&!u&&(n.length=N),g>1e4)n.transitions=null,x=0,g=0,b.length>0&&(b=[]);else if(b.length>0&&!u){for(let V=0,W=b.length;V<W;V++)b[V][Uw]=0;b=[]}},S=N=>{var V=N.length;V<16?Fe[Se++]=144|V:V<65536?(Fe[Se++]=220,Fe[Se++]=V>>8,Fe[Se++]=V&255):(Fe[Se++]=221,kn.setUint32(Se,V),Se+=4);for(let W=0;W<V;W++)v(N[W])},v=N=>{Se>Wl&&(Fe=O(Se));var V=typeof N,W;if(V==="string"){let z=N.length,q=k&&k[N];if(q>0){Fe[Se++]=212,Fe[Se++]=99,Fe[Se++]=q;return}if(Qn&&z>=4&&z<4096){if((Qn.size+=z)>VPo){let Z,Q=(Qn[0]?Qn[0].length*3+Qn[1].length:0)+10;Se+Q>Wl&&(Fe=O(Se+Q));let ee;Qn.position?(ee=Qn,Fe[Se]=200,Se+=3,Fe[Se++]=98,Z=Se-r,Se+=4,m5t(r,v,0),kn.setUint16(Z+r-3,Se-r-Z)):(Fe[Se++]=214,Fe[Se++]=98,Z=Se-r,Se+=4),Qn=["",""],Qn.previous=ee,Qn.size=0,Qn.position=Z}let X=zPo.test(N);Qn[X?0:1]+=N,Fe[Se++]=193,v(X?-z:z);return}let Y;z<32?Y=1:z<256?Y=2:z<65536?Y=3:Y=5;let K=z*3;if(Se+K>Wl&&(Fe=O(Se+K)),z<64||!s){let X,Z,Q,ee=Se+Y;for(X=0;X<z;X++)Z=N.charCodeAt(X),Z<128?Fe[ee++]=Z:Z<2048?(Fe[ee++]=Z>>6|192,Fe[ee++]=Z&63|128):(Z&64512)===55296&&((Q=N.charCodeAt(X+1))&64512)===56320?(Z=65536+((Z&1023)<<10)+(Q&1023),X++,Fe[ee++]=Z>>18|240,Fe[ee++]=Z>>12&63|128,Fe[ee++]=Z>>6&63|128,Fe[ee++]=Z&63|128):(Fe[ee++]=Z>>12|224,Fe[ee++]=Z>>6&63|128,Fe[ee++]=Z&63|128);W=ee-Se-Y}else W=s(N,Se+Y);W<32?Fe[Se++]=160|W:W<256?(Y<2&&Fe.copyWithin(Se+2,Se+1,Se+1+W),Fe[Se++]=217,Fe[Se++]=W):W<65536?(Y<3&&Fe.copyWithin(Se+3,Se+2,Se+2+W),Fe[Se++]=218,Fe[Se++]=W>>8,Fe[Se++]=W&255):(Y<5&&Fe.copyWithin(Se+5,Se+3,Se+3+W),Fe[Se++]=219,kn.setUint32(Se,W),Se+=4),Se+=W}else if(V==="number")if(N>>>0===N)N<32||N<128&&this.useRecords===!1||N<64&&!this.randomAccessStructure?Fe[Se++]=N:N<256?(Fe[Se++]=204,Fe[Se++]=N):N<65536?(Fe[Se++]=205,Fe[Se++]=N>>8,Fe[Se++]=N&255):(Fe[Se++]=206,kn.setUint32(Se,N),Se+=4);else if(N>>0===N)N>=-32?Fe[Se++]=256+N:N>=-128?(Fe[Se++]=208,Fe[Se++]=N+256):N>=-32768?(Fe[Se++]=209,kn.setInt16(Se,N),Se+=2):(Fe[Se++]=210,kn.setInt32(Se,N),Se+=4);else{let z;if((z=this.useFloat32)>0&&N<4294967296&&N>=-2147483648){Fe[Se++]=202,kn.setFloat32(Se,N);let q;if(z<4||(q=N*VJ[(Fe[Se]&127)<<1|Fe[Se+1]>>7])>>0===q){Se+=4;return}else Se--}Fe[Se++]=203,kn.setFloat64(Se,N),Se+=8}else if(V==="object"||V==="function")if(!N)Fe[Se++]=192;else{if(i){let q=i.get(N);if(q){if(!q.id){let Y=i.idsToInsert||(i.idsToInsert=[]);q.id=Y.push(q)}Fe[Se++]=214,Fe[Se++]=112,kn.setUint32(Se,q.id),Se+=4;return}else i.set(N,{offset:Se-r})}let z=N.constructor;if(z===Object)U(N);else if(z===Array)S(N);else if(z===Map)if(this.mapAsEmptyObject)Fe[Se++]=128;else{W=N.size,W<16?Fe[Se++]=128|W:W<65536?(Fe[Se++]=222,Fe[Se++]=W>>8,Fe[Se++]=W&255):(Fe[Se++]=223,kn.setUint32(Se,W),Se+=4);for(let[q,Y]of N)v(q),v(Y)}else{for(let q=0,Y=YJ.length;q<Y;q++){let K=cbe[q];if(N instanceof K){let X=YJ[q];if(X.write){X.type&&(Fe[Se++]=212,Fe[Se++]=X.type,Fe[Se++]=0);let ne=X.write.call(this,N);ne===N?Array.isArray(N)?S(N):U(N):v(ne);return}let Z=Fe,Q=kn,ee=Se;Fe=null;let te;try{te=X.pack.call(this,N,ne=>(Fe=Z,Z=null,Se+=ne,Se>Wl&&O(Se),{target:Fe,targetView:kn,position:Se-ne}),v)}finally{Z&&(Fe=Z,kn=Q,Se=ee,Wl=Fe.length-10)}te&&(te.length+Se>Wl&&O(te.length+Se),Se=qPo(te,Fe,Se,X.type));return}}if(Array.isArray(N))S(N);else{if(N.toJSON){let q=N.toJSON();if(q!==N)return v(q)}if(V==="function")return v(this.writeFunction&&this.writeFunction(N));U(N)}}}else if(V==="boolean")Fe[Se++]=N?195:194;else if(V==="bigint"){if(N<BigInt(1)<<BigInt(63)&&N>=-(BigInt(1)<<BigInt(63)))Fe[Se++]=211,kn.setBigInt64(Se,N);else if(N<BigInt(1)<<BigInt(64)&&N>0)Fe[Se++]=207,kn.setBigUint64(Se,N);else if(this.largeBigIntToFloat)Fe[Se++]=203,kn.setFloat64(Se,Number(N));else if(this.useBigIntExtension&&N<2n**1023n&&N>-(2n**1023n)){Fe[Se++]=199,Se++,Fe[Se++]=66;let z=[],q;do{let Y=N&0xffn;q=(Y&0x80n)===(N<0n?0x80n:0n),z.push(Y),N>>=8n}while(!((N===0n||N===-1n)&&q));Fe[Se-2]=z.length;for(let Y=z.length;Y>0;)Fe[Se++]=Number(z[--Y]);return}else throw new RangeError(N+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension or set largeBigIntToFloat to convert to float-64");Se+=8}else if(V==="undefined")this.encodeUndefinedAsNil?Fe[Se++]=192:(Fe[Se++]=212,Fe[Se++]=0,Fe[Se++]=0);else throw new Error("Unknown type: "+V)},C=this.variableMapSize||this.coercibleKeyAsNumber?N=>{let V=Object.keys(N),W=V.length,z=N[ZJ];if(z!==void 0){if(z===null)z={position:Se-r,start:r};else if(z instanceof Uint8Array){let K=Se+z.length;K+1>Wl&&(Fe=O(K)),Fe.set(z,Se),Se+=z.length;return}}W<16?Fe[Se++]=128|W:W<65536?(Fe[Se++]=222,Fe[Se++]=W>>8,Fe[Se++]=W&255):(Fe[Se++]=223,kn.setUint32(Se,W),Se+=4);let q,Y;if(this.coercibleKeyAsNumber)for(let K=0;K<W;K++){q=V[K];let X=Number(q);v(isNaN(X)?q:X),v(N[q])}else for(let K=0;K<W;K++){if(q=V[K],Y=k?k[q]:null,Y==null&&k){let X=q.length;if(q[X-1]==="s"&&(Y=k[q.slice(0,-1)],Y!=null&&(Fe[Se++]=158)),Y==null&&q.includes("_")){let Z=0,Q=q.split("_"),ee=Q.length,te=Q;for(let ne=0;ne<ee;ne++){let ie=k[Q[ne]];ie!=null?Q[ne]=ie:te=null}if(te){Fe[Se++]=154+ee;let ne=0;for(;ne<ee-1;)Fe[Se++]=te[ne++];Y=te[ne]}}}Y!=null&&Y<160?Fe[Se++]=Y:v(Y??q),v(N[q])}if(z){let K=Uint8Array.from(Fe.subarray(z.position+r,Se));N[ZJ]=K}}:N=>{Fe[Se++]=222;let V=Se-r;Se+=2;let W=0;for(let z in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(z))&&(v(z),v(N[z]),W++);Fe[V+++r]=W>>8,Fe[V+r]=W&255},j=this.useRecords===!1?C:e.progressiveRecords&&!f?N=>{let V,W=n.transitions||(n.transitions=Object.create(null)),z=Se++-r,q;for(let Y in N)if(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(Y)){if(V=W[Y],V)W=V;else{let K=Object.keys(N),X=W;W=n.transitions;let Z=0;for(let Q=0,ee=K.length;Q<ee;Q++){let te=K[Q];V=W[te],V||(V=W[te]=Object.create(null),Z++),W=V}z+r+1==Se?(Se--,L(W,K,Z)):I(W,K,z,Z),q=!0,W=X[Y]}v(N[Y])}if(!q){let Y=W[Uw];Y?Fe[z+r]=Y:I(W,Object.keys(N),z,0)}}:N=>{let V,W=n.transitions||(n.transitions=Object.create(null)),z=0;for(let Y in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(Y))&&(V=W[Y],V||(V=W[Y]=Object.create(null),z++),W=V);let q=W[Uw];q?q>=96&&f?(Fe[Se++]=((q-=96)&31)+96,Fe[Se++]=q>>5):Fe[Se++]=q:L(W,W.__keys__||Object.keys(N),z);for(let Y in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(Y))&&v(N[Y])},P=typeof this.useRecords=="function"&&this.useRecords,U=P?N=>{P(N)?j(N):C(N)}:j,O=N=>{let V;if(N>16777216){if(N-r>p5t)throw new Error("Packed buffer would be larger than maximum buffer size");V=Math.min(p5t,Math.round(Math.max((N-r)*(N>67108864?1.25:2),4194304)/4096)*4096)}else V=(Math.max(N-r<<2,Fe.length-1)>>12)+1<<12;let W=new WJ(V);return kn=W.dataView||(W.dataView=new DataView(W.buffer,0,V)),N=Math.min(N,Fe.length),Fe.copy?Fe.copy(W,0,r,N):W.set(Fe.slice(r,N)),Se-=r,r=0,Wl=W.length-10,Fe=W},L=(N,V,W)=>{let z=n.nextId;z||(z=64),z<m&&this.shouldShareStructure&&!this.shouldShareStructure(V)?(z=n.nextOwnId,z<$||(z=m),n.nextOwnId=z+1):(z>=$&&(z=m),n.nextId=z+1);let q=V.highByte=z>=96&&f?z-96>>5:-1;N[Uw]=z,N.__keys__=V,n[z-64]=V,z<m?(V.isShared=!0,n.sharedLength=z-63,o=!0,q>=0?(Fe[Se++]=(z&31)+96,Fe[Se++]=q):Fe[Se++]=z):(q>=0?(Fe[Se++]=213,Fe[Se++]=114,Fe[Se++]=(z&31)+96,Fe[Se++]=q):(Fe[Se++]=212,Fe[Se++]=114,Fe[Se++]=z),W&&(g+=x*W),b.length>=d&&(b.shift()[Uw]=0),b.push(N),v(V))},I=(N,V,W,z)=>{let q=Fe,Y=Se,K=Wl,X=r;Fe=DR,Se=0,r=0,Fe||(DR=Fe=new WJ(8192)),Wl=Fe.length-10,L(N,V,z),DR=Fe;let Z=Se;if(Fe=q,Se=Y,Wl=K,r=X,Z>1){let Q=Se+Z-1;Q>Wl&&O(Q);let ee=W+r;Fe.copyWithin(ee+Z,ee+1,Se),Fe.set(DR.slice(0,Z),ee),Se=Q}else Fe[W+r]=DR[0]},F=N=>{let V=BPo(N,Fe,r,Se,n,O,(W,z,q)=>{if(q)return o=!0;Se=z;let Y=Fe;return v(W),_(),Y!==Fe?{position:Se,targetView:kn,target:Fe}:Se},this);if(V===0)return U(N);Se=V}}useBuffer(e){Fe=e,kn=new DataView(Fe.buffer,Fe.byteOffset,Fe.byteLength),Se=0}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}};cbe=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,MR];YJ=[{pack(l,e,t){let r=l.getTime()/1e3;if((this.useTimestamp32||l.getMilliseconds()===0)&&r>=0&&r<4294967296){let{target:o,targetView:n,position:i}=e(6);o[i++]=214,o[i++]=255,n.setUint32(i,r)}else if(r>0&&r<4294967296){let{target:o,targetView:n,position:i}=e(10);o[i++]=215,o[i++]=255,n.setUint32(i,l.getMilliseconds()*4e6+(r/1e3/4294967296>>0)),n.setUint32(i+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return e(0),t(this.onInvalidDate());let{target:o,targetView:n,position:i}=e(3);o[i++]=212,o[i++]=255,o[i++]=255}else{let{target:o,targetView:n,position:i}=e(15);o[i++]=199,o[i++]=12,o[i++]=255,n.setUint32(i,l.getMilliseconds()*1e6),n.setBigInt64(i+4,BigInt(Math.floor(r)))}}},{pack(l,e,t){if(this.setAsEmptyObject)return e(0),t({});let r=Array.from(l),{target:o,position:n}=e(this.moreTypes?3:0);this.moreTypes&&(o[n++]=212,o[n++]=115,o[n++]=0),t(r)}},{pack(l,e,t){let{target:r,position:o}=e(this.moreTypes?3:0);this.moreTypes&&(r[o++]=212,r[o++]=101,r[o++]=0),t([l.name,l.message])}},{pack(l,e,t){let{target:r,position:o}=e(this.moreTypes?3:0);this.moreTypes&&(r[o++]=212,r[o++]=120,r[o++]=0),t([l.source,l.flags])}},{pack(l,e){this.moreTypes?d5t(l,16,e):f5t(XJ?Buffer.from(l):new Uint8Array(l),e)}},{pack(l,e){let t=l.constructor;t!==$5t&&this.moreTypes?d5t(l,ube.indexOf(t.name),e):f5t(l,e)}},{pack(l,e){let{target:t,position:r}=e(1);t[r]=193}}];function d5t(l,e,t,r){let o=l.byteLength;if(o+1<256){var{target:n,position:i}=t(4+o);n[i++]=199,n[i++]=o+1}else if(o+1<65536){var{target:n,position:i}=t(5+o);n[i++]=200,n[i++]=o+1>>8,n[i++]=o+1&255}else{var{target:n,position:i,targetView:s}=t(7+o);n[i++]=201,s.setUint32(i,o+1),i+=4}n[i++]=116,n[i++]=e,n.set(new Uint8Array(l.buffer,l.byteOffset,l.byteLength),i)}function f5t(l,e){let t=l.byteLength;var r,o;if(t<256){var{target:r,position:o}=e(t+2);r[o++]=196,r[o++]=t}else if(t<65536){var{target:r,position:o}=e(t+3);r[o++]=197,r[o++]=t>>8,r[o++]=t&255}else{var{target:r,position:o,targetView:n}=e(t+5);r[o++]=198,n.setUint32(o,t),o+=4}r.set(l,o)}function qPo(l,e,t,r){let o=l.length;switch(o){case 1:e[t++]=212;break;case 2:e[t++]=213;break;case 4:e[t++]=214;break;case 8:e[t++]=215;break;case 16:e[t++]=216;break;default:o<256?(e[t++]=199,e[t++]=o):o<65536?(e[t++]=200,e[t++]=o>>8,e[t++]=o&255):(e[t++]=201,e[t++]=o>>24,e[t++]=o>>16&255,e[t++]=o>>8&255,e[t++]=o&255)}return e[t++]=r,e.set(l,t),t+=o,t}function WPo(l,e){let t,r=e.length*6,o=l.length-r;for(;t=e.pop();){let n=t.offset,i=t.id;l.copyWithin(n+r,n,o),r-=6;let s=n+r;l[s++]=214,l[s++]=105,l[s++]=i>>24,l[s++]=i>>16&255,l[s++]=i>>8&255,l[s++]=i&255,o=n}return l}function m5t(l,e,t){if(Qn.length>0){kn.setUint32(Qn.position+l,Se+t-Qn.position-l),Qn.stringsPosition=Se-l;let r=Qn;Qn=null,e(r[0]),e(r[1])}}function hbe(l){if(l.Class){if(!l.pack&&!l.write)throw new Error("Extension has no pack or write function");if(l.pack&&!l.type)throw new Error("Extension has no type (numeric code to identify the extension)");cbe.unshift(l.Class),YJ.unshift(l)}h5t(l)}function ZPo(l,e){return l.isCompatible=t=>{let r=!t||(e.lastNamedStructuresLength||0)===t.length;return r||e._mergeStructures(t),r},l}var y5t=new tk({useRecords:!1}),GPo=y5t.pack,YPo=y5t.pack;var{NEVER:XPo,ALWAYS:KPo,DECIMAL_ROUND:JPo,DECIMAL_FIT:QPo}=qJ,b5t=512,eTo=1024,tTo=2048;T();var v5t=q6(k5t()),JJ=["id","_r","_cre","_mod","_del","_rev","_pos","_pov","_bits","_","~00","~01","~02","~03","~04","~05","~06","~07","~08","~09","created_at","updated_at","modified_at","name","title","body","desc","description","email","alias","slug","hash","data","group","offset","entries","members","owner","owners","creator","at","user","users","item","items","options","label","labels","category","ref","note","on","sample","samples","list","parent","status","format","state","kind","type","privacy","visibility","draft","active","private","public","published","hidden","visible","disabled","enabled","expired","completed","done","started","ended","verified","listed","unlisted","secret","size","length","count","score","rating","value","level","quantity","amount","duration","density","ts","start","end","span","width","height","thumbnail","application/json","application/msgpack","application/octet-stream","application/vnd.op.msgpack","text/html","text/css","text/plain","text/javascript","image/jpeg","image/png","image/gif","image/webp","image/svg+xml","video/webm","font/woff","font/woff2","font/ttf","mp3","m4a","ogg","webm","webp","gif","png","audio","video","extension","visited","interacted","modified","edited","created","progress","session","target","object","has","is","by","via","in","last","first","max","min","most","pov","up","expanded","collapsed","rel","rect"];globalThis.OP_DATA_MIMETYPE="application/vnd.op.msgpack";var nTo=_h,iTo=tk,w5t=(0,v5t.default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),fbe={58:w5t},Pw=[],NR=null,Cu=null,rk={MESSAGE:2,STREAM:3,RESPONSE:4,OPObject:1,Message:2,OPPacket:3,OPData:5,Server:6,OPDataResponse:7,OPBinaryChunk:8,OPBinaryChunkRequest:10,OPDataRequest:13,OPHandshake:14,OPAssetUploaded:15,OPSocketSignal:16,OPSocketSync:17,OPSTREDIT:24,OPDELTA:25,OPSUBSTR:26,SiteManifest:30,[Error.name]:39,OPToast:40,OPPovRoles:41,OPDataUpdate:42,OPType:44,OPCustomChunk:45,OPChannelData:46,OPActionCall:47,OPPacketReply:48,OPAbortSignal:49,OPTestPacket:50,OPMessagePacket:51,OPPortMessage:52},pbe=new tk({sharedKeyMap:JJ,useRecords:!1,mapsAsObjects:!0,variableMapSize:!0}),mbe=new _h({sharedKeyMap:JJ,useRecords:!1,mapsAsObjects:!0,variableMapSize:!0,useTimestamp32:!0,copyBuffers:!0}),sTo={Object:{write:function(l,e,t){let r=l.constructor,o=r==null?void 0:r.serialize;if(p(o,Function))return o.serialize(l,t);let n={};for(let i=0,s=Object.keys(l),a=s.length,u,c;i<a;i++)u=s[i],c=l[u],n[u]=c;return n},read:function(l,e){let t=new e;return Object.assign(t,l),t}}};function lTo(l={}){return l={sharedKeyMap:JJ,useRecords:!1,mapsAsObjects:!0,variableMapSize:!0,useTimestamp32:!0,copyBuffers:!0,...l},new _h(l)}function Dc(l=null,e={}){let t=rk[l.name];if(!t)throw"cannot register msgpack extension without number";t&&(rk[t]=l);let r={Class:l,type:t};return p(l.pack,Function)&&p(l.unpack,Function)||(r.write=function(o){var n;return e.write?e.write(o,l,NR):((n=l==null?void 0:l.serialize)==null?void 0:n.call(l,o,NR))??o.id},r.read=function(o){var n;try{return e.read?e.read(o,l,Cu):((n=l==null?void 0:l.deserialize)==null?void 0:n.call(l,o,Cu))??new l(o,e,Cu)}catch(i){return console.error("error in msgpack register:",i,o)}},e.read?r.read=function(o){return e.read(o,l,Cu)}:l.deserialize&&(r.read=function(o){return l.deserialize(o,Cu)})),hbe(r)}var _5t=Symbol(),bbe=class bbe{constructor(e=null){this[A](e),re(this,_5t)}[A](e=null,t=!0,r=!0){var o;this.refs=e&&(o=e.refs)!==void 0?o:[]}};E(bbe,_5t,"Context",16);var dbe=bbe;function S5t(...l){let e=0;if(l.length==1)return l[0];for(let o=0,n=B(l),i=n.length;o<i;o++){let s=n[o];e+=s.length??s.byteLength}let t=0,r=new Uint8Array(e);for(let o=0,n=B(l),i=n.length;o<i;o++){let s=n[o];r.set(s,t),t+=s.length??s.byteLength}return r}function IR(l,e={},t=pbe){let r=NR;NR=e;let o=pbe.pack(l);return NR=r,o}function aTo(l){let e=l[0]==212?l[1]:null;return e&&rk[e]||null}function uTo(...l){let e=[];for(let t=0,r=B(l),o=r.length;t<o;t++){let n=r[t];e.push(IR(n))}return S5t(...e)}function O3(l,e={},t=mbe){let r=Cu;Pw.unshift(Cu=e),p(l,ArrayBuffer)&&(l=new Uint8Array(l));let o=t.unpack(l);return Pw.shift(),Cu=r,o}function FR(l,e=58){let t=IR(l);return fbe[e].encode(t)}function QJ(l,e=58){return typeof l=="string"&&(l=fbe[e].decode(l)),O3(l)}function $be(l,e={},t=mbe){let r=Cu;Pw.unshift(Cu=e),p(l,ArrayBuffer)&&(l=new Uint8Array(l));let o=t.unpackMultiple(l);return Pw.shift(),Cu=r,o}function cTo(...l){let e=0;if(l.length==1)return l[0];for(let o=0,n=B(l),i=n.length;o<i;o++){let s=n[o];e+=s.length}let t=0,r=new Uint8Array(e);for(let o=0,n=B(l),i=n.length;o<i;o++){let s=n[o];r.set(s,t),t+=s.length}return r}async function ybe(l,e){let t={};return p(l,globalThis.Request)&&(l=await l),p(l,globalThis.Response)&&(l=l.body),p(l.getReader,Function)&&(l=l.getReader()),new KJ(e,t).readStream(l)}var x5t=Symbol(),gbe=class gbe{constructor(e,t={}){this.handler=e,this.values=[],this.bytesRead=0,this.allBytes=[],this.stats={entries:0,chunks:[]},this.options=Object.assign({mapsAsObjects:!0,sharedKeyMap:JJ,useRecords:!1,variableMapSize:!0},t),this.state=new dbe,this.unpackr=new _h(this.options),this.rest=null,re(this,x5t)}async readStream(e){let t=Date.now();e.read||console.warn("cannot read",e);let r;for(;!(!(r=await e.read())||(r.value&&(this.allBytes.push(r.value),this.write(r.value)),Cr(),r.done)););return this}write(e){var t=this;let r=this.bytesRead,o={size:e.length,start:this.bytesRead,rest:null,error:null};this.bytesRead+=e.length,this.stats.chunks.push(o);let n=null,i=null;if(this.rest){let s=new Uint8Array(this.rest.byteLength+e.byteLength);s.set(this.rest,0),s.set(e,this.rest.byteLength),e=s,o.rest=this.rest,o.size=e.byteLength,this.rest=null}return k3(function(){try{Pw.unshift(t);let s=Cu;Cu=t.state;let a=0,u=100,c=null;if(t.unpackr.unpackMultiple(e,function(h,d,f){return t.stats.entries++,a++,i=h,t.handler(n=h,r+d,r+f,r),n=null}),Cu=s,Pw.shift(),c)return Cr(),setTimeout(function(){return t.write(e.slice(c))},0)}catch(s){o.error=s;let a=s.lastPosition;if(a==0,a!=null)return t.bytesRead=r+a,o.values=s.values,t.rest=e.slice(a);throw console.warn("error deserializing data",s,n,s.incomplete),s}finally{return}})}};E(gbe,x5t,"Deserializer",16);var KJ=gbe;var kbe=Symbol(),hTo=le("&.summary",globalThis,l=>l.summary),_be=Symbol.for("#unpack"),T5t=Symbol.for("#pack"),C5t=Symbol.for("#target"),k3n=console.log.bind(console),pTo=100;globalThis.OP_PLAIN_OBJECT=Symbol();var dTo=Symbol(),Hbe=class Hbe{static[Symbol.hasInstance](e){return typeof e=="object"&&e&&(Object.getPrototypeOf(e)==Object.prototype||e[OP_PLAIN_OBJECT])}};E(Hbe,dTo,"OPPlain",0);var HR=Hbe;globalThis.OPPlain=HR;var fTo=Symbol(),Bbe=class Bbe extends Array{static get[Symbol.species](){return Array}static serialize(e){return Array.from(e)}static deserialize(e){return this.of(...e)}static packed(...e){return OP.$pack(this.of(...e))}static inherited(e){let t;if(t=rk[e.name])return Dc(e)}};E(Bbe,fTo,"OPStruct",0);var I1=Bbe;globalThis.OPStruct=I1;var mTo=Symbol(),Vbe=class Vbe extends I1{get manifest(){return this[0]}};E(Vbe,mTo,"SiteManifest",0);var xbe=Vbe;globalThis.SiteManifest=xbe;var $To=Symbol(),zbe=class zbe extends I1{get session(){return this[0]}get server(){return this[1]}get client(){return this[2]}};E(zbe,$To,"OPHandshake",0);var vbe=zbe;globalThis.OPHandshake=vbe;var yTo=Symbol(),qbe=class qbe extends I1{get _pov(){return this[0]}get id(){return this[1]}get _roles(){return this[2]}get target(){return OP.get(this.id)}get pov(){return OP.get(this._pov)}commit(){let e=OP.$rolecache.set(this._pov,this.id,this._roles);if(e){e.added&&this.pov.$promote(e.added,this.target),e.removed&&this.pov.$demote(e.removed,this.target);try{this.target.$.data.$invalidate()}catch{}}return this}};E(qbe,yTo,"OPPovRoles",0);var wbe=qbe;globalThis.OPPovRoles=wbe;var bTo=Symbol(),Wbe=class Wbe extends I1{get id(){return this[0]}};E(Wbe,bTo,"OPDataRequest",0);var Sbe=Wbe;globalThis.OPDataRequest=Sbe;var gTo=Symbol(),Zbe=class Zbe extends I1{get value(){return this[0]}};E(Zbe,gTo,"OPDataResponse",0);var Cbe=Zbe;globalThis.OPDataResponse=Cbe;var kTo=Symbol(),Gbe=class Gbe extends I1{get value(){return this[0]}get id(){return this[1]||this.value.id}get rev(){return this[2]}};E(Gbe,kTo,"OPDataUpdate",0);var Ebe=Gbe;globalThis.OPDataUpdate=Ebe;var _To=Symbol(),Ybe=class Ybe extends I1{get first(){return this[0]}};E(Ybe,_To,"OPAssetUploaded",0);var jbe=Ybe;globalThis.OPAssetUploaded=jbe;var xTo=Symbol(),Xbe=class Xbe extends I1{get message(){return this[0]}get kind(){return this[1]}};E(Xbe,xTo,"OPToast",0);var Abe=Xbe;globalThis.OPToast=Abe;var E5t=Symbol(),Kbe=class Kbe{[A](e=null,t=!0,r=!0){var o;this.ref=e&&(o=e.ref)!==void 0?o:pTo++}get response(){return this.ref<0}$resolve(e){return this.result=e,this.$resolved&&this.$resolved(e),this.$promise=Promise.resolve(this.result)}$reject(e){return console.error("rejecting",e,e==null?void 0:e.stack),this.result=e,this.$rejected&&this.$rejected(e),this.$promise=Promise.reject(e)}static serialize(e){let t=e.ref;return t<0?[t,e.value]:[t,e.target,e.action,e.params]}static deserialize(e){if(e.length==2){let[t,r]=e;return new tQ({ref:t,value:r})}return new eQ({ref:e[0],target:e[1],action:e[2],params:e[3]})}constructor(e){Object.defineProperty(this,"src",{enumerable:!1,writable:!0}),this[A](e),re(this,E5t)}};E(Kbe,E5t,"Message",16);var F1=Kbe,vTo=Symbol(),Jbe=class Jbe extends F1{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.target=e&&(o=e.target)!==void 0?o:null,this.action=e&&(o=e.action)!==void 0?o:null,this.params=e&&(o=e.params)!==void 0?o:null}};E(Jbe,vTo,"RemoteCall",0);var eQ=Jbe;F1.Call=eQ;globalThis.OPMessage=F1;var wTo=Symbol(),Qbe=class Qbe extends F1{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.value=e&&(o=e.value)!==void 0?o:void 0}};E(Qbe,wTo,"Reply",0);var tQ=Qbe;F1.Reply=tQ;var STo=Symbol(),ege=class ege extends F1{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.target=e&&(o=e.target)!==void 0?o:null,this.action=e&&(o=e.action)!==void 0?o:null,this.params=e&&(o=e.params)!==void 0?o:null}then(e,t){var r=this;return this.$promise||=new Promise(function(o,n){return r.$resolved=o,r.$rejected=n}),this.$promise.then(e,t)}$resolve(e){return this.result=e,this.$resolved&&this.$resolved(e),this.$promise=Promise.resolve(e)}$reject(e){return console.error("rejecting",e,e==null?void 0:e.stack),this.result=e,this.$rejected&&this.$rejected(e),this.$promise=Promise.reject(e)}};E(ege,STo,"MessageRequest",0);var BR=ege;Dc(F1);globalThis.OPMessageRequest=BR;var j5t={},Tw=function(l,e){var t=gt(globalThis),r;t[kbe]??=new Map;let o=t[kbe].get(e);if(o||t[kbe].set(e,o={}),o[l])return o[l];r=[];for(let n=0,i=Object.keys(e),s=i.length,a,u;n<s;n++)if(a=i[n],u=e[a],typeof u=="number"&&l&u){r.push(a);continue}return o[l]=r,o[l]},CTo=Symbol(),tge=class tge{opflags(e=Vl){return Tw(this,e)}get opflagstr(){return Tw(this,Vl).join(" ")}get opobjectflags(){return Tw(this,Vl)}get opmodflags(){return Tw(this,Su)}get opapplyflags(){return Tw(this,Mn)}get oproleflags(){return Tw(this,_3)}get oprolestr(){let e=+this,t=j5t[e];return t??=j5t[e]=OPRole.all().filter(function(r){return(e&r)>0}).map(function(r){return r.name}).join(" ").toLowerCase(),t}};E(tge,CTo,"Number",1,Number);var A5t=tge;globalThis.OP_POS_GAP=1e6;if(G.LAE||localStorage.LAE){let l=Error;Error=function(e){let t=new l(e);return console.log("New Error created:".red,t),t}}var U5t=Symbol(),rQ=class rQ extends Error{static raise(e="",...t){throw new this(e,...t)}static[_be]([e,t,r]){let o=new this(t,r);return o.stack="",o}constructor(e,t=null){if(p(e,OPObject)&&(e=(()=>{try{return e.id}catch(r){return r}})()),typeof e=="string"&&/[\s,]/.test(e),p(e,HR)?super("",e):super(...arguments),p(t,HR))for(let r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],i!="cause"&&(this[i]=s);p(e,Error)&&(this.name=e.name,this.message=e.message,this.stack=e.stack),this.rewrite(e),re(this,U5t)}rewrite(){return!0}[T5t](){let e={};for(let t=this,r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],e[i]=s;return this.cause&&(e.cause=this.cause),[this.constructor.name,this.message,e]}get aslabel(){return""+this.name+" "+this.message}get kind(){return this.constructor.name}get causes(){return p(this.cause,Array)?this.cause:this.cause?[this.cause]:[]}get target(){if(this[C5t])return this[C5t];if(typeof this.message=="string"&&!/[\s,]/.test(this.message))return OP.get(this.message)}set target(e){}get summary(){let e=this.causes.filter(t=>p(t,rQ)).map(hTo).join(",");return e?""+this.kind+" "+this.message+" ("+e+")":""+this.kind+" "+this.message}};E(rQ,U5t,"OPError",16);var Nc=rQ;globalThis.OPError=Nc;var ETo=Symbol(),rge=class rge extends Nc{rewrite(){return this.stack=""}get target(){var e;return OP.get((e=this.data)==null?void 0:e.id)||super.target}};E(rge,ETo,"OPValidationError",8);var VR=rge;globalThis.OPValidationError=VR;var jTo=Symbol(),oge=class oge extends VR{};E(oge,jTo,"OPInvalidValue",0);var Ube=oge;globalThis.OPInvalidValue=Ube;var P5t=Symbol(),nge=class nge extends Nc{constructor(){super(...arguments),super[A]||this[A](),re(this,P5t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.message=e&&(o=e.message)!==void 0?o:"Fields with the foreign modifier can only be set to objects that are persisted"}};E(nge,P5t,"OPForeignKeyError",16);var Pbe=nge;globalThis.OPForeignKeyError=Pbe;var ATo=Symbol(),ige=class ige extends Nc{};E(ige,ATo,"OPPermissionDeniedError",0);var Tbe=ige;globalThis.OPPermissionDeniedError=Tbe;var UTo=Symbol(),sge=class sge extends Nc{};E(sge,UTo,"OPNotAllowed",0);var Obe=sge;globalThis.OPNotAllowed=Obe;var PTo=Symbol(),lge=class lge extends Nc{};E(lge,PTo,"OPWarning",0);var Rbe=lge;globalThis.OPWarning=Rbe;var TTo=Symbol(),age=class age extends VR{};E(age,TTo,"OPRequiredError",0);var Mbe=age;globalThis.OPRequiredError=Mbe;var OTo=Symbol(),uge=class uge extends Nc{};E(uge,OTo,"OPSaveError",0);var Lbe=uge;globalThis.OPSaveError=Lbe;var RTo=Symbol(),cge=class cge extends Nc{};E(cge,RTo,"OPOutOfBoundsError",0);var Dbe=cge;globalThis.OPOutOfBoundsError=Dbe;var MTo=Symbol(),hge=class hge extends Nc{};E(hge,MTo,"OPDestroyError",0);var Nbe=hge;globalThis.OPDestroyError=Nbe;var LTo=Symbol(),pge=class pge extends Nc{};E(pge,LTo,"OPRemoteAbort",0);var Ibe=pge;globalThis.OPRemoteAbort=Ibe;var DTo=Symbol(),dge=class dge extends Nc{};E(dge,DTo,"OPUnreachableError",0);var Fbe=dge;globalThis.OPUnreachableError=Fbe;Dc(Error,{write:function(l){var e;return((e=l==null?void 0:l[T5t])==null?void 0:e.call(l))||[l.constructor.name,l.message,{cause:l.cause,data:l.data}]},read:function(l){let e=globalThis[l[0]]||Error;if(e[_be])return e[_be](l);let t=new e(l[1]);t.name=l[0],t.stack=l[1];for(let r=l[2]||{},o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++)s=n[o],a=r[s],t[s]=a;return t}});T();T();oe();function NTo(l,e){return l[l.length+e]}var O5t=Symbol(),fge="%^&*@#";var ITo=globalThis.ENC32CACHE={count:0};function R5t(l,e=!0){let t="",r=[],o=r,n=0,i=[r];for(let s of B(l))if(s=="["&&(++n==1||!e)){let a=[];r.push(a),i.push(a),r=a}else s=="]"&&(--n==0||!e)?(t!=""&&(r.push(t),t=""),i.pop(),r=NTo(i,-1)):s=="/"&&(n==0||!e)?t!=""&&(r.push(t),t=""):s=="#"&&(n==0||!e)?(r.push(t),t=s):t+=s;return t!=""&&r.push(t),e?o.flat(1):o}var FTo=Symbol(),oQ=class oQ{static encode(...e){return e.map(function(t){return String(t).replace(/\_/g,"__")}).join("_")}static unnest(e,t=1,r=null){var o=this;let n=fge[t];return e.indexOf(fge[t+1])==-1&&(e=e.replaceAll(n,"_")),e.indexOf(n)==-1?r?r(e):e:e.split(n).map(function(s){return o.unnest(s,t+1,r)})}static split(e,t,r=!0){let o=0,n=e.replace(/_+/g,function(s){let a=s.length;return o<a&&(o=a),fge[s.length]}),i=this.unnest(n,1,t);return o==1&&r?e:i}static parse(e,t){let r=this.split(e,t,!1);return typeof r=="string"?r.split("_"):r}static relative(e,t){let r=e.$up,o=t.$up;if(r==o)return"../"+t.$key;if(e.$root!=t.$root)return t.id;let n=VK.relative(e.id.replace(/\./g,"/"),t.id.replace(/\./g,"/"));return n[0]!="."&&(n="./"+n),n}static resolve(e,t){var r=gt(this);r[O5t]??={};let o=r[O5t][t]||=R5t(t),n=e,i=n;for(let s=0,a=B(o),u=a.length;s<u;s++){let c=a[s];if(c=="..")i=n=n.$up||OP,p(i,OPEntries)&&i.$key=="entries"&&(i=n=n.$up||OP);else if(c!="."){if(c!=""){let h=c.split(".");for(let d=0,f=B(h),m=f.length;d<m;d++){let $=f[d];i=i&&i.$sub($)}}}}return i}static enc32(e){return ITo[e]||=e.toString(32).replace(/0/g,"w").replace(/1/g,"x").replace(/8/g,"y").replace(/9/g,"z")}static dec32(e){return e=e.replace(/w/g,"0").replace(/x/g,"1").replace(/y/g,"8").replace(/z/g,"9"),parseInt(e,32)}static decode(e,t=null,r=null){var d;if(!e)return;let o=this.CACHE;if(o[e]!==void 0)return o[e];let n=o[e]={id:null,type:null,mask:null,oid:null,path:null,enum:null,data:null,composite:null,payload:null,flags:0},i=0,s=null,a=e.length,u=0;for(;u<a;){let f=e.charCodeAt(u);s==null&&f>47&&58>f?s=u:f===58?i|=64:f===35?i|=1:f===64?i|=2:f===46?i|=32:f===47?i|=4:f===91?i|=8:f===95&&(i|=16),u++}if(i&64&&i&4&&e.url)return n.type=OPUrl,n.id=e,n;if(i&5){let f=R5t(e);if(e=f.shift(),n.path=f,t&&t[e])return n.id=e,n}if(s===0&&(/^\d{4}-\d\d-\d\d$/.test(e)?n.type=OPDay:/^\d{4}-\d\d$/.test(e)?n.type=OPMonth:/^\d{4}-W\d\d$/.test(e)?n.type=OPWeek:/^\d{4}-Q\d$/.test(e)&&(n.type=OPQuarter),n.type))return n.id=e,n;if(i&2&&e.email)return n.type=OPEmail,n.id=e.toLowerCase(),n;if(i&32&&!n.path){let f=e.split(".");n.path=f.slice(1),e=f[0]}let c=e.match(/^(([A-Za-z~]+)(\d|(?=_)))([^_\~]+)?(~\w+)?/);if(n.id=e,!c)return o[e]=null;n.type=t&&t[c[2]]||c[2];let h=n.mask=c[3]||0;if(n.oid=c[4],c[5]&&(n.flags|=4096),h=="2"){try{n.payload=QJ(c[4],58),n.flags|=134217728}catch{console.error("Failed to parse payload for key: "+e)}return n}if(h=="9")return n.flags|=512,n.enum=n.oid=e.slice(c[2].length+1),n;if(i&16){let f=this.parse(e,r);if(f.length>1){let m=(d=n.type)==null?void 0:d.key;if(m){let $=null,b=m.slots;for(let g=0,x=B(b),k=x.length;g<k;g++){let _=x[g],S=f[g+1];p(_,OPField)&&(S=_.$sanitize(S)),$||={},$[_]=S}$&&(n.data=$,n.flags|=134217728)}}}return n}static embed(e,t){let r=e.indexOf("_");return r>0?""+e.slice(0,r)+"."+t+e.slice(r):e+"/"+t}static embedded(e){let t=e.indexOf("_"),r=e.indexOf("/");return r==-1||t>0&&r>t?!1:e.slice(r+1,t>0?t:e.length)}static random(e=8){let t="";for(;e-- >0;)t+=Math.floor(Math.random()*32).toString(32);return t}static generateshort(e="",t=null){let r=100,o=1e4,n=null;for(;!n;){let i=r+Math.round(Math.random()*(o-r));n=e+this.enc32(i),t&&t[n]&&(o+=1e3,n=null)}return n}static generate(e="",t=20,r=null){if(t>53||t<1)throw new OPError("Entropy must be between 1 and 53 bits (JavaScript max safe integer limit)");let o,n=0,i=Math.pow(2,t)-1;for(;!o;)if(n++,o=e+this.enc32(Math.floor(Math.random()*(i+1))),r&&r[o]&&(o=null),n>100)throw new OPError("Could not generate random key ("+e+") with entropy "+t);return o}static generateincremental(e,t=null,r=0){let o,n=r;for(;!o;)o=e+this.enc32(n),t&&t[o]&&(n++,o=null);return o}static enctype(e){return e.toString(32).padStart(2,"0")}static dectype(e){return parseInt(e.slice(0,2),32)}static serialize(e){return FR(e)}static deserialize(e){return QJ(e)}};oQ.CACHE={},E(oQ,FTo,"OPKey",0);var mge=oQ;globalThis.OPKey=mge;T();oe();We();var $ge=Symbol.for("#add"),sQ=Symbol.for("#narrowing"),M5t=Symbol.for("#shape"),HTo=Symbol.for("#values"),nQ=Symbol.for("#readmask"),BTo=le("&.editable",globalThis,l=>l.editable),iQ=new Map,yge=new Map,VTo=new Map;globalThis.ShapesFor=new Map;globalThis.ShapesFor.stat={lookups:0};var zTo={get:function(l,e,t){return l.hasOwnProperty(e)||zR.prototype.hasOwnProperty(e)||typeof e=="symbol"?Reflect.get(l,e,t):l.$sub(e)}};function bge(l,e,t){if(t.get){let r=t.get;t.get=function(){let o=this.$context;if(o[e])return this;o=Object.create(this.$context),o[e]=this;let n=new zR(this.$type,null,this.$proxied,o);Object.defineProperty(this,e,{enumerable:!1,value:n});let i=n[sQ];this[sQ]=n;let s=r.call(this);return this[sQ]=i,n}}return t}var gge={keys:new Map},L5t=Symbol(),wr=class wr{static invalidate(){if(iQ)return iQ=null,yge=null,VTo=null,gge.keys.clear()}static fieldmap(e){let t=gge.keys.get(e);if(t||!e)return t;if(t={},e!=Object.prototype){let o=Object.getPrototypeOf(e),n=this.fieldmap(o);Object.assign(t,n)}let r=Object.getOwnPropertyNames(e);for(let o=0,n=B(r),i=n.length;o<i;o++){let s=n[o];s.indexOf("")==0&&(t[s.slice(2)]=e)}return gge.keys.set(e,t),t}static for(e,t=!1,r=!1,o=!1){var m;let n=e,i=n;iQ||=new Map,yge||=new Map;let s=t?yge:iQ,a=!o&&s.get(n);if(a)return a;let u=n.constructor,c=this.fieldmap(i),h=[];u[M5t]&&(u[M5t]=null);let d=u.embedded&&((m=n.$field)==null?void 0:m.name)||"";for(let $=0,b=Object.keys(c),g=b.length,x,k;$<g;$++){x=b[$],k=c[x],p(k.action,Function)||console.warn("trying to get fields for item without @action");let _=(()=>{try{return k[""+x]}catch(S){return S}})();p(_,Error)&&LL("Error getting field for "+x,String(k.constructor),Object.keys(c),_.message),p(_,OPField)&&(_.model!=u&&!p(_,OPActionField)&&(_=_.$for(u)),h.push(_))}if(t){c={...c};let $=e.constructor.types;for(let b of B($)){if(b.prototype==n)continue;let g=wr.for(b.prototype);for(let x=0,k=B(g),_=k.length;x<_;x++){let S=k[x];c[S.name]||(c[S.name]=S,h.push(S))}}}let f=new wr(n,h,r);return s.set(n,f),f}constructor(e,t=null,r=!1,o={}){if(Object.defineProperties(this,{$type:{enumerable:!1,value:e},$context:{enumerable:!1,value:o},$symbol:{enumerable:!1,value:Symbol()},$proxied:{enumerable:!1,value:r}}),p(t,Array))for(let n=0,i=B(t),s=i.length;n<s;n++){let a=i[n];this[$ge](a)}if(r)return new Proxy(this,zTo);re(this,L5t)}[$ge](e){return this[e.name??"any"]=e,typeof e.at=="number"&&Object.defineProperty(this,e.at,{enumerable:!1,configurable:!0,value:e}),this}[Symbol.toPrimitive](){return this.$symbol}toIterable(){return this[HTo]||=Object.values(this)}filter(e,t=void 0){var r;let o=!1,n=new Map,i=this[sQ];r=[];for(let a=0,u=B(this),c=u.length;a<c;a++){let h=u[a],d=e(h);d&&(n.set(h,d),typeof d=="number"&&(o=!0),r.push(h))}let s=r;if(o&&(s=s.asc(n)),i){for(let a=0,u=B(s),c=u.length;a<c;a++){let h=u[a];i[$ge](h)}return i}return s.length||t===void 0?new wr(this.$type,s,this.$proxied):t}find(e){for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];if(e(n))return n}return null}[Symbol.iterator](){return this.toIterable()[Symbol.iterator]()}get any(){return Object.keys(this).length>0}$for(e){return this.filter(function(t){return t.type&&(t.type==e||t.type==e.constructor)})}$accepts(e,t=null){return this.filter(function(r){return r.$accepts(e,t)})}bind(e,...t){let r=[];for(let o=0,n=B(this),i=n.length;o<i;o++){let a=n[o].bind(e,...t);r.push(a)}return r}get $own(){var e=this;return this.filter(function(t){return e.$type.hasOwnProperty(t.name)&&t.name!="id"})}get $pov(){return this.filter(function(e){var t,r,o;return!!(e.$f&1||(o=(r=(t=e.$type)==null?void 0:t.$shape)==null?void 0:r.$pov)!=null&&o.any)})}get $common(){return this.filter(function(e){return(e.$f&55)==0||e.$f&8})}get $pg(){return this.$common.filter(function(e){return e.pgtype&&!e.virtual})}get $sql(){return this.$pg}get $dnd(){return this.filter(function(e){return typeof e.g=="number"||e.dnd})}get $fields(){return this.filter(function(e){return e.pgtype})}get $shared(){return this.$common}get $composite(){return this.filter(function(e){return e.composite},null)}get $local(){return this.filter(function(e){return e.local})}get $channel(){return this.filter(function(e){return e.$f&32})}get $session(){return this.filter(function(e){return e.session})}get $cloud(){return this.filter(function(e){return!e.local&&!e.session&&!e.virtual&&!e.hidden&&!e.memory})}get $virtual(){return this.filter(function(e){return e.virtual})}get $qs(){return this.filter(function(e){return e.qs})}get $shallow(){return this.filter(function(e){return!e.lazy||e.ref||e.name=="id"})}get $default(){return this.filter(function(e){return!!e.default})}get $required(){return this.filter(function(e){return e.$f&16777216})}get $embeds(){return this.filter(function(e){return!!e.embedded})}get $serializable(){return this.filter(function(e){return!e.hidden&&!e.virtual})}get $children(){return this.filter(function(e){return e.children})}get $columns(){return this.filter(function(e){return e.column&&(!e.pov||e.count)})}get $actions(){return this.filter(function(e){return e.action})}get $rg(){return this.filter(function(e){return e.RG})}get $bool(){return this.filter(function(e){return p(e,OPBooleanField)})}get $refs(){return this.filter(function(e){return e.ref})}get $parents(){return this.filter(function(e){return e.parent})}get $editable(){return this.filter(BTo)}get $inspectable(){return this.$cloud.filter(function(e){var t,r;if(!(p(e,OPActionField)||p(e,OPEmbedField)||p(e,OPMemoField))&&!e.name.startsWith("_")&&!e.pov)return e.name=="id"?1:p(e,OPTextField)?2:e.g||900})}get $owners(){return this.filter(function(e){return e.owner})}get $sorters(){return this.filter(function(e){return e.order})}get $s(){return this.filter(function(e){return e.s})}get $nav(){return this.filter(function(e){return e.nav})}get $stats(){return this.filter(function(e){return e.$stat})}get $g(){return this.filter(function(e){return typeof e.g=="number"})}get $tabs(){return this.filter(function(e){return e.$tab})}get $hooks(){return this.filter(function(e){return e.$hook})}get $deep(){return this.filter(function(e){return!!e.deep})}get $readmask(){if(this[nQ]!=null)return this[nQ];let e=this[nQ]=0;for(let t=0,r=B(this.$cloud.$columns),o=r.length;t<o;t++){let n=r[t];if(n.$r&&(e|=n.$r),n.embedded){let i=n.$type;if(p(i==null?void 0:i.prototype,OPRefs))continue;if(p(i,OPEmbedTypes))for(let s of B(i))try{e|=s.$shape.$readmask}catch{}else if(i){p(i.prototype,OPObject)&&(i=(i==null?void 0:i.$base)||i);let s=i==null?void 0:i.$shape;if(s&&s!=this)try{e|=s.$readmask}catch{}}}}return this[nQ]=e}get $owner(){return this.find(function(e){return e.owner})}get $shape(){return this}get $(){return this}$sub(e){return this[e]||this.__any__}$subshape(e){var r,o;return this[e]||((o=(r=this.__any__)==null?void 0:r.$subshape)==null?void 0:o.call(r,e))}$invalidate(){var e;e=[];for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];e.push(n.$invalidate(null))}return e}get $names(){return Object.values(this).map(function(e){return e.name})}$bound(e){var t;t=[];for(let r=0,o=B(this),n=o.length;r<n;r++){let i=o[r];t.push(i.bind(e))}return t}};wr.prototype[Le]=De,se([ke.bind([])],wr.prototype,"any",null),se([ke.bind([])],wr.prototype,"$own",null),se([bge.bind([])],wr.prototype,"$pov",null),se([ke.bind([])],wr.prototype,"$common",null),se([ke.bind([])],wr.prototype,"$pg",null),se([ke.bind([])],wr.prototype,"$sql",null),se([ke.bind([])],wr.prototype,"$dnd",null),se([ke.bind([])],wr.prototype,"$fields",null),se([ke.bind([])],wr.prototype,"$composite",null),se([ke.bind([])],wr.prototype,"$local",null),se([ke.bind([])],wr.prototype,"$channel",null),se([ke.bind([])],wr.prototype,"$session",null),se([ke.bind([])],wr.prototype,"$cloud",null),se([ke.bind([])],wr.prototype,"$virtual",null),se([ke.bind([])],wr.prototype,"$qs",null),se([ke.bind([])],wr.prototype,"$shallow",null),se([ke.bind([])],wr.prototype,"$default",null),se([ke.bind([])],wr.prototype,"$required",null),se([bge.bind([])],wr.prototype,"$embeds",null),se([ke.bind([])],wr.prototype,"$serializable",null),se([ke.bind([])],wr.prototype,"$children",null),se([ke.bind([])],wr.prototype,"$columns",null),se([ke.bind([])],wr.prototype,"$actions",null),se([ke.bind([])],wr.prototype,"$rg",null),se([ke.bind([])],wr.prototype,"$bool",null),se([ke.bind([])],wr.prototype,"$refs",null),se([ke.bind([])],wr.prototype,"$parents",null),se([ke.bind([])],wr.prototype,"$editable",null),se([ke.bind([])],wr.prototype,"$inspectable",null),se([ke.bind([])],wr.prototype,"$owners",null),se([ke.bind([])],wr.prototype,"$sorters",null),se([ke.bind([])],wr.prototype,"$s",null),se([ke.bind([])],wr.prototype,"$nav",null),se([ke.bind([])],wr.prototype,"$stats",null),se([ke.bind([])],wr.prototype,"$g",null),se([ke.bind([])],wr.prototype,"$tabs",null),se([ke.bind([])],wr.prototype,"$hooks",null),se([bge.bind([])],wr.prototype,"$deep",null),se([ke.bind([])],wr.prototype,"$owner",null),E(wr,L5t,"OPShape",272);var zR=wr;globalThis.OPShape=zR;T();oe();var D5t=Symbol(),vge=class vge{constructor(e=null){this[A](e),re(this,D5t)}[A](e=null,t=!0,r=!0){var o;this.pub=e&&(o=e.pub)!==void 0?o:0}};E(vge,D5t,"OPRLS",16);var kge=vge;globalThis.OPRLS=kge;var qTo=Symbol(),wge=class wge{get $r(){return OPANYONE}get $w(){return OPANYONE}get $x(){return OPANYONE}get $c(){return OPANYONE}get $d(){return OPANYONE}get r(){return!0}get w(){return!0}get x(){return!0}get c(){return!0}get d(){return!0}};E(wge,qTo,"OPOpenPerms",1024);var _ge=wge;globalThis.OPOpenPerms=_ge;var WTo=Symbol(),Sge=class Sge{rolesfor(e,t=null){return OPANYONE|(this.$up?this.$up.rolesfor(e):0)}get currentagentroles(){return OPANYONE|this.rolesfor(OP.agent)}get $r(){var e,t;return OPSRV|(((e=this.$field)==null?void 0:e.$r)??((t=this.$up)==null?void 0:t.$r)??0)}get $w(){var e,t;return OPSRV|(((e=this.$field)==null?void 0:e.$w)??((t=this.$up)==null?void 0:t.$w)??0)}get $x(){var e,t;return OPSRV|(((e=this.$field)==null?void 0:e.$x)??((t=this.$up)==null?void 0:t.$x)??0)}get $c(){var e,t;return OPSRV|(((e=this.$field)==null?void 0:e.$c)??((t=this.$up)==null?void 0:t.$c)??0)}get $d(){var e,t;return OPSRV|(((e=this.$field)==null?void 0:e.$d)??((t=this.$up)==null?void 0:t.$d)??0)}get r(){return OP.sudo||(this.currentagentroles&this.$r)>0}get w(){return OP.sudo||(this.currentagentroles&this.$w)>0}get x(){return OP.sudo||(this.currentagentroles&this.$x)>0}get c(){return OP.sudo||(this.currentagentroles&this.$c)>0}get d(){return OP.sudo||(this.currentagentroles&this.$d)>0}get g(){var e;if(typeof this.$field.g=="number"&&this.$field.g>=0&&!this.hidden)return((e=this.$field)==null?void 0:e.gr)!=null?(this.currentagentroles&this.$field.gr)>0:p(this,OPAction)||this.$field.$x?this.x:this.w}get g(){return this.$field.g}warn(e={}){typeof e=="string"&&(e={message:e});let t=new OPWarning(e.message||"Invalid");return e.roles=this.rolesfor(OP.agent),t.data={id:this.id,agent:OP.agent,...e},!1}raise(e={}){typeof e=="string"&&(e={message:e});let t=new OPValidationError(e.message||"Invalid");throw e.roles=this.rolesfor(OP.agent),t.data={id:this.id,agent:OP.agent,...e},globalThis.lastError=t,t}};E(Sge,WTo,"OPSecured",1024);var xge=Sge;globalThis.OPSecured=xge;T();oe();var N5t=Symbol(),Pge=class Pge{constructor(e=null){this[A](e),re(this,N5t)}[A](e=null,t=!0,r=!0){var o;this.seen=e&&(o=e.seen)!==void 0?o:new Map,this.observer=e&&(o=e.observer)!==void 0?o:null,this.value=e&&(o=e.value)!==void 0?o:null,this.flags=e&&(o=e.flags)!==void 0?o:0}reset(e,t,r=0){return this.observer=e,this.value=t,this.flags=r,this.seen.clear(),this}};E(Pge,N5t,"Run",16);var Cge=Pge,I5t=Symbol(),Tge=class Tge{constructor(e=null){this[A](e),re(this,I5t)}[A](e=null,t=!0,r=!0){var o;this.same=e&&(o=e.same)!==void 0?o:!1,this.indices=e&&(o=e.indices)!==void 0?o:null}};E(Tge,I5t,"Check",16);var Ege=Tge,ZTo=Symbol(),Oge=class Oge extends Map{add(e,t=1){this.rxf|=t;let r=this.get(e);return this.set(e,(r||0)|t)}};E(Oge,ZTo,"OPInvalidations",0);var qR=Oge;globalThis.OPInvalidations=qR;var F5t=Symbol(),Rge=class Rge{constructor(e=null){this[A](e),re(this,F5t)}[A](e=null,t=!0,r=!0){var o;this.beacon=e&&(o=e.beacon)!==void 0?o:null,this.bit=e&&(o=e.bit)!==void 0?o:0,this.flags=e&&(o=e.flags)!==void 0?o:0,this.paths=e&&(o=e.paths)!==void 0?o:[],this.max_depth=e&&(o=e.max_depth)!==void 0?o:-1,this.checked=e&&(o=e.checked)!==void 0?o:0,this.uniques=e&&(o=e.uniques)!==void 0?o:0,this.polymorphic=e&&(o=e.polymorphic)!==void 0?o:0,this.sameroot=e&&(o=e.sameroot)!==void 0?o:0,this.sorting=e&&(o=e.sorting)!==void 0?o:0,this.matching=e&&(o=e.matching)!==void 0?o:0,this.unreachable=e&&(o=e.unreachable)!==void 0?o:0,this.links=e&&(o=e.links)!==void 0?o:null}link(e,t){let r=(this.links||=new Map).get(e);if(r||this.links.set(e,r=new Set),p(r,Set))return r.size<50?(r.add(t),!0):(this.links.set(e,2048),!1)}trace(e,t,r=new qR){var c,h,d;let o;if(e.constructor===qR){for(let[f,m]of B(e))this.trace(f,t,r);return r}if(o=(h=(c=this.links)==null?void 0:c.get)==null?void 0:h.call(c,e)){if(o==2048)return r.clear(),r;if(p(o,Set))for(let f of B(o))r.add(f,2)}p(e,OPObject)||p(e,OPIterable)||p(e,OPTuple)||e!=OP&&(console.log("tracing for weird observed?",this,[e]),console.trace());let n=-1,i=this.max_depth,s=e,a=0;this.sameroot&&r.add(s.$root,a|4);let u;for(;s&&n<i;){let f=this.paths[++n];if(f.same&&r.add(s,a|2),f.indices&&(u=(d=s.$rich)==null?void 0:d.$indices)){for(let m of B(u))if(f.indices.has(m.$type)){let $=m.$up;r.add($,a|2)}}s=s.$up}return!this.unreachable&&e&&!r.size&&(r.rxf|=4096),r}toString(){var e;return p(this.beacon,OPField)?""+((e=this.beacon.model)==null?void 0:e.name)+"."+this.beacon.name:this.beacon.$identifier?this.beacon.$identifier:"tracker "+this.bit}};E(Rge,F5t,"Traceable",16);var jge=Rge,H5t=Symbol(),Mge=class Mge{constructor(e=null){this[A](e),re(this,H5t)}[A](e=null,t=!0,r=!0){var o;this.version=e&&(o=e.version)!==void 0?o:0,this.owner=e&&(o=e.owner)!==void 0?o:null,this.flags=e&&(o=e.flags)!==void 0?o:0,this.run=e&&(o=e.run)!==void 0?o:new Cge,this.map=e&&(o=e.map)!==void 0?o:new Map,this.sorting=e&&(o=e.sorting)!==void 0?o:null,this.matching=e&&(o=e.matching)!==void 0?o:null}invalidated(e,t,r){let o=this.map.get(t);return this.version++,o&&r?o.trace(r,this):null}reset(e,t,r=0){return this.run.reset(e,t,r)}observed(e,t,r){var v,C,j;var o;if(p(t,OPIterable)&&(r||=t,t=t.$type),!t)return;let n=p(r,OPTuple)?r:null,i=!n&&p(r,OPObject)?r:null,s=!n&&!i&&p(r,OPIterable)?r:null;if(n&&!n.$up)return;let a=this.map.get(t);if(a||(this.map.set(t,a=new jge({beacon:t,bit:1<<this.map.size})),this["--"+a]=a,t.addSubscriber(this.owner)),!(n||i||s))return;let u=this.run,{observer:c,value:h}=u;this.sorting?a.sorting++:a.matching++;let d=(C=(v=a.links)==null?void 0:v.get)==null?void 0:C.call(v,r),f=u.seen.get(a);f||u.seen.set(a,f=r),f!=r&&a.polymorphic++;let m=(h.seen&(o=a.bit))==o?!1:(h.seen|=o,!0);if(d==2048||d&&d.has(c)||(a.checked++,m&&a.uniques++,c==OP))return;let $=-1,b=a.max_depth,g=a.paths,x=r,k=x,_=null,S=null;for(;!S&&k;){if(x=k,_=g[++$]||=new Ege,x==c){_.same=!0,S=!0;break}let P=(j=x.$rich)==null?void 0:j.$indices;if(P)for(let U of B(P))U.$up==c&&(_.indices||(_.indices||=new Set),_.indices.add(U.$type),S=_);k=x.$up}if(S){if($>b)return a.max_depth=$}else return x&&x==c.$root?(a.sameroot++,this.flags|=4):(m&&a.link(r,c),a.unreachable++),!0}};E(Mge,H5t,"OPRXTracer",16);var Age=Mge;globalThis.OPRXTracer=Age;T();oe();function GTo(l,e){return l[l.length+e]}var YTo=Symbol.for("#matcher"),Lge=Symbol.for("#memo"),B5t=Symbol.for("#v"),XTo=Symbol.for("#shape"),z5t=null,KTo=Symbol.for("~"),JTo=new Proxy({},{get:function(l,e){var s;let t=z5t;if(e==="")return t;if(!t)return null;let r=t.$shape,o=r[e],n=null;if(p(o,OPShape))return n=o.$bound(t);if(o)return n=o.bind(t);if(n=(s=t.$rich)==null?void 0:s[e])return n;if(o=r.__any__)return o.bind(t,e);console.warn("Field $."+String(e)+" does not exist on "+t.id);let i=new Error;return console.warn(i.stack)}}),QTo=Symbol(),Ige=class Ige{};E(Ige,QTo,"OPObjectRegistry",0);var uQ=Ige;globalThis.OPObjectRegistry=uQ;var eOo=Symbol(),Fge=class Fge{rolesfor(e,t=null){return OPANYONE}get $beacon(){return this[KTo]||=new Vgt(this)}get $(){return z5t=this,JTo}get $id(){return this.id}get $ns(){return this.$id}get $shape(){return OPShape.for(this.constructor.prototype)}get $memo(){return this[Lge]||={}}set $memo(e){e==null&&this[Lge]&&(this[B5t]=(this[B5t]||0)+1,this[Lge]={})}$invalidate(...e){return this}any(){return new OPField}key(...e){return new OPKeyField(...e)}memberof(e){return new OPMemberOfField(e)}embed(e,t){let r=e??OPEmbed,o=new OPEmbedField(r);return p(r,OPType)||p(r,OPPlain)&&Object.values(r).find(function(n){return p(n,OPType)})||(o.pgtype=null,o.virtual=!0),o.defaults=t,o}stream(e){return new OPEmbedField(e??OPDataStream)}time(){return new OPTimeField}ref(e){return new OPRefField(e??OPLifecycled)}link(e,t){let r=new OPRefField(e);return r.backlink=t,r}child(e){let t=new OPRefField(e);return t.child=!0,t}parent(e){let t=new OPRefField(e);return t.parent=!0,t.index=!0,t}actor(e){let t=new OPRefField(e);return t.actor=!0,t.parent=!0,t.index=!0,t}target(e){let t=new OPRefField(e);return t.target=!0,t.parent=!0,t.index=!0,t}creator(e){let t=new OPRefField(e||OPAgent);return t.as(OPCREATOR),t.required=!0,t.default=function(){return OP.pov},t}memo(){return new OPMemoField}money(){return new OPMoneyField}color(){return new OPColorField}text(){return new OPTextField}string(){return new OPStringField}url(){return new OPUrlField}emailstring(){return new OPEmailStringField}email(){return new OPEmailField}image(){return new OPImageField}dom(){return new OPDOMField}bit(e){return new OPBitField(e)}bool(){return new OPBooleanField}object(){let e=new OPDataField;return e.pgtype="jsonb",e}msgpack(){return new OPMSGPackField}json(){let e=new OPDataField;return e.pgtype="jsonb",e}currency(){return new OPCurrencyField(OPCurrency)}country(){return new OPCountryField(OPCountry)}datetime(){let e=new OPDateTimeField;return e.pgtype="timestamptz",e}date(){let e=new OPDateTimeField;return e.pgtype="date",e}ts(){return new OPTimestampField}event(){return new OPEventField}toggle(e){return new OPToggleField(e)}svg(){return new OPSVGField}coll2(...e){let t=null;e.unshift(OPColl),p(GTo(e,-1),OPPlain)&&(t=e.pop());let r=new OPCollField(...e);return r.defaults=t,r}enum(...e){return Object.isPlain(e[0])&&e.unshift(OPEnumValue),new OPEnumField(e[0],e[1])}newenum(...e){return Object.isPlain(e[0])&&e.unshift(OPEnumValue),new OPEnumField(e[0],e[1])}children(e,...t){return new OPChildrenField(e,...t)}many(e,...t){return new OPChildrenField(e,...t)}int(){let e=new OPNumberField;return e.round=1,e}bits(){return new OPBitsField}bigint(){let e=new OPNumberField;return e.pgtype="bigint",e}number(){return new OPNumberField}percent(){return new OPPercentField}size(){return new OPNumberField}float(){let e=new OPNumberField;return e.pgtype="real",e}ms(){let e=new OPNumberField;return e.format="0:00",e}list(e={}){let t=new OPEmbedField(OPListView);return t.defaults=e,t}map(e,t=void 0){return new OPMapField(OPMap,e,t)}refs(e){let t=new OPRefsField(OPRefs,e);return t.index=!0,t}parents(e){let t=new OPRefsField(OPRefs,e);return t.parent=!0,t.index=!0,t}table(e={}){var t;let r=new OPEmbedField(OPTableView);if(p(e==null?void 0:e.props,OPPlain))for(let o=e.props,n=0,i=Object.keys(o),s=i.length,a,u;n<s;n++)a=i[n],u=o[a],!(Ye(a[0],"~")||Ye(a[0],"_"))&&(u._pre=1,u.name??=a,u.path??=a,e.props["~0"+a]=u,t=e.props[a],delete e.props[a]);return r.defaults=e,r}tuples(e,t){return new OPTuplesField(t??OPTuples,e)}tuple(e){return new OPTupleField(e)}state(...e){return new OPStateField(...e)}get(){return new OPGetterField}computed(){return new OPComputedField}stat(){return new OPStatField}pub(){return new OPPubField}webhook(){let e=new OPWebhookField;return e.rpc=!0,e}bytea(){return new OPByteArrayField}action(...e){return new OPActionField(...e)}route(){let e=new OPRouteField;return e.rpc=!0,e.http=!0,e}embeds(e,t=null){return new OPEmbedsField(OPEntries,e,t)}opresolveroute(e,t){var o;let r;if(typeof e=="string"){e=e.toimba;let n=this.$shape;if(n[e])return this.$[e];if(n.entries){let s=n.entries.$get(this,null,null,OP.AFL.SILENT);if(r=(o=s==null?void 0:s.$sub)==null?void 0:o.call(s,e))return r}return this[e+"_view"]||OP.get(e.split(/[-]/gu).pop(),this)||e}else return e}};E(Fge,eOo,"OPBase",0);var Ow=Fge;globalThis.OPBase=Ow;var lQ=Symbol(),Hge=class Hge extends Qe(lQ,null,Ow,OPOpenPerms){[A](e=null,t=!0,r=!0){var o;(o=this[lQ])==null||o.call(this,...arguments)}constructor(){super(),this[A](),this.$plain={},this.$rich={},re(this,lQ)}};E(Hge,lQ,"OPLike",80);var Dge=Hge;globalThis.OPLike=Dge;var V5t=new Map,aQ=Symbol(),Bge=class Bge extends Qe(aQ,null,Ow){constructor(e=null){super(),this[A](e),re(this,aQ)}[A](e=null,t=!0,r=!0){var o;(o=this[aQ])==null||o.call(this,...arguments)}static[YTo](e){return e instanceof this}static all(...e){return OP.all(this,...e)}static[Symbol.hasInstance](e){return p(e,Ow)}static mixed(e){return OPShape.invalidate()}static get $shape(){return OPShape.for(this.prototype)}static $sub(e){return this.$shape[e]}static get $(){if(!this[XTo]){let e=V5t.get(this);return e||V5t.set(this,e=new Proxy(this,{get:function(t,r){return t.prototype[""+r]}})),e}return this.$shape}static get(e,t){let r=OP.get(e,t);return r&&p(r,this)?r:null}static get id(){return this.name}static inherited(e){return uQ[e.name]=e}};E(Bge,aQ,"OPMixin",80);var Nge=Bge;globalThis.OPMixin=Nge;T();oe();T();oe();T();var q5t={};function W5t(l){return l.type}var E3t=q6(h3t());T();oe();var OOo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","~@":"<","@~":">"},ROo={prop:[/([\w\-]+)(?=\:)/g,"u"],dim:/(\d*\.?\d+)([\%\w]\b)?/g,num:/(\d*\.?\d+)/g},p3t={keyword:/\b(css|new|import|from|export|var|let|const|return|global|tag|class|if|else|elif|prop|extends|for|in|while|def|get|set)(?=\b)/g,prop:[/([\w\-]+)(?=\:)/g,"u"],num:/(\d*\.?\d+)/g,dim:/(\d*\.?\d+)([\%\w]\b)?/g,sel:[/([^\{]+)(\{)([^\}]+)(\})/,"sel","",ROo,""]};function MOo(l){return l.replace(/[\&\<\>]|~@|@~/g,function(e){return OOo[e]})}function d3t(l,e,t=20){let r=e.split(".").pop()||"";l=l.split(`
`).slice(0,t).join(`
`);let o=function(i,s,a=""){let u=i;return/^(b|i|u)$/.test(i)||(u="b",a=" class='"+i+"'"),"~@"+u+a+"@~"+s+"~@/"+u+"@~"},n=function(i,s,a){let u=i;if(p(i,Array))s=s.replace(i[0],function(c,...h){return h=h.slice(0,-2),h.map(function(f,m){let $=i[m+1]||"span";return typeof $=="string"?o($,f):n($,f)}).join("")});else if(p(i,RegExp))s=s.replace(i,function(c){return o("i",c,a?" class='"+a+"'":"")});else if(i)for(let c=0,h=Object.keys(i),d=h.length,f,m;c<d;c++)f=h[c],m=i[f],s=n(m,s,f);return s};return(Ye(r,"html")||Ye(r,"imba")||Ye(r,"jsx")||Ye(r,"tsx"))&&(l=l.replace(/\<[\/\!]?\w+[^\>]*\>/g,function(i){return o("b",i)})),r.match(/ts|js|imba/)&&(l=l.replace(p3t.keyword,function(i){return o("i",i)})),r.match(/css/)&&(l=n(p3t.sel,l)),l=MOo(l),l=l.replace(/<\/b>(\s*)<b>/g,"$1"),l}var LOo=Symbol.for("#up"),f3t=Symbol.for("#promise"),YR=Symbol.for("#resolve"),DOo=Symbol.for("#idler"),NOo={};function C3t(){return Math.round(Date.now()/1e3)}var IOo=new E3t.default,FOo=Symbol(),Jge=class Jge{highlight(e,t,r=20){return d3t(e,t,r)}};E(Jge,FOo,"OPUtils",1,OPUtils);var m3t=Jge,HOo=Symbol(),Qge=class Qge{ref(e={}){return IOo.haikunate({tokenLength:0,...e})}token(){return q5t.randomBytes(10).toString("hex")}};E(Qge,HOo,"Generator",0);var Gge=Qge,Xge=new Gge;Xge.ref.sql="op.autoname()";function nk(l,e){return l[LOo]=e,l}function $3t(l){return typeof l=="object"&&l&&(Object.getPrototypeOf(l)==Object.prototype||l[OP_PLAIN_OBJECT])}function Kge(l,e){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],i!=null&&!Object.hasOwn(l,n)&&typeof i=="object"?l[n]=null:i&&typeof i=="object"&&typeof l[n]=="object"&&l[n]&&Kge(l[n],i);return l}var y3t=Symbol(),e6e=class e6e extends Set{constructor(e){super(),this.target=e||this,re(this,y3t)}add(e){var t=this;if(p(e,Function)&&(e=e()),!this.has(e)){e.then(function(){return console.log("promise finished"),t.delete(e)});let r=this.size==0;super.add(e),r&&(this[f3t]=new Promise(function(o){return console.log("created promise!",t.size),t[YR]=o}),this.target.then=function(o,n){return t[f3t].then(o,n)})}return e}delete(e){return super.delete(e)?(this.size==0&&(this[YR]?(this.target.then=void 0,this[YR](this.target),this[YR]=null):console.log("deleted - not resolved?!")),!0):!1}get idle(){var e=this;return this[DOo]||=new Promise(function(t){return e[YR]=t})}};E(e6e,y3t,"Queue",24);var Yge=e6e;globalThis.Q=Yge;function cQ(l,e,t=0,r=0,o=!0){if(l==e)return!0;if(t>0&&r==t)return o;if(typeof l!=typeof e)return!1;if(p(l,Array)&&p(e,Array)){if(l.length!=e.length)return!1;for(let s=0,a=B(l),u=a.length;s<u;s++){let c=a[s];if(e[s]!=c&&(t==0||!cQ(e[s],c,t,r+1,o)))return!1}return!0}if($3t(l)&&$3t(e)){let s=Object.keys(l),a=Object.keys(e);if(s.length!=a.length)return!1;for(let u=0,c=B(s),h=c.length;u<h;u++){let d=c[u];if(e[d]!=l[d]&&(t==0||!cQ(e[d],l[d],t,r+1,o)))return!1}return!0}return!1}var BOo=Symbol(),t6e=class t6e{[Symbol.match](e){return this.length?this.some(function(t){return t[Symbol.match](e)}):!0}all(){return this}eq(e){var t;if(Ye(this,e))return!0;if(e==null||!Ye(this.length,e.length))return!1;if(Ye(this.length,0)&&Ye(e.length,0))return!0;t=0;for(let r of B(this)){let o=t++;if(!Ye(r,e[o]))return!1}return!0}};E(t6e,BOo,"Array",1,Array);var b3t=t6e,VOo=Symbol(),r6e=class r6e{change(e,t,r=!1){let o=this.get(e);if(o!==t)return this.set(e,t),r?o:!0}};E(r6e,VOo,"Map",1,Map);var g3t=r6e,zOo=Symbol(),o6e=class o6e{refine(e){return new Set(Array.from(this).refine(e))}};E(o6e,zOo,"Set",1,Set);var k3t=o6e;function j3t(l){return NOo[l]??=(l=l.replace(/([a-z])([A-Z]+)/g,function(e,t,r){return""+t+r.toLowerCase()}),l="_"+l.toLowerCase())}var _3t=Symbol(),n6e=class n6e extends WeakMap{constructor(e){super(),this.$initor=e,re(this,_3t)}get(e){let t=super.get(e);return t||this.set(e,t=this.$initor(e)),t}};E(n6e,_3t,"WeakCache",24);var x3t=n6e,v3t=Symbol(),i6e=class i6e extends Map{constructor(e){super(),this.generator=e,re(this,v3t)}find(e){return this.has(e)&&this.get(e)}get(e){let t=super.get(e);return t??this.set(e,t=this.generator(e,this)),t}};E(i6e,v3t,"MemoMap",24);var Rw=i6e,qOo=Symbol(),hQ=class hQ extends Set{filter(e){return new hQ(Array.from(this).filter(e))}};E(hQ,qOo,"RichSet",0);var w3t=hQ,S3t=Symbol(),pQ=class pQ extends Set{constructor(){super(...arguments),this.$memo={},re(this,S3t)}add(e,t=e.name){return this[t]=e,this.$memo={},super.add(e),e}filter(e){return new pQ(Array.from(this).filter(e))}map(e){return Array.from(this).map(e)}};E(pQ,S3t,"NamedSet",24);var XR=pQ;function A3t(l,e){return Object.assign(e,l),e}var axn=A3t({sql:"op.autoname()"},function(){return!0}),uxn=A3t({sql:"op.rndstr()"},function(){return!0});function ik(l,e=100,t=10*1e3){let r,o,n=function(){return clearTimeout(o),o=null,r.last=null,l()};return r=function(i){clearTimeout(o);let s=r.delay;if(typeof i=="number"){if(s=r.delay=i,!o)return}else{let a=r.last??=Date.now(),u=Date.now()-a;s=Math.min(s,Math.max(0,t-u))}return o=setTimeout(n,s)},r.delay=e,r.cancel=function(){return clearTimeout(o),r.last=null},r}T();oe();We();var dQ=Symbol.for("#setup"),U3t=Symbol.for("#setup-for"),R3=Symbol.for("#resolve"),s6e=Symbol.for("#sorter"),fQ=Symbol.for("#matcher"),l6e=Symbol.for("#v"),WOo=le("&.$refiner",globalThis,l=>l.$refiner),ZOo=le("&.deleted?",globalThis,l=>l.deleted),N3t=Symbol.for("~");function GOo(l=0){return this.synced=-1,this.flags=l,this.refiners=null,this}var P3t=new WeakMap,YOo=Symbol(),d6e=class d6e extends Array{};E(d6e,YOo,"OPIndices",0);var a6e=d6e;globalThis.OPIndices=a6e;var T3t=Symbol(),Cf=class Cf extends Array{constructor(){super(...arguments),re(this,T3t)}static get[Symbol.species](){return globalThis.IMBA_ENV_TSC?Array:Cf}static inherited(e){var t;return e.$$v=0,e.$refiners=new Map,e.$subtypes=new Map,e.$dependents=new Set,e.$tracer=new OPRXTracer({owner:e}),(t=e==null?void 0:e[dQ])==null||t.call(e),e}static[dQ](){return this}static get types(){let e=this.$refinements.filter(function(t){var r;return p(t,OPType)||p(t,OPField)});for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];p(n,OPField)&&(e[t]=n.model)}return e}static[U3t](e,t){var n,i;this.$refines=e,this.$up=e.$up,this.$path=(e.$path||[]).concat(this),this.$refiner=this.prototype.$refiner=t;let r=e.prototype.$sorter,o=t;if(p(t,OPType)?o=function(s){return p(s,t)}:p(t,OPField)?o=function(s){return p(s,t.model)}:p(t,OPSortFunction)&&(o=function(){return!0},r=t),this.prototype.$filter=o,this.$refinements=this.prototype.$refinements=this.$path.map(WOo),p(t,Function)&&t.memoized){let s=this.types,a=null,u=t.memoized,c=u.pluck(/&\.([\w\.]+\??)/),h=u.split(c).pop(),d=(i=(n=h.pluck(/(\s*[><=\!]+\s*)/))==null?void 0:n.trim)==null?void 0:i.call(n),f=d&&h.split(d).pop().trim(),m=this.$sql={};for(let $ of B(s)){let b,[g,x,...k]=c.split(/\.\.?/g),_=$.$shape[g];if(_){let S=_.$rawkey;p(_,OPEnumField)&&x&&(b=_.map[x.replace("?","")])&&(d="==",f=String(b)),d?m[""+S+"-"+d]=f:m[""+S+"-not"]=null}}for(let $ of B(s)){let b;try{b=t($.$shape)}catch{}p(b,OPField)&&(a=b)}a&&a.order&&(r=a[s6e])}return this.$sorter=this.prototype.$sorter=r,this}static get $identifier(){var o,n,i;let e,t=this.$refines,r="";return(e=this.prototype.$field)?((o=e.model)==null?void 0:o.name)+"."+e.name:(t&&(r+=""+(t==null?void 0:t.$identifier)+">>"),r+=(n=this.$refiner)!=null&&n.memoized?this.$refiner.memoized:String(((i=this.$refiner)==null?void 0:i.name)||this.$refiner||""),r)}static addSubscriber(e){return this.$dependents.add(e)}static removeSubscriber(e){return this.$dependents.remove(e)}static $$invalidated(e,t=null,r=null){let o;if(o=qi.atomics){o.add(this);return}if(e>10)return;this.$$v++;let n=this.$dependents;if(n)for(let i of B(n))i.$$invalidated(e+1,this,r);e==0&&qi.flush()}static only(e){let t=this.$refiners,r=t.get(e);return this==Cf&&console.trace("called OPIterable.only(...)"),r||t.set(e,r=this.forrefiner(e)),r}static forrefiner(e){if(this==Cf)throw console.trace("called OPIterable.only(...)"),new Error("OPIterable.for-refiner is abstract - can only be called on subclasses");let t=this,r=Symbol(),n=class n extends mQ{static[dQ](){return this[U3t](t,e),super[dQ]()}};E(n,r,"OPRefined",8);let o=n;return o}static fortype(e){let t=this.$subtypes,r=t.get(e);if(!r){let o=Symbol(),i=class i extends this{};E(i,o,"TypedIterable",0);let n=i;n.$up=e,t.set(e,r=n)}return r}static forfield(e,...t){var n;let r=this.$subtypes,o=r.get(e);if(!o){let i=Symbol();o=(n=class extends this{},E(n,i,"TypedIterable",0),n),o.$field=o.prototype.$field=e,o.$up=e.model,r.set(e,o)}return o}static forobject(e){let t=this.fortype(e.$type);return new t(e)}static configure(e={}){var t,r;return e.field&&this.$field!=(t=e.field)&&(this.$field=t,!0)&&(this.prototype.$field=e.field,e.field[s6e]&&(this.$sorter=this.prototype.$sorter=e.field[s6e])),e.singleton&&this.singleton!=(r=e.singleton)&&(this.singleton=r),this}get $type(){return this.constructor}get $refiners(){return this.$meta.refiners}$forfield(e){return this.$type.configure({field:e}),this}set $meta(e){Object.defineProperty(this,"$meta",{enumerable:!1,value:e})}get $meta(){let e=P3t.get(this);return e||P3t.set(this,e=new GOo),e}get $f(){return this.$meta.flags}set $f(e){this.$meta.flags=e}get synced(){return this.$f&131072}get $beacon(){return this}get[N3t](){return this}$run(e,t=this.$meta,r=0){let o=this.$type.$tracer;if(!o)return e({});let n=o.reset(this.$up,t,r);return HK(o,e,n)}$match(e){let t=this.$filter;return t[fQ]?t[fQ](e):t(e)}$sort(e=this.$meta){var t=this;let r=this.$sorter;return p(r,Function)?this.sort(r):p(r,OPSortFunction)&&this.$run(function(o){return o.sorting=t,r.sort(t),o.sorting=!1},e),this}get types(){return this.$refinements?[this.$refinements.findLast(function(t){return p(t,OPType)})]:[]}get $root(){var e;return(e=this.$up)==null?void 0:e.$root}toIterable(){return this.$sync(),this}flatMap(e){return this.$sync(),super.flatMap(e)}get arr(){return Array.from(this)}[Symbol.iterator](){return this.$sync(),super[Symbol.iterator](...arguments)}at(e){return this.$sync(),super.at(...arguments)}indexOf(e){return this.$sync(),super.indexOf(e)}find(e){return this.$sync(),super.find(e)}has(e){return this.includes(e)}includes(e){return this.$sync(),this.__includes__(e)}$sync(e=0){return this}get resolved(){return this.$sync(),this}add(e,t=null){let r=null,o=this.indexOf(e);return t&&t.after?r=this.indexOf(t.after)+1||null:t&&t.before&&(r=this.indexOf(t.before)),(o==-1||r!=null)&&(r!=null?this.splice(r,0,e):this.push(e),o>=0&&this.splice(o,1)),e}delete(e){let t=this.$meta,r=this.indexOf(e);return r>=0&&(this.__splice__(r,1),this.$invalidate(null,new Set([e]))),r>=0}__delete__(e){let t=this.__indexOf__(e);return t>=0&&this.__splice__(t,1),t>=0}only(e,...t){var a,u;let r;if(!e)return this;let o=this.constructor;if(o==Cf)return(r=t.length)?this.filter(e[fQ]||e).filter(...t):this.filter(e[fQ]||e);let n=this.$meta,i,s=n.refiners||=new Map;if(i=s.get(e),!i&&((u=(a=o.$refinements)==null?void 0:a.includes)!=null&&u.call(a,e)))return t.length?this.only(...t):this;if(!i){let c=this.$type.only(e);s.set(e,i=new c(this.$up,this))}return p(i,sk)||this.$observed(),t.size?i.only(...t):i}sorted(e){return p(e,OPPlain)&&(e=OPSortFunction.for(e)),this.$sorter==e?this:this.only(e)}log(...e){return console.log("%c iter","color:lightpurple",...e)}clear(){return this.length=0,this}clean(){let e=this.filter(ZOo);for(let t=0,r=B(e),o=r.length;t<o;t++)r[t].unmount();return this}all(...e){return e[0]?this.only(...e):this}get len(){return this.size}get size(){return this.$sync(),this.length}emit(e,...t){return Il(this,e,t)}on(e,...t){return yl(this,e,...t)}once(e,...t){return bl(this,e,...t)}un(e,...t){return pa(this,e,...t)}slice(...e){return this.$sync(),super.slice(...e)}filter(e){return this.$sync(),super.filter(...arguments)}reduce(...e){return this.$sync(),super.reduce(...arguments)}map(e){return this.$sync(),super.map(e)}$observed(e=null){let t;(t=qi.ctx)&&(this.$f|=33554432,t.add(this,this))}$invalidate(e=null,t=null,r=null){let o;if(this.$f&33554432&&(this.$type.$$invalidated(0,this.$type,this),this.$$invalidated(0,this)),o=this.$refiners)for(let[n,i]of B(o))i.sourceinvalidated(this,e,t,r)}$$invalidated(e,t){let r,o=this.$dependents;if(o){if(r=qi.atomics){r.add(this);return}if(!(e>10)){this[l6e]=(this[l6e]||0)+1;for(let n of B(o))n.$$invalidated(e+1,this,t)}}}addSubscriber(e,t){(this.$dependents||=new Set).add(e)}removeSubscriber(e,t){let r;(r=this.$dependents)&&r.remove(e)}get $$v(){return this[l6e]||0}get resolved(){return!0}async[R3](){return this.$sources&&await this.$sources,this.$up==OP,!0}sourceinvalidated(e,t,r,o){var n=this;let i=this.$meta;if(!(i.flags&131072))return!0;let s=new Set,a=new Set,u=new Set,c=this.$sorter;return this.$run(function(h){var f;var d;if(t!=null&&t.size)for(let m of B(t))n.$match(h.matching=m)&&(s.add(m),u.add(m),n.__push__(m));if(h.matching=null,o!=null&&o.size)for(let m of B(o))(f=t==null?void 0:t.has)!=null&&f.call(t,m)||n.__includes__(m)&&u.add(m);if(u!=null&&u.size&&c&&(h.sorting=!0,i.flags|=268435456,p(c,OPSortFunction)&&c.invalidate(u,!0),h.sorting=!1),r!=null&&r.size){d=[];for(let m of B(r))d.push(n.__delete__(m)&&a.add(m));return d}},i),(s.size||a.size||u.size)&&this.$invalidate(s,a,u),!0}tracerinvalidated(e,t,r){var o=this;let n=this.$meta,i=this.$sorter,s=new Set,a=new Set,u=new Set,c=e;return p(c,OPInvalidations)||(c=new Map([[e,0]])),this.$run(function(h){var d;for(let[f,m]of B(c))if(p(f,Cf)&&(f=f.$up),!(!(f.$f&256)&&t&&!t.__includes__(f))){if(r.matching){let $=o.$match(h.matching=f),b=o.__includes__(f);!$&&b?a.add(f):$&&!b&&(o.__push__(f),u.add(f),s.add(f))}r.sorting&&!a.has(f)&&s.add(f)}if(h.matching=null,s.size&&(h.sorting=!0,i.sort?i.sort(o,{move:s}):o.sort(i),h.sorting=!1),a.size){d=[];for(let f of B(a))d.push(o.__delete__(f));return d}},n),(u.size||a.size||s.size)&&this.$invalidate(u,a,s),!0}};Cf.prototype[Le]=De,se([ho.bind([])],Cf.prototype,R3,null),E(Cf,T3t,"OPIterable",280);var Eu=Cf;globalThis.OPIterable=Eu;Eu.prototype.__includes__=Array.prototype.includes;Eu.prototype.__splice__=Array.prototype.splice;Eu.prototype.__slice__=Array.prototype.slice;Eu.prototype.__push__=Array.prototype.push;Eu.prototype.__filter__=Array.prototype.__filter__=Array.prototype.filter;Eu.prototype.__map__=Array.prototype.map;Eu.prototype.__unshift__=Array.prototype.unshift;Eu.prototype.__indexOf__=Array.prototype.indexOf;var O3t=Symbol(),f6e=class f6e extends Eu{static $$invalidated(e,t,r){var s,a,u,c;if(qi.atomics){qi.atomics.add(this);return}if((r==null?void 0:r.constructor)==Set&&(r=null),e>10)return;let o=(s=this.$path[0])==null?void 0:s.singleton;if(o&&r){let h=o,d=h;for(let f=0,m=B(this.$refinements.slice(1)),$=m.length;f<$;f++){let b=m[f],g=d&&d.$meta.refiners;d=g&&g.get(b)}if(d){let f=this.$tracer.map.get(t);d.tracerinvalidated(r,h,f)}}let n=(u=(a=this.$tracer)==null?void 0:a.invalidated)==null?void 0:u.call(a,e,t,r);if(!o&&n){if(n.size){let h=this.$tracer.map.get(t),d=this.$path.findIndex(function(g){var x;return(x=g==null?void 0:g.prototype)==null?void 0:x.$field}),f=d>=0?this.$path[d].prototype.$field:"$children",m=this.$refinements.slice(d+1),$=0,b=0;for(let[g,x]of B(n)){$++;let k=((c=g.$rich)==null?void 0:c[f])||g[f],_=k;for(let S=0,v=B(m),C=v.length;S<C;S++){let j=v[S];if(!_)break;let P=_.$refiners;_=P&&P.get(j)}if(_){if(_==r)continue;_.tracerinvalidated(r,k,h),b++}}return}else if(n.rxf&4096)return}if(e>0){this.$$v++;for(let[h,d]of B(this.$refiners))d.$$invalidated(e+1,this)}let i=this.$dependents;if(i)for(let h of B(i))h.$$invalidated(e+1,this,r);e==0&&qi.flush()}constructor(e,t=null){super(),this.$up=e,this.$sources=t,re(this,O3t)}get $index(){return this.$sources.$index}add(e){let t=this.$meta;return this.$sources&&LL("cannot directly add to a RefinedIndex with sources?!"),this.__push__(e),t.flags|=67108864,this.$invalidate(new Set([e])),this}$sync(e=0){var d,f;var t=this,r,o;let n=this.$type,i=this.$meta,s=i.synced,a=n.$$v;if(i.flags|=131072,s==a){if(i.flags&(r=67108864)&&(i.flags&=~r,!0)&&(i.flags&=-268435457,this.$sort(i)),i.flags&(o=268435456)&&(i.flags&=~o,!0)){let m=this.$sorter;p(m,OPSortFunction)?m.sort(this):m&&this.sort(m)}return e&4||this.$observed(),this}i.synced=a;let u=(f=(d=this.$sources)==null?void 0:d.$sync)==null?void 0:f.call(d,4),c=this.$sorter,h=c&&c!=(u==null?void 0:u.$sorter);return i.flags&=-67108865,this.$run(function(m){if(u){let $=0,b=u.length,g=u,x=0,k=t,_=t.length;for(;$<b;){let S=g[$],v=x>=_?null:k[x];t.$match(m.matching=S)&&(S!=v&&(k[x]=S),x++),$++}x<_&&(k.length=x)}if(m.matching=null,h)return m.sorting=t,p(c,OPSortFunction)?c.sort(t,{recompute:!0}):t.sort(c),m.sorting=!1},i),e&4||this.$observed(),this}};E(f6e,O3t,"OPRefinedIndex",16);var mQ=f6e;globalThis.OPRefinedIndex=mQ;var R3t=Symbol(),m6e=class m6e extends Eu{static get index(){return!0}assingleton(){return this.$type.configure({singleton:this}),this}get $up(){return this.$meta.up}get $sources(){return this.$meta.sources}constructor(e,t=null){super();let r=this.$meta={flags:0,refiners:null,up:e,sources:t};if(t){let o=0,n=0,i=t.length;for(;o<i;){let s=t[o++];this.$filter(s)&&(n++,this.__push__(s))}n&&this.$sorter&&this.$sort(r)}re(this,R3t)}add(e){let t=this.$meta;return this.__push__(e),t.flags|=67108864,this.$invalidate(new Set([e])),this}get $index(){return this}get[N3t](){return this}get $beacon(){return this}push(e){throw"push disallowed in OPIndex"}$sync(e=0){var t;return this.$f&(t=67108864)&&(this.$f&=~t,!0)&&this.$sort(),e&4||this.$observed(),this}[Symbol.match](e){return console.trace("called OPIndex[Symbol.match]"),this.has(e)}$accepts(e,t){var r,o;return(o=(r=this.$field)==null?void 0:r.$accepts)==null?void 0:o.call(r,e,t)}$consume(e,t){var r,o;return(o=(r=this.$field)==null?void 0:r.$consume)==null?void 0:o.call(r,e,t)}};E(m6e,R3t,"OPIndex",16);var sk=m6e;globalThis.OPIndex=sk;var M3t=Symbol(),KR=class KR extends sk{constructor(){super(...arguments),re(this,M3t)}[R3](){return!0}$sorter(e,t){return t.$plain._cre-e.$plain._cre}};KR.prototype[Le]=De,se([ho.bind([])],KR.prototype,R3,null),E(KR,M3t,"OPChildrenIndex",272);var u6e=KR;globalThis.OPChildrenIndex=u6e;var L3t=Symbol(),JR=class JR extends sk{constructor(){super(...arguments),re(this,L3t)}[R3](){return!0}role(e){let t=[];for(let r=this.$up.$rolemap,o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++)s=n[o],a=r[s],a&+e&&t.push(OP.get(s));return t}};JR.prototype[Le]=De,se([ho.bind([])],JR.prototype,R3,null),E(JR,L3t,"OPAffiliationsIndex",272);var c6e=JR;globalThis.OPAffiliationsIndex=c6e;var XOo=Symbol(),QR=class QR extends sk{$sorter(e,t){return t.$plain._cre-e.$plain._cre}get type(){return this.$up}};QR.$path=[QR],E(QR,XOo,"OPTypeIndex",0);var h6e=QR;globalThis.OPTypeIndex=h6e;var D3t=Symbol(),$6e=class $6e extends sk{static get[Symbol.species](){return Eu}constructor(e,t,r){super(e,t),this.$field=t,this.$rel=r,re(this,D3t)}get type(){return p(this.$rel,OPField)?this.$rel.model:this.$rel}$sorter(e,t){return t.$plain._cre-e.$plain._cre}add(e){return this.__includes__(e)||this.push(e),this}get id(){return""+this.$up.id+"/"+this.$field.name}get table(){var e;return(e=this.$rel)==null?void 0:e.model}get $root(){return this.$up.$root}};E($6e,D3t,"OPBacklink",16);var p6e=$6e;globalThis.OPBacklink=p6e;T();oe();ge(),dt(),$e(),gf();var y6e=Symbol(),I3t=Symbol(),F3t=Symbol(),H3t=Symbol(),$Q=Symbol(),B3t=Symbol(),eM=Symbol(),KOo=Symbol(),b6e=Symbol(),V3t=Symbol(),z3t=Symbol(),q3t=Symbol(),JOo=le("&.name",globalThis,l=>l.name),W3t=Symbol(),Z3t=Symbol(),G3t=Symbol(),yQ=Symbol(),Y3t=Symbol(),X3t=Symbol(),bQ=Symbol(),K3t=Symbol(),J3t=Symbol(),gQ=Symbol(),Q3t=Symbol(),kQ=Symbol(),ext=Symbol(),tM=Symbol(),QOo=Symbol(),rM=Symbol(),eRo=Symbol(),_Q=Symbol(),txt=Symbol(),rxt=Symbol(),xQ=Symbol(),Mw=Symbol(),tRo=Symbol(),oM=Symbol(),rRo=Symbol(),nM=Symbol(),oRo=Symbol(),vQ=Symbol(),oxt=Symbol(),nxt=Symbol(),ixt=Symbol(),sxt=Symbol(),lxt=Symbol(),g6e=Symbol(),axt=Symbol(),uxt=Symbol(),iM=Symbol(),nRo=Symbol(),sM=Symbol(),iRo=Symbol(),lM=Symbol(),sRo=Symbol(),wQ=Symbol(),aM=Symbol(),lRo=Symbol(),uM=Symbol(),aRo=Symbol(),cxt=Symbol(),Lw=Symbol(),uRo=Symbol(),SQ=Symbol(),hxt=Symbol(),pxt=Symbol(),CQ=Symbol(),Dw=Symbol(),cRo=Symbol();var k6e=Symbol(),dxt=Symbol(),cM=Symbol(),hRo=Symbol(),EQ=Symbol(),fxt=Symbol(),jQ=Symbol(),mxt=Symbol(),$xt=Symbol(),Nw=Symbol(),pRo=Symbol(),hM=Symbol(),dRo=Symbol(),AQ=Symbol(),yxt=Symbol(),UQ=Symbol(),bxt=Symbol(),gxt=Symbol(),kxt=Symbol(),_6e=Symbol(),_xt=Symbol(),xxt=Symbol(),x6e=Symbol(),vxt=Symbol(),wxt=Symbol(),PQ=Symbol(),Sxt=Symbol();var v6e=Symbol(),Cxt=Symbol(),Ext=Symbol(),jxt=Symbol(),Axt=Symbol(),TQ=Symbol(),Uxt=Symbol(),OQ=Symbol(),Pxt=Symbol(),Txt=Symbol(),RQ=Symbol(),Oxt=Symbol(),Rxt=Symbol(),Mxt=Symbol(),Lxt=Symbol(),Dxt=Symbol(),Nxt=Symbol(),MQ=Symbol(),Ixt=Symbol(),LQ=Symbol(),Fxt=Symbol(),Hxt=Symbol(),DQ=Symbol(),Bxt=Symbol(),Vxt=Symbol(),NQ=Symbol(),zxt=Symbol(),IQ=Symbol(),qxt=Symbol(),w6e=Symbol(),Wxt=Symbol(),Zxt=Symbol(),FQ=Symbol(),Gxt=Symbol(),Yxt=Symbol(),Xxt=Symbol(),Kxt=Symbol(),Jxt=Symbol(),So=Symbol.for("##up"),Oo=Symbol.for("##register"),ju=Symbol.for("#placeChild"),M3=Symbol.for("#getSlot"),Zl=Symbol.for("#getRenderContext"),Gl=Symbol.for("#isRichElement"),Pr=Symbol.for("#afterVisit"),uk=Symbol.for("#appendChild"),ck=Symbol.for("#replaceChild"),lk=Symbol.for("#insertInto"),ak=Symbol.for("#replaceWith"),fRo=Symbol.for("#registerFunctionalSlot"),Qxt=Symbol.for("#visit");globalThis.OPRenderSym=Symbol();var mRo=Symbol(),S6e=class S6e{obutton(e,t){return this.oel(e,"button",t)}obuttonif(e,t){return!e||p(e,OPAction)&&e.hidden?null:this.oel(e,"button",t)}otile(e,t){return this.oel(e,"tile",t)}otip(e,t){return this.oel(e,"tip",t)}omi(e,t){return this.oel(e,"mi",t)}oli(e,t){return this.oel(e,"li",t)}ofmt(e,t){var a;var r,o=H(),n,i,s;return e?(n=i=1,(r=o[y6e])||(n=i=0,r=o[y6e]=r=w("span",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,y6e)),pt.context=r[F3t]||(r[F3t]={_:r}),s=OP.fmt(t,e),pt.context=null,s===r[H3t]&&n||(r[I3t]=r[ju](r[H3t]=s,384,r[I3t])),r):null}oref(e,t){var d;var r,o=H(),n,i,s,a,u,c,h;return n=i=1,(r=o[$Q])||(n=i=0,r=o[$Q]=r=R("op",null,null,null)),n||(r[So]=o._),n||((d=r[Oo])==null||d.call(r,o,$Q)),s=r[M3]("__",r),e===r[B3t]||(r.data=r[B3t]=e),a=r[Zl](KOo),c=h=1,(u=a.run(this.oel(e,"ref")))||(c=h=0,a.cache(u=M(a.value,s,null,null))),u[Gl]&&(c||!u.setup||u.setup(h,a),u[Pr](h)),u==r[eM]||!r[eM]&&s[uk](r[eM]=u)||(s[ck](u,r[eM]),r[eM]=u),n||o.sym||!r.setup||r.setup(i,o,$Q),o.sym||r[Pr](i),r}odl(e,t){return this.oel(e,"dl",t)}olink(e,t){return this.oel(e,"link",t)}oicon(e,t){return this.oel(e,"icon",t)}opi(e,t){return this.oel(e,"pi",t)}ochip(e,t){return this.oel(e,"chip",t)}obadge(e,t){return this.oel(e,"badge",t)}obadges(e,t){return this.oel(e,"badges",t)}oinline(e,t){return this.oel(e,"inline",t)}ovalue(e,t){return this.oel(e,"value",t)}olabel(e,t){return this.oel(e,"label",t)}obody(e,t){return this.oel(e,"body",t)}ooptions(e,t){return this.oel(e,"options",t)}odialog(e,t){return this.oel(e,"dialog",t)}osection(e,t){return this.oel(e,"section",t)}opage(e,t){return this.oel(e,"page",t)}otab(e,t){return this.oel(e,"tab",t)}otabs(e,t){return this.oel(e,"tabs",t)}ofield(e,t){return this.oel(e,"field",t)}ofields(e,t){return this.oel(e,"fields",t)}oinput(e,t){return this.oel(e,"input",t)}oform(e,t){return this.oel(e,"form",t)}ostat(e,t){return!e||p(e,OPIterable)&&e.size==0||e.empty?null:this.oel(e,"stat",t)}ospanif(e,t){return!e||p(e,OPIterable)&&e.size==0||e.empty?null:this.ospan(e,t)}ospan(e,t){return this.oel(e,"span",t)}ostats(e,t){return this.oel(e,"stats",t)}opagestats(e,t){return this.oel(e,"pagestats",t)}oel(e,t="tag",r=this.ocontext,o=null){let n=OPVIEW(e,t,r);if(n){let i=n[OPRenderSym]||={kind:t};i[t]||(i[t]=!0,p(n,HTMLElement)&&n.flags.add("o"+t))}return n}get ocontext(){return this}oroleinfo(e=OP.user,t){var h;var r,o=H(),n,i,s,a,u;let c=OPRole.all(this.rolesfor(e));return n=i=1,(r=o[b6e])||(n=i=0,r=o[b6e]=r=w("div",null,null,null)),n||(r[So]=o._),n||((h=r[Oo])==null||h.call(r,o,b6e)),n||r[ju]("Roles for "),s=e==null?void 0:e.id,s===r[z3t]&&n||(r[V3t]=r[ju](r[z3t]=s,0,r[V3t])),(a=r[q3t])||(r[q3t]=a=w("span",r,null,null)),pt.context=r[Z3t]||(r[Z3t]={_:a}),u=c.map(JOo).join(", "),pt.context=null,u===r[G3t]&&n||(r[W3t]=a[ju](r[G3t]=u,384,r[W3t])),r}};E(S6e,mRo,"OPRenderer",1024);var BQ=S6e;globalThis.OPRenderer=BQ;var HQ=Symbol(),C6e=class C6e extends Qe(HQ,null,BQ){constructor(e=null){super(),this[A](e),re(this,HQ)}[A](e=null,t=!0,r=!0){var o;(o=this[HQ])==null||o.call(this,...arguments)}get aslabel(){var e;return this.label||this.name||this.title||this.$up&&((e=this.$field)==null?void 0:e.aslabel)||this.askindlabel}get askindlabel(){return this.constructor.aslabel}get aspilllabel(){return this.aslabel}get asoptionlabel(){return this.aslabel}get aslilabel(){return this.aslabel}get astilelabel(){return this.aslabel}get aslinklabel(){return this.aslabel}get asstatlabel(){return this.aslabel}get asshortlabel(){return this.aslabel}get aspathlabel(){return this.aslabel}get aspilabel(){return this.aslilabel}get asmilabel(){return this.aslilabel}get asnavlabel(){return this.asshortlabel}get asbadgelabel(){return this.asshortlabel}get aschiplabel(){return this.aspilllabel}get asdetail(){return this.detail||""}get aspilldetail(){return this.asdetail}get asoptiondetail(){return this.asdetail}get asmidetail(){return this.asdetail}get aspidetail(){return this.asmidetail}get astitle(){return this.aslabel}get astiletitle(){return this.astitle}get ascolor(){return this.color||null}get asicon(){return this.icon||this.aslabel}get aspillicon(){return this.asicon}get asslug(){if(this.embed)return String(this.$key);let e=this.asshortlabel;return e&&e!=this.id?""+e.slug+"-"+this.id:this.id}get asfullurl(){return""+OP.origin+this.asurl}get asurl(){let e=this.asslug,t=this.$up,r=this.embed?this.$up.asurl:"";return p(t,OPEntries)&&t.$field.name=="entries"&&(r=t.$up.asurl),e=r+"/"+e,e}get ashref(){return""+OP.origin+this.asurl}opowninspector(...e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[yQ])||(o=n=0,t=r[yQ]=t=R("op-inspector",null,null,null)),o||(t[So]=r._),o||((s=t[Oo])==null||s.call(t,r,yQ)),i=this,i===t[Y3t]||(t.data=t[Y3t]=i),i=this.$.$inspectable,i===t[X3t]||(t.fields=t[X3t]=i),o||r.sym||!t.setup||t.setup(n,r,yQ),r.sym||t[Pr](n),t}opowneditor(...e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[bQ])||(o=n=0,t=r[bQ]=t=R("op-inspector",null,null,null)),o||(t[So]=r._),o||((s=t[Oo])==null||s.call(t,r,bQ)),i=this,i===t[K3t]||(t.data=t[K3t]=i),i=this.$.$editable,i===t[J3t]||(t.fields=t[J3t]=i),o||(t.focusfirstinput="focus-first-input"),o||r.sym||!t.setup||t.setup(n,r,bQ),r.sym||t[Pr](n),t}opownstats(...e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[gQ])||(o=n=0,t=r[gQ]=t=R("op-stats",null,null,null)),o||(t[So]=r._),o||((s=t[Oo])==null||s.call(t,r,gQ)),i=this,i===t[Q3t]||(t.data=t[Q3t]=i),o||r.sym||!t.setup||t.setup(n,r,gQ),r.sym||t[Pr](n),t}opownchip(...e){var $;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m;return o=n=1,(t=r[kQ])||(o=n=0,t=r[kQ]=t=w("span",null,null,null)),o||(t[So]=r._),o||(($=t[Oo])==null||$.call(t,r,kQ)),i=this,i===t[ext]||(t.odata=t[ext]=i),s=t[Zl](QOo),u=c=1,(a=s.run(this.oicon(this)))||(u=c=0,s.cache(a=M(s.value,t,null,null))),a[Gl]&&(u||!a.setup||a.setup(c,s),a[Pr](c)),a==t[tM]||!t[tM]&&(t[tM]=a)[lk](t)||t[tM][ak](t[tM]=a,t),h=t[Zl](eRo),f=m=1,(d=h.run(this.oel(this,"chip-label")))||(f=m=0,h.cache(d=M(h.value,t,null,null))),d[Gl]&&(f||!d.setup||d.setup(m,h),d[Pr](m)),d==t[rM]||!t[rM]&&(t[rM]=d)[lk](t)||t[rM][ak](t[rM]=d,t),o||r.sym||!t.setup||t.setup(n,r,kQ),r.sym||t[Pr](n),t}opownmi(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[_Q])||(n=i=0,r=o[_Q]=r=R("op-mi",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,_Q)),s=this,s===r[txt]||(r.data=r[txt]=s),n||(r.role="menuitem"),t===r[rxt]||(r.context=r[rxt]=t),n||o.sym||!r.setup||r.setup(i,o,_Q),o.sym||r[Pr](i),r}opownmibody(...e){var x;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g;return o=n=1,(t=r[xQ])||(o=n=0,t=r[xQ]=t=w("div",null,null,null)),o||(t[So]=r._),o||((x=t[Oo])==null||x.call(t,r,xQ)),i=t[Zl](tRo),a=u=1,(s=i.run(this.oel(this,"mi-icon")))||(a=u=0,i.cache(s=M(i.value,t,"mi-icon",null))),s[Gl]&&((!a||u&2)&&s.flags.reconcile(Mw,"mi-icon"),a||!s.setup||s.setup(u,i),s[Pr](u)),s==t[Mw]||!t[Mw]&&(t[Mw]=s)[lk](t)||t[Mw][ak](t[Mw]=s,t),c=t[Zl](rRo),d=f=1,(h=c.run(this.oel(this,"mi-label")))||(d=f=0,c.cache(h=M(c.value,t,null,null))),h[Gl]&&(d||!h.setup||h.setup(f,c),h[Pr](f)),h==t[oM]||!t[oM]&&(t[oM]=h)[lk](t)||t[oM][ak](t[oM]=h,t),m=t[Zl](oRo),b=g=1,($=m.run(this.oel(this,"mi-suffix")))||(b=g=0,m.cache($=M(m.value,t,null,null))),$[Gl]&&(b||!$.setup||$.setup(g,m),$[Pr](g)),$==t[nM]||!t[nM]&&(t[nM]=$)[lk](t)||t[nM][ak](t[nM]=$,t),o||r.sym||!t.setup||t.setup(n,r,xQ),r.sym||t[Pr](n),t}opentriesstat(e){var u;var t,r=H(),o,n,i,s;let a=e.name||"Variables";return o=n=1,(t=r[vQ])||(o=n=0,t=r[vQ]=t=R("op-stat",null,null,null)),o||(t[So]=r._),o||((u=t[Oo])==null||u.call(t,r,vQ)),i=t[M3]("__",t),s=e.size,s===t[nxt]&&o||(t[oxt]=i[ju](t[nxt]=s,128,t[oxt])),o||i[ju](" "),pt.context=t[sxt]||(t[sxt]={_:i}),s=a.pluralize(e.size),pt.context=null,s===t[lxt]&&o||(t[ixt]=i[ju](t[lxt]=s,256,t[ixt])),o||r.sym||!t.setup||t.setup(n,r,vQ),r.sym||t[Pr](n),t}opentriesinput(...e){var O;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;o=n=1,(t=r[g6e])||(o=n=0,t=r[g6e]=t=w("div",null,"kh-aw",null)),o||(t[So]=r._),o||((O=t[Oo])==null||O.call(t,r,g6e)),(i=t[axt])||(t[axt]=i=wt(384,t)),s=0,a=i.$;for(let L=0,I=B(this.entries),F=I.length;L<F;L++){let N=I[L];c=d=1,(u=a.get(h=N))||(c=d=0,a.set(h,u=R("op",null,"kh-ax",null))),c||(u[So]=i),f=u[M3]("__",u),N===u[uxt]||(u.data=u[uxt]=N),m=u[Zl](nRo),b=g=1,($=m.run(this.oinput(N.$.name)))||(b=g=0,m.cache($=M(m.value,f,null,null))),$[Gl]&&(b||!$.setup||$.setup(g,m),$[Pr](g)),$==u[iM]||!u[iM]&&f[uk](u[iM]=$)||(f[ck]($,u[iM]),u[iM]=$),x=u[Zl](iRo),_=S=1,(k=x.run(this.oinput(N.$.value)))||(_=S=0,x.cache(k=M(x.value,f,null,null))),k[Gl]&&(_||!k.setup||k.setup(S,x),k[Pr](S)),k==u[sM]||!u[sM]&&f[uk](u[sM]=k)||(f[ck](k,u[sM]),u[sM]=k),v=u[Zl](sRo),j=P=1,(C=v.run(this.obuttonif(N.deleteitem)))||(j=P=0,v.cache(C=M(v.value,f,null,null))),C[Gl]&&(j||(C.label=!1),j||!C.setup||C.setup(P,v),C[Pr](P)),C==u[lM]||!u[lM]&&f[uk](u[lM]=C)||(f[ck](C,u[lM]),u[lM]=C),c||!u.setup||u.setup(d,U),u[Pr](d),i.push(u,s++,h)}return i[Pr](s),t}opownfields(...e){var v;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;return o=n=1,(t=r[wQ])||(o=n=0,t=r[wQ]=t=w("div",null,"kh-bb",null)),o||(t[So]=r._),o||((v=t[Oo])==null||v.call(t,r,wQ)),i=t[Zl](lRo),a=u=1,(s=i.run(this.ofield(this.$.name)))||(a=u=0,i.cache(s=M(i.value,t,null,null))),s[Gl]&&(a||!s.setup||s.setup(u,i),s[Pr](u)),s==t[aM]||!t[aM]&&(t[aM]=s)[lk](t)||t[aM][ak](t[aM]=s,t),c=t[Zl](aRo),d=f=1,(h=c.run(this.ofield(this.entries)))||(d=f=0,c.cache(h=M(c.value,t,null,null))),h[Gl]&&(d||!h.setup||h.setup(f,c),h[Pr](f)),h==t[uM]||!t[uM]&&(t[uM]=h)[lk](t)||t[uM][ak](t[uM]=h,t),$=b=1,(m=t[cxt])||($=b=0,t[cxt]=m=w("fieldset",t,null,null)),g=m[Zl](uRo),k=_=1,(x=g.run(this.obutton(this.newkey)))||(k=_=0,g.cache(x=M(g.value,m,"kh-bf primary green",null))),x[Gl]&&((!k||_&2)&&x.flags.reconcile(Lw,"kh-bf primary green"),k||!x.setup||x.setup(_,g),x[Pr](_)),x==m[Lw]||!m[Lw]&&(m[Lw]=x)[lk](m)||m[Lw][ak](m[Lw]=x,m),$||!m.setup||m.setup(b,S),m[Pr](b),o||r.sym||!t.setup||t.setup(n,r,wQ),r.sym||t[Pr](n),t}opowndescription(e,t={}){var a;var r,o=H(),n,i;let s=t.only||e.$shape.$own.toIterable();return s=s.map(function(u){return e.$[u.name||u]}).filter(function(u){return u}),n=i=1,(r=o[SQ])||(n=i=0,r=o[SQ]=r=R("op-descriptions",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,SQ)),s===r[hxt]||(r.props=r[hxt]=s),e===r[pxt]||(r.target=r[pxt]=e),n||o.sym||!r.setup||r.setup(i,o,SQ),o.sym||r[Pr](i),r}opownfield(){var b,g;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$;return r=o=1,(e=t[CQ])||(r=o=0,e=t[CQ]=e=R("op",null,"ofield",null)),r||(e[So]=t._),r||((b=e[Oo])==null||b.call(e,t,CQ)),n=e[M3]("__",e),i=e[Zl](cRo),a=u=1,(s=i.run(this.olabel(this)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Gl]&&(c=((g=this.$field)==null?void 0:g.required)||void 0,c===s[k6e]||(u|=2,s[k6e]=c),(!a||u&2)&&s.flags.reconcile(Dw,s[k6e]?"kh-bj":""),a||!s.setup||s.setup(u,i),s[Pr](u)),s==e[Dw]||!e[Dw]&&n[uk](e[Dw]=s)||(n[ck](s,e[Dw]),e[Dw]=s),h=e[fRo]("__"),e[dxt]=n[ju](h,0,e[dxt]),d=e[Zl](hRo),m=$=1,(f=d.run(this.oinput(this)))||(m=$=0,d.cache(f=M(d.value,n,null,null))),f[Gl]&&(m||!f.setup||f.setup($,d),f[Pr]($)),f==e[cM]||!e[cM]&&n[uk](e[cM]=f)||(n[ck](f,e[cM]),e[cM]=f),r||t.sym||!e.setup||e.setup(o,t,CQ),t.sym||e[Pr](o),e}get opowninput(){return this.opownreadonly}opownreadonly(){var s;var e=this,t=H(),r,o,n,i;return t.this=this,o=n=1,(r=t[EQ])||(o=n=0,r=t[EQ]=r=R("op-button",null,"kh-bm",null)),o||(r[So]=t._),o||((s=r[Oo])==null||s.call(r,t,EQ)),o||r.on$("click",{$_:[function(a,u){return OP.copystr(t.this.value)}]},this),i=String(this.value),i===r[fxt]||(r.label=r[fxt]=i),o||(r.icon="copy"),o||t.sym||!r.setup||r.setup(n,t,EQ),t.sym||r[Pr](n),r}get opowndialog(){return this.opowninspector}opownstat(){var $;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return!this.r||this.value===void 0||this.value===null?null:(r=o=1,(e=t[jQ])||(r=o=0,e=t[jQ]=e=R("op-stat",null,null,null)),r||(e[So]=t._),r||(($=e[Oo])==null||$.call(e,t,jQ)),n=e[M3]("__",e),i=this,i===e[mxt]||(e.data=e[mxt]=i),i=this.ascolor,i===e[$xt]||(e.opcolor=e[$xt]=i),r||e.on$("optip",{},this),s=e[Zl](pRo),u=c=1,(a=s.run(this.oel(this,"stat-icon")))||(u=c=0,s.cache(a=M(s.value,n,"kh-bo",null))),a[Gl]&&((!u||c&2)&&a.flags.reconcile(Nw,"kh-bo"),u||!a.setup||a.setup(c,s),a[Pr](c)),a==e[Nw]||!e[Nw]&&n[uk](e[Nw]=a)||(n[ck](a,e[Nw]),e[Nw]=a),h=e[Zl](dRo),f=m=1,(d=h.run(this.oel(this,"stat-label")))||(f=m=0,h.cache(d=M(h.value,n,null,null))),d[Gl]&&(f||!d.setup||d.setup(m,h),d[Pr](m)),d==e[hM]||!e[hM]&&n[uk](e[hM]=d)||(n[ck](d,e[hM]),e[hM]=d),r||t.sym||!e.setup||e.setup(o,t,jQ),t.sym||e[Pr](o),e)}opowntab(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[AQ])||(n=i=0,r=o[AQ]=r=R("op-tab",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,AQ)),s=this,s===r[yxt]||(r.data=r[yxt]=s),n||o.sym||!r.setup||r.setup(i,o,AQ),o.sym||r[Pr](i),r}opowndl(e,t){return this.oel(this,"field",t)}opownli(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[UQ])||(n=i=0,r=o[UQ]=r=R("op-li",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,UQ)),s=this,s===r[bxt]||(r.data=r[bxt]=s),t===r[gxt]||(r.context=r[gxt]=t),t===r[kxt]||(r.ctx=r[kxt]=t),n||o.sym||!r.setup||r.setup(i,o,UQ),o.sym||r[Pr](i),r}opownspan(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[_6e])||(n=i=0,r=o[_6e]=r=w("span",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,_6e)),s=this.aslabel,s===r[xxt]&&n||(r[_xt]=r[ju](r[xxt]=s,384,r[_xt])),r}opownliheading(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[x6e])||(r=o=0,e=t[x6e]=e=w("h2",null,null,null)),r||(e[So]=t._),r||((i=e[Oo])==null||i.call(e,t,x6e)),n=this.aslilabel,n===e[wxt]&&r||(e[vxt]=e[ju](e[wxt]=n,384,e[vxt])),e}opownbadge(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[PQ])||(r=o=0,e=t[PQ]=e=R("op",null,null,null)),r||(e[So]=t._),r||((u=e[Oo])==null||u.call(e,t,PQ)),n=e[M3]("__",e),i=this.ascolor,i===e[Sxt]||(e.opaccent=e[Sxt]=i),i=this.cssclasses,i===e[v6e]||(o|=2,e[v6e]=i),i=this,i===e[Cxt]||(e.data=e[Cxt]=i),r||e.on$("optip",{},this),o&2&&e.flag$(e[v6e]||""),(s=e[Ext])||(e[Ext]=s=w("span",n,"olabel",null)),a=this.asbadgelabel,a===e[Axt]&&r||(e[jxt]=s[ju](e[Axt]=a,384,e[jxt])),r||t.sym||!e.setup||e.setup(o,t,PQ),t.sym||e[Pr](o),e}opownmore(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[TQ])||(r=o=0,e=t[TQ]=e=R("op-button",null,"square",null)),r||(e[So]=t._),r||((i=e[Oo])==null||i.call(e,t,TQ)),r||e.on$("click",{emit:["contextmenu"]},this),n=this,n===e[Uxt]||(e.data=e[Uxt]=n),r||(e.icon="more"),r||(e.label="More"),r||t.sym||!e.setup||e.setup(o,t,TQ),t.sym||e[Pr](o),e}opownref(e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[OQ])||(o=n=0,t=r[OQ]=t=R("op-reference",null,null,null)),o||(t[So]=r._),o||((s=t[Oo])==null||s.call(t,r,OQ)),i=this,i===t[Pxt]||(t.data=t[Pxt]=i),e===t[Txt]||(t.context=t[Txt]=e),o||r.sym||!t.setup||t.setup(n,r,OQ),r.sym||t[Pr](n),t}opowninlineref(){var c,h,d;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[RQ])||(r=o=0,e=t[RQ]=e=R("op",null,null,null)),r||(e[So]=t._),r||((c=e[Oo])==null||c.call(e,t,RQ)),n=e[M3]("__",e),i=this,i===e[Oxt]||(e.data=e[Oxt]=i),s=e[Rxt]||(e[Rxt]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,o|=48),r||e.on$("optip",s,this),o&32&&(o^=32,(h=s[Qxt])==null||h.call(s)),s=e[Mxt]||(e[Mxt]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,o|=48),r||e.on$("opmenu",s,this),o&32&&(o^=32,(d=s[Qxt])==null||d.call(s)),(a=e[Lxt])||(e[Lxt]=a=w("span",n,null,null)),u=this.aslabel,u===e[Nxt]&&r||(e[Dxt]=a[ju](e[Nxt]=u,384,e[Dxt])),r||t.sym||!e.setup||e.setup(o,t,RQ),t.sym||e[Pr](o),e}opownarg(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[MQ])||(n=i=0,r=o[MQ]=r=R("op-label",null,"op-arg oarg",null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,MQ)),s=this.asshortlabel,s===r[Ixt]||(r.value=r[Ixt]=s),n||o.sym||!r.setup||r.setup(i,o,MQ),o.sym||r[Pr](i),r}opownbutton(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[LQ])||(n=i=0,r=o[LQ]=r=R("op-button",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,LQ)),s=this,s===r[Fxt]||(r.data=r[Fxt]=s),t===r[Hxt]||(r.context=r[Hxt]=t),n||o.sym||!r.setup||r.setup(i,o,LQ),o.sym||r[Pr](i),r}opownpi(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[DQ])||(n=i=0,r=o[DQ]=r=R("op-pi",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,DQ)),s=this,s===r[Bxt]||(r.data=r[Bxt]=s),t===r[Vxt]||(r.context=r[Vxt]=t),n||o.sym||!r.setup||r.setup(i,o,DQ),o.sym||r[Pr](i),r}opownicon(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[NQ])||(n=i=0,r=o[NQ]=r=R("op-icon",null,null,null)),n||(r[So]=o._),n||((a=r[Oo])==null||a.call(r,o,NQ)),s=this,s===r[zxt]||(r.data=r[zxt]=s),n||o.sym||!r.setup||r.setup(i,o,NQ),o.sym||r[Pr](i),r}opowncontextmenu(e,t={}){var f,m,$,b;var r=this,o,n=H(),i,s;let a=[],u={},c=t.depth||0,h=(((m=(f=t.sources)==null?void 0:f.slice)==null?void 0:m.call(f,0))||[]).filter(function(g){return g!=r}),d=new Map;if(!this.$shape)return null;for(let g=0,x=B(this.$shape),k=x.length;g<k;g++){let _=x[g];if(u[_.name]=!0,_.g%1>c)continue;let S=this.$[_];S!=null&&S.g&&(d.set(S,_.g),S.hidden||a.push(S))}p(this,Element)&&a.empty&&h.empty&&this.data&&h.push(this.data);for(let g=0,x=B(h),k=x.length;g<k;g++){let _=x[g];for(let S=0,v=B(_.$shape),C=v.length;S<C;S++){let j=v[S];if(u[j.name]||j.g%1>c)continue;let P=_.$[j];P!=null&&P.g&&(d.set(P,j.g),P.hidden||a.push(P))}}if(($=t==null?void 0:t.up)!=null&&$.removeitem){let g=t.up.removeitem.for(this);a.push(g)}if(!a.empty)return a=a.asc(d),i=s=1,(o=n[IQ])||(i=s=0,o=n[IQ]=o=R("op-mis",null,null,null)),i||(o[So]=n._),i||((b=o[Oo])==null||b.call(o,n,IQ)),i||o.on$("opnav",{stack:!0,area:!0,list:!0},this),a===o[qxt]||(o.items=o[qxt]=a),i||n.sym||!o.setup||o.setup(s,n,IQ),n.sym||o[Pr](s),o}opownlabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[w6e])||(r=o=0,e=t[w6e]=e=w("span",null,null,null)),r||(e[So]=t._),r||((i=e[Oo])==null||i.call(e,t,w6e)),n=this.aslabel,n===e[Zxt]&&r||(e[Wxt]=e[ju](e[Zxt]=n,384,e[Wxt])),e}opownlink(){var a;var e,t=H(),r,o,n,i,s;return r=o=1,(e=t[FQ])||(r=o=0,e=t[FQ]=e=w("a",null,"link",null)),r||(e[So]=t._),r||((a=e[Oo])==null||a.call(e,t,FQ)),n=this.asurl,n===e[Gxt]||(e.routeto=e[Gxt]=n),n=this,n===e[Yxt]||(e.odata=e[Yxt]=n),(i=e[Xxt])||(e[Xxt]=i=w("span",e,null,null)),s=this.aslinklabel||this.aslabel,s===e[Jxt]&&r||(e[Kxt]=i[ju](e[Jxt]=s,384,e[Kxt])),r||t.sym||!e.setup||e.setup(o,t,FQ),t.sym||e[Pr](o),e}};E(C6e,HQ,"OPRenderable",1104);var VQ=C6e;globalThis.OPRenderable=VQ;var $Ro=Symbol(),E6e=class E6e{};Dgt(OPError,VQ),E(E6e,$Ro,"OPError",65,OPError);var evt=E6e;T();oe();var j6e=Symbol.for("#debug"),hk=Symbol.for("#cloud"),yRo=Symbol.for("#resolve"),tvt=Symbol.for("#v"),zQ=Symbol.for("#up"),qQ=Symbol(),U6e=class U6e extends Qe(qQ,null,OPSecured){constructor(e=null){super(),this[A](e),re(this,qQ)}[A](e=null,t=!0,r=!0){var o;(o=this[qQ])==null||o.call(this,...arguments)}static get(e,t){return OP.get(e,t)}get debug(){var e;return this[j6e]||((e=this.$up)==null?void 0:e[j6e])}set debug(e){this[j6e]=e}get $field(){return null}get $parent(){return this.$up||OP}get $root(){var e;return((e=this.$up)==null?void 0:e.$root)||this}get $id(){return this.id}get $path(){let e=new OPNodePath,t=this;for(;t;)e.unshift(t.$key),t=t.$up;return e}$checkout(){if(this.$up){let o=this.$root.$checkout();for(let n=0,i=B(this.$path.slice(1)),s=i.length;n<s;n++){let a=i[n];o=o.$sub(a)}return o}let e={$upstream:this,rolesfor:function(o){return this.$upstream.rolesfor(o)}};e.autosave=!1;let t={};this.$up||(t.id=""+this.id+"~"+OPKey.random(3)),t[hk]=OP.clone(this.$plain);let r=new this.constructor(t,8392704,this.$up,this.$key);return r.$apply(t[hk],32768),OP.defineProps(r,e),r}$closest(e){let t=this.$up;for(;t;){let r=t.$up;if(p(e,Function)&&e(t,r))return t;t=r}return null}get rev(){return this.$root.$plain._rev}get partial(){var e;return((e=this.$cloud)==null?void 0:e._)&1}get deferred(){return this.$cloud===65536}debug(...e){}get unstaged(){return this.$f&8388608||!this.exists}get staged(){return!this.unstaged}get local(){return this.$f&4194304&&!this.$plain[hk]}get fresh(){return this.$f&4194304&&!this.$plain[hk]}get exists(){return this.$f&4194304||!!this.$plain[hk]||this.$up&&this.$up.exists&&!this.$field.wildcard}get deleted(){return this.$f&2048}get unsaved(){return!this.saved}get saved(){return this.virtual?!0:this.keyed?this.$up.saved:!!this.$plain[hk]}get unresolved(){return!this.resolved}get virtual(){return(this.$f&512)>0||this.$key&&this.$key.virtual}rolesfor(e,t=null){var r,o;return((o=(r=this.$up)==null?void 0:r.rolesfor)==null?void 0:o.call(r,e))??0}get resolved(){let e=this.$f;return this.$up&&!this.$up.resolved||e&65536?!1:e&4194304||this.$plain[hk]!==void 0||this[yRo].check(this).met?!0:this.embed?this.$up.resolved:this.local||this.saved||this.virtual?!0:typeof this.rev=="number"}stage(){return this.$stage()}$stage(){var e;return this.$f&(e=8388608)&&(this.$f&=~e),this.staged||(this.$f|=4194304),this}unstage(e=!0){return this.$unstage(e)}$unstage(e=!0){var t;return(this.$f&(t=8388608))!=t&&(this.$f|=t,!0)&&LL("move to unstaged!"),this}get mounted(){return this.$mounted}get unmounted(){return this.$unmounted}get $mounted(){return(this.$f&1048832)>0}get $unmounted(){return!this.$mounted}get $$v(){return this[tvt]||0}set $$v(e){this[tvt]=e}reset(...e){return this.$reset(...e),this}get $store(){return this.$field.$store}get $stored(){return this.$cloud}get $cloud(){return this.$plain[hk]}set $cloud(e){let t;(t=this.$parent.$cloud)&&(t[this.$key]=e)}get $common(){let e;if(e=this.$parent.$common)return e[this.$key]??={}}get $povplain(){let e;if(!this.$up)return OP.$$pov.getplain(this);if(e=this.$parent.$povplain)return e[this.$key]??={[zQ]:e}}get $localplain(){let e;if(e=this.$parent.$localplain)return e[this.$key]??={[zQ]:e}}get $sessionplain(){let e;if(e=this.$parent.$sessionplain)return e[this.$key]??={[zQ]:e}}get $channeldata(){let e;if(e=this.$parent.$channeldata)return e[this.$key]??={[zQ]:e}}get $upstream(){return this.$branch?OP.get(this.id.replace(/(\w)~\w+/,"$1")):null}get dirty(){return this.exists?this.$diff():!1}get embed(){return!!this.$up}get shadow(){return this.$branch}get $branch(){return this.$f&4096}get keyed(){var e;return this.$up&&!p(this.$up,OPEntries)&&(((e=this.$field)==null?void 0:e.$f)&524288)==0}};E(U6e,qQ,"OPLifecycled",1104);var A6e=U6e;globalThis.OPLifecycled=A6e;function bRo(l,e){return l[l.length+e]}ge(),dt(),We(),$e();var P6e=Symbol("id"),rvt=Symbol(),T6e=Symbol("__save_pov"),ovt=Symbol(),O6e=Symbol("save-with-toast"),nvt=Symbol(),R6e=Symbol("destroy-with-toast"),ivt=Symbol(),M6e=Symbol("_cre"),svt=Symbol(),L6e=Symbol("_mod"),lvt=Symbol(),D6e=Symbol("_del"),avt=Symbol(),N6e=Symbol("_rev"),uvt=Symbol(),I6e=Symbol("_pub"),cvt=Symbol(),F6e=Symbol("_pos"),hvt=Symbol(),H6e=Symbol("_bits"),pvt=Symbol(),B6e=Symbol("data"),dvt=Symbol(),pM=Symbol(),V6e=Symbol(),z6e=Symbol("inspect-item"),fvt=Symbol(),q6e=Symbol("edit-item"),mvt=Symbol(),W6e=Symbol("copy-id"),$vt=Symbol(),Z6e=Symbol("edit-fields"),yvt=Symbol(),bvt,WQ=Symbol(),gvt=Symbol(),kvt=Symbol(),ZQ=Symbol(),_vt=Symbol(),xvt=Symbol(),GQ=Symbol(),vvt=Symbol(),G6e=Symbol(),wvt=Symbol(),Svt=Symbol(),I2,Y6e,X6e,H1,pk,dM,fM,mM,$M,Cvt,K6e,YQ=Symbol(),Evt=Symbol(),gRo=le("&.dialog",globalThis,l=>l.dialog),XQ=Symbol(),jvt=Symbol(),F2,xh,H2,Iw,KQ=Symbol(),Avt=Symbol(),Uvt=Symbol(),kRo=Symbol.for("#matcher"),J6e=Symbol.for("#presolve"),dk=Symbol.for("#resolve"),Pvt=Symbol.for("#mount"),Tvt=Symbol.for("#unmount"),Ovt=Symbol.for("#shape"),Rvt=Symbol.for("#finalized"),Mvt=Symbol.for("#name"),JQ=Symbol.for("#meta"),L3=Symbol.for("##up"),D3=Symbol.for("##register"),Fw=Symbol.for("#afterVisit"),_Ro=Symbol.for("#getSlot"),Lvt=Symbol.for("#placeChild"),xRo=Symbol.for("#v"),yM=Symbol.for("#composite"),Hw=Symbol.for("#store"),Dvt=Symbol.for("#primitive"),Nvt=Symbol.for("#oid"),Ivt=Symbol.for("#autosave"),vRo=Symbol.for("#autosave?"),bM=Symbol.for("#up"),Fvt=Symbol.for("#warned"),Q6e=Symbol.for("#resolver"),wRo=Symbol.for("#metadata"),eke=Symbol.for("#cloud"),Hvt=Symbol.for("#inited-enums"),SRo=Symbol.for("#key"),CRo=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i,tke={},Bvt=new Map;function gM(l,e,t){var r,o=this;if(r=t.get)t.get=function(){let n=tke[e]??=new WeakMap;if(n.has(this))return n.get(this);let i=r.call(this);return n.set(this,i),i};else if(p(t.value,Function)){let n=t.value;t.value=function(i){let s=tke[e]??=new WeakMap;if(s.has(this)){let a=s.get(this)}if(o.mem||s.set(this,o.mem=new Map),s.has(i)){let a=o.mem.get(i)}return o.res??s.set(i,o.res=n.apply(this,arguments)),o.res}}return t}var Vvt=!1,QQ=Symbol(),fo=class fo extends Qe(QQ,OPBase,OPLifecycled,OPRenderable){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[QQ])==null||o.call(this,...arguments)}get cname(){return this.constructor.name}get plain(){let e={};for(let t=this.$plain,r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],p(s,Object)?e[i]="{..}":e[i]=s;return console.table(e)}set id(e){this.id.$set(e,this,P6e,"id")}get id(){return this.id.$get(this,P6e,"id")}get id(){return this[rvt]||y((bvt=this.key(),bvt),this,P6e,"id",rvt,fo.prototype)}static get opconstructor(){return!0}static get subtypes(){return this.types.filter(le("& != self",this,e=>e!=this))}static get $(){var e=this;if(!this[Ovt]){let t=Bvt.get(this);return t||Bvt.set(this,t=new Proxy(this,{get:function(r,o){if(typeof o=="string"){let n=r.prototype[""+o];return n&&n.model!=e&&!p(n,OPActionField)&&(n=n.$for(e)),n}else return r.prototype[o]}})),t}return this.$shape}static raise(e={}){typeof e=="string"&&(e={message:e});let t=new OPError(e.message||"OPError");throw e.roles=this.rolesfor(OP.agent),t.data={id:this.id,agent:OP.agent,...e},t}static toString(){return this.id}static get virtual(){return this.key.virtual}static get key(){return this.prototype.id.forType(this)}static compositekeyfor(e){let t=this.$shape.$composite,r=!!t;if(t||(t=Object.keys(e)),t){let o={};for(let s of B(t))e[s]!=null&&(p(s,OPBitField)?e[s]&&(o._bits|=s.number):o[s]=e[s]);let n=OP.msgpack.stringify(o);return this.id+"2"+n}}static async find(e){return this.all().find(function(t){for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)if(i=o[r],s=e[i],t[i]!=s)return!1;return!0})}static async filter(e){return this.all().find(function(t){for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)if(i=o[r],s=e[i],t[i]!=s)return!1;return!0})}static async where(e){return LL("where not supported on web"),await OP.findmany(this,e)}static fetchall(){if(LL("fetch all",String(this.table)),this.table==this)return OP.preload`select * from ${this}`;if(this.table)return OP.preload`select * from ${this.table} where _typ = ${this.id}`}static fetchalldeep(){var e;e=[];for(let r of B(this.types))r.table==r&&(r.virtual||e.push(r.fetchall()));let t=e;return Promise.all(t)}static inherited(e){return tke={},this==fo&&!Vvt&&(Vvt=!0,this.types=new XR,this.setup(null)),e.setup(this),e}static[kRo](e){return e instanceof this||e===this.prototype}static toIterable(){return OP.all(this)}static asembeddablefor(e){return this}static get size(){return this.toIterable().size}static get aslabel(){return this.name.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z])/g,"$1 $2")}static all(...e){return this.enums,OP.all(this,...e).resolved}static construct(e,t=0,r=null){let o=this,n=this.key;return o.hasOwnProperty(Symbol.for("#finalized"))||o.finalize(),n.virtual&&(t|=640),t|=n.$f&55,new o(e,t)}static finalize(){if(!(this[Rvt]!=this&&(this[Rvt]=this,!0)))return;if(this.key.bit)return this.prototype[Symbol.toPrimitive]=function(t){return t=="string"?this.id:this._bit??=parseInt(this.oid,32)}}static setup(e){var t,r;let o=this.name,n=OPObjectRegistry,i=this.namespace,s=(o.match(/^OP([A-Z]\w+)$/)||[])[1];if(this[Mvt]=s||o,this.root=fo,this.parent=e,this.$enums=Object.create((e==null?void 0:e.$enums)||{}),this.$base=this,this===this.root&&(n.O=this),!e)return;if(this.table=this.table===!1?!1:e.table??this,t=this.abstract,delete this.abstract,t&&(this.table=null),this.alias==e.alias&&(this.alias=null),!this.virtual&&!i){let c=OPAdapter.prototype[o];OPAdapter.prototype[o]=this,s&&(OPAdapter.prototype[s]=this)}if(this.pgname=j3t(o),o==e[Mvt]){if(e.implementation)throw""+o+" model cannot be extended more than once";e.implementation=this,e.abstract=!0,this.abstract=!1,this.alias??=e.alias,e.table==e&&(e.table=null,e.table=this,e.pgname=this.pgname,this.table=this);for(let c=0,h=Object.keys(n),d=h.length,f,m;c<d;c++)f=h[c],m=n[f],m==e&&(n[f]=this);this.alias&&(n[this.alias]=this)}else e.polymorphic?this.alias=e.id:i||(n[o]=n[o.toLowerCase()]=this,this.alias&&(n[this.alias]=this));e.table&&e.table!=this&&(r=this.pgname,delete this.pgname),this.id=this.alias||o.toLowerCase(),this.types=this[JQ].types=new XR,this.types[this.id]=this.types[o]=this.types.add(this),this.ref=o.toLowerCase();let a=Object.getOwnPropertyDescriptor(this.prototype,"id");this.embedded||Object.defineProperty(this.prototype,"id",{value:null,enumerable:!0,writable:!0,configurable:!0});let u=this.parent;for(;u&&u.types;)u.types.add(this),this.alias&&(u.types[this.alias]||=this),u=u.parent;return this}static get $pivots(){var t;let e=[];for(let r of B(this.$shape))if(r.f)if(p(r,OPStateField))e.push(...r.args);else if(p(r,OPEnumField)){if((t=r.options)!=null&&t.length)for(let o of B(r.options))o.f!=!1&&e.push(o)}else p(r,OPEmbedField)||e.push(r);return e.unique}static get $sorters(){let e=[];for(let t of B(OPSorter.all()))t.field&&this.$shape[t.field]&&e.push(t);return e}static get $shape(){return this[Ovt]=OPShape.for(this.prototype)}static get enums(){let e=this.parent&&this.parent!=this?this.parent.enums.slice(0):[],t=Object.getOwnPropertyDescriptors(this);for(let r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++){if(i=o[r],s=t[i],i.indexOf("")!=0)continue;let a=i.slice(2),u=s.get&&/enum\(/.test(String(s.get)),c=this[a];if(c!=null&&c.$enum){let h=e.findIndex(function(d){return d.$enum.name==a});h>=0?e.splice(h,1,c):e.push(c)}}return e}static oel(e,t="tag",r=this,o=null){let n=OPVIEW(e,t,r);if(n){let i=n[OPRenderSym]||={kind:t};i[t]||(i[t]=!0,p(n,HTMLElement)&&n.flags.add("o"+t))}return n}static opownpi(e,t=this){var s;var r,o=H(),n,i;return n=i=1,(r=o[WQ])||(n=i=0,r=o[WQ]=r=R("op-pi",null,null,null)),n||(r[L3]=o._),n||((s=r[D3])==null||s.call(r,o,WQ)),e===r[gvt]||(r.data=r[gvt]=e),t===r[kvt]||(r.context=r[kvt]=t),n||o.sym||!r.setup||r.setup(i,o,WQ),o.sym||r[Fw](i),r}static opownlabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[ZQ])||(r=o=0,e=t[ZQ]=e=R("op",null,null,null)),r||(e[L3]=t._),r||((s=e[D3])==null||s.call(e,t,ZQ)),n=e[_Ro]("__",e),i=this.aslabel,i===e[xvt]&&r||(e[_vt]=n[Lvt](e[xvt]=i,384,e[_vt])),r||t.sym||!e.setup||e.setup(o,t,ZQ),t.sym||e[Fw](o),e}static opownicon(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[GQ])||(r=o=0,e=t[GQ]=e=R("op-icon",null,null,null)),r||(e[L3]=t._),r||((i=e[D3])==null||i.call(e,t,GQ)),n=this,n===e[vvt]||(e.data=e[vvt]=n),r||t.sym||!e.setup||e.setup(o,t,GQ),t.sym||e[Fw](o),e}static get asicon(){return this.aslabel}static get asdetail(){return"Type"}static get aspidetail(){return this.asdetail}static get aspilabel(){return this.aslabel}static opanytile(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[G6e])||(r=o=0,e=t[G6e]=e=w("div",null,null,null)),r||(e[L3]=t._),r||((i=e[D3])==null||i.call(e,t,G6e)),n=this.name,n===e[Svt]&&r||(e[wvt]=e[Lvt](e[Svt]=n,384,e[wvt])),e}static get columns(){var e;let t={},r=this.parent;for(;r;){let n=Object.getOwnPropertyDescriptors(r.prototype);for(let i=0,s=Object.keys(n),a=s.length,u,c;i<a;i++)u=s[i],c=n[u],u.indexOf("")==0&&(t[u.slice(2)]=r);r=r.parent}for(let n of B(this.types)){let i=Object.getOwnPropertyDescriptors(n.prototype);for(let s=0,a=Object.keys(i),u=a.length,c,h;s<u;s++)c=a[s],h=i[c],c.indexOf("")==0&&(t[c.slice(2)]=n)}e=[];for(let n=0,i=Object.keys(t),s=i.length,a,u;n<s;n++)a=i[n],u=t[a],e.push(u.prototype[""+a]);let o=e;return new OPShape(this,o).$columns}static get signatures(){let e=[];for(let t of B(this.types)){let r=t.key.forType(t);e.unshift([t,r.signature])}return e}static getType(e){if(p(e,this))return e.constructor;if(typeof e=="string"&&e.indexOf(".")==-1){let o=(e.match(/^[a-zA-Z]+(?=[\d_])/)||[])[0],n=OPObjectRegistry[o];if(n)return n}typeof e=="string"&&e[0]=="."&&(e=bRo(e.split("/"),-1));let t=OPKey.decode(typeof e=="string"?e:e.id),r=OPObjectRegistry[t.type];return t.path&&(r.$shape[t.path[0]]||console.warn("used to return pov?",t.path)),r}static groupByType(...e){let t=new Rw(function(){return[]});for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r],s=this.getType(i);s&&t.get(s).push(i)}return t}static[Symbol.match](e){return p(e,this)}static $sanitize(e){if(this.finalize(),p(e,this))return e;let t={};if(Object.isPlain(e))for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++){i=o[r],s=e[i];let a=this.$shape[i];a&&(s=a.$sanitize(s,null,t)),s!==void 0&&(t[i]=s)}return t}static sanitize(e){var t;for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],s==null&&(t=e[i],delete e[i]);return e}get $ns(){return this.$id}get $source(){return OP}get $rls(){return this.$rich.$rls||=new OPRLS}constructor(e,t=0,r=null,o=null){if(super(),super[A]||this[A](),this.$f=t,this.$rich={},this[xRo]=0,r&&o!=null){if(this.$plain=e,t&134217728){let s=this.$rich[yM]=e[yM];this.$apply(s,8196)}return this.$embed(r,o),this}let n=e.id,i=e[Hw]||OP.$$common;if(t&16&&(i=OP.$$memory),t&4096)this.$plain=e,n&&(this.id=n,OP.setrich(n,this));else if(!n)p(this,OPEmbed)?Object.defineProperties(this,{id:{enumerable:!0,value:this.id.generate(this)},$plain:{enumerable:!1,value:e},$localplain:{enumerable:!1,value:e},$sessionplain:{enumerable:!1,value:e},$povplain:{enumerable:!1,value:e}}):(this.$plain=e,Object.defineProperty(this,"id",{get:function(){let s=this.id.generate(this);return Object.defineProperty(this,"id",{value:s,writable:!0}),i.$plain[s]=this.$plain,this.$plain.id=s,nk(this.$plain,i.$plain),OP.setrich(s,this),s},configurable:!0}));else{this.id=n,OP.setrich(n,this);let s=i.$plain[n]=this.$plain=t&134217728?{id:n}:e;nk(s,i.$plain),t&134217728&&(this.$rich[yM]=e,this.$apply(e,8196));let a=i.$cloud[n];a&&(this.$apply(a,132100,s,a),OP.$$pov&&OP.$$pov.init(n)),Il(OP,n)}return this}toString(){return this[Dvt]??this.id}[Symbol.toPrimitive](e){return this[Dvt]??this.id}get oid(){return this[Nvt]||String(this.$key||this.id).split(/(^[A-Za-z]+\d|_)/)[2]}set oid(e){this[Nvt]=e}log(...e){return console.log(this.id.blue,...e)}get $key(){return this.$plain.id||this.id,this.$plain.id}get $field(){return this.id}get $type(){return this.constructor}subadded(e){return this.$rich.$subs||(this.$rich.$subs=new Set),this.$rich.$subs.add(e),this}subremoved(e){return this.$rich.$subs.delete(e),this.$rich.$subs.size==0&&(this.$rich.$subs=null,this.resolve(!0)),this}indexjoin(e,t){var r;let o=this.$indices,n=o.indexOf(e);if(n==-1)o.push(e),this.$f&256&&e.add(this);else{let i=o[0];(this.$f&(r=536870912))!=r&&(this.$f|=r,!0)?o.unshift(i=[]):n--,i[n]=(i[n]||0)+1}return!0}indexleave(e,t){let r=this.$indices,o=r.indexOf(e),n=null;if(this.$f&536870912){n=r[0];let i=o>0&&n[o-1];if(i)return n[o-1]=i-1,!0}return o>=0&&(o==0?r.shift():o==r.length-1?r.pop():r.splice(o,1),n&&n.splice(o-1,1),this.$f&256&&e.delete(this)),!0}parentjoin(e,t){return this.indexjoin(e.$children,t)}parentleave(e,t){return this.indexleave(e.$children,t)}autosave(){var e=this;if(this[Ivt]||=ik(function(){if(e.autosave&&OP.currentEvents.size==0)return e.save()},10,200),this.saved&&this.autosave)return this[Ivt]()}get autosave(){return this[vRo]??!this.$upstream}set __save_pov(e){this.__save_pov.$set(e,this,T6e,"__save_pov")}get __save_pov(){return this.__save_pov.$get(this,T6e,"__save_pov")}get __save_pov(){return this[ovt]||y((I2=this.action(),p(I2.x,Function)?I2.x(OPANYONE):I2.x=OPANYONE,p(I2.rpc,Function)?I2.rpc():I2.rpc=!0,I2.callback=!1,I2),this,T6e,"__save_pov",ovt,fo.prototype)}set savewithtoast(e){this.savewithtoast.$set(e,this,O6e,"savewithtoast")}get savewithtoast(){return this.savewithtoast.$get(this,O6e,"savewithtoast")}get savewithtoast(){return this[nvt]||y((Y6e=this.action(),Y6e.callback=async function(){let e=await this.save();return this.$upstream&&(e=await this.$upstream.save()),e?OP.toast("Saved "+this.askindlabel+" successfully",!0):OP.toast("Failed to save",!1),e},Y6e),this,O6e,"savewithtoast",nvt,fo.prototype)}set destroywithtoast(e){this.destroywithtoast.$set(e,this,R6e,"destroywithtoast")}get destroywithtoast(){return this.destroywithtoast.$get(this,R6e,"destroywithtoast")}get destroywithtoast(){return this[ivt]||y((X6e=this.action(),X6e.callback=async function(){let e=await this.destroy();return this.unmount(),e?OP.toast("Deleted "+this.askindlabel+" successfully",!0):OP.toast("Failed to save",!1)},X6e),this,R6e,"destroywithtoast",ivt,fo.prototype)}static findm(e){var t;if((t=OP.user)!=null&&t.admin)return OP.server.findm(this.name,e)}save(...e){return this.$save(...e)}async $save(e={}){var r,o;if(await this,this.virtual)return this;if(this.$upstream){let n=this.$diff();return n&&this.$upstream.$apply(n,1064960),this}if(this.unstaged&&this.$stage(!1),this.$up&&!((r=this.$up)!=null&&r.saved))return this.warn("nested object cannot be saved because it's parent is not saved"),this;if(!this.$up&&((o=this.$field)!=null&&o.virtual))return this.warn("no need to save virtual object"),this;let t=await(async()=>{try{return await this.$$store.save(this,e)}catch(n){return n}})();if(p(t,Error))throw t;return this}get $$store(){if(this.$f&16)return OP.$$memory;let e=this.$plain[bM]||this.$plain[Hw];for(;e&&!p(e,OPStore);)e=e[bM];return e||OP.$$common}set _cre(e){this._cre.$set(e,this,M6e,"_cre")}get _cre(){return this._cre.$get(this,M6e,"_cre")}get _cre(){return this[svt]||y((H1=this.ts(),p(H1.readonly,Function)?H1.readonly():H1.readonly=!0,p(H1.order,Function)?H1.order("desc"):H1.order="desc",p(H1.label,Function)?H1.label("Created"):H1.label="Created",H1),this,M6e,"_cre",svt,fo.prototype)}set _mod(e){this._mod.$set(e,this,L6e,"_mod")}get _mod(){return this._mod.$get(this,L6e,"_mod")}get _mod(){return this[lvt]||y((pk=this.ts(),p(pk.readonly,Function)?pk.readonly():pk.readonly=!0,p(pk.label,Function)?pk.label("Modified"):pk.label="Modified",pk),this,L6e,"_mod",lvt,fo.prototype)}set _del(e){this._del.$set(e,this,D6e,"_del")}get _del(){return this._del.$get(this,D6e,"_del")}get _del(){return this[avt]||y((dM=this.ts(),p(dM.label,Function)?dM.label("Deleted"):dM.label="Deleted",dM),this,D6e,"_del",avt,fo.prototype)}set _rev(e){this._rev.$set(e,this,N6e,"_rev")}get _rev(){return this._rev.$get(this,N6e,"_rev")}get _rev(){return this[uvt]||y((fM=this.int(),p(fM.readonly,Function)?fM.readonly():fM.readonly=!0,fM),this,N6e,"_rev",uvt,fo.prototype)}set _pub(e){this._pub.$set(e,this,I6e,"_pub")}get _pub(){return this._pub.$get(this,I6e,"_pub")}get _pub(){return this[cvt]||y((mM=this.int(),p(mM.readonly,Function)?mM.readonly():mM.readonly=!0,mM),this,I6e,"_pub",cvt,fo.prototype)}set _pos(e){this._pos.$set(e,this,F6e,"_pos")}get _pos(){return this._pos.$get(this,F6e,"_pos")}get _pos(){return this[hvt]||y(($M=this.number(),p($M.order,Function)?$M.order("asc"):$M.order="asc",$M),this,F6e,"_pos",hvt,fo.prototype)}set _bits(e){this._bits.$set(e,this,H6e,"_bits")}get _bits(){return this._bits.$get(this,H6e,"_bits")}get _bits(){return this[pvt]||y((Cvt=this.bits(),Cvt),this,H6e,"_bits",pvt,fo.prototype)}set data(e){this.data.$set(e,this,B6e,"data")}get data(){return this.data.$get(this,B6e,"data")}get data(){return this[dvt]||y((K6e=this.pub(),K6e.callback=function(e){return e.add(this)},K6e),this,B6e,"data",dvt,fo.prototype)}get saved(){return this}$set(e={},t=16781313){let r=this.$type.$base||this.$type;if(this.$up&&p(e,r)){let i=e;e={};for(let s=0,a=B(this.$shape.$fields),u=a.length;s<u;s++){let c=a[s];c.name!="id"&&(e[c.name]=i[c.name])}}let o=[],n=this.$shape;for(let i=0,s=Object.keys(e),a=s.length,u,c;i<a;i++){u=s[i],c=e[u];let h=n[u]||n.$sub(u);h&&(h.$granted?h.$set(c,this,!0,u,t):o.push([h,c,u]))}for(let i=0,s=B(o),a=s.length;i<a;i++){let[u,c,h]=s[i];u.$set(c,this,!0,h,t)}return this}set(e={},t=void 0){return this.$set(e,t)}update(e){return this.$update(e)}async $update(e,t={}){return this.resolved||await this,this.$set(e),this.$save()}$embed(e,t,r=null){var o;throw OP.debug&&this.$type[Fvt]!=!0&&(this.$type[Fvt]=!0,!0)&&console.debug("embedding "+((o=this.$type)==null?void 0:o.name)+" not inheriting from OPEmbed"),Object.defineProperties(this,{$up:{enumerable:!1,value:e},$key:{enumerable:!1,value:t}}),console.trace("embedding",t),"Should not embed "+t+" "+(e==null?void 0:e.id);return this}clone(e={}){return this.$clone(e)}$clone(e={}){var t,r,o;let n=OP.clone(this.$plain,{sanitize:!0});t=n.id,delete n.id,r=n._mod,delete n._mod,o=n._rev,delete n._rev,n._cre&&(n._cre=OP.now);for(let i=0,s=Object.keys(e),a=s.length,u,c;i<a;i++)u=s[i],c=e[u],n[u]=c;return this.$type.new(n)}get resolved(){return this[dk](),this}async resolve(e=!1){var t;return e&&((this.$f&(t=32768))!=t&&(this.$f|=t,!0)&&(this.thenable=!0),this.$up&&await this.$up.resolve(e)),await this}get thenable(){let e=this[dk].check(this);return!e||!e.met}set thenable(e){e?this[dk].reset(this):this[dk].check(this).met=!0}[J6e](){}async[dk](){var e=this;if(this[J6e]&&await this[J6e](),this.embed)return await this.$up,!0;let t=this.$f&32768;return!t&&this.resolved&&!this.partial||(t&&(this.$f&=-32769),await new Promise(function(r){e.$f|=16384;let o=setTimeout(function(){if(!e.resolved)return r(!0)},10*1e3);return e.$rich[Q6e]=function(){return clearTimeout(o),r(!0)},e.$$store.request(e)})),!0}$reset(){var e,t;return this.$$store.$reset(this),(t=(e=OP.$$pov)==null?void 0:e.$reset)==null||t.call(e,this),this}$claim(){var e;return(this.$f&(e=4194304))!=e&&(this.$f|=e),this}$changed(e,t,r,o,n,i){}$patch(e,t=0){var m,$,b,g,x;var r,o;if(this.$up)throw"$patch should only be called on root OPObjects";let n=this.$f,i=this.$cloud,s=e,a=i;if(p(e,OPDELTA))return a&&e._rev==a._rev+4?(this.$apply(e,197632,this.$plain,this.$cloud),this):(console.log("delta $patch not supported",this.id,e,a,this.$plain),this);e&&e._rev==-1&&(e=null,s=null),e&&e._==-1&&(e=null,s=null);let u=(e==null?void 0:e._)||0,c=(i==null?void 0:i._)||0,h=e==null?void 0:e._rev,d=i==null?void 0:i._rev,f=!1;return e&&h==d&&u==c?(this.$f&(r=16384)&&(this.$f&=~r,!0)&&(($=(m=this.$rich)==null?void 0:m[Q6e])==null||$.call(m)),this):h<d?this:(u&1&&!(c&1)&&(b=this[dk].check(this))!=null&&b.met&&this[dk].reset(this),i&&e&&(Kge(e,i),s=this.$diff(i,e,296)),this.$cloud=e,this.$apply(s??this.$plain,1026,this.$plain,e),this.$f&(o=1024)&&(this.$f&=~o,!0)&&(f=!0),a&&(f=!0),n&16384&&(u&1&&console.trace("resolving with partial patch now - unintended",this.id,e,OP.clone(this.$plain)),this.$f&=-16385,(x=(g=this.$rich)==null?void 0:g[Q6e])==null||x.call(g)),this)}$notify(e=null){return OP.emit("notify",this,e)}$diff(e=this.$cloud,t=this.$plain,r=0,o=null,n=0,i=this.$shape,s=null){var b,g;let a=this.$f;if(t===65536||(p(e,OPDELTA)&&(r|=64),a&8388608&&!(r&4)&&n>0&&t==this.$plain)||e==null&&a&2048&&n>0)return;let u=0;s||=new OPDELTA,r&256&&n==0&&(o=s[wRo]={fields:new Set,readmask:0}),e||(s={});let c=r&64?e??{}:t,h={_:!0,id:r&128},d=Object.keys(c);if(r&1)for(let x of B(i.$required)){let k=x.name;t[k]==null&&(s[k]=new OPRequiredError(""+this.id+"/"+k),h[k]=!0)}let f=0,m=d.length,$=a&134217728?this.$rich[yM]:null;if(r&8&&e){let x=Object.keys(e);for(let k=0,_=B(x),S=_.length;k<S;k++){let v=_[k];d.includes(v)||(d.push(v),m++)}}for(;f<m;){let x=d[f++],k=c[x];if(h[x])continue;let _=i[x]||i.__any__;if(!_||$&&Object.hasOwn($,x)&&!(r&16&&a&4194304))continue;let S=_.$f,v=e?e[x]??null:void 0,C;if(!(r&16&&S&33554432)&&(r&64&&(k=t[x]),!(!(r&2)&&(g=(b=t[JQ])==null?void 0:b[x])!=null&&g.error))){if(k==null&&v!=null)C=k??null;else if(_.embedded){let P=(this[x]||this.$sub(x)).$diff(v??null,k,r,o,n+1);P&&(C=P)}else if(_.$delta){let j=_.$delta(v,k,r);j!==void 0&&(C=j)}else v!=k&&(C=k);if(C!==void 0){if(r&1){let j=_.$validate(C,this,1048576);j&&console.log("validating field with error!!! "+x,j)}if(r&256&&(_.$r&&(o.readmask|=_.$r),o.fields.add(_)),_.$f&8192&&C&&!_.weak){let j=C&&_.$deserialize(C,this,4);s[Symbol(x)]=j}s[x]=C,u++}}}return u?s:null}$sync(e=0){return this.$apply(this.$plain,e),this}$apply(e,t=16777216,r=this.$plain,o=this.$cloud,n=null,i=this.$shape){var s,a,u,c;t&268435456&&(this.$f|=4096);let h=this.$f,d=h,f=r===this.$plain,m=f&&h&134217728?this.$rich[yM]:null;h&4096&&(t|=268435456),h&512&&!(h&256)&&(h|=1048576);let $=r[eke];if($!==o&&(o===65536?($&&p($,fo)&&(o=$),h|=65536):h&65536&&(h&=-65537),r[eke]=o,f&&o==null&&$?h&256&&!(h&8192)&&(h|=2097152):f&&o&&!$&&h&4194304&&(h&=-4194305)),e==null){if(t|=64,e={},t&1024&&$)for(let b=0,g=Object.keys($),x=g.length,k,_;b<x;b++)k=g[b],_=$[k],e[k]=null;if(!(t&17408)){f&&h&256&&!(h&8192)&&(h|=2097152);for(let b=0,g=Object.keys(r),x=g.length,k,_;b<x;b++)k=g[b],_=r[k],e[k]=null}}if(f&&(!(h&256)&&h&512?h|=1048576:!(h&256)&&o&&r&&!o._del&&!r._del&&!e._del&&!(t&64)?(h|=1048576,h&=-2049):e._del||!o&&!(t&8192)&&!(h&4194304)&&$?(h|=2048,h&256&&!(h&8192)&&(h|=2097152)):e._pos===null&&r._pos!==null&&h&256&&!(h&8192)&&(h|=2097152),!(h&256)&&e&&!e._del&&(t&2&&(!(t&1024)||o)&&!(t&64)?h|=1048576:!(h&4194304)&&e._pos&&!r._pos&&(h|=1048576))),t&16384&&!r._del&&!(h&256)&&!(e!=null&&e._del)&&(h|=1048576),!(t==0&&e==r))for(let b=0,g=Object.keys(e),x=g.length,k,_;b<x;b++){if(k=g[b],_=e[k],k=="_")continue;let S=i[k]||i.__any__;if(!S||!(t&8192)&&m&&m[k]!==void 0)continue;let v=r[JQ];!v&&t&25&&(v=r[JQ]||={});let C=S.embedded;if(p(S,OPTupleField))S.$apply(this,_,t,k,r,o);else if(C){let j=r[k];j==null&&(j=r[k]=p(S,OPTuplesField)?[]:{},nk(j,r)),t&65536&&_&&!o[k]&&(o[k]=p(S,OPTuplesField)?[]:{}),S.$get(this,null,k,t).$apply(_,t,j,o?o[k]??null:null,n)}else if(t&536870912&&p(_,OPSTREDIT)&&(_=_.apply(o[k])),t&65536&&(_==null&&!o||o[k]!=_&&(o[k]=_)),t&16&&v[k])v[k].$apply(_,t);else if(e!=r&&_!=r[k])if(t&1){let j=(()=>{try{return S.$apply(this,_,t,k,r,o)}catch(P){return P}})();if(p(j,OPError))e[k]=j;else if(p(j,Error))throw j}else t&8?(v[k]||S.$prop(this,k,r)).$apply(_,t):S.$apply(this,_,t,k,r,o)}if(h&(s=1048576)&&(h&=~s,!0)&&(h&(a=256))!=a&&(h|=a,!0)&&this.$mounting(),h&(u=2097152)&&(h&=~u,!0)&&h&(c=256)&&(h&=~c,!0)&&this.$unmounting(),h!=d){let b=~d&h,g=~h&d;this.$f=this.$f&~g|b,g&4194304&&Il(this,"saved")}return this.$up||this.$$v++,this}retain(){return this.$retain(),this}$retain(){var e;return(this.$f&(e=8192))!=e&&(this.$f|=e,!0)&&(this.$f|=1048576,this.$sync()),this}get retained(){return this.$f&8192}restore(){return this.$restore(),this}delete(e=null){return this.$delete(e)}$delete(e=null){return this.$destroy()}destroy(){return this.$destroy()}async $destroy(){if(!this.d)throw new OPDestroyError(this,{cause:new OPNotAllowed(OP.agent)});if(this.$up&&this.$up.$delete)this.$up.$delete(this);else if(!this.saved)this.unstage(),this.unmount(),this._del=OP.now;else if(this.$branch)this._del=OP.now,this.unmount();else return await this.$update({_del:OP.now});return this}$restore(){return this._del&&(this._del=null,this.$sync(),this.saved)?this.$save():this}get deleted(){return this.$f&2048}mount(e=!0){return this.$mount(e)}$mount(){return this.$f&256||(this.$f|=1048576,this.$sync()),this}$mounting(){if(this.$parent[Pvt](this),this.$rich.$indices)for(let e=0,t=B(this.$indices),r=t.length;e<r;e++){let o=t[e];e==0&&this.$f&536870912||o.add(this)}return Il(this,"mounted"),this}$unmounting(){if(this.$parent[Tvt](this),this.$rich.$indices)for(let e=0,t=B(this.$indices),r=t.length;e<r;e++){let o=t[e];e==0&&this.$f&536870912||o.delete(this)}return Il(this,"unmounted"),this}unmount(e=!0){return this.$unmount(e)}$unmount(e=!0){return this.$f&256&&(this.$f|=2097152,this.$sync()),this}$assign(e,t=0){return this.$set(e,16781312|t),this.$sync(),this}[Pvt](e){}[Tvt](e){}static $sub(e){let t=this.$shape;return t[e]?t[e]:t.entries&&e!="entries"?t.entries.$sub(e):null}$sub(e){var o;let t=this.$shape,r=t[e];if(r){if(r.embedded)return r.$get(this);if(r)return this.$[e]}else{if(e[0]=="#")return this.$hash(e);if(this.$rich[e])return this.$rich[e];if(t.__any__)return t.__any__.$get(this,null,e);if(t.entries){let n=t.entries.$get(this,null,null,4);return(o=n==null?void 0:n.$sub)==null?void 0:o.call(n,e)}}return this[e]}$hash(e){return null}get $shape(){return this.$type.$shape}get $root(){return this.$up?this.$up.$root:this}toIterable(){var e,t;return(t=(e=this.entries)==null?void 0:e.toIterable)==null?void 0:t.call(e)}get $memorydata(){return{}}get $indices(){return this.$rich.$indices||=new OPIndices}get $children(){return this.$rich.$children||=OPChildrenIndex.forobject(this)}get children(){return this.$children}get $affiliations(){return this.$rich.$affiliations||=new OPAffiliationsIndex(this)}$promote(e,t){let r=this.$rolemap||={$refs:{}},o=r[t]||0,n=+e,i=o|n,s=o^n,a,u,c=0;for(;(a=2**c)<=n;){if(n&a)if(o&a)u=r.$refs[t]||={},u[c]=(u[c]||0)+1;else{let h=n&a}c++}if(n&&p(t,fo)){let h=this.$affiliations;o?h.$invalidate():t.indexjoin(h)}return s&&(r[t]=i),this}$demote(e,t){let r=this.$rolemap||={$refs:{}},o=r[t]||0,n=+e,i=o^n,s=r.$refs[t],a=o,u=0,c;for(;(c=2**u)<=n;){if(n&c){let h=!0;s&&s[u]&&(h=(s[u]-=1)==0),h&&(a&=~c)}u++}if(r[t]=a,o!=a&&p(t,fo)){let h=this.$affiliations;a?h.$invalidate():t.indexleave(h)}return this}emit(e,...t){return Il(this,e,t)}on(e,t){return yl(this,e,t)}once(e,t){return bl(this,e,t)}un(e,t){return pa(this,e,t)}[Symbol.hasInstance](e){return this[Symbol.match]?this[Symbol.match](e):!1}toDataTransfer(){return{["op-id-"+this.id]:"","op-id":this.id,"text/html":this.opfullurl,"text/plain":this.opfullurl,"text/uri-list":this.opfullurl}}toJSON(){return this.$serialize()}$serialize(e={}){return this.dehydratefor(OP.agent)}static serialize(e,t){return e.constructor.serialize!=this.serialize?e.constructor.serialize(e,t):p(t,OPServer)?e.id:p(t,OPServer)||p(t,OPPeer)?e.$serialize():p(e,OPEmbed)?[e.$type.id,e.$plain]:e.id}static deserialize(e,t){if(e.constructor==Array){let r=OPObjectRegistry[e[0]];return r||console.warn("could not deserialize item of type "+e[0],e[1]),r.new(e[1])}return e._rev?OP.$patch(e):(e.id&&(e=e.id),this.get(e))}static test(e){return p(e,this)}static bit(e,t){let r=1<<e,o=this.id+"8"+r.toString(32);return t&&(t.id=o,t._cre=t._mod=1,OP.$cloud[o]=t),this[r]||=this.get(o)}static bits(e){let t=[],r=0,o;for(;(o=2**r)<=e;)e&o&&t.push(this.bit(r)),r++;return t}static enum(e,t){this[Hvt]!=!0&&(this[Hvt]=!0,!0)&&this.enums;let r=this.id+"9"+e;if(!t){let a=this.get(r);return a!=null&&a.mounted||console.warn("Trying to get enum "+e+" which is not defined"),a}let o=this.get(r);this.$enums[e]||=o,t._cre=1;let n={},i=o.$plain,s=Object.getPrototypeOf(i);for(let a=0,u=Object.keys(t),c=u.length,h,d;a<c;a++)h=u[a],d=t[h],o.$shape[h]?Object.hasOwn(i,h)||(n[h]=d):o[h]=d;return s[eke]=null,o.$apply(n,0,s,null),o}static get(e,t,r=null){var a,u;if(e==null)return;t??=OP;let o=OP.$rich,n=null,i,s;if(typeof e=="number")return this===fo?void 0:this.get(this.id+"0"+e.toString(32),t);if(typeof e=="string"){if(n=o.get(e))return n;if(i=OPKey.CACHE[e],i&&i.path){n=o.get(i.id)||OP.get(i.id,t);let c=0,h=i.path.length;for(;n&&c<h;)n=n.$sub(i.path[c++]);return n}if(e[0]==".")return OPKey.resolve(t,e);if(e[0]=='"'&&this==fo)return OPString.get(e);if(OP.mapping[e])return OP.mapping[e];if(CRo.test(e))return OPUrl.get(e,t);if(i||=OPKey.decode(e,OPObjectRegistry),!i){if(this===fo)return;e=this.id+"9"+e,i=OPKey.decode(e,OPObjectRegistry)}if(n=o.get(i.id),i.path){n||=OP.get(i.id,t);let c=0,h=i.path.length;for(;n&&c<h;)n=n.$sub(i.path[c++]);return n}if(n)return n;if(i.type){let c={id:e};if(p(r,OPStore)&&(c[Hw]=r),i.enum&&(n=i.type[""+i.enum+"_enum"],n))return n;if(i.data)Object.assign(c,i.data);else if(i.payload){let h=i.payload,d=!1;return i.type==OPAsset&&(h.type||h.extension)&&(i.type=OPAsset.typeformime(h.type,h.extension),d=!0),Object.assign(c,h),(a=i.type)!=null&&a.construct?(n=i.type.construct(c,i.flags),n):null}return(u=i.type)!=null&&u.construct?(i.flags&512&&Object.setPrototypeOf(c,{}),i.type.construct(c,i.flags)):null}}else{if(p(e,this)||p(e,OPString))return e;if(p(e,OPType))return e;if(p(e,URL))return OPUrl.get(String(e),t);if(p(e,OPPlain)&&this.$shape.$composite)return this.get(this.compositekeyfor(e),t)}if(e==null)return null;console.warn("should not get here in Model.get?",e)}static get any(){return this.enum("any")}static get unknown(){return this.enum("unknown")}static generateId(e={}){return this.key.generate(this.prototype,e)}get $roles(){return 0}set $roles(e){}static rolesfor(e){let t;if(!e)return 0;let r=e.$roles;if(t=OP.conditionalroles)for(let o=0,n=B(t),i=n.length;o<i;o++){let s=n[o];r|=s.check(e,this)||0}return r}static new(e,t=12582912,r=null){e||={};let o={},n={};r??=e[Hw],r&&(n[Hw]=r);for(let u=0,c=Object.keys(e),h=c.length,d,f;u<h;u++)d=c[u],f=e[d],f!=null&&(Ye(d,"id")||Ye(d,"_rev")||Ye(d,"_cre")?n[d]=f:f!==void 0&&(o[d]=f));e[bM]||(n._cre??=OP.now);let i=this.$shape,s=function(u,c){var d;var h;for(let f=0,m=B(c.$default),$=m.length;f<$;f++){let b=m[f];u[b.name]==null&&(u[b.name]=b.default())}for(let f=0,m=B(c.$deep),$=m.length;f<$;f++){let b=m[f];if(b.wildcard||!b.name)continue;let g=(d=b.$type)==null?void 0:d.$shape,x=u[b.name];g&&g.$default.any&&(x==null&&(x=u[b.name]={}),s(x,g))}h=[];for(let f=0,m=Object.keys(u),$=m.length,b,g,x;f<$;f++)b=m[f],g=u[b],h.push(x=c.$sub(b));return h};if(s(e,this.$shape),e[bM]){console.warn("called OPObject.new with #up");let u=new this(n,t,e[bM],e[SRo]);return u.$assign(o),u}let a=this.construct(n,t,r);return a.$assign(e),a}static build(e,t=0){return e||={},this.new(e,t|4194304|1048576)}static async create(e,t=0){var n,i,s,a;e||={};let r=this.new(e,t|4194304|1048576);if(!r.c)throw new OPPermissionDeniedError(""+((n=OP.pov)==null?void 0:n.id)+" ("+((s=(i=OP.pov)==null?void 0:i.$roles)==null?void 0:s.oprolestr)+") lacks permissions to create "+(r==null?void 0:r.id)+" ("+((a=r==null?void 0:r.$c)==null?void 0:a.oprolestr)+")");let o=await r.save();if(p(o,Error))throw o;return o}static for(...e){var t=gt(this);t[pM]??={key:this.key,slots:this.key.composite?this.key.slots:null,keys:this.$shape.$composite};let r=e[0];if(p(r,this))return r;if(t[pM].slots){for(let h=0,d=B(e),f=d.length;h<f;h++){let m=d[h];typeof m=="string"&&/[.#\/]/.test(m)&&console.warn("should not use hashtag dot or slash in for(@@slot)")}let u=p(r,OPPlain)?r:e,c=t[pM].key.generate(this.prototype,u);return typeof c=="string"&&/[.#\/]/.test(c)?(console.warn(""+c+" is not a valid composite "+this.name+" (from "+this.name+".for(...))"),null):OP.getrich(c)||this.get(c)}let o=!!t[pM].keys,n=t[pM].keys||Object.keys(r).sort();p(r,OPPlain)||this.raise(""+this.name+".for(...) expects plain object");let i={};for(let u of B(n)){let c=r[u];if(c!=null){let h=this.$shape[u];p(h,OPBitField)?c&&(i._bits|=h.number):h&&(i[u]=c.id||c)}}let s=OP.msgpack.stringify(i),a=this.id+"2"+s;return OP.getrich(a)||this.get(a,null,r[Hw])}static opownbutton(){var s;var e=this,t=H(),r,o,n,i;return t.this=this,o=n=1,(r=t[YQ])||(o=n=0,r=t[YQ]=r=R("op-button",null,null,null)),o||(r[L3]=t._),o||((s=r[D3])==null||s.call(r,t,YQ)),i="new "+this.aslabel,i===r[Evt]||(r.label=r[Evt]=i),o||(r.icon="plus"),o||r.on$("click",{$_:[function(a,u){return t.this.interactivecreate(a)}]},this),o||t.sym||!r.setup||r.setup(n,t,YQ),t.sym||r[Fw](n),r}static async interactivecreate(){var a;var e,t,r=H(),o,n,i;let s=this.types.filter(function(u){return u.$shape.filter(gRo).any});if(e=this.types.len==1?this:await OP.pick(s))return o=n=1,(t=r[XQ])||(o=n=0,t=r[XQ]=t=R("op-create-dialog",null,null,null)),o||(t[L3]=r._),o||((a=t[D3])==null||a.call(t,r,XQ)),i=e.new(),i===t[jvt]||(t.data=t[jvt]=i),o||r.sym||!t.setup||t.setup(n,r,XQ),r.sym||t[Fw](n),t}static from(...e){return this.for(...e)}static forfield(e,t={}){var r=gt(this);r[V6e]??=new Map;let o=r[V6e].get(e);if(o)return o;let n=this,i=e.$store,s=Symbol(),u=class u extends n{get $field(){return e}$embed(h,d,f=null){return Object.defineProperty(this,"$up",{enumerable:!1,value:h}),d!==this.$key&&Object.defineProperty(this,"$key",{enumerable:!1,value:d}),this}get id(){let h=this.$key,d=this.$f&262144?this.$up.id:this.$up.$ns;return h.includes("/")?""+d+"/["+h+"]":""+d+"/"+h}get embed(){return!0}static setup(h){return this}};u.table=!1,u.embedded=!0,E(u,s,"Embedded",0);let a=u;return OP.defineProps(a,{name:n.name,$base:n}),OP.defineProps(a.prototype,{$field:e,$store:i,$key:e.name}),r[V6e].set(e,a),a}get cssclasses(){return this.$type.name}get opfullurl(){return""+OP.origin+"/"+this.id}static opresolveroute(e,t){return e.indexOf(this.id+"0")!=0&&(e=this.id+"0"+e),this.get(e)}set inspectitem(e){this.inspectitem.$set(e,this,z6e,"inspectitem")}get inspectitem(){return this.inspectitem.$get(this,z6e,"inspectitem")}get inspectitem(){return this[fvt]||y((F2=this.action(),p(F2.g,Function)?F2.g(9999.1):F2.g=9999.1,p(F2.rx,Function)?F2.rx(OPADMIN):F2.rx=OPADMIN,F2.callback=async function(){let e=this.$checkout();return await OP.dialog(e,"inspector")},F2),this,z6e,"inspectitem",fvt,fo.prototype)}set edititem(e){this.edititem.$set(e,this,q6e,"edititem")}get edititem(){return this.edititem.$get(this,q6e,"edititem")}get edititem(){return this[mvt]||y((xh=this.action(),p(xh.g,Function)?xh.g(500):xh.g=500,p(xh.rx,Function)?xh.rx(OPOWNER|OPADMIN):xh.rx=OPOWNER|OPADMIN,p(xh.if,Function)?xh.if(function(){return this.$shape.$editable.any}):xh.if=function(){return this.$shape.$editable.any},xh.callback=function(){let e=this.$checkout();OP.dialog(e,"editor")},xh),this,q6e,"edititem",mvt,fo.prototype)}set copyid(e){this.copyid.$set(e,this,W6e,"copyid")}get copyid(){return this.copyid.$get(this,W6e,"copyid")}get copyid(){return this[$vt]||y((H2=this.action(),p(H2.rx,Function)?H2.rx(OPADMIN):H2.rx=OPADMIN,p(H2.g,Function)?H2.g(9999.1):H2.g=9999.1,H2.callback=function(){return OP.copystr(this.id)},H2),this,W6e,"copyid",$vt,fo.prototype)}set editfields(e){this.editfields.$set(e,this,Z6e,"editfields")}get editfields(){return this.editfields.$get(this,Z6e,"editfields")}get editfields(){return this[yvt]||y((Iw=this.action(),p(Iw.rx,Function)?Iw.rx(OPOWNER|OPADMIN):Iw.rx=OPOWNER|OPADMIN,Iw.callback=function(e){let t=this.$checkout();return e=e.map(function(r){return t.$[r.name]}),Bt(function(){var s;var r,o=H(),n,i;return n=i=1,(r=o[KQ])||(n=i=0,r=o[KQ]=r=R("op-inspector",null,"odialog",null)),n||(r[L3]=o._),n||((s=r[D3])==null||s.call(r,o,KQ)),t===r[Avt]||(r.data=r[Avt]=t),e===r[Uvt]||(r.fields=r[Uvt]=e),n||(r.popup__={modal:!0}),n||(r.popup="popup"),n||(r.role="dialog"),n||o.sym||!r.setup||r.setup(i,o,KQ),o.sym||r[Fw](i),r})},Iw),this,Z6e,"editfields",yvt,fo.prototype)}};fo.prototype[Le]=De,se([gM.bind([])],fo,"$pivots",null),se([gM.bind([])],fo,"$sorters",null),se([gM.bind([])],fo,"enums",null),se([gM.bind([])],fo,"columns",null),se([gM.bind([])],fo,"signatures",null),se([ho.bind([])],fo.prototype,dk,null),se([ke.bind([])],fo.prototype,"$memorydata",null),E(fo,QQ,"OPObject",336);var Rs=fo;globalThis.OPObject=Rs;Dc(Rs);globalThis.IMBA_ENV_TSC||(Rs.id="O");T();oe();We();var ERo=Symbol.for("#__inited__"),oke=Symbol.for("#resolve"),zvt=Symbol.for("#init"),jRo=Symbol.for("#push"),Ef=Symbol.for("#up"),ARo=Symbol.for("#root"),_M=Symbol.for("#cloud"),eee=Symbol.for("#prefix"),nke=Symbol.for("#store"),URo=Symbol.for("#localstore"),PRo=Symbol.for("#sessionstore"),rke=Symbol("push"),qvt=Symbol(),B2,Wvt=Symbol(),kM=class kM extends OPBase{constructor(e=null){super(...arguments),this.$rich={},re(this,Wvt)}[ERo](){return this[zvt]()}async[oke](){return await!0}[zvt](){return!0}get $cloud(){return this.$stored}async resolve(){return await this[oke](),!0}$reset(e,t=0){return this.$apply(null,e,t|16|32)}getplain(e){let t=e.id,r=this.$plain[t];if(!r){let o=this.$cloud[t];r=this.$plain[t]={[Ef]:this.$plain},o&&e.$apply(o,1049600,r,o)}return r}$changed(e,t,r,o,n=0){return!0}$diff(e,t=0,r=!1,o=null){let n=OP.get(e),i=n.$path,s=n.$root,a=this.$plain[s.id],u=this.$cloud[s.id],c=s.$diff(u,a,t,this);if(c&&n!=s){let h=c;for(let d of B(i.slice(1)))if(h=h[d],!h)return null;h&&(h[ARo]=c,c=h)}return c&&o&&OPDELTA.findReferences(c,o),r&&c&&(c=OPDELTA.nest(c,i)),c}$patch(e){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this.$apply(i,n,1245184);return Cr(),!0}$apply(e,t,r=1){let n=OP.get(t).$root,i=n.id,s=this.$plain[i]||={[Ef]:this.$plain},a=this.$cloud[i]??null;r&65536&&(a||=this.$cloud[i]={});try{let u=n.$apply(e||s,r,s,a,this)}catch(u){console.log("error during apply "+i,u),OP.emit("error",u)}return e}save(e,t={}){return Promise.resolve(!0)}};kM.prototype[Le]=De,se([ho.bind([])],kM.prototype,"resolve",null),E(kM,Wvt,"OPStore",272);var fk=kM;globalThis.OPStore=fk;var Zvt=Symbol(),cke=class cke extends fk{constructor(e=null){super(...arguments),this.pov=e,this.$sym=Symbol(),this.$stored={},this.$plain={[Ef]:this,[_M]:this.$stored},this.$raw={},this.$f=1,re(this,Zvt)}get $cloud(){return this.$stored}get ids(){return Object.keys(this.$raw)}set $cloud(e){}};E(cke,Zvt,"OPPovData",16);var ike=cke;globalThis.OPPovData=ike;var Gvt=Symbol(),hke=class hke extends fk{constructor(){super(),this.$stored={},this.$plain={[Ef]:this,[_M]:this.$stored},this.$f=2,this.setup(),this.resolve(),re(this,Gvt)}setup(){var e=this;this[eee]="local:"+OP.version,this[nke]=globalThis.localStorage,OP[URo]=this;try{this.$channel=new BroadcastChannel(this[eee]),this.$channel.onmessage=function(t){try{return e.$patch(OP.msgpack.unpack(t.data))}catch{}}}catch{}return this}async[oke](){return await!0}commit(e){var s,a;let t=e.$rich.$root,r=this.$plain[t.id],o=":"+this[eee]+":"+t.id,n=this[nke],i=this.$stored[t.id]=OP.clone(r,{sanitize:!0});return n.setItem(o,JSON.stringify(i)),(a=(s=this.$channel)==null?void 0:s.postMessage)==null?void 0:a.call(s,OP.msgpack.pack(e))}};E(hke,Gvt,"OPLocalStore",16);var tee=hke;globalThis.OPLocalStore=tee;var TRo=Symbol(),pke=class pke extends tee{setup(){return this.$f=4,this[eee]="session:"+OP.version,this[nke]=globalThis.sessionStorage,OP[PRo]=this,this}};E(pke,TRo,"OPSessionStore",0);var ske=pke;globalThis.OPSessionStore=ske;var Yvt=Symbol(),dke=class dke extends fk{constructor(){super(...arguments),this.$stored={[Ef]:this},this.$plain={[Ef]:this,[_M]:this.$stored},this.$f=16,re(this,Yvt)}};E(dke,Yvt,"OPInMemoryData",16);var lke=dke;globalThis.OPInMemoryData=lke;var Xvt=Symbol(),fke=class fke extends fk{constructor(){super(...arguments),this.$stored={[Ef]:this},this.$plain={[Ef]:this,[_M]:this.$stored},this.$f=16,re(this,Xvt)}};E(fke,Xvt,"OPMemoryStore",16);var ake=fke;globalThis.OPMemoryStore=ake;var Kvt=Symbol(),ree=class ree extends fk{constructor(){super(...arguments),this.$stored={[Ef]:this},this.$plain={[Ef]:this,[_M]:this.$stored},this.$f=8,re(this,Kvt)}async save(e,t={}){return await!0}get id(){return"$common"}set push(e){this.push.$set(e,this,rke,"push")}get push(){return this.push.$get(this,rke,"push")}get push(){return this[qvt]||y((B2=this.action(),p(B2.x,Function)?B2.x(OPANYONE):B2.x=OPANYONE,p(B2.rpc,Function)?B2.rpc():B2.rpc=!0,B2.callback=!1,B2),this,rke,"push",qvt,ree.prototype)}$patch(e){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++){n=r[t],i=e[n];let s=this.$plain[n],a=this.$cloud[n],u=OP.$rich.get(n),c=s&&(u==null?void 0:u.$plain)==s,h=(i==null?void 0:i._)||0,d=(a==null?void 0:a._)||0,f=i==null?void 0:i._rev,m=a==null?void 0:a._rev;u&&c?u.$patch(i):LL("could not patch from store",n,i,u)}return!0}[jRo](e){}};E(ree,Kvt,"OPCommonData",16);var uke=ree;globalThis.OPCommonData=uke;T();oe();var ORo=Symbol(),RRo=Symbol(),MRo=Symbol.for("#up"),mke=Symbol.for("#finalized"),LRo=Symbol.for("#code"),$ke=Symbol.for("#cloud"),oee=Symbol(),nee=class nee extends Qe(oee,Array,OPBase,OPSecured,OPLifecycled,OPRenderable){constructor(){super(...arguments),super[A]||this[A](),re(this,oee)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[oee])==null||o.call(this,...arguments)}static $sanitize(e){if(this.finalize(),p(e,this))return e;let t=[];if(Object.isPlain(e)){for(let r=0,o=Object.keys(e),n=o.length,i,s,a;r<n;r++)if(i=o[r],s=e[i],a=this.$shape[i]){let u=a.at??"";p(a,OPBitField)?a.$sanitize(s,null,t):typeof u=="number"?t[u]=s:console.log("prop "+i+" not found on tuple "+this.name)}e=t}if(p(e,Array))for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r],s=this.$signature[r];p(s,OPBitField)?typeof i!="number"&&(i=0):s&&s.$sanitize&&(i=s.$sanitize(i)),t[r]=i}return t}static forfield(e,t){return this}static of(...e){return e.length==1&&Object.isPlain(e[0])&&(e=e[0]),Array.of.apply(this,this.$sanitize(e))}static embed(e,t,r){return(r==null?new this:this.of(r)).$embed(e,t)}static inherited(e){let t;if(e[mke]=!1,t=rk[e.name])return Dc(e,{write:function(r){return Array.from(r)},read:function(r,o){return Object.setPrototypeOf(r,o.prototype),r}}),e[LRo]=t}static new(e={}){this.finalize();for(let t=0,r=B(this.$shape.$default),o=r.length;t<o;t++){let n=r[t];e[n]==null&&(e[n]=n.default())}return this.of(e)}static get $shape(){return OPShape.for(this.prototype)}static finalize(){if(!(this[mke]!=!0&&(this[mke]=!0,!0)))return this;this.$signature=[];for(let e=0,t=B(this.$shape),r=t.length;e<r;e++){let o=t[e];typeof o.at=="number"&&(this.$signature[o.at]||=o)}return this}ref(e){return new OPRefField(e??OPObject)}emit(e,...t){return Il(this,e,t)}on(e,t){return yl(this,e,t)}once(e,t){return bl(this,e,t)}un(e,t){return pa(this,e,t)}get $r(){return this.$up?super.$r:OPANYONE}get $w(){return this.$up?super.$w:OPANYONE}get $x(){return this.$up?super.$x:OPANYONE}get $c(){return this.$up?super.$c:OPANYONE}get $d(){return this.$up?super.$d:OPANYONE}clone(){let e=this.constructor.of(...this);return Object.assign(e.$memorydata,OP.clone(this.$memorydata)),e}get $plain(){return this}get $cloud(){return this[$ke]}get $rich(){var e=gt(this);return e[ORo]??={}}get $memorydata(){var e=gt(this);return e[RRo]??={}}get[MRo](){return this.$up?this.$up[this.$store]:null}get $key(){return 0}get $parent(){return this.$up}get $field(){return this.$up?this.$up.$shape[typeof this.$key=="number"?0:this.$key]:null}get $store(){var e;return((e=this.$field)==null?void 0:e.$store)||"$plain"}get $stored(){return this.$cloud}get $signature(){return this.constructor.$signature}get $shape(){return this.constructor.$shape}push(...e){throw new OPError("push not allowed in OPTuple")}destroy(){return this.$destroy()}$destroy(){if(p(this.$up,OPTuples)){let e=new OPDELTA({[this.$key]:null});this.$up.$apply(e,4097)}else this.$up&&console.log("OPTuple.$destroy not allowed for @tuple fields yet");return this}$embed(e,t){OP.defineProps(this,{$up:e,$key:t});let r=e.$plain;return r&&(r[t]=this),this}$diff(e,t,r=0){return null}$set(e,t=16777217){let r=this.$shape;if(p(e,this.constructor)&&(e=Array.from(e)),p(e,OPPlain)||e&&e.constructor==Array)for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++){s=n[o],a=e[s];let u=r[s];u&&u.$set(a,this,!0,s,t)}return this}$apply(e,t=0,r=this.$plain,o=this.$cloud,n=null,i=this.$shape){if(e==null&&(t|=64,e=[]),r&&r[$ke]!==o&&(r[$ke]=o),p(e,Array))for(let s=0,a=B(e),u=a.length;s<u;s++){let c=a[s],h=i[s];h&&(h.$apply(this,c,t,s,r,o),t&65536&&(o[s]=c))}else if(p(e,OPPlain)||p(e,OPDELTA))for(let s=0,a=Object.keys(e),u=a.length,c,h;s<u;s++){c=a[s],h=e[c];let d=i[c];if(!d){console.log("cannot find tuple field",c,h);continue}let f=d.$rawkey;d.$apply(this,h,t,f,r,o),t&65536&&(o[f]=h)}return this}get id(){return this.$up?""+this.$up.id+"."+(this.$key||0):""+this.constructor.name+"#detached"}$remove(){return this.$up.delete(this)}remove(){return this.$remove()}dehydratefor(e,t,r,o,n=this.$cloud){return this}set(e){if(p(e,OPPlain))for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this[n]=i;return this}update(e){if(p(e,this.constructor))for(let t=0,r=B(this.$shape),o=r.length;t<o;t++){let n=r[t];this[n.name]=e[n.name]}else if(p(e,OPPlain))for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this[n]=i;return this}get resolved(){return!0}};nee.pgtype="jsonb",E(nee,oee,"OPTuple",88);var yke=nee;globalThis.OPTuple=yke;T();oe();var DRo=le("&.name",globalThis,l=>l.name),NRo=Symbol(),gke=class gke extends Array{[Symbol.hasInstance](e){for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];if(p(e,n))return!0}return!1}get name(){return this.map(DRo).join("|")}};E(gke,NRo,"OPUnionType",0);var bke=gke;globalThis.OPUnionType=bke;T();oe();ge(),$e();var IRo=le("&.constructor",globalThis,l=>l.constructor),kke=Symbol(),iee=Symbol(),Jvt=Symbol(),Qvt=Symbol(),ewt=Symbol(),see=Symbol(),twt=Symbol(),rwt=Symbol(),owt=Symbol(),nwt=Symbol(),iwt=Symbol(),FRo=Symbol(),HRo=Symbol.for("#getRenderContext"),lee=Symbol.for("##up"),_ke=Symbol.for("##register"),swt=Symbol.for("#isRichElement"),xM=Symbol.for("#afterVisit"),lwt=Symbol.for("#getSlot"),BRo=Symbol.for("#visit"),awt=Symbol.for("#placeChild"),VRo=Symbol.for("#getDynamicContext"),zRo=Symbol(),Vw=class Vw extends Array{static from(e){return e?e.constructor==this?e:e.constructor==Array?Vw.of(...e):Vw.of(e):new Vw}get kinds(){return this.map(IRo).unique}get kind(){let e=this.kinds;return e[1]?null:e[0]}get aslabel(){let e=this.kind?this.kind.aslabel||this.kind.name:"item";return""+this.size+" "+e.pluralize(this.size)}opownarg(e){var f,m,$;var t,r,o=H(),n,i,s,a,u,c,h,d;return this.one?(t=o[HRo](kke),n=i=1,(r=t.run(OPVIEW(this[0],"arg",e)))||(n=i=0,t.cache(r=M(t.value,null,null,null))),n||(r[lee]=o._),n||((f=r[_ke])==null||f.call(r,o,kke)),r[swt]&&(n||o.sym||!r.setup||r.setup(i,o,kke),o.sym||r[xM](i)),r):(a=u=1,(s=o[iee])||(a=u=0,s=o[iee]=s=R("op",null,null,null)),a||(s[lee]=o._),a||((m=s[_ke])==null||m.call(s,o,iee)),c=s[lwt]("__",s),h=s[Jvt]||(s[Jvt]={options:[null]}),d=this,d===h.options[0]||(h.options[0]=d,u|=48),a||s.on$("optip",h,this),u&32&&(u^=32,($=h[BRo])==null||$.call(h)),d=this.aslabel,d===s[ewt]&&a||(s[Qvt]=c[awt](s[ewt]=d,384,s[Qvt])),a||o.sym||!s.setup||s.setup(u,o,iee),o.sym||s[xM](u),s)}opowntip(){var g;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;r=o=1,(e=t[see])||(r=o=0,e=t[see]=e=R("op",null,null,null)),r||(e[lee]=t._),r||((g=e[_ke])==null||g.call(e,t,see)),n=e[lwt]("__",e),(i=e[twt])||(e[twt]=i=w("h1",n,null,null)),s=this.aslabel,s===e[owt]&&r||(e[rwt]=i[awt](e[owt]=s,384,e[rwt])),(a=e[nwt])||(e[nwt]=a=w("div",n,null,null)),(u=e[iwt])||(e[iwt]=u=wt(384,a)),c=0,h=u.$;for(let x=0,k=B(this),_=k.length;x<_;x++){let S=k[x];m=$=1,(f=(d=h[VRo](FRo,c)).run(OPVIEW(S,"tip",this)))||(m=$=0,d.cache(f=M(d.value,u,null,null))),m||(f[lee]=u),f[swt]&&(m||!f.setup||f.setup($,d),f[xM]($)),u.push(f,c++,b)}return u[xM](c),r||t.sym||!e.setup||e.setup(o,t,see),t.sym||e[xM](o),e}};E(Vw,zRo,"OPValues",0);var xke=Vw;globalThis.OPValues=xke;T();oe();var qRo=Symbol.for("#references"),WRo=Symbol(),wke=class wke extends Array{};E(wke,WRo,"OPNodePath",0);var vke=wke;globalThis.OPNodePath=vke;var ZRo=Symbol(),V2=class V2 extends OPStruct{static for(e,t){if(e==null)return t;if(t==null)return null;if(e===t)return;let r=0,o=e.length,n=t.length;if(p(e,V2)){if(typeof e[0]=="string")return V2.of(-e[0].length);let $=e.apply(t);return V2.for($,t)}if(n<3)return t;if(n>o){if(t.slice(0,o)==e){let $=t.slice(o),b=e.indexOf($);return $.length>5&&b>0&&($=wM.of(b,$.length)),V2.of($)}}else if(o>n&&e.slice(0,n)==t)return V2.of(-(o-n));let i=Math.min(o,n),a=Math.max(o,n),u=0;for(;r<i;){let $=e[r],b=t[r];if(r++,$==b)u++;else break}let c=o,h=n;if(n<6)return t;for(;c>=u&&h>=u;){let $=e[--c],b=t[--h];if($!=b)break}let d=t.slice(u,h+1),f=e.slice(u,c+1),m=[u,c-u+1];if(d){if(d.length>=n-5)return t;m.push(d)}return V2.of(...m)}static serialize(e){return e.length==1&&!p(e[0],Array)?e[0]:e.slice(0)}static deserialize(e){return p(e,Array)||(e=[e]),this.of(...e)}apply(e){if(this.length>1){let[r,o,n]=this;return e.slice(0,r)+(n||"")+e.slice(r+o)}let t=this[0];if(p(t,wM)&&(t=e.slice(t.offset,t.end)),typeof t=="string")return e+t;if(typeof t=="number")return e.slice(0,t)}};E(V2,ZRo,"OPSTREDIT",0);var vM=V2;globalThis.OPSTREDIT=vM;var GRo=Symbol(),Ske=class Ske extends OPStruct{get offset(){return this[0]}get span(){return this[1]}get end(){return this.offset+this.span}};E(Ske,GRo,"OPSUBSTR",0);var wM=Ske;globalThis.OPSUBSTR=wM;var uwt=Symbol(),Au=class Au{constructor(e=null){if(p(e,Array))for(let[t,r]of B(e))this[t]=r;else e&&Object.assign(this,e);re(this,uwt)}static serialize(e){return{...e}}static deserialize(e){return new Au(e)}static nest(e,t){for(let r=0,o=B(t.toReversed()),n=o.length;r<n;r++){let i=o[r];e=new Au([[i,e]])}return e}static patch(e,t,r=null,o=e){for(let n=0,i=Object.keys(t),s=i.length,a,u;n<s;n++){a=i[n],u=t[a];let c=e[a];if(r&&(r[a]=c??null),p(u,OPPlain)||p(u,Au))c==null&&(c=e[a]={}),r&&(r[a]={}),Au.patch(c,u,r&&r[a],o&&o[a]);else if(p(u,vM)){let h=c??(o&&o[a]);e[a]=u.apply(h)}else(typeof u=="number"||typeof u=="string"||typeof u=="boolean"||typeof u=="bigint"||u===null||p(u,Array))&&(e[a]=u)}return e}static flatten(e,t=null,r={}){for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++){s=n[o],a=e[s];let u=t?""+t+"."+s:s;p(a,OPPlain)||p(a,Au)?this.flatten(a,u,r):r[u]=a}return r}static merge(e,t){if(!t)return e;for(let r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],(p(s,OPPlain)||p(s,Au))&&e[i]?this.merge(e[i],s):e[i]=s;for(let r of B(Object.getOwnPropertySymbols(t)))Object.hasOwn(t,r.description)&&(e[r]=t);return e}static sanitize(e,t){var r;for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++){s=n[o],a=e[s];let u=t[s]||t.$sub(s);u?(p(a,OPPlain)||p(a,Au))&&this.sanitize(a,u.$shape):(r=e[s],delete e[s])}return e}static unflatten(e){let t={};for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++){i=o[r],s=e[i];let a=t,u=i.split("."),c=u.pop();for(let h=0,d=B(u),f=d.length;h<f;h++){let m=d[h];a=a[m]||={}}a[c]=s}return t}static findReferences(e,t=new Set){for(let r of B(Object.getOwnPropertySymbols(e)))Object.hasOwn(e,r.description)&&p(e[r],OPObject)&&t.add(e[r]);for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],(p(s,OPPlain)||p(s,Au))&&this.findReferences(s,t);return t}static errors(e,t=[]){var r;for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++)s=n[o],a=e[s],p(a,OPError)?(t.push(a),r=e[s],delete e[s]):(p(a,OPPlain)||p(a,Au))&&this.errors(a,t);return t}get[qRo](){return Au.findReferences(this)}apply(e,t=this){return Au.patch(e,this)}};E(Au,uwt,"OPDELTA",16);var aee=Au;globalThis.OPDELTA=aee;Dc(aee);function cwt(l,e){return vM.for(l,e)}T();oe();function YRo(l,e){return l[l.length+e]}var N3=Symbol(),mk=Symbol(),XRo=Symbol(),uee=Symbol.for("#index"),cee=Symbol.for("##reversed"),SM=Symbol.for("#ts"),hwt=Symbol.for("#offset"),KRo=Symbol.for("#WAL"),Cke=Symbol.for("#kind"),pwt=Symbol.for("#next"),JRo=Symbol.for("#rev"),dwt=Symbol.for("#raw"),QRo=Symbol.for("#rawindex"),eMo=Symbol.for("#prev"),tMo=Symbol(),Ake=class Ake{};E(Ake,tMo,"OPWALEntry",0);var Eke=Ake;globalThis.OPWALEntry=Eke;var fwt=Symbol(),hee=class hee extends Array{constructor(){super(...arguments),super[A]||this[A](),re(this,fwt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.raw=e&&(o=e.raw)!==void 0?o:[]}static for(e){let t=new hee;return t.source=e,t.write(),t}get head(){var e=gt(this);e[N3]??={index:-1,state:{}},this.$sync();let t=this,r=t.length;for(;e[N3].index<r-1;){let o=t[++e[N3].index];OPDELTA.patch(e[N3].state,o)}return e[N3].state[uee]=e[N3].index,e[N3].state}stateat({ts:e=null,index:t=null,head:r=!1}){if(typeof e=="number")return this.stateatts(e);if(typeof t=="number")return this.stateatindex(t);if(r)return r;throw new OPError("supply ts or index to OPWAL.state-at")}stateatindex(e){var t=gt(this);t[mk]??={index:-1,state:{}};let r,o=this.resolved,n=t[mk].state;for(;t[mk].index<e;)if(r=o[++t[mk].index],r){let i=r[cee]?void 0:r[cee]={};OPDELTA.patch(n,r,i)}for(;t[mk].index>e;)r=o[t[mk].index],r&&OPDELTA.patch(n,r[cee]),t[mk].index--;return n[uee]=t[mk].index,n}stateatts(e){let t=this.indexatts(e);return this.stateatindex(t)}indexatts(e){return this.resolved.findLastIndex(function(t){return e>=t[SM]})}indexatoffset(e){return this.resolved.findLastIndex(function(t){return e>=t[hwt]})}applyto(e,t=this.size-1,r=1048576){let o=this.resolved,n=e[KRo]||={wal:this,index:-1};n.wal!=this;let i=this.stateatindex(n.index),s=t-n.index,a={};for(;n.index<t;){let u=++n.index,c=this.at(u);OPDELTA.patch(a,c,null,i)}for(;n.index>t;){let u=o[n.index];u&&OPDELTA.patch(a,u[cee],null,i),n.index--}return s!=0&&e.$apply(a,r),e}diff(e,t=e.$plain){return e.$diff(this.head,t,268435584)}writecheckpoint(e={},t=Date.now()){return this.writeraw(e,45,t)}writeraw(e,t,r=Date.now()){let o=this.decoder,n=this.last||o.seed,i=r-n[SM];if(i>0)this.raw.push(r-n[SM]);else if(i<0)throw new OPError("cannot write to OPWAL with negative time offset since");return t!=n[Cke]&&this.raw.push(-t),this.raw.push(e),this.last}write(e=this.source,t=e.$plain,r=Date.now(),o=43){var n;this.raw.length||this.raw.push({version:300});let i=p(e,OPDELTA)||p(e,OPPlain)?e:this.diff(e,t);if(i==null)return this;let s=this.decoder,a=this.last||s.seed,u=i,c=u;if(i.id&&(n=i.id,delete i.id),o==43){let h=OPDELTA.flatten(u),d=Object.keys(h);if(d.length>3)c=u;else{let f=Object.values(h),m=d.join("||"),$=s.signatures.indexOf(m);$>=0?c=[$,...f]:c=u}}return c&&this.writeraw(c,o,r),this.head,this}get decoder(){var e=gt(this);return e[XRo]??={kind:0,index:0,signatures:[],seed:{[SM]:0,[pwt]:null,[uee]:-1,[JRo]:void 0,[Cke]:40},checkpoints:[],last:null,head:{},applied:0,offset:0,ts:0}}get last(){return this.resolved,YRo(this,-1)}get seed(){return this.decoder.seed}get wal(){return this.resolved}get size(){return this.resolved.length}get resolved(){return this.$sync(),this}$sync(){let e=this.decoder,t=this.raw,r;for(;e.index<t.length-1;){let o=++e.index,n=t[o];if(typeof n=="number")n>16e11?e.ts=n:n>=0?(e.ts+=n,typeof r=="number"&&r>0||(e.offset+=n)):n<0&&(e.kind=-n);else{let i;if(e.kind==42)i=n[0];else if(e.kind==45)i=n;else if(e.kind==43)if(p(n,Array)){let a=e.signatures[n[0]].split("||"),u={};for(let c=0,h=B(a),d=h.length;c<d;c++){let f=h[c];u[f]=n[c+1]}i=OPDELTA.unflatten(u),i[dwt]=n}else{let s=OPDELTA.flatten(n),a=Object.keys(s),u=a.join("||");a.length<4,e.signatures.unshift(u),i=n}else i={},i[dwt]=n;if(i){let s=e.last||this[0]||e.seed;s&&(s[pwt]=i),i[Cke]=e.kind,i[QRo]=o,i[eMo]=e.last,i[uee]=this.length,i[hwt]=e.offset,i[SM]=e.ts,this.push(i),e.last=i}}r=n}return this}};E(hee,fwt,"OPWAL",16);var jke=hee;globalThis.OPWAL=jke;T();oe();We();var Uke=Symbol.for("#resolve"),pee=Symbol.for("#vow"),rMo=Symbol.for("#handshake"),mwt=Symbol.for("#autoflush"),$wt=Symbol(),CM=class CM{[A](e=null,t=!0,r=!0){var o;this.retries=e&&(o=e.retries)!==void 0?o:0,this.readyState=e&&(o=e.readyState)!==void 0?o:0,this.bytesReceived=e&&(o=e.bytesReceived)!==void 0?o:0,this.bytesSent=e&&(o=e.bytesSent)!==void 0?o:0,this.flushDelay=e&&(o=e.flushDelay)!==void 0?o:0,this.closed=e&&(o=e.closed)!==void 0?o:!1}constructor(e,t,r={}){this[A](),this.owner=e,this.path=t,this.queue=[],this.sent=[],this.options=r,typeof r.flushDelay=="number"&&(this.flushDelay=r.flushDelay),this.open(),re(this,$wt)}async[Uke](){return this.readyState==1?!0:(this[pee]=new Vow,this.open(),await this[pee])}open(){var e=this;if(this.closed=!1,this.ws&&this.ws.readyState!=3)return this;let r=""+(this.options.origin||globalThis.origin).replace(/^http/,"ws")+this.path,o=Date.now();this.ws=new WebSocket(r),this.ws.binaryType="arraybuffer";let n=this.ws,i=setTimeout(function(){return n.close()},1e4);return n.$deliver=function(s){let a=s;if((p(s,OPPlain)||p(s,OPStruct)||p(s,OPPacket))&&(a=OP.$pack(s,n.session)),n.readyState==1)return p(s,OPPacket)&&(s.$socket=n),n.send(a,!0)},n.onopen=function(s){if(clearTimeout(i),e.disconnects=0,e.closed_code=null,e.retries=0,e.readyState=n.readyState,e.flush(),e[pee])return e[pee].resolve(!0)},n.onmessage=function(s){let a=new Uint8Array(s.data);e.bytesReceived+=a.length;let u=OP.$parse(a);return p(u,OPHandshake)?(n[rMo]=u,e.handshake=u):p(u,OPSocketSignal)&&u.code==1012&&n==e.ws&&(e.ws=null,e.readyState=0,e.open()),p(u,OPPacket)&&(u.received||=Date.now(),u.sender||=e.options.sender||(p(e.owner,OPObject)?e.owner:OP.server)),e.onmessage(u)},n.onerror=function(s){return!1},n.onclose=function(s){var a;if(e.ws===n){e[Uke].reset(e),clearTimeout(i),e.readyState=n.readyState;let u=Math.min(1e3*Math.pow(1.5,e.retries),3e4);if((a=e.handshake)!=null&&a.server){e.closed_code=s.code;try{e.handshake.server.proc.closed_code=s.code}catch{}}if(s.code==1006?(OP.toast("Server gone"),u=10*1e3+Utils.random(0,5e3)):s.code==1008?(OP.toast("Connection rate-limited to avoid abuse"),u=Math.max(10*1e3,u)):s.code==1012?u=0:s.code==1013&&(OP.toast("Connection rate-limited to avoid abuse"),u=Math.max(5*1e3,u)),!e.closed)return e.retrying=setTimeout(function(){if(!e.closed)return e.retries++,e.open()},u)}},this}close(){if(this.closed=!0,this.retries=0,this.ws)return this.ws.close()}flush(){if(!this.ready)return;let e=this.queue;this.queue=[];for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];this.send(n,!0,!0)}return this}clear(){return this.queue=[],this}autoflush(){var e=this;return this[mwt]||=ik(function(){if(e.ready)return e.flush()},this.flushDelay,1*1e3),this[mwt]()}onmessage(e){var t,r;return(r=(t=this.owner)==null?void 0:t.onmessage)==null||r.call(t,e,this),Cr()}send(e,t,r=!1){var o,n;if(r||!this.flushDelay&&this.ready){let i=e;if(p(e,OPPacket)&&(e.$socket=this.ws),p(e,Uint8Array)||(e=OP.$pack(e)),this.queue.length&&this.flush(),this.bytesSent+=e.length,e.length>2*1024*1024){let s=((o=OP.user)==null?void 0:o.id)||((n=OP.agent)==null?void 0:n.id);console.warn("trying to send too large packet",i);let a=""+i.target+" "+(i.action||"");throw OP.logged("RPC payload too large "+e.length+"b. "+i.constructor.name+" "+a+" (by "+s+")",{urgent:!1}),new OPError("RPC payload too large: "+e.length+"b (max 2MB)")}return this.ws.send(e,!0)}else if(this.queue.push(e),!this.closed)return this.open(),this.autoflush()}forward(e,t){return p(e,Uint8Array)||(e=OP.$pack(e,t)),this.send(e)}get ready(){return this.readyState==1}get reliable(){return OP.unloading?!1:this.ready}};CM.prototype[Le]=De,se([ho.bind([])],CM.prototype,Uke,null),E(CM,$wt,"OPSocket",272);var Pke=CM;globalThis.OPSocket=Pke;T();oe();var oMo=Symbol(),Oke=class Oke{encrypt(e){return console.warn("OP.crypto.encrypt not implemented on client")}decrypt(e){return console.warn("OP.crypto.decrypt not implemented on client")}};E(Oke,oMo,"OPCrypto",0);var Tke=Oke;globalThis.OPCrypto=Tke;T();oe();var Mke={};Fme(Mke,{default:()=>EM,render:()=>Rke});T();oe();var nMo=le("&.source",globalThis,l=>l.source),iMo={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br /><br />"]," ":["<br />"],"-":["<hr />"]};function ywt(l){return l.replace(RegExp("^"+(l.match(/^(\t| )+/)||"")[0],"gm"),"")}function zw(l){return(l+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sMo=[/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)/,/(?:^``` *(\w*)\n([\s\S]*?)\n```$)/,/((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)/,/((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)/,/(?:!\[([^\]]*?)\]\(([^)]+?)\))/,/(\[)/,/(\](?:\(([^)]+?)\))?)/,/(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))/,/(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))/,/(?:`([^`].*?)`)/,/(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/,/(https?:\/\/[^\s<]+[^\s<\.)])/].map(nMo).join("|");function EM(l,e){let t=new RegExp(sMo,"gm"),r=[],o="",n=e||{},i=0,s,a,u,c,h;function d(m){let $=iMo[m[1]||""],b=r[r.length-1]==m;return $?$[1]?(b?r.pop():r.push(m),$[b|0]):$[0]:m}function f(){let m="";for(;r.length;)m+=d(r[r.length-1]);return m}for(l=l.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(m,$,b){return n[$.toLowerCase()]=b,""}),l=l.replace(/^\n+|\n+$/g,"");u=t.exec(l);)a=l.substring(i,u.index),i=t.lastIndex,s=u[0],a.match(/[^\\](\\\\)*\\$/)||((h=u[3]||u[4])?s='<pre class="code '+(u[4]?"poetry":u[2].toLowerCase())+'"><code'+(u[2]?' class="language-'+u[2].toLowerCase()+'"':"")+">"+ywt(zw(h).replace(/^\n+|\n+$/g,""))+"</code></pre>":(h=u[6])?(h.match(/\./)&&(u[5]=u[5].replace(/^\d+/gm,"")),c=EM(ywt(u[5].replace(/^\s*[>*+.-]/gm,""))),h==">"?h="blockquote":(h=h.match(/\./)?"ol":"ul",c=c.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),s="<"+h+">"+c+"</"+h+">"):u[8]?s='<img src="'+zw(u[8])+'" alt="'+zw(u[7])+'">':u[10]?(o=o.replace("<a>",'<a href="'+zw(u[11]||n[a.toLowerCase()])+'">'),s=f()+"</a>"):u[9]?s="<a>":u[12]||u[14]?(h="h"+(u[14]?u[14].length:u[13]>"="?1:2),s="<"+h+">"+EM(u[12]||u[15],n)+"</"+h+">"):u[16]?s="<code>"+zw(u[16])+"</code>":u[17]||u[1]?s=d(u[17]||"--"):u[18]&&(s='<a href="'+zw(u[18])+'">'+u[18]+"</a>")),o+=a,o+=s;return(o+l.substring(i)+f()).replace(/^\n+|\n+$/g,"")}function lMo(l){var e;let t,r=/\n+(\t+)/g,o=null;for(;t=r.exec(l);){let n=t[1];(Ye(o,null)||0<(e=n.length)&&e<o.length)&&(o=n)}return o&&(l=l.replace(RegExp("\\n"+o,"g"),`
`)),l}function Rke(l="",e={}){return l=l.replace(/\n\t*$/,""),l=lMo(l||""),l=EM(l),l=NJ.sanitize(l),l}var dee=q6(kwt());We();var aMo=Symbol.for("#mount"),uMo=Symbol.for("#unmount"),cMo=Symbol.for("#symbol"),hMo=Symbol.for("#setForType"),Lke=Symbol.for("#node"),_wt=Symbol.for("#awakened"),pMo=Symbol.for("#povstore"),dMo=Symbol.for("#localstore"),fMo=Symbol.for("#sessionstore"),xwt=Symbol(),vh=null;globalThis.IMBA_ENV_TSC||Object.defineProperty(globalThis,"OP",{get:function(){return vh||=new(jM.Main||jM)},set:function(l){return vh&&vh!=l&&console.warn("overriding adapter!",vh,l),vh=l}});var vwt=Symbol(),Dke=class Dke{constructor(e=null){this[A](e),re(this,vwt)}[A](e=null,t=!0,r=!0){var o;this.$plain=e&&(o=e.$plain)!==void 0?o:{},this.$reversed=e&&(o=e.$reversed)!==void 0?o:{}}get(e,t=null){let r=this.$plain[e];return!t&&!r&&(r=this.$plain[e]={}),t?r&&r[t]||0:r}reversed(e){return this.$reversed[e]}associated(e,t){let r=e&&this.$plain[e],o=t&&this.$plain[t];if(r&&o){for(let n=0,i=Object.keys(r),s=i.length,a,u;n<s;n++)if(a=i[n],u=r[a],o[a])return!0}return!1}set(e,t,r){let o=this.get(e),n=o[t]||0,i=n^r;if(!i)return;let s=n&i,a=r&i;o[t]=r;let u=this.$reversed[t]||={};return u[e]=r,{added:a,removed:s}}};E(Dke,vwt,"OPRoleMap",16);var fee=Dke;globalThis.OPRoleMap=fee;var wwt=Symbol(),jf=class jf{[A](e=null,t=!0,r=!0){var o;this.$rich=e&&(o=e.$rich)!==void 0?o:new Map,this.$rolecache=e&&(o=e.$rolecache)!==void 0?o:new fee,this.intervals=e&&(o=e.intervals)!==void 0?o:[],this.exceptions=e&&(o=e.exceptions)!==void 0?o:[],this.queue=e&&(o=e.queue)!==void 0?o:new NK,this.jobs=e&&(o=e.jobs)!==void 0?o:new NK,this.silent=e&&(o=e.silent)!==void 0?o:!1,this.toasts_off=e&&(o=e.toasts_off)!==void 0?o:!1,this.error_toasts_off=e&&(o=e.error_toasts_off)!==void 0?o:!1,this.stats=e&&(o=e.stats)!==void 0?o:{total:0},this.counters=e&&(o=e.counters)!==void 0?o:this.stats,this.resolving=e&&(o=e.resolving)!==void 0?o:new NK}get symbol(){return this[cMo]||=Symbol()}get now(){return C3t()}emit(e,...t){return Il(this,e,t)}on(e,...t){return yl(this,e,...t)}once(e,...t){return bl(this,e,...t)}un(e,...t){return pa(this,e,...t)}static inherited(e){return jf.Main=e}get $(){var e=this;return new Proxy({},{get:function(t,r){return e.$rich.get(r)||vh.get(r)}})}get $o(){var e=this;return new Proxy({},{get:function(t,r){return r=="sub"?t[r]||=new Proxy({},{get:function(o,n){return o[n]||=vh.sub(n)}}):typeof r=="string"&&r[0]=="_"?Symbol.for("#"+r.slice(1)):t[r]||=e.get(r)}})}get AFL(){return Mn}get WAL(){return Bme}get PUB(){return Hme}get MODS(){return Su}get $cloud(){return this.$$common.$cloud}get $stored(){return this.$cloud}get $plain(){return this.$$common.$plain}getrich(e){return typeof e!="string"&&(console.log("trying to access non-string rich",e),e=""+e),this.$rich.get(e)}setrich(e,t){return this.$rich.set(String(e),t),t}get version(){return 1}toString(){return"op"}register(e){return e.mount(),this}deregister(e){return e.unmount(),this}[aMo](e){return e.$f&4096?this:(this.$all.add(e),this)}[uMo](e){return this.$all.delete(e),this}all(...e){return this.$all.only(...e)}all_old(e=null){let t=p(e,OPType)?e:Rs,r=this[hMo](t);return e&&e!=t?r.select(e):r}withcontext(e,t){return t()}clone(e,t={}){if(!e)return e;let r;try{r=globalThis.structuredClone(e)}catch{LL("failed to clone",e)}return t.sanitize&&this.removeEmptyObjects(r,t),t._&&this.sanitizeNested(r,function(o){return o._|=t._}),r}sanitizeNested(e,t){let r=Object.keys(e),o=r.length;t(e);for(let n=0,i=B(r),s=i.length;n<s;n++){let a=i[n];p(e[a],OPPlain)&&this.sanitizeNested(e[a],t)}return e}removeEmptyObjects(e,t){var r;let o=Object.keys(e),n=o.length;if(t!=null&&t.del&&e._del>0)return null;for(let i=0,s=B(o),a=s.length;i<a;i++){let u=s[i],c=e[u],h=!1;u=="_"?h=!0:p(c,OPPlain)?(this.removeEmptyObjects(c,t)==null||Object.keys(c).length==0)&&(h=!0):c==null&&(h=!0),h&&(r=e[u],delete e[u],n--)}return n?e:null}get compare(){return cQ}get debug(){return!!this.debug}constructor(){var e=this;this[A](),vh=this,this.$all=new OPTypeIndex(this).assingleton(),this.ready=new Vow,this.id=0,this.debug=!1,this.options={},this.rolemap={},this.node=null,this.server=null,this.sentmessages=new Map,this.$packetmap={},this.$sent=[],this.$errors=[],this.$$common=new OPCommonData,this.$$memory=new OPMemoryStore,this.on("error",function(t){return e.$errors.push(t)}),re(this,wwt)}set node(e){this[Lke]!=e&&(this[Lke]=e,!0)&&e&&Object.defineProperty(e,"$handler",{value:this,writable:!0})}get mapping(){return OPObjectRegistry}get node(){return this[Lke]}finalize(){return this.ready.resolve(this),Promise.resolve(!0)}setup(){return!0}async awaken(){if(await this.finalize(),this[_wt])return!0;this[_wt]=!0;for(let e of B(Rs.types))e.enums;return!0}get tables(){return Rs.types.filter(function(e){return e.table==e&&!e.key.virtual})}filter(...e){return Rs.filter(...e)}find(...e){return Rs.find(...e)}get random(){return Xge}get Object(){return Rs}put(e){return!0}pack(e,t=null){return console.log("OP.pack deprecated - use OP.$pack"),this.$pack(e,t)}$pack(e,t){return IR(e,t)}unpack(e){return O3(e)}valueOf(){return this.id}get msgpack(){return N2}get markdown(){return Mke}typeof(e){return OPKey.decode(e,this.mapping).type}getType(e,t=null){return Rs.getType(e)}defineProps(e,t){let r={};for(let o=0,n=Object.keys(t),i=n.length,s,a;o<i;o++)s=n[o],a=t[s],r[s]={enumerable:!1,configurable:!0,value:a};return Object.defineProperties(e,r),e}defineProp(e,t,r){return t[0]=="#"&&(t=Symbol.for(t)),Object.defineProperty(e,t,{enumerable:!1,configurable:!0,value:r}),r}get $common(){return this.$$common.$plain}get $$pov(){var e;return((e=this.pov)==null?void 0:e.$$pov)||(this[pMo]||=new OPInMemoryData)}get $povplain(){var e;return(e=this.$$pov)==null?void 0:e.$plain}get $$local(){return this[dMo]||=new OPInMemoryData}get $localplain(){return this.$$local.$plain}get $$session(){return this[fMo]||=new OPInMemoryData}get $sessionplain(){return this.$$session.$plain}$send(e,t=null){var r,o,n,i;return this.debug&&console.log("$send",e),(o=(r=this.$sent)==null?void 0:r.push)==null||o.call(r,e),t!=null&&t.$send?(n=t==null?void 0:t.$send)==null||n.call(t,e):(i=t==null?void 0:t.$root)!=null&&i.$send?t.$root.$send(e):p(t==null?void 0:t.$deliver,Function)&&t.$deliver(e),e}async $handle(e,t,r){var s,a;if(!p(e,F1))return;let o,n,i;if(e.response){let u=this.sentmessages.get(-e.ref),c=e.value;u&&(u.$resolve||console.warn("$handle message issue?",e,c,u),p(c,Error)?u.$reject(c):u.$resolve(c));return}try{if(o=vh.get(e.target)||this.node,vh.incr(""+e.constructor.name+" "+((s=o==null?void 0:o.constructor)==null?void 0:s.name)+"."+e.action+" received"),n=(o==null?void 0:o.$handler)||this,n==this){i=(a=o==null?void 0:o.$shape)==null?void 0:a[e.action];let u=await this.$call(i,o,e.params,t);if(u!=null)return u}else if(n)return n.$handle(e,t,r);return}catch(u){if(i!=null&&i.notify)try{vh.logged("Error in "+i.id,u,{urgent:!0})}catch{}throw u}}async $call(e,t,r,o=null){return await e.callback.apply(t,r)}$parse(e,t){let r,o;if(p(e,ArrayBuffer)&&(e=new Uint8Array(e)),p(e,Uint8Array)){try{r=O3(e)}catch(n){try{o=$be(e)}catch{}r=console.log("failed to unpack",e,n,o)}return r}return e}sub(e){throw"OPAdapter.sub not implemented"}get(e,t){return e=="$common"?this.$$common:Rs.get(e,t||this)}async fetch(e,t={}){let r=t.headers||={};r["op-client-token"]=this.locals.token,r["op-client-secret"]=this.locals.secret;let o=await globalThis.fetch(e,t),n,i=o.headers.get("content-type");return i=="application/vnd.op.msgpack"?n=O3(await o.arrayBuffer()):i=="application/json"?n=await o.json():n=await o.text(),n}$sub(e){return Rs.get(e)}async sudo(e){return await e()}get context(){return this}get app(){return OPApp.get(1)}get pov(){return this.user||this.session}get user(){return null}get session(){return OPSession.get(1)}get agent(){return this.client||this.session||this.user}throw(e,...t){let r=new OPError(e);throw r.data=t,r}fmt(e,t){return OPFormat[e]?OPFormat[e](t,e):t}$patch(e,t,r=this){if(!e)return;let o=e.id,n=e._pov;{if(n){vh.get(n).$$pov.$patch(e);return}let i=this.$cloud[o],s=this.$rich.get(o);return s?s.$patch(e):(this.$cloud[o]||=e,i&&i!=e&&Object.assign(i,e),Rs.get(o,r))}}rolemask(e){let t,r,o=0,n=[];for(;(t=2**o)<=e;)e&t&&n.push(this.role(o)),o++;return n}role(e,t,r){let o=1<<e,n=this.rolemap[o];if(n)return t&&n.$apply(t),n;let i=this.Role,s=this.rolemap[o]=i.bit(e,t);return i[o]=s,r&&(s.check=r,r.length===2&&(this.conditionalroles||=new OPIndex,this.conditionalroles.add(s))),this.roles.add(s),s}get crypto(){return new OPCrypto(this)}encodeURIComponent(e){var t=this;return p(e,OPIterable)?e.map(function(r){return t.encodeURIComponent(r)}).join("~"):p(e,Rs)?e.id:""}decodeURIComponent(e){var t=this;return e.indexOf("~")>=0?e.split("~").map(function(r){return t.decodeURIComponent(r)}):Rs.get(e)}create(e){let t=e.id&&this.getType(e.id);if(!t)throw"cannot create object without valid id";return t.create(e)}test(e,t,r=!0){if(typeof t=="number"){let n=e&t;return r?n==t:n>0}return!1}findmany(e,t){throw"find-many not implemented"}findone(e,t){throw"find-many not implemented"}preload(){throw"preload not implemented on generic OPAdapter"}incr(e,t=1){this.counters||={total:0};let r=this.counters[e]=(this.counters[e]||0)+t;return this.counters.total+=t,r}logstats(){let e={},t=[];for(let r=this.counters,o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++)s=n[o],a=r[s],t.push({name:s,count:a});return t.sort(function(r,o){return o.count-r.count}),console.table(t.slice(0,14))}async bench(){console.profile();let e=globalThis.performance.now();await globalThis.o.app01.data;let t=globalThis.performance.now();return console.profileEnd(),console.log("took",t-e),this.logstats()}hash(e,t="binary"){var r=gt(this);if(r[xwt]??=new TextEncoder,typeof e=="string"&&(e=r[xwt].encode(e).buffer),t=="binary"){let o=dee.default.ArrayBuffer.hash(e,!1);return new Uint8Array(o.match(/../g).map(function(i){return parseInt(i,16)}))}else{if(t=="hex")return dee.default.ArrayBuffer.hash(e,!1);if(t=="utf8"||t=="utf-8")return dee.default.ArrayBuffer.hash(e,!0);throw new Error("OP.hash format must be string, binary, hex, or utf-8")}}};jf.prototype[Le]=De,jf.Main=void 0,se([ke.bind([])],jf.prototype,"$",null),se([ke.bind([])],jf.prototype,"$o",null),se([ho.bind([])],jf.prototype,"awaken",null),se([ke.bind([])],jf.prototype,"crypto",null),E(jf,wwt,"OPAdapter",272);var jM=jf;globalThis.OPAdapter=jM;T();oe();We();globalThis.OPANYONE=1;globalThis.OPUSER=4;globalThis.OPGUEST=8;globalThis.OPMEMBER=16;globalThis.OPOWNER=32;globalThis.OPCREATOR=64;globalThis.OPADMIN=128;globalThis.OPPUBLISHER=256;globalThis.OPASSOCIATE=512;globalThis.OPDEV=0;globalThis.OPSRV=1<<29;globalThis.OPTEAM=OPMEMBER|OPOWNER;var Swt=Symbol(),ga=class ga{constructor(){re(this,Swt)}get roles(){return new OPIndex}get ANYONE(){return this.role(0,{name:"anyone"},function(){return!0})}get USER(){return this.role(2,{name:"user"})}get GUEST(){return this.role(3,{name:"guest"})}get MEMBER(){return this.role(4,{name:"member"})}get OWNER(){return this.role(5,{name:"owner",hue:"blue"})}get CREATOR(){return this.role(6,{name:"creator"})}get ADMIN(){return this.role(7,{name:"admin",hue:"purple"})}get PUBLISHER(){return this.role(8,{name:"publisher"})}get ASSOCIATE(){return this.role(9,{name:"associate"})}get SRV(){return this.role(29,{name:"server"})}init_roles(){return this.ANYONE,this.USER,this.GUEST,this.MEMBER,this.OWNER,this.CREATOR,this.ADMIN,this.PUBLISHER,this.ASSOCIATE,this.SRV}};ga.prototype[Le]=De,se([ke.bind([])],ga.prototype,"roles",null),se([ke.bind([])],ga.prototype,"ANYONE",null),se([ke.bind([])],ga.prototype,"USER",null),se([ke.bind([])],ga.prototype,"GUEST",null),se([ke.bind([])],ga.prototype,"MEMBER",null),se([ke.bind([])],ga.prototype,"OWNER",null),se([ke.bind([])],ga.prototype,"CREATOR",null),se([ke.bind([])],ga.prototype,"ADMIN",null),se([ke.bind([])],ga.prototype,"PUBLISHER",null),se([ke.bind([])],ga.prototype,"ASSOCIATE",null),se([ke.bind([])],ga.prototype,"SRV",null),E(ga,Swt,"OPAdapter",273,OPAdapter);var Cwt=ga;T();oe();We();var Ewt=Symbol.for("#setup"),mMo=Symbol.for("#sorter"),$Mo=Symbol.for("#matcher"),jwt=Symbol.for("#setup-type"),Awt=Symbol.for("#setup-self"),yMo=Symbol.for("#memo"),Uwt=Symbol.for("#hue"),Pwt=Symbol.for("#label"),Twt=Symbol.for("#valuetype"),bMo=Symbol.for("#meta"),Owt=Symbol.for("#cloud"),Rwt=Symbol.for("#up"),Mwt=Symbol.for("#cascadeTo"),Lwt=Symbol.for("##sorter"),gMo=Symbol.for("#backrefs"),kMo=Symbol.for("##up"),_Mo=Symbol.for("##register"),xMo=Symbol.for("#afterVisit"),vMo=le("&.action?",globalThis,l=>l.action),mee=Symbol(),Dwt=Symbol(),wMo=Symbol(),qw;globalThis.OPFieldRegistry=new(qw=class extends Array{get $memo(){let e=this[yMo]||={};return e[this.length]||={}}get $parent(){return this.$memo.parent||=this.filter(function(e){return e.parent})}get $as(){return this.$memo.as||=this.filter(function(e){return e.$granted})}get $actions(){return this.$memo.actions||=this.filter(vMo)}},E(qw,wMo,"OPFields",0),qw);var $ee=Symbol(),$k=class $k extends Qe($ee,null,OPBase,OPRenderable){[A](e=null,t=!0,r=!0){var n;var o;(n=this[$ee])==null||n.call(this,...arguments),this.required=e&&(o=e.required)!==void 0?o:!1,this.pgtype=e&&(o=e.pgtype)!==void 0?o:"text",this.observable=e&&(o=e.observable)!==void 0?o:!1,this.default=e&&(o=e.default)!==void 0?o:null,this.icon=e&&(o=e.icon)!==void 0?o:null,this.readonly=e&&(o=e.readonly)!==void 0?o:!1,this.composite=e&&(o=e.composite)!==void 0?o:!1,this.hidden=e&&(o=e.hidden)!==void 0?o:!1,this.secret=e&&(o=e.secret)!==void 0?o:!1,this.immutable=e&&(o=e.immutable)!==void 0?o:!1,this.generated=e&&(o=e.generated)!==void 0?o:!1,this.memory=e&&(o=e.memory)!==void 0?o:!1,this.session=e&&(o=e.session)!==void 0?o:!1,this.local=e&&(o=e.local)!==void 0?o:!1,this.pov=e&&(o=e.pov)!==void 0?o:null,this.deprecated=e&&(o=e.deprecated)!==void 0?o:!1,this.common=e&&(o=e.common)!==void 0?o:!1,this.channel=e&&(o=e.channel)!==void 0?o:!1,this.editable=e&&(o=e.editable)!==void 0?o:!1,this.index=e&&(o=e.index)!==void 0?o:!1,this.virtual=e&&(o=e.virtual)!==void 0?o:!1,this.lazy=e&&(o=e.lazy)!==void 0?o:!1,this.unique=e&&(o=e.unique)!==void 0?o:!1,this.guard=e&&(o=e.guard)!==void 0?o:null,this.watch=e&&(o=e.watch)!==void 0?o:null,this.route=e&&(o=e.route)!==void 0?o:null,this.tip=e&&(o=e.tip)!==void 0?o:"",this.order=e&&(o=e.order)!==void 0?o:null,this.g=e&&(o=e.g)!==void 0?o:null,this.s=e&&(o=e.s)!==void 0?o:null,this.f=e&&(o=e.f)!==void 0?o:null,this.gr=e&&(o=e.gr)!==void 0?o:null,this.eager=e&&(o=e.eager)!==void 0?o:null,this.http=e&&(o=e.http)!==void 0?o:null,this.synckey=e&&(o=e.synckey)!==void 0?o:null,this.pick=e&&(o=e.pick)!==void 0?o:null,this.dialog=e&&(o=e.dialog)!==void 0?o:null,this.defaults=e&&(o=e.defaults)!==void 0?o:null,this.derived=e&&(o=e.derived)!==void 0?o:null,this.backfill=e&&(o=e.backfill)!==void 0?o:null}get id(){return""+this.model.id+"/"+this.name}get proptype(){return OPProp}get saved(){return!0}get $(){return{}}stat(e=100,t=null){return this.$stat=e}constructor(...e){super(),this[A](),this.$r=this.$w=this.$x=this.$c=this.$d=null,this.$backlinks=null,this.args=Array.from(arguments),re(this,$ee)}get type(){return this.$type}get $type(){return this.args[0]}bind(e,t=this.name,r=null){return this.$prop(e,t,r||e[this.$store])}get ref(){return!1}get id(){return!!this.composite}get virtual(){return!this.pgtype&&!this.virtual}get action(){return!1}get local(){return this.local||this.session}get common(){return this.$store=="$plain"}tab(e={}){return e==!0&&(e={}),p(e,Function)&&(e={if:e}),this.$tab=e}get $up(){return this.model}get $root(){var e;return((e=this.$up)==null?void 0:e.$root)??this.model}get asicon(){return this.order=="desc"?"sortdesc":this.icon||this.name}$backlinked(e){return this.$f|=4194304,this.$backlinks??=new Set,this.$backlinks.add(e)}$observed(e){var t,r;let o=qi.ctx;o&&((this.$f&(t=512))!=t&&(this.$f|=t),(e.$f&(r=33554432))!=r&&(e.$f|=r),o.add(this,e))}fallback(e){return this.$fallback=e,this}$clone(e={}){let t=Object.create(this);return Object.assign(t,e),t}get $shape(){var e;return((e=this.$type)==null?void 0:e.$shape)||this}set hue(e){this[Uwt]=e}get hue(){return this[Uwt]}as(e){return this.$granted||=0,this.$granted|=+e,!0}vias(e){let t=[];if(p(e,OPPlain))for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++){if(i=o[r],s=e[i],!i.int)if(i.match(/^R8/))i=+OP.get(i);else if(typeof globalThis[i]=="number")i=globalThis[i];else throw"vias() keys must be integers";t.push([parseInt(i),+s])}else if(typeof e=="number"||p(e,OPRole))t=[[+e,+e]];else throw"vias only accepts plain object {refroles: thisroles}";return this.$vias||=t,!0}is(){return!0}set label(e){this[Pwt]=e}get label(){if(!this.$store)return null;let e=this[Pwt]||this.name.humanize().replace(/\?/,"");return p(e,Function)&&(e=e.apply(this,[this])),e}get aslabel(){return this.label}get valuetype(){return this[Twt]||String}set valuetype(e){this[Twt]=e}get column(){return this.pgtype&&!this.local&&!this.session&&!this.virtual}$cloned(e){return e.prototype[this.$slot]=Object.create(this)}$inherited(e,t=0){return this.$inheritors.add(e),this.$super&&this.$super.$inherited(e,t+1),this}$for(e){let t=e.prototype;if(this.$context!=t){let r=this.$template.$accessor(t,this.$symbol,this.name,this.$slot,t,2097152|this.$f&512);return t[this.$slot]=r,r}return this}$accessor(e,t,r,o,n,i=0){var s;let a=e.constructor,u=e.$type,c=r=="owner"?function(...m){return console.log(a==null?void 0:a.name,u==null?void 0:u.name,r,...m,i)}:function(){return!0};if(c=function(){return!0},i||this.$context||(c("accessing field without $context",e!=n),this.$context=n,e!=n?this.$main=n[""+r]:c("creating $main")),n.hasOwnProperty(o)&&n[o])return c("already found for "+(a==null?void 0:a.name)),n[o];e!=n&&e.constructor.prototype==e&&(n=e);let h=n.constructor,d=Object.create(this);if(d.$inheritors=new Set,this.$main){let m=this.$main;if(a.parent){let $=a.parent.prototype[""+r];$&&($=$.$for(a.parent)),$&&$.$main==this.$main&&(m=$)}OP.defineProps(d,{$super:m,$template:this.$main.$template}),m.$inherited(d)}this.$main||(this.$main=d,OP.defineProps(d,{$main:d,$template:this})),this.$symbol||(this.name=r,this.$symbol=t,this.$slot=o),d.name=r,d.$f=i||0,d.key=t,OP.defineProps(d,{model:h,$context:n}),d.$store="$plain",d.$rawkey=r,d.column??=r;let f=[];if(d.session&&(f.push("$sessionplain"),d.$f|=4),d.local&&(f.push("$localplain"),d.$f|=2),d.memory&&(f.push("$memorydata"),d.$f|=16),d.pov&&(f.push("$povplain"),d.$f|=1),d.channel&&(f.push("$channeldata"),d.$f|=32),d.common&&(f.push("$plain"),d.$f|=8),f.length||f.push("$plain"),d.$stores=f,d.$store=f[0],f.length>1&&(d.$f|=64),o&&(n[o]=d),this.default&&(typeof(s=this.default.literal)=="number"||typeof s=="string"||typeof s=="boolean")&&(this.default.sql=this.default.literal,this.$literal_default=this.default.literal),this.observable&&(d.$invalidated=function(m){var $,b;return(b=($=d.bind(m))==null?void 0:$.$invalidated)==null?void 0:b.call($,m)},d.$observed=function(m){var $,b;return(b=($=d.bind(m))==null?void 0:$.$observed)==null?void 0:b.call($,m)}),d.$$v=1,d[Ewt](e,t,r,o,n),n instanceof OPTuple)if(typeof this.at=="number"){let m=Symbol.for(String(this.at)),$=n[m],b=d;p($,OPBitsField)&&p(d,OPBitField)?b=$:$&&n.hasOwnProperty(m)&&d.$warn("location .at("+this.at+") is already used by another field"),n[m]=b,d.$f&55?d.$warn("pov/memory/session/local tuple fields cannot specify .at"):d.$rawkey=this.at}else this.pgtype&&d.common&&!p(d,OPBitField)&&!p(d,OPBitsField)&&d.$warn("must defined .at(integer) for tuple fields");return d[jwt](),d[Awt](),OPFieldRegistry.push(d),d}$prop(e,t=this.name,r=e[this.$store]){return(r[bMo]||={})[t]||=new this.proptype(e,t,r)}$serialize(e,t=null,r=0){return this.$sanitize(e,t,r)}$deserialize(e,t=null,r=0){return e}$sanitize(e,t=null,r=0){return e}$validate(e,t=null,r=0){return this.$f&16777216&&e==null?new OPRequiredError(""+t.id+"/"+this.name):null}$get(e,t,r=null,o=null,n=null){let i=this.$f,s;if((r==null||r===this.name)&&(r=this.$rawkey??r),i&64){o||this.$observed(e);for(let a=0,u=B(this.$stores),c=u.length;a<c;a++){let h=u[a],f=e[h][r];if(f!==void 0){if(a>0){let m=a;for(;m>0;){let $=this.$stores[--m];$!="$channeldata"&&this.$apply(e,f,1052676,r,e[$])}}s=f;break}}return s??=this.$literal_default,s===void 0&&i&8388608&&(s=p(this.$fallback,Function)?this.$fallback.call(e):this.$fallback),s!=null&&i&67108864&&(s=this.$deserialize(s,e,o)),s??null}return o||this.$observed(e),s=(n||e[this.$store])[r]??this.$literal_default,s===void 0&&i&8388608&&(s=p(this.$fallback,Function)?this.$fallback.call(e):this.$fallback),s!=null&&i&67108864&&(s=this.$deserialize(s,e,o)),s??null}$set(e,t,r,o=this.name,n=16777217,i=null){let s=this.$f;if(n&1&&globalThis.OP_SKIP_VALIDATIONS&&(n&=-2),o===this.name&&(o=this.$rawkey??o),s&64){for(let a=0,u=B(this.$stores),c=u.length;a<c;a++){let h=u[a],d=t[h];this.$apply(t,e,n|4096|(a>0?262144:0),o,d)}return}return i??=t[this.$store],this.$apply(t,e,n|4096,o,i)}$writable(e,t=null){let r=OPSRV|(this.$w??(e==null?void 0:e.$w)??0);return(OPANYONE&r)>0||OP.sudo||(e.rolesfor(t||OP.agent)&r)>0}$apply(e,t,r,o,n,i=null){let s=this.$f,a=n[o],u=r&262144;if(r&536870912&&p(t,OPSTREDIT)&&(t=t.apply(a)),r&1048576||r&16777216&&(t=this.$sanitize(t,e,r)),!(r&524288&&a)){if(t!=a&&r&1&&(!(r&8192)&&!e.fresh&&!this.$writable(e)&&this.$raise`Not allowed to set ${e}.${this}`,s&131072&&p(this.guard,Function)&&this.guard.call(e,t,a,r,o,n)),r&65536){let c=n[Owt];if(!c){let h=e,d=[],f=n;for(;f&&!(c=f[Owt]);)d.unshift(h),f=f[Rwt],h=h.$up;for(let m=0,$=B(d),b=$.length;m<b;m++){let g=$[m];c=c[g.$key]||={}}}c[o]=t}if(t!=a){if(r&8192?Object.defineProperty(n,o,{value:t,enumerable:!0,writable:!1}):n[o]=t,s&8192&&!u&&(t=t?this.$deserialize(t,e,r):null,a=a?this.$deserialize(a,e,r):null,s&4194304)){let c=this.$symbol,h;t&&(h=t[c])&&e.indexjoin(h,this,r),a&&(h=a[c])&&e.indexleave(h,this,r)}if(s&138448896&&!u&&this.$altered(t,a,e,n,o,r),r&4||s&512&&e.$f&33554432&&this.$invalidate(e,0,r),!u&&e.$applied&&e.$applied(o,t,a,r,o,n),!u&&s&262144&&this.watch.call(e,t,a,r,o,n),r&67112960){let c=e,h={};for(;c&&!(c.$changed&&c.$changed(e,o,t,a,r,n,h)==!1);)c=c.$up}if(r&67375104){let c=n;for(;c;)c.$changed&&c.$changed(e,o,t,a,r),c=c[Rwt]}if(!u&&n[Mwt]){let c=n[Mwt];this.$apply(e,n[o],r|524288,o,c)}}return!0}}$delta(e,t,r=0){if(t!=e)return t??null}$log(...e){return LL("%c "+this.model.name+"."+this.name,"color:lightblue",...e)}$warn(...e){return LL("%c "+this.model.name+"."+this.name,"color:lightblue",...e)}$err(e,...t){let r=[],o={};for(let i=0,s=B(e),a=s.length;i<a;i++){let u=s[i];r.push(u);let c=t[i];c!=null&&(p(c,$k)&&(c=""+this.model.name+"."+this.name),r.push(String(c)))}return new OPError(r.join(""))}$raise(e,...t){throw this.$err.apply(this,arguments)}$altered(e,t,r,o,n,i){}$accepts(e,t,r){return!!(this.valuetype&&p(e,this.valuetype))}$sub(e){if(this.$type)return this.$type.$sub(e)}$subshape(e){var t;if((t=this.$type)!=null&&t.$subshape)return this.$type.$subshape(e)}[Ewt](){this.$fallback===!0&&p(this.callback,Function);let e=this.$f;if(this.g==!0&&(this.g=100),this.lazy&&(e|=1024),(this!=null&&this.child||this!=null&&this.children)&&(e|=2048),(this!=null&&this.parent||this!=null&&this.parents)&&(e|=4096),this!=null&&this.ref&&(e|=8192),this!=null&&this.$granted&&(e|=32768),this!=null&&this.watch&&(e|=262144),this!=null&&this.guard&&(e|=131072),this.wildcard&&(e|=524288),this.defaults&&(e|=1048576),this.required&&(e|=16777216),this.$fallback!=null&&(e|=8388608),this.virtual&&(e|=33554432),this.$deserialize!=$k.prototype.$deserialize&&(e|=67108864),e&23&&(this.$r??=1,this.$w??=1,this.$x??=1,this.$c??=1,this.$d??=1),this.model.embedded){let t=this.model.prototype.$field;t&&t.$f&55&&(e&55||(e|=t.$f&55))}return this.$f=e,this.icon??=this.name,this}get[mMo](){return this.order?this[Lwt]||=OPSortFunction.for({[this.name]:this.order=="desc"?-1:1}):this[Lwt]}get $backrefs(){return this[gMo]=new Set}[$Mo](e){return!0}[jwt](){return this.proptype}[Awt](){}toString(){return this.name}opownoption(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[mee])||(r=o=0,e=t[mee]=e=R("op-option-new",null,null,null)),r||(e[kMo]=t._),r||((i=e[_Mo])==null||i.call(e,t,mee)),n=this,n===e[Dwt]||(e.data=e[Dwt]=n),r||t.sym||!e.setup||e.setup(o,t,mee),t.sym||e[xMo](o),e}addSubscriber(e){return this.$dependents||=new Set,this.$dependents.add(e)}removeSubscriber(e){return this.$dependents.remove(e)}$invalidate(e,t=0,r=0){return this.$$invalidated(0,e),this}$$invalidated(e,t){let r;if(r=qi.atomics){r.add(this);return}if(e>10)return;this.$$v++;let o=this.$dependents;if(o)for(let n of B(o))n.$$invalidated(e+1,this,t);e==0&&qi.flush()}};$k.prototype[Le]=De,se([ke.bind([])],$k.prototype,"$",null),se([ke.bind([])],$k.prototype,"$backrefs",null),E($k,$ee,"OPField",336);var Nke=$k;globalThis.OPField=Nke;T();oe();We();var Ike=Symbol("reset"),Nwt=Symbol(),Fke,Hke=Symbol(),SMo=Symbol.for("#has"),Iwt=Symbol.for("#v"),Fwt=Symbol.for("#cloud"),CMo=Symbol.for("#getRenderContext"),EMo=Symbol.for("##up"),jMo=Symbol.for("##register"),AMo=Symbol.for("#isRichElement"),UMo=Symbol.for("#afterVisit"),yee=Symbol(),I3=class I3 extends Qe(yee,null,OPBase,OPSecured,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[yee])==null||o.call(this,...arguments)}constructor(e,t,r=null){super(),this[A](),this.$up=e,this.$key=t,this.$container=r,re(this,yee)}get $plain(){return{}}get $rich(){return{}}get $$v(){return this[Iwt]||0}set $$v(e){this[Iwt]=e}get $field(){return p(this.$key,OPField)?this.$key:this.$up.$shape.$sub(this.$key)}get $target(){return this.$up}get $parent(){return this.$up}get $this(){return this.$up}get $name(){return this.$field.name}get $store(){return this.$field.$store}get $symbol(){return this.$field.$symbol}get $root(){return this.$up.$root}get $path(){return""+this.$up.$path+"/"+this.$key}get id(){return""+this.$up.id+"/"+this.$key}set reset(e){this.reset.$set(e,this,Ike,"reset")}get reset(){return this.reset.$get(this,Ike,"reset")}get reset(){return this[Nwt]||y((Fke=this.action(),Fke.callback=function(){return this.$reset()},Fke),this,Ike,"reset",Nwt,I3.prototype)}$reset(){let e=this.$container[Fwt],t=e==null?void 0:e[this.$key];if(this.$field.$set(t,this.$up),e&&e[this.$key]!=null)return this.$field.$apply(this.$up,t,0,this.$key,this.$container),this.error=null}$set(e,t=0){let r=t|4096|1|16777216;return this.$field.$apply(this.$up,e,r,this.$key,this.$container)}$serialize(e){return this.$field.$serialize(e,this.$up,this.$container,this.$key)}$deserialize(e){return this.$field.$deserialize(e,this.$up,this.$container,this.$key)}$apply(e,t=0){t&8?p(e,Error)?this.error=e:this.error&&(this.error=null):t&32&&this.error&&this.reset()}get plain(){return this.$container[this.$key]}get stored(){var e,t;return(t=(e=this.$container)==null?void 0:e[Fwt])==null?void 0:t[this.$key]}get dirty(){return this.plain!=this.stored}get valid(){return!this.$validate()}get invalid(){return this.$validate()}get value(){return this.$field.$get(this.$up,null,this.$key,0,this.$container)}set value(e){e!=this.value&&this.$field.$set(e,this.$up,null,this.$key,16777217,this.$container)}$validate(){return this.$field.$validate(this.value,this.$up)}get $shape(){return OPShape.for(this.constructor.prototype)}get name(){return this.$field.name}get label(){return this.$field.aslabel||this.$field.name}get aslabel(){return this.label}get asicon(){return this.$field.icon||this.$name}get g(){return this.$field.g}$sanitize(e,t){return this.$field.$sanitize(e,this.$up,t)}has(e){return p(e,gee)&&(e=e.value),this.value==e}[SMo](e){return this.has(e)}toIterable(){var t;let e=this.value;return((t=e==null?void 0:e.toIterable)==null?void 0:t.call(e))||[]}$invalidate(){return this.$beacon.$$invalidated(0,this),!0}$observed(){return this.$beacon.reportObserved(this)}get ascolor(){var e;return(e=this.value)==null?void 0:e.ascolor}};I3.prototype[Le]=De,se([ke.bind([])],I3.prototype,"$plain",null),se([ke.bind([])],I3.prototype,"$rich",null),E(I3,yee,"OPProp",336);var Bke=I3;globalThis.OPProp=Bke;var bee=Symbol(),Vke=class Vke extends Qe(bee,null,OPSecured,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[bee])==null||o.call(this,...arguments)}constructor(e,t){super(),this[A](),this.$up=e,this.value=t,re(this,bee)}get $field(){return this.$up.$field}get ascolor(){return this.value.ascolor}opownpiicon(){var i;var e,t,r=H(),o,n;return e=r[CMo](Hke),o=n=1,(t=e.run(this.oel(this.value,"pi-icon")))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[EMo]=r._),o||((i=t[jMo])==null||i.call(t,r,Hke)),t[AMo]&&(o||r.sym||!t.setup||t.setup(n,r,Hke),r.sym||t[UMo](n)),t}get checked(){return this.$up.value==this.value}set checked(e){this.checked||e&&(this.$up.value=this.value)}toggle(e=!this.checked){return this.checked=e}};E(Vke,bee,"OPPropValue",80);var gee=Vke;globalThis.OPPropValue=gee;T();T();oe();ge(),$e();var Hwt=Symbol.for("#setup"),z2=Symbol.for("##up"),Ww=Symbol.for("##register"),PMo=Symbol.for("#getSlot"),zke=Symbol.for("#placeChild"),yk=Symbol.for("#afterVisit"),TMo=Symbol.for("#meta"),AM=Symbol.for("#promise"),Bwt=Symbol.for("#matcher"),Gke=Symbol.for("#if"),OMo=Symbol.for("#action"),RMo=Symbol.for("#params"),qke=Symbol.for("#calling"),Vwt=Symbol.for("#getDynamicContext"),zwt=Symbol.for("#isRichElement"),MMo=Symbol.for("#getRenderContext"),kee=Symbol(),qwt=Symbol(),Wwt=Symbol(),Zwt=Symbol(),_ee=Symbol(),Gwt=Symbol(),Ywt=Symbol(),Wke=Symbol(),Xwt=Symbol(),LMo=Symbol(),DMo=Symbol(),NMo=Symbol(),Kwt=Symbol(),Jwt=Symbol(),Qwt=Symbol(),Zke=Symbol(),eSt=Symbol(),tSt=Symbol(),rSt=Symbol(),oSt=Symbol(),nSt=Symbol(),IMo=Symbol(),xee=Symbol(),iSt=Symbol(),sSt=Symbol(),vee=Symbol(),lSt=Symbol(),aSt=Symbol(),FMo=Symbol(),Xke=class Xke extends Array{};E(Xke,FMo,"OPActions",0);var Yke=Xke;globalThis.OPActions=Yke;var wee=Symbol(),F3=class F3 extends Qe(wee,OPBase,OPSecured,OPRenderable){constructor(){super(...arguments),super[A]||this[A](),re(this,wee)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[wee])==null||o.call(this,...arguments)}static for(e,t,r=[],o=null){let n;return n=function(...i){return n.run({params:i})},n.$this=e,n.$field=t,n.$params=r,n.$context=o,Object.setPrototypeOf(n,this.prototype),n}get opownmenu(){return null}opownbuttontip(e,t){var c;var r,o=H(),n,i,s,a,u;if((t==null?void 0:t.label)==!1)return n=i=1,(r=o[kee])||(n=i=0,r=o[kee]=r=R("op",null,null,null)),n||(r[z2]=o._),n||((c=r[Ww])==null||c.call(r,o,kee)),s=r[PMo]("__",r),(a=r[qwt])||(r[qwt]=a=w("span",s,null,null)),u=this.aslabel,u===r[Zwt]&&n||(r[Wwt]=a[zke](r[Zwt]=u,384,r[Wwt])),n||o.sym||!r.setup||r.setup(i,o,kee),o.sym||r[yk](i),r}opownpickeroptionsmenu(e,t){var u;var r=this,o=H(),n,i,s,a;return o.this=this,i=s=1,(n=o[_ee])||(i=s=0,n=o[_ee]=n=R("op-pis",null,null,null)),i||(n[z2]=o._),i||((u=n[Ww])==null||u.call(n,o,_ee)),a=t.options,a===n[Gwt]||(n.options=n[Gwt]=a),a=this,a===n[Ywt]||(n.data=n[Ywt]=a),i||(n.focusonhover="focus-on-hover"),i||(n.kind="pi"),i||n.on$("opnav",{stack:!0,area:!0,list:!0},this),i||n.on$("resolve",{$_:[function(c,h){return o.this.call(o.this.$up,c.detail)}]},this),i||(n.popup__={picker:!0}),i||(n.popup="popup"),i||o.sym||!n.setup||n.setup(s,o,_ee),o.sym||n[yk](s),n}get opownsubmenu(){var e=this;if(this.$field.picker){let t=this.$up[this.$field.name+"-picker-options".toimba];return t?(t=t.apply(this.$up),function(){return OPVIEW(e,"picker-options-menu",{options:t})}):(console.warn(""+this.$up.constructor.name+"."+this.$field.name+" called without picker options! Add using def "+this.$field.name.tojs+"-picker-options"),null)}return null}get id(){return""+this.$up.id+"/"+this.$key}get meta(){return this[TMo]||={}}get signature(){return this.$field.args}get busy(){return this.busy||this[AM]}get hidden(){return!!(!this.runnable||p(this.$field.race,Function)&&this.$field.race.call(this.$this))}get disabled(){return!!this.busy||!this.runnable}get invalid(){return!this.valid}get valid(){return this.error?!1:(this.valid===void 0&&this.validate(),this.valid!==!1)}get aslabel(){return this.label}get alternatives(){let e=this.$key,t=[];for(let r=0,o=B(this.$this.$shape.$actions),n=o.length;r<n;r++){let i=o[r];i.name.startsWith(e)&&t.push(this.$this[i.name])}return t}get params(){var i;let e=this.$field.args,t=this.$params||[],r=this.$context||{},o=[],n=new Set;for(let s=0,a=B(e),u=a.length;s<u;s++){let c=a[s],h=t[s];if(h==null){let d=!1;(c==null?void 0:c.constructor)==Array&&(d=!0,c=c[0]),(r==null?void 0:r.constructor)==OPValues&&(h=r.filter(function(f){return Ye(f,c)}),h.length==0&&(h=void 0)),Ye(r,c)&&(h=r),c==OPPos,(i=r==null?void 0:r.models)!=null&&i.any&&p(r.models[0],c)&&(h=r.models[0])}h!=null&&(o[s]=h)}return o}validate(){let e=this.params;if(p(this.$field.validate,Function)){let t=this.$field.validate.call(this.$this,...e);t?this.error=t:this.error=null}else this.$context&&this.$field.args.size&&(!e.length||e.findIndex(function(t){return t==null})>=0)?this.valid=!1:this.valid=!0;return!0}get color(){return this.$field.color}get g(){return this.$field.g}get r(){return this.$field.r}get w(){return this.$field.w}get label(){return this.$field.label.replace(/Item\b/,this.$this.askindlabel||"Item")}get placement(){return this.params.find(function(t){return p(t,OPPos)})}update(e,t){let r=this.params;for(let o=0,n=B(this.desc.args),i=n.length;o<i;o++)n[o]==OPPos&&t.pos&&(r[o]=t.pos);return this}addtarget(e){return p(this.$this,OPValues)||(this.$this=OPValues.of(this.$this)),this.$this.push(e),this}withcontext(e){return F3.for(this.$this,this.$field,[],e)}fordnd(e,t,r){let o=F3.for(this.$this,this.$field,[],r);return o.$drag=e,o.$zone=t,o}refreshfordnd(){var i,s;var e=this;let t=this.$drag,r=this.$zone,o=this.$drag.payload,n=[...o][0];for(let a=0,u=B(this.signature),c=u.length;a<c;a++){let d=u[a],f=!1,m=null;if(d.constructor==Array&&d.length==1&&(d=d[0],f=!0),d==OPPos)for(let $=0,b=B(t.locsforzone(r)),g=b.length;$<g;$++){let x=b[$];if((s=(i=this.$this)==null?void 0:i.has)!=null&&s.call(i,x.data)||Cn(x.data,this.$this)){m=x;break}}else if(d!=null&&d[Bwt]){let $=o.filter(function(b){return d[Bwt](b,e)||p(b,d)});m=f&&$.length?$:$[0]}else{let $=o.filter(function(b){return p(b,d)||Ye(b,d)});m=f&&$.length?$:$[0]}this.$params[a]=m??null}return this}populate(...e){var t=this;this.$context||console.warn("cannot populate non-cloned action");let r=this.$field.args,o=this.$params||[],n=this.$context||{},i=new Set;for(let s=0,a=B(r),u=a.length;s<u;s++){let c=a[s],h=o[s];if(h==null||c==OPPos){let d=!1;(c==null?void 0:c.constructor)==Array&&(d=!0,c=c[0]),h=e.filter(function(f){return p(f,c)||Ye(f,c)}),d?h.length==0&&(h=void 0):h=h[0]||void 0,Ye(n,c)&&(h=n),c==OPPos&&n?h=e.find(function(f){var m,$;return p(f,OPPos)&&((($=(m=t.$this)==null?void 0:m.has)==null?void 0:$.call(m,f.data))||Cn(f.data,t.$this))}):c!=null&&c.fordrag&&(h=c.fordrag(this,e,s))}h!=null&&(this.$params[s]=h)}return this}for(...e){if(e.length==0||e[0]===void 0)return this;let t=e[0];if(p(t,DataTransfer))return F3.for(this.$this,this.$field,[],t);let r=null;for(let o=0,n=B(e),i=n.length;o<i;o++){let s=n[o];p(s,Array)&&(s.length==1?e[o]=s[0]:s.constructor==Array&&(e[o]=OPValues.from(s)))}return F3.for(this.$this,this.$field,e,r)}get desc(){return this.$field}get target(){return this.$this}get $target(){return this.$this}get $up(){return this.$this}get $key(){return this.$field.name}call(e,...t){return this.run({params:t})}apply(e,t){return this.run({params:t})}get runnable(){return this.x?this.$drag&&this.$params.indexOf(null)>=0?!1:p(this.$field[Gke],Function)?!!this.$field[Gke].call(this.$this,this,...this.$params):!0:void 0}get url(){return p(this.$field,OPRouteField)?""+OP.origin+"/op/get/"+this.$this.id+"/"+this.$field.name:""+OP.origin+"/op/rpc/"+this.$this.id+"/"+this.$field.name}run(e={}){var c,h,d,f,m;var t=this;let r=this.$field;if(this.$this.resolved||r.synchronous){if(!this.x)throw new OPPermissionDeniedError(""+((c=OP.agent)==null?void 0:c.id)+" lacks permissions to call "+String(this.$this)+"."+r.name);if(!this.runnable)return}if(r.atomic&&this[AM])return this[AM];let o=r.cooldown||0,n=r.callback;if(this.busy&&o)return!1;let i=this.$this[this.$field.name],s=e.params||((d=(h=this.params)==null?void 0:h.slice)==null?void 0:d.call(h,0))||[];if(r.synchronous)return n.apply(this.$this,s);if(r.void&&!((f=OP.socket)!=null&&f.reliable)){let $={client:(m=OP.client)==null?void 0:m.id,params:e.params},b=OP.msgpack.pack($),g=globalThis.navigator.sendBeacon(this.url,b);return}let a=new Promise(async function($,b){var x,k,_,S;let g=function(v){return typeof v=="string"&&(v=new OPError(v)),b(v)};if(OP.ready.met||await OP.ready,p(t.$this.$root,OPObject)&&!p(t.$this.$root,OPServer)&&await t.$this.$root,!t.x){let v=new OPPermissionDeniedError(""+((x=OP.agent)==null?void 0:x.id)+" lacks permissions to call "+String(t.$this)+"."+r.name);return g(v)}if(!t.runnable){let v=new OPPermissionDeniedError(""+((k=OP.agent)==null?void 0:k.id)+" cannot call "+String(t.$this)+"."+r.name);return g(v)}if(r.confirm&&!e.confirmed){if(e.target){if(!await OP.confirm(t.$field.confirm,e.target||t.$target))return $(null)}else if(!window.confirm("Are you sure"))return $(null)}for(let v=0,C=B(r.args),j=C.length;v<j;v++){let P=C[v],U=s[v],O=null,L=!1,I=p(U,OPValues)?U:[].concat(U);if(P==globalThis.Event&&e.event&&(I=[e.event]),(P==null?void 0:P.constructor)==Array&&(L=!0,P=P[0]),(U==null||I.length==0)&&p(P==null?void 0:P.pick,Function)){let F=await P.pick({action:t,multiple:L});I=OPValues.from(F)}if(p(P==null?void 0:P.from,Function))for(let F=0,N=B(I),V=N.length;F<V;F++){let W=N[F];I[F]=await P.from(W,t)}s[v]=L?I:I[0]}if(s.length>0&&Ye(s[0],void 0)&&((_=r.args)!=null&&_.length))return g("invalid arguments");if(t.busy=!0,r.silent||Cr(),p(r,OPRouteField)){let v=t.url;if(p(s[0],OPPlain)){let P={};for(let U=s[0],O=0,L=Object.keys(U),I=L.length,F,N;O<I;O++)F=L[O],N=U[F],P[F]=String(N);v+="?"+new URLSearchParams(P).toString()}let C=await globalThis.fetch(v),j=OP.unpack(await C.arrayBuffer());return $(j)}else if(t.$field.rpc){let v;try{return r.streamable?(v=OPActionCall.new({action:t,params:s}),v.send(t.$this)):(v=new BR({target:t.$this.id,action:r.name,params:s}),v.now=Date.now(),OP.$send(v,t.$this)),$(v)}catch(C){return g(new OPError("in "+t.label+" "+C))}}else{r.web;try{let v=await n.apply(t.$this,s);return $(v)}catch(v){let C={action:{name:r.name.tojs,model:(S=r.model)==null?void 0:S.id,params:s}};return g(v)}}});a[OMo]=this,a[RMo]=s,this[qke]||=new Set,r.atomic&&(this[AM]=a),this[qke].add(a);let u=function(){return r.silent||Cr(),t[qke].delete(a),t[AM]=null,o?setTimeout(function(){if(t.busy=!1,!r.silent)return Cr()},o):t.busy=!1};return a.then(u,u),a}get icon(){return this.$field.icon}get asicon(){return this.$field.asicon}get danger(){return!!this.$field.danger}get placement(){return this.$field.placement}get hue(){return this.$field.hue||(this.$field.danger?"red":"")}get aspilabel(){return this.aslabel}opownlabel(e,t){var X,Z;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;let z=this.label,q=this.params,Y=z.split(/(\$\d+|\bthis|\bself)\b/g),K=this.signature;if(Y.length>1){n=i=1,(r=o[Wke])||(n=i=0,r=o[Wke]=r=w("div",null,"jj-ai compact",null)),n||(r[z2]=o._),n||((X=r[Ww])==null||X.call(r,o,Wke)),(s=r[Xwt])||(r[Xwt]=s=wt(1408,r)),a=0,u=s.$;for(let Q=0,ee=B(Y),te=ee.length;Q<te;Q++){let ne=ee[Q];if(Q%2&&ne){let ie=Ye(ne,"this")||Ye(ne,"self")?this.$this:q[parseInt(ne.slice(1))-1];d=f=1,(h=(c=u[Vwt](LMo,a)).run(OPVIEW(ie,"arg",t)))||(d=f=0,c.cache(h=M(c.value,s,"arg",null))),d||(h[z2]=s),h[zwt]&&((!d||f&2)&&h.flags.reconcile(DMo,"arg"),d||!h.setup||h.setup(f,c),h[yk](f)),s.push(h,a++,m)}else ne&&ne!=" "&&(b=x=1,($=(g=u[MMo](NMo)).get(a))||(b=x=0,g.set(a,$=w("span",s,null,null))),b||($[z2]=s),pt.context=$[Jwt]||($[Jwt]={_:$}),k=ne.trim(),pt.context=null,k===$[Qwt]&&b||($[Kwt]=$[zke]($[Qwt]=k,384,$[Kwt])),s.push($,a++,g))}return s[yk](a),r}else{S=v=1,(_=o[Zke])||(S=v=0,_=o[Zke]=_=w("div",null,"jj-al compact",null)),S||(_[z2]=o._),S||((Z=_[Ww])==null||Z.call(_,o,Zke)),(C=_[eSt])||(_[eSt]=C=w("span",_,null,null)),j=z,j===_[rSt]&&S||(_[tSt]=C[zke](_[rSt]=j,384,_[tSt])),(P=_[oSt])||(_[oSt]=P=w("div",_,"args",null)),(U=_[nSt])||(_[nSt]=U=wt(384,P)),O=0,L=U.$;for(let Q=0,ee=B(K),te=ee.length;Q<te;Q++){let ne=ee[Q];N=V=1,(F=(I=L[Vwt](IMo,O)).run(OPVIEW(q[Q]||ne,"arg",t)))||(N=V=0,I.cache(F=M(I.value,U,null,null))),N||(F[z2]=U),F[zwt]&&(N||!F.setup||F.setup(V,I),F[yk](V)),U.push(F,O++,W)}return U[yk](O),_}}opownbutton(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[xee])||(n=i=0,r=o[xee]=r=R("op-button",null,null,null)),n||(r[z2]=o._),n||((a=r[Ww])==null||a.call(r,o,xee)),s=this,s===r[iSt]||(r.data=r[iSt]=s),t===r[sSt]||(r.context=r[sSt]=t),n||o.sym||!r.setup||r.setup(i,o,xee),o.sym||r[yk](i),r}opownlink(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[vee])||(n=i=0,r=o[vee]=r=R("op-button",null,null,null)),n||(r[z2]=o._),n||((a=r[Ww])==null||a.call(r,o,vee)),s=this,s===r[lSt]||(r.data=r[lSt]=s),t===r[aSt]||(r.context=r[aSt]=t),n||o.sym||!r.setup||r.setup(i,o,vee),o.sym||r[yk](i),r}};E(F3,wee,"OPAction",80);var See=F3;globalThis.OPAction=See;var uSt=Symbol(),Kke=class Kke extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,uSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null,this.web=e&&(o=e.web)!==void 0?o:null,this.race=e&&(o=e.race)!==void 0?o:null,this.timeout=e&&(o=e.timeout)!==void 0?o:null,this.virtual=e&&(o=e.virtual)!==void 0?o:!0,this.danger=e&&(o=e.danger)!==void 0?o:null,this.cooldown=e&&(o=e.cooldown)!==void 0?o:null,this.atomic=e&&(o=e.atomic)!==void 0?o:!1,this.silent=e&&(o=e.silent)!==void 0?o:!1,this.confirm=e&&(o=e.confirm)!==void 0?o:!1,this.dnd=e&&(o=e.dnd)!==void 0?o:!1,this.rpc=e&&(o=e.rpc)!==void 0?o:!1,this.streamable=e&&(o=e.streamable)!==void 0?o:!1,this.synchronous=e&&(o=e.synchronous)!==void 0?o:!1,this.void=e&&(o=e.void)!==void 0?o:!1}if(e){var t=this;return this[Gke]=e,p(e,Function)||setTimeout(function(){return console.log((""+t.name+" @action.if(...) expects a function").red)},0*1e3),this}bind(e,t=this.name,r=null){return this.$get(e)}$function(e){return!0}$get(e){return e.$rich[this.name]||=See.for(e,this)}get action(){return!0}get file(){return this.image||this.args.some(function(e){return e==File||e==OPFile||e==OPFiles})}get image(){return this.args.some(function(e){return e==OPImage})}get placement(){return this.args.some(function(e){return e==OPPos||(e==null?void 0:e.placement)})}get asicon(){return this.icon}$set(e,t){return!0}hook(e){return this.$hook=e}$accepts(e){for(let t=0,r=B(this.args),o=r.length;t<o;t++){let n=r[t];if(p(n,OPType)&&p(e,n))return!0}return!1}run(e={}){throw"Cannot run OPActionField directly - run OPAction instead"}call(...e){throw"Cannot call OPActionField directly - run OPAction instead"}[Hwt](){let e;if(super[Hwt](...arguments),this.rpc&&this.callback,this.rpc){try{e=String(this.callback).replace(/^(?:\s*function)?.*\(.*\)(?:\s*=>)?\s*/,"")}catch{}(e==null?void 0:e.length)>10&&console.warn("@action.rpc "+this.name+" exposes backend logic")}return this}};E(Kke,uSt,"OPActionField",24);var H3=Kke;globalThis.OPActionField=H3;var HMo=Symbol(),Jke=class Jke{action(...e){return new H3(...e)}};E(Jke,HMo,"OPIterable",1,OPIterable);var cSt=Jke,BMo=Symbol(),Qke=class Qke{action(...e){return new H3(...e)}};E(Qke,BMo,"OPTuple",1,OPTuple);var hSt=Qke,VMo=Symbol(),e8e=class e8e{action(...e){return new H3(...e)}};E(e8e,VMo,"OPField",1,OPField);var pSt=e8e,zMo=Symbol(),t8e=class t8e{action(...e){return new H3(...e)}};E(t8e,zMo,"OPProp",1,OPProp);var dSt=t8e;T();oe();We();var r8e=Symbol("toggle"),fSt=Symbol(),o8e=Symbol("toggle"),mSt=Symbol(),n8e,q2,$St=Symbol.for("#setup"),qMo=Symbol.for("#matcher"),WMo=Symbol(),Eee=class Eee extends OPProp{set toggle(e){this.toggle.$set(e,this,r8e,"toggle")}get toggle(){return this.toggle.$get(this,r8e,"toggle")}get toggle(){return this[fSt]||y((n8e=this.action(),n8e.callback=function(){return this.value=!this.value},n8e),this,r8e,"toggle",fSt,Eee.prototype)}get asicon(){return""+this.$field.asicon+"_"+(this.value?"on":"off")}get ascolor(){return this.$field.hue??OPColor.of(this.value?"#1dca8e":"#f85871")}get asstateflag(){return this.value?"checked":"unchecked"}};E(Eee,WMo,"OPBoolProp",0);var Cee=Eee;globalThis.OPBoolProp=Cee;var ySt=Symbol(),UM=class UM extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,ySt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"boolean",this.grants=e&&(o=e.grants)!==void 0?o:null,this.su=e&&(o=e.su)!==void 0?o:null,this.flag=e&&(o=e.flag)!==void 0?o:null}[$St](){var e=this;if(this.flag){let t=this.watch;this.watch=function(r,o,n){return this.flags.toggle(e.flag,!!r)}}if(super[$St](...arguments),this.su&&(this.$f|=134217728),!p(this.$fallback,Function))return this.$literal_default??=this.$fallback==!0}[qMo](e){return!!e[this.name]}toggle(e){if(e)return e[this.name]=!e[this.name]}$altered(e,t,r,o,n,i){if(this.su&&(e||t)){let s=r.$root;if(t&&!e){let a=OP.rolemask(this.su);for(let u=0,c=B(a),h=c.length;u<h;u++){let d=c[u];s.parentleave(d,this)}s.$demote(this.su,"$system",this)}else if(e&&!t){let a=OP.rolemask(this.su);for(let u=0,c=B(a),h=c.length;u<h;u++){let d=c[u];s.parentjoin(d,this)}s.$promote(this.su,"$system",this)}}}get proptype(){var r;let e=this,t=Symbol();return r=class extends Cee{set toggle(n){this.toggle.$set(n,this,o8e,"toggle")}get toggle(){return this.toggle.$get(this,o8e,"toggle")}get toggle(){return this[mSt]||y((q2=this.action(),p(q2.g,Function)?q2.g(e.g):q2.g=e.g,p(q2.label,Function)?q2.label("Toggle "+e.name):q2.label="Toggle "+e.name,q2.callback=function(){return this.value=!this.value},q2),this,o8e,"toggle",mSt,r.prototype)}},E(r,t,"Prop",0),r}};UM.prototype[Le]=De,se([ke.bind([])],UM.prototype,"proptype",null),E(UM,ySt,"OPBooleanField",280);var i8e=UM;globalThis.OPBooleanField=i8e;T();oe();var bSt=Symbol.for("#setup"),ZMo=Symbol(),l8e=class l8e extends OPProp{get asstring(){let e=this.value;return this.$field.bytes?e==null?void 0:e.assizestring:this.$field.format?OP.fmt(this.$field.format,e):e}toString(){return this.asstring}};E(l8e,ZMo,"OPNumberProp",0);var jee=l8e;globalThis.OPNumberProp=jee;var gSt=Symbol(),a8e=class a8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,gSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"integer",this.min=e&&(o=e.min)!==void 0?o:-1/0,this.max=e&&(o=e.max)!==void 0?o:1/0,this.round=e&&(o=e.round)!==void 0?o:null,this.su=e&&(o=e.su)!==void 0?o:null,this.bytes=e&&(o=e.bytes)!==void 0?o:!1,this.format=e&&(o=e.format)!==void 0?o:null,this.unit=e&&(o=e.unit)!==void 0?o:null,this.step=e&&(o=e.step)!==void 0?o:null}[bSt](){if(super[bSt](...arguments),this.su&&(this.$f|=134217728),this.lazy)return this.$raise`${this} numeric field cannot be .lazy`}double(e=!0){if(e)return this.pgtype="float8"}clamp(e,t){return this.min=e,this.max=t}get proptype(){return jee}get valuetype(){return Number}$sanitize(e,t,r=0){if(typeof e=="string"&&(e=Number(e)),typeof e=="bigint"&&(e=parseFloat(e)),typeof e=="number"&&this.round&&(e=e.round(this.round)),Number.isNaN(e)){this.$raise`Trying to set ${this.name} @number to non-numeric value`;return}return typeof this.min=="number"&&e<this.min&&(e=this.min),typeof this.max=="number"&&e>this.max&&(e=this.max),e}$altered(e,t,r,o,n,i){if(this.su&&(e||t)){let s=r.$root;if(t&&!e){let a=OP.rolemask(+this.su);for(let u=0,c=B(a),h=c.length;u<h;u++){let d=c[u];s.parentleave(d,this)}s.$demote(+this.su,"$system",this)}else if(e&&!t){let a=OP.rolemask(+this.su);for(let u=0,c=B(a),h=c.length;u<h;u++){let d=c[u];s.parentjoin(d,this)}s.$promote(+this.su,"$system",this)}}}};E(a8e,gSt,"OPNumberField",24);var Aee=a8e;globalThis.OPNumberField=Aee;var GMo=Symbol(),u8e=class u8e extends Aee{$sanitize(e,t,r=0){return r&4096&&typeof e=="number"&&(e=Math.round(e*1e4).clamp(0,1e4)),e}$deserialize(e){return typeof e=="number"?e/1e4:null}};E(u8e,GMo,"OPPercentField",0);var s8e=u8e;globalThis.OPPercentField=s8e;T();oe();var kSt=Symbol.for("#setup"),YMo=Symbol(),p8e=class p8e extends OPProp{};E(p8e,YMo,"OPTextProp",0);var PM=p8e;globalThis.OPTextProp=PM;var _St=Symbol(),d8e=class d8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,_St)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"text",this.wrapper=e&&(o=e.wrapper)!==void 0?o:null,this.md=e&&(o=e.md)!==void 0?o:null,this.pattern=e&&(o=e.pattern)!==void 0?o:null,this.encrypted=e&&(o=e.encrypted)!==void 0?o:!1,this.multiline=e&&(o=e.multiline)!==void 0?o:!0,this.markdown=e&&(o=e.markdown)!==void 0?o:!1,this.ci=e&&(o=e.ci)!==void 0?o:!1,this.rows=e&&(o=e.rows)!==void 0?o:2}[kSt](){return super[kSt](...arguments),this.pgtype=="text"&&this.ci&&(this.pgtype="citext"),this}get valuetype(){return String}get proptype(){return PM}$delta(e,t,r=0){if(e!=t)return r&268435456?cwt(e,t):r&16&&this.encrypted?e&&OP.crypto.decrypt(e)==t?void 0:OP.crypto.encrypt(t):super.$delta(...arguments)}$sanitize(e,t,r){return e!=null&&typeof e!="string"&&(e=String(e)),e}$validate(e,t=null,r=0){let o;return(o=this.pattern)&&e&&!o.test(e)?new OPValidationError("",{key:""+t.id+"/"+this.name}):super.$validate(...arguments)}};E(d8e,_St,"OPTextField",24);var Uee=d8e;globalThis.OPTextField=Uee;var XMo=Symbol(),f8e=class f8e extends Uee{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.multiline=e&&(o=e.multiline)!==void 0?o:!1,this.qs=e&&(o=e.qs)!==void 0?o:null}};E(f8e,XMo,"OPStringField",0);var Zw=f8e;globalThis.OPStringField=Zw;var KMo=Symbol(),m8e=class m8e extends Zw{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"opemail",this.pattern=e&&(o=e.pattern)!==void 0?o:/^[^@ ]+@[^@ ]+\.[^@ ]+$/}get inputtype(){return"email"}};E(m8e,KMo,"OPEmailStringField",0);var c8e=m8e;globalThis.OPEmailStringField=c8e;var JMo=Symbol(),$8e=class $8e extends Zw{get proptype(){return Pee}get asicon(){return this.icon||""+this.name+"_url"}};E($8e,JMo,"OPUrlField",0);var h8e=$8e;globalThis.OPUrlField=h8e;var QMo=Symbol(),y8e=class y8e extends PM{};E(y8e,QMo,"OPUrlProp",0);var Pee=y8e;globalThis.OPUrlProp=Pee;var eLo=Symbol(),b8e=class b8e{string(){return new Zw}};E(b8e,eLo,"OPTuple",1,OPTuple);var xSt=b8e;T();oe();var tLo=Symbol(),k8e=class k8e extends OPTextProp{};E(k8e,tLo,"OPEmailProp",0);var Tee=k8e;globalThis.OPEmailProp=Tee;var vSt=Symbol(),_8e=class _8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,vSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"opemail",this.pattern=e&&(o=e.pattern)!==void 0?o:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/}get proptype(){return Tee}get inputtype(){return"email"}$sanitize(e){return p(e,OPEmail)&&(e=e.id),e}$get(e,t,r=null,o=null,n=null){let i=super.$get(...arguments);return i?OPEmail.get(i):null}};E(_8e,vSt,"OPEmailField",24);var g8e=_8e;globalThis.OPEmailField=g8e;T();oe();var rLo=Symbol(),v8e=class v8e extends OPTextProp{get hex(){var e;return(e=this.value)==null?void 0:e.hex}set hex(e){this.value=e}};E(v8e,rLo,"OPColorProp",0);var Oee=v8e;globalThis.OPColorProp=Oee;var oLo=Symbol(),w8e=class w8e extends OPStringField{get valuetype(){return OPColor}get proptype(){return Oee}$get(e){let t=super.$get(e);return t?this.valuetype.of(t):null}};E(w8e,oLo,"OPColorField",8);var x8e=w8e;globalThis.OPColorField=x8e;T();oe();We();var wSt=Symbol(),S8e=Symbol("toggle"),SSt=Symbol(),C8e=Symbol(),CSt=Symbol(),ESt=Symbol(),E8e=Symbol(),jSt=Symbol(),ASt=Symbol(),j8e,A8e=Symbol(),USt=Symbol(),PSt=Symbol(),nLo=Symbol.for("#matcher"),U8e=Symbol.for("##up"),P8e=Symbol.for("##register"),T8e=Symbol.for("#placeChild"),L8e=+new Date(2300,0,0)/1e3,iLo=+new Date(2e3,0,0),sLo=47*31536e3*1e3;function D8e(l){var e=gt(globalThis);return e[wSt]??={},p(l,B3)?l:(p(l,Date)?l=Number(l):typeof l=="number"&&(l>1e4&&l<L8e?l=l*1e3:l>1e4&&l<iLo&&(l=l+sLo)),e[wSt][l]||=new B3(l))}var lLo=Symbol(),N8e=class N8e extends OPProp{opownvaluelabel(){var i,s;var e,t=H(),r,o,n;return r=o=1,(e=t[C8e])||(r=o=0,e=t[C8e]=e=w("div",null,"ovalue",null)),r||(e[U8e]=t._),r||((i=e[P8e])==null||i.call(e,t,C8e)),n=(s=this.value)==null?void 0:s.ago,n===e[ESt]&&r||(e[CSt]=e[T8e](e[ESt]=n,384,e[CSt])),e}opownvalue(){var i,s;var e,t=H(),r,o,n;return r=o=1,(e=t[E8e])||(r=o=0,e=t[E8e]=e=w("div",null,"ovalue",null)),r||(e[U8e]=t._),r||((i=e[P8e])==null||i.call(e,t,E8e)),n=(s=this.value)==null?void 0:s.ago,n===e[ASt]&&r||(e[jSt]=e[T8e](e[ASt]=n,384,e[jSt])),e}};E(N8e,lLo,"OPTimestampProp",0);var RM=N8e;globalThis.OPTimestampProp=RM;var aLo=Symbol(),Mee=class Mee extends RM{get rich(){return B3.for(+this.value)}get ago(){var e;return((e=this.rich)==null?void 0:e.ago)||""}get asicon(){return""+super.asicon.replace(/_(on|off)$/,"")+"_"+(this.value?"on":"off")}set toggle(e){this.toggle.$set(e,this,S8e,"toggle")}get toggle(){return this.toggle.$get(this,S8e,"toggle")}get toggle(){return this[SSt]||y((j8e=this.action(),j8e.callback=function(){return this.value=!this.value},j8e),this,S8e,"toggle",SSt,Mee.prototype)}};E(Mee,aLo,"OPEventProp",8);var Ree=Mee;globalThis.OPEventProp=Ree;var TSt=Symbol(),I8e=class I8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,TSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"timestamptz"}};E(I8e,TSt,"OPDateTimeField",16);var O8e=I8e;globalThis.OPDateTimeField=O8e;var OSt=Symbol(),TM=class TM extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,OSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"timestamptz",this.precision=e&&(o=e.precision)!==void 0?o:1*1e3}get proptype(){var t;let e=Symbol();return t=class extends RM{},E(t,e,"Prop",0),t}$sanitize(e,t,r){return e===!0?e=new Date:e==!1&&(e=0),p(e,Date)&&(e=Math.floor(+e/this.precision)),typeof e=="number"&&e>L8e&&this.precision>1&&(LL("@ts takes seconds since epoch - ms since epoch likely supplied"),e=Math.floor(e/this.precision)),e}$get(e){let t=super.$get(...arguments);return typeof t=="number"&&t!=0?D8e(t*this.precision):null}};TM.prototype[Le]=De,se([ke.bind([])],TM.prototype,"proptype",null),E(TM,OSt,"OPTimestampField",280);var R8e=TM;globalThis.OPTimestampField=R8e;var RSt=Symbol(),OM=class OM extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,RSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"integer",this.throttle=e&&(o=e.throttle)!==void 0?o:0,this.track=e&&(o=e.track)!==void 0?o:!1}get proptype(){var t;let e=Symbol();return t=class extends Ree{},E(t,e,"Prop",0),t}$get(e){let t=super.$get(...arguments);return t==null||t==0?null:D8e(t)}$set(e,t,r,o=this.name,n=16777217){if(e===!0&&(e=OP.now),e==!1||e==null)e=0;else{let i=this.$get(t);if(p(e,Date)&&(e=e.optime),typeof e=="number"&&e>L8e&&(e=Math.round(e/1e3)),this.throttle&&r&&Math.abs(e-i/1e3)<this.throttle/1e3||+e==+i)return;this.track&&OP.app.register_event(t,this.name)}return super.$set(e,t,r,o,n)}[nLo](e){return!!e[this.name]}$sqlcond(e,t){if(t=="not"&&e==null)return OP.pg`${OP.pg(this.$rawkey)} > 0`}};OM.prototype[Le]=De,se([ke.bind([])],OM.prototype,"proptype",null),E(OM,RSt,"OPEventField",280);var M8e=OM;globalThis.OPEventField=M8e;var uLo=Symbol(),F8e=class F8e extends Date{static for(e){return D8e(e)}get ago(){return this.age.aselapsedstr}opownlabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[A8e])||(r=o=0,e=t[A8e]=e=w("div",null,"ovalue",null)),r||(e[U8e]=t._),r||((i=e[P8e])==null||i.call(e,t,A8e)),n=this.ago,n===e[PSt]&&r||(e[USt]=e[T8e](e[PSt]=n,384,e[USt])),e}};E(F8e,uLo,"OPTimestamp",0);var B3=F8e;globalThis.OPTimestamp=B3;globalThis.OPNever=new B3(0);T();oe();var MSt=Symbol(),B8e=class B8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,MSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"timestamptz"}};E(B8e,MSt,"OPTimeField",16);var H8e=B8e;globalThis.OPTimeField=H8e;T();oe();var cLo=Symbol.for("#setup"),hLo=Symbol(),z8e=class z8e extends OPProp{set value(e){console.warn("cannot set value of "+this.$field.name)}get value(){return this.$up[this.$field.name]}};E(z8e,hLo,"OPKeyProp",0);var Lee=z8e;globalThis.OPKeyProp=Lee;var LSt=Symbol(),q8e=class q8e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,LSt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"text",this.readonly=e&&(o=e.readonly)!==void 0?o:!0,this.size=e&&(o=e.size)!==void 0?o:8,this.bit=e&&(o=e.bit)!==void 0?o:!1,this.virtual=e&&(o=e.virtual)!==void 0?o:!1,this.system=e&&(o=e.system)!==void 0?o:!1,this.base58=e&&(o=e.base58)!==void 0?o:!1,this.serial=e&&(o=e.serial)!==void 0?o:!1,this.silent=e&&(o=e.silent)!==void 0?o:!1,this.pub=e&&(o=e.pub)!==void 0?o:null}get proptype(){return Lee}get slots(){return this.args}get params(){return this.slots.map(function(e){return e.name||e})}get signature(){var e;e=[];for(let t=0,r=B(this.slots),o=r.length;t<o;t++){let n=r[t];e.push(n.valuetype)}return e}get composite(){return this.slots.length>0}get id(){return!0}forType(e){if(this.model==e)return this;let t=e.prototype[this.slot];return e.prototype[this.slot]=null,e.prototype.id}[cLo](){var e=this;if(p(this.model.prototype,OPEmbed)&&this.name!="id")return Object.defineProperty(this.model.prototype,this.name,{enumerable:!1,get:function(){return this.$key},set:function(t){throw"Cannot change "+e.model.name+"."+e.name}}),this;if(this.name!="id")throw"OPKeyField only allowed for 'id' not '"+this.name+"'";return this.serial&&(this.pgtype="serial"),this.$r??=OPANYONE,this.$w??=OPANYONE,this.$x??=OPANYONE,this.$c??=this.$w,this.$d??=this.$w,this.virtual&&(this.model.virtual=!0),this}encode(e){return typeof e=="number"?""+this.model.id+"0"+e.toString(32):""+this.model.id+"2"+FR(e)}next(){return Promise.resolve(this.model.id+"0"+OPKey.random(this.size))}generate(e,t){let r=e?e.constructor.id:this.model.id,o=0,n;if(this.slots.length){let s=[];for(let a=0,u=B(this.slots),c=u.length;a<c;a++){let h=u[a];if(typeof h=="string")s.push(h);else if(p(h,OPField)){let d=t?t[a]??t[h.name]:null;d!=null?s.push(String(d)):s.push("")}}return r+=o,OPKey.encode(r,...s)}else n=(t==null?void 0:t.oid)||OPKey.random(this.size);return r+o+n}parse(e,t={}){let r=OPKey.parse(e);for(let o=0,n=B(this.slots),i=n.length;o<i;o++){let s=n[o],a=r[o+1];if(p(s,OPField)){let u=a.charCodeAt(0);(s.valuetype==Number||58>u&&u>47)&&(a=Number(a)),s.load(a,t)}}return t}$set(e,t,r){}$get(e){if(e.hasOwnProperty("id"))return e.id;let t=e[this.key];return t===void 0&&(t=this.generate(e),OP.setrich(t,e)),Object.defineProperty(e,"id",{value:t,enumerable:!0}),t}};E(q8e,LSt,"OPKeyField",16);var V8e=q8e;globalThis.OPKeyField=V8e;T();oe();We(),Hl(),ge();var DSt=Symbol.for("#setup"),NSt=Symbol.for("##up"),ISt=Symbol.for("##register"),FSt=Symbol.for("#afterVisit"),W8e=Symbol("cycle"),HSt=Symbol(),Z8e=Symbol("pick"),BSt=Symbol(),pLo=le("&.grants",globalThis,l=>l.grants),Dee=Symbol(),VSt=Symbol(),zSt=Symbol(),qSt=Symbol(),WSt=Symbol(),ZSt=Symbol(),G8e,Y8e,GSt=Symbol(),YSt=Symbol(),XSt=Symbol(),KSt=Symbol(),JSt=Symbol(),QSt=Symbol(),MM=class MM extends OPField{constructor(){super(...arguments),re(this,QSt)}$sub(e){return this.map[e]}get proptype(){return Nee}get grants(){return this.options.some(pLo)}get $type(){var e=this;let t=this,r=this.args[0],o=Symbol(),a=class a extends r{};E(a,o,"Option",0);let n=a,i=n.prototype;i.field=t,i[Symbol.iterator]=function(){return e.options[Symbol.iterator]()};let s={};for(let u=this.args[1],c=0,h=Object.keys(u),d=h.length,f,m;c<d;c++){f=h[c],m=u[f];let $=(""+f+"?").tojsidentifier;m.name??=f.humanize();let b=this.map[f]=new n(f,m);b.id=""+this.model.id+"/"+this.name+"/"+f,s[$]={get:function(){return this.value==f}},i[f.toUpperCase()]=b,this[f.toUpperCase()]=b,m.default&&(this.$default=b),this.options.push(b)}return n.options=this.options,Object.defineProperties(i,s),n}[DSt](){return this.$fallback||=function(){return null},super[DSt](...arguments),this.map={},this.options=[],this.$type,this}$get(e,t,r=null,o=null,n=null){return this.map[super.$get(...arguments)]||this.$default||this.$fallback.call(e,this)}all(e,...t){return e&&console.warn("Filters not supported for enums yet"),this.options}$sanitize(e,t,r=0){if(e==null||(p(e,OPEnumValue)&&(e=String(e)),typeof e=="string"&&this.map[e]))return e;throw new OPInvalidValue(""+(t==null?void 0:t.id)+"/"+this.name,{cause:e})}toIterable(){return this.options}[Symbol.iterator](){return this.options[Symbol.iterator]()}};MM.prototype[Le]=De,se([ke.bind([])],MM.prototype,"$type",null),E(MM,QSt,"OPEnumField",280);var X8e=MM;globalThis.OPEnumField=X8e;var e7t=Symbol(),bk=class bk extends OPProp{constructor(){super(...arguments),re(this,e7t)}toString(){return String(this.value)}toIterable(){return this.options}get options(){return this.$field.options}get $(){let e={};for(let t of B(this.$field.options))e[t.value]=new LM(this,t);return e}get $options(){var e=this;let t=this.$field.options;return t}get asicon(){var e;return((e=this.value)==null?void 0:e.asicon)||super.asicon}get ascolor(){var e;return((e=this.value)==null?void 0:e.ascolor)||super.ascolor}get asstateflag(){return"enum-"+this.value}opowncontextmenu(e,t={}){return this.opownmenu(e,t)}opownmenu(){var s;var e,t=H(),r,o,n,i;return this.w?(r=o=1,(e=t[Dee])||(r=o=0,e=t[Dee]=e=R("op-pis",null,null,null)),r||(e[NSt]=t._),r||((s=e[ISt])==null||s.call(e,t,Dee)),n=this,n===e[VSt]||(e.data=e[VSt]=n),n=this.$options,n===e[zSt]||(e.options=e[zSt]=n),n=this,n===e[qSt]||(e.context=e[qSt]=n),n=e[WSt]||(e[WSt]=e.bind$("value",[null,"value"])),n[0]=this,r||(e.clickable="clickable"),r||(e.tapevent="tapped"),r||(e.focusonhover="focus-on-hover"),r||(e.multiple=!1),r||(e.kind="mi"),r||e.on$("opnav",{stack:!0,area:!0,list:!0},this),i=e[ZSt]||(e[ZSt]={emit:["resolve",null]}),i.emit[1]=this.value,r||e.on$("pick",i,this),r||t.sym||!e.setup||e.setup(o,t,Dee),t.sym||e[FSt](o),e):null}set cycle(e){this.cycle.$set(e,this,W8e,"cycle")}get cycle(){return this.cycle.$get(this,W8e,"cycle")}get cycle(){return this[HSt]||y((G8e=this.action(),G8e.callback=function(){let e=this.$field.options.indexOf(this.value);return this.value=this.$field.options.at(e+1)},G8e),this,W8e,"cycle",HSt,bk.prototype)}set pick(e){this.pick.$set(e,this,Z8e,"pick")}get pick(){return this.pick.$get(this,Z8e,"pick")}get pick(){return this[BSt]||y((Y8e=this.action(),Y8e.callback=async function(e){var c;var t,r,o={},n,i,s;if(!this.w)return null;let a=this,u=this.options||a.$options;return t=await(n=i=0,r=r=R("op-pis",null,null,null),n||(r[NSt]=o._),n||((c=r[ISt])==null||c.call(r,o,GSt)),n||(r.popup__={picker:!0,autofocus:!0}),n||(r.popup="popup"),s=e.target,s===r[YSt]||(r.rel=r[YSt]=s),u===r[XSt]||(r.options=r[XSt]=u),s=e.target,s===r[KSt]||(r.anchored=r[KSt]=s),n||(r.tapevent="tapped"),a===r[JSt]||(r.context=r[JSt]=a),n||(r.kind="mi"),n||r.on$("act",{emit:["close"]},this),n||o.sym||!r.setup||r.setup(i,o,GSt),o.sym||r[FSt](i),r)},Y8e),this,Z8e,"pick",BSt,bk.prototype)}};bk.prototype[Le]=De,se([ke.bind([])],bk.prototype,"$",null),se([ke.bind([])],bk.prototype,"$options",null),E(bk,e7t,"OPEnumProp",280);var Nee=bk;globalThis.OPEnumProp=Nee;var dLo=Symbol(),K8e=class K8e extends OPPropValue{get aslabel(){return this.value.aslabel}};E(K8e,dLo,"OPEnumPropValue",0);var LM=K8e;globalThis.OPEnumPropValue=LM;T();oe();function fLo(l,e){return l[l.length+e]}We();var t7t=Symbol.for("#setup"),mLo=Symbol.for("#meta"),$Lo=Symbol.for("#cascadeTo"),yLo=Symbol.for("#cloud"),bLo=Symbol.for("#shape"),gLo=Symbol.for("#composite"),kLo=Symbol.for("#refiners"),r7t=Symbol(),Q8e=class Q8e{constructor(e,t){this.$field=e,this.$types=[],this.$mapped={},this.$patterns=new Map,this.$subclasses=new Map;for(let r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++){i=o[r],s=t[i];let a,u=s.forfield(e,{iterable:!0});i[0]=="^"?a=new RegExp(i):i[0]=="/"&&fLo(i,-1)=="/"?a=new RegExp(i.slice(1,-1)):(a=new RegExp("^"+i+"[\\d_]"),u.alias=u.id=i),a&&(u.$patterns||=[],u.$patterns.push(a)),u.$pattern=a,this.$patterns.set(a,u),this.$subclasses.set(s,u),this.$mapped[i]=u,this.$types.push(u)}re(this,r7t)}$subtype(e){if(typeof e=="string"){for(let[t,r]of B(this.$patterns))if(t.test(e))return r;if(e[0]!="~")return null}else if(this.$subclasses.get(e))return this.$subclasses.get(e);return this.$types[0]}$subshape(e){return this.$subtype(e).$shape}[Symbol.hasInstance](e){for(let t=0,r=B(this.$types),o=r.length;t<o;t++){let n=r[t];if(p(e,n))return!0}return!1}toIterable(){return this.$types}[Symbol.iterator](){return this.toIterable()[Symbol.iterator]()}};E(Q8e,r7t,"OPEmbedTypes",16);var Gw=Q8e;globalThis.OPEmbedTypes=Gw;var o7t=Symbol(),DM=class DM extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,o7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"jsonb",this.nav=e&&(o=e.nav)!==void 0?o:null,this.list=e&&(o=e.list)!==void 0?o:null,this.parent=e&&(o=e.parent)!==void 0?o:!1,this.child=e&&(o=e.child)!==void 0?o:!1}get embedded(){return!0}get deep(){return!this.wildcard&&this.embedded}get wildcard(){return this.name=="__any__"}get entries(){var e;return p((e=this.$type)==null?void 0:e.prototype,OPEntries)}bind(e){return this.$get(e)}get proptype(){return this.$type}$subshape(e){return this.entries?this.$type.$shape.$subshape(e):this.$typefor(e)}$sanitize(e,t,r){return this.$type.$sanitize?this.$type.$sanitize(e,t,this,r):e}$typefor(e){return p(this.$type,Gw)?this.$type.$subtype(e):this.$type}$get(e,t=null,r=this.name,o=0){let n=this.$f,i;if((r==null||r===this.name)&&(r=this.$rawkey),n&55){let s=e[this.$store],a=s[mLo]||={};i=a[r]??=this.$instantiate(e,r,s,o)}else i=e.$rich[r]??=this.$instantiate(e,r,e.$plain,o);return i&&(!o||!(o&4))&&this.$observed(e,i),i}$instantiate(e,t,r){var m,$;var o=this;let n=this.$f,i=r[t],s=i,a=e.$f,u=n&55||a&55,c=this.$type,h=null,d=null;if(p(c,Gw)&&(c=c.$subtype(t)),!c)return null;if(i||(s=i=r[t]=p(this,OPTuplesField)?[]:{},nk(i,r)),n&64){let b=i;for(let g=0,x=B(this.$stores),k=x.length;g<k;g++){let _=x[g];if(g>0){let v=e[_][t];v&&(v[$Lo]=b),b=v}}OP.defineProps(i,{$changed:function(g,x,k,_,S){var v;let C;v=[];for(let j=0,P=B(o.$stores),U=P.length;j<U;j++){let O=P[j],L=g[O];j>0&&g.$apply(C,1310724,L,L[yLo]),v.push(C=L)}return v}})}if(n&1048576&&(n&16?h=OP.clone(this.defaults):Object.setPrototypeOf(i,this.defaults)),p(c,Function)||LL("cannot find typ",this,t,c),c[bLo]||c.$shape,this.wildcard){let b=(m=c.key)==null?void 0:m.pattern,g=b?[b]:[];c.$patterns&&(g=c.$patterns);for(let x of B(g)){let k;if((k=t.match(x))&&k.groups){d={};for(let _=k.groups,S=0,v=Object.keys(_),C=v.length,j,P;S<C;S++){j=v[S],P=_[j];let U=c.$shape[j];d[j]=U?U.$sanitize(P):P}u|=262144;break}}if(!d&&/[a-zA-Z~]+3_/.test(t)){d={};let x=OPKey.parse(t).slice(1);for(let k=0,_=B(c.key.slots),S=_.length;k<S;k++){let v=_[k];d[v.name]=v.$sanitize(x[k])}}else!d&&/[a-zA-Z~]+[2]/.test(t)&&(d=($=OPKey.decode(t))==null?void 0:$.payload)}d&&(u|=134217728,i[gLo]=d);let f=new c(i,u,e,t);return h&&f.$assign(h),n&2048&&!p(this,OPEmbedsField)&&!p(this,OPChildrenField)&&e.$children.add(f),f}$accepts(e,t){if(this.entries)return p(e,this.$type.__any__.$type)}$set(e,t,r=null,o=this.name,n=16777217){let i=this.$get(t,r,o,n);return(i==null?void 0:i.$set)&&i.$set(e,n)}[t7t](){if(super[t7t](...arguments),this[kLo]=new Map,this.defaults){this.$f|=1048576;let e=function(t){let r=[];for(let o=0,n=Object.keys(t),i=n.length,s,a;o<i;o++)if(s=n[o],a=t[s],p(a,OPPlain)){r.push(s);let u=e(a);Object.defineProperty(t,s,{get:function(){if(this!==t){let c=Object.create(a);Object.defineProperty(this,s,{value:c,enumerable:!0,writable:!0});for(let h=0,d=B(u),f=d.length;h<f;h++){let m=d[h];c[m]}return c}return a},set:function(c){}})}return t[OP_PLAIN_OBJECT]=r,r};return e(this.defaults),!0}}get $type(){let e=this.args[0];return p(e,OPPlain)?new Gw(this,e):(p(e==null?void 0:e.forfield,Function)&&(e=e.forfield(this)),e)}$subtype(e){if(e==this.args[0])return this.$type;this.$subtypes||=new Map;let t=this.$subtypes.get(e);return t||this.$subtypes.set(e,t=e!=null&&e.forfield?e.forfield(this):e),t}$sqlcond(e){let t=OP.pg(this.name);return p(e,Array)?OP.pg`${t} ?| ${e}`:OP.pg`${t} ? ${String(e)}`}};DM.prototype[Le]=De,se([ke.bind([])],DM.prototype,"$type",null),E(DM,o7t,"OPEmbedField",280);var J8e=DM;globalThis.OPEmbedField=J8e;T();oe();var _Lo=Symbol.for("##sorter"),n7t=Symbol(),t_e=class t_e extends OPEmbedField{constructor(){super(...arguments),super[A]||this[A](),re(this,n7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.entropy=e&&(o=e.entropy)!==void 0?o:null,this.children=e&&(o=e.children)!==void 0?o:!1}sorted(e={}){return this[_Lo]=OPSortFunction.for(e)}$observed(e,t){return t.$observed()}};E(t_e,n7t,"OPEmbedsField",16);var e_e=t_e;globalThis.OPEmbedsField=e_e;T();oe();var i7t=Symbol.for("#setup"),xLo=Symbol.for("##sorter"),s7t=Symbol(),Iee=class Iee extends OPEmbedField{constructor(){super(...arguments),super[A]||this[A](),re(this,s7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"",this.virtual=e&&(o=e.virtual)!==void 0?o:!0,this.children=e&&(o=e.children)!==void 0?o:!0}get embedded(){return!1}sort(e={}){return this.sorted(e)}sorted(e={}){return this[xLo]=OPSortFunction.for(e)}$observed(e,t){var r;return(r=t==null?void 0:t.$observed)==null?void 0:r.call(t)}get filters(){return this.args}get $type(){return this.args[0]}bind(e){return this.$get(e)}test(e,t){if(this.type)return p(e,this.type)}[i7t](){var e=this;super[i7t](...arguments);let[t,...r]=this.filters,o=this.name,n=this.model.prototype;if(p(t,Iee))Ye(this.model.prototype,t.model)&&(this.$instantiate=function(i){return i[t.name].only(...r).$forfield(e)});else if(p(t,OPField)){t.$backlinked(this);let i=t.$symbol;if(r.length,!n.hasOwnProperty(t.$symbol)){let s;Object.defineProperty(n,i,{get:function(){return s||=OPBacklink.forrefiner(t),this.$rich[i]||=new s(this)}})}this.$instantiate=function(s){let a=s[i];return r.length&&(a=a.only(...r)),a=a.$forfield(e),a}}else if(p(t,OPType)){let i=OPShape.fieldmap(t.prototype),s=[],a=[];for(let u=0,c=Object.keys(i),h=c.length,d,f;u<h;u++){d=c[u],f=i[d];let m=f[""+d],$=this.model,b=$.prototype,g=m.valuetype,x=m.membertype;(g&&(g==$||p(b,g))||x&&(x==$||p(b,x)))&&(s.push(m),m.parent&&a.push(m))}if(s.any&&!a.any)for(let u=0,c=B(s),h=c.length;u<h;u++){let d=c[u];this.$warn("is @children but inverted field "+d+" does not have .parent modifier")}else a.any||this.$warn("is @children but cannot find any matching @ref/@refs fields on "+t.name);this.$instantiate=function(u){return u.$children.only(t,...r).$forfield(e)}}else p(t,Function)&&(this.$instantiate=function(i){return i.$children.only(t,...r).$forfield(e)});return this}};E(Iee,s7t,"OPChildrenField",24);var r_e=Iee;globalThis.OPChildrenField=r_e;T();oe();We();var l7t=Symbol.for("#setup"),a7t=Symbol(),NM=class NM extends OPChildrenField{constructor(){super(...arguments),super[A]||this[A](),re(this,a7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.memory=e&&(o=e.memory)!==void 0?o:!0}$sources(e){console.warn("OPCollField.$sources not defined in #setup?")}get filters(){return this.args.slice(1)}[l7t](){return super[l7t](...arguments),this.$sources=this.$instantiate,this.$instantiate=OPEmbedField.prototype.$instantiate,this}get $type(){let e=this.args[0];return p(e==null?void 0:e.forfield,Function)&&(e=e.forfield(this)),e}table(e={}){let t={},r={props:t};e.props&&(r=e,e=e.props,r.props=t);for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++)s=n[o],a=e[s],a._pre=1,a.name??=s,a.path??=s,t["~0"+s]=a;return this.defaults||={},this.defaults.layout||="table",this.defaults.table=r}tiles(e={}){return this.defaults||={},this.defaults.layout||="grid",this.defaults.tiles=e}chart(e={}){return this.defaults||={},this.defaults.chart=e}list(e={}){return this.defaults||={},this.defaults.layout||="list",this.defaults.list=e}};NM.prototype[Le]=De,se([ke.bind([])],NM.prototype,"$type",null),E(NM,a7t,"OPCollField",280);var o_e=NM;globalThis.OPCollField=o_e;T();oe();var vLo=Symbol.for("#cloud"),wLo=Symbol(),i_e=class i_e extends OPProp{get dirty(){return!1}};E(i_e,wLo,"OPTupleProp",0);var Fee=i_e;globalThis.OPTupleProp=Fee;var u7t=Symbol(),s_e=class s_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,u7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"jsonb"}get $type(){return this.args[0].finalize()}get proptype(){return Fee}$delta(e,t,r=0){if(t==e)return;if(t&&!e)return t.length?t.slice(0):void 0;if(e&&!t)return e.length?null:void 0;let o;if(p(e,OPDELTA)||!p(e,Array)&&r&64){for(let u=0,c=Object.keys(e),h=c.length,d,f;u<h;u++)d=c[u],f=e[d],t[d]!=f&&(o||=new OPDELTA,o[d]=t[d]);return o}let n=t.length,i=e.length,s=Math.max(n,i),a=0;for(;a<s;)t[a]!=e[a]&&(o||=new OPDELTA,o[a]=t[a]),a++;return o}$apply(e,t,r,o,n,i=null){let s=n[o];return!s&&t&&(n[o]=s=new this.$type,OP.defineProp(s,"$up",e),OP.defineProp(s,"$key",o)),r&65536&&(t==null?i&&(i[o]=null):i[o]||=[]),s[vLo]=i&&i[o],s.$apply(t,r,s,i?i[o]:null),!0}$get(e,t,r,o=0){o||this.$observed(e),(r==null||r===this.name)&&(r=this.$rawkey);let n=e[this.$store],i=n[r];return i&&!p(i,this.$type)&&p(i,Array)&&(i=n[r]=this.$type.of(...i),OP.defineProp(i,"$up",e),OP.defineProp(i,"$key",r)),i||(i=n[r]=this.$type.of(),OP.defineProp(i,"$up",e),OP.defineProp(i,"$key",r)),i}$set(e,t,r,o,n=16777217){return(o==null||o===this.name)&&(o=this.$rawkey??o),this.$get(t,r,o,n).$set(e,n),!0}};E(s_e,u7t,"OPTupleField",16);var n_e=s_e;globalThis.OPTupleField=n_e;T();oe();Hl(),ge(),We();var l_e=Symbol("update"),c7t=Symbol(),Hee=Symbol(),h7t=Symbol(),p7t=Symbol(),d7t=Symbol(),f7t=Symbol(),m7t=Symbol(),SLo=le("&.memoized",globalThis,l=>l.memoized),wh,$7t=Symbol.for("#setup"),CLo=Symbol.for("##up"),ELo=Symbol.for("##register"),jLo=Symbol.for("#afterVisit"),ALo=Symbol(),u_e=class u_e extends OPProp{get options(){var e,t;if(p(this.$field.$options,Function))return this.$field.$options.call(this.$this);if(this.$field.$type)return(t=(e=this.$field.$type)==null?void 0:e.all)==null?void 0:t.call(e)}get $options(){var e=this;let t=this.options||[];return this.$slots||={},t.map(function(r){return e.$slots[r]||=new Vee(e,r)})}opownmenu(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Hee])||(r=o=0,e=t[Hee]=e=R("op-pis",null,null,null)),r||(e[CLo]=t._),r||((s=e[ELo])==null||s.call(e,t,Hee)),n=this,n===e[h7t]||(e.data=e[h7t]=n),n=this.$options,n===e[p7t]||(e.options=e[p7t]=n),n=this,n===e[d7t]||(e.context=e[d7t]=n),n=e[f7t]||(e[f7t]=e.bind$("value",[null,"value"])),n[0]=this,r||(e.clickable="clickable"),r||(e.tapevent="tapped"),r||(e.focusonhover="focus-on-hover"),r||(e.multiple=!1),r||(e.kind="mi"),r||e.on$("opnav",{stack:!0,area:!0,list:!0},this),i=e[m7t]||(e[m7t]={emit:["resolve",null]}),i.emit[1]=this.value,r||e.on$("pick",i,this),r||t.sym||!e.setup||e.setup(o,t,Hee),t.sym||e[jLo](o),e}};E(u_e,ALo,"OPRefProp",0);var Bee=u_e;globalThis.OPRefProp=Bee;var ULo=Symbol(),c_e=class c_e extends OPPropValue{};E(c_e,ULo,"OPRefPropValue",0);var Vee=c_e;globalThis.OPRefPropValue=Vee;var y7t=Symbol(),Yw=class Yw extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,y7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"text",this.enum=e&&(o=e.enum)!==void 0?o:!1,this.parent=e&&(o=e.parent)!==void 0?o:!1,this.child=e&&(o=e.child)!==void 0?o:!1,this.weak=e&&(o=e.weak)!==void 0?o:!1,this.foreign=e&&(o=e.foreign)!==void 0?o:!1,this.observable=e&&(o=e.observable)!==void 0?o:!1,this.backlink=e&&(o=e.backlink)!==void 0?o:null,this.owner=e&&(o=e.owner)!==void 0?o:!1,this.target=e&&(o=e.target)!==void 0?o:null,this.actor=e&&(o=e.actor)!==void 0?o:null,this.absolute=e&&(o=e.absolute)!==void 0?o:!1,this.eager=e&&(o=e.eager)!==void 0?o:!1}get ref(){return!0}get valuetype(){return this.type}get reftype(){return this.type}options(...e){var t=this;return e.every(SLo)?this.$options=function(){return t.type.all(...e)}:e.len>1?this.$raise`@ref.options cannot have more than one argument unless using amper funcs: ${this}`:this.$options=e[0],this}get $type(){let e=this.args[0];return(e==null?void 0:e.constructor)==Array&&Object.setPrototypeOf(e,OPUnionType.prototype),e}get proptype(){let e=this,t=Symbol(),o=class o extends Bee{set update(i){this.update.$set(i,this,l_e,"update")}get update(){return this.update.$get(this,l_e,"update")}get update(){return this[c7t]||y((wh=this.action(e.reftype),p(wh.icon,Function)?wh.icon(e.icon):wh.icon=e.icon,p(wh.g,Function)?wh.g(e.g):wh.g=e.g,p(wh.label,Function)?wh.label("Set "+e.label+" $1"):wh.label="Set "+e.label+" $1",wh.callback=function(i){if(console.warn("update "+e.name,i),i)return this.value=i},wh),this,l_e,"update",c7t,o.prototype)}};E(o,t,"Prop",0);let r=o;return r}[$7t](){var e;return super[$7t](...arguments),this.$f|=8192,this.reftype==OPDataAsset&&(this.$sanitize=OPDataAsset.$sanitize.bind(OPDataAsset)),this.$fallback&&this.$f&36864&&console.warn(("Warning: "+((e=this.model)==null?void 0:e.name)+" "+this.name+" @ref.fallback cannot be combined with .as or .parent").yellow),this}$sanitize(e,t,r=0){if(r&1){let o=this.$deserialize(e,t);o&&!p(o,this.type)&&this.$raise`Invalid value for ${t}.${this.name}, expected ${this.type.name} but got ${typeof o=="object"?o.constructor.name:typeof o}`}return typeof e=="string"||p(e,OPAssetValue)||p(e,Promise)?e:e?t&&t.$root&&t.$root==e.$root&&!this.absolute?OPKey.relative(t,e):String(this.enum?e.oid:e.id):void 0}$deserialize(e,t){var o,n;if(!e)return;if(typeof e!="string")return e;let r=OP.$rich.get(e);return r||(this.enum?this.reftype.enum(e):e[0]=="."&&t?OP.get(e,t):OP.getrich(e)||((n=(o=this.type)==null?void 0:o.get)==null?void 0:n.call(o,e,t))||OP.get(e,t))}$accepts(e,t){return p(e,this.reftype)}$altered(e,t,r,o,n,i){var a,u;let s=this.$f;if(e&&this.eager&&e.resolved,r.$branch){if(s&4096){let c=r.$root;(t==null?void 0:t.$root)==c&&r.parentleave(t,this),(e==null?void 0:e.$root)==c&&r.parentjoin(e,this)}return}s&4096&&(t&&r.parentleave(t,this),e&&r.parentjoin(e,this)),s&32768&&(t&&((a=t==null?void 0:t.$demote)==null||a.call(t,this.$granted,r,this)),e&&((u=e==null?void 0:e.$promote)==null||u.call(e,this.$granted,r,this)))}};Yw.prototype[Le]=De,se([ke.bind([])],Yw.prototype,"$type",null),se([ke.bind([])],Yw.prototype,"proptype",null),E(Yw,y7t,"OPRefField",280);var a_e=Yw;globalThis.OPRefField=a_e;T();oe();We();var PLo=le("&.memoized",globalThis,l=>l.memoized),b7t=Symbol(),IM=class IM extends OPEmbedField{constructor(){super(...arguments),super[A]||this[A](),re(this,b7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.weak=e&&(o=e.weak)!==void 0?o:!1}$accepts(e,t){return p(e,this.membertype)}get membertype(){let e=this.args[1];return(e==null?void 0:e.constructor)==Array&&Object.setPrototypeOf(e,OPUnionType.prototype),e}options(...e){var t=this;return e.every(PLo)||e.len==0?this.$options=function(){return t.membertype.all(...e)}:e.len>1?this.$raise`@ref.options cannot have more than one argument unless using amper funcs: ${this}`:e[0]?this.$options=e[0]:this.$options=function(){return t.membertype.all()},this}};IM.prototype[Le]=De,se([ke.bind([])],IM.prototype,"membertype",null),E(IM,b7t,"OPRefsField",272);var h_e=IM;globalThis.OPRefsField=h_e;T();oe();We();var p_e=Symbol("toggle"),g7t=Symbol(),W2,k7t=Symbol.for("#setup"),_7t=Symbol(),f_e=class f_e extends OPNumberField{constructor(){super(...arguments),super[A]||this[A](),re(this,_7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.round=e&&(o=e.round)!==void 0?o:1,this.fields=e&&(o=e.fields)!==void 0?o:{}}};E(f_e,_7t,"OPBitsField",16);var zee=f_e;globalThis.OPBitsField=zee;var TLo=Symbol(),m_e=class m_e extends OPBoolProp{};E(m_e,TLo,"OPBitProp",0);var qee=m_e;globalThis.OPBitProp=qee;var x7t=Symbol(),FM=class FM extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,x7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"integer",this.column=e&&(o=e.column)!==void 0?o:"_bits"}$sanitize(e,t,r){r&&e&&(r[this.$rawkey]||=0,r[this.$rawkey]|=this.number)}get proptype(){var r;let e=this,t=Symbol();return r=class extends qee{set toggle(n){this.toggle.$set(n,this,p_e,"toggle")}get toggle(){return this.toggle.$get(this,p_e,"toggle")}get toggle(){return this[g7t]||y((W2=this.action(),p(W2.g,Function)?W2.g(0):W2.g=0,p(W2.label,Function)?W2.label("Toggle "+e.name):W2.label="Toggle "+e.name,W2.callback=function(){return this.value=!this.value},W2),this,p_e,"toggle",g7t,r.prototype)}},E(r,t,"Prop",0),r}[k7t](e,t,r,o,n){super[k7t](...arguments),this.$rawkey=typeof this.at=="number"?this.at:this.column;let i=typeof this.at=="number"?""+this.at:""+this.column;return(this.$column=this.model.prototype[i])||(this.$column=new zee().$accessor(e,Symbol.for(this.$rawkey),this.at??this.column,i,n),OPShape.invalidate()),this.at=null,this.$column.fields[r]=this,this}get valuetype(){return Number}get bit(){return this.args[0]}get number(){return 1<<this.bit}$get(e,t,r=null,o=null){return(this.$column.$get(e,t,this.$rawkey,o)&this.number)>0}$set(e,t,r,o=this.name,n=16777217){e=!!e;let i=t[this.$store][this.$rawkey]||0,s=e?i|this.number:i&~this.number;if(s!=i){this.$column.$set(s,t,null,this.$rawkey,n);return}}};FM.prototype[Le]=De,se([ke.bind([])],FM.prototype,"proptype",null),E(FM,x7t,"OPBitField",280);var d_e=FM;globalThis.OPBitField=d_e;T();oe();var v7t=Symbol(),b_e=class b_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,v7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.lfs=e&&(o=e.lfs)!==void 0?o:!1}$sub(e,t){throw"not implemented yet "+t+" "+(e==null?void 0:e.id)}};E(b_e,v7t,"OPDataField",16);var $_e=b_e;globalThis.OPDataField=$_e;var w7t=Symbol(),g_e=class g_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,w7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"bytea"}$set(e,t,r){var o;return o=t.$rich[this.name],delete t.$rich[this.name],e=OP.msgpack.pack(e),super.$set(e,t,r)}$get(e,t){this.$observed(e);let r=e[this.$store][this.$rawkey],o=e.$rich[this.name];return!o&&r&&(o=e.$rich[this.name]=Object.freeze(OP.msgpack.unpack(r))),o}};E(g_e,w7t,"OPMSGPackField",24);var y_e=g_e;globalThis.OPMSGPackField=y_e;T();oe();var OLo=le("&.toString(16).padStart(2,'0')",globalThis,l=>l.toString(16).padStart(2,"0")),RLo=Symbol(),__e=class __e extends OPProp{get hex(){return Array.from(this.value).map(OLo).join("")}};E(__e,RLo,"OPByteArrayProp",0);var Wee=__e;globalThis.OPByteArrayProp=Wee;var S7t=Symbol(),x_e=class x_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,S7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"bytea"}$delta(e,t,r=0){if(p(e,Uint8Array)&&p(t,Uint8Array)){let o=e.length,n=t.length;if(o!=n)return t;let i=0;for(;i<o;){if(e[i]!=t[i])return t;i++}return}return t}get proptype(){return Wee}$stringToBinary(e){let t=e.length,r=new Uint8Array(t),o=0;for(;o<t;)r[o]=e.charCodeAt(o),o++;return r}$sanitize(e,t,r=0){return typeof e=="string"&&(e=this.$stringToBinary(e)),e}};E(x_e,S7t,"OPByteArrayField",16);var k_e=x_e;globalThis.OPByteArrayField=k_e;T();oe();var MLo=Symbol(),w_e=class w_e extends OPProp{};E(w_e,MLo,"OPAssetProp",0);var Zee=w_e;globalThis.OPAssetProp=Zee;var C7t=Symbol(),S_e=class S_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,C7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"text"}$deserialize(e){if(p(e,OPAsset))return e;if(e)return OP.get(e)}get proptype(){return Zee}};E(S_e,C7t,"OPAssetField",16);var Gee=S_e;globalThis.OPAssetField=Gee;var LLo=Symbol(),C_e=class C_e extends Gee{$sanitize(e){return(e==null?void 0:e.id)||e}$set(e,t,r){return typeof e=="string"&&(e=OPImage.get(e)),e&&!p(e,OPImage)&&console.warn("cannot set @image field to",e,"Wrap it in await OP.Image.for(...)"),super.$set(...arguments)}$get(e){return OP.Image.get(e[this.$store][this.name])}};E(C_e,LLo,"OPImageField",8);var v_e=C_e;globalThis.OPImageField=v_e;T();oe();var DLo=Symbol(),j_e=class j_e extends OPBoolProp{};E(j_e,DLo,"OPToggleProp",0);var Yee=j_e;globalThis.OPToggleProp=Yee;var E7t=Symbol(),A_e=class A_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,E7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"integer",this.observable=e&&(o=e.observable)!==void 0?o:!0,this.count=e&&(o=e.count)!==void 0?o:!1}get proptype(){return Yee}get action(){return!1}$get(e){let t=e[this.$store],r=t?t[this.name]:0;return this.$observed(e),r>0}$sanitize(e){return e==!0&&(e=OP.now),e==!1&&(e=-OP.now),e}};E(A_e,E7t,"OPToggleField",16);var E_e=A_e;globalThis.OPToggleField=E_e;T();oe();var U_e=Symbol("toggle"),j7t=Symbol(),P_e,NLo=Symbol(),Kee=class Kee extends OPBoolProp{set toggle(e){this.toggle.$set(e,this,U_e,"toggle")}get toggle(){return this.toggle.$get(this,U_e,"toggle")}get toggle(){return this[j7t]||y((P_e=this.action(),P_e.callback=function(){return this.value=!this.value},P_e),this,U_e,"toggle",j7t,Kee.prototype)}};E(Kee,NLo,"OPMemberOfProp",0);var Xee=Kee;globalThis.OPMemberOfProp=Xee;var A7t=Symbol(),O_e=class O_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,A7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null,this.virtual=e&&(o=e.virtual)!==void 0?o:!0,this.memory=e&&(o=e.memory)!==void 0?o:!0}get proptype(){return Xee}$get(e){var r;let t=this.args[0].call(e);return(r=t==null?void 0:t.has)==null?void 0:r.call(t,e)}$set(e,t,r){let o=this.args[0].call(t),n=this.$get(t);if(e&&!n)return o.add(t);if(n&&!e)return o.delete(t)}};E(O_e,A7t,"OPMemberOfField",16);var T_e=O_e;globalThis.OPMemberOfField=T_e;T();oe();var U7t=Symbol.for("#setup"),P7t=Symbol(),M_e=class M_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,P7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.flag=e&&(o=e.flag)!==void 0?o:null,this.hover=e&&(o=e.hover)!==void 0?o:!1}[U7t](){var e=this;return(this.flag||this.callback)&&(this.watch=function(t,r){var n,i,s,a,u,c,h,d;let o=this;if(typeof e.flag=="string")(i=(n=r==null?void 0:r.flags)==null?void 0:n.decr)==null||i.call(n,e.flag),(a=(s=t==null?void 0:t.flags)==null?void 0:s.incr)==null||a.call(s,e.flag);else if(p(e.flag,Array))for(let f=0,m=B(e.flag),$=m.length;f<$;f++){let b=m[f];(c=(u=r==null?void 0:r.flags)==null?void 0:u.decr)==null||c.call(u,b),(d=(h=t==null?void 0:t.flags)==null?void 0:h.incr)==null||d.call(h,b)}if(e.callback)return e.callback.call(o,t,r)}),super[U7t](...arguments)}};E(M_e,P7t,"OPDOMField",24);var R_e=M_e;globalThis.OPDOMField=R_e;T();oe();var ILo=Symbol.for("#setup-self"),FLo=Symbol.for("#matcher"),HLo=qi,T7t=Symbol(),D_e=class D_e extends OPProp{constructor(e,t){super(e,t),this.$f=0,re(this,T7t)}opownstat(){let e=this.value;if(!(e==!1||e==null))return super.opownstat(...arguments)}$set(...e){}};E(D_e,T7t,"OPMemoProp",24);var Jee=D_e;globalThis.OPMemoProp=Jee;var O7t=Symbol(),N_e=class N_e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,O7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null,this.bool=e&&(o=e.bool)!==void 0?o:!1,this.instant=e&&(o=e.instant)!==void 0?o:!1}get proptype(){return Jee}get debug(){var e;return Ye(e=this.name,"deep")}$$invalidated(e,t,r){(r==null?void 0:r.constructor)==Set&&(r=null);let o=this.$tracer.invalidated(e,t,r);if(this.debug){let n=this.$tracer.map.get(t);console.log(""+this.name+" $$invalidated "+e,{beacon:t,observable:r,traced:o,route:n})}if(!(t===this&&e>2)){if(o!=null&&o.size){let n=0,i=0;for(let[s,a]of B(o)){if(n++,a==2){let u=s[this.$store][this.$symbol];u&&(this.instant,u.$$invalidated(),i++)}if(a&4){let u=s.$root;(u.$rich[this.$symbol]||=new this.MemoValue).invalidateroot(),i++}}n==i&&this.$$skip++,super.$$invalidated(e,o);return}return super.$$invalidated(e)}}[ILo](){var e=this;this.$$skip=0;let t=Symbol(),a=class a{constructor(c=null){this[A](c),re(this,t)}[A](c=null,h=!0,d=!0){var f;this.value=c&&(f=c.value)!==void 0?f:null,this.synced=c&&(f=c.synced)!==void 0?f:-1,this.seen=c&&(f=c.seen)!==void 0?f:0}$$invalidated(c,h){return this.synced=-1}invalidateroot(){return this.root_version=(this.root_version||0)+1}};E(a,t,"MemoValue",16);let r=a;this.MemoValue=r,this.$$v=1;let o=0,n=this.$tracer=new OPRXTracer({owner:this}),i=this.$store,s=this.$symbol;return this.pov&&(o|=256),this.$get=function(u){let c=u[i],h=c[s];h||(h=c[s]=new r);let d=h.synced,f=e.$$v-e.$$skip;if(n.flags&4){let m=u.$root.$rich[s];m&&(h.synced_root||0)<m.root_version&&(h.synced_root=m.root_version,d=-1)}if(HLo.context.add(e,u),d<f){h.synced=f,n.run.reset(u,h);let m=h.value,$=HK(n,e.callback,u);return h.value=$}else return h.value}}$get(e,...t){}$set(e,t){return console.warn("cannot set OPMemoField "+this.name)}[FLo](e){return!!e[this.name]}};E(N_e,O7t,"OPMemoField",24);var L_e=N_e;globalThis.OPMemoField=L_e;T();oe();var R7t=Symbol(),M7t=Symbol();function BLo(l){var e=gt(globalThis);e[R7t]??={};let t=String(l);return e[R7t][t]||=new Intl.NumberFormat("en-US",{style:"currency",currency:t})}var Qee=Symbol(),V3=class V3 extends Qe(Qee,null,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[Qee])==null||o.call(this,...arguments),this.amount=e?e.amount:void 0,this.currency=e?e.currency:void 0}static getamount(e,t){var r=gt(this);r[M7t]??={};let o=String(t);return(r[M7t][o]||={})[e]||=new V3(e,o)}get mainamount(){let e=OPCurrency.from(this.currency).decimals;return e==null&&(console.warn("Currency "+String(this.currency)+" not loaded. Forgot to await OPCurrency.all! ?"),e=2),this.amount/10**e}toString(){return this.formatter.format(this.mainamount)}get formatter(){return BLo(this.currency)}static from(e,t){return V3.getamount(e,t)}constructor(e,t){super(),this[A](),this.amount=e,this.currency=t,re(this,Qee)}rebated(e={}){let t=this.amount;if(e!=null&&e.percent_off)t=Math.floor(t*(1-e.percent_off*.01));else return this;return V3.from(t,this.currency)}valueOf(){return this.amount}[Symbol.toPrimitive](e){return e=="number"?this.amount:this.toString()}div(e){return V3.from(this.amount/e,this.currency)}};E(V3,Qee,"OPMoney",80);var ete=V3;globalThis.OPMoney=ete;var VLo=Symbol(),F_e=class F_e extends OPNumberProp{};E(F_e,VLo,"OPMoneyProp",0);var tte=F_e;globalThis.OPMoneyProp=tte;var L7t=Symbol(),H_e=class H_e extends OPNumberField{constructor(){super(...arguments),super[A]||this[A](),re(this,L7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:"integer"}get proptype(){return tte}$get(e){let t=e.currency;if(!p(t,OPCurrency)&&typeof t!="string")throw new OPError("Cannot get "+this.model.name+"."+this.name+" @money because "+this.model.name+".currency is not a @currency");let r=super.$get(...arguments);return r!=null?ete.getamount(r,String(t)):null}};E(H_e,L7t,"OPMoneyField",24);var I_e=H_e;globalThis.OPMoneyField=I_e;T();oe();T();oe();We();var zLo=Symbol.for("#__inited__"),B_e=Symbol.for("#fetch"),D7t=Symbol.for("#consume"),V_e=Symbol.for("#done"),qLo=Symbol.for("#symbol"),z_e=Symbol.for("#seen"),WLo=Symbol.for("#op"),q_e=Symbol.for("#pov"),ZLo=Symbol.for("#last-response"),N7t=Symbol(),Xw=class Xw{[A](e=null,t=!0,r=!0){var o;this.id=e?e.id:void 0,this.object=e?e.object:void 0,this.updated=e?e.updated:void 0,this.stats=e&&(o=e.stats)!==void 0?o:{}}get symbol(){return this[qLo]||=Symbol()}constructor(e,t){this.owner=e,this[A](t),re(this,N7t)}[zLo](){return this[z_e]=0,this.ids=new Set,this.consumed=[],this.laststate={},this.load()}get url(){return"/op/pub/"+this.id}get $up(){let e=this.id.replace(/\/[^\/]+$/,"");return OP.get(e)}get $root(){var e;return(e=this.$up)==null?void 0:e.$root}[B_e](e={}){let t=this.url;return t+=(t.includes("?")?"&":"?")+("v="+OP.version),t+=(t.includes("?")?"&":"?")+("pov="+(this.owner.gop.pov||"")),globalThis.fetch(t,e)}has(e){return this.ids.has((e==null?void 0:e.id)||e)}compare(e){let t={};for(let o of B(this.consumed))t[o.id]=o;for(let o of B(e.consumed))t[o.id]||=o;let r={both:this.ids.intersection(e.ids),here:this.ids.difference(e.ids),there:e.ids.difference(this.ids)};for(let o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++){s=n[o],a=r[s];let u={_count:a.size};for(let c of B(a))u[c]=t[c];r[s]=u}return r}load(){return this.id&&OP.joinchannel(this.$root),this[D7t](globalThis[WLo].subs[this.id]||this[B_e]())}resync(){var e;if(this[q_e]!=(e=this.owner.gop.pov)&&(this[q_e]=e,!0))return this.refresh()}async refresh(){var e=this;let r=await this[B_e]({cache:"reload",headers:{"op-server":this.laststate.server||""}}),o=this.parseOpHeaders(r),n={_src:this,_exp:this.till},i=new Set(this.ids),s=new Set,a=new Set,u=OP.$cloud,c={};return await OP.msgpack.unpackStream(r,function(h){if(p(h,OPStruct)){OP.$handle(h);return}let d=h.id,f=h._pov;if(f){let m=c[f]||=[OP.get(f).$$pov,new Set],$=m[0].$raw[d];if(!$||$._rev!=h._rev)return m[1].add(h)}else{let m=u[d];if(i.delete(d)){if(m&&h._rev>m._rev)return a.add(h)}else return s.add(h)}}),k3(function(){var d,f;var h;for(let m=0,$=Object.keys(c),b=$.length,g;m<b;m++){g=$[m];let[x,k]=c[g];for(let _ of B(k))x.$patch(_)}for(let m of B(a))OP.$patch(m,e);for(let m of B(i)){let $=OP.getrich(m);e.ids.delete(m),(d=$==null?void 0:$.subremoved)==null||d.call($,e)}h=[];for(let m of B(s)){let $=OP.$patch(m,e);e.ids.add(m.id),h.push((f=$==null?void 0:$.subadded)==null?void 0:f.call($,e))}return h}),this[V_e](),this}parseOpHeaders(e){let t={};for(let[r,o]of B(e.headers.entries())){if(r.indexOf("op-")!=0){t[r]=o;continue}o.match(/^\d+$/)&&(o=parseInt(o)),t[r.slice(3)]=o}return t}async[D7t](e,t=0){var r=this;this[q_e]=this.owner.gop.pov;let o=Date.now(),n=await e,i=Date.now()-o,s=this.parseOpHeaders(n),a=new Date(s.date),u=s.until||0;this[ZLo]=n,this.laststate=s,this[z_e]=Math.max(this[z_e],u);let c={},h=new Set,d=OP.$$common,f=await ybe(n,function(m){if(p(m,OPStruct)){OP.$handle(m);return}let $=m.id;if(!$){console.warn("consume item without id",m,r),r.consumed.push(m);return}let b=m._pov;if(b)return b=c[b]||=OP.get(m._pov).$$pov,b.$patch(m);{let g=d.$cloud[$];return r.ids.add(m.id),r.consumed.push(m),g?g._rev>=m._rev||LL("newer version of row from subscription",m,g):d.$cloud[$]=m,h.add(m)}});return k3(function(){var m;m=[];for(let $ of B(h)){let b=$.id,g=OP.$rich.get(b);g?g.$patch($):g=OP.get(b),m.push(g&&g.subadded(r))}return m}),this.deserializer=f,setTimeout(function(){let m;try{m=globalThis.performance.getEntriesByType("resource").find($=>$.name==n.url)}catch{}if(m&&m.transferSize===0||i<10&&o-+a>2*1e3)return r.refresh()},1),this[V_e](),!0}[V_e](){let e=this.id.split("/")[0],t=OP.get(e);return t!=null&&t.$root&&(t.$root.$memo=null),Cr()}};Xw.prototype[Le]=De,se([ho.bind([])],Xw.prototype,"load",null),se([Fl.bind([])],Xw.prototype,"refresh",null),E(Xw,N7t,"OPSubscription",272);var W_e=Xw;globalThis.OPSubscription=W_e;ge(),$e();var GLo=Symbol.for("#has"),YLo=Symbol.for("#matcher"),I7t=Symbol.for("#setup"),K7t=Symbol.for("##up"),J7t=Symbol.for("##register"),Q7t=Symbol.for("#getSlot"),e9t=Symbol.for("#placeChild"),t9t=Symbol.for("#afterVisit"),rte=Symbol(),F7t=Symbol(),H7t=Symbol(),ote=Symbol(),B7t=Symbol(),V7t=Symbol(),z7t=Symbol(),q7t=Symbol(),e4e=class e4e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,q7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null}$get(e){return e.$memo[this.name]||=this.args.find(function(t){return Ye(e,t)})}$set(e,t){return console.warn("cannot set StateField "+this.name)}[GLo](e){return this.args.includes(e)}};E(e4e,q7t,"OPStateField",16);var Z_e=e4e;globalThis.OPStateField=Z_e;var XLo=Symbol(),t4e=class t4e extends OPProp{opownstatlabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[rte])||(r=o=0,e=t[rte]=e=R("op",null,"jm-af",null)),r||(e[K7t]=t._),r||((s=e[J7t])==null||s.call(e,t,rte)),n=e[Q7t]("__",e),i=this.aslabel.replace(/\W+/g," ")+" "+this.value,i===e[H7t]&&r||(e[F7t]=n[e9t](e[H7t]=i,384,e[F7t])),r||t.sym||!e.setup||e.setup(o,t,rte),t.sym||e[t9t](o),e}};E(t4e,XLo,"OPGetterProp",0);var ite=t4e;globalThis.OPGetterProp=ite;var W7t=Symbol(),r4e=class r4e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,W7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null}get proptype(){return ite}$function(e){return!0}$set(e,t){return console.warn("cannot set OPGetterField "+this.name)}$get(e){let t=this.callback.call(e);return p(t,OPIterable)?t.resolved:t}[YLo](e){return!!e[this.name]}};E(r4e,W7t,"OPGetterField",16);var G_e=r4e;globalThis.OPGetterField=G_e;var Z7t=Symbol(),o4e=class o4e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,Z7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null}[I7t](){return super[I7t](...arguments),this.$computed=new zgt(this.name,this.callback)}$get(e){return Object.defineProperty(e,this.name,this.$computed.lazyDescriptor),e[this.name]}};E(o4e,Z7t,"OPComputedField",24);var Y_e=o4e;globalThis.OPComputedField=Y_e;var G7t=Symbol(),n4e=class n4e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,G7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null}$get(e){return e.$memo[this.name]??=new lte(e,this.name,this.callback.call(e))}$function(e){return!0}};E(n4e,G7t,"OPStatField",16);var X_e=n4e;globalThis.OPStatField=X_e;var KLo=Symbol(),i4e=class i4e{get size(){var e;return(e=this.toIterable())==null?void 0:e.size}filter(e){return this.toIterable().filter(e)}map(e){return this.toIterable().map(e)}toIterable(){return this.value||this}};E(i4e,KLo,"OPArrayProxy",1024);var ste=i4e;globalThis.OPArrayProxy=ste;var nte=Symbol(),s4e=class s4e extends Qe(nte,null,OPRenderable,ste){[A](e=null,t=!0,r=!0){var o;(o=this[nte])==null||o.call(this,...arguments)}constructor(e,t,r){super(),this[A](),this.$up=e,this.$key=t,this.value=r,re(this,nte)}get name(){return String(this.$key)}opownstat(e,t){var u;var r,o=H(),n,i,s,a;return n=i=1,(r=o[ote])||(n=i=0,r=o[ote]=r=R("op-stat",null,null,null)),n||(r[K7t]=o._),n||((u=r[J7t])==null||u.call(r,o,ote)),s=r[Q7t]("__",r),a=this,a===r[B7t]||(r.data=r[B7t]=a),n||r.on$("optip",{},this),a=this.aslabel,a===r[z7t]&&n||(r[V7t]=s[e9t](r[z7t]=a,384,r[V7t])),n||o.sym||!r.setup||r.setup(i,o,ote),o.sym||r[t9t](i),r}get size(){var e;return(e=this.value)==null?void 0:e.size}get aslabel(){return""+this.size+" "+this.name.pluralize(this.size)}get empty(){return this.size==0}};E(s4e,nte,"OPStatProp",80);var lte=s4e;globalThis.OPStatProp=lte;var JLo=Symbol(),l4e=class l4e extends OPProp{get value(){return this.$up.$rich[this.$field.$rawkey]}$invalidate(){if(this.value)return vu.add(this.value.refresh),!0}};E(l4e,JLo,"OPPubProp",0);var ate=l4e;globalThis.OPPubProp=ate;var Y7t=Symbol(),a4e=class a4e extends OPField{constructor(){super(...arguments),super[A]||this[A](),re(this,Y7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.pgtype=e&&(o=e.pgtype)!==void 0?o:null,this.blank=e&&(o=e.blank)!==void 0?o:!1}get embedded(){return!0}get autowake(){return!1}get proptype(){return ate}$get(e){return this.blank?null:e.$rich[this.$rawkey]||=OP.sub(this.bind(e))}};E(a4e,Y7t,"OPPubField",16);var K_e=a4e;globalThis.OPPubField=K_e;var QLo=Symbol(),u4e=class u4e extends OPActionField{};E(u4e,QLo,"OPWebhookField",0);var J_e=u4e;globalThis.OPWebhookField=J_e;var X7t=Symbol(),c4e=class c4e extends OPActionField{constructor(){super(...arguments),super[A]||this[A](),re(this,X7t)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.get=e&&(o=e.get)!==void 0?o:null}};E(c4e,X7t,"OPRouteField",16);var Q_e=c4e;globalThis.OPRouteField=Q_e;T();oe();var eDo=Symbol(),p4e=class p4e extends OPRefField{$deserialize(e,t){return typeof e=="string"&&(e=e.lower),this.type.get(e,t)}$sanitize(e,t){return p(e,OPCountry)?e.oid:typeof e=="string"?e.lower:void 0}};E(p4e,eDo,"OPCountryField",0);var h4e=p4e;globalThis.OPCountryField=h4e;T();oe();var tDo=Symbol(),f4e=class f4e extends OPRefField{$deserialize(e,t){return typeof e=="string"&&(e=e.lower),this.type.get(e,t)}$sanitize(e,t){return p(e,OPCurrency)?e.oid:typeof e=="string"?e.lower:void 0}};E(f4e,tDo,"OPCurrencyField",0);var d4e=f4e;globalThis.OPCurrencyField=d4e;T();oe();We();var m4e=Symbol("bits"),r9t=Symbol(),$4e=Symbol("ts"),o9t=Symbol(),y4e=Symbol("ref"),n9t=Symbol(),b4e=Symbol("throws"),i9t=Symbol(),g4e=Symbol("streaming"),s9t=Symbol(),k4e=Symbol("streamEnd"),l9t=Symbol(),_4e=Symbol("aborting"),a9t=Symbol(),x4e=Symbol("returning"),u9t=Symbol(),v4e=Symbol("pref"),c9t=Symbol(),w4e=Symbol("value"),h9t=Symbol(),S4e=Symbol("name"),p9t=Symbol(),C4e=Symbol("action"),d9t=Symbol(),E4e=Symbol("params"),f9t=Symbol(),j4e=Symbol("code"),m9t=Symbol(),A4e=Symbol("channels"),$9t=Symbol(),U4e=Symbol("pref"),y9t=Symbol(),Kw=Symbol(),HM,Jw,Qw,BM,VM,zM,qM,WM,ZM,GM,YM,XM,KM,JM,QM,eL,eS=Symbol.for("#controller"),P4e=Symbol.for("#ended"),b9t=Symbol.for("#aborted"),rDo=0,g9t=Symbol(),Af=class Af extends OPTuple{constructor(){super(...arguments),re(this,g9t)}set bits(e){this.bits.$set(e,this,m4e,"bits")}get bits(){return this.bits.$get(this,m4e,"bits")}get bits(){return this[r9t]||y((HM=this.bits(),p(HM.at,Function)?HM.at(0):HM.at=0,HM),this,m4e,"bits",r9t,Af.prototype)}set ts(e){this.ts.$set(e,this,$4e,"ts")}get ts(){return this.ts.$get(this,$4e,"ts")}get ts(){return this[o9t]||y((Jw=this.int(),p(Jw.at,Function)?Jw.at(1):Jw.at=1,Jw.default=function(){return Date.now()},Jw),this,$4e,"ts",o9t,Af.prototype)}set ref(e){this.ref.$set(e,this,y4e,"ref")}get ref(){return this.ref.$get(this,y4e,"ref")}get ref(){return this[n9t]||y((Qw=this.int(),p(Qw.at,Function)?Qw.at(2):Qw.at=2,Qw.default=function(){return rDo++},Qw),this,y4e,"ref",n9t,Af.prototype)}get client(){return this.sender}get latency(){return this.received?this.received-this.ts:0}$handle(){throw new OPError(""+this.constructor.name+".$handle not implemented")}$closed(){return!0}reply(e,t={}){return tL.new({pref:this.ref,value:e,...t}).send(this.sender)}raise(e){return this.reply(e,{throws:!0})}send(e=null){return this.sender&&console.warn("cannot send packet that was received"),OP.$packetmap[this.ref]=this,OP.$send(this,this.$receiver=e),this}get vow(){return new Vow}get response(){return this.sender?(console.warn("cannot access the response of a received OPPacket"),null):new Vow}get body(){var e=this;this.response;let t=new ReadableStream({start:function(o){return e[eS]=o},cancel:function(){return e.abort()}});async function*r(){let o=t.getReader();try{for(;;){let{value:n,done:i}=await o.read();if(i)break;yield n}}catch(n){throw n}}return t[Symbol.asyncIterator]||=r,t}getReader(){return this.body.getReader()}};Af.prototype[Le]=De,se([ke.bind([])],Af.prototype,"vow",null),se([ke.bind([])],Af.prototype,"response",null),se([ke.bind([])],Af.prototype,"body",null),E(Af,g9t,"OPPacket",272);var kk=Af;globalThis.OPPacket=kk;var oDo=Symbol(),Uf=class Uf extends kk{set throws(e){this.throws.$set(e,this,b4e,"throws")}get throws(){return this.throws.$get(this,b4e,"throws")}get throws(){return this[i9t]||y((BM=this.bit(10),p(BM.at,Function)?BM.at(0):BM.at=0,BM),this,b4e,"throws",i9t,Uf.prototype)}set streaming(e){this.streaming.$set(e,this,g4e,"streaming")}get streaming(){return this.streaming.$get(this,g4e,"streaming")}get streaming(){return this[s9t]||y((VM=this.bit(11),p(VM.at,Function)?VM.at(0):VM.at=0,VM),this,g4e,"streaming",s9t,Uf.prototype)}set streamEnd(e){this.streamEnd.$set(e,this,k4e,"streamEnd")}get streamEnd(){return this.streamEnd.$get(this,k4e,"streamEnd")}get streamEnd(){return this[l9t]||y((zM=this.bit(12),p(zM.at,Function)?zM.at(0):zM.at=0,zM),this,k4e,"streamEnd",l9t,Uf.prototype)}set aborting(e){this.aborting.$set(e,this,_4e,"aborting")}get aborting(){return this.aborting.$get(this,_4e,"aborting")}get aborting(){return this[a9t]||y((qM=this.bit(13),p(qM.at,Function)?qM.at(0):qM.at=0,qM),this,_4e,"aborting",a9t,Uf.prototype)}set returning(e){this.returning.$set(e,this,x4e,"returning")}get returning(){return this.returning.$get(this,x4e,"returning")}get returning(){return this[u9t]||y((WM=this.bit(14),p(WM.at,Function)?WM.at(0):WM.at=0,WM),this,x4e,"returning",u9t,Uf.prototype)}set pref(e){this.pref.$set(e,this,v4e,"pref")}get pref(){return this.pref.$get(this,v4e,"pref")}get pref(){return this[c9t]||y((ZM=this.int(),p(ZM.at,Function)?ZM.at(4):ZM.at=4,ZM),this,v4e,"pref",c9t,Uf.prototype)}set value(e){this.value.$set(e,this,w4e,"value")}get value(){return this.value.$get(this,w4e,"value")}get value(){return this[h9t]||y((GM=this.any(),p(GM.at,Function)?GM.at(5):GM.at=5,GM),this,w4e,"value",h9t,Uf.prototype)}$handle(){let e=OP.$packetmap[this.pref],t=e==null?void 0:e.response,r=this.value;if(!e){console.warn("received reply for packet that did not expect a response. await packet.response to receive reply");return}if(this.aborting){e.abortController.abort(),e[eS]&&e[eS].error(r||new OPRemoteAbort("Response aborted by server"));return}if(this.streaming){if(e[eS])return this.streamEnd?e[eS].close():e[eS].enqueue(r)}else return this.throws?t.reject(r):t.resolve(r)}};E(Uf,oDo,"OPPacketReply",0);var tL=Uf;globalThis.OPPacketReply=tL;var nDo=Symbol(),hte=class hte extends tL{set name(e){this.name.$set(e,this,S4e,"name")}get name(){return this.name.$get(this,S4e,"name")}get name(){return this[p9t]||y((YM=this.string(),p(YM.at,Function)?YM.at(6):YM.at=6,YM),this,S4e,"name",p9t,hte.prototype)}$handle(){let e=OP.$packetmap[this.pref];if(e)return e.emit(this.name||"message",this.value,this)}};E(hte,nDo,"OPPortMessage",0);var ute=hte;globalThis.OPPortMessage=ute;var k9t=Symbol(),gk=class gk extends kk{constructor(){super(...arguments),re(this,k9t)}set action(e){this.action.$set(e,this,C4e,"action")}get action(){return this.action.$get(this,C4e,"action")}get action(){return this[d9t]||y((XM=this.ref(OPObject),p(XM.at,Function)?XM.at(4):XM.at=4,XM),this,C4e,"action",d9t,gk.prototype)}set params(e){this.params.$set(e,this,E4e,"params")}get params(){return this.params.$get(this,E4e,"params")}get params(){return this[f9t]||y((KM=this.any(),p(KM.at,Function)?KM.at(5):KM.at=5,KM),this,E4e,"params",f9t,gk.prototype)}send(){return OP.$packetmap[this.ref]=this,super.send(...arguments)}write(e){if(this[P4e]&&console.warn("cannot write more data after end?"),this.aborted){console.warn("trying to write more to aborted call - data = "+e);return}return this.reply(e,{streaming:!0})}get channel(){return new cte({packet:this})}postMessage(e,t={}){let r=ute.new({pref:this.ref,value:e,...t});return this.received?this.sender.$deliver(r):r.send()}end(){if(this[P4e]!=!0&&(this[P4e]=!0,!0))return this.reply(null,{streaming:!0,streamEnd:!0}),this.dispose()}cancel(){return this.sender||this.abort(),this}dispose(){var e,t,r;return this.sender?(r=(t=(e=this.sender)==null?void 0:e.$packets)==null?void 0:t.delete)==null||r.call(t,this.ref):OP.$packetmap[this.ref]==this&&(OP.$packetmap[this.ref]=null),this}abort(e=null,t=!0){if(this[b9t]!=!0&&(this[b9t]=!0,!0)){if(this.abortController.abort(e),this.received){if(!p(e,rL)&&t)return this.reply(e,{aborting:!0})}else if(!this.sender)return rL.new({pref:this.ref}).send(this.$receiver||this.$socket)}}get aborted(){return this.signal.aborted}get abortController(){return new AbortController}get signal(){return this.abortController.signal}$closed(){return this.abort(new OPUnreachableError("Aborted because connection closed"),!1)}async $handle(){let e=this.action;if(!p(e,OPAction))return this.raise(new OPError("Not allowed to call "+e));let t=e.$this,r=e.$field.callback;try{let o=(this.params||[]).slice(0),n;return e.$field.streamable&&o.unshift(this),n=await r.apply(t,o),this.reply(n,{returning:!0})}catch(o){return p(o,OPValidationError)||(console.log("error happened in",e==null?void 0:e.name,e==null?void 0:e.$field),console.log(o)),this.raise(o)}finally{this.dispose()}}};gk.prototype[Le]=De,se([ke.bind([])],gk.prototype,"channel",null),se([ke.bind([])],gk.prototype,"abortController",null),E(gk,k9t,"OPActionCall",280);var T4e=gk;globalThis.OPActionCall=T4e;var iDo=Symbol(),pte=class pte extends kk{set code(e){this.code.$set(e,this,j4e,"code")}get code(){return this.code.$get(this,j4e,"code")}get code(){return this[m9t]||y((JM=this.int(),p(JM.at,Function)?JM.at(4):JM.at=4,JM),this,j4e,"code",m9t,pte.prototype)}$handle(){return!0}};E(pte,iDo,"OPSocketSignal",0);var O4e=pte;globalThis.OPSocketSignal=O4e;var sDo=Symbol(),dte=class dte extends kk{set channels(e){this.channels.$set(e,this,A4e,"channels")}get channels(){return this.channels.$get(this,A4e,"channels")}get channels(){return this[$9t]||y((QM=this.any(),p(QM.at,Function)?QM.at(4):QM.at=4,QM),this,A4e,"channels",$9t,dte.prototype)}};E(dte,sDo,"OPSocketSync",0);var R4e=dte;globalThis.OPSocketSync=R4e;var lDo=Symbol(),fte=class fte extends kk{set pref(e){this.pref.$set(e,this,U4e,"pref")}get pref(){return this.pref.$get(this,U4e,"pref")}get pref(){return this[y9t]||y((eL=this.int(),p(eL.at,Function)?eL.at(4):eL.at=4,eL),this,U4e,"pref",y9t,fte.prototype)}$handle(){}};E(fte,lDo,"OPAbortSignal",0);var rL=fte;globalThis.OPAbortSignal=rL;var _9t=Symbol(),M4e=class M4e{constructor(e=null){this[A](e),re(this,_9t)}[A](e=null,t=!0,r=!0){this.packet=e?e.packet:void 0}emit(e,t,...r){return this.packet.postMessage(t,{name:e})}on(e,t){return yl(this,e,t)}once(e,t){return bl(this,e,t)}un(e,t){return pa(this,e,t)}send_object(e){var t=gt(this);t[Kw]??={wal:new OPWAL,sent:0},t[Kw].wal.write(e);let r=t[Kw].wal.raw;if(r.length>t[Kw].sent){let o=r.slice(t[Kw].sent);return t[Kw].sent=r.size,this.emit("wal",o)}}};E(M4e,_9t,"OPActionChannel",16);var cte=M4e;globalThis.OPActionChannel=cte;T();oe();We();var L4e=Symbol.for("#refs"),x9t=Symbol.for("#rev"),aDo=Symbol.for("#composite"),uDo=Symbol.for("#packed"),cDo=le("&.target",globalThis,l=>l.target),hDo=le("&.actor",globalThis,l=>l.actor),pDo=Symbol(),D4e=class D4e{get sudo(){return!1}};E(D4e,pDo,"OPAdapter",1,OPAdapter);var v9t=D4e,dDo=Symbol(),N4e=class N4e{public(){return this.rx(1),this}$perms(e={}){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],i!=null&&(this["$"+n]|=+i);return this}r(e){return this.$perms({r:e})}w(e){return this.$perms({w:e})}x(e){return this.$perms({x:e})}c(e){return this.$perms({c:e})}d(e){return this.$perms({d:e})}rw(e,t=e){return this.$perms({r:e,w:t})}rx(e,t=e){return this.$perms({r:e,x:t})}wx(e){return this.$perms({w:e,x:e})}cd(e,t=e){return this.$perms({c:e,d:t})}rwx(e,t=e,r=t){return this.$perms({r:e,w:t,x:r})}wc(e,t=e){return this.$perms({w:e,c:t})}cwd(e,t=e,r=t){return this.$perms({w:t,c:e,d:r})}wcd(e,t=e,r=t){return this.$perms({w:e,c:t,d:r})}xcd(e){return this.$perms({x:e,c:e,d:e})}wxcd(e){return this.$perms({w:e,x:e,c:e,d:e})}rwxd(e){return this.$perms({r:e,w:e,x:e,d:e})}rwxcd(e){return this.$perms({r:e,w:e,x:e,c:e,d:e})}};E(N4e,dDo,"OPField",1,OPField);var w9t=N4e,fDo=/^[A-Za-z]+[\d_]/,mDo=Symbol(),I4e=class I4e extends Map{add(e,t=0,r=null){return this.set(e,t,r)}set(e,t=0,r=null){var o;if(typeof e=="string"){if(e[0]==".")return this;if(!fDo.test(e)){let i=(o=r==null?void 0:r.type)==null?void 0:o.id;if(i)e=i+"0"+e;else return this}let n=this.get(e);n!=t&&super.set(e,n|t)}else if(e.constructor==Object)for(let n=0,i=Object.keys(e),s=i.length,a,u;n<s;n++)a=i[n],u=e[a],this.set(a,t,r);else if(p(e,Array))for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n];this.set(a,t,r)}return this}};E(I4e,mDo,"OPRefsMap",8);var mte=I4e;globalThis.OPRefsMap=mte;var $Do=Symbol(),F4e=class F4e{rolesfor(e,t=null){var u,c,h;let r,o=1;if(!e)return o;p(e,OPWorker)&&(o|=536870912),p(e,OPPeer)&&(e==this&&(o|=32),e=e.session||e),e instanceof OPSession&&e.user&&(o|=this.rolesfor(e.user,t)),e==this&&(o|=32);let n=(t||this).$shape,i=n.$readmask,s=(t?t.$data:this.$plain)??{id:this.id},a=e.id;o|=e.$roles|OP.$rolecache.get(a,s.id),i&512&&OP.$rolecache.associated(a,s.id)&&(o|=512);for(let d of B(n.$as)){let f=s[d.name];f&&(f==a||typeof f=="object"&&f[a])&&(o|=d.$granted)}if(e instanceof OPUser){o|=4;for(let d of B(n.$vias)){let f=this[d],m=(u=f==null?void 0:f.rolesfor)==null?void 0:u.call(f,e);for(let[$,b]of B(d.$vias))m&$&&(o|=b)}}if(n.$owner&&(o|=((h=(c=this[n.$owner])==null?void 0:c.rolesfor)==null?void 0:h.call(c,e))||0),r=OP.conditionalroles)for(let d=0,f=B(r),m=f.length;d<m;d++){let $=f[d];$.check(e,this)&&(o|=$)}return this.$up&&(o|=this.$up.rolesfor(e)),o}async sendtosocket(e,t=16,r=1,o=new Set){var n,i,s;if(!o.has(this))try{await this;let a=e.client||e.session,u=this.rolesfor(a),c=this.dehydratefor(u,t);o.add(this);let h=(i=(n=e.client)==null?void 0:n.pov)==null?void 0:i.$$pov;if(h){let d=(s=h==null?void 0:h.$raw)==null?void 0:s[this.id];d&&e.deliver(OPDataResponse.packed(d),!0)}if(r>0&&c[L4e]){let d=[];for(let f=0,m=B(c[L4e]),$=m.length;f<$;f++){let b=m[f],g=OP.get(b);p(g,OPObject)&&!g.$up&&d.push(g.resolved)}await Promise.all(d);for(let f=0,m=B(d),$=m.length;f<$;f++)m[f].sendtosocket(e,t,r-1,o)}return e.deliver(OPDataResponse.packed(c),!0)}catch(a){return console.error("send-to-socket",a)}}dehydratefor(e,t=16,r=null,o=null,n=this.$cloud,i=null){var g;typeof e!="number"&&(e=this.rolesfor(e));let s=n,a=r?null:this.$memo,u=this.$shape.$common.$fields;s||this.local&&e&32&&(s=this.$plain);let c=!r&&s&&s._rev;if(!r&&!s)return{id:this.id,_rev:-1};if(!r&&!(e&this.$r))return{id:this.id,_rev:c,_:-1};a&&(e=e&u.$readmask);let h=(t&16)==0,d=a&&""+e+":"+t,f=a&&a[d];if(f&&f[x9t]==c)return f;if(!s)return;o||=new mte,f=r?{}:{id:this.id,_rev:c,_:e<<1},i=i||f;let m=!1,b=this.$f&134217728?this.$rich[aDo]:null;for(let x=0,k=Object.keys(s),_=k.length,S,v;x<_;x++){if(S=k[x],v=s[S],S=="_"||v==null||f[S]!=null)continue;let C=u[S]||(u.__any__?u.$sub(S):null);if(!C||C.hidden)continue;let j=C.$r;if(j&&!(j&e))continue;if(h&&C.lazy&&!C.ref&&S!="id"){i._|=1,f[S]=65536;continue}let P=v;if(v&&C.encrypted&&(v=OP.crypto.decrypt(v)),C.embedded){let U=this[S];v=U!=null&&U.dehydratefor?U.dehydratefor(e,t,f,o,v,i):v}v!=null&&(v&&C.ref&&!C.enum&&(!h||!C.lazy)&&!((g=C==null?void 0:C.reftype)!=null&&g.virtual)&&o.add(v,C.$f,C),!(b&&b[S]!==void 0&&S!="id")&&(f[S]=v))}return!r&&o.size&&(f[L4e]=o),r?f:(f[x9t]=c,f[uDo]=null,a[d]=f)}};E(F4e,$Do,"OPObject",1,OPObject);var S9t=F4e,C9t=Symbol(),Ic=class Ic{constructor(){re(this,C9t)}get $r(){return this.filter(function(e){return e.name!="id"&&e.$r!=null},null)}get $w(){return this.filter(function(e){return e.name!="id"&&e.$w!=null},null)}get $writable(){return this.filter(function(e){return!e.hidden&&!e.virtual})}get $as(){return this.filter(function(e){return e.$granted})}get $vias(){return this.filter(function(e){return e.$vias})}get $grantmask(){let e=0;for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];e|=n.$granted||0}return e}get $grants(){return this.filter(function(e){return e.grants||e.grants},null)}get $target(){return this.find(cDo)}get $actor(){return this.find(hDo)}};Ic.prototype[Le]=De,se([ke.bind([])],Ic.prototype,"$r",null),se([ke.bind([])],Ic.prototype,"$w",null),se([ke.bind([])],Ic.prototype,"$writable",null),se([ke.bind([])],Ic.prototype,"$as",null),se([ke.bind([])],Ic.prototype,"$vias",null),se([ke.bind([])],Ic.prototype,"$grantmask",null),se([ke.bind([])],Ic.prototype,"$grants",null),se([ke.bind([])],Ic.prototype,"$target",null),se([ke.bind([])],Ic.prototype,"$actor",null),E(Ic,C9t,"OPShape",273,OPShape);var E9t=Ic;T();T();T();oe();var yDo=Symbol(),B4e=class B4e{static init(){return!0}static captureException(e){}static capture(e){}static sendfeedback(e){}static identify(e){}static reset(){return!0}};E(B4e,yDo,"OPAnalytics",0);var H4e=B4e;globalThis.OPAnalytics=H4e;T();oe();var V4e=Symbol("id"),j9t=Symbol(),_k,bDo=Symbol(),oL=class oL extends OPObject{set id(e){this.id.$set(e,this,V4e,"id")}get id(){return this.id.$get(this,V4e,"id")}get id(){return this[j9t]||y((_k=this.key(),p(_k.system,Function)?_k.system():_k.system=!0,p(_k.public,Function)?_k.public():_k.public=!0,_k),this,V4e,"id",j9t,oL.prototype)}};oL.alias="APP",E(oL,bDo,"OPApp",0);var z4e=oL;globalThis.OPApp=z4e;T();oe();var A9t=new Map;var U9t=Symbol(),yte=class yte extends OPBase{static[Symbol.hasInstance](e){return e&&(e.prototype instanceof OPObject||e.prototype instanceof OPMixin)||e===OPObject}static for(e){let t=A9t.get(e);return t||A9t.set(e,t=new yte(e)),t}static get(e){return OPObject.get(e)}constructor(e){super(),this.value=e,re(this,U9t)}get name(){return this.value.name}get table(){return this.value.table}get $shape(){return this.value.$shape}static serialize(e,t){return[e.id]}static deserialize(e,t){return OPObjectRegistry[e[0]]}};E(yte,U9t,"OPType",16);var $te=yte;globalThis.OPType=$te;Dc($te);T();oe();var gDo=Symbol(),W4e=class W4e extends OPMixin{get $suroles(){let e=this.$rolemap;return((e&&e.$system)??0)|1}get $roles(){return this.$suroles}};E(W4e,gDo,"OPAgent",1024);var q4e=W4e;globalThis.OPAgent=q4e;T();oe();var Z4e=Symbol("id"),P9t=Symbol(),nL,kDo=Symbol(),bte=class bte extends OPObject{set id(e){this.id.$set(e,this,Z4e,"id")}get id(){return this.id.$get(this,Z4e,"id")}get id(){return this[P9t]||y((nL=this.key(),p(nL.r,Function)?nL.r(OPADMIN|OPOWNER):nL.r=OPADMIN|OPOWNER,nL),this,Z4e,"id",P9t,bte.prototype)}get length(){return this.id.length}match(e){return this.id.match(e)}get alias(){return this.id.split("@")[0]}get value(){return this.id}toString(){return this.value}toJSON(){return this.value}};E(bte,kDo,"OPEmail",0);var G4e=bte;globalThis.OPEmail=G4e;T();oe();T();T();var lL=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(l,e,t,r,o,n){this.type=l,this.name=e,this.prefix=t,this.value=r,this.suffix=o,this.modifier=n}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},_Do=/[$_\p{ID_Start}]/u,xDo=/[$_\u200C\u200D\p{ID_Continue}]/u,X4e=".*";function vDo(l,e){return(e?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(l)}function R9t(l,e=!1){let t=[],r=0;for(;r<l.length;){let o=l[r],n=function(i){if(!e)throw new TypeError(i);t.push({type:"INVALID_CHAR",index:r,value:l[r++]})};if(o==="*"){t.push({type:"ASTERISK",index:r,value:l[r++]});continue}if(o==="+"||o==="?"){t.push({type:"OTHER_MODIFIER",index:r,value:l[r++]});continue}if(o==="\\"){t.push({type:"ESCAPED_CHAR",index:r++,value:l[r++]});continue}if(o==="{"){t.push({type:"OPEN",index:r,value:l[r++]});continue}if(o==="}"){t.push({type:"CLOSE",index:r,value:l[r++]});continue}if(o===":"){let i="",s=r+1;for(;s<l.length;){let a=l.substr(s,1);if(s===r+1&&_Do.test(a)||s!==r+1&&xDo.test(a)){i+=l[s++];continue}break}if(!i){n(`Missing parameter name at ${r}`);continue}t.push({type:"NAME",index:r,value:i}),r=s;continue}if(o==="("){let i=1,s="",a=r+1,u=!1;if(l[a]==="?"){n(`Pattern cannot start with "?" at ${a}`);continue}for(;a<l.length;){if(!vDo(l[a],!1)){n(`Invalid character '${l[a]}' at ${a}.`),u=!0;break}if(l[a]==="\\"){s+=l[a++]+l[a++];continue}if(l[a]===")"){if(i--,i===0){a++;break}}else if(l[a]==="("&&(i++,l[a+1]!=="?")){n(`Capturing groups are not allowed at ${a}`),u=!0;break}s+=l[a++]}if(u)continue;if(i){n(`Unbalanced pattern at ${r}`);continue}if(!s){n(`Missing pattern at ${r}`);continue}t.push({type:"REGEX",index:r,value:s}),r=a;continue}t.push({type:"CHAR",index:r,value:l[r++]})}return t.push({type:"END",index:r,value:""}),t}function M9t(l,e={}){let t=R9t(l);e.delimiter??="/#?",e.prefixes??="./";let r=`[^${Sh(e.delimiter)}]+?`,o=[],n=0,i=0,s="",a=new Set,u=k=>{if(i<t.length&&t[i].type===k)return t[i++].value},c=()=>u("OTHER_MODIFIER")??u("ASTERISK"),h=k=>{let _=u(k);if(_!==void 0)return _;let{type:S,index:v}=t[i];throw new TypeError(`Unexpected ${S} at ${v}, expected ${k}`)},d=()=>{let k="",_;for(;_=u("CHAR")??u("ESCAPED_CHAR");)k+=_;return k},f=k=>k,m=e.encodePart||f,$="",b=k=>{$+=k},g=()=>{$.length&&(o.push(new lL(3,"","",m($),"",3)),$="")},x=(k,_,S,v,C)=>{let j=3;switch(C){case"?":j=1;break;case"*":j=0;break;case"+":j=2;break}if(!_&&!S&&j===3){b(k);return}if(g(),!_&&!S){if(!k)return;o.push(new lL(3,"","",m(k),"",j));return}let P;S?S==="*"?P=X4e:P=S:P=r;let U=2;P===r?(U=1,P=""):P===X4e&&(U=0,P="");let O;if(_?O=_:S&&(O=n++),a.has(O))throw new TypeError(`Duplicate name '${O}'.`);a.add(O),o.push(new lL(U,O,m(k),P,m(v),j))};for(;i<t.length;){let k=u("CHAR"),_=u("NAME"),S=u("REGEX");if(!_&&!S&&(S=u("ASTERISK")),_||S){let C=k??"";e.prefixes.indexOf(C)===-1&&(b(C),C=""),g();let j=c();x(C,_,S,"",j);continue}let v=k??u("ESCAPED_CHAR");if(v){b(v);continue}if(u("OPEN")){let C=d(),j=u("NAME"),P=u("REGEX");!j&&!P&&(P=u("ASTERISK"));let U=d();h("CLOSE");let O=c();x(C,j,P,U,O);continue}g(),h("END")}return o}function Sh(l){return l.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function T9t(l){return l&&l.ignoreCase?"ui":"u"}function wDo(l,e,t){return L9t(M9t(l,t),e,t)}function tS(l){switch(l){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function L9t(l,e,t={}){t.delimiter??="/#?",t.prefixes??="./",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith="";let r=t.start?"^":"";for(let s of l){if(s.type===3){s.modifier===3?r+=Sh(s.value):r+=`(?:${Sh(s.value)})${tS(s.modifier)}`;continue}e&&e.push(s.name);let a=`[^${Sh(t.delimiter)}]+?`,u=s.value;if(s.type===1?u=a:s.type===0&&(u=X4e),!s.prefix.length&&!s.suffix.length){s.modifier===3||s.modifier===1?r+=`(${u})${tS(s.modifier)}`:r+=`((?:${u})${tS(s.modifier)})`;continue}if(s.modifier===3||s.modifier===1){r+=`(?:${Sh(s.prefix)}(${u})${Sh(s.suffix)})`,r+=tS(s.modifier);continue}r+=`(?:${Sh(s.prefix)}`,r+=`((?:${u})(?:`,r+=Sh(s.suffix),r+=Sh(s.prefix),r+=`(?:${u}))*)${Sh(s.suffix)})`,s.modifier===0&&(r+="?")}let o=`[${Sh(t.endsWith)}]|$`,n=`[${Sh(t.delimiter)}]`;if(t.end)return t.strict||(r+=`${n}?`),t.endsWith.length?r+=`(?=${o})`:r+="$",new RegExp(r,T9t(t));t.strict||(r+=`(?:${n}(?=${o}))?`);let i=!1;if(l.length){let s=l[l.length-1];s.type===3&&s.modifier===3&&(i=t.delimiter.indexOf(s)>-1)}return i||(r+=`(?=${n}|${o})`),new RegExp(r,T9t(t))}var vk={delimiter:"",prefixes:"",sensitive:!0,strict:!0},SDo={delimiter:".",prefixes:"",sensitive:!0,strict:!0},CDo={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function EDo(l,e){return l.length?l[0]==="/"?!0:!e||l.length<2?!1:(l[0]=="\\"||l[0]=="{")&&l[1]=="/":!1}function D9t(l,e){return l.startsWith(e)?l.substring(e.length,l.length):l}function jDo(l,e){return l.endsWith(e)?l.substr(0,l.length-e.length):l}function N9t(l){return!l||l.length<2?!1:l[0]==="["||(l[0]==="\\"||l[0]==="{")&&l[1]==="["}var I9t=["ftp","file","http","https","ws","wss"];function F9t(l){if(!l)return!0;for(let e of I9t)if(l.test(e))return!0;return!1}function ADo(l,e){if(l=D9t(l,"#"),e||l==="")return l;let t=new URL("https://example.com");return t.hash=l,t.hash?t.hash.substring(1,t.hash.length):""}function UDo(l,e){if(l=D9t(l,"?"),e||l==="")return l;let t=new URL("https://example.com");return t.search=l,t.search?t.search.substring(1,t.search.length):""}function PDo(l,e){return e||l===""?l:N9t(l)?V9t(l):B9t(l)}function TDo(l,e){if(e||l==="")return l;let t=new URL("https://example.com");return t.password=l,t.password}function ODo(l,e){if(e||l==="")return l;let t=new URL("https://example.com");return t.username=l,t.username}function RDo(l,e,t){if(t||l==="")return l;if(e&&!I9t.includes(e))return new URL(`${e}:${l}`).pathname;let r=l[0]=="/";return l=new URL(r?l:"/-"+l,"https://example.com").pathname,r||(l=l.substring(2,l.length)),l}function MDo(l,e,t){return H9t(e)===l&&(l=""),t||l===""?l:z9t(l)}function LDo(l,e){return l=jDo(l,":"),e||l===""?l:K4e(l)}function H9t(l){switch(l){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function K4e(l){if(l==="")return l;if(/^[-+.A-Za-z0-9]*$/.test(l))return l.toLowerCase();throw new TypeError(`Invalid protocol '${l}'.`)}function DDo(l){if(l==="")return l;let e=new URL("https://example.com");return e.username=l,e.username}function NDo(l){if(l==="")return l;let e=new URL("https://example.com");return e.password=l,e.password}function B9t(l){if(l==="")return l;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(l))throw new TypeError(`Invalid hostname '${l}'`);let e=new URL("https://example.com");return e.hostname=l,e.hostname}function V9t(l){if(l==="")return l;if(/[^0-9a-fA-F[\]:]/g.test(l))throw new TypeError(`Invalid IPv6 hostname '${l}'`);return l.toLowerCase()}function z9t(l){if(l===""||/^[0-9]*$/.test(l)&&parseInt(l)<=65535)return l;throw new TypeError(`Invalid port '${l}'.`)}function IDo(l){if(l==="")return l;let e=new URL("https://example.com");return e.pathname=l[0]!=="/"?"/-"+l:l,l[0]!=="/"?e.pathname.substring(2,e.pathname.length):e.pathname}function FDo(l){return l===""?l:new URL(`data:${l}`).pathname}function HDo(l){if(l==="")return l;let e=new URL("https://example.com");return e.search=l,e.search.substring(1,e.search.length)}function BDo(l){if(l==="")return l;let e=new URL("https://example.com");return e.hash=l,e.hash.substring(1,e.hash.length)}var VDo=class{#i;#o=[];#t={};#e=0;#n=1;#u=0;#l=0;#d=0;#f=0;#m=!1;constructor(l){this.#i=l}get result(){return this.#t}parse(){for(this.#o=R9t(this.#i,!0);this.#e<this.#o.length;this.#e+=this.#n){if(this.#n=1,this.#o[this.#e].type==="END"){if(this.#l===0){this.#g(),this.#c()?this.#r(9,1):this.#h()?this.#r(8,1):this.#r(7,0);continue}else if(this.#l===2){this.#p(5);continue}this.#r(10,0);break}if(this.#d>0)if(this.#C())this.#d-=1;else continue;if(this.#S()){this.#d+=1;continue}switch(this.#l){case 0:this.#k()&&this.#p(1);break;case 1:if(this.#k()){this.#A();let l=7,e=1;this.#x()?(l=2,e=3):this.#m&&(l=2),this.#r(l,e)}break;case 2:this.#y()?this.#p(3):(this.#b()||this.#h()||this.#c())&&this.#p(5);break;case 3:this.#v()?this.#r(4,1):this.#y()&&this.#r(5,1);break;case 4:this.#y()&&this.#r(5,1);break;case 5:this.#E()?this.#f+=1:this.#j()&&(this.#f-=1),this.#w()&&!this.#f?this.#r(6,1):this.#b()?this.#r(7,0):this.#h()?this.#r(8,1):this.#c()&&this.#r(9,1);break;case 6:this.#b()?this.#r(7,0):this.#h()?this.#r(8,1):this.#c()&&this.#r(9,1);break;case 7:this.#h()?this.#r(8,1):this.#c()&&this.#r(9,1);break;case 8:this.#c()&&this.#r(9,1);break;case 9:break;case 10:break}}this.#t.hostname!==void 0&&this.#t.port===void 0&&(this.#t.port="")}#r(l,e){switch(this.#l){case 0:break;case 1:this.#t.protocol=this.#a();break;case 2:break;case 3:this.#t.username=this.#a();break;case 4:this.#t.password=this.#a();break;case 5:this.#t.hostname=this.#a();break;case 6:this.#t.port=this.#a();break;case 7:this.#t.pathname=this.#a();break;case 8:this.#t.search=this.#a();break;case 9:this.#t.hash=this.#a();break;case 10:break}this.#l!==0&&l!==10&&([1,2,3,4].includes(this.#l)&&[6,7,8,9].includes(l)&&(this.#t.hostname??=""),[1,2,3,4,5,6].includes(this.#l)&&[8,9].includes(l)&&(this.#t.pathname??=this.#m?"/":""),[1,2,3,4,5,6,7].includes(this.#l)&&l===9&&(this.#t.search??="")),this.#_(l,e)}#_(l,e){this.#l=l,this.#u=this.#e+e,this.#e+=e,this.#n=0}#g(){this.#e=this.#u,this.#n=0}#p(l){this.#g(),this.#l=l}#$(l){return l<0&&(l=this.#o.length-l),l<this.#o.length?this.#o[l]:this.#o[this.#o.length-1]}#s(l,e){let t=this.#$(l);return t.value===e&&(t.type==="CHAR"||t.type==="ESCAPED_CHAR"||t.type==="INVALID_CHAR")}#k(){return this.#s(this.#e,":")}#x(){return this.#s(this.#e+1,"/")&&this.#s(this.#e+2,"/")}#y(){return this.#s(this.#e,"@")}#v(){return this.#s(this.#e,":")}#w(){return this.#s(this.#e,":")}#b(){return this.#s(this.#e,"/")}#h(){if(this.#s(this.#e,"?"))return!0;if(this.#o[this.#e].value!=="?")return!1;let l=this.#$(this.#e-1);return l.type!=="NAME"&&l.type!=="REGEX"&&l.type!=="CLOSE"&&l.type!=="ASTERISK"}#c(){return this.#s(this.#e,"#")}#S(){return this.#o[this.#e].type=="OPEN"}#C(){return this.#o[this.#e].type=="CLOSE"}#E(){return this.#s(this.#e,"[")}#j(){return this.#s(this.#e,"]")}#a(){let l=this.#o[this.#e],e=this.#$(this.#u).index;return this.#i.substring(e,l.index)}#A(){let l={};Object.assign(l,vk),l.encodePart=K4e;let e=wDo(this.#a(),void 0,l);this.#m=F9t(e)}},Y4e=["protocol","username","password","hostname","port","pathname","search","hash"],xk="*";function O9t(l,e){if(typeof l!="string")throw new TypeError("parameter 1 is not of type 'string'.");let t=new URL(l,e);return{protocol:t.protocol.substring(0,t.protocol.length-1),username:t.username,password:t.password,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search!==""?t.search.substring(1,t.search.length):void 0,hash:t.hash!==""?t.hash.substring(1,t.hash.length):void 0}}function Z2(l,e){return e?sL(l):l}function iL(l,e,t){let r;if(typeof e.baseURL=="string")try{r=new URL(e.baseURL),e.protocol===void 0&&(l.protocol=Z2(r.protocol.substring(0,r.protocol.length-1),t)),!t&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&(l.username=Z2(r.username,t)),!t&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&e.password===void 0&&(l.password=Z2(r.password,t)),e.protocol===void 0&&e.hostname===void 0&&(l.hostname=Z2(r.hostname,t)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&(l.port=Z2(r.port,t)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&(l.pathname=Z2(r.pathname,t)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&(l.search=Z2(r.search.substring(1,r.search.length),t)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&e.hash===void 0&&(l.hash=Z2(r.hash.substring(1,r.hash.length),t))}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if(typeof e.protocol=="string"&&(l.protocol=LDo(e.protocol,t)),typeof e.username=="string"&&(l.username=ODo(e.username,t)),typeof e.password=="string"&&(l.password=TDo(e.password,t)),typeof e.hostname=="string"&&(l.hostname=PDo(e.hostname,t)),typeof e.port=="string"&&(l.port=MDo(e.port,l.protocol,t)),typeof e.pathname=="string"){if(l.pathname=e.pathname,r&&!EDo(l.pathname,t)){let o=r.pathname.lastIndexOf("/");o>=0&&(l.pathname=Z2(r.pathname.substring(0,o+1),t)+l.pathname)}l.pathname=RDo(l.pathname,l.protocol,t)}return typeof e.search=="string"&&(l.search=UDo(e.search,t)),typeof e.hash=="string"&&(l.hash=ADo(e.hash,t)),l}function sL(l){return l.replace(/([+*?:{}()\\])/g,"\\$1")}function zDo(l){return l.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function qDo(l,e){e.delimiter??="/#?",e.prefixes??="./",e.sensitive??=!1,e.strict??=!1,e.end??=!0,e.start??=!0,e.endsWith="";let t=".*",r=`[^${zDo(e.delimiter)}]+?`,o=/[$_\u200C\u200D\p{ID_Continue}]/u,n="";for(let i=0;i<l.length;++i){let s=l[i];if(s.type===3){if(s.modifier===3){n+=sL(s.value);continue}n+=`{${sL(s.value)}}${tS(s.modifier)}`;continue}let a=s.hasCustomName(),u=!!s.suffix.length||!!s.prefix.length&&(s.prefix.length!==1||!e.prefixes.includes(s.prefix)),c=i>0?l[i-1]:null,h=i<l.length-1?l[i+1]:null;if(!u&&a&&s.type===1&&s.modifier===3&&h&&!h.prefix.length&&!h.suffix.length)if(h.type===3){let d=h.value.length>0?h.value[0]:"";u=o.test(d)}else u=!h.hasCustomName();if(!u&&!s.prefix.length&&c&&c.type===3){let d=c.value[c.value.length-1];u=e.prefixes.includes(d)}u&&(n+="{"),n+=sL(s.prefix),a&&(n+=`:${s.name}`),s.type===2?n+=`(${s.value})`:s.type===1?a||(n+=`(${r})`):s.type===0&&(!a&&(!c||c.type===3||c.modifier!==3||u||s.prefix!=="")?n+="*":n+=`(${t})`),s.type===1&&a&&s.suffix.length&&o.test(s.suffix[0])&&(n+="\\"),n+=sL(s.suffix),u&&(n+="}"),s.modifier!==3&&(n+=tS(s.modifier))}return n}var aL=class{#i;#o={};#t={};#e={};#n={};#u=!1;constructor(l={},e,t){try{let r;if(typeof e=="string"?r=e:t=e,typeof l=="string"){let s=new VDo(l);if(s.parse(),l=s.result,r===void 0&&typeof l.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");l.baseURL=r}else{if(!l||typeof l!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(r)throw new TypeError("parameter 1 is not of type 'string'.")}typeof t>"u"&&(t={ignoreCase:!1});let o={ignoreCase:t.ignoreCase===!0},n={pathname:xk,protocol:xk,username:xk,password:xk,hostname:xk,port:xk,search:xk,hash:xk};this.#i=iL(n,l,!0),H9t(this.#i.protocol)===this.#i.port&&(this.#i.port="");let i;for(i of Y4e){if(!(i in this.#i))continue;let s={},a=this.#i[i];switch(this.#t[i]=[],i){case"protocol":Object.assign(s,vk),s.encodePart=K4e;break;case"username":Object.assign(s,vk),s.encodePart=DDo;break;case"password":Object.assign(s,vk),s.encodePart=NDo;break;case"hostname":Object.assign(s,SDo),N9t(a)?s.encodePart=V9t:s.encodePart=B9t;break;case"port":Object.assign(s,vk),s.encodePart=z9t;break;case"pathname":F9t(this.#o.protocol)?(Object.assign(s,CDo,o),s.encodePart=IDo):(Object.assign(s,vk,o),s.encodePart=FDo);break;case"search":Object.assign(s,vk,o),s.encodePart=HDo;break;case"hash":Object.assign(s,vk,o),s.encodePart=BDo;break}try{this.#n[i]=M9t(a,s),this.#o[i]=L9t(this.#n[i],this.#t[i],s),this.#e[i]=qDo(this.#n[i],s),this.#u=this.#u||this.#n[i].some(u=>u.type===2)}catch{throw new TypeError(`invalid ${i} pattern '${this.#i[i]}'.`)}}}catch(r){throw new TypeError(`Failed to construct 'URLPattern': ${r.message}`)}}test(l={},e){let t={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof l!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof l>"u")return!1;try{typeof l=="object"?t=iL(t,l,!1):t=iL(t,O9t(l,e),!1)}catch{return!1}let r;for(r of Y4e)if(!this.#o[r].exec(t[r]))return!1;return!0}exec(l={},e){let t={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof l!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof l>"u")return;try{typeof l=="object"?t=iL(t,l,!1):t=iL(t,O9t(l,e),!1)}catch{return null}let r={};e?r.inputs=[l,e]:r.inputs=[l];let o;for(o of Y4e){let n=this.#o[o].exec(t[o]);if(!n)return null;let i={};for(let[s,a]of this.#t[o].entries())if(typeof a=="string"||typeof a=="number"){let u=n[s+1];i[a]=u}r[o]={input:t[o]??"",groups:i}}return r}static compareComponent(l,e,t){let r=(s,a)=>{for(let u of["type","modifier","prefix","value","suffix"]){if(s[u]<a[u])return-1;if(s[u]!==a[u])return 1}return 0},o=new lL(3,"","","","",3),n=new lL(0,"","","","",3),i=(s,a)=>{let u=0;for(;u<Math.min(s.length,a.length);++u){let c=r(s[u],a[u]);if(c)return c}return s.length===a.length?0:r(s[u]??o,a[u]??o)};return!e.#e[l]&&!t.#e[l]?0:e.#e[l]&&!t.#e[l]?i(e.#n[l],[n]):!e.#e[l]&&t.#e[l]?i([n],t.#n[l]):i(e.#n[l],t.#n[l])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#u}};globalThis.URLPattern||(globalThis.URLPattern=aL);We();var J4e=Symbol("id"),q9t=Symbol(),wk,W9t=Symbol.for("#built"),gte=Symbol.for("#type"),Z9t=Symbol(),B1=class B1 extends OPObject{constructor(){super(...arguments),re(this,Z9t)}set id(e){this.id.$set(e,this,J4e,"id")}get id(){return this.id.$get(this,J4e,"id")}get id(){return this[q9t]||y((wk=this.key(),p(wk.r,Function)?wk.r(OPOWNER):wk.r=OPOWNER,p(wk.virtual,Function)?wk.virtual():wk.virtual=!0,wk),this,J4e,"id",q9t,B1.prototype)}static test(e,t){var o;t=new aL(t,{ignoreCase:!0});let r=t.exec(e);return(o=r==null?void 0:r.pathname)==null?void 0:o.groups}static get(e,t=null){let r=this;if(r!=B1){let i=B1.get(e,t);return p(i,this)?i:null}let o=this.types.$memo.routes||=[];if(o[W9t]!=!0&&(o[W9t]=!0,!0)){for(let i of B(this.types))if(i.patterns)for(let s=0,a=B(i.patterns),u=a.length;s<u;s++){let c=a[s];typeof c=="string"&&(c=i.patterns[s]=new aL(c,{ignoreCase:!0})),c[gte]=i,o.unshift(c)}}let n=OP.getrich(e,this);if(!n){let i=(()=>{try{return new URL(e,OP.origin)}catch(a){return a}})(),s={id:e};for(let a=0,u=B(o),c=u.length,h;a<c;a++){let d=u[a],f=d[gte];if(h=d.exec(e)){for(let m=0,$=Object.keys(h),b=$.length,g,x;m<b;m++)if(g=$[m],x=h[g],x.groups)for(let k=x.groups,_=0,S=Object.keys(k),v=S.length,C,j;_<v;_++){C=S[_],j=k[C];let P=d[gte].$shape[C];p(P,OPNumberField)&&(j.num||console.warn("wrong value type in url "+e),j=parseFloat(j)),C!="0"&&(s[C]=j)}for(let m of B(f.$shape)){if(!m.qs)continue;let $=i.searchParams.get(m.name);$&&p(m,OPNumberField)&&($=parseFloat($)),$!=null&&(s[m]=$)}n=d[gte].construct(s)}}n||(r=e.indexOf(OP.origin+"/")==0?_te:B1,n=r.construct(s))}return n}get URL(){return new URL(this.id)}get pathname(){return this.URL.pathname}get origin(){return this.URL.origin}get base(){return this.id.includes("?")||this.id.includes("#")?B1.get(this.origin+this.pathname):this}toString(){return this.id}static pick(e){let t=globalThis.prompt("Url:");return t?this.get(t):null}};B1.prototype[Le]=De,se([ke.bind([])],B1.prototype,"URL",null),se([ke.bind([])],B1.prototype,"base",null),E(B1,Z9t,"OPUrl",272);var kte=B1;globalThis.OPUrl=kte;var WDo=Symbol(),Q4e=class Q4e extends kte{get object(){return OP.get(this.pathname.slice(1))}opownref(e,t){return this.object.opownref(this,t)}};E(Q4e,WDo,"OPObjectUrl",0);var _te=Q4e;globalThis.OPObjectUrl=_te;T();oe();We();var n5e=Symbol.for("#has"),xte=Symbol(),ZDo=Symbol(),i5e=class i5e{get year(){return OP.get(this.id.slice(0,4))}get date(){return!0}contains(e){return!0}};E(i5e,ZDo,"OPTimeInterval",1024);var Ck=i5e;globalThis.OPTimeInterval=Ck;var vte=Symbol(),Sk=class Sk extends Qe(vte,OPObject,Ck){constructor(){super(...arguments),super[A]||this[A](),re(this,vte)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[vte])==null||o.call(this,...arguments)}get year(){return this}get prev(){return OP.get(String(parseInt(this.id)-1))}get next(){return OP.get(String(parseInt(this.id)+1))}get start(){return oS.get(this.id+"-01-01")}get end(){return this.next.start.prev}};Sk.prototype[Le]=De,se([ke.bind([])],Sk.prototype,"prev",null),se([ke.bind([])],Sk.prototype,"next",null),se([ke.bind([])],Sk.prototype,"start",null),se([ke.bind([])],Sk.prototype,"end",null),E(Sk,vte,"OPYear",336);var e5e=Sk;globalThis.OPYear=e5e;var wte=Symbol(),rS=class rS extends Qe(wte,OPObject,Ck){constructor(){super(...arguments),super[A]||this[A](),re(this,wte)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[wte])==null||o.call(this,...arguments)}get _y(){return parseInt(this.id.split("-Q")[0])}get _q(){return parseInt(this.id.split("-Q")[1])}get prev(){let e=this._y,t=this._q;return t==1?(e--,t=4):t--,OP.get((""+e).padStart(4,"0")+"-Q"+t)}get next(){let e=this._y,t=this._q;return t==4?(e++,t=1):t++,OP.get((""+e).padStart(4,"0")+"-Q"+t)}get start(){let e=new Date(Date.UTC(this._y,(this._q-1)*3,1));return oS.get(e.toISOString().slice(0,10))}get end(){return this.next.start.prev}};rS.prototype[Le]=De,se([ke.bind([])],rS.prototype,"_y",null),se([ke.bind([])],rS.prototype,"_q",null),E(rS,wte,"OPQuarter",336);var t5e=rS;globalThis.OPQuarter=t5e;var Ste=Symbol(),Ch=class Ch extends Qe(Ste,OPObject,Ck){constructor(){super(...arguments),super[A]||this[A](),re(this,Ste)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Ste])==null||o.call(this,...arguments)}get _y(){return parseInt(this.id.slice(0,4))}get _m(){return parseInt(this.id.slice(5))}rel(e=0){let t=this._y,r=this._m+e;for(;r<1;)r+=12,t--;for(;r>12;)r-=12,t++;return OP.get(""+t+"-"+String(r).padStart(2,"0"))}get start(){return oS.get(this.id+"-01")}get prev(){return this.start.prev.month}get next(){return this.start.rel(35).month}get end(){return this.next.start.prev}get days(){let e=OPChildrenIndex.forobject(this),t=this.start;for(;t&&t.month==this;)e.add(t),t=t.next;return e}get quarter(){let e=parseInt(this.id.slice(5))-1;return OP.get(this.id.slice(0,5)+("Q"+(1+Math.floor(e/3))))}[n5e](e){return e>=this.start&&this.end.end>=e}[Symbol.toPrimitive](e){return e=="number"?+this.start:this.id}};Ch.prototype[Le]=De,se([ke.bind([])],Ch.prototype,"_y",null),se([ke.bind([])],Ch.prototype,"_m",null),se([ke.bind([])],Ch.prototype,"start",null),se([ke.bind([])],Ch.prototype,"prev",null),se([ke.bind([])],Ch.prototype,"next",null),se([ke.bind([])],Ch.prototype,"end",null),se([ke.bind([])],Ch.prototype,"days",null),se([ke.bind([])],Ch.prototype,"quarter",null),E(Ch,Ste,"OPMonth",336);var r5e=Ch;globalThis.OPMonth=r5e;var Cte=Symbol(),G2=class G2 extends Qe(Cte,OPObject,Ck){constructor(){super(...arguments),super[A]||this[A](),re(this,Cte)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Cte])==null||o.call(this,...arguments)}get _y(){return parseInt(this.id.slice(0,4))}get _w(){return parseInt(this.id.slice(6))}get month(){return!0}get quarter(){return this.month.quarter}rel(e=0){let t=this._y,r=this._w+e;for(;r<1;)r+=52,t--;for(;r>52;)r-=52,t++;return OP.get(""+t+"-W"+String(r).padStart(2,"0"))}get prev(){let e=this._y,t=this._w-1;return t==0&&(t=52,e--),OP.get(""+e+"-W"+String(t).padStart(2,"0"))}get next(){let e=this._y,t=this._w+1;return t==53&&(t=1,e++),OP.get(""+e+"-W"+String(t).padStart(2,"0"))}get year(){return OP.get(this.id.slice(0,4))}get start(){let e=new Date(Date.UTC(this._y,0,1+(this._w-1)*7));return e.getUTCDay()<=4?e.setUTCDate(e.getUTCDate()-e.getUTCDay()+1):e.setUTCDate(e.getUTCDate()+8-e.getUTCDay()),e.opday}get end(){return this.next.start.prev}[n5e](e){return e>=this.start&&this.end.end>=e}[Symbol.toPrimitive](e){return e=="number"?+this.start:this.id}};G2.prototype[Le]=De,se([ke.bind([])],G2.prototype,"_y",null),se([ke.bind([])],G2.prototype,"_w",null),se([ke.bind([])],G2.prototype,"year",null),se([ke.bind([])],G2.prototype,"start",null),se([ke.bind([])],G2.prototype,"end",null),E(G2,Cte,"OPWeek",336);var o5e=G2;globalThis.OPWeek=o5e;var Ete=Symbol(),ka=class ka extends Qe(Ete,OPObject,Ck){constructor(){super(...arguments),super[A]||this[A](),re(this,Ete)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Ete])==null||o.call(this,...arguments)}static get today(){return new Date().opday}get _week(){let e=new Date(this.id);e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));let t=new Date(Date.UTC(e.getUTCFullYear(),0,1)),r=Math.ceil(((e-t)/864e5+1)/7);return""+e.getUTCFullYear()+"-W"+String(r).padStart(2,"0")}get week(){return OP.get(this._week)}get month(){return OP.get(this.id.slice(0,7))}get year(){return OP.get(this.id.slice(0,4))}get today(){return ka.today==this}get future(){return+this>+ka.today}get dow(){return this.date.getUTCDay()}rel(e=0){let t=new Date(this.id);return t.setUTCDate(t.getUTCDate()+e),ka.get(t.toISOString().slice(0,10))}until(e){var t=gt(this);if(t[xte]??=new Map,!t[xte].has(e)){let r=this,o=[];if(+this>+e)throw new Error("Negative OPDay.until(other)");for(;r&&(o.push(r),r!=e);)r=r.next;t[xte].set(e,o)}return t[xte].get(e)}get prev(){return this.rel(-1)}get next(){return this.rel(1)}get date(){return new Date(this.id)}get start(){return this.date}get end(){return new Date(this.date.getTime()+86400*1e3-1)}[n5e](e){return e>=this.start&&this.end>=e}get quarter(){return this.month.quarter}get day(){return this}[Symbol.toPrimitive](e){return e=="number"?this.date.getTime():this.id}};ka.prototype[Le]=De,se([ke.bind([])],ka.prototype,"_week",null),se([ke.bind([])],ka.prototype,"week",null),se([ke.bind([])],ka.prototype,"month",null),se([ke.bind([])],ka.prototype,"year",null),se([ke.bind([])],ka.prototype,"prev",null),se([ke.bind([])],ka.prototype,"next",null),se([ke.bind([])],ka.prototype,"date",null),se([ke.bind([])],ka.prototype,"end",null),E(ka,Ete,"OPDay",336);var oS=ka;globalThis.OPDay=oS;var GDo=Symbol(),s5e=class s5e{get opday(){return OP.get(this.toISOString().slice(0,10))}};E(s5e,GDo,"Date",1,Date);var G9t=s5e;T();oe();var l5e=Symbol("id"),Y9t=Symbol(),a5e=Symbol("name"),X9t=Symbol(),u5e=Symbol("hue"),K9t=Symbol(),Uu,J9t,Q9t,YDo=Symbol(),z3=class z3 extends OPObject{set id(e){this.id.$set(e,this,l5e,"id")}get id(){return this.id.$get(this,l5e,"id")}get id(){return this[Y9t]||y((Uu=this.key(),p(Uu.bit,Function)?Uu.bit():Uu.bit=!0,p(Uu.system,Function)?Uu.system():Uu.system=!0,p(Uu.public,Function)?Uu.public():Uu.public=!0,p(Uu.c,Function)?Uu.c(0):Uu.c=0,Uu),this,l5e,"id",Y9t,z3.prototype)}set name(e){this.name.$set(e,this,a5e,"name")}get name(){return this.name.$get(this,a5e,"name")}get name(){return this[X9t]||y((J9t=this.string(),J9t),this,a5e,"name",X9t,z3.prototype)}set hue(e){this.hue.$set(e,this,u5e,"hue")}get hue(){return this.hue.$get(this,u5e,"hue")}get hue(){return this[K9t]||y((Q9t=this.string(),Q9t),this,u5e,"hue",K9t,z3.prototype)}get users(){return this.$children.only(OPUser)}static all(e){return typeof e=="number"?OP.roles.filter(function(t){return t&e}):OP.roles.all(e)}$pov(e){return console.warn("OPRole.$pov deprecated"),this[String(e)]??=Wgt(new OPIndex)}get int(){return+this}toJSON(){return+this}};z3.alias="R",E(z3,YDo,"OPRole",0);var c5e=z3;globalThis.OPRole=c5e;T();oe();var h5e=Symbol("id"),eCt=Symbol(),p5e=Symbol("secret"),tCt=Symbol(),d5e=Symbol("user"),rCt=Symbol(),f5e=Symbol("server"),oCt=Symbol(),m5e=Symbol("ua"),nCt=Symbol(),$5e=Symbol("ip"),iCt=Symbol(),y5e=Symbol("uad"),sCt=Symbol(),b5e=Symbol("country"),lCt=Symbol(),g5e=Symbol("logout"),aCt=Symbol(),k5e=Symbol("data"),uCt=Symbol(),Eh,nS,Pu,Ek,uL,cL,hL,V1,Y2,_5e;var jte=Symbol(),Tu=class Tu extends Qe(jte,OPObject,OPAgent){constructor(){super(...arguments),super[A]||this[A](),re(this,jte)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[jte])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,h5e,"id")}get id(){return this.id.$get(this,h5e,"id")}get id(){return this[eCt]||y((Eh=this.key(),p(Eh.system,Function)?Eh.system():Eh.system=!0,Eh.size=12,p(Eh.public,Function)?Eh.public():Eh.public=!0,p(Eh.wcd,Function)?Eh.wcd(OPSRV):Eh.wcd=OPSRV,Eh),this,h5e,"id",eCt,Tu.prototype)}set secret(e){this.secret.$set(e,this,p5e,"secret")}get secret(){return this.secret.$get(this,p5e,"secret")}get secret(){return this[tCt]||y((nS=this.string(),p(nS.r,Function)?nS.r(OPOWNER):nS.r=OPOWNER,nS.default=function(){return OPKey.random()},nS),this,p5e,"secret",tCt,Tu.prototype)}set user(e){this.user.$set(e,this,d5e,"user")}get user(){return this.user.$get(this,d5e,"user")}get user(){return this[rCt]||y((Pu=this.ref(OPUser),p(Pu.foreign,Function)?Pu.foreign():Pu.foreign=!0,p(Pu.observable,Function)?Pu.observable(!0):Pu.observable=!0,p(Pu.as,Function)?Pu.as(OPOWNER):Pu.as=OPOWNER,p(Pu.stat,Function)?Pu.stat():Pu.stat=!0,Pu),this,d5e,"user",rCt,Tu.prototype)}set server(e){this.server.$set(e,this,f5e,"server")}get server(){return this.server.$get(this,f5e,"server")}get server(){return this[oCt]||y((Ek=this.ref(OPServer),p(Ek.parent,Function)?Ek.parent():Ek.parent=!0,p(Ek.lazy,Function)?Ek.lazy():Ek.lazy=!0,Ek),this,f5e,"server",oCt,Tu.prototype)}set ua(e){this.ua.$set(e,this,m5e,"ua")}get ua(){return this.ua.$get(this,m5e,"ua")}get ua(){return this[nCt]||y((uL=this.string(),p(uL.hidden,Function)?uL.hidden():uL.hidden=!0,uL),this,m5e,"ua",nCt,Tu.prototype)}set ip(e){this.ip.$set(e,this,$5e,"ip")}get ip(){return this.ip.$get(this,$5e,"ip")}get ip(){return this[iCt]||y((cL=this.string(),p(cL.hidden,Function)?cL.hidden():cL.hidden=!0,cL),this,$5e,"ip",iCt,Tu.prototype)}set uad(e){this.uad.$set(e,this,y5e,"uad")}get uad(){return this.uad.$get(this,y5e,"uad")}get uad(){return this[sCt]||y((hL=this.embed(OPUserAgent),p(hL.rw,Function)?hL.rw(OPOWNER|OPADMIN):hL.rw=OPOWNER|OPADMIN,hL),this,y5e,"uad",sCt,Tu.prototype)}set country(e){this.country.$set(e,this,b5e,"country")}get country(){return this.country.$get(this,b5e,"country")}get country(){return this[lCt]||y((V1=this.country(),p(V1.lazy,Function)?V1.lazy():V1.lazy=!0,p(V1.stat,Function)?V1.stat():V1.stat=!0,p(V1.w,Function)?V1.w(OPADMIN):V1.w=OPADMIN,V1),this,b5e,"country",lCt,Tu.prototype)}get aslabel(){return"Anon"}get asicon(){return"session"}set logout(e){this.logout.$set(e,this,g5e,"logout")}get logout(){return this.logout.$get(this,g5e,"logout")}get logout(){return this[aCt]||y((Y2=this.action(),p(Y2.rx,Function)?Y2.rx(OPOWNER):Y2.rx=OPOWNER,p(Y2.rpc,Function)?Y2.rpc():Y2.rpc=!0,Y2.callback=!1,Y2),this,g5e,"logout",aCt,Tu.prototype)}set data(e){this.data.$set(e,this,k5e,"data")}get data(){return this.data.$get(this,k5e,"data")}get data(){return this[uCt]||y((_5e=this.pub(),_5e.callback=function(e){},_5e),this,k5e,"data",uCt,Tu.prototype)}get agent(){return this.user||this}get session(){return this}get $$pov(){return this.$rich.$$pov||=new OPPovData(this)}};Tu.alias="S",E(Tu,jte,"OPSession",80);var x5e=Tu;globalThis.OPSession=x5e;T();oe();var v5e=Symbol("id"),cCt=Symbol(),w5e=Symbol("name"),hCt=Symbol(),S5e=Symbol("secret"),pCt=Symbol(),C5e=Symbol("country"),dCt=Symbol(),E5e=Symbol("sessions"),fCt=Symbol(),Ou,mCt,pL,$Ct,yCt,XDo=Symbol.for("#pov"),Ate=Symbol(),X2=class X2 extends Qe(Ate,OPObject,OPAgent){constructor(){super(...arguments),super[A]||this[A](),re(this,Ate)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Ate])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,v5e,"id")}get id(){return this.id.$get(this,v5e,"id")}get id(){return this[cCt]||y((Ou=this.key(),p(Ou.system,Function)?Ou.system():Ou.system=!0,p(Ou.c,Function)?Ou.c(OPSRV):Ou.c=OPSRV,p(Ou.public,Function)?Ou.public():Ou.public=!0,p(Ou.as,Function)?Ou.as(OPOWNER):Ou.as=OPOWNER,Ou),this,v5e,"id",cCt,X2.prototype)}set name(e){this.name.$set(e,this,w5e,"name")}get name(){return this.name.$get(this,w5e,"name")}get name(){return this[hCt]||y((mCt=this.string(),mCt),this,w5e,"name",hCt,X2.prototype)}set secret(e){this.secret.$set(e,this,S5e,"secret")}get secret(){return this.secret.$get(this,S5e,"secret")}get secret(){return this[pCt]||y((pL=this.string(),p(pL.hidden,Function)?pL.hidden():pL.hidden=!0,pL),this,S5e,"secret",pCt,X2.prototype)}set country(e){this.country.$set(e,this,C5e,"country")}get country(){return this.country.$get(this,C5e,"country")}get country(){return this[dCt]||y(($Ct=this.country(),$Ct),this,C5e,"country",dCt,X2.prototype)}set sessions(e){this.sessions.$set(e,this,E5e,"sessions")}get sessions(){return this.sessions.$get(this,E5e,"sessions")}get sessions(){return this[fCt]||y((yCt=this.children(OPSession.$.user),yCt),this,E5e,"sessions",fCt,X2.prototype)}get $roles(){return this.$suroles|4}get user(){return this}get $$pov(){return this.$rich[XDo]||=new OPPovData(this)}};X2.alias="U",E(X2,Ate,"OPUser",80);var j5e=X2;globalThis.OPUser=j5e;T();oe();T();oe();var A5e=Symbol("id"),bCt=Symbol(),U5e=Symbol("pid"),gCt=Symbol(),P5e=Symbol("ppid"),kCt=Symbol(),T5e=Symbol("build"),_Ct=Symbol(),O5e=Symbol("version"),xCt=Symbol(),R5e=Symbol("seen"),vCt=Symbol(),M5e=Symbol("rss"),wCt=Symbol(),L5e=Symbol("heap"),SCt=Symbol(),D5e=Symbol("counters"),CCt=Symbol(),N5e=Symbol("cpu_1"),ECt=Symbol(),I5e=Symbol("cpu_5"),jCt=Symbol(),F5e=Symbol("cpu_15"),ACt=Symbol(),H5e=Symbol("state"),UCt=Symbol(),B5e=Symbol("id"),PCt=Symbol(),V5e=Symbol("hash"),TCt=Symbol(),z5e=Symbol("dir"),OCt=Symbol(),q5e=Symbol("started"),RCt=Symbol(),W5e=Symbol("finished"),MCt=Symbol(),Z5e=Symbol("stderr"),LCt=Symbol(),G5e=Symbol("state"),DCt=Symbol(),z1,jk,dL,NCt,ICt,fL,q1,W1,mL,Ak,Uk,Pk,$L,Z1,FCt,yL,bL,gL,kL,HCt,KDo=Symbol(),gl=class gl extends OPObject{set id(e){this.id.$set(e,this,A5e,"id")}get id(){return this.id.$get(this,A5e,"id")}get id(){return this[bCt]||y((z1=this.key(),p(z1.system,Function)?z1.system():z1.system=!0,p(z1.public,Function)?z1.public():z1.public=!0,p(z1.pub,Function)?z1.pub():z1.pub=!0,z1),this,A5e,"id",bCt,gl.prototype)}set pid(e){this.pid.$set(e,this,U5e,"pid")}get pid(){return this.pid.$get(this,U5e,"pid")}get pid(){return this[gCt]||y((jk=this.number(),p(jk.r,Function)?jk.r(OPADMIN):jk.r=OPADMIN,p(jk.stat,Function)?jk.stat():jk.stat=!0,jk),this,U5e,"pid",gCt,gl.prototype)}set ppid(e){this.ppid.$set(e,this,P5e,"ppid")}get ppid(){return this.ppid.$get(this,P5e,"ppid")}get ppid(){return this[kCt]||y((dL=this.number(),p(dL.r,Function)?dL.r(OPADMIN):dL.r=OPADMIN,dL),this,P5e,"ppid",kCt,gl.prototype)}set build(e){this.build.$set(e,this,T5e,"build")}get build(){return this.build.$get(this,T5e,"build")}get build(){return this[_Ct]||y((NCt=this.ref(Ute),NCt),this,T5e,"build",_Ct,gl.prototype)}set version(e){this.version.$set(e,this,O5e,"version")}get version(){return this.version.$get(this,O5e,"version")}get version(){return this[xCt]||y((ICt=this.string(),ICt),this,O5e,"version",xCt,gl.prototype)}set seen(e){this.seen.$set(e,this,R5e,"seen")}get seen(){return this.seen.$get(this,R5e,"seen")}get seen(){return this[vCt]||y((fL=this.ts(),p(fL.stat,Function)?fL.stat():fL.stat=!0,fL),this,R5e,"seen",vCt,gl.prototype)}set rss(e){this.rss.$set(e,this,M5e,"rss")}get rss(){return this.rss.$get(this,M5e,"rss")}get rss(){return this[wCt]||y((q1=this.bigint(),p(q1.bytes,Function)?q1.bytes():q1.bytes=!0,p(q1.r,Function)?q1.r(OPADMIN):q1.r=OPADMIN,p(q1.stat,Function)?q1.stat():q1.stat=!0,q1),this,M5e,"rss",wCt,gl.prototype)}set heap(e){this.heap.$set(e,this,L5e,"heap")}get heap(){return this.heap.$get(this,L5e,"heap")}get heap(){return this[SCt]||y((W1=this.bigint(),p(W1.bytes,Function)?W1.bytes():W1.bytes=!0,p(W1.r,Function)?W1.r(OPADMIN):W1.r=OPADMIN,p(W1.stat,Function)?W1.stat():W1.stat=!0,W1),this,L5e,"heap",SCt,gl.prototype)}set counters(e){this.counters.$set(e,this,D5e,"counters")}get counters(){return this.counters.$get(this,D5e,"counters")}get counters(){return this[CCt]||y((mL=this.json(),p(mL.r,Function)?mL.r(OPADMIN):mL.r=OPADMIN,mL),this,D5e,"counters",CCt,gl.prototype)}set cpu_1(e){this.cpu_1.$set(e,this,N5e,"cpu_1")}get cpu_1(){return this.cpu_1.$get(this,N5e,"cpu_1")}get cpu_1(){return this[ECt]||y((Ak=this.percent(),p(Ak.r,Function)?Ak.r(OPADMIN):Ak.r=OPADMIN,p(Ak.stat,Function)?Ak.stat():Ak.stat=!0,Ak),this,N5e,"cpu_1",ECt,gl.prototype)}set cpu_5(e){this.cpu_5.$set(e,this,I5e,"cpu_5")}get cpu_5(){return this.cpu_5.$get(this,I5e,"cpu_5")}get cpu_5(){return this[jCt]||y((Uk=this.percent(),p(Uk.r,Function)?Uk.r(OPADMIN):Uk.r=OPADMIN,p(Uk.stat,Function)?Uk.stat():Uk.stat=!0,Uk),this,I5e,"cpu_5",jCt,gl.prototype)}set cpu_15(e){this.cpu_15.$set(e,this,F5e,"cpu_15")}get cpu_15(){return this.cpu_15.$get(this,F5e,"cpu_15")}get cpu_15(){return this[ACt]||y((Pk=this.percent(),p(Pk.r,Function)?Pk.r(OPADMIN):Pk.r=OPADMIN,p(Pk.stat,Function)?Pk.stat():Pk.stat=!0,Pk),this,F5e,"cpu_15",ACt,gl.prototype)}set state(e){this.state.$set(e,this,H5e,"state")}get state(){return this.state.$get(this,H5e,"state")}get state(){return this[UCt]||y(($L=this.enum({provisioning:{default:!0},running:{},terminated:{}}),p($L.stat,Function)?$L.stat():$L.stat=!0,$L),this,H5e,"state",UCt,gl.prototype)}};gl.alias="PROC",E(gl,KDo,"OPProc",0);var Y5e=gl;globalThis.OPProc=Y5e;var JDo=Symbol(),G1=class G1 extends OPObject{set id(e){this.id.$set(e,this,B5e,"id")}get id(){return this.id.$get(this,B5e,"id")}get id(){return this[PCt]||y((Z1=this.key(),p(Z1.system,Function)?Z1.system():Z1.system=!0,p(Z1.public,Function)?Z1.public():Z1.public=!0,p(Z1.pub,Function)?Z1.pub():Z1.pub=!0,Z1),this,B5e,"id",PCt,G1.prototype)}set hash(e){this.hash.$set(e,this,V5e,"hash")}get hash(){return this.hash.$get(this,V5e,"hash")}get hash(){return this[TCt]||y((FCt=this.string(),FCt),this,V5e,"hash",TCt,G1.prototype)}set dir(e){this.dir.$set(e,this,z5e,"dir")}get dir(){return this.dir.$get(this,z5e,"dir")}get dir(){return this[OCt]||y((yL=this.string(),p(yL.hidden,Function)?yL.hidden():yL.hidden=!0,yL),this,z5e,"dir",OCt,G1.prototype)}set started(e){this.started.$set(e,this,q5e,"started")}get started(){return this.started.$get(this,q5e,"started")}get started(){return this[RCt]||y((bL=this.ts(),p(bL.precision,Function)?bL.precision(1):bL.precision=1,bL),this,q5e,"started",RCt,G1.prototype)}set finished(e){this.finished.$set(e,this,W5e,"finished")}get finished(){return this.finished.$get(this,W5e,"finished")}get finished(){return this[MCt]||y((gL=this.ts(),p(gL.precision,Function)?gL.precision(1):gL.precision=1,gL),this,W5e,"finished",MCt,G1.prototype)}set stderr(e){this.stderr.$set(e,this,Z5e,"stderr")}get stderr(){return this.stderr.$get(this,Z5e,"stderr")}get stderr(){return this[LCt]||y((kL=this.text(),p(kL.hidden,Function)?kL.hidden():kL.hidden=!0,kL),this,Z5e,"stderr",LCt,G1.prototype)}set state(e){this.state.$set(e,this,G5e,"state")}get state(){return this.state.$get(this,G5e,"state")}get state(){return this[DCt]||y((HCt=this.enum({pending:{default:!0},error:{},success:{}}),HCt),this,G5e,"state",DCt,G1.prototype)}};G1.alias="V",E(G1,JDo,"OPBuild",0);var Ute=G1;globalThis.OPBuild=Ute;$e();var X5e=Symbol("id"),BCt=Symbol(),K5e=Symbol("proc"),VCt=Symbol(),J5e=Symbol("port"),zCt=Symbol(),Q5e=Symbol("sockets"),qCt=Symbol(),e3e=Symbol("appversion"),WCt=Symbol(),t3e=Symbol("state"),ZCt=Symbol(),r3e=Symbol("log_messages"),GCt=Symbol(),o3e=Symbol("current?"),YCt=Symbol(),n3e=Symbol("closed_code"),XCt=Symbol(),i3e=Symbol("online?"),KCt=Symbol(),s3e=Symbol("announce"),JCt=Symbol(),l3e=Symbol("findm"),QCt=Symbol(),a3e=Symbol("rich-query-50"),eEt=Symbol(),u3e=Symbol("restart"),tEt=Symbol(),Tk,rEt,oEt,Ok,nEt,iEt,_L,c3e,xL,h3e,K2,J2,Q2,_a,Pte=Symbol(),sEt=Symbol(),vL=Symbol(),QDo=Symbol(),wL=Symbol(),eNo=Symbol(),SL=Symbol(),tNo=Symbol(),CL=Symbol(),rNo=Symbol(),oNo=Symbol.for("##up"),nNo=Symbol.for("##register"),iNo=Symbol.for("#getSlot"),Tte=Symbol.for("#getRenderContext"),Ote=Symbol.for("#isRichElement"),EL=Symbol.for("#afterVisit"),Rte=Symbol.for("#appendChild"),Mte=Symbol.for("#replaceChild"),sNo=Symbol(),Ms=class Ms extends OPObject{set id(e){this.id.$set(e,this,X5e,"id")}get id(){return this.id.$get(this,X5e,"id")}get id(){return this[BCt]||y((Tk=this.key(),p(Tk.system,Function)?Tk.system():Tk.system=!0,p(Tk.public,Function)?Tk.public():Tk.public=!0,Tk),this,X5e,"id",BCt,Ms.prototype)}get asicon(){return"server"}$handle(e,t){return this.$socket?this.$deliver(e,t):this.log("Endpoint cannot $handle",e,t)}$deliver(e,t=null){if(this.$socket){let r=OP.$pack(e);return this.log("deliver message to socket",e),this.$socket.send(r,!0)}else return OP.socket.send(e)}set proc(e){this.proc.$set(e,this,K5e,"proc")}get proc(){return this.proc.$get(this,K5e,"proc")}get proc(){return this[VCt]||y((rEt=this.ref(OPProc),rEt),this,K5e,"proc",VCt,Ms.prototype)}set port(e){this.port.$set(e,this,J5e,"port")}get port(){return this.port.$get(this,J5e,"port")}get port(){return this[zCt]||y((oEt=this.number(),oEt),this,J5e,"port",zCt,Ms.prototype)}set sockets(e){this.sockets.$set(e,this,Q5e,"sockets")}get sockets(){return this.sockets.$get(this,Q5e,"sockets")}get sockets(){return this[qCt]||y((Ok=this.number(),p(Ok.r,Function)?Ok.r(OPANYONE):Ok.r=OPANYONE,p(Ok.stat,Function)?Ok.stat():Ok.stat=!0,Ok),this,Q5e,"sockets",qCt,Ms.prototype)}set appversion(e){this.appversion.$set(e,this,e3e,"appversion")}get appversion(){return this.appversion.$get(this,e3e,"appversion")}get appversion(){return this[WCt]||y((nEt=this.string(),nEt),this,e3e,"appversion",WCt,Ms.prototype)}set state(e){this.state.$set(e,this,t3e,"state")}get state(){return this.state.$get(this,t3e,"state")}get state(){return this[ZCt]||y((iEt=this.enum({provisioning:{default:!0},starting:{},running:{},degraded:{},stopping:{},stopped:{},terminated:{}}),iEt),this,t3e,"state",ZCt,Ms.prototype)}set log_messages(e){this.log_messages.$set(e,this,r3e,"log_messages")}get log_messages(){return this.log_messages.$get(this,r3e,"log_messages")}get log_messages(){return this[GCt]||y((_L=this.bit(0),p(_L.rw,Function)?_L.rw(OPADMIN):_L.rw=OPADMIN,_L),this,r3e,"log_messages",GCt,Ms.prototype)}set current(e){this.current.$set(e,this,o3e,"current")}get current(){return this.current.$get(this,o3e,"current")}get current(){return this[YCt]||y((c3e=this.memo(),c3e.callback=function(){var e;return((e=OP.client)==null?void 0:e.server)==this},c3e),this,o3e,"current",YCt,Ms.prototype)}set closed_code(e){this.closed_code.$set(e,this,n3e,"closed_code")}get closed_code(){return this.closed_code.$get(this,n3e,"closed_code")}get closed_code(){return this[XCt]||y((xL=this.int(),p(xL.memory,Function)?xL.memory():xL.memory=!0,xL),this,n3e,"closed_code",XCt,Ms.prototype)}set online(e){this.online.$set(e,this,i3e,"online")}get online(){return this.online.$get(this,i3e,"online")}get online(){return this[KCt]||y((h3e=this.memo(),h3e.callback=function(){return!this.closed_code&&this.state.running},h3e),this,i3e,"online",KCt,Ms.prototype)}set announce(e){this.announce.$set(e,this,s3e,"announce")}get announce(){return this.announce.$get(this,s3e,"announce")}get announce(){return this[JCt]||y((K2=this.action(),p(K2.rx,Function)?K2.rx(OPADMIN):K2.rx=OPADMIN,p(K2.rpc,Function)?K2.rpc():K2.rpc=!0,K2.callback=!1,K2),this,s3e,"announce",JCt,Ms.prototype)}set findm(e){this.findm.$set(e,this,l3e,"findm")}get findm(){return this.findm.$get(this,l3e,"findm")}get findm(){return this[QCt]||y((J2=this.action(),p(J2.rx,Function)?J2.rx(OPADMIN):J2.rx=OPADMIN,p(J2.rpc,Function)?J2.rpc():J2.rpc=!0,J2.callback=!1,J2),this,l3e,"findm",QCt,Ms.prototype)}set richquery50(e){this.richquery50.$set(e,this,a3e,"richquery50")}get richquery50(){return this.richquery50.$get(this,a3e,"richquery50")}get richquery50(){return this[eEt]||y((Q2=this.action(),p(Q2.rx,Function)?Q2.rx(OPADMIN):Q2.rx=OPADMIN,p(Q2.rpc,Function)?Q2.rpc():Q2.rpc=!0,Q2.callback=!1,Q2),this,a3e,"richquery50",eEt,Ms.prototype)}set restart(e){this.restart.$set(e,this,u3e,"restart")}get restart(){return this.restart.$get(this,u3e,"restart")}get restart(){return this[tEt]||y((_a=this.action(),p(_a.rx,Function)?_a.rx(OPADMIN):_a.rx=OPADMIN,p(_a.g,Function)?_a.g(700):_a.g=700,p(_a.confirm,Function)?_a.confirm():_a.confirm=!0,p(_a.rpc,Function)?_a.rpc():_a.rpc=!0,_a.callback=!1,_a),this,u3e,"restart",tEt,Ms.prototype)}get name(){return this.id}opownstats(){var C;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return r=o=1,(e=t[Pte])||(r=o=0,e=t[Pte]=e=R("op-stats",null,null,null)),r||(e[oNo]=t._),r||((C=e[nNo])==null||C.call(e,t,Pte)),n=e[iNo]("__",e),i=this,i===e[sEt]||(e.data=e[sEt]=i),s=e[Tte](QDo),u=c=1,(a=s.run(this.ostat(this.$.online)))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[Ote]&&(u||!a.setup||a.setup(c,s),a[EL](c)),a==e[vL]||!e[vL]&&n[Rte](e[vL]=a)||(n[Mte](a,e[vL]),e[vL]=a),h=e[Tte](eNo),f=m=1,(d=h.run(this.ostat(this.$.current)))||(f=m=0,h.cache(d=M(h.value,n,null,null))),d[Ote]&&(f||!d.setup||d.setup(m,h),d[EL](m)),d==e[wL]||!e[wL]&&n[Rte](e[wL]=d)||(n[Mte](d,e[wL]),e[wL]=d),$=e[Tte](tNo),g=x=1,(b=$.run(this.ostat(this.$.proc)))||(g=x=0,$.cache(b=M($.value,n,null,null))),b[Ote]&&(g||!b.setup||b.setup(x,$),b[EL](x)),b==e[SL]||!e[SL]&&n[Rte](e[SL]=b)||(n[Mte](b,e[SL]),e[SL]=b),k=e[Tte](rNo),S=v=1,(_=k.run(this.ostat(this.$.sockets)))||(S=v=0,k.cache(_=M(k.value,n,null,null))),_[Ote]&&(S||!_.setup||_.setup(v,k),_[EL](v)),_==e[CL]||!e[CL]&&n[Rte](e[CL]=_)||(n[Mte](_,e[CL]),e[CL]=_),r||t.sym||!e.setup||e.setup(o,t,Pte),t.sym||e[EL](o),e}};Ms.alias="SRV",E(Ms,sNo,"OPServer",0);var p3e=Ms;globalThis.OPServer=p3e;T();oe();T();oe();We();var d3e=Symbol("data"),lEt=Symbol(),jL,f3e=Symbol.for("#id"),aEt=Symbol(),Rk=class Rk extends OPObject{constructor(){super(...arguments),re(this,aEt)}static all(){throw new OPError("Calling all on embeds is not allowed")}static create(){throw new OPError("Creating embeds is not allowed")}get opownmenu(){return this.opowncontextmenu}$embed(e,t){Object.defineProperty(this,"$up",{enumerable:!1,value:e}),t!==this.$key&&Object.defineProperty(this,"$key",{enumerable:!1,value:t})}dehydratefor(...e){return this.$up?super.dehydratefor(...arguments):[this.$type.id,this.$plain]}get id(){let e=this[f3e];if(!e)if(this.$up){let t=this.$key;t=p(t,OPField)?t.name:String(t.$id||t),t.indexOf("/")>=0&&(t="["+t+"]"),e=this[f3e]=""+this.$up.$ns+"/"+t}else e=this[f3e]=this.$shape.id.generate(this);return e}set id(e){this.debug("setting id for embed?!",e)}set data(e){this.data.$set(e,this,d3e,"data")}get data(){return this.data.$get(this,d3e,"data")}get data(){return this[lEt]||y((jL=this.pub(),p(jL.blank,Function)?jL.blank():jL.blank=!0,jL),this,d3e,"data",lEt,Rk.prototype)}$clear(){let e=OP.clone(this.$plain);for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],e[n]=null;return this.$apply(e),this}get $index(){var t;if(!((t=this.$up)!=null&&t.indexOf))return 0;let e=this.$up.indexOf(this);return Math.max(-1,e)}};Rk.prototype[Le]=De,Rk.table=!1,Rk.embedded=!0,se([ke.bind([])],Rk.prototype,"$index",null),E(Rk,aEt,"OPEmbed",280);var m3e=Rk;globalThis.OPEmbed=m3e;var $3e=Symbol("id"),uEt=Symbol(),y3e=Symbol("server"),cEt=Symbol(),b3e=Symbol("token"),hEt=Symbol(),g3e=Symbol("secret"),pEt=Symbol(),k3e=Symbol("session"),dEt=Symbol(),_3e=Symbol("user"),fEt=Symbol(),x3e=Symbol("connected"),mEt=Symbol(),v3e=Symbol("receded"),$Et=Symbol(),w3e=Symbol("focused"),yEt=Symbol(),S3e=Symbol("visibility"),bEt=Symbol(),C3e=Symbol("channels"),gEt=Symbol(),E3e=Symbol("ip"),kEt=Symbol(),j3e=Symbol("online?"),_Et=Symbol(),A3e=Symbol("_clients"),xEt=Symbol(),AL,Mk,UL,PL,Y1,Lk,vEt,TL,OL,RL,X1,ML,U3e,wEt,lNo=Symbol(),kl=class kl extends OPObject{set id(e){this.id.$set(e,this,$3e,"id")}get id(){return this.id.$get(this,$3e,"id")}get id(){return this[uEt]||y((AL=this.key(this.session,this.token),p(AL.w,Function)?AL.w(OPOWNER):AL.w=OPOWNER,AL),this,$3e,"id",uEt,kl.prototype)}set server(e){this.server.$set(e,this,y3e,"server")}get server(){return this.server.$get(this,y3e,"server")}get server(){return this[cEt]||y((Mk=this.ref(OPServer),p(Mk.parent,Function)?Mk.parent():Mk.parent=!0,p(Mk.w,Function)?Mk.w(OPSRV):Mk.w=OPSRV,Mk),this,y3e,"server",cEt,kl.prototype)}set token(e){this.token.$set(e,this,b3e,"token")}get token(){return this.token.$get(this,b3e,"token")}get token(){return this[hEt]||y((UL=this.string(),p(UL.composite,Function)?UL.composite():UL.composite=!0,UL),this,b3e,"token",hEt,kl.prototype)}set secret(e){this.secret.$set(e,this,g3e,"secret")}get secret(){return this.secret.$get(this,g3e,"secret")}get secret(){return this[pEt]||y((PL=this.string(),p(PL.hidden,Function)?PL.hidden():PL.hidden=!0,PL),this,g3e,"secret",pEt,kl.prototype)}set session(e){this.session.$set(e,this,k3e,"session")}get session(){return this.session.$get(this,k3e,"session")}get session(){return this[dEt]||y((Y1=this.ref(OPSession),p(Y1.composite,Function)?Y1.composite():Y1.composite=!0,p(Y1.w,Function)?Y1.w(OPSRV):Y1.w=OPSRV,p(Y1.as,Function)?Y1.as(OPOWNER):Y1.as=OPOWNER,Y1),this,k3e,"session",dEt,kl.prototype)}set user(e){this.user.$set(e,this,_3e,"user")}get user(){return this.user.$get(this,_3e,"user")}get user(){return this[fEt]||y((Lk=this.ref(OPUser),p(Lk.w,Function)?Lk.w(OPSRV):Lk.w=OPSRV,p(Lk.fallback,Function)?Lk.fallback(function(){var e;return(e=this.session)==null?void 0:e.user}):Lk.fallback=function(){var e;return(e=this.session)==null?void 0:e.user},Lk),this,_3e,"user",fEt,kl.prototype)}set connected(e){this.connected.$set(e,this,x3e,"connected")}get connected(){return this.connected.$get(this,x3e,"connected")}get connected(){return this[mEt]||y((vEt=this.ts(),vEt),this,x3e,"connected",mEt,kl.prototype)}set receded(e){this.receded.$set(e,this,v3e,"receded")}get receded(){return this.receded.$get(this,v3e,"receded")}get receded(){return this[$Et]||y((TL=this.ts(),p(TL.w,Function)?TL.w(OPOWNER):TL.w=OPOWNER,TL),this,v3e,"receded",$Et,kl.prototype)}set focused(e){this.focused.$set(e,this,w3e,"focused")}get focused(){return this.focused.$get(this,w3e,"focused")}get focused(){return this[yEt]||y((OL=this.ts(),p(OL.w,Function)?OL.w(OPOWNER):OL.w=OPOWNER,OL),this,w3e,"focused",yEt,kl.prototype)}set visibility(e){this.visibility.$set(e,this,S3e,"visibility")}get visibility(){return this.visibility.$get(this,S3e,"visibility")}get visibility(){return this[bEt]||y((RL=this.enum({visible:{},hidden:{}}),p(RL.w,Function)?RL.w(OPOWNER):RL.w=OPOWNER,RL),this,S3e,"visibility",bEt,kl.prototype)}set channels(e){this.channels.$set(e,this,C3e,"channels")}get channels(){return this.channels.$get(this,C3e,"channels")}get channels(){return this[gEt]||y((X1=this.refs(OPObject),p(X1.w,Function)?X1.w(OPOWNER):X1.w=OPOWNER,p(X1.lazy,Function)?X1.lazy():X1.lazy=!0,p(X1.weak,Function)?X1.weak():X1.weak=!0,X1),this,C3e,"channels",gEt,kl.prototype)}set ip(e){this.ip.$set(e,this,E3e,"ip")}get ip(){return this.ip.$get(this,E3e,"ip")}get ip(){return this[kEt]||y((ML=this.string(),p(ML.hidden,Function)?ML.hidden():ML.hidden=!0,ML),this,E3e,"ip",kEt,kl.prototype)}get me(){return OP.client==this}get agent(){return this}get pov(){return this.user||this.session}set online(e){this.online.$set(e,this,j3e,"online")}get online(){return this.online.$get(this,j3e,"online")}get online(){return this[_Et]||y((U3e=this.memo(),U3e.callback=function(){return this.connected&&!this.deleted},U3e),this,j3e,"online",_Et,kl.prototype)}get $packets(){return this.$rich.$packets||=new Map}get $writables(){return this.$rich.$writables||=new Set}$closed(e){var t;if(this.$socket==e){this.$socket=null;for(let r of B(this.$packets.values()))r.$closed();for(let r of B(this.$writables))r.$writers.delete(this)&&((t=r==null?void 0:r.$optimize)==null||t.call(r));this.$writables.clear()}return this}};kl.alias="C",E(kl,lNo,"OPPeer",0);var Lte=kl;globalThis.OPPeer=Lte;var aNo=Symbol(),P3e=class P3e{set _clients(e){this._clients.$set(e,this,A3e,"_clients")}get _clients(){return this._clients.$get(this,A3e,"_clients")}get _clients(){return this[xEt]||y((wEt=this.children(Lte.$.channels),wEt),this,A3e,"_clients",xEt,OPObject.prototype)}$$subscribe(e){return(this.$$subscribers||=new Set).add(e)}};E(P3e,aNo,"OPObject",1,OPObject);var SEt=P3e;T();oe();var T3e=Symbol("id"),CEt=Symbol(),O3e=Symbol("pid"),EEt=Symbol(),R3e=Symbol("rss"),jEt=Symbol(),M3e=Symbol("heap"),AEt=Symbol(),DL,UEt,PEt,TEt,uNo=Symbol(),Dk=class Dk extends OPObject{set id(e){this.id.$set(e,this,T3e,"id")}get id(){return this.id.$get(this,T3e,"id")}get id(){return this[CEt]||y((DL=this.key(),p(DL.system,Function)?DL.system():DL.system=!0,DL),this,T3e,"id",CEt,Dk.prototype)}set pid(e){this.pid.$set(e,this,O3e,"pid")}get pid(){return this.pid.$get(this,O3e,"pid")}get pid(){return this[EEt]||y((UEt=this.number(),UEt),this,O3e,"pid",EEt,Dk.prototype)}set rss(e){this.rss.$set(e,this,R3e,"rss")}get rss(){return this.rss.$get(this,R3e,"rss")}get rss(){return this[jEt]||y((PEt=this.number(),PEt),this,R3e,"rss",jEt,Dk.prototype)}set heap(e){this.heap.$set(e,this,M3e,"heap")}get heap(){return this.heap.$get(this,M3e,"heap")}get heap(){return this[AEt]||y((TEt=this.number(),TEt),this,M3e,"heap",AEt,Dk.prototype)}};Dk.alias="WRK",E(Dk,uNo,"OPWorker",0);var L3e=Dk;globalThis.OPWorker=L3e;T();oe();function cNo(l,e){return l[l.length+e]}var D3e=Symbol("color"),OEt=Symbol(),REt,MEt={},LEt=Symbol(),iS=class iS extends OPObject{constructor(){super(...arguments),super[A]||this[A](),re(this,LEt)}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.svg=e?e.svg:void 0}set color(e){this.color.$set(e,this,D3e,"color")}get color(){return this.color.$get(this,D3e,"color")}get color(){return this[OEt]||y((REt=this.color(),REt),this,D3e,"color",OEt,iS.prototype)}static closest(e){if(p(e,iS))return e;if(typeof e!="string")return null;let t=e.replace(/\W+/g,"_").lower,r=this.$enums[t]||MEt[t];if(!r){let o=t.split("_");o.unshift(o.join("")),o=o.sort(function(n,i){return i.length-n.length});for(let n=0,i=B(o),s=i.length;n<s;n++){let a=i[n];if(r=this.$enums[a])break}if(!r)for(let n=0,i=B(o),s=i.length;n<s;n++){let a=i[n];if(cNo(a,-1)=="s"&&a.length>3&&(r=this.$enums[a.slice(0,-1)]))break}MEt[t]=r}return r}get asicon(){return this}};iS.alias="ICON",E(iS,LEt,"OPIcon",16);var N3e=iS;globalThis.OPIcon=N3e;T();oe();var hNo=Symbol.for("#matcher"),pNo=Symbol.for("##up"),dNo=Symbol.for("##register"),fNo=Symbol.for("#placeChild"),mNo=Symbol.for("#getRenderContext"),$No=Symbol.for("#isRichElement"),DEt=Symbol.for("#afterVisit"),yNo=Symbol.for("#insertInto"),bNo=Symbol.for("#replaceWith"),Dte=Symbol(),NEt=Symbol(),IEt=Symbol(),FEt=Symbol(),NL=Symbol(),gNo=Symbol(),Nte=Symbol(),F3e=class F3e extends Qe(Nte,null,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[Nte])==null||o.call(this,...arguments),this.value=e?e.value:void 0,this.rel=e?e.rel:void 0}static before(e,t=null){return new FL(e,t)}static after(e,t=null){return new IL(e,t)}static above(e,t=null){return new Fte(e,t)}static below(e,t=null){return new Ite(e,t)}static only(e){let t={};return t.placement=!0,t.check=e,t}static get placement(){return!0}static[hNo](e){return e.constructor===this}constructor(e,t=null){super(),this[A](),this.value=e,this.rel=t,re(this,Nte)}valueOf(){return this.value}get kind(){return""}get data(){return p(this.value,Element)?this.value.data:this.value}opownarg(e){var d;var t,r=H(),o,n,i,s,a,u,c,h;return o=n=1,(t=r[Dte])||(o=n=0,t=r[Dte]=t=w("div",null,"hm-af",null)),o||(t[pNo]=r._),o||((d=t[dNo])==null||d.call(t,r,Dte)),(i=t[NEt])||(t[NEt]=i=w("span",t,null,null)),s=this.kind,s===t[FEt]&&o||(t[IEt]=i[fNo](t[FEt]=s,384,t[IEt])),a=t[mNo](gNo),c=h=1,(u=a.run(this.oel(this.data,"arg",e)))||(c=h=0,a.cache(u=M(a.value,t,null,null))),u[$No]&&(c||!u.setup||u.setup(h,a),u[DEt](h)),u==t[NL]||!t[NL]&&(t[NL]=u)[yNo](t)||t[NL][bNo](t[NL]=u,t),o||r.sym||!t.setup||t.setup(n,r,Dte),r.sym||t[DEt](n),t}};E(F3e,Nte,"OPPos",80);var Nk=F3e;globalThis.OPPos=Nk;globalThis.OPAtStart=new Nk("start");globalThis.OPAtEnd=new Nk("end");var kNo=Symbol(),H3e=class H3e extends Nk{get kind(){return"after"}get after(){return this.data}valueOf(){return{after:this.data}}};E(H3e,kNo,"OPAfter",0);var IL=H3e;globalThis.OPAfter=IL;var _No=Symbol(),B3e=class B3e extends IL{get kind(){return"below"}};E(B3e,_No,"OPBelow",0);var Ite=B3e;globalThis.OPBelow=Ite;var xNo=Symbol(),V3e=class V3e extends Nk{get kind(){return"before"}get before(){return this.data}valueOf(){return{before:this.data}}};E(V3e,xNo,"OPBefore",0);var FL=V3e;globalThis.OPBefore=FL;var vNo=Symbol(),z3e=class z3e extends FL{get kind(){return"above"}};E(z3e,vNo,"OPAbove",0);var Fte=z3e;globalThis.OPAbove=Fte;var wNo=Symbol(),q3e=class q3e extends Nk{get dir(){return 0}valueOf(){return this.dir>0?{end:!0}:{start:!0}}};E(q3e,wNo,"OPSide",0);var Ik=q3e;globalThis.OPSide=Ik;var SNo=Symbol(),W3e=class W3e extends Ik{get dir(){return-1}get flipped(){return new Bte(this.value)}};E(W3e,SNo,"OPLeft",0);var Hte=W3e;globalThis.OPLeft=Hte;var CNo=Symbol(),Z3e=class Z3e extends Ik{get dir(){return 1}get flipped(){return new Hte(this.value)}};E(Z3e,CNo,"OPRight",0);var Bte=Z3e;globalThis.OPRight=Bte;var ENo=Symbol(),G3e=class G3e extends Ik{get dir(){return-1}get flipped(){return new zte(this.value)}};E(G3e,ENo,"OPTop",0);var Vte=G3e;globalThis.OPTop=Vte;var jNo=Symbol(),Y3e=class Y3e extends Ik{get dir(){return 1}get flipped(){return new Vte(this.value)}};E(Y3e,jNo,"OPBottom",0);var zte=Y3e;globalThis.OPBottom=zte;var ANo=Symbol(),X3e=class X3e extends Ik{get end(){return!0}};E(X3e,ANo,"OPInside",0);var I3e=X3e;globalThis.OPInside=I3e;T();oe();T();oe();var K3e=Symbol("offset"),HEt=Symbol(),J3e=Symbol("end"),BEt=Symbol(),Q3e=Symbol("target"),VEt=Symbol(),exe=Symbol("offset"),zEt=Symbol(),txe=Symbol("end"),qEt=Symbol(),rxe=Symbol("target"),WEt=Symbol(),oxe=Symbol("lastRequested"),ZEt=Symbol(),nxe=Symbol("isPatch"),GEt=Symbol(),ixe=Symbol("wasRequested"),YEt=Symbol(),sxe=Symbol("offset"),XEt=Symbol(),lxe=Symbol("bytes"),KEt=Symbol(),axe=Symbol("target"),JEt=Symbol(),uxe=Symbol("meta"),QEt=Symbol(),HL,BL,VL,zL,qL,WL,Pf,ZL,GL,YL,XL,KL,JL,ejt=Symbol.for("#buffer");var UNo=Symbol(),sS=class sS extends OPPacket{set offset(e){this.offset.$set(e,this,K3e,"offset")}get offset(){return this.offset.$get(this,K3e,"offset")}get offset(){return this[HEt]||y((HL=this.int(),p(HL.at,Function)?HL.at(3):HL.at=3,HL),this,K3e,"offset",HEt,sS.prototype)}set end(e){this.end.$set(e,this,J3e,"end")}get end(){return this.end.$get(this,J3e,"end")}get end(){return this[BEt]||y((BL=this.int(),p(BL.at,Function)?BL.at(4):BL.at=4,BL),this,J3e,"end",BEt,sS.prototype)}set target(e){this.target.$set(e,this,Q3e,"target")}get target(){return this.target.$get(this,Q3e,"target")}get target(){return this[VEt]||y((VL=this.ref(OPByteStream),p(VL.at,Function)?VL.at(5):VL.at=5,VL),this,Q3e,"target",VEt,sS.prototype)}$handle(){let e=(()=>{try{return this.target.chunked.chunk(this.offset,this.end)}catch(t){return t}})();if(globalThis.CHAOSMONKEY&&Math.random()>.5){console.warn("chaosmonkey interrupted responding to the chunk request");return}if(this.sender&&p(e,QL))return e.wasRequested=!0,OP.$send(e,this.sender)}};E(sS,UNo,"OPBinaryChunkRequest",0);var cxe=sS;globalThis.OPBinaryChunkRequest=cxe;var PNo=Symbol(),q3=class q3 extends OPTuple{set offset(e){this.offset.$set(e,this,exe,"offset")}get offset(){return this.offset.$get(this,exe,"offset")}get offset(){return this[zEt]||y((zL=this.int(),p(zL.at,Function)?zL.at(0):zL.at=0,zL),this,exe,"offset",zEt,q3.prototype)}set end(e){this.end.$set(e,this,txe,"end")}get end(){return this.end.$get(this,txe,"end")}get end(){return this[qEt]||y((qL=this.int(),p(qL.at,Function)?qL.at(1):qL.at=1,qL),this,txe,"end",qEt,q3.prototype)}set target(e){this.target.$set(e,this,rxe,"target")}get target(){return this.target.$get(this,rxe,"target")}get target(){return this[WEt]||y((WL=this.ref(OPByteStream),p(WL.at,Function)?WL.at(2):WL.at=2,WL),this,rxe,"target",WEt,q3.prototype)}set lastRequested(e){this.lastRequested.$set(e,this,oxe,"lastRequested")}get lastRequested(){return this.lastRequested.$get(this,oxe,"lastRequested")}get lastRequested(){return this[ZEt]||y((Pf=this.ts(),p(Pf.precision,Function)?Pf.precision(1):Pf.precision=1,p(Pf.at,Function)?Pf.at(3):Pf.at=3,Pf.default=function(){return 10},Pf.default.literal=10,Pf),this,oxe,"lastRequested",ZEt,q3.prototype)}};E(q3,PNo,"OPMissingBinaryChunk",0);var qte=q3;globalThis.OPMissingBinaryChunk=qte;var TNo=Symbol(),em=class em extends OPPacket{set isPatch(e){this.isPatch.$set(e,this,nxe,"isPatch")}get isPatch(){return this.isPatch.$get(this,nxe,"isPatch")}get isPatch(){return this[GEt]||y((ZL=this.bit(4),p(ZL.at,Function)?ZL.at(0):ZL.at=0,ZL),this,nxe,"isPatch",GEt,em.prototype)}set wasRequested(e){this.wasRequested.$set(e,this,ixe,"wasRequested")}get wasRequested(){return this.wasRequested.$get(this,ixe,"wasRequested")}get wasRequested(){return this[YEt]||y((GL=this.bit(5),p(GL.at,Function)?GL.at(0):GL.at=0,GL),this,ixe,"wasRequested",YEt,em.prototype)}set offset(e){this.offset.$set(e,this,sxe,"offset")}get offset(){return this.offset.$get(this,sxe,"offset")}get offset(){return this[XEt]||y((YL=this.int(),p(YL.at,Function)?YL.at(3):YL.at=3,YL),this,sxe,"offset",XEt,em.prototype)}set bytes(e){this.bytes.$set(e,this,lxe,"bytes")}get bytes(){return this.bytes.$get(this,lxe,"bytes")}get bytes(){return this[KEt]||y((XL=this.bytea(),p(XL.at,Function)?XL.at(4):XL.at=4,XL),this,lxe,"bytes",KEt,em.prototype)}set target(e){this.target.$set(e,this,axe,"target")}get target(){return this.target.$get(this,axe,"target")}get target(){return this[JEt]||y((KL=this.ref(OPByteStream),p(KL.at,Function)?KL.at(5):KL.at=5,KL),this,axe,"target",JEt,em.prototype)}set meta(e){this.meta.$set(e,this,uxe,"meta")}get meta(){return this.meta.$get(this,uxe,"meta")}get meta(){return this[QEt]||y((JL=this.any(),p(JL.at,Function)?JL.at(6):JL.at=6,JL),this,uxe,"meta",QEt,em.prototype)}get data(){return this[4]}set data(e){this[4]=e}get size(){return this.data.byteLength??this.data.length}get byteLength(){return this.size}get end(){return this.offset+this.size}get tail(){let e=this;for(;e.next&&e.end>=e.next.offset;)e=e.next;return e}get head(){let e=this;for(;e.prev&&e.prev.end>=e.offset;)e=e.prev;return e}append(e){let t=this.bytes,r=this[ejt],o=this.size,n=o+e.length;if(!r||r.byteLength<n){let i=Math.max(n+200,Math.ceil(n*1.5));r=this[ejt]=new ArrayBuffer(i),OP.incr("alloc");let s=new Uint8Array(r,0,n);s.set(t,0),t=this[4]=s}return n>t.byteLength&&(t=this[4]=new Uint8Array(r,0,n)),t.set(e,o),this}retain(){return this}$handle(){let e=this.target,t=e.chunked.tail,r=e.chunked.fragments;e.$presolve(),e.chunked.load(this),this.sender||(e.$flushToCloud(!1),this.isPatch&&e.chunked.writeOffset>this.offset&&OP.$send(this))}};E(em,TNo,"OPBinaryChunk",0);var QL=em;globalThis.OPBinaryChunk=QL;var tjt=Symbol(),pxe=class pxe{constructor(e=null){this[A](e),re(this,tjt)}[A](e=null,t=!0,r=!0){var o;this.$debug=e&&(o=e.$debug)!==void 0?o:{loaded:[]},this.stream=e?e.stream:void 0,this.head=e&&(o=e.head)!==void 0?o:null,this.tail=e&&(o=e.tail)!==void 0?o:null,this.fragments=e&&(o=e.fragments)!==void 0?o:[],this.missingChunkCache=e&&(o=e.missingChunkCache)!==void 0?o:{},this.writeOffset=e&&(o=e.writeOffset)!==void 0?o:0,this.diskSize=e&&(o=e.diskSize)!==void 0?o:0}load(e){var r;let t=this.head;if(!this.head)return this.head=this.tail=e,e.buffer=this,e.retain(),this.fragments.push(e),this;for(e.offset>=this.tail.end&&(t=this.tail);t&&t.offset<e.offset;)t=t.next;if(t){let o=[],n=t.prev;if(e.retain(),!e.wasRequested&&n&&n.end==e.offset)return n.next=e,this.tail=e,this.defragment(),this;if(e.end<t.offset&&n&&n.end>e.offset){let a=e.offset-n.offset;if(n.end>=e.end)n.data.set(e.data,e.offset-n.offset);else{let u=Math.min(n.end,e.end)-e.offset;n.data.set(e.data.slice(0,u),a)}return this}let i=Math.min(e.offset,t.offset),s=Math.max(e.end,t.end);if(t.offset>e.offset,e.offset==t.offset){if(e.end==t.end)return this;if(e.end<t.end){let a=0,u=-1,c=e.data,h=t.data,d=e.size;for(;a<d;){if(c[a]!=h[a]){u=a;break}a++}if(u==-1)return this;if(!e.isPatch)throw new Error("Cannot add contradictory data to buffer "+((r=this.stream)==null?void 0:r.id))}}for(;t&&e.end>=t.end;)o.push(t),t=t.next;if(t&&t.offset<e.end){let a=e.end-t.offset;t.data=t.data.slice(a),t.offset=e.end}e.next=t,n?(n.next=e,e.prev=n):this.head=e,t?t.prev=e:this.tail=e,this.defragment()}else{if(this.tail.end==e.offset)return this.tail.append(e.data),this;e.retain();let o=Math.max(this.tail.offset,e.offset),n=Math.min(this.tail.end,e.end);if(e.offset>this.tail.end)this.fragments=this.fragments.concat([e]),this.tail.next=e,e.prev=this.tail,this.tail=e;else if(this.tail.end>e.offset){let i=this.tail.data.slice(o-this.tail.offset,n-this.tail.offset),s=e.data.slice(o-e.offset,n-e.offset);if(e.isPatch)return this.tail.data.set(s,o-this.tail.offset),this.tail.next=null,this;if(e.end>this.tail.end)return this.tail.append(e.data.slice(this.tail.end-e.offset)),this}}return this}defragment(){let e=[],t=this.fragments,r=this.head;for(;r;){e.push(r);let o=r.tail;r=o==null?void 0:o.next}if(e.length!=t.length)return this.fragments=e;for(let o=0,n=B(e),i=n.length;o<i;o++){let s=n[o];if(t[o]!=s)return this.fragments=e}return t}get holes(){if(this.fragments.length==1&&this.knownSize>=this.head.offset)return[];let e=[],t=this.fragments.length-1;for(;t>=0;){let r=this.fragments[t],o=t?this.fragments[t-1].tail.end:0;if(r.offset>this.writeOffset){let n=r.offset,i=""+o+"-"+n;e.unshift(this.missingChunkCache[i]||=qte.new({offset:o,end:n,target:this.stream}))}t--}return e}get knownSize(){return this.diskSize}set knownSize(e){this.diskSize=e,this.writeOffset=Math.max(this.writeOffset,e)}get writableOffset(){let e=this.fragments[0],t=this.fragments[1],r=this.writeOffset;return e&&r>=e.offset?t?t.prev.end:this.tail.end:0}get loadedStart(){var e;return((e=this.fragments[0])==null?void 0:e.offset)??null}get loadedEnd(){var e,t;return((t=(e=this.fragments[0])==null?void 0:e.tail)==null?void 0:t.end)??null}get size(){var e;return((e=this.tail)==null?void 0:e.end)??this.knownSize??0}get readableSize(){let e=this.head;return!e||e.offset>0?0:e.tail.end}get partial(){var e;return this.fragments.size>1||((e=this.head)==null?void 0:e.offset)>this.writeOffset||!this.head}chunk(e=0,t){if(t??=this.loadedEnd,e>=t)return null;let r=this.tail;if(r.data&&r.offset==e&&r.end==t)return r;let o=this.slice(e,t);return QL.new({offset:e,bytes:o,target:this.stream})}slice(e=0,t){if(t??=this.loadedEnd,e>=t)return new Uint8Array([]);if(e<this.loadedStart)throw new OPOutOfBoundsError(this.stream);let r=this.tail;if(r.data&&r.offset==e&&r.end==t)return r.data;let o=new Uint8Array(t-e),n=this.head;for(;n;){if(e>=n.end){n=n.next;continue}if(n.offset>=t)break;let i=n.offset-e,s=n.end-t,a=n.data;s>0&&(a=a.slice(0,-s)),i<0&&(a=a.slice(-i),i=0),o.set(a,i),n=n.next}return o}};E(pxe,tjt,"OPBufferChunks",16);var hxe=pxe;globalThis.OPBufferChunks=hxe;T();oe();var rjt=Symbol(),dxe=Symbol("target"),ojt=Symbol(),fxe=Symbol("data"),njt=Symbol(),eD,tD,ONo=Symbol.for("#up"),ijt=Symbol.for("#streamBatchSizeThreshold"),sjt=Symbol(),yxe=class yxe{constructor(e=null){this[A](e),re(this,sjt)}[A](e=null,t=!0,r=!0){var o;this.object=e&&(o=e.object)!==void 0?o:null,this.sessions=e&&(o=e.sessions)!==void 0?o:new Set}$changed(){var e=this,t=gt(this);return t[rjt]??={flush:ik(function(){return e.$flush()},20,50),sessions:new Set},t[rjt].flush()}$flush(){let e=this.object.$channeldata,t=Wte.new({target:this.object,data:e});this.object.$broadcast(t)}};E(yxe,sjt,"ChannelStore",16);var mxe=yxe,RNo=Symbol(),rD=class rD extends OPPacket{set target(e){this.target.$set(e,this,dxe,"target")}get target(){return this.target.$get(this,dxe,"target")}get target(){return this[ojt]||y((eD=this.ref(OPObject),p(eD.at,Function)?eD.at(4):eD.at=4,eD),this,dxe,"target",ojt,rD.prototype)}set data(e){this.data.$set(e,this,fxe,"data")}get data(){return this.data.$get(this,fxe,"data")}get data(){return this[njt]||y((tD=this.any(),p(tD.at,Function)?tD.at(5):tD.at=5,tD),this,fxe,"data",njt,rD.prototype)}$handle(){let e=OP.get(this[4]);e!=null&&e.$handleChannelData&&e.$handleChannelData(this.data,this)}};E(rD,RNo,"OPChannelData",0);var Wte=rD;globalThis.OPChannelData=Wte;var MNo=Symbol(),bxe=class bxe extends OPMixin{get $channeldata(){return this.$rich.$channeldata||={[ONo]:new mxe({object:this})}}$handleChannelData(e,t=null){let r=e,o=this.$channeldata;return this.$apply(r,1048576,o,r)}get streamBatchSizeThreshold(){return this[ijt]??(this.connections.size>1?0:void 0)}set streamBatchSizeThreshold(e){this[ijt]=e}$broadcastToChannel(e){for(let t=0,r=B(this.connections),o=r.length;t<o;t++){let n=r[t];e.sender!=n&&n.$deliver(e)}return this}};E(bxe,MNo,"OPChannel",1024);var $xe=bxe;globalThis.OPChannel=$xe;We();var gxe=Symbol("readableSize"),ljt=Symbol(),kxe=Symbol("diskSize"),ajt=Symbol(),_xe=Symbol("verifiedSize"),ujt=Symbol(),K1=Symbol(),Zte=Symbol(),cjt=Symbol(),xxe=Symbol("snapshot"),hjt=Symbol(),vxe=Symbol("snapshot"),pjt=Symbol(),wxe=Symbol("refs"),djt=Symbol(),J1,Q1,ed,lS,aS,oD,fjt=Symbol.for("#resolve"),mjt=Symbol.for("#batchSizeThreshold"),$jt=Symbol.for("#exists"),Ru=Symbol.for("#writer"),yjt=Symbol.for("#stat"),LNo=Symbol.for("#start"),bjt=Symbol.for("#offset"),Sxe=Symbol.for("#patcher"),Exe=Symbol.for("#bytesRead"),Gte=Symbol.for("#itemsRead"),DNo=Symbol.for("#readError"),NNo=Symbol.for("#bytesSeen"),INo=Symbol.for("#raw"),Cxe=Symbol.for("#wal"),gjt=Symbol(),Fk=class Fk extends OPEmbed{constructor(){super(...arguments),re(this,gjt)}set readableSize(e){this.readableSize.$set(e,this,gxe,"readableSize")}get readableSize(){return this.readableSize.$get(this,gxe,"readableSize")}get readableSize(){return this[ljt]||y((J1=this.size(),p(J1.memory,Function)?J1.memory():J1.memory=!0,p(J1.rw,Function)?J1.rw(OPANYONE):J1.rw=OPANYONE,p(J1.fallback,Function)?J1.fallback(function(){return this.chunked.readableSize}):J1.fallback=function(){return this.chunked.readableSize},J1),this,gxe,"readableSize",ljt,Fk.prototype)}set diskSize(e){this.diskSize.$set(e,this,kxe,"diskSize")}get diskSize(){return this.diskSize.$get(this,kxe,"diskSize")}get diskSize(){return this[ajt]||y((Q1=this.size(),p(Q1.memory,Function)?Q1.memory():Q1.memory=!0,p(Q1.rw,Function)?Q1.rw(OPANYONE):Q1.rw=OPANYONE,p(Q1.fallback,Function)?Q1.fallback(function(){return this.chunked.knownSize}):Q1.fallback=function(){return this.chunked.knownSize},Q1),this,kxe,"diskSize",ajt,Fk.prototype)}set verifiedSize(e){this.verifiedSize.$set(e,this,_xe,"verifiedSize")}get verifiedSize(){return this.verifiedSize.$get(this,_xe,"verifiedSize")}get verifiedSize(){return this[ujt]||y((ed=this.size(),p(ed.memory,Function)?ed.memory():ed.memory=!0,p(ed.rw,Function)?ed.rw(OPANYONE):ed.rw=OPANYONE,p(ed.fallback,Function)?ed.fallback(0):ed.fallback=0,ed),this,_xe,"verifiedSize",ujt,Fk.prototype)}get size(){return Math.max(this.readableSize,this.diskSize)}get batchSizeThreshold(){return this[mjt]??1024}set batchSizeThreshold(e){this[mjt]=e}get batchTimeout(){var e;return((e=this.$root._clients)==null?void 0:e.size)>1?10:1e3}get chunked(){return this.$rich.chunked||=new OPBufferChunks({stream:this})}get $writers(){return this.$rich.$writers||=new Set}get mimeType(){return"application/octet-stream"}slice(e=0,t){return this.chunked.slice(...arguments)}get path(){return"/op/stream/"+this.id}get url(){return""+globalThis.location.origin+"/op/stream/"+this.id}get fullUrl(){return""+globalThis.location.origin+"/op/stream/"+this.id}get httpUrl(){return"/op/stream/"+this.id}get exists(){return this[$jt]??super.exists}append(e){var o;this.$presolve();let t=Math.max(((o=this.chunked.tail)==null?void 0:o.end)??0,this.chunked.knownSize);typeof e=="string"&&(e=new globalThis.TextEncoder().encode(e)),p(e,ArrayBuffer)&&(e=new Uint8Array(e));let r=OPBinaryChunk.new({offset:t,bytes:e,target:this});return r&&r.$handle(),r}patch(e){return e.target=this,e.isPatch=!0,e.$handle()}async arrayBuffer(){await this;let e;return e=this.chunked.slice(0),p(e.buffer,ArrayBuffer)?e.buffer.byteLength!=e.length?e.buffer.slice(0,e.length):e.buffer:e}async text(e="utf-8"){let t=await this.arrayBuffer();return new globalThis.TextDecoder(e||"utf-8").decode(t)}async[fjt](){let e;if(await this.$root,this.$presolve(),OP.joinchannel(this.$root),this.$root.fresh)return!0;let t=await window.fetch(this.httpUrl,{method:"GET"});if(p(t,Error)||!t.ok||t.status==204)return this[$jt]=!1,this.chunked.knownSize=this.verifiedSize=0,!0;(e=Object.fromEntries(t.headers)["content-length"])&&(this.chunked.knownSize=this.verifiedSize=parseInt(e)),this.thenable=!1;let o=0,n={[Symbol.asyncIterator]:function(){let s=t.body.getReader();return{next:function(){return s.read()}}}},i=o;for await(let s of B(n)){let a=s.byteLength||s.length,u=OPBinaryChunk.new({offset:i,bytes:s,target:this});i+=a,u.sender=OP.server,u.$handle()}return!0}get $writer(){return this[Ru]!==void 0?this[Ru]:this.$root.saved?(this.nfs.mkdirSync(this.np.dirname(this.path),{recursive:!0}),this[yjt]=this.nfs.statSync(this.path,{throwIfNoEntry:!1})??{size:0},this[Ru]=this.nfs.createWriteStream(this.path,{flags:"a+",highWaterMark:64*1024}),this[Ru][LNo]=this[Ru][bjt]=this[yjt].size,this[Ru]):null}set $writer(e){var t=this;let r=this[Ru];r&&e==null&&(this[Ru]=null,r.once("drain",function(){if(t[Ru]==null)return t[Ru]=void 0}),r.write(""))}$presolve(){return this}$flushToCloud(e=!1){var t=gt(this),r=this;t[K1]??={timeout:null,waiting:!1,flushes:0};let o=this.chunked.writeOffset,n=this.chunked.writableOffset,i=n-o;if(t[K1].timeout=null,i<1||t[K1].waiting)return!1;if(!this.$root.saved)return t[K1].waiting=!0,bl(this.$root,"saved",function(){return t[K1].waiting=!1,r.$flushToCloud()}),!1;if(!e&&i<this.batchSizeThreshold){t[K1].timeout||(t[K1].timeout=setTimeout(this.$flushToCloud.bind(this,!0),this.batchTimeout));return}e&&(clearTimeout(t[K1].timeout),t[K1].timeout=null);let s=this.chunked.chunk(o,n);if(this.chunked.writeOffset=n,t[K1].flushes++,globalThis.CHAOSMONKEY&&t[K1].flushes%4==0&&Math.random()>.5){console.warn("skipped sending message due to chaosmonkey");return}return OP.$send(s)}$flush(e=!1){var t=gt(this),r=this;return t[Zte]??={},this.$flushToCloud(!0);return!this[Ru]&&!this[Sxe]?Promise.resolve(this):t[Zte].promise||=new Promise(async function(o){let n;if(r[Sxe]&&await r[Sxe],n=r[Ru]){n.fd||await new Promise(function(s){return n.once("open",s)});let i=n[bjt];return r.nfs.fsync(n.fd,function(s){return s||(r.chunked.knownSize=i),t[Zte].promise=null,r[Ru]&&r[Ru]!=n?r.$flush():o(r)})}else return t[Zte].promise=null,o(r)})}};Fk.prototype[Le]=De,se([ho.bind([])],Fk.prototype,fjt,null),E(Fk,gjt,"OPByteStream",280);var iD=Fk;globalThis.OPByteStream=iD;var FNo=Symbol(),Uxe=class Uxe extends iD{unpackInto(e,t=0,r=null){var o=gt(this);o[cjt]??=OP.msgpack.createUnpacker();let n=e[Exe]??=0,i=e[Gte]??=0,s=this.readableSize;if(r=Math.min(s,r??s),t+n>=r)return e;let a=this.chunked.slice(t+n,r);try{let u=function(h,d,f){e[Exe]=n+f;let m=e[Gte];return e[Gte]++,e[m]?!0:e[m]=h},c=o[cjt].unpackMultiple(a,u)}catch(u){e[DNo]=u,e[NNo]=s}return e}get raw(){return this.unpackInto(this[INo]||=[])}get values(){return this.raw}push(...e){let t=OP.msgpack.packMultiple(...e);return this.append(t)}};E(Uxe,FNo,"OPDataStream",0);var Yte=Uxe;globalThis.OPDataStream=Yte;var kjt=Symbol(),uS=class uS extends OPEmbed{constructor(){super(...arguments),re(this,kjt)}get stream(){return this.$up.$up}get value(){return parseInt(this.oid)}get ts(){return this.value>2**30}set snapshot(e){this.snapshot.$set(e,this,xxe,"snapshot")}get snapshot(){return this.snapshot.$get(this,xxe,"snapshot")}get snapshot(){return this[hjt]||y((lS=this.route(),p(lS.get,Function)?lS.get():lS.get=!0,lS.callback=!1,lS),this,xxe,"snapshot",hjt,uS.prototype)}};uS.prototype[Le]=De,se([ke.bind([])],uS.prototype,"value",null),E(uS,kjt,"OPWALStreamRef",272);var sD=uS;globalThis.OPWALStreamRef=sD;var HNo=Symbol(),Pxe=class Pxe extends sD{};E(Pxe,HNo,"OPWALStreamTime",0);var Xte=Pxe;globalThis.OPWALStreamTime=Xte;var BNo=Symbol(),Txe=class Txe extends sD{};E(Txe,BNo,"OPWALStreamIndex",0);var Kte=Txe;globalThis.OPWALStreamIndex=Kte;var VNo=Symbol(),nD=class nD extends Yte{set snapshot(e){this.snapshot.$set(e,this,vxe,"snapshot")}get snapshot(){return this.snapshot.$get(this,vxe,"snapshot")}get snapshot(){return this[pjt]||y((aS=this.route(),p(aS.get,Function)?aS.get():aS.get=!0,aS.callback=!1,aS),this,vxe,"snapshot",pjt,nD.prototype)}set refs(e){this.refs.$set(e,this,wxe,"refs")}get refs(){return this.refs.$get(this,wxe,"refs")}get refs(){return this[djt]||y((oD=this.embeds({t:Xte,i:Kte}),p(oD.memory,Function)?oD.memory():oD.memory=!0,oD),this,wxe,"refs",djt,nD.prototype)}at(e){if(p(e,Date)&&(e=+e),e>2**30)return this.refs.$sub("t0"+e);if(typeof e=="number")return this.refs.$sub("i0"+e)}get raw(){return this.wal.raw}get wal(){return this[Cxe]||=new OPWAL,this.unpackInto(this[Cxe].raw||=[]),this[Cxe].resolved}get events(){return console.warn("walstream.events deprecated"),this.raw.events}write(e){return this.wal.write(e)}flush(){let e=this.raw[Gte];if(this.raw.length>e){let t=this.raw.slice(e),r=OP.msgpack.packMultiple(...t);return OPBinaryChunk.new({offset:this.raw[Exe],bytes:r,target:this}).$handle()}}};E(nD,VNo,"OPWALStream",0);var jxe=nD;globalThis.OPWALStream=jxe;var zNo=Symbol(),Oxe=class Oxe extends iD{get mimeType(){return"audio/webm"}};E(Oxe,zNo,"OPAudioStream",0);var Axe=Oxe;globalThis.OPAudioStream=Axe;T();oe();T();oe();T();var Rxe={"3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp","3mf":"model/3mf",aac:"audio/aac",ac:"application/pkix-attr-cert",adp:"audio/adpcm",adts:"audio/aac",ai:"application/postscript",aml:"application/automationml-aml+xml",amlx:"application/automationml-amlx+zip",amr:"audio/amr",apng:"image/apng",appcache:"text/cache-manifest",appinstaller:"application/appinstaller",appx:"application/appx",appxbundle:"application/appxbundle",asc:"application/pgp-keys",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",au:"audio/basic",avci:"image/avci",avcs:"image/avcs",avif:"image/avif",aw:"application/applixware",bdoc:"application/bdoc",bin:"application/octet-stream",bmp:"image/bmp",bpk:"application/octet-stream",btf:"image/prs.btif",btif:"image/prs.btif",buffer:"application/octet-stream",ccxml:"application/ccxml+xml",cdfx:"application/cdfx+xml",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cer:"application/pkix-cert",cgm:"image/cgm",cjs:"application/node",class:"application/java-vm",coffee:"text/coffeescript",conf:"text/plain",cpl:"application/cpl+xml",cpt:"application/mac-compactpro",crl:"application/pkix-crl",css:"text/css",csv:"text/csv",cu:"application/cu-seeme",cwl:"application/cwl",cww:"application/prs.cww",davmount:"application/davmount+xml",dbk:"application/docbook+xml",deb:"application/octet-stream",def:"text/plain",deploy:"application/octet-stream",dib:"image/bmp","disposition-notification":"message/disposition-notification",dist:"application/octet-stream",distz:"application/octet-stream",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",dot:"application/msword",dpx:"image/dpx",drle:"image/dicom-rle",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtd:"application/xml-dtd",dump:"application/octet-stream",dwd:"application/atsc-dwd+xml",ear:"application/java-archive",ecma:"application/ecmascript",elc:"application/octet-stream",emf:"image/emf",eml:"message/rfc822",emma:"application/emma+xml",emotionml:"application/emotionml+xml",eps:"application/postscript",epub:"application/epub+zip",exe:"application/octet-stream",exi:"application/exi",exp:"application/express",exr:"image/aces",ez:"application/andrew-inset",fdf:"application/fdf",fdt:"application/fdt+xml",fits:"image/fits",g3:"image/g3fax",gbr:"application/rpki-ghostbusters",geojson:"application/geo+json",gif:"image/gif",glb:"model/gltf-binary",gltf:"model/gltf+json",gml:"application/gml+xml",gpx:"application/gpx+xml",gram:"application/srgs",grxml:"application/srgs+xml",gxf:"application/gxf",gz:"application/gzip",h261:"video/h261",h263:"video/h263",h264:"video/h264",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",held:"application/atsc-held+xml",hjson:"application/hjson",hlp:"application/winhlp",hqx:"application/mac-binhex40",hsj2:"image/hsj2",htm:"text/html",html:"text/html",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",img:"application/octet-stream",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",ipfix:"application/ipfix",iso:"application/octet-stream",its:"application/its+xml",jade:"text/jade",jar:"application/java-archive",jhc:"image/jphc",jls:"image/jls",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpgm:"image/jpm",jpgv:"video/jpeg",jph:"image/jph",jpm:"image/jpm",jpx:"image/jpx",js:"text/javascript",json:"application/json",json5:"application/json5",jsonld:"application/ld+json",jsonml:"application/jsonml+json",jsx:"text/jsx",jt:"model/jt",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",kar:"audio/midi",ktx:"image/ktx",ktx2:"image/ktx2",less:"text/less",lgr:"application/lgr+xml",list:"text/plain",litcoffee:"text/coffeescript",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m4a:"audio/mp4",m4p:"application/mp4",m4s:"video/iso.segment",ma:"application/mathematica",mads:"application/mads+xml",maei:"application/mmt-aei+xml",man:"text/troff",manifest:"text/cache-manifest",map:"application/json",mar:"application/octet-stream",markdown:"text/markdown",mathml:"application/mathml+xml",mb:"application/mathematica",mbox:"application/mbox",md:"text/markdown",mdx:"text/mdx",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mft:"application/rpki-manifest",mid:"audio/midi",midi:"audio/midi",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mjs:"text/javascript",mml:"text/mathml",mods:"application/mods+xml",mov:"video/quicktime",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpd:"application/dash+xml",mpe:"video/mpeg",mpeg:"video/mpeg",mpf:"application/media-policy-dataset+xml",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpp:"application/dash-patch+xml",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",msh:"model/mesh",msi:"application/octet-stream",msix:"application/msix",msixbundle:"application/msixbundle",msm:"application/octet-stream",msp:"application/octet-stream",mtl:"model/mtl",musd:"application/mmt-usd+xml",mxf:"application/mxf",mxmf:"audio/mobile-xmf",mxml:"application/xv+xml",n3:"text/n3",nb:"application/mathematica",nq:"application/n-quads",nt:"application/n-triples",obj:"model/obj",oda:"application/oda",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opus:"audio/ogg",otf:"font/otf",owl:"application/rdf+xml",oxps:"application/oxps",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pdf:"application/pdf",pfr:"application/font-tdpfr",pgp:"application/pgp-encrypted",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pls:"application/pls+xml",png:"image/png",prc:"model/prc",prf:"application/pics-rules",provx:"application/provenance+xml",ps:"application/postscript",pskcxml:"application/pskc+xml",pti:"image/prs.pti",qt:"video/quicktime",raml:"application/raml+yaml",rapd:"application/route-apd+xml",rdf:"application/rdf+xml",relo:"application/p2p-overlay+xml",rif:"application/reginfo+xml",rl:"application/resource-lists+xml",rld:"application/resource-lists-diff+xml",rmi:"audio/midi",rnc:"application/relax-ng-compact-syntax",rng:"application/xml",roa:"application/rpki-roa",roff:"text/troff",rq:"application/sparql-query",rs:"application/rls-services+xml",rsat:"application/atsc-rsat+xml",rsd:"application/rsd+xml",rsheet:"application/urc-ressheet+xml",rss:"application/rss+xml",rtf:"text/rtf",rtx:"text/richtext",rusd:"application/route-usd+xml",s3m:"audio/s3m",sbml:"application/sbml+xml",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",sdp:"application/sdp",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation",sgi:"image/sgi",sgm:"text/sgml",sgml:"text/sgml",shex:"text/shex",shf:"application/shf+xml",shtml:"text/html",sieve:"application/sieve",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",siv:"application/sieve",slim:"text/slim",slm:"text/slim",sls:"application/route-s-tsid+xml",smi:"application/smil+xml",smil:"application/smil+xml",snd:"audio/basic",so:"application/octet-stream",spdx:"text/spdx",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/sql",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",ssml:"application/ssml+xml",stk:"application/hyperstudio",stl:"model/stl",stpx:"model/step+xml",stpxz:"model/step-xml+zip",stpz:"model/step+zip",styl:"text/stylus",stylus:"text/stylus",svg:"image/svg+xml",svgz:"image/svg+xml",swidtag:"application/swid+xml",t:"text/troff",t38:"image/t38",td:"application/urc-targetdesc+xml",tei:"application/tei+xml",teicorpus:"application/tei+xml",text:"text/plain",tfi:"application/thraud+xml",tfx:"image/tiff-fx",tif:"image/tiff",tiff:"image/tiff",toml:"application/toml",tr:"text/troff",trig:"application/trig",ts:"video/mp2t",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"font/collection",ttf:"font/ttf",ttl:"text/turtle",ttml:"application/ttml+xml",txt:"text/plain",u3d:"model/u3d",u8dsn:"message/global-delivery-status",u8hdr:"message/global-headers",u8mdn:"message/global-disposition-notification",u8msg:"message/global",ubj:"application/ubjson",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",vcard:"text/vcard",vrml:"model/vrml",vtt:"text/vtt",vxml:"application/voicexml+xml",war:"application/java-archive",wasm:"application/wasm",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webmanifest:"application/manifest+json",webp:"image/webp",wgsl:"text/wgsl",wgt:"application/widget",wif:"application/watcherinfo+xml",wmf:"image/wmf",woff:"font/woff",woff2:"font/woff2",wrl:"model/vrml",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",x3d:"model/x3d+xml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",xaml:"application/xaml+xml",xav:"application/xcap-att+xml",xca:"application/xcap-caps+xml",xcs:"application/calendar+xml",xdf:"application/xcap-diff+xml",xdssc:"application/dssc+xml",xel:"application/xcap-el+xml",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/xfdf",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xlf:"application/xliff+xml",xm:"audio/xm",xml:"text/xml",xns:"application/xcap-ns+xml",xop:"application/xop+xml",xpl:"application/xproc+xml",xsd:"application/xml",xsf:"application/prs.xsf+xml",xsl:"application/xml",xslt:"application/xml",xspf:"application/xspf+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",zip:"application/zip"};function _jt(l){let e=(""+l).trim().toLowerCase(),t=e.lastIndexOf(".");return Rxe[~t?e.substring(++t):e]}var xjt=Symbol(),qNo=/^\s*([^;\s]*)(?:;|\s|$)/,WNo=["html","js","jpeg","mpeg","mp4","pdf","zip"],ZNo={weba:"webm",jpg:"jpeg",jpe:"jpeg"};function jh(l){var e=gt(globalThis);if(!l||typeof l!="string")return!1;let t=qNo.exec(l);if(!t)return!1;if(t[1]=="image/x-icon")return"ico";e[xjt]??=Object.entries(Rxe).reduce(function(n,[i,s]){let a;return n[s]||=[],(a=ZNo[i])&&(i=a),WNo.includes(i)?n[s].unshift(i):n[s].push(i),n},{});let r=e[xjt][t[1].toLowerCase()];if(!(r!=null&&r.length))return!1;let o=r[0];return o=="weba"?"webm":o}function Mxe(l){return _jt(l)}import.meta.vitest&&describe("mime-to-ext",function(){return test("priority list works",function(){return ok(jh("text/html"),"html")}),test("popular mimes",function(){return ok(jh("text/javascript"),"js"),ok(jh("image/jpeg"),"jpeg"),ok(jh("audio/mpeg"),"m2a"),ok(jh("video/mpeg"),"mpeg"),ok(jh("video/mp4"),"mp4"),ok(jh("application/pdf"),"pdf"),ok(jh("application/zip"),"zip")}),test("extension overrides",function(){return ok(jh("audio/webm"),"webm")})});We();var Jte=Symbol(),Qte=Symbol(),Lxe=Symbol("id"),vjt=Symbol(),Dxe=Symbol("hash"),wjt=Symbol(),Nxe=Symbol("type"),Sjt=Symbol(),Ixe=Symbol("extension"),Cjt=Symbol(),Fxe=Symbol(),Mu,lD,aD,uD,pD=Symbol.for("#matcher"),Ejt=Symbol.for("#resolve"),ere=Symbol.for("#asset"),jjt=Symbol.for("#fetch"),YNo=Symbol.for("#objectURL"),td=Symbol.for("#model"),Lu=Symbol.for("#value"),XNo=Symbol.for("#resolving"),Bxe=Symbol.for("#id"),Djt=Symbol.for("#resolved"),Hxe=Symbol.for("#exists"),KNo=Symbol.for("#loadFromRemote"),JNo=Symbol.for("#arrayBuffer"),QNo=Symbol.for("#data");function eIo(l){if(Ah.all().filter(function(t){return t.uploading}).length)return l.preventDefault(),l.returnValue=""}globalThis.window.addEventListener("beforeunload",eIo);var Ajt=Symbol(),cD=class cD extends Array{constructor(){super(...arguments),re(this,Ajt)}async handle(){for(let e=0,t=B(this),r=t.length;e<r;e++){let o=t[e];o=await o,this[e]=await Ah.for(o)}}};cD.prototype[Le]=De,se([ho.bind([])],cD.prototype,"handle",null),E(cD,Ajt,"OPAssets",272);var Vxe=cD;globalThis.OPAssets=Vxe;var Ujt=Symbol(),cS=class cS{[A](e=null,t=!0,r=!0){var o;this.input=e?e.input:void 0,this.name=e&&(o=e.name)!==void 0?o:null,this.type=e&&(o=e.type)!==void 0?o:null,this.hash=e&&(o=e.hash)!==void 0?o:null,this.blob=e&&(o=e.blob)!==void 0?o:null,this.binary=e&&(o=e.binary)!==void 0?o:null,this.meta=e&&(o=e.meta)!==void 0?o:{},this.$type=e?e.$type:void 0,this.tmpPath=e&&(o=e.tmpPath)!==void 0?o:null}constructor(e,t=Ah,r={}){this[A](),this.input=e,this.$type=t,this.params=r,re(this,Ujt)}async arrayBuffer(){return await this,this.binary}get objectURL(){return this[YNo]||=this.blob&&URL.createObjectURL(this.blob)}get base(){return"A/"+this.hash.hex.replace(/(\w{4})/,"$1/")}get baseDir(){return""+OP.LFS_DIR+"/"+this.base}get path(){return this.baseDir+"/original"}get size(){return this.binary.byteLength||this.binary.length}get model(){let e=this[td]=this.$type.get(this.meta);return e[Lu]=this,e}get resolved(){var e;return!!((e=this.resolve.check(this))!=null&&e.met)}get tata(){return 10}get proxied(){return!1}async resolve(){var r,o,n,i;this[XNo]=!0;let e=this.input;if(typeof e=="string"&&e.match(/^https?\:/)&&(e=new URL(e)),this.type=this.params.type,p(e,URL)){let s=await globalThis.fetch(e);this.type=s.headers.get("content-type"),this.binary=await s.blob()}p(e,OPPlain)?(this.type=OP_DATA_MIMETYPE,this.binary=Uint8Array.from(OP.$pack(e)),this.meta.extension="omp"):p(e,Blob)&&(this.type||=e.type,this.binary||=e),p(e,File)||p(e,Blob)?(this.name||=e.name,this.binary||=e):e.kind=="file"?this.binary||=await e.getFile():e!=null&&e.isFile&&p(e.file,Function)&&(this.binary||=await new Promise(function(s){return e.file(s)})),this.type||(this.type||=((r=this.params)==null?void 0:r.type)||await W5t(this.binary)),p(this.binary,Blob)&&(this.name||=this.binary.name,this.blob=this.binary,this.binary=await this.blob.arrayBuffer()),this.hash=this.meta.hash=OP.hash(this.binary,"binary"),this.name&&(this.meta.name=this.name,this.meta.extension||=this.name.pluck(/\w\.(\w{1,8})$/)),!this.type&&this.meta.extension&&(this.type=Mxe(this.meta.extension)),this.meta.type=this.type,this.meta.extension||=jh(this.meta.type),this.meta.extension=="jpg"&&(this.meta.extension="jpeg");let t=Ah.typeformime(this.type,this.meta.extension);if((n=(o=t==null?void 0:t.types)==null?void 0:o.has)!=null&&n.call(o,this.$type)||(this.$type=t),this.meta.extension=="heic")throw new Error(""+this.meta.extension+" is not widely supported in browser");(i=this.$type)!=null&&i.probe&&await this.$type.probe(this,this.meta)}get local(){return this[td]?this[td].local:!0}get unsaved(){return this[td]?this[td].unsaved:!0}get id(){var e;return((e=this[td])==null?void 0:e.id)||this[Bxe]||null}async save(){return await this,await this.model.$save()}};cS.prototype[Le]=De,se([ke.bind([])],cS.prototype,"model",null),se([ho.bind([])],cS.prototype,"resolve",null),E(cS,Ujt,"OPAssetValue",272);var Z3=cS;globalThis.OPAssetValue=Z3;var tIo=Symbol.for("#model"),Pjt=Symbol(),Xxe=class Xxe{constructor(e,t){var r=this;this.nr=Math.random(),this.target=e,this.kind=t,this[Lu]=e,this.target.resolve=this.target.resolve.bind(this.target),this.target.then(function(o){return r[Djt]=!0,r.target=r[td]=r[Lu].model}),re(this,Pjt)}get(e,t,r){return t===tIo||t==="model"&&this[td]?this[td]:t=="proxied"?!0:Reflect.get(this.target,t,r)}set(e,t,r){return Reflect.set(this.target,t,r),!0}getPrototypeOf(e){return this[td]?Object.getPrototypeOf(this[td]):Object.getPrototypeOf(this[Lu])}};E(Xxe,Pjt,"OPAssetProxy",16);var zxe=Xxe,Tjt=Symbol(),xa=class xa extends OPObject{constructor(){super(...arguments),re(this,Tjt)}static probe(e,t={}){}static typeformime(e,t=null){var r=gt(this);if(r[Jte]??={},!r[Jte][e])for(let n of B(this.types))n.mimes&&(n.mimes.regex,n.mimes!="*/*"&&n.mimestest(e)&&(r[Jte][e]=n));let o=r[Jte][e]||=this;return t&&o.typeforext(t)||o}static typeforext(e){var r,o;var t=gt(this);if(t[Qte]??={},!t[Qte][e])for(let n of B(this.types))n.extensions&&(o=(r=n.extensions)==null?void 0:r.has)!=null&&o.call(r,e)&&(t[Qte][e]=n);return t[Qte][e]||=this}static setup(e){if(this.extensions==e.extensions&&(this.extensions=null),this.mimes==e.mimes)this.mimes=null;else if(this.mimes){let t=new RegExp(this.mimes.replace(/[.+?^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".+"));this.mimespattern=t,this.mimestest=t.test.bind(t)}return super.setup(...arguments)}static[pD](e){return p(e,Blob)||p(e,File)?this==xa?!0:this.mimes&&this.mimestest(e.type):!1}static get(e,t){if(p(e,OPPlain)&&typeof e.type=="string"){let r=this.typeformime(e.type,e.extension),o=r.compositekeyfor(e);return r.get(o,t)}return super.get(...arguments)}static new(e,t){if(p(e,Z3)||(e=new Z3(e,this)),p(e,Z3)){if(e.resolved&&e.$type!=this)return e.model;e.resolve(),e[Bxe]||=this.key.generate()}let r=e[Bxe];return OP.setrich(r,new Proxy(e,new zxe(e,this)))}static async create(e,t){let r=await this.from(e);return await r.save(),r}static async from(e,t={}){if(p(e,this))return e;t.$model=this;let r=await new Z3(e,null,t);if(r.$type)return r.model}static async pick(e){let t=e.accept||this.mimes;return await OP.pickfiles({...e,multiple:e.multiple||!1,accept:t})}static for(e,t={}){return this.from(e,t)}static mimetoext(e){return jh(e)}static exttomime(e){return Mxe(e)}get saved(){return this[Hxe]||!this[Lu]}get unsaved(){return!this.saved}get resolved(){return!0}[Ejt](){return!0}set id(e){this.id.$set(e,this,Lxe,"id")}get id(){return this.id.$get(this,Lxe,"id")}get id(){return this[vjt]||y((Mu=this.key(),p(Mu.size,Function)?Mu.size(16):Mu.size=16,p(Mu.system,Function)?Mu.system():Mu.system=!0,p(Mu.base58,Function)?Mu.base58():Mu.base58=!0,p(Mu.rwxcd,Function)?Mu.rwxcd(OP.ANYONE):Mu.rwxcd=OP.ANYONE,Mu),this,Lxe,"id",vjt,xa.prototype)}set hash(e){this.hash.$set(e,this,Dxe,"hash")}get hash(){return this.hash.$get(this,Dxe,"hash")}get hash(){return this[wjt]||y((lD=this.bytea(),p(lD.composite,Function)?lD.composite():lD.composite=!0,lD),this,Dxe,"hash",wjt,xa.prototype)}set type(e){this.type.$set(e,this,Nxe,"type")}get type(){return this.type.$get(this,Nxe,"type")}get type(){return this[Sjt]||y((aD=this.string(),p(aD.composite,Function)?aD.composite():aD.composite=!0,aD),this,Nxe,"type",Sjt,xa.prototype)}set extension(e){this.extension.$set(e,this,Ixe,"extension")}get extension(){return this.extension.$get(this,Ixe,"extension")}get extension(){return this[Cjt]||y((uD=this.string(),p(uD.composite,Function)?uD.composite():uD.composite=!0,uD),this,Ixe,"extension",Cjt,xa.prototype)}get exists(){return this[Hxe]}get local(){return this[Lu]&&!this.exists}get gzipped(){return!0}writeToPath(e){var t=gt(this),r=this;return t[Fxe]??={},t[Fxe][e]||=new Promise(function(o,n){return r.https.get(r.fullUrl,function(i){let s=r.nfs.createWriteStream(e);return i.pipe(s),s.on("finish",function(){return t[Fxe].lastPath=e,o(r)})})})}loadFromRemote(){var e=this;return this[KNo]||=new Promise(async function(t,r){if(await e,e.exists||!G.OP_REMOTE_URL)return t(e);let o=""+G.OP_REMOTE_URL+e.originalURL,n=await globalThis.fetch(o);if(!n.ok)return t(e);let i=await n.arrayBuffer();return await e.saveToDisk(i),t(e)})}arrayBuffer(){var e=this;return this[JNo]||=new Promise(async function(t){var r;if(p(e[Lu],Uint8Array))return t(e[Lu]);if(p((r=e[Lu])==null?void 0:r.arrayBuffer,Function))return t(await e[Lu].arrayBuffer());{let n=await(await globalThis.fetch(e.url)).arrayBuffer();return t(n)}})}$save(){var e=this;return this.unsaved?this.$saving||=new Vow(async function(t){if(e[Lu]){let r=await e.arrayBuffer();if((await window.fetch(e.baseUrl,{method:"HEAD"})).status==404){let n=await OP.post("/op/assets/"+e.id,r)}}return e[Hxe]=!0,e[Djt]=!0,e.$saving=null,t(e)}):this}serialize(){return this.id}get sourceHash(){return this.hash.hex}get basePath(){return""+this.baseDir+"/original"}get originalPath(){return this.originalURL}get originalURL(){return this.extension?"/op/fs/"+this.base+"/original."+this.extension:"/op/fs/"+this.base+"/original"}get baseUrl(){return"/op/assets/"+this.id}get path(){return this.originalPath}get url(){var e;return(e=this[Lu])!=null&&e.blob?this[Lu].objectURL:this.extension?"/op/assets/"+this.id+"."+this.extension:"/op/assets/"+this.id}get asurl(){return this.url}get fullUrl(){let e=this.extension?"/op/assets/"+this.id+"."+this.extension:"/op/assets/"+this.id;return""+OP.origin+e}get objectUrl(){return""+OP.origin+"/"+this.id}get base(){return"A/"+this.sourceHash.replace(/(\w{4})/,"$1/")}get baseDir(){return""+OP.LFS_DIR+"/"+this.base}};xa.prototype[Le]=De,xa.polymorphic=!0,xa.alias="A",xa.mimes="*/*",xa.extensions=null,se([ho.bind([])],xa.prototype,Ejt,null),se([ke.bind([])],xa.prototype,"sourceHash",null),E(xa,Tjt,"OPAsset",280);var Ah=xa;globalThis.OPAsset=Ah;var rIo=Symbol(),Kxe=class Kxe{static[pD](e){return!!(Ye(e,tre)||Ye(e,rre)||Ye(e,Ah)||p(e,Ah))}static async pick(e={}){let t=e.accept,r={accept:"*/*",folders:!0,...e,multiple:e.multiple||!1};return await OP.pickfiles(e)}};E(Kxe,rIo,"OPFSEntry",0);var qxe=Kxe;globalThis.OPFSEntry=qxe;var oIo=Symbol(),Jxe=class Jxe{static[pD](e){return!!(e!=null&&e.file)}static async pick(e={}){return await OP.pickfiles({...e,folders:!1})}};E(Jxe,oIo,"OPFile",0);var tre=Jxe;globalThis.OPFile=tre;var Ojt=Symbol(),Qxe=class Qxe{constructor(e=null){this[A](e),re(this,Ojt)}[A](e=null,t=!0,r=!0){var o;this.name=e?e.name:void 0,this._entries=e&&(o=e._entries)!==void 0?o:new Map}get kind(){return"directory"}entries(){return this._entries.entries()}values(){return this._entries.values()}toIterable(){return this._entries}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}add(e){return this._entries.set(e.name,e)}static[pD](e){return!!p(e,FileSystemDirectoryHandle)}static async pick(e={}){return await OP.pickfiles({...e,folders:!0})}};E(Qxe,Ojt,"OPDir",16);var rre=Qxe;globalThis.OPDir=rre;var nIo=Symbol(),eve=class eve{static[pD](e){var t;return!!(p(e,File)||p(e,FileSystemHandle)||p(e,DataTransfer)&&e.files||Object.isPlain(e)&&((t=e.entries)!=null&&t.length))}static from(e){return new this(e)}};E(eve,nIo,"OPFiles",0);var Wxe=eve;globalThis.OPFiles=Wxe;var iIo=Symbol(),ire=class ire extends Ah{};ire.mimes="text/*",E(ire,iIo,"OPTextAsset",0);var ore=ire;globalThis.OPTextAsset=ore;var sIo=Symbol(),sre=class sre extends ore{};sre.extensions=["imba"],E(sre,sIo,"OPImbaAsset",0);var Zxe=sre;globalThis.OPImbaAsset=Zxe;var lIo=Symbol(),lre=class lre extends Ah{};lre.mimes="font/*",E(lre,lIo,"OPFontAsset",0);var Gxe=lre;globalThis.OPFontAsset=Gxe;var Rjt=new WeakMap,Mjt=Symbol(),hD=class hD{constructor(e){Rjt.set(this,e),re(this,Mjt)}get[ere](){return Rjt.get(this)}async[jjt](){await this[ere];let e=await this[ere].arrayBuffer(),t=e!=null&&e.byteLength?(()=>{try{return OP.msgpack.unpack(e)}catch(r){return r}})():{};return p(t,OPPlain)||console.warn("OPDataAssetContent for "+this[ere].id+" is not a plain object"),Object.assign(this,t),Object.freeze(this),!0}};hD.prototype[Le]=De,se([ho.bind([])],hD.prototype,jjt,null),E(hD,Mjt,"OPDataAssetContent",272);var nre=hD;globalThis.OPDataAssetContent=nre;var Ljt=Symbol(),W3=class W3 extends Ah{constructor(){super(...arguments),re(this,Ljt)}static from(e){return this.get(this.$sanitize(e))}static $sanitize(e,t=null){if(p(e,W3))return e.id;if(p(e,OPPlain)){let r=Uint8Array.from(OP.$pack(e)),n={hash:OP.hash(r,"binary"),type:OP_DATA_MIMETYPE},i=this.get(n);return i[Lu]=r,i.id}return e}get content(){return new nre(this)}data(){var e=this;return this[QNo]||=new Promise(async function(t){let r=await e.arrayBuffer(),o=(()=>{try{return OP.msgpack.unpack(r)}catch(n){return n}})();return p(o,Error)&&console.warn("could not unpack data",e,e.id,o,r),t(o)})}};W3.prototype[Le]=De,W3.mimes=OP_DATA_MIMETYPE,se([ke.bind([])],W3.prototype,"content",null),E(W3,Ljt,"OPDataAsset",272);var Yxe=W3;globalThis.OPDataAsset=Yxe;T();oe();var aIo=Symbol(),rve=class rve extends OPAsset{get gzipped(){return!1}};E(rve,aIo,"OPMedia",0);var tve=rve;globalThis.OPMedia=tve;T();oe();var ove=Symbol("duration"),Njt=Symbol(),dD,uIo=Symbol(),Ijt=Symbol(),cIo=Symbol.for("##up"),hIo=Symbol.for("##register"),pIo=Symbol(),fD=class fD extends OPMedia{set duration(e){this.duration.$set(e,this,ove,"duration")}get duration(){return this.duration.$get(this,ove,"duration")}get duration(){return this[Njt]||y((dD=this.int(),p(dD.composite,Function)?dD.composite():dD.composite=!0,dD),this,ove,"duration",Njt,fD.prototype)}static async probe(e,t={}){return await new Promise(function(r){var c;var o,n={},i,s,a;let u=(i=s=0,o=o=w("audio",null,"hz-af",null),i||(o[cIo]=n._),i||((c=o[hIo])==null||c.call(o,n,uIo)),a=e.objectURL,a===o[Ijt]||(o.src=o[Ijt]=a),o);return u.addEventListener("loadedmetadata",function(){return t.duration=Math.round(u.duration*1e3),r(!0)}),u.load()}),t}};fD.mimes="audio/*",E(fD,pIo,"OPAudio",0);var nve=fD;globalThis.OPAudio=nve;T();oe();var dIo=Symbol(),Fjt=Symbol(),fIo=Symbol.for("##up"),mIo=Symbol.for("##register");function Hjt(l,e){return e===0?l:Hjt(e,l%e)}var $Io=Symbol(),are=class are extends OPMedia{get width(){return this.params[5]}get height(){return this.params[6]}get aspectRatio(){return this.params[7]}static async _for(e,t={}){var u;var r,o={},n,i,s;let a=t.params;{let c=(n=i=0,r=r=w("video",null,null,null),n||(r[fIo]=o._),n||((u=r[mIo])==null||u.call(r,o,dIo)),s=t.bloburl,s===r[Fjt]||(r.src=r[Fjt]=s),r);await new Promise(function(b){return c.addEventListener("loadedmetadata",b,{once:!0}),c.load()});let h=c.duration,d=c.videoWidth,f=c.videoHeight,m=Hjt(d,f),$=d/m+":"+f/m;a.push(h,d,f,$)}return this.get(this.encodeKey(a))}};are.alias="VID",E(are,$Io,"OPVideo",0);var ive=are;globalThis.OPVideo=ive;T();oe();T();function Bjt(a,e,t,r,o,n,i,s){var a=document.createElement("canvas");a.width=t,a.height=r;var u=a.getContext("2d",{willReadFrequently:!0});return u.mozImageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.webkitImageSmoothingEnabled=!0,u.msImageSmoothingEnabled=!0,u.imageSmoothingEnabled=!0,u.drawImage(e,o,n,i,s,0,0,t,r),a}function Hk(l){return l+.49<<0}function Vjt(l,e,t,r,o,n,i){for(var s=new ImageData(e,t),a=new Int32Array(l.data.buffer),u=l.width,c=new Int32Array(s.data.buffer),h=s.width,d=e/n,f=t/i,m=Hk(1/d),$=Hk(1/f),b=m*$,g=0;g<s.height;g++)for(var x=0;x<h;x++){for(var k=r+Hk(x/d)+(o+Hk(g/f))*u,_=0,S=0,v=0,C=0,j=0;j<$;j++)for(var P=0;P<m;P++){var U=a[k+P+j*u];_+=U<<24>>>24,S+=U<<16>>>24,v+=U<<8>>>24,C+=U>>>24}_=Hk(_/b),S=Hk(S/b),v=Hk(v/b),C=Hk(C/b),c[x+g*h]=C<<24|v<<16|S<<8|_}return s}function yIo(l,e,t,r){var o=new Date,n={},i=o,s="01";return{mark:l?function(a){a=s+". "+(a||"..."),n[a]={"time (ms)":new Date-i},i=new Date,s=("0"+((s>>0)+1)).substr(-2)}:new Function,finish:l?function(){n[s+" TOTAL"]={"time (ms)":new Date-o},console.log("IMAGE SOURCE:",e),console.log("DOWNSCALE TO:",t+"x"+r),console.table(n)}:new Function}}function bIo(){var l=[],e=[],t=[],r=new Object;return{createSetter:function(o){if(!this.get(o)){var n=l.push(o)-1;return e.push(r),t.push([]),function(i){e[n]=i,t[n]=t[n].reduce(function(s,a){a(i)},[])}}},get:function(o,n){var i=l.indexOf(o);if(~i){if(e[i]===r){t[i].push(n);return}n(e[i])}},has:function(o){return!!~l.indexOf(o)}}}function gIo(l,e,t,r){l.width=t,l.height=r;var o=l.getContext("2d",{willReadFrequently:!0});return o.drawImage(e,0,0),o.getImageData(0,0,t,r)}function zjt(l,e){l.width=e.width,l.height=e.height;var t=l.getContext("2d",{willReadFrequently:!0});return t.putImageData(e,0,0),l}function qjt(l,e,c,h,o,n){var i=o,s=n,a=o/n;l===0&&(l=e*a>>0),e===0&&(e=l/a>>0);var u=l/e;u>a?n=o/u>>0:o=n*u>>0;var c=c||(i-o)/2>>0,h=h||(s-n)/2>>0;return{destWidth:l,destHeight:e,sourceX:c,sourceY:h,sourceWidth:o,sourceHeight:n}}function Wjt(l,e,t){if(e.returnCanvas){t(l);return}if(e.returnBlob){l.toBlob(t,"image/"+(e.imageType||"jpeg"),e.quality||.85);return}var r=l.toDataURL("image/"+(e.imageType||"jpeg"),e.quality||.85);t(r)}function kIo(l,e){var t=new XMLHttpRequest;t.open("GET",l),t.responseType="arraybuffer",t.addEventListener("load",function(){e(this.response)}),t.send()}function sve(l,e){l.complete?e():l.addEventListener("load",e)}function _Io(l,e){l.readyState>1?e():l.addEventListener("loadeddata",e)}function lve(l){if(l instanceof File)return"File";if(l instanceof HTMLImageElement)return"HTMLImageElement";if(l instanceof HTMLVideoElement)return"HTMLVideoElement";if(typeof l=="string")return"URL"}function xIo(l){if(l.length<3)return new TypeError("3 arguments required, but only "+l.length+" present.");if(!lve(l[0]))return new TypeError("First argument should be HTMLImageElement, HTMLVideoElement, File of String");if(typeof l[1]!="number")return new TypeError("Second argument should be a number");if(typeof l[2]!="number")return new TypeError("Third argument should be a number")}function tm(l,e,t,r){var o=yIo(r&&r.debug||!1,l,e,t),n=xIo(arguments);if(n instanceof TypeError)return Promise.reject(n);r=r||{};var i,s,a=new Promise(function(m,$){i=m,s=$});tm.canvas=tm.canvas||document.createElement("canvas"),tm.cache=tm.cache||bIo();var u=tm.canvas,c=tm.cache;if(c.has(l))return o.mark(),c.get(l,function(m){o.mark("PENDING CACHE");var $=m[0],b=m[1],g=qjt(e,t,r.sourceX,r.sourceY,b.width,b.height);if(g.sourceWidth/g.destWidth>=2&&g.sourceHeight/g.destHeight>=2){o.mark();var x=Vjt(b,g.destWidth,g.destHeight,g.sourceX,g.sourceY,g.sourceWidth,g.sourceHeight);o.mark("DOWNSCALE"),u=zjt(u,x)}else u=Bjt(u,$,g.destWidth,g.destHeight,g.sourceX,g.sourceY,g.sourceWidth,g.sourceHeight),o.mark("RESIZE WITH CANVAS");Wjt(u,r,function(k){o.mark("PRODUCE RESULT"),i(k),o.finish()})}),a;var h=function(m,$,b){var g=qjt(e,t,r.sourceX,r.sourceY,$,b);if(g.sourceWidth/g.destWidth>=2&&g.sourceHeight/g.destHeight>=2){o.mark();var x=gIo(u,m,$,b);o.mark("GET IMAGE DATA");var k=Vjt(x,g.destWidth,g.destHeight,g.sourceX,g.sourceY,g.sourceWidth,g.sourceHeight);o.mark("DOWNSCALE"),u=zjt(u,k),lve(m)!=="HTMLVideoElement"&&c.createSetter(m)([m,x])}else u=Bjt(u,m,g.destWidth,g.destHeight,g.sourceX,g.sourceY,g.sourceWidth,g.sourceHeight),o.mark("RESIZE WITH CANVAS");Wjt(u,r,function(_){o.mark("PRODUCE RESULT"),i(_),o.finish()})},d=window.URL||window.webkitURL;switch(lve(l)){case"File":var f=document.createElement("img");o.mark(),f.src=d.createObjectURL(l),o.mark("READ FILE"),sve(f,function(){o.mark("LOAD IMAGE"),h(f,f.naturalWidth,f.naturalHeight)});break;case"HTMLImageElement":o.mark(),sve(l,function(){o.mark("LOAD IMAGE"),h(l,l.naturalWidth,l.naturalHeight)});break;case"HTMLVideoElement":_Io(l,function(){h(l,l.videoWidth,l.videoHeight)});break;case"URL":o.mark(),setTimeout(function(){kIo(l,function(m){o.mark("LOAD ARRAY BUFFER");var $=new Uint8Array(m),b=new Blob([$],{type:"image/jpeg"}),g=document.createElement("img");g.src=d.createObjectURL(b),o.mark(),sve(g,function(){o.mark("LOAD IMAGE"),h(g,g.naturalWidth,g.naturalHeight)})})});break}return a}We();var ave=Symbol("width"),Zjt=Symbol(),uve=Symbol("height"),Gjt=Symbol(),cve=Symbol("size"),Yjt=Symbol(),hve=Symbol("samples"),Xjt=Symbol(),pve=Symbol("hasAlpha"),Kjt=Symbol(),dve=Symbol("hasProfile"),Jjt=Symbol(),fve=Symbol("density"),Qjt=Symbol(),mD,$D,yD,bD,gD,kD,_D,ure=Symbol.for("#w"),cre=Symbol.for("#h"),vIo=Symbol.for("#text"),eAt=Symbol(),_ve=class _ve{[A](e=null,t=!0,r=!0){this.outel=e?e.outel:void 0}constructor(){this[A](),this.outel=globalThis.document.createElement("canvas"),this.outel.width=16,this.outel.height=16,this.scale=4,re(this,eAt)}size(e,t,r=4){return(this[ure]!=e||this[cre]!=t)&&(this.canvas=globalThis.document.createElement("canvas"),this.canvas.width=this[ure]=e,this.canvas.height=this[cre]=t,this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0})),r=4,this}render(){return this.ctxout||=this.outel.getContext("2d"),this.ctxout.drawImage(this.canvas,0,0,this[ure],this[cre],0,0,this[ure]*this.scale,this[cre]*this.scale),this.outel.toDataURL()}};E(_ve,eAt,"OffScreenRenderer",16);var mve=_ve,wIo=new mve,SIo=Symbol(),G3=class G3 extends OPAsset{set width(e){this.width.$set(e,this,ave,"width")}get width(){return this.width.$get(this,ave,"width")}get width(){return this[Zjt]||y((mD=this.int(),p(mD.composite,Function)?mD.composite():mD.composite=!0,mD),this,ave,"width",Zjt,G3.prototype)}set height(e){this.height.$set(e,this,uve,"height")}get height(){return this.height.$get(this,uve,"height")}get height(){return this[Gjt]||y(($D=this.int(),p($D.composite,Function)?$D.composite():$D.composite=!0,$D),this,uve,"height",Gjt,G3.prototype)}set size(e){this.size.$set(e,this,cve,"size")}get size(){return this.size.$get(this,cve,"size")}get size(){return this[Yjt]||y((yD=this.int(),p(yD.composite,Function)?yD.composite():yD.composite=!0,yD),this,cve,"size",Yjt,G3.prototype)}get aspectRatio(){return this.width/this.height}get image(){return!0}get gzipped(){return!1}get asicon(){return this}};G3.mimes="image/*",E(G3,SIo,"OPImage",0);var hS=G3;globalThis.OPImage=hS;var tAt=Symbol(),Uh=class Uh extends hS{constructor(){super(...arguments),re(this,tAt)}set samples(e){this.samples.$set(e,this,hve,"samples")}get samples(){return this.samples.$get(this,hve,"samples")}get samples(){return this[Xjt]||y((bD=this.bytea(),p(bD.composite,Function)?bD.composite():bD.composite=!0,bD),this,hve,"samples",Xjt,Uh.prototype)}set hasAlpha(e){this.hasAlpha.$set(e,this,pve,"hasAlpha")}get hasAlpha(){return this.hasAlpha.$get(this,pve,"hasAlpha")}get hasAlpha(){return this[Kjt]||y((gD=this.bit(0),p(gD.composite,Function)?gD.composite():gD.composite=!0,gD),this,pve,"hasAlpha",Kjt,Uh.prototype)}set hasProfile(e){this.hasProfile.$set(e,this,dve,"hasProfile")}get hasProfile(){return this.hasProfile.$get(this,dve,"hasProfile")}get hasProfile(){return this[Jjt]||y((kD=this.bit(1),p(kD.composite,Function)?kD.composite():kD.composite=!0,kD),this,dve,"hasProfile",Jjt,Uh.prototype)}set density(e){this.density.$set(e,this,fve,"density")}get density(){return this.density.$get(this,fve,"density")}get density(){return this[Qjt]||y((_D=this.int(),p(_D.composite,Function)?_D.composite():_D.composite=!0,_D),this,fve,"density",Qjt,Uh.prototype)}static async probe(e,t={}){let r=new globalThis.window.Image;await new Promise(function(n,i){return r.onerror=function(){return i("Error processing the image")},r.onload=n,r.src=e.objectURL}),t.width=r.naturalWidth,t.height=r.naturalHeight;let o=await tm(r,4,4,{returnCanvas:!0});t.samples=o.getContext("2d").getImageData(0,0,4,4).data.filter(function(n,i){return i%4!=3})}tourl(e=null){let t=this.url;if(e&&!t.startsWith("blob:")){let r=OP.msgpack.stringify(e);r!="3D"&&(t+="?f="+r)}return t}get placeholder(){return""+globalThis.location.origin+"/op/fs/"+this.id+"."+this.extension+".mini."+this.extension}get params(){var e;return(e=OPKey.decode(this.id))==null?void 0:e.payload}get minisize(){return this.samples?Math.sqrt(this.samples.length/3):0}get minigrid(){if(!this.samples)return;let e=0,t=this.samples,r=t.length,o="";for(;e<r;){let n=t[e++],i=t[e++],s=t[e++];o+="<b style='color:rgb("+n+","+i+","+s+")'></b>"}return"<div style='--s:"+this.minisize+"'>"+o+"</div>"}get minibg(){if(!this.samples)return;let e=0,t=this.samples,r=this.minisize,o=t.length,n=this.pixels,i="linear-gradient(145deg";for(let s=0,a=B(this.pixels),u=a.length;s<u;s++){let[c,h,d]=a[s],f=s%r,m=Math.floor(s/r);f==m&&(i+=", rgb("+c+","+h+","+d+")")}return i+")"}get pixels(){let e=0,t=this.minisize,r=this.samples,o=r.length,n,i=[];for(;e<o;){let s=r[e++],a=r[e++],u=r[e++];i.push([s,a,u,255])}return i}get minipreview(){let e=this.minisize,t=this.minisize,r=1,o=e*r,n=t*r,i=wIo.size(o,n),s=i.ctx.createImageData(e,t);for(let a=0,u=B(this.pixels),c=u.length;a<c;a++){let h=u[a];s.data[a*4]=h[0],s.data[a*4+1]=h[1],s.data[a*4+2]=h[2],s.data[a*4+3]=h[3]}return i.ctx.putImageData(s,0,0),i.render()}};Uh.prototype[Le]=De,Uh.mimes="image/*",Uh.extensions=["jpg","jpeg","gif","png","webp"],se([ke.bind([])],Uh.prototype,"params",null),se([ke.bind([])],Uh.prototype,"minipreview",null),E(Uh,tAt,"OPRasterImage",272);var Y3=Uh;globalThis.OPRasterImage=Y3;var CIo=Symbol(),xD=class xD extends Y3{};xD.mimes="image/jpeg",xD.extensions=["jpg","jpeg"],E(xD,CIo,"OPJPEGAsset",0);var $ve=xD;globalThis.OPJPEGAsset=$ve;var EIo=Symbol(),vD=class vD extends Y3{};vD.mimes="image/x-icon",vD.extensions=["ico"],E(vD,EIo,"OPICOAsset",0);var yve=vD;globalThis.OPICOAsset=yve;var jIo=Symbol(),wD=class wD extends Y3{};wD.mimes="image/png",wD.extensions=["png"],E(wD,jIo,"OPPNGAsset",0);var bve=wD;globalThis.OPPNGAsset=bve;var AIo=Symbol(),SD=class SD extends Y3{};SD.mimes="image/webp",SD.extensions=["webp"],E(SD,AIo,"OPWEBPAsset",0);var gve=SD;globalThis.OPWEBPAsset=gve;var UIo=Symbol(),CD=class CD extends hS{tourl(e=null){return this.url}text(){var e=this;return this[vIo]||=new Promise(async function(t){{let o=await(await globalThis.fetch(e.url)).text();return t(o)}})}};CD.mimes="image/svg+xml",CD.extensions=["svg"],E(CD,UIo,"OPVectorImage",0);var kve=CD;globalThis.OPVectorImage=kve;OPObjectRegistry.oI=hS;T();oe();var xve=Symbol("id"),rAt=Symbol(),vve=Symbol("creator"),oAt=Symbol(),wve=Symbol("claimed"),nAt=Symbol(),Sve=Symbol("started"),iAt=Symbol(),Cve=Symbol("finished"),sAt=Symbol(),Eve=Symbol("estimate"),lAt=Symbol(),jve=Symbol("status"),aAt=Symbol(),Ave=Symbol("target"),uAt=Symbol(),Uve=Symbol("action"),cAt=Symbol(),Pve=Symbol("params"),hAt=Symbol(),Tve=Symbol("payload"),pAt=Symbol(),Ove=Symbol("error"),dAt=Symbol(),Rve=Symbol("result"),fAt=Symbol(),Mve=Symbol("worker"),mAt=Symbol(),rd,pS,$At,yAt,bAt,hre,gAt,kAt,_At,xAt,vAt,wAt,SAt,CAt,PIo=Symbol(),Wi=class Wi extends OPObject{set id(e){this.id.$set(e,this,xve,"id")}get id(){return this.id.$get(this,xve,"id")}get id(){return this[rAt]||y((rd=this.key(),p(rd.system,Function)?rd.system():rd.system=!0,p(rd.r,Function)?rd.r(OPOWNER|OPADMIN):rd.r=OPOWNER|OPADMIN,p(rd.cwd,Function)?rd.cwd(OPADMIN):rd.cwd=OPADMIN,rd),this,xve,"id",rAt,Wi.prototype)}set creator(e){this.creator.$set(e,this,vve,"creator")}get creator(){return this.creator.$get(this,vve,"creator")}get creator(){return this[oAt]||y((pS=this.ref(OPAgent),p(pS.as,Function)?pS.as(OPOWNER):pS.as=OPOWNER,pS.default=function(){return OP.pov},pS),this,vve,"creator",oAt,Wi.prototype)}set claimed(e){this.claimed.$set(e,this,wve,"claimed")}get claimed(){return this.claimed.$get(this,wve,"claimed")}get claimed(){return this[nAt]||y(($At=this.ts(),$At),this,wve,"claimed",nAt,Wi.prototype)}set started(e){this.started.$set(e,this,Sve,"started")}get started(){return this.started.$get(this,Sve,"started")}get started(){return this[iAt]||y((yAt=this.ts(),yAt),this,Sve,"started",iAt,Wi.prototype)}set finished(e){this.finished.$set(e,this,Cve,"finished")}get finished(){return this.finished.$get(this,Cve,"finished")}get finished(){return this[sAt]||y((bAt=this.ts(),bAt),this,Cve,"finished",sAt,Wi.prototype)}set estimate(e){this.estimate.$set(e,this,Eve,"estimate")}get estimate(){return this.estimate.$get(this,Eve,"estimate")}get estimate(){return this[lAt]||y((hre=this.ms(),hre.default=function(){return 1e4},hre.default.literal=1e4,hre),this,Eve,"estimate",lAt,Wi.prototype)}set status(e){this.status.$set(e,this,jve,"status")}get status(){return this.status.$get(this,jve,"status")}get status(){return this[aAt]||y((gAt=this.string(),gAt),this,jve,"status",aAt,Wi.prototype)}set target(e){this.target.$set(e,this,Ave,"target")}get target(){return this.target.$get(this,Ave,"target")}get target(){return this[uAt]||y((kAt=this.ref(OPObject),kAt),this,Ave,"target",uAt,Wi.prototype)}set action(e){this.action.$set(e,this,Uve,"action")}get action(){return this.action.$get(this,Uve,"action")}get action(){return this[cAt]||y((_At=this.string(),_At),this,Uve,"action",cAt,Wi.prototype)}set params(e){this.params.$set(e,this,Pve,"params")}get params(){return this.params.$get(this,Pve,"params")}get params(){return this[hAt]||y((xAt=this.msgpack(),xAt),this,Pve,"params",hAt,Wi.prototype)}set payload(e){this.payload.$set(e,this,Tve,"payload")}get payload(){return this.payload.$get(this,Tve,"payload")}get payload(){return this[pAt]||y((vAt=this.object(),vAt),this,Tve,"payload",pAt,Wi.prototype)}set error(e){this.error.$set(e,this,Ove,"error")}get error(){return this.error.$get(this,Ove,"error")}get error(){return this[dAt]||y((wAt=this.object(),wAt),this,Ove,"error",dAt,Wi.prototype)}set result(e){this.result.$set(e,this,Rve,"result")}get result(){return this.result.$get(this,Rve,"result")}get result(){return this[fAt]||y((SAt=this.object(),SAt),this,Rve,"result",fAt,Wi.prototype)}set worker(e){this.worker.$set(e,this,Mve,"worker")}get worker(){return this.worker.$get(this,Mve,"worker")}get worker(){return this[mAt]||y((CAt=this.ref(OPWorker),CAt),this,Mve,"worker",mAt,Wi.prototype)}static get implemented(){return this.prototype.execute!=Wi.prototype.execute}get failed(){return!!this.error}get running(){return!this.finished&&!this.failed&&this.started}get finished(){return!!this.finished}get elapsed(){return this.started?Number(this.finished||Date.now())-+this.started:0}get progress(){return this.started?this.finished?1:(this.elapsed/this.estimate).clamp(0,.95):0}get state(){return!0}get cssflags(){return this.status}invoke(){}get implemented(){return this.execute!=Wi.prototype.execute}async execute(){let e=this.target,t=e.$shape[this.action],r=this.worker,o=await OP.$call(t,e,this.params||[this],r);return this}};Wi.alias="J",E(Wi,PIo,"OPJob",0);var Lve=Wi;globalThis.OPJob=Lve;T();oe();ge(),We();var Dve=Symbol("color"),EAt=Symbol(),jAt,pre=Symbol(),AAt=Symbol(),Nve=Symbol();var Ive=Symbol(),UAt=Symbol(),PAt=Symbol(),TAt=Symbol(),OAt=Symbol(),RAt=Symbol(),MAt=Symbol(),TIo=Symbol.for("#matcher"),LAt=Symbol.for("##up"),DAt=Symbol.for("##register"),NAt=Symbol.for("#afterVisit"),OIo=Symbol.for("#appendChild"),RIo=Symbol.for("#placeChild"),dre=Symbol(),dS=class dS extends Qe(dre,null,OPBase,OPOpenPerms,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[dre])==null||o.call(this,...arguments)}set color(e){this.color.$set(e,this,Dve,"color")}get color(){return this.color.$get(this,Dve,"color")}get color(){return this[EAt]||y((jAt=this.color(),jAt),this,Dve,"color",EAt,dS.prototype)}get $up(){return this.field}get virtual(){return!0}get $plain(){return{}}constructor(e,t){super(),this[A](),this.value=e,this.$rich={},Object.assign(this,t),re(this,dre)}get cssclasses(){return""+this.value+" "+(this.default?"default":"")+" "+(this.hue||"")}get asdetail(){return this.field.aslabel}get asfiltertip(){return""+this.field.aslabel+" - "+this.name}toString(){return this.value}toJSON(){return this.value}all(...e){return this.field.all(...e)}opownoption(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[pre])||(r=o=0,e=t[pre]=e=R("op-option-new",null,null,null)),r||(e[LAt]=t._),r||((i=e[DAt])==null||i.call(e,t,pre)),n=this,n===e[AAt]||(e.data=e[AAt]=n),r||t.sym||!e.setup||e.setup(o,t,pre),t.sym||e[NAt](o),e}get asicon(){return this.icon||""+(this.value||this.name)+"_"+this.$up.name}[TIo](e){return e[this.field.name]==this}opownchip(e,t){var $;var r,o=H(),n,i,s,a,u,c,h,d,f,m;return n=i=1,(r=o[Nve])||(n=i=0,r=o[Nve]=r=w("span",null,"op-chip pill",null)),n||(r[LAt]=o._),n||(($=r[DAt])==null||$.call(r,o,Nve)),s=this.cssclasses,s===r[Ive]||(i|=2,r[Ive]=s),s=this,s===r[UAt]||(r.data=r[UAt]=s),n||r.on$("optip",{},this),i&2&&r.flag$("op-chip pill "+(r[Ive]||"")),u=c=1,(a=r[PAt])||(u=c=0,r[PAt]=a=R("op-icon",r,"op-icon",null)),h=this.asicon,h===r[TAt]||(a.data=r[TAt]=h),u||!a.setup||a.setup(c,d),a[NAt](c),u||r[OIo](a),(f=r[OAt])||(r[OAt]=f=w("span",r,"op-label",null)),m=this.aschiplabel,m===r[MAt]&&n||(r[RAt]=f[RIo](r[MAt]=m,384,r[RAt])),r}};dS.prototype[Le]=De,se([ke.bind([])],dS.prototype,"$plain",null),E(dS,dre,"OPEnumValue",336);var Fve=dS;globalThis.OPEnumValue=Fve;T();oe();var MIo=Symbol.for("#matcher"),LIo=Symbol.for("#regex"),DIo=Symbol.for("#fuzzy"),IAt={},fre=Symbol(),ED=class ED extends Qe(fre,OPBase,OPRenderable){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[fre])==null||o.call(this,...arguments)}constructor(e,t){super(),super[A]||this[A](),this.value=e,this.id=t,re(this,fre)}static get(e){return IAt[e]||=new ED(JSON.parse(e),e)}static for(e){let t=JSON.stringify(e);return IAt[t]||=new ED(e,t)}static pick(){return globalThis.prompt("Enter value:")}get resolved(){return!0}get $type(){return this.constructor}get aslabel(){return this.value}get regex(){return this[LIo]||=new RegExp((this.value||"").replace(/[\/\^\$]/g,""),"i")}get fuzzy(){return this[DIo]||=new RegExp((this.value||"").split("").join(".*"),"i")}get cssclasses(){return"String"}[MIo](e){var t;return(t=e==null?void 0:e.match)==null?void 0:t.call(e,this.regex)}[Symbol.match](e){return e.match(this.regex)}toString(){return this.value}valueOf(){return this.value}get name(){return this.value}};E(ED,fre,"OPString",80);var Hve=ED;globalThis.OPString=Hve;var NIo=Symbol(),Bve=class Bve{match(e){return(this.name??this.title??this.desc??"").match(e)}};E(Bve,NIo,"OPObject",1,OPObject);var FAt=Bve;T();oe();We(),$e();var Vve=Symbol("field"),HAt=Symbol(),zve=Symbol("title"),BAt=Symbol(),qve=Symbol("sorter"),VAt=Symbol(),zAt,jD,Wve,mre=Symbol(),qAt=Symbol(),WAt=Symbol(),fS=Symbol(),IIo=Symbol(),AD=Symbol(),FIo=Symbol(),ZAt=Symbol.for("#sorter"),HIo=Symbol.for("##up"),BIo=Symbol.for("##register"),VIo=Symbol.for("#getSlot"),GAt=Symbol.for("#getRenderContext"),YAt=Symbol.for("#isRichElement"),$re=Symbol.for("#afterVisit"),XAt=Symbol.for("#insertInto"),KAt=Symbol.for("#replaceWith"),JAt=Symbol(),Gve=class Gve{[A](e=null,t=!0,r=!0){var o;this.$f=e&&(o=e.$f)!==void 0?o:0}constructor(e,t=1){var r=this;this[A](),this.key=e;let o=this.cache=UD.caches[e]||=new Map,n=o,i=function(a,u){let c=u.get(a);return c===void 0&&(u.set(a,c=a[e]??null),u!=o&&o.set(a,c)),c},s=function(a,u){let c=i(a,n),h=i(u,n);return c>h?t:c==h?0:-t};this.configure=function(a){if(n=a.cache||(a.recompute?new Map:o),p(a.move,Set))for(let u of B(a.move))o.delete(u);return r},this.invalidate=function(a,u=!0){if(p(a,Set))for(let c of B(a)){r.invalidate(c,u);return}return u?o.set(a,a[e]):o.delete(a)},this.sort=s.bind(this),re(this,JAt)}};E(Gve,JAt,"OPSortSingle",16);var yre=Gve;globalThis.OPSortSingle=yre;var QAt=Symbol(),mS=class mS{static for(e){let t;if(p(e,OPPlain)){let r=String(Object.entries(e));t=this.map.get(r),t||this.map.set(r,t=new this(e))}return t}constructor(e={}){this.object=e,this.id=this.constructor.sorters.push(this);let t=[];for(let i=0,s=Object.keys(e),a=s.length,u,c;i<a;i++){u=s[i],c=e[u];let h=new yre(u,c);t.push(h)}this.sorters=t;let[r,o,n]=t.map(function(i){return i.sort});t.length==1?this.sorter=r:t.length==2?this.sorter=function(i,s){return r(i,s)||o(i,s)}:t.length==3?this.sorter=function(i,s){return r(i,s)||o(i,s)||n(i,s)}:console.warn("currently not allowing more than 3 sorters",this),re(this,QAt)}sort(e,t={}){for(let r=0,o=B(this.sorters),n=o.length;r<n;r++)o[r].configure(t,e);return e.sort(this.sorter)}invalidate(e,t=!0){for(let r=0,o=B(this.sorters),n=o.length;r<n;r++)o[r].invalidate(e,t);return this}};mS.sorters=[],mS.caches={},mS.map=new Map,E(mS,QAt,"OPSortFunction",16);var UD=mS;globalThis.OPSortFunction=UD;var eUt=Symbol(),rm=class rm extends OPObject{constructor(){super(...arguments),super[A]||this[A](),re(this,eUt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.fn=e&&(o=e.fn)!==void 0?o:null,this.scorer=e&&(o=e.scorer)!==void 0?o:this.default_scorer.bind(this)}set field(e){this.field.$set(e,this,Vve,"field")}get field(){return this.field.$get(this,Vve,"field")}get field(){return this[HAt]||y((zAt=this.string(),zAt),this,Vve,"field",HAt,rm.prototype)}set title(e){this.title.$set(e,this,zve,"title")}get title(){return this.title.$get(this,zve,"title")}get title(){return this[BAt]||y((jD=this.string(),p(jD.fallback,Function)?jD.fallback(function(){return this.oid.humanize()}):jD.fallback=function(){return this.oid.humanize()},jD),this,zve,"title",BAt,rm.prototype)}default_scorer(e){return e[this.field]||0}get asicon(){return"sortdesc"}get asdropdownicon(){return this.asicon}set sorter(e){this.sorter.$set(e,this,qve,"sorter")}get sorter(){return this.sorter.$get(this,qve,"sorter")}get sorter(){return this[VAt]||y((Wve=this.memo(),Wve.callback=function(){let e={[this.field]:-1};return UD.for(e)},Wve),this,qve,"sorter",VAt,rm.prototype)}get[ZAt](){let e=this.scorer,t=1;return function(r,o){return((e(r)||0)-(e(o)||0))*t}}opownmi(e,t){var S;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return n=i=1,(r=o[mre])||(n=i=0,r=o[mre]=r=R("op-mi",null,"vk-af",null)),n||(r[HIo]=o._),n||((S=r[BIo])==null||S.call(r,o,mre)),s=r[VIo]("__",r),n||(r.data__={rich:!0}),a=this,a===r[qAt]||(r.data=r[qAt]=a),c=h=1,(u=r[WAt])||(c=h=0,r[WAt]=u=w("div",s,"omi-body",null)),d=u[GAt](IIo),m=$=1,(f=d.run(this.oel(this,"mi-icon")))||(m=$=0,d.cache(f=M(d.value,u,"mi-icon",null))),f[YAt]&&((!m||$&2)&&f.flags.reconcile(fS,"mi-icon"),m||!f.setup||f.setup($,d),f[$re]($)),f==u[fS]||!u[fS]&&(u[fS]=f)[XAt](u)||u[fS][KAt](u[fS]=f,u),b=u[GAt](FIo),x=k=1,(g=b.run(this.oel(this,"mi-label")))||(x=k=0,b.cache(g=M(b.value,u,null,null))),g[YAt]&&(x||!g.setup||g.setup(k,b),g[$re](k)),g==u[AD]||!u[AD]&&(u[AD]=g)[XAt](u)||u[AD][KAt](u[AD]=g,u),c||!u.setup||u.setup(h,_),u[$re](h),n||o.sym||!r.setup||r.setup(i,o,mre),o.sym||r[$re](i),r}};rm.prototype[Le]=De,rm.alias="Z",se([ke.bind([])],rm.prototype,ZAt,null),E(rm,eUt,"OPSorter",272);var Zve=rm;globalThis.OPSorter=Zve;T();oe();var Yve=Symbol("id"),tUt=Symbol(),Xve=Symbol("name"),rUt=Symbol(),Kve=Symbol("target"),oUt=Symbol(),Jve=Symbol("user"),nUt=Symbol(),Qve=Symbol("session"),iUt=Symbol(),ewe=Symbol("count"),sUt=Symbol(),twe=Symbol("register_event"),lUt=Symbol(),Du,PD,Bk,TD,OD,bre,om,zIo=Symbol(),Tf=class Tf extends OPObject{set id(e){this.id.$set(e,this,Yve,"id")}get id(){return this.id.$get(this,Yve,"id")}get id(){return this[tUt]||y((Du=this.key(),p(Du.silent,Function)?Du.silent():Du.silent=!0,p(Du.system,Function)?Du.system():Du.system=!0,p(Du.serial,Function)?Du.serial():Du.serial=!0,p(Du.rwxcd,Function)?Du.rwxcd(OPSRV):Du.rwxcd=OPSRV,Du),this,Yve,"id",tUt,Tf.prototype)}set name(e){this.name.$set(e,this,Xve,"name")}get name(){return this.name.$get(this,Xve,"name")}get name(){return this[rUt]||y((PD=this.string(),p(PD.index,Function)?PD.index():PD.index=!0,PD),this,Xve,"name",rUt,Tf.prototype)}set target(e){this.target.$set(e,this,Kve,"target")}get target(){return this.target.$get(this,Kve,"target")}get target(){return this[oUt]||y((Bk=this.ref(OPObject),p(Bk.weak,Function)?Bk.weak():Bk.weak=!0,p(Bk.index,Function)?Bk.index():Bk.index=!0,Bk),this,Kve,"target",oUt,Tf.prototype)}set user(e){this.user.$set(e,this,Jve,"user")}get user(){return this.user.$get(this,Jve,"user")}get user(){return this[nUt]||y((TD=this.ref(OPUser),p(TD.index,Function)?TD.index():TD.index=!0,TD),this,Jve,"user",nUt,Tf.prototype)}set session(e){this.session.$set(e,this,Qve,"session")}get session(){return this.session.$get(this,Qve,"session")}get session(){return this[iUt]||y((OD=this.ref(OPSession),p(OD.index,Function)?OD.index():OD.index=!0,OD),this,Qve,"session",iUt,Tf.prototype)}set count(e){this.count.$set(e,this,ewe,"count")}get count(){return this.count.$get(this,ewe,"count")}get count(){return this[sUt]||y((bre=this.int(),bre.default=function(){return 1},bre.default.literal=1,bre),this,ewe,"count",sUt,Tf.prototype)}};Tf.alias="E",E(Tf,zIo,"OPEvent",0);var rwe=Tf;globalThis.OPEvent=rwe;var qIo=Symbol(),owe=class owe{set register_event(e){this.register_event.$set(e,this,twe,"register_event")}get register_event(){return this.register_event.$get(this,twe,"register_event")}get register_event(){return this[lUt]||y((om=this.action(),p(om.x,Function)?om.x(OPANYONE):om.x=OPANYONE,p(om.rpc,Function)?om.rpc():om.rpc=!0,om.callback=!1,om),this,twe,"register_event",lUt,OPApp.prototype)}};E(owe,qIo,"OPApp",1,OPApp);var aUt=owe;T();oe();We();var nwe=Symbol("active"),uUt=Symbol(),iwe=Symbol("exclude"),cUt=Symbol(),swe=Symbol("pinned"),hUt=Symbol(),lwe=Symbol("exclude_when_off"),pUt=Symbol(),awe=Symbol("default_on"),dUt=Symbol(),uwe=Symbol("remove_filter"),fUt=Symbol(),cwe=Symbol("query"),mUt=Symbol(),hwe=Symbol("filters"),$Ut=Symbol(),pwe=Symbol("sorter"),yUt=Symbol(),dwe=Symbol("choosing"),bUt=Symbol(),fwe=Symbol("regex"),gUt=Symbol(),mwe=Symbol("toggle-choosing-filters"),kUt=Symbol(),$we=Symbol("clear-filters"),_Ut=Symbol(),od,X3,RD,MD,LD,$S,DD,xUt,ND,ID,ywe,nm,im,WIo=le("&.active?",globalThis,l=>l.active),wUt=Symbol.for("#matcher"),ZIo=Symbol(),sm=class sm extends OPEmbed{set active(e){this.active.$set(e,this,nwe,"active")}get active(){return this.active.$get(this,nwe,"active")}get active(){return this[uUt]||y((od=this.bool(),p(od.session,Function)?od.session():od.session=!0,p(od.g,Function)?od.g(0):od.g=0,p(od.fallback,Function)?od.fallback(function(){return this.default_on}):od.fallback=function(){return this.default_on},od),this,nwe,"active",uUt,sm.prototype)}set exclude(e){this.exclude.$set(e,this,iwe,"exclude")}get exclude(){return this.exclude.$get(this,iwe,"exclude")}get exclude(){return this[cUt]||y((X3=this.bit(1),p(X3.g,Function)?X3.g(0):X3.g=0,X3.default=function(){return!1},X3.default.literal=!1,X3),this,iwe,"exclude",cUt,sm.prototype)}set pinned(e){this.pinned.$set(e,this,swe,"pinned")}get pinned(){return this.pinned.$get(this,swe,"pinned")}get pinned(){return this[hUt]||y((RD=this.bit(2),p(RD.g,Function)?RD.g(0):RD.g=0,RD),this,swe,"pinned",hUt,sm.prototype)}set exclude_when_off(e){this.exclude_when_off.$set(e,this,lwe,"exclude_when_off")}get exclude_when_off(){return this.exclude_when_off.$get(this,lwe,"exclude_when_off")}get exclude_when_off(){return this[pUt]||y((MD=this.bit(3),p(MD.g,Function)?MD.g(100):MD.g=100,MD),this,lwe,"exclude_when_off",pUt,sm.prototype)}set default_on(e){this.default_on.$set(e,this,awe,"default_on")}get default_on(){return this.default_on.$get(this,awe,"default_on")}get default_on(){return this[dUt]||y((LD=this.bit(4),p(LD.g,Function)?LD.g(100):LD.g=100,LD),this,awe,"default_on",dUt,sm.prototype)}set remove_filter(e){this.remove_filter.$set(e,this,uwe,"remove_filter")}get remove_filter(){return this.remove_filter.$get(this,uwe,"remove_filter")}get remove_filter(){return this[fUt]||y(($S=this.action(),p($S.g,Function)?$S.g(1e3):$S.g=1e3,$S.callback=function(){return this.$up.delete(this)},$S),this,uwe,"remove_filter",fUt,sm.prototype)}get value(){return OP.get(this.$key)}get aslabel(){return"Filter"}get group(){var e;return(e=this.value)==null?void 0:e.constructor}get exclude(){return this.exclude||!this.active&&this.exclude_when_off}get active(){return this.active||this.exclude_when_off}toggle(){return this.active=!this.active}get cssclasses(){var e;return"Filter "+((e=this.value)==null?void 0:e.cssclasses)+" "+(this.active?"@checked":"")+" "+(this.pinned?"pinned":"")}removefrom(e){return this.pinned?this.active=!1:e.delete(this)}[wUt](e){return Ye(e,this.value)}opownicon(e,t){return this.value.opownicon(this,t)}};E(sm,ZIo,"OPFilter",0);var gre=sm;globalThis.OPFilter=gre;var vUt=Symbol(),Nu=class Nu extends OPEmbed{constructor(){super(...arguments),super[A]||this[A](),re(this,vUt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.sources=e&&(o=e.sources)!==void 0?o:null}set query(e){this.query.$set(e,this,cwe,"query")}get query(){return this.query.$get(this,cwe,"query")}get query(){return this[mUt]||y((DD=this.string(),p(DD.session,Function)?DD.session():DD.session=!0,DD),this,cwe,"query",mUt,Nu.prototype)}set filters(e){this.filters.$set(e,this,hwe,"filters")}get filters(){return this.filters.$get(this,hwe,"filters")}get filters(){return this[$Ut]||y((xUt=this.map(gre),xUt),this,hwe,"filters",$Ut,Nu.prototype)}set sorter(e){this.sorter.$set(e,this,pwe,"sorter")}get sorter(){return this.sorter.$get(this,pwe,"sorter")}get sorter(){return this[yUt]||y((ND=this.ref(OPSorter),p(ND.observable,Function)?ND.observable():ND.observable=!0,ND),this,pwe,"sorter",yUt,Nu.prototype)}set choosing(e){this.choosing.$set(e,this,dwe,"choosing")}get choosing(){return this.choosing.$get(this,dwe,"choosing")}get choosing(){return this[bUt]||y((ID=this.bool(),p(ID.session,Function)?ID.session():ID.session=!0,ID),this,dwe,"choosing",bUt,Nu.prototype)}set regex(e){this.regex.$set(e,this,fwe,"regex")}get regex(){return this.regex.$get(this,fwe,"regex")}get regex(){return this[gUt]||y((ywe=this.memo(),ywe.callback=function(){let e=this.query;return e?(e=e.replace(/[\/\^\$]/g,""),e=e.replace(/\s+/g,"[ws]+"),new RegExp(e,"i")):null},ywe),this,fwe,"regex",gUt,Nu.prototype)}set togglechoosingfilters(e){this.togglechoosingfilters.$set(e,this,mwe,"togglechoosingfilters")}get togglechoosingfilters(){return this.togglechoosingfilters.$get(this,mwe,"togglechoosingfilters")}get togglechoosingfilters(){return this[kUt]||y((nm=this.action(),p(nm.g,Function)?nm.g(0):nm.g=0,p(nm.rx,Function)?nm.rx(OPADMIN):nm.rx=OPADMIN,nm.callback=function(){return this.choosing^=!0},nm),this,mwe,"togglechoosingfilters",kUt,Nu.prototype)}set clearfilters(e){this.clearfilters.$set(e,this,$we,"clearfilters")}get clearfilters(){return this.clearfilters.$get(this,$we,"clearfilters")}get clearfilters(){return this[_Ut]||y((im=this.action(),p(im.g,Function)?im.g(0):im.g=0,p(im.rx,Function)?im.rx(OPANYONE):im.rx=OPANYONE,im.callback=function(){for(let e of B(this.filters))e.active=!1;return this.query="",this},im),this,$we,"clearfilters",_Ut,Nu.prototype)}get options(){var e;return((e=this.$key.args[1])==null?void 0:e.options)||[]}get active(){return this.filters.slice(0).filter(function(e){return e.active})}set active(e){if(p(e,OPObject)&&(e=[e]),e)for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];this.add(n)}for(let t=0,r=B(this.filters),o=r.length;t<o;t++){let n=r[t];n.active=e.includes(n)||e.includes(n.value)}}add(e,t=!0){let r=e;if(typeof e=="string"&&(r=OPString.for(e)),p(e,OPSorter)){this.sorter=e;return}let o={};return typeof t=="boolean"?o.active=t:Object.isPlain(t)&&Object.assign(o,t),this.filters.set(r,o)}get grouped(){let e=this.filters.slice(0),t=new Map;for(let r of B(e)){let o;if(o=r.group){let n=t.setnx(o,[]);n.group=o,n.push(r)}}for(let[r,o]of B(t))r.options&&o.sort(function(n,i){return r.options.indexOf(n.value)-r.options.indexOf(i.value)});return t}get newsorter(){return this.sorter}indexOf(e){let t=this.get(e);return this.filters.indexOf(t)}get(e){return this.filters.get(e)}has(e){return!!this.get(e)}get matcher(){let e=this.filters.slice(0).filter(WIo),t=new Map,r=!0,o,n;for(let s of B(e)){if(s.exclude){(o||=[]).push(s);continue}let a=s.group,u=t.setnx(a,[]);u.push(s),u.length>1&&(r=!1)}if(this.stats={excludes:o,filters:e,groups:t,shallow:r},o&&(this.stats.excludesfn=function(s){var a;a=[];for(let u=0,c=B(o),h=c.length;u<h;u++){let d=c[u];if(Ye(s,d))return!1}return a}),e.size==0)return function(){return!0};if(e.size==1){let s=e[0];return s.exclude?function(a){return!Ye(a,s)}:function(a){return Ye(a,s)}}if(o&&(r=!1,n=this.stats.excludesfn=function(s){for(let a=0,u=B(o),c=u.length;a<c;a++){let h=u[a];if(Ye(s,h))return!1}return!0}),r)return function(s){for(let a of B(e))if(!Ye(s,a))return!1;return!0};if(t.size==1&&!o)return function(s){for(let a of B(e))if(Ye(s,a))return!0;return!1};let i=Array.from(t.values());return function(s){if(n&&!n(s))return!1;let a=!1;for(let u of B(i)){a=!1;for(let c of B(u))if(Ye(s,c)){a=!0;break}if(!a)return!1}return!0}}toIterable(){return this.filters.toIterable()}get size(){return this.filters.size}[Symbol.iterator](...e){return this.filters[Symbol.iterator](...e)}map(e){return this.filters.map(e)}every(e){return this.filters.every(e)}some(e){return this.filters.some(e)}delete(e){return this.filters.delete(e)}slice(...e){return this.filters.slice(...e)}[wUt](e){return this.matcher(e)}sortersforsources(e){var t;return((t=e.types[0])==null?void 0:t.$sorters)||[]}suggestionsforsources(e,t={}){let r=e.types[0];if(!(r&&r.types))return[];let o=new Set,n=[];for(let i of B(r.types)){r.types.size>1&&(o.add(i),n.push(i));for(let s=0,a=B(i.$pivots),u=a.length;s<u;s++){let c=a[s];o.add(c)}for(let s=0,a=B(i.$sorters),u=a.length;s<u;s++){let c=a[s];o.add(c)}}return Array.from(o)}filterandsort(e,t={}){let r=this.matcher,{groups:o,excludes:n,excludesfn:i}=this.stats,s=t.query||this.query,a=this.newsorter,u=a,c=!!a,h=e.$sorter;t.query&&t.query[0]=="@"&&(s=null),a||=h;let d=[],f=d.stat={hit:0},m,$;if(typeof s=="string"){let g=s.replace(/[\/\^\$]/g,"");g=g.replace(/\s+/g,"[\\w\\s]+"),$=new RegExp(g,"i")}for(let g=0,x=B(e),k=x.length;g<k;g++){let _=x[g];if(i&&!i(_))continue;let S=0,v=-1e7,C=u?u.scorer(_):h?0:_.$score,j,P=!1;for(let[O,L]of B(o)){let I=!1;S+=.1;for(let F of B(L))Ye(_,F)&&(I=!0,S+=.9);I||(P=!0)}if(s){let O=_.assearchable||_.aslabel;$&&$.test(O)?v=1:P=!0}let U={data:_,score:S,hit:!P,sort:C||0,fzi:v,match:j};P||f.hit++,d.push(U),m&&!c&&(m.fzi!=U.fzi||U.score!=m.score||!a&&U.sort!=m.sort)&&(c=!0),m=U}let b=function(g,x){return typeof g=="string"&&typeof x=="string"?g>x?-1:g==x?0:1:x-g};return c&&d.sort(d.resorter=function(g,x){return b(g.score,x.score)||s&&b(g.fzi,x.fzi)||b(g.sort,x.sort)}),d}scoremodel(e,t,r={query:e,data:t,score:-1/0,field:null},o=0){let n;if(p(t,OPObject))for(let i=0,s=B(t.$shape.$s),a=s.length;i<a;i++){let u=s[i],c=t[u.name];if(typeof c=="string")n=u.s*FZI.score(e,c),n>r.score&&(r.score=n,r.field=t.$[u.name],r.depth=o);else if(p(c,OPIterable))for(let h=0,d=B(c),f=d.length;h<f;h++){let m=d[h];this.scoremodel(e,m,r,o+1)}else p(c,OPObject)&&this.scoremodel(e,c,r,o+1)}return r}};Nu.prototype[Le]=De,se([uw.bind([])],Nu.prototype,"grouped",null),se([uw.bind([])],Nu.prototype,"newsorter",null),se([uw.bind([])],Nu.prototype,"matcher",null),E(Nu,vUt,"OPFilters",272);var bwe=Nu;globalThis.OPFilters=bwe;T();oe();function GIo(l,e){return l[l.length+e]}We();var gwe=Symbol("__any__"),SUt=Symbol(),kwe=Symbol("add-item"),CUt=Symbol(),_we=Symbol("move-item"),EUt=Symbol(),xwe=Symbol("remove-item"),jUt=Symbol(),AUt,Ls,Ds,Ns,YIo=le("&.deleted?",globalThis,l=>l.deleted),UUt=Symbol.for("#resolve"),XIo=Symbol.for("#mount"),KIo=Symbol.for("#unmount"),JIo=Symbol.for("#sorter"),QIo=Symbol.for("#meta"),kre=Symbol(),Swe=class Swe extends Qe(kre,null,OPSecured){[A](e=null,t=!0,r=!0){var o;(o=this[kre])==null||o.call(this,...arguments)}constructor(e,t,r,o){super(),this[A](),this.$up=e,this.$field=t,this.$key=r,this.$type=o,re(this,kre)}get $shape(){return this.$type.$shape}get $(){return this.$shape}get $store(){return"$plain"}};E(Swe,kre,"OPEmbedSlot",80);var PUt=Swe,eFo=Symbol(),Cwe=class Cwe{get(e,t){if(e.$rich[t])return e.$rich[t];if(e.$slotforkey)return e.$slotforkey(t)}};E(Cwe,eFo,"OPEmbedsProxy",0);var vwe=Cwe,tFo=new vwe,_re=Symbol(),lm=class lm extends Qe(_re,OPIterable,OPRenderable,OPLifecycled){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[_re])==null||o.call(this,...arguments)}embed(e,t=null){let r=new OPEmbedField(e);return p(e,OPType)||p(e,OPPlain)&&Object.values(e).find(function(o){return p(o,OPType)})||(r.pgtype=null,r.virtual=!0),r.defaults=t,r}static get index(){return!0}static get $path(){return[this]}static $subshape(e){if(this.prototype.$subshape)return this.prototype.$subshape(e)}static $$invalidated(e,t,r){var s,a;if(qi.atomics){qi.atomics.add(this);return}if((r==null?void 0:r.constructor)==Set&&(r=null),e>10)return;let o;if(r&&p(r.$up,this)){o=r.$up,o.tracerinvalidated(r,null);return}let n=(a=(s=this.$tracer)==null?void 0:s.invalidated)==null?void 0:a.call(s,e,t,r);if(n){if(n.size){let u=this.$tracer.map.get(t),c=0,h=0;for(let[d,f]of B(n)){c++;let m=d[this.$field];p(m,this)&&(m.tracerinvalidated(r,null,u),h++)}return}else if(n.rxf&4096)return}if(e>0){this.$$v++;for(let[u,c]of B(this.$refiners))c.$$invalidated(e+1,this)}let i=this.$dependents;if(i)for(let u of B(i))u.$$invalidated(e+1,this,r);e==0&&qi.flush()}static forfield(e,...t){if(!p(e,OPField))throw"not supported";let r=e,o=""+r.name.humanize()+"  ",n=e.args[1],i=function(f,m){return!this.has(m)},s=function(f,m){return this.has(m)},a=this,u=e.unsorted?null:e[JIo]??OPSortFunction.for({_pos:1}),c=Symbol(),d=class d extends a{set __any__(m){this.__any__.$set(m,this,gwe,"__any__")}get __any__(){return this.__any__.$get(this,gwe,"__any__")}get __any__(){return this[SUt]||y((AUt=this.embed(r.args[1],r.args[2]),AUt),this,gwe,"__any__",SUt,d.prototype)}set additem(m){this.additem.$set(m,this,kwe,"additem")}get additem(){return this.additem.$get(this,kwe,"additem")}get additem(){return this[CUt]||y((Ls=this.action(n,OPPos),p(Ls.g,Function)?Ls.g(r.g):Ls.g=r.g,p(Ls.rx,Function)?Ls.rx(r.$r,r.$w):Ls.rx=r.$r,p(Ls.icon,Function)?Ls.icon("add_"+r.name):Ls.icon="add_"+r.name,p(Ls.label,Function)?Ls.label(""+o+"Add $1 $2"):Ls.label=""+o+"Add $1 $2",p(Ls.if,Function)?Ls.if(i):Ls.if=i,Ls.callback=function(m,$){return this.add(m,$||{})},Ls),this,kwe,"additem",CUt,d.prototype)}set moveitem(m){this.moveitem.$set(m,this,_we,"moveitem")}get moveitem(){return this.moveitem.$get(this,_we,"moveitem")}get moveitem(){return this[EUt]||y((Ds=this.action(n,OPPos),p(Ds.g,Function)?Ds.g(r.g):Ds.g=r.g,p(Ds.rx,Function)?Ds.rx(r.$r,r.$w):Ds.rx=r.$r,p(Ds.icon,Function)?Ds.icon("move_"+r.name):Ds.icon="move_"+r.name,p(Ds.label,Function)?Ds.label(""+o+"Move $1 $2"):Ds.label=""+o+"Move $1 $2",p(Ds.if,Function)?Ds.if(s):Ds.if=s,Ds.callback=function(m,$){return this.add(m,$||{})},Ds),this,_we,"moveitem",EUt,d.prototype)}set removeitem(m){this.removeitem.$set(m,this,xwe,"removeitem")}get removeitem(){return this.removeitem.$get(this,xwe,"removeitem")}get removeitem(){return this[jUt]||y((Ns=this.action(n),p(Ns.g,Function)?Ns.g(r.g):Ns.g=r.g,p(Ns.rx,Function)?Ns.rx(r.$r,r.$w):Ns.rx=r.$r,p(Ns.icon,Function)?Ns.icon("remove_"+r.name):Ns.icon="remove_"+r.name,p(Ns.label,Function)?Ns.label(""+o+"Remove $1"):Ns.label=""+o+"Remove $1",p(Ns.confirm,Function)?Ns.confirm():Ns.confirm=!0,Ns.callback=function(m){return this.delete(m),this},Ns),this,xwe,"removeitem",jUt,d.prototype)}};E(d,c,"Entries",0);let h=d;return OP.defineProps(h.prototype,{$field:e,$key:e.name}),OP.defineProps(h,{$field:e,$key:e.name}),u&&(h.prototype.$sorter=u),h}static get $shape(){return OPShape.for(this.prototype,!1)}static get $up(){return this.$field.model}static $sub(e){return this.$shape.$subshape(e)}static $sanitize(e){if(p(e,Array)){let r={};for(let o=0,n=B(e),i=n.length;o<i;o++){let s=n[o],a="~0"+OPKey.enc32(o);s._pos=1e4+o*1e4+5e3.randomize(),r[a]=s}e=r}let t=2e3;for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)if(i=o[r],s=e[i],Object.isPlain(s)){let a=this.$shape[i];a&&a.$sanitize&&(e[i]=s=a.$sanitize(s,null)),t=s._pos||=t+1e4+5e3.randomize()}return e}tracerinvalidated(e,t,r){let o=this.$meta,n=this.$sorter;if(!(o.flags&131072)||!p(n,OPSortFunction))return!0;let i=new Set([e]);return p(e,Map)&&(i=new Set(Array.from(e.keys()))),this.$run(function(s){s.matching=null,s.sorting=!0;for(let a of B(i))n.invalidate(a,!0);return s.sorting=!1},o),i.size&&(o.flags|=268435456,this.$invalidate(null,null,i)),!0}get $$v(){return this.$meta.v}set $$v(e){this.$meta.v=e}get aslabel(){var e;return((e=this.$field)==null?void 0:e.aslabel)||"Items"}get $index(){return this}get page(){return!1}get g(){var e;return(e=this.$field)==null?void 0:e.g}$subshape(e){var t;return(t=this.__any__.$subtype(e))==null?void 0:t.$shape}$embed(e,t){t!==this.$key&&Object.defineProperty(this,"$key",{enumerable:!1,value:t})}get $rich(){return this.$meta.$rich}get $up(){return this.$meta.$up}get $plain(){return this.$meta.$plain}constructor(e,t,r,o){super(),super[A]||this[A]();let n={flags:0,v:0,$rich:e[QIo]={},$plain:e,$up:r,refiners:null};this.$meta=n,o!==this.$key&&Object.defineProperty(this,"$key",{enumerable:!1,value:o}),re(this,_re)}clear(){for(let e=0,t=B(this.slice(0)),r=t.length;e<r;e++)t[e].delete();return this}toggle(e){return this.has(e)?this.delete(e):this.add(e)}$set(e,t=0){if(this.size)for(let r=0,o=B(this.slice(0)),n=o.length;r<n;r++)o[r].delete();if(p(e,Array))for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r];this.add(i)}else if(p(e,OPPlain))for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],this.add(s,{key:i});return this}get $shape(){return this.$type.$shape}get $(){return new Proxy(this,tFo)}$sorter(e,t){return e._pos-t._pos}move(e,t={}){if(!this.__includes__(e))throw new OPError("Cannot move. Does not exist in "+this.id);return this.add(e,t)}has(e){return typeof e=="string"?this.$plain[e]&&!!this.$rich[e]:super.has(...arguments)}get(e){return this.$sub(e)}for(...e){let t=this.__any__,r=null,o=null,n;if(p(e[0],OPType)&&(r=t.$subtype(e.shift())),e.length==1&&p(e[0],OPPlain)&&(o=e[0]),!r){if(p(t.$type,OPEmbedTypes))throw new OPError("Need to specify subtype in "+this.$field.name+".for(...)");r=t.$type}if(r.key.composite){let i=[];for(let a=0,u=B(r.key.slots),c=u.length;a<c;a++){let h=u[a],d=o?o[h.name]:e[a];i.push(String(d))}let s=r==t.type?"~":r.id;n=OPKey.encode(s+"3",...i)}else{let i={},s=Object.keys(o).sort(),a=r.$shape;for(let h of B(s)){let d=o[h];if(d!=null){let f=a[h];p(f,OPBitField)?d&&(i._bits|=f.number):f&&(i[h]=d.id||d)}}let u=OP.msgpack.stringify(i);n=""+(r==t.type?"~":r.id)+"2"+u}return this.$sub(n)}$sync(e=0){var t,r;let o=this.$meta;return o.flags|=131072,o.flags&(t=67108864)&&(o.flags&=~t,!0)&&(o.flags&=-268435457,o.v+=1,this.$sort()),o.flags&(r=268435456)&&(o.flags&=~r,!0)&&this.$sorter.sort(this),e&4||this.$observed(this),this}async[UUt](){return await this.$up,!0}get $ns(){return this.$key=="entries"?this.$up.$id:this.$id}get $branch(){return this.$f&4096}new(e={},t={}){return this.add(e,t,12582912)}build(e={},t={}){return this.add(e,t,5242880)}create(e={},t={}){return this.build(e).$save()}add(e={},t={},r=5242880){var c;let o=this.__any__,n=t.before,i=null,s,a=this.$root,u=a.$f;if(u&4096&&(r|=4096),!(u&4194304)&&!this.w&&a.resolved&&this.raise("Not allowed"),t.after){let h=this.indexOf(t.after);if(h==-1)throw new OPError(""+t.after+" does not exist in collection");n=this[h+1]}if(n){let h=(n==null?void 0:n._pos)||0,d=((c=this[this.indexOf(n)-1])==null?void 0:c._pos)||0,f=h-d;i=d+(f*.5).randomize(f*.25).round()}else{let h=GIo(this,-1),d=500 .randomize();i=h?((h==null?void 0:h._pos)||0)+1e3+d:1e4+d}if((e==null?void 0:e.$up)==this)return i!=null&&(e._pos=i,this.$f|=67108864),e;if(Object.isPlain(e)){if(s=t.key,!s){let d;if(e.as){let m=this.$field.args[1];if(!(e.as==m||Object.values(m).includes(e.as)))throw new OPError("Invalid entry type: "+e.as);d=e.as.forfield(o),e.as=void 0}else{if(p(this.$field.$type,OPEmbedTypes))throw new OPError("Since this field supports multiple types, you need to specify the type explicitly");d=o.$typefor(t.key||t)}let f=d==o.$type?"~0":d.id+"0";typeof this.$field.entropy=="number"?s=OPKey.generate(f,this.$field.entropy,this.$plain):a.fresh?s=OPKey.generateincremental(f,this.$plain,this.length):s=OPKey.generateshort(f,this.$plain)}let h=this.$sub(s);return e._del&&(r&=-1048577),i!==null&&(e._pos??=i),h.$f|=r,h.$assign(e,4),h}else if(e.$up!=this){if(!e.$up&&p(e,OPObject)){let h=OP.clone(e.$plain);return h.as=e.constructor,this.add(h,t,r)}throw new OPPermissionDeniedError("Cannot add rich item to @embeds")}}opresolveroute(e,t){return this.$sub(e)}$destroy(){for(let e=0,t=B(this.slice(0)),r=t.length;e<r;e++)t[e].delete();return this}$sub(e){return typeof e=="number"&&(e="~0"+OPKey.enc32(e)),this.$rich[e]?this.$rich[e]:this.__any__.$get(this,null,e,4)}[XIo](e){var t;if(!this.__includes__(e)){let r=this.$meta;this.__push__(e),this.$f|=67108864,this.$invalidate(new Set([e])),(t=this.$field)!=null&&t.children&&e.parentjoin(this.$up)}return this}[KIo](e){let t=this.$meta;this.__delete__(e),this.$invalidate(null,new Set([e]))}parentjoin(e,t){return this}save(){return this.$save()}$save(){return this.$up.$save(this)}$slotforkey(e){return this.$sub(e)}get exists(){return this.$up.exists}$diff(e=this.$cloud,t=this.$plain,r=0,o=null,n=0,i=this.$shape,s=void 0){e==null&&(e={});let a=r&64?e:t,u=Object.keys(a),c=0,h=u.length;if(r&8&&e){let d=Object.keys(e);for(let f=0,m=B(d),$=m.length;f<$;f++){let b=m[f];u.includes(b)||(u.push(b),h++)}}for(;c<h;){let d=u[c++],f=a[d];if(d=="_")continue;if(r&64){if(f==null&&t[d]){s||=new OPDELTA,s[d]=OP.clone(t[d]);continue}f=t[d]}if(f==null&&e&&e[d]!=null){s||=new OPDELTA,s[d]=null;continue}let m=this.$rich[d]||this.$sub(d);if(!m){console.warn("Cannot diff non-existent item "+d+" in "+this.id);continue}let $=e[d]??null,b=m.$diff($,f,r,o,n+1);b&&(s||=new OPDELTA,s[d]=b)}return s}$apply(e,t=0,r=this.$plain,o=this.$cloud,n=null,i=this.$shape){if(e==null)return this;for(let s=0,a=Object.keys(e),u=a.length,c,h;s<u;s++){if(c=a[s],h=e[c],c=="_")continue;let d=r[c],f=o&&o[c];if(h==null&&t&65536&&f&&(f=o[c]=null),!h&&!d)continue;d||(d=r[c]={},nk(d,r)),t&65536&&e&&h&&!f&&(f=o[c]={});let m=this.$rich[c]||this.$sub(c);m&&m.$apply(h,t,d,f??null,n)}return this}splice(e,t,...r){let o=this.resolved.slice(e,e+t);for(let n=0,i=B(o),s=i.length;n<s;n++){let a=i[n];this.delete(a)}return this.$f|=67108864,o}clean(){let e=this.filter(YIo);for(let t=0,r=B(e),o=r.length;t<o;t++)r[t].$unmount();return this}delete(e){return e.delete()}get id(){return""+this.$up.id+"/"+this.$key}toString(){return this.id}dehydratefor(e,t,r,o,n=this.$cloud,i=null){let s={};for(let a=0,u=Object.keys(n),c=u.length,h,d;a<c;a++){if(h=u[a],d=n[h],h=="_")continue;let f=this.$rich[h];f||(f=this.$sub(h)),f&&(s[h]=f.dehydratefor(e,t,s,o,d,i))}return s}};lm.prototype[Le]=De,lm.iterable=!0,lm.embedded=!0,se([ke.bind([])],lm.prototype,"$",null),se([ho.bind([])],lm.prototype,UUt,null),se([ke.bind([])],lm.prototype,"$ns",null),E(lm,_re,"OPEntries",344);var wwe=lm;globalThis.OPEntries=wwe;T();oe();function rFo(l,e){return l[l.length+e]}We();var Ewe=Symbol("add-item"),TUt=Symbol(),jwe=Symbol("move-item"),OUt=Symbol(),Awe=Symbol("remove-item"),RUt=Symbol(),xre=Symbol(),MUt=Symbol(),LUt=Symbol(),Is,Fs,Ci,oFo=Symbol.for("#matcher"),nFo=Symbol.for("##up"),iFo=Symbol.for("##register"),sFo=Symbol.for("#afterVisit"),DUt=Symbol.for("#up"),lFo=Symbol.for("#cloud"),vre=Symbol(),FD=class FD extends Qe(vre,null,OPSecured,OPRenderable){[A](e=null,t=!0,r=!0){var o;(o=this[vre])==null||o.call(this,...arguments)}get $field(){return this.$up.$field}rolesfor(e){return this.$up.rolesfor(e)}constructor(e,t){super(),this[A](),this.$up=e,this.$key=t,re(this,vre)}get $rich(){return OP.get(this.$key,this.$up)}id(){return""+this.$up.id+"/"+this.$key}raise(e=""){let t=new OPValidationError(e);throw t.data={id:this.id,prop:this},t}get $store(){return"$plain"}get $w(){return this.$up.$w}get value(){return this.$rich}get checked(){return!!this.$up.has(this.value)}set checked(e){this.checked?e||this.$up.remove(this.value):e&&this.$up.add(this.value)}toggle(e=!this.checked){return this.checked=e}mitoggle(){return this.toggle()}opownmi(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[xre])||(r=o=0,e=t[xre]=e=R("op-mi",null,null,null)),r||(e[nFo]=t._),r||((i=e[iFo])==null||i.call(e,t,xre)),r||(e.data__={rich:!0}),n=this.value,n===e[MUt]||(e.data=e[MUt]=n),n=this.$up,n===e[LUt]||(e.context=e[LUt]=n),r||t.sym||!e.setup||e.setup(o,t,xre),t.sym||e[sFo](o),e}};FD.prototype[Le]=De,se([ke.bind([])],FD.prototype,"$rich",null),E(FD,vre,"OPRefsMemberProp",336);var wre=FD;globalThis.OPRefsMemberProp=wre;var NUt=Symbol(),Pwe=class Pwe extends OPEntries{static forfield(e){if(!p(e,OPField))throw"not supported";let t=e,r=""+t.name.humanize()+"  ",o=e.args[1],n=function(h,d){return!this.has(d)},i=function(h,d){return this.has(d)},s=this,a=Symbol(),c=class c extends s{$subshape(d){return d[0]=="."?OPKey.resolve(this.constructor,d):OP.getType(d)}set additem(d){this.additem.$set(d,this,Ewe,"additem")}get additem(){return this.additem.$get(this,Ewe,"additem")}get additem(){return this[TUt]||y((Is=this.action(o,OPPos),p(Is.g,Function)?Is.g(t.g):Is.g=t.g,p(Is.rx,Function)?Is.rx(t.$r,t.$w):Is.rx=t.$r,p(Is.icon,Function)?Is.icon("add_"+t.name):Is.icon="add_"+t.name,p(Is.label,Function)?Is.label(""+r+"Add $1 $2"):Is.label=""+r+"Add $1 $2",p(Is.if,Function)?Is.if(n):Is.if=n,Is.callback=function(d,f){return this.add(d,f||{},4096)},Is),this,Ewe,"additem",TUt,c.prototype)}set moveitem(d){this.moveitem.$set(d,this,jwe,"moveitem")}get moveitem(){return this.moveitem.$get(this,jwe,"moveitem")}get moveitem(){return this[OUt]||y((Fs=this.action(o,OPPos),p(Fs.g,Function)?Fs.g(t.g):Fs.g=t.g,p(Fs.rx,Function)?Fs.rx(t.$r,t.$w):Fs.rx=t.$r,p(Fs.icon,Function)?Fs.icon("move_"+t.name):Fs.icon="move_"+t.name,p(Fs.label,Function)?Fs.label(""+r+"Move $1 $2"):Fs.label=""+r+"Move $1 $2",p(Fs.if,Function)?Fs.if(i):Fs.if=i,Fs.callback=function(d,f){return this.add(d,f||{},4096)},Fs),this,jwe,"moveitem",OUt,c.prototype)}set removeitem(d){this.removeitem.$set(d,this,Awe,"removeitem")}get removeitem(){return this.removeitem.$get(this,Awe,"removeitem")}get removeitem(){return this[RUt]||y((Ci=this.action(o),p(Ci.g,Function)?Ci.g(t.g):Ci.g=t.g,p(Ci.rx,Function)?Ci.rx(t.$r,t.$w):Ci.rx=t.$r,p(Ci.icon,Function)?Ci.icon("remove_"+t.name):Ci.icon="remove_"+t.name,p(Ci.label,Function)?Ci.label(""+r+"Remove $1"):Ci.label=""+r+"Remove $1",p(Ci.color,Function)?Ci.color("#ffb6b6"):Ci.color="#ffb6b6",p(Ci.confirm,Function)?Ci.confirm():Ci.confirm=!0,Ci.callback=function(d){return this.delete(d)},Ci),this,Awe,"removeitem",RUt,c.prototype)}};E(c,a,"Refs",0);let u=c;return OP.defineProps(u.prototype,{$field:e,$key:e.name}),OP.defineProps(u,{$field:e,$key:e.name,$base:this}),u}static $sanitize(e){if(p(e,Array)){let t={};for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r];t[i]=r*OP_POS_GAP}return t}return e}constructor(e,t,r,o){super(e,t,r,o),this.$scores=new Map,this.$slots=null,re(this,NUt)}$slotforkey(e){let t=this.$slots||={};return t[e]||=new wre(this,e)}get options(){return this.$options}get $options(){var e,t;if(p(this.$field.$options,Function))return this.$field.$options.call(this);if(this.$field.membertype)return(t=(e=this.$field.membertype)==null?void 0:e.all)==null?void 0:t.call(e)}score(e){return this.$scores.get(e)}clear(){if(this.size){for(let e=0,t=B(this.slice(0)),r=t.length;e<r;e++){let o=t[e];this.delete(o)}return this}}$set(e,t=0){if(Array.isArray(e)){let r=OP.clone(this.$plain),o=e.slice(0);this.clear();for(let n=0,i=B(o),s=i.length;n<s;n++){let a=i[n],u=(()=>{try{return this.add(a)}catch(c){return c}})();if(p(u,Error))throw this.$apply(r),u}}else if(e==null)this.clear();else if(p(e,OPPlain))this.$apply(e,t);else throw new OPError("Invalid data type for "+this.id);return this}add(e,t={},r=4096){e&&e.constructor==Array||(e=[e]);let o=0,n=0;typeof t=="number"?o=n=t:t.before?(n=this.$scores.get(t.before),o=this.$scores.get(this.before(t.before))??n-OP_POS_GAP*2):t.after?(o=this.$scores.get(t.after),n=this.$scores.get(this.after(t.after))??o+OP_POS_GAP*2):(o=this.$scores.get(rFo(this,-1))||0,n=o+OP_POS_GAP*2);let i=new OPDELTA,s=(n-o)/e.length;for(let a=0,u=B(e),c=u.length;a<c;a++){let h=u[a],d=o+(s*.5).randomize(s*.25);i[this.$dehydrate(h)]=o=d.round()}return this.$apply(i,r),this}move(e,t){if(!this.has(e))throw new OPError("Cannot move. Does not exist in "+this.id);return this.add(e,t)}delete(e){let t=this.$dehydrate(e);return this.$plain[t]!=null?(this.$apply(new OPDELTA([[t,null]]),4096),!0):!1}$hydrate(e){return OP.get(e,this)}$dehydrate(e){return typeof e=="string"?e:OPKey.relative(this,e)}$apply(e,t=0,r=this.$plain,o=this.$cloud,n=null,i=this.$shape){let s=this.$field,a=s.$f,u=this.$f,c=s.$granted,h=this.$rich,d=this.$scores,f=!1,m=this.length,$=null,b=null,g=null;for(let x=0,k=Object.keys(e),_=k.length,S,v;x<_;x++){if(S=k[x],v=e[S],S=="_")continue;let C=h[S],j=r[S];if(v!==j){if(v==null)C&&((b||=new Set).add(C),this.__delete__(C),m--,h[S]=null,c&&C.$demote(c,this.$up,this),a&4096&&this.$up.parentleave(C,this),a&2048&&C.parentleave(this.$up,this),a&4194304&&this.$up.indexleave(C[s.$symbol],this));else if(C)v!=r[S]&&(f=!0,(g||=new Set).add(C),d.set(C,v));else{if(C=this.$hydrate(S),t&4096&&!p(C,this.$field.membertype))throw new OPError("Invalid type for "+S);h[S]=C,d.set(C,v),($||=new Set).add(C),this.__push__(C),m++,f=!0,c&&C.$promote(c,this.$up,this),a&4096&&this.$up.parentjoin(C,this),a&2048&&C.parentjoin(this.$up,this),a&4194304&&this.$up.indexjoin(C[s.$symbol],this)}if(r[S]=v,t&4096){let P=r;for(;P=P[DUt];)P.$changed&&P.$changed(this,S,v,j,t)}}}return f&&m>1&&this.sort(function(x,k){return d.get(x)-d.get(k)}),($||b||g)&&this.$invalidate($,b,g),this}get $cloud(){var e;return(e=this.$plain[DUt][lFo])==null?void 0:e[this.$key]}$diff(e=this.$cloud,t=this.$plain,r=0,o=null,n=0,i=this.$shape,s=null){let a=0;for(let u=0,c=Object.keys(t),h=c.length,d,f;u<h;u++)if(d=c[u],f=t[d],(e&&e[d])!=f&&(a++,s||=new OPDELTA,s[d]=f,f!==null&&!this.$field.weak)){let $=this.$hydrate(d);s[Symbol(d)]=$}return a?s:null}[oFo](e){if(!this.size)return!0;for(let t=0,r=B(this),o=r.length;t<o;t++){let n=r[t];if(Ye(e,n))return!0}return!1}dehydratefor(e,t,r,o,n=this.$cloud,i=null){let s=8192|this.$field.$f;for(let a=0,u=Object.keys(n),c=u.length,h,d;a<c;a++)h=u[a],d=n[h],o.add(h,s);return n}};E(Pwe,NUt,"OPRefs",16);var Uwe=Pwe;globalThis.OPRefs=Uwe;T();oe();var Twe=Symbol("__any__"),IUt=Symbol(),FUt,aFo=Symbol.for("#__inited__"),uFo=Symbol.for("#cloud"),cFo=Symbol(),Mwe=class Mwe extends OPEmbedField{$observed(e,t,r=0){var o;return(o=t==null?void 0:t.$observed)==null?void 0:o.call(t)}};E(Mwe,cFo,"OPTuplesField",0);var Owe=Mwe;globalThis.OPTuplesField=Owe;var HUt=Symbol(),Lwe=class Lwe extends OPEntries{constructor(){super(...arguments),re(this,HUt)}static $sanitize(e,t,r){let o=this.prototype.__any__.$type;if(p(e,Array))for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n];e[n]=o.$sanitize(a,t)}return e}static forfield(e){if(!p(e,OPField))throw"not supported";let t=this,r=Symbol(),n=class n extends t{set __any__(s){this.__any__.$set(s,this,Twe,"__any__")}get __any__(){return this.__any__.$get(this,Twe,"__any__")}get __any__(){return this[IUt]||y((FUt=this.tuple(e.args[1]),FUt),this,Twe,"__any__",IUt,n.prototype)}$subshape(s){return typeof s=="number"||typeof s=="string"&&s.int?this.__any__.$type:null}};E(n,r,"Tuples",0);let o=n;return OP.defineProps(o,{$field:e,$key:e.name}),OP.defineProps(o.prototype,{$field:e,$key:e.name}),o}tuple(e){return new OPTupleField(e)}$observed(e=null){let t;(t=qi.ctx)&&(this.$f|=33554432,t.add(this,this))}[aFo](){return!0}delete(e){let t=this.$plain.indexOf(e);return t>=0?(this.$plain[t]=0,!0):!1}add(e){this.$sync(4);let t=this.$plain.findIndex(function(n){return n===null});t==-1&&(t=this.$plain.length);let r=this.__any__.$type,o=null;if(Object.isPlain(e)||(e==null?void 0:e.constructor)===Array)o=e,e=new r().$embed(this,t);else if(p(e,r)){if(e.$up==this)return console.warn("tuple already included"),e;e.$up?console.warn("tuple belongs to other parent"):e.$embed(this,t)}return o&&e.$set(o),this.__push__(e),this.$invalidate(new Set([e])),e}$sub(e){let t,r=this.$plain[e];return r||(t=this.$subshape(e),r=new t([],this,e)),(r==null?void 0:r.constructor)==Array&&(t||=this.$subshape(e),Object.setPrototypeOf(r,t.prototype),OP.defineProp(r,"$up",this),OP.defineProp(r,"$key",e)),r}$slotforkey(e){let t=this.$plain[e];return(!t||t.constructor===Array)&&(t=new this.any.$type,OP.defineProps(t,{$up:this,$field:this.any})),t}$set(e){let r=this.$plain.length;if(p(e,Array)){let o=new OPDELTA;for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n];o[n]=a}for(;r>e.length;)o||=new OPDELTA,o[--r]=null;o&&this.$apply(o)}return this}$diff(e=this.$cloud,t=this.$plain,r=0,o=null,n=this.$shape,i=null){let s=0;if(i||=new OPDELTA,r&16&&!e)return t;for(let a=0,u=Object.keys(t),c=u.length,h,d;a<c;a++){h=u[a],d=t[h];let f=e&&e[h];if(d==null&&f!=null)i[h]=d,s++;else if(d&&f){let m=d.length,$=f.length,b=Math.max(m,$),g=0,x=null;for(;g<b;)d[g]!=f[g]&&(s++,i[h]||=new OPDELTA,i[h][g]=d[g]),g++}else d&&(s++,i[h]=d.slice(0))}return s?i:null}$sync(){var e;if((this.$f&(e=131072))!=e&&(this.$f|=e,!0)){let t=this.$plain,r=this.$cloud,o=this.__any__.$type;if(!t.length&&r)for(let n=0,i=B(r),s=i.length;n<s;n++){let a=i[n];a&&(t[n]=a=Array.of.apply(o,a),OP.defineProp(a,"$up",this),OP.defineProp(a,"$key",n))}for(let n=0,i=B(t),s=i.length;n<s;n++){let a=i[n];a&&this.__push__(a)}}return super.$sync(...arguments)}$apply(e,t=0,r=this.$plain,o=this.$cloud,n=null,i=null){let s=this.$f;if(t&65536&&!o&&e!=null&&(o=[]),r[uFo]=o,t&1024&&!(s&131072)&&e==o)return this;let a=this.__any__;this.$sync();let u=null,c=null;if(e==null&&(t|=64,e={},!(t&1024)))for(let h=0,d=B(r),f=d.length;h<f;h++){let m=d[h];e[h]=null}for(let h=0,d=Object.keys(e),f=d.length,m,$;h<f;h++){m=d[h],$=e[m];let b=r[m],g=o?o[m]:null;t&65536&&!g&&$&&(g=o[m]=[]),$==null&&(r[m]=null,b&&(u||=new Set).add(b)),$&&!b?(r[m]=b=new a.$type,OP.defineProps(b,{$up:this,$key:m}),b.$apply($,t,b,g),this.__push__(b),(c||=new Set).add(b)):$&&b&&b.$apply($,t,b,g)}if(u)for(let h of B(u))this.__delete__(h);return(c||u)&&this.$invalidate(c,u),this}dehydratefor(e,t,r,o,n=this.$cloud){return n}};E(Lwe,HUt,"OPTuples",24);var Rwe=Lwe;globalThis.OPTuples=Rwe;T();oe();var Dwe=Symbol(),Nwe=Symbol("__any__"),BUt=Symbol(),Iwe=Symbol("add-item"),VUt=Symbol(),Fwe=Symbol("move-item"),zUt=Symbol(),Hwe=Symbol("remove-item"),qUt=Symbol(),WUt,Hs,Bs,Ei,hFo=Symbol(),zwe=class zwe extends OPEmbedField{$accepts(e){return p(e,this.keytype)}};E(zwe,hFo,"OPMapField",0);var Bwe=zwe;globalThis.OPMapField=Bwe;var pFo=Symbol(),qwe=class qwe extends OPEntries{static forfield(e){var t=gt(this);t[Dwe]??=new Map;let r=t[Dwe].get(e);if(r)return r;let o=e,n=""+o.name.humanize()+"  ",i=function(d,f){return!this.has(f)},s=function(d,f){return this.has(f)},a=this,u=Symbol(),h=class h extends a{set __any__(f){this.__any__.$set(f,this,Nwe,"__any__")}get __any__(){return this.__any__.$get(this,Nwe,"__any__")}get __any__(){return this[BUt]||y((WUt=this.embed(o.args[1],o.args[2]),WUt),this,Nwe,"__any__",BUt,h.prototype)}set additem(f){this.additem.$set(f,this,Iwe,"additem")}get additem(){return this.additem.$get(this,Iwe,"additem")}get additem(){return this[VUt]||y((Hs=this.action(this.typ,OPPos),p(Hs.g,Function)?Hs.g(o.g):Hs.g=o.g,p(Hs.rx,Function)?Hs.rx(o.$r,o.$w):Hs.rx=o.$r,p(Hs.icon,Function)?Hs.icon("add_"+o.name):Hs.icon="add_"+o.name,p(Hs.label,Function)?Hs.label(""+n+"Add $1 $2"):Hs.label=""+n+"Add $1 $2",p(Hs.if,Function)?Hs.if(i):Hs.if=i,Hs.callback=function(f,m){return this.add(f,m||{})},Hs),this,Iwe,"additem",VUt,h.prototype)}set moveitem(f){this.moveitem.$set(f,this,Fwe,"moveitem")}get moveitem(){return this.moveitem.$get(this,Fwe,"moveitem")}get moveitem(){return this[zUt]||y((Bs=this.action(this.typ,OPPos),p(Bs.g,Function)?Bs.g(o.g):Bs.g=o.g,p(Bs.rx,Function)?Bs.rx(o.$r,o.$w):Bs.rx=o.$r,p(Bs.icon,Function)?Bs.icon("move_"+o.name):Bs.icon="move_"+o.name,p(Bs.label,Function)?Bs.label(""+n+"Move $1 $2"):Bs.label=""+n+"Move $1 $2",p(Bs.if,Function)?Bs.if(s):Bs.if=s,Bs.callback=function(f,m){return this.add(f,m||{})},Bs),this,Fwe,"moveitem",zUt,h.prototype)}set removeitem(f){this.removeitem.$set(f,this,Hwe,"removeitem")}get removeitem(){return this.removeitem.$get(this,Hwe,"removeitem")}get removeitem(){return this[qUt]||y((Ei=this.action(this.typ),p(Ei.g,Function)?Ei.g(o.g):Ei.g=o.g,p(Ei.rx,Function)?Ei.rx(o.$r,o.$w):Ei.rx=o.$r,p(Ei.icon,Function)?Ei.icon("remove_"+o.name):Ei.icon="remove_"+o.name,p(Ei.label,Function)?Ei.label(""+n+"Remove $1"):Ei.label=""+n+"Remove $1",p(Ei.color,Function)?Ei.color("#ffb6b6"):Ei.color="#ffb6b6",p(Ei.confirm,Function)?Ei.confirm():Ei.confirm=!0,Ei.callback=function(f){return this.delete(f)},Ei),this,Hwe,"removeitem",qUt,h.prototype)}};E(h,u,"OPMap",0);let c=h;return OP.defineProps(c.prototype,{$field:o,$key:o.name}),OP.defineProps(c,{$field:o,$key:o.name,$base:this}),t[Dwe].set(e,c),c}static $sanitize(e){console.warn("calling OPMap.$sanitize!");let t=2e3,r=this.$type,o=this.$shape;for(let n=0,i=Object.keys(e),s=i.length,a,u;n<s;n++)if(a=i[n],u=e[a],Object.isPlain(u)){let c=o[a];c!=null&&c.$sanitize&&(e[a]=u=c.$sanitize(u,null)),t=u._pos||=t+2e3+500 .randomize()}return e}get $options(){return this}slice(...e){return this.$observed(this),super.slice(...arguments)}delete(e){if(e.$up!==this){let t=e.$id;e=this.$plain[t]&&this.$sub(t)}if(e)return super.delete(e)}has(e){if(e.$up!==this){let t=e.$id;e=this.$plain[t]&&this.$sub(t)}return e&&e.$up===this?this.__includes__(e)&&!e.deleted:!1}$sub(e){typeof e!="string"&&(e=OPKey.relative(this,e));let t=this.$rich[e];return t||this.__any__.$get(this,null,e)}$set(e,t=0){for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],this.set(i,s,t);return this}add(e={},t={},r=5242880){var o;return e.key||console.warn("cannot call OPMap.add(...) without supplying a rich key"),p(e,OPPlain)&&p(e.key,OPObject)&&(t.key=OP.get(e.key,this),o=e.key,delete e.key),super.add(...arguments)}set(e,t={}){let r=this.$sub(e);return(!r._cre||r._del)&&(t._cre=!0,r._del&&(t._del=!1),r.$f|=5242880),r.$set(t),r.$sync(),r}$sorter(e,t){return e.$plain._cre-t.$plain._cre}keys(){var e=this;return this.map(function(t){return OP.get(t.$key,e)})}};E(qwe,pFo,"OPMap",8);var Vwe=qwe;globalThis.OPMap=Vwe;T();oe();T();var dFo={grad:.9,turn:360,rad:360/(2*Math.PI)},am=function(l){return typeof l=="string"?l.length>0:typeof l=="number"},Vs=function(l,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*l)/t+0},Ph=function(l,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),l>t?t:l>e?l:e},ePt=function(l){return(l=isFinite(l)?l%360:0)>0?l:l+360},ZUt=function(l){return{r:Ph(l.r,0,255),g:Ph(l.g,0,255),b:Ph(l.b,0,255),a:Ph(l.a)}},Wwe=function(l){return{r:Vs(l.r),g:Vs(l.g),b:Vs(l.b),a:Vs(l.a,3)}},fFo=/^#([0-9a-f]{3,8})$/i,Sre=function(l){var e=l.toString(16);return e.length<2?"0"+e:e},tPt=function(l){var e=l.r,t=l.g,r=l.b,o=l.a,n=Math.max(e,t,r),i=n-Math.min(e,t,r),s=i?n===e?(t-r)/i:n===t?2+(r-e)/i:4+(e-t)/i:0;return{h:60*(s<0?s+6:s),s:n?i/n*100:0,v:n/255*100,a:o}},rPt=function(l){var e=l.h,t=l.s,r=l.v,o=l.a;e=e/360*6,t/=100,r/=100;var n=Math.floor(e),i=r*(1-t),s=r*(1-(e-n)*t),a=r*(1-(1-e+n)*t),u=n%6;return{r:255*[r,s,i,i,a,r][u],g:255*[a,r,r,s,i,i][u],b:255*[i,i,a,r,r,s][u],a:o}},GUt=function(l){return{h:ePt(l.h),s:Ph(l.s,0,100),l:Ph(l.l,0,100),a:Ph(l.a)}},YUt=function(l){return{h:Vs(l.h),s:Vs(l.s),l:Vs(l.l),a:Vs(l.a,3)}},XUt=function(l){return rPt((t=(e=l).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},HD=function(l){return{h:(e=tPt(l)).h,s:(o=(200-(t=e.s))*(r=e.v)/100)>0&&o<200?t*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:e.a};var e,t,r,o},mFo=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$Fo=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yFo=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bFo=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ywe={string:[[function(l){var e=fFo.exec(l);return e?(l=e[1]).length<=4?{r:parseInt(l[0]+l[0],16),g:parseInt(l[1]+l[1],16),b:parseInt(l[2]+l[2],16),a:l.length===4?Vs(parseInt(l[3]+l[3],16)/255,2):1}:l.length===6||l.length===8?{r:parseInt(l.substr(0,2),16),g:parseInt(l.substr(2,2),16),b:parseInt(l.substr(4,2),16),a:l.length===8?Vs(parseInt(l.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(l){var e=yFo.exec(l)||bFo.exec(l);return e?e[2]!==e[4]||e[4]!==e[6]?null:ZUt({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(l){var e=mFo.exec(l)||$Fo.exec(l);if(!e)return null;var t,r,o=GUt({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(dFo[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return XUt(o)},"hsl"]],object:[[function(l){var e=l.r,t=l.g,r=l.b,o=l.a,n=o===void 0?1:o;return am(e)&&am(t)&&am(r)?ZUt({r:Number(e),g:Number(t),b:Number(r),a:Number(n)}):null},"rgb"],[function(l){var e=l.h,t=l.s,r=l.l,o=l.a,n=o===void 0?1:o;if(!am(e)||!am(t)||!am(r))return null;var i=GUt({h:Number(e),s:Number(t),l:Number(r),a:Number(n)});return XUt(i)},"hsl"],[function(l){var e=l.h,t=l.s,r=l.v,o=l.a,n=o===void 0?1:o;if(!am(e)||!am(t)||!am(r))return null;var i=function(s){return{h:ePt(s.h),s:Ph(s.s,0,100),v:Ph(s.v,0,100),a:Ph(s.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(n)});return rPt(i)},"hsv"]]},KUt=function(l,e){for(var t=0;t<e.length;t++){var r=e[t][0](l);if(r)return[r,e[t][1]]}return[null,void 0]},gFo=function(l){return typeof l=="string"?KUt(l.trim(),Ywe.string):typeof l=="object"&&l!==null?KUt(l,Ywe.object):[null,void 0]};var Zwe=function(l,e){var t=HD(l);return{h:t.h,s:Ph(t.s+100*e,0,100),l:t.l,a:t.a}},Gwe=function(l){return(299*l.r+587*l.g+114*l.b)/1e3/255},JUt=function(l,e){var t=HD(l);return{h:t.h,s:t.s,l:Ph(t.l+100*e,0,100),a:t.a}},Xwe=function(){function l(e){this.parsed=gFo(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return l.prototype.isValid=function(){return this.parsed!==null},l.prototype.brightness=function(){return Vs(Gwe(this.rgba),2)},l.prototype.isDark=function(){return Gwe(this.rgba)<.5},l.prototype.isLight=function(){return Gwe(this.rgba)>=.5},l.prototype.toHex=function(){return e=Wwe(this.rgba),t=e.r,r=e.g,o=e.b,i=(n=e.a)<1?Sre(Vs(255*n)):"","#"+Sre(t)+Sre(r)+Sre(o)+i;var e,t,r,o,n,i},l.prototype.toRgb=function(){return Wwe(this.rgba)},l.prototype.toRgbString=function(){return e=Wwe(this.rgba),t=e.r,r=e.g,o=e.b,(n=e.a)<1?"rgba("+t+", "+r+", "+o+", "+n+")":"rgb("+t+", "+r+", "+o+")";var e,t,r,o,n},l.prototype.toHsl=function(){return YUt(HD(this.rgba))},l.prototype.toHslString=function(){return e=YUt(HD(this.rgba)),t=e.h,r=e.s,o=e.l,(n=e.a)<1?"hsla("+t+", "+r+"%, "+o+"%, "+n+")":"hsl("+t+", "+r+"%, "+o+"%)";var e,t,r,o,n},l.prototype.toHsv=function(){return e=tPt(this.rgba),{h:Vs(e.h),s:Vs(e.s),v:Vs(e.v),a:Vs(e.a,3)};var e},l.prototype.invert=function(){return nd({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},l.prototype.saturate=function(e){return e===void 0&&(e=.1),nd(Zwe(this.rgba,e))},l.prototype.desaturate=function(e){return e===void 0&&(e=.1),nd(Zwe(this.rgba,-e))},l.prototype.grayscale=function(){return nd(Zwe(this.rgba,-1))},l.prototype.lighten=function(e){return e===void 0&&(e=.1),nd(JUt(this.rgba,e))},l.prototype.darken=function(e){return e===void 0&&(e=.1),nd(JUt(this.rgba,-e))},l.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},l.prototype.alpha=function(e){return typeof e=="number"?nd({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Vs(this.rgba.a,3);var t},l.prototype.hue=function(e){var t=HD(this.rgba);return typeof e=="number"?nd({h:e,s:t.s,l:t.l,a:t.a}):Vs(t.h)},l.prototype.isEqual=function(e){return this.toHex()===nd(e).toHex()},l}(),nd=function(l){return l instanceof Xwe?l:new Xwe(l)},QUt=[],oPt=function(l){l.forEach(function(e){QUt.indexOf(e)<0&&(e(Xwe,Ywe),QUt.push(e))})};T();var _Fo={grad:.9,turn:360,rad:360/(2*Math.PI)},Kwe=function(l){return typeof l=="string"?l.length>0:typeof l=="number"},yS=function(l,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*l)/t+0},um=function(l,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),l>t?t:l>e?l:e},Jwe=function(l){var e=l/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Qwe=function(l){return 255*(l>.0031308?1.055*Math.pow(l,1/2.4)-.055:12.92*l)},eSe=96.422,tSe=100,rSe=82.521,xFo=function(l){var e,t,r={x:.9555766*(e=l).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return t={r:Qwe(.032404542*r.x-.015371385*r.y-.004985314*r.z),g:Qwe(-.00969266*r.x+.018760108*r.y+41556e-8*r.z),b:Qwe(556434e-9*r.x-.002040259*r.y+.010572252*r.z),a:l.a},{r:um(t.r,0,255),g:um(t.g,0,255),b:um(t.b,0,255),a:um(t.a)}},vFo=function(l){var e=Jwe(l.r),t=Jwe(l.g),r=Jwe(l.b);return function(o){return{x:um(o.x,0,eSe),y:um(o.y,0,tSe),z:um(o.z,0,rSe),a:um(o.a)}}(function(o){return{x:1.0478112*o.x+.0228866*o.y+-.050127*o.z,y:.0295424*o.x+.9904844*o.y+-.0170491*o.z,z:-.0092345*o.x+.0150436*o.y+.7521316*o.z,a:o.a}}({x:100*(.4124564*e+.3575761*t+.1804375*r),y:100*(.2126729*e+.7151522*t+.072175*r),z:100*(.0193339*e+.119192*t+.9503041*r),a:l.a}))},BD=216/24389,bS=24389/27,sPt=function(l){return{l:um(l.l,0,100),c:l.c,h:(e=l.h,(e=isFinite(e)?e%360:0)>0?e:e+360),a:l.a};var e},nPt=function(l){return{l:yS(l.l,2),c:yS(l.c,2),h:yS(l.h,2),a:yS(l.a,3)}},wFo=function(l){var e=l.l,t=l.c,r=l.h,o=l.a,n=o===void 0?1:o;if(!Kwe(e)||!Kwe(t)||!Kwe(r))return null;var i=sPt({l:Number(e),c:Number(t),h:Number(r),a:Number(n)});return lPt(i)},iPt=function(l){var e=function(n){var i=vFo(n),s=i.x/eSe,a=i.y/tSe,u=i.z/rSe;return s=s>BD?Math.cbrt(s):(bS*s+16)/116,{l:116*(a=a>BD?Math.cbrt(a):(bS*a+16)/116)-16,a:500*(s-a),b:200*(a-(u=u>BD?Math.cbrt(u):(bS*u+16)/116)),alpha:i.a}}(l),t=yS(e.a,3),r=yS(e.b,3),o=Math.atan2(r,t)/Math.PI*180;return{l:e.l,c:Math.sqrt(t*t+r*r),h:o<0?o+360:o,a:e.alpha}},lPt=function(l){return e={l:l.l,a:l.c*Math.cos(l.h*Math.PI/180),b:l.c*Math.sin(l.h*Math.PI/180),alpha:l.a},r=e.a/500+(t=(e.l+16)/116),o=t-e.b/200,xFo({x:(Math.pow(r,3)>BD?Math.pow(r,3):(116*r-16)/bS)*eSe,y:(e.l>8?Math.pow((e.l+16)/116,3):e.l/bS)*tSe,z:(Math.pow(o,3)>BD?Math.pow(o,3):(116*o-16)/bS)*rSe,a:e.alpha});var e,t,r,o},SFo=/^lch\(\s*([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)\s+([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,CFo=function(l){var e=SFo.exec(l);if(!e)return null;var t,r,o=sPt({l:Number(e[1]),c:Number(e[2]),h:(t=e[3],r=e[4],r===void 0&&(r="deg"),Number(t)*(_Fo[r]||1)),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return lPt(o)};function aPt(l,e){l.prototype.toLch=function(){return nPt(iPt(this.rgba))},l.prototype.toLchString=function(){return t=nPt(iPt(this.rgba)),r=t.l,o=t.c,n=t.h,(i=t.a)<1?"lch("+r+"% "+o+" "+n+" / "+i+")":"lch("+r+"% "+o+" "+n+")";var t,r,o,n,i},e.string.push([CFo,"lch"]),e.object.push([wFo,"lch"])}We();var EFo=Symbol.for("#string"),jFo={};oPt([aPt]);var uPt=Symbol(),K3=class K3 extends OPBase{static of(e,t=e){return p(e,K3)?e:jFo[e]||=new K3(t)}constructor(e){var t;super(...arguments),this.value=e,(t=e==null?void 0:e.match)!=null&&t.call(e,/^\d+$/)&&(e="lch(65% 60 "+e+")"),this.rich=nd(e),this.dark=this.rich.isDark();try{this.lch=this.rich.toLch()}catch{}return this}get $type(){return this.constructor}get resolved(){return!0}get light(){return!this.dark}get aslabel(){return this.value}get cssclasses(){return""}get hex(){return this.rich.toHex()}alpha(...e){return this.rich.alpha(...e)}toString(){return this[EFo]||=this.rich.toLchString()}valueOf(){return this.toString()}};K3.prototype[Le]=De,se([ke.bind([])],K3.prototype,"hex",null),E(K3,uPt,"OPColor",272);var oSe=K3;globalThis.OPColor=oSe;T();oe();We();var nSe=Symbol(),iSe=Symbol("table"),cPt=Symbol(),sSe=Symbol("list"),hPt=Symbol(),lSe=Symbol("chart"),pPt=Symbol(),aSe=Symbol("default_view"),dPt=Symbol(),uSe=Symbol("layout"),fPt=Symbol(),cSe=Symbol("name"),mPt=Symbol(),hSe=Symbol("data"),$Pt=Symbol(),yPt,bPt,gPt,kPt,_Pt,VD,pSe,dSe=Symbol(),fSe=Symbol(),Cre=Symbol(),xPt=Symbol(),vPt=Symbol(),wPt=Symbol(),zD=Symbol(),AFo=Symbol(),mSe=Symbol.for("#getRenderContext"),$Se=Symbol.for("##up"),ySe=Symbol.for("##register"),bSe=Symbol.for("#isRichElement"),Ere=Symbol.for("#afterVisit"),UFo=Symbol.for("#placeChild"),PFo=Symbol.for("#insertInto"),TFo=Symbol.for("#replaceWith"),SPt=Symbol(),cm=class cm extends OPEmbed{constructor(){super(...arguments),this.sources=this.$field.$sources(this.$up,this),re(this,SPt)}static forfield(e){var t=gt(this);t[nSe]??=new Map;let r=t[nSe].get(e);if(r)return r;let o=this,n=e.defaults,i=e.$store,s=Symbol(),u=class u extends o{set table(h){this.table.$set(h,this,iSe,"table")}get table(){return this.table.$get(this,iSe,"table")}get table(){return this[cPt]||y((yPt=this.embed(OPTableView),yPt),this,iSe,"table",cPt,u.prototype)}set list(h){this.list.$set(h,this,sSe,"list")}get list(){return this.list.$get(this,sSe,"list")}get list(){return this[hPt]||y((bPt=this.list(n==null?void 0:n.list),bPt),this,sSe,"list",hPt,u.prototype)}set chart(h){this.chart.$set(h,this,lSe,"chart")}get chart(){return this.chart.$get(this,lSe,"chart")}get chart(){return this[pPt]||y((gPt=this.embed(OPChartView,n==null?void 0:n.chart),gPt),this,lSe,"chart",pPt,u.prototype)}get id(){let h=this.$key,d=this.$f&262144?this.$up.id:this.$up.$ns;return h.includes("/")?""+d+"/["+h+"]":""+d+"/"+h}get embed(){return!0}static setup(h){return h}};E(u,s,"Coll",0);let a=u;return OP.defineProps(a,{name:o.name}),OP.defineProps(a.prototype,{$field:e,$store:i,$key:e.name}),t[nSe].set(e,a),a}set default_view(e){this.default_view.$set(e,this,aSe,"default_view")}get default_view(){return this.default_view.$get(this,aSe,"default_view")}get default_view(){return this[dPt]||y((kPt=this.string(),kPt),this,aSe,"default_view",dPt,cm.prototype)}set layout(e){this.layout.$set(e,this,uSe,"layout")}get layout(){return this.layout.$get(this,uSe,"layout")}get layout(){return this[fPt]||y((_Pt=this.enum({table:{},list:{},grid:{},chart:{}}),_Pt),this,uSe,"layout",fPt,cm.prototype)}set name(e){this.name.$set(e,this,cSe,"name")}get name(){return this.name.$get(this,cSe,"name")}get name(){return this[mPt]||y((VD=this.string(),p(VD.fallback,Function)?VD.fallback(function(){var e;return(e=this.$field)==null?void 0:e.aslabel}):VD.fallback=function(){var e;return(e=this.$field)==null?void 0:e.aslabel},VD),this,cSe,"name",mPt,cm.prototype)}get size(){return this.sources.size}only(...e){return this.sources.only(...e)}slice(...e){return this.sources.slice(...e)}map(e){return this.toIterable().map(e)}at(e){return this.sources.at(e)}sort(e){return this.sources.sort(e)}toSorted(e){return this.sources.toSorted(e)}find(e){return this.sources.find(e)}get any(){return this.size>0}get membertype(){return this.sources.type}toIterable(){return this.sources.toIterable()}add(e){return this.$index.add(e)}delete(e){return this.$index.delete(e)}get $index(){return this.sources.$index}[Symbol.iterator](){return this.sources[Symbol.iterator]()}get resolved(){var e;return!!((e=this.resolver.check(this))!=null&&e.met)}get $refiners(){return this.sources.$refiners}tracerinvalidated(e,t,r){return this.sources.tracerinvalidated(e,t,r)}set data(e){this.data.$set(e,this,hSe,"data")}get data(){return this.data.$get(this,hSe,"data")}get data(){return this[$Pt]||y((pSe=this.pub(),pSe.callback=function(e){return e.add(this)},pSe),this,hSe,"data",$Pt,cm.prototype)}async resolver(){return await this.sources,!0}opownbody(){var c,h;var e,t,r=H(),o,n,i,s,a,u;return this.layout?(e=r[mSe](dSe),o=n=1,(t=e.run(this.oel(this[this.layout],"body")))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[$Se]=r._),o||((c=t[ySe])==null||c.call(t,r,dSe)),t[bSe]&&(o||r.sym||!t.setup||t.setup(n,r,dSe),r.sym||t[Ere](n)),t):(i=r[mSe](fSe),a=u=1,(s=i.run(this.oel(this.table,"body")))||(a=u=0,i.cache(s=M(i.value,null,null,null))),a||(s[$Se]=r._),a||((h=s[ySe])==null||h.call(s,r,fSe)),s[bSe]&&(a||r.sym||!s.setup||s.setup(u,r,fSe),r.sym||s[Ere](u)),s)}opownsection(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;return r=o=1,(e=t[Cre])||(r=o=0,e=t[Cre]=e=w("section",null,null,null)),r||(e[$Se]=t._),r||((d=e[ySe])==null||d.call(e,t,Cre)),r||(n=w("header",e,null,null)),(i=e[xPt])||(e[xPt]=i=w("h2",n,null,null)),s=this.name,s===e[wPt]&&r||(e[vPt]=i[UFo](e[wPt]=s,384,e[vPt])),a=e[mSe](AFo),c=h=1,(u=a.run(this.oel(this,"body")))||(c=h=0,a.cache(u=M(a.value,e,null,null))),u[bSe]&&(c||!u.setup||u.setup(h,a),u[Ere](h)),u==e[zD]||!e[zD]&&(e[zD]=u)[PFo](e)||e[zD][TFo](e[zD]=u,e),r||t.sym||!e.setup||e.setup(o,t,Cre),t.sym||e[Ere](o),e}};cm.prototype[Le]=De,se([ho.bind([])],cm.prototype,"resolver",null),E(cm,SPt,"OPColl",272);var gSe=cm;globalThis.OPColl=gSe;T();oe();We();var kSe=Symbol("name"),CPt=Symbol(),_Se=Symbol("code"),EPt=Symbol(),xSe=Symbol("population"),jPt=Symbol(),vSe=Symbol("continent"),APt=Symbol(),wSe=Symbol("currency"),UPt=Symbol(),SSe=Symbol("flag"),PPt=Symbol(),CSe=Symbol("ppp"),TPt=Symbol(),OPt,RPt,MPt,LPt,qD,DPt,NPt,ESe=Symbol(),IPt=Symbol(),FPt=Symbol(),HPt=Symbol(),OFo=Symbol.for("#matcher"),RFo=Symbol.for("##up"),MFo=Symbol.for("##register"),LFo=Symbol.for("#placeChild"),DFo="ADAEAFAGAIALAMAOAQARASATAUAWAXAZBABBBDBEBFBGBHBIBJBLBMBNBOBQBRBSBTBVBWBYBZCACCCDCFCGCHCICKCLCMCNCOCRCUCVCWCXCYCZDEDJDKDMDODZECEEEGEHERESETFIFJFKFMFOFRGAGBGDGEGFGGGHGIGLGMGNGPGQGRGSGTGUGWGYHKHMHNHRHTHUIDIEILIMINIOIQIRISITJEJMJOJPKEKGKHKIKMKNKPKRKWKYKZLALBLCLILKLRLSLTLULVLYMAMCMDMEMFMGMHMKMLMMMNMOMPMQMRMSMTMUMVMWMXMYMZNANCNENFNGNINLNONPNRNUNZOMPAPEPFPGPHPKPLPMPNPRPSPTPWPYQARERORSRURWSASBSCSDSESGSHSISJSKSLSMSNSOSRSSSTSVSXSYSZTCTDTFTGTHTJTKTLTMTNTOTRTTTVTWTZUAUGUMUSUYUZVAVCVEVGVIVNVUWFWSXKYEYTZAZMZW",NFo=DFo.match(/\w\w/g),BPt=Symbol(),Fc=class Fc extends OPObject{constructor(){super(...arguments),re(this,BPt)}static from(e){return OP.get("country0"+e.lower)}static get(e,t){return typeof e=="string"&&e.length==2?this.get("country0"+e.lower):super.get(...arguments)}set name(e){this.name.$set(e,this,kSe,"name")}get name(){return this.name.$get(this,kSe,"name")}get name(){return this[CPt]||y((OPt=this.string(),OPt),this,kSe,"name",CPt,Fc.prototype)}set code(e){this.code.$set(e,this,_Se,"code")}get code(){return this.code.$get(this,_Se,"code")}get code(){return this[EPt]||y((RPt=this.string(),RPt),this,_Se,"code",EPt,Fc.prototype)}set population(e){this.population.$set(e,this,xSe,"population")}get population(){return this.population.$get(this,xSe,"population")}get population(){return this[jPt]||y((MPt=this.int(),MPt),this,xSe,"population",jPt,Fc.prototype)}set continent(e){this.continent.$set(e,this,vSe,"continent")}get continent(){return this.continent.$get(this,vSe,"continent")}get continent(){return this[APt]||y((LPt=this.string(),LPt),this,vSe,"continent",APt,Fc.prototype)}set currency(e){this.currency.$set(e,this,wSe,"currency")}get currency(){return this.currency.$get(this,wSe,"currency")}get currency(){return this[UPt]||y((qD=this.currency(),p(qD.fallback,Function)?qD.fallback(function(){return OPCurrency.USD}):qD.fallback=function(){return OPCurrency.USD},qD),this,wSe,"currency",UPt,Fc.prototype)}set flag(e){this.flag.$set(e,this,SSe,"flag")}get flag(){return this.flag.$get(this,SSe,"flag")}get flag(){return this[PPt]||y((DPt=this.string(),DPt),this,SSe,"flag",PPt,Fc.prototype)}set ppp(e){this.ppp.$set(e,this,CSe,"ppp")}get ppp(){return this.ppp.$get(this,CSe,"ppp")}get ppp(){return this[TPt]||y((NPt=this.float(),NPt),this,CSe,"ppp",TPt,Fc.prototype)}get asicon(){return"opcountry"}toString(){return this.oid}[Symbol.toPrimitive](e){return this.oid}[OFo](e){return e.country==this}opownicon(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[ESe])||(r=o=0,e=t[ESe]=e=w("div",null,"oicon flag",null)),r||(e[RFo]=t._),r||((s=e[MFo])==null||s.call(e,t,ESe)),(n=e[IPt])||(e[IPt]=n=w("span",e,null,null)),i=this.flag,i===e[HPt]&&r||(e[FPt]=n[LFo](e[HPt]=i,384,e[FPt])),e}static async preload(){return await!1?this.fetchall():OP.sub("countries"),!0}};Fc.prototype[Le]=De,Fc.alias="country",se([ho.bind([])],Fc,"preload",null),E(Fc,BPt,"OPCountry",280);var WD=Fc;globalThis.OPCountry=WD;{let l={};for(let e=0,t=B(NFo),r=t.length;e<r;e++){let o=t[e];l[o]={get:function(){return WD.from(o)}}}Object.defineProperties(WD,l)}T();oe();We();var jSe=Symbol("name"),VPt=Symbol(),ASe=Symbol("code"),zPt=Symbol(),USe=Symbol("symbol"),qPt=Symbol(),PSe=Symbol("decimals"),WPt=Symbol(),TSe=Symbol("stripe_supported"),ZPt=Symbol(),GPt,YPt,XPt,KPt,JPt,QPt=Symbol(),Hc=class Hc extends OPObject{constructor(){super(...arguments),super[A]||this[A](),re(this,QPt)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.enum=e&&(o=e.enum)!==void 0?o:!0}static from(e){return e?OP.get("currency0"+e.lower):null}static get(e,t){return typeof e=="string"&&e.length==3?OP.get("currency0"+e.lower):super.get(...arguments)}static async preload(){return await!1?this.fetchall():OP.sub("currencies"),!0}set name(e){this.name.$set(e,this,jSe,"name")}get name(){return this.name.$get(this,jSe,"name")}get name(){return this[VPt]||y((GPt=this.string(),GPt),this,jSe,"name",VPt,Hc.prototype)}set code(e){this.code.$set(e,this,ASe,"code")}get code(){return this.code.$get(this,ASe,"code")}get code(){return this[zPt]||y((YPt=this.string(),YPt),this,ASe,"code",zPt,Hc.prototype)}set symbol(e){this.symbol.$set(e,this,USe,"symbol")}get symbol(){return this.symbol.$get(this,USe,"symbol")}get symbol(){return this[qPt]||y((XPt=this.string(),XPt),this,USe,"symbol",qPt,Hc.prototype)}set decimals(e){this.decimals.$set(e,this,PSe,"decimals")}get decimals(){return this.decimals.$get(this,PSe,"decimals")}get decimals(){return this[WPt]||y((KPt=this.int(),KPt),this,PSe,"decimals",WPt,Hc.prototype)}set stripe_supported(e){this.stripe_supported.$set(e,this,TSe,"stripe_supported")}get stripe_supported(){return this.stripe_supported.$get(this,TSe,"stripe_supported")}get stripe_supported(){return this[ZPt]||y((JPt=this.bool(),JPt),this,TSe,"stripe_supported",ZPt,Hc.prototype)}toString(){return this.oid}[Symbol.toPrimitive](e){return this.oid}static get USD(){return Hc.from("usd")}static get EUR(){return Hc.from("eur")}};Hc.prototype[Le]=De,Hc.alias="currency",se([ho.bind([])],Hc,"preload",null),E(Hc,QPt,"OPCurrency",280);var OSe=Hc;globalThis.OPCurrency=OSe;T();oe();T();oe();var RSe=Symbol("name"),eTt=Symbol(),MSe=Symbol("sources"),tTt=Symbol(),ZD,GD,IFo=Symbol(),YD=class YD extends OPEmbed{set name(e){this.name.$set(e,this,RSe,"name")}get name(){return this.name.$get(this,RSe,"name")}get name(){return this[eTt]||y((ZD=this.string(),p(ZD.fallback,Function)?ZD.fallback(function(){var e,t;return((e=this.$up)==null?void 0:e.name)||((t=this.$field)==null?void 0:t.aslabel)}):ZD.fallback=function(){var e,t;return((e=this.$up)==null?void 0:e.name)||((t=this.$field)==null?void 0:t.aslabel)},ZD),this,RSe,"name",eTt,YD.prototype)}set sources(e){this.sources.$set(e,this,MSe,"sources")}get sources(){return this.sources.$get(this,MSe,"sources")}get sources(){return this[tTt]||y((GD=this.ref(OPObject),p(GD.fallback,Function)?GD.fallback(function(){return this.$up}):GD.fallback=function(){return this.$up},GD),this,MSe,"sources",tTt,YD.prototype)}};E(YD,IFo,"OPCollView",0);var LSe=YD;globalThis.OPCollView=LSe;ge();var DSe=Symbol("name"),rTt=Symbol(),NSe=Symbol("path"),oTt=Symbol(),ISe=Symbol("miw"),nTt=Symbol(),FSe=Symbol("maw"),iTt=Symbol(),HSe=Symbol("flg"),sTt=Symbol(),BSe=Symbol("align"),lTt=Symbol(),VSe=Symbol("sort"),aTt=Symbol(),zSe=Symbol("kind"),uTt=Symbol(),qSe=Symbol("size"),cTt=Symbol(),hTt=Symbol(),WSe=Symbol("props"),pTt=Symbol(),ZSe=Symbol("schema"),dTt=Symbol(),fTt,mTt,$Tt,yTt,jre,bTt,gTt,kTt,_Tt,GSe=Symbol();var YSe=Symbol();var XSe=Symbol(),xTt=Symbol(),Are=Symbol();var KSe=Symbol();var JSe=Symbol();var QSe=Symbol(),vTt=Symbol(),wTt=Symbol(),STt=Symbol();var FFo=Symbol(),CTt=Symbol(),ETt=Symbol(),jTt=Symbol(),ATt=Symbol(),UTt=Symbol(),PTt=Symbol(),TTt,Ure=Symbol(),OTt=Symbol(),RTt=Symbol(),Pre=Symbol(),MTt=Symbol(),LTt=Symbol(),e7e,J3=Symbol.for("##up"),Tre=Symbol.for("##register"),t7e=Symbol.for("#placeChild"),HFo=Symbol.for("#visit"),BFo=Symbol.for("#getRenderContext"),VFo=Symbol.for("#isRichElement"),Ore=Symbol.for("#afterVisit"),zFo=Symbol(),o7e=class o7e extends OPEmbed{get parent(){return this.$up.$up}};E(o7e,zFo,"OPPropView",0);var Rre=o7e;globalThis.OPPropView=Rre;var qFo=Symbol(),Th=class Th extends Rre{set name(e){this.name.$set(e,this,DSe,"name")}get name(){return this.name.$get(this,DSe,"name")}get name(){return this[rTt]||y((fTt=this.string(),fTt),this,DSe,"name",rTt,Th.prototype)}set path(e){this.path.$set(e,this,NSe,"path")}get path(){return this.path.$get(this,NSe,"path")}get path(){return this[oTt]||y((mTt=this.string(),mTt),this,NSe,"path",oTt,Th.prototype)}set miw(e){this.miw.$set(e,this,ISe,"miw")}get miw(){return this.miw.$get(this,ISe,"miw")}get miw(){return this[nTt]||y(($Tt=this.int(),$Tt),this,ISe,"miw",nTt,Th.prototype)}set maw(e){this.maw.$set(e,this,FSe,"maw")}get maw(){return this.maw.$get(this,FSe,"maw")}get maw(){return this[iTt]||y((yTt=this.int(),yTt),this,FSe,"maw",iTt,Th.prototype)}set flg(e){this.flg.$set(e,this,HSe,"flg")}get flg(){return this.flg.$get(this,HSe,"flg")}get flg(){return this[sTt]||y((jre=this.float(),jre.default=function(){return 0},jre.default.literal=0,jre),this,HSe,"flg",sTt,Th.prototype)}set align(e){this.align.$set(e,this,BSe,"align")}get align(){return this.align.$get(this,BSe,"align")}get align(){return this[lTt]||y((bTt=this.enum({left:{default:!0},center:{},right:{}}),bTt),this,BSe,"align",lTt,Th.prototype)}set sort(e){this.sort.$set(e,this,VSe,"sort")}get sort(){return this.sort.$get(this,VSe,"sort")}get sort(){return this[aTt]||y((gTt=this.enum({none:{default:!0},desc:{},asc:{}}),gTt),this,VSe,"sort",aTt,Th.prototype)}set kind(e){this.kind.$set(e,this,zSe,"kind")}get kind(){return this.kind.$get(this,zSe,"kind")}get kind(){return this[uTt]||y((kTt=this.enum({auto:{},span:{default:!0},title:{},icon:{},chip:{},text:{},rich:{}}),kTt),this,zSe,"kind",uTt,Th.prototype)}set size(e){this.size.$set(e,this,qSe,"size")}get size(){return this.size.$get(this,qSe,"size")}get size(){return this[cTt]||y((_Tt=this.enum({sm:{default:!0},md:{},lg:{}}),_Tt),this,qSe,"size",cTt,Th.prototype)}opownth(e,t){var u;var r,o,n=H(),i,s,a;return i=s=1,(o=n[GSe])||(i=s=0,o=n[GSe]=o=w("th",null,"th",null)),i||(o[J3]=n._),i||((u=o[Tre])==null||u.call(o,n,GSe)),a=this.align,a===o[YSe]||(s|=2,o[YSe]=a),a=`kind-${this.kind}`,a===o[XSe]||(s|=2,o[XSe]=a),s&2&&o.flag$("th "+(o[YSe]||"")+" "+(o[XSe]||"")),r=null,this.kind=="icon"?r="":r=this.name,o[xTt]=o[t7e](r,0,o[xTt]),o}opowntd(e,t){var P,U;var r=gt(this),o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k;r[hTt]??={};let _=this.path??this.name??"",S=r[hTt][_]||=_.split("."),v=t,C=String(this.kind);if(S[1]){let O=S.length-1,L=0;for(v=t;L<O;){let I=S[L++];v=v&&v[I]}v&&(v=v.$[S[L]])}else _&&(v=t.$[_]);let j=p(v,OPProp)?v.value:v;return p(j,Date)&&(j=OP.fmt("ago",j)),s=a=1,(n=i[Are])||(s=a=0,n=i[Are]=n=w("td",null,"td",null)),s||(n[J3]=i._),s||((P=n[Tre])==null||P.call(n,i,Are)),u=`kind-${C}`,u===n[KSe]||(a|=2,n[KSe]=u),u=this.align,u===n[JSe]||(a|=2,n[JSe]=u),u=this.size,u===n[QSe]||(a|=2,n[QSe]=u),v===n[vTt]||(n.odata=n[vTt]=v),u=this,u===n[wTt]||(n.context=n[wTt]=u),c=n[STt]||(n[STt]={options:[null]}),u=v,u===c.options[0]||(c.options[0]=u,a|=48),s||n.on$("optip",c,this),a&32&&(a^=32,(U=c[HFo])==null||U.call(c)),a&2&&n.flag$("td "+(n[KSe]||"")+" "+(n[JSe]||"")+" "+(n[QSe]||"")),o=null,p(j,OPObject)?(h=n[BFo](FFo),d=f=1,(o=h.run(this.oel(j,C)))||(d=f=0,h.cache(o=M(h.value,null,null,null))),d||(o[J3]=n),o[VFo]&&(d||!o.setup||o.setup(f,h),o[Ore](f))):p(v==null?void 0:v.$key,OPBooleanField)?(m=$=1,(o=n[CTt])||(m=$=0,n[CTt]=o=w("span",null,null,null)),m||(o[J3]=n),b=j?"yes":"no",b===o[ETt]||o.text$(String(o[ETt]=b))):(g=x=1,(o=n[jTt])||(g=x=0,n[jTt]=o=w("span",null,null,null)),g||(o[J3]=n),k=j,k===o[UTt]&&g||(o[ATt]=o[t7e](o[UTt]=k,384,o[ATt]))),n[PTt]=n[t7e](o,0,n[PTt]),s||i.sym||!n.setup||n.setup(a,i,Are),i.sym||n[Ore](a),n}prepare(e){return!0}};E(Th,qFo,"OPTablePropView",0);var Mre=Th;globalThis.OPTablePropView=Mre;var WFo=Symbol(),XD=class XD extends OPCollView{set props(e){this.props.$set(e,this,WSe,"props")}get props(){return this.props.$get(this,WSe,"props")}get props(){return this[pTt]||y((TTt=this.embeds(Mre),TTt),this,WSe,"props",pTt,XD.prototype)}opownsection(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Ure])||(r=o=0,e=t[Ure]=e=R("op-table",null,null,null)),r||(e[J3]=t._),r||((i=e[Tre])==null||i.call(e,t,Ure)),n=this,n===e[OTt]||(e.view=e[OTt]=n),r||(e.data__={sub:!0}),n=this.sources||this.$up,n===e[RTt]||(e.data=e[RTt]=n),r||t.sym||!e.setup||e.setup(o,t,Ure),t.sym||e[Ore](o),e}opownbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Pre])||(r=o=0,e=t[Pre]=e=R("op-table",null,null,null)),r||(e[J3]=t._),r||((i=e[Tre])==null||i.call(e,t,Pre)),n=this,n===e[MTt]||(e.view=e[MTt]=n),r||(e.data__={sub:!0}),n=this.sources||this.$up,n===e[LTt]||(e.data=e[LTt]=n),r||t.sym||!e.setup||e.setup(o,t,Pre),t.sym||e[Ore](o),e}set schema(e){this.schema.$set(e,this,ZSe,"schema")}get schema(){return this.schema.$get(this,ZSe,"schema")}get schema(){return this[dTt]||y((e7e=this.memo(),e7e.callback=function(){var e;let r=this.sources.membertype;e=[];for(let o of B(this.props))e.push(o.prepare(r));return e},e7e),this,ZSe,"schema",dTt,XD.prototype)}};E(XD,WFo,"OPTableView",0);var r7e=XD;globalThis.OPTableView=r7e;T();oe();T();oe();var DTt=Symbol(),i7e=class i7e{[A](e=null,t=!0,r=!0){var o;this.samples=e&&(o=e.samples)!==void 0?o:[],this.points=e&&(o=e.points)!==void 0?o:[],this.totals=e?e.totals:void 0}constructor(){this[A](),re(this,DTt)}load(e){var t;let r,o,n,i,s;r=(Date.now()/1e3).round(3600),t=0;for(let a of B(e)){let u=t++;o=a.ts,i=o%60,a.x=(o-i)*1e3;let c=0;if(r){let h=i==1?3600:i==0?86400:604800;for(;(r-=h)>o;)this.points.unshift([r*1e3,0]),c++}r=o,n=i,s=a,this.samples.push(a),c>0&&(this.points[0][1]=0),i==0,this.points.unshift([a.x,a.count])}return this.totals=this.getStats(0,0,1)}shifted(e=7*24*60*60*1e3){let t=e/36e5;return this.points.slice(0,-t).map(function([o,n]){return[o+e,n]}).slice(-(t*4))}getStats(e,t,r=0){let o={sum:0,change:0},n=this.samples.length,i=t-e,s=0;for(;s<n;){let a=this.samples[s++];if(!(t&&a.x>t)){if(e&&e>a.x)break;o.sum+=a.count}}if(r==0&&(o.totals=this.totals,o.prev=this.getStats(e-i,t-i,1),o.prev.sum)){let a=o.sum/o.prev.sum;o.change=(a-1)*100}return o}};E(i7e,DTt,"OPAgg",16);var n7e=i7e;globalThis.OPAgg=n7e;ge(),En(),dt(),We();var s7e=Symbol("query"),NTt=Symbol(),l7e=Symbol("type"),ITt=Symbol(),a7e=Symbol("grouping"),FTt=Symbol(),u7e=Symbol("color"),HTt=Symbol(),c7e=Symbol("x"),BTt=Symbol(),h7e=Symbol("y"),VTt=Symbol(),p7e=Symbol("raw_query"),zTt=Symbol(),d7e=Symbol("refresh"),qTt=Symbol(),f7e=Symbol("fetch"),WTt=Symbol(),m7e=Symbol("selected_range"),ZTt=Symbol(),GTt,Iu,YTt,XTt,KTt,JTt,Fu,$7e,gS,_An=le("&.id",globalThis,l=>l.id),Lre=Symbol(),QTt=Symbol(),eOt=Symbol(),tOt=Symbol(),Dre=Symbol(),rOt=Symbol(),oOt=Symbol(),nOt=Symbol(),iOt=Symbol(),KD=Symbol(),ZFo=Symbol(),sOt,lOt=Symbol(),aOt=Symbol(),uOt=Symbol(),cOt=Symbol(),hOt=Symbol(),pOt=Symbol(),dOt=Symbol(),fOt=Symbol(),mOt=Symbol(),$Ot=Symbol(),yOt=Symbol(),bOt=Symbol(),gOt=Symbol(),kOt=Symbol(),_Ot=Symbol(),xOt=Symbol(),vOt=Symbol();var y7e=Symbol(),wOt=Symbol(),SOt=Symbol(),COt=Symbol(),EOt=Symbol(),jOt=Symbol(),AOt=Symbol(),UOt=Symbol(),POt=Symbol(),TOt=Symbol(),OOt=Symbol(),ROt=Symbol(),MOt=Symbol(),LOt=Symbol(),hm=Symbol.for("##up"),DOt=Symbol.for("##register"),NOt=Symbol.for("#visit"),JD=Symbol.for("#afterVisit"),Oh=Symbol.for("#placeChild"),GFo=Symbol.for("#getRenderContext"),YFo=Symbol.for("#isRichElement"),XFo=Symbol.for("#insertInto"),KFo=Symbol.for("#replaceWith"),kS=Symbol.for("#chart"),IOt=Symbol.for("#patched"),FOt=Symbol.for("#first"),Nre=Symbol.for("#dirty"),b7e=Symbol.for("#over"),HOt=Symbol.for("#points"),JFo=Symbol.for("#beforeReconcile"),BOt=Symbol.for("#appendChild"),QFo=Symbol.for("#afterReconcile"),eHo=Symbol(),Rh=class Rh extends OPCollView{set query(e){this.query.$set(e,this,s7e,"query")}get query(){return this.query.$get(this,s7e,"query")}get query(){return this[NTt]||y((GTt=this.json(),GTt),this,s7e,"query",NTt,Rh.prototype)}set type(e){this.type.$set(e,this,l7e,"type")}get type(){return this.type.$get(this,l7e,"type")}get type(){return this[ITt]||y((Iu=this.enum({line:{default:!0,options:{type:"area"}},bar:{options:{type:"column"}}}),p(Iu.g,Function)?Iu.g(100):Iu.g=100,p(Iu.observable,Function)?Iu.observable():Iu.observable=!0,p(Iu.session,Function)?Iu.session():Iu.session=!0,p(Iu.local,Function)?Iu.local():Iu.local=!0,Iu),this,l7e,"type",ITt,Rh.prototype)}set grouping(e){this.grouping.$set(e,this,a7e,"grouping")}get grouping(){return this.grouping.$get(this,a7e,"grouping")}get grouping(){return this[FTt]||y((YTt=this.string(),YTt),this,a7e,"grouping",FTt,Rh.prototype)}set color(e){this.color.$set(e,this,u7e,"color")}get color(){return this.color.$get(this,u7e,"color")}get color(){return this[HTt]||y((XTt=this.color(),XTt),this,u7e,"color",HTt,Rh.prototype)}set x(e){this.x.$set(e,this,c7e,"x")}get x(){return this.x.$get(this,c7e,"x")}get x(){return this[BTt]||y((KTt=this.string(),KTt),this,c7e,"x",BTt,Rh.prototype)}set y(e){this.y.$set(e,this,h7e,"y")}get y(){return this.y.$get(this,h7e,"y")}get y(){return this[VTt]||y((JTt=this.string(),JTt),this,h7e,"y",VTt,Rh.prototype)}set raw_query(e){this.raw_query.$set(e,this,p7e,"raw_query")}get raw_query(){return this.raw_query.$get(this,p7e,"raw_query")}get raw_query(){return this[zTt]||y((Fu=this.text(),p(Fu.rw,Function)?Fu.rw(OPADMIN):Fu.rw=OPADMIN,p(Fu.editable,Function)?Fu.editable():Fu.editable=!0,p(Fu.dialog,Function)?Fu.dialog():Fu.dialog=!0,p(Fu.label,Function)?Fu.label("Raw Chart Query"):Fu.label="Raw Chart Query",Fu),this,p7e,"raw_query",zTt,Rh.prototype)}set refresh(e){this.refresh.$set(e,this,d7e,"refresh")}get refresh(){return this.refresh.$get(this,d7e,"refresh")}get refresh(){return this[qTt]||y(($7e=this.action(),$7e.callback=async function(){if(!this.agg){let e=Date.now();this.agg=new OPAgg;let t=await this.fetch({x:this.x,y:this.y});t&&this.agg.load(t)}},$7e),this,d7e,"refresh",qTt,Rh.prototype)}set fetch(e){this.fetch.$set(e,this,f7e,"fetch")}get fetch(){return this.fetch.$get(this,f7e,"fetch")}get fetch(){return this[WTt]||y((gS=this.action(),p(gS.rpc,Function)?gS.rpc():gS.rpc=!0,gS.callback=!1,gS),this,f7e,"fetch",WTt,Rh.prototype)}async render(e){let t=this.color||OPColor.of("#5d6aba"),r=e[this.id]||={},o={cumulative:!1,animation:!1};await this.refresh();let n={...o,name:this.name||"Items",type:this.type.bar?"column":"area",lineColor:t.hex,color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,t.alpha(1).toHex()],[1,t.alpha(.1).toHex()]]},fillOpacity:.3,stack:-1,data:this.agg.points,marker:{enabled:!0},base:this,lineWidth:1,boostThreshold:100,dataGrouping:{approximation:"sum",enabled:!0,forced:!0,groupAll:!0,smoothed:!1,anchor:"start"}};return r.main||=e.addSeries(n,!1),r.shifted||=e.addSeries({...n,name:"Previous period",data:this.agg.shifted(7*24*60*60*1e3),marker:{enabled:!1},type:"spline",dashStyle:"dot",opacity:.4,lineWidth:1,stack:1},!1),r.main.update({type:this.type.bar?"column":"area"}),e.redraw(),!0}opownbody(){var s,a;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Lre])||(r=o=0,e=t[Lre]=e=R("op-chartview",null,null,null)),r||(e[hm]=t._),r||((s=e[DOt])==null||s.call(e,t,Lre)),n=this,n===e[QTt]||(e.view=e[QTt]=n),n=this.sources||this.$up,n===e[eOt]||(e.data=e[eOt]=n),i=e[tOt]||(e[tOt]={options:[null]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(a=i[NOt])==null||a.call(i)),r||t.sym||!e.setup||e.setup(o,t,Lre),t.sym||e[JD](o),e}opownsection(){var m,$;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[Dre])||(r=o=0,e=t[Dre]=e=w("section",null,null,null)),r||(e[hm]=t._),r||((m=e[DOt])==null||m.call(e,t,Dre)),n=e[rOt]||(e[rOt]={options:[null]}),i=this,i===n.options[0]||(n.options[0]=i,o|=48),r||e.on$("opmenu",n,this),o&32&&(o^=32,($=n[NOt])==null||$.call(n)),r||(s=w("header",e,null,null)),(a=e[oOt])||(e[oOt]=a=w("h2",s,null,null)),u=this.name,u===e[iOt]&&r||(e[nOt]=a[Oh](e[iOt]=u,384,e[nOt])),c=e[GFo](ZFo),d=f=1,(h=c.run(this.oel(this,"body")))||(d=f=0,c.cache(h=M(c.value,e,null,null))),h[YFo]&&(d||!h.setup||h.setup(f,c),h[JD](f)),h==e[KD]||!e[KD]&&(e[KD]=h)[XFo](e)||e[KD][KFo](e[KD]=h,e),r||t.sym||!e.setup||e.setup(o,t,Dre),t.sym||e[JD](o),e}};E(Rh,eHo,"OPChartView",0);var g7e=Rh;globalThis.OPChartView=g7e;var tHo=Symbol(),Vk=class Vk extends de{get $controls(){let e=w("div",null,`us-al sm ${this._ns_||""} $controls`,null);return Object.defineProperty(this,"$controls",{value:e}),e}get $chart(){let e=w("div",null,`us-aw ${this._ns_||""} $chart`,null);return Object.defineProperty(this,"$chart",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.synchronized=e&&(o=e.synchronized)!==void 0?o:!0}set selected_range(e){this.selected_range.$set(e,this,m7e,"selected_range")}get selected_range(){return this.selected_range.$get(this,m7e,"selected_range")}get selected_range(){return this[ZTt]||y((sOt=this.string(),sOt),this,m7e,"selected_range",ZTt,Vk.prototype)}get buttons(){let e=this._click.bind(this),t={},r={anchor:"start",forced:!0,groupAll:!1};return[{type:"day",count:7,text:"7D",events:{click:e},dataGrouping:{groupPixelWidth:80,units:[["day",[1]]]}},{type:"day",count:30,text:"30D",events:{click:e},dataGrouping:{groupPixelWidth:50,units:[["day",[1]]]}},{type:"month",count:3,text:"90D",events:{click:e},dataGrouping:{groupPixelWidth:50,units:[["week",[1]]]}},{type:"all",count:1,text:"All",offsetMax:4*24*60*60*1e3,offsetMin:-4*24*60*60*1e3,events:{click:e},dataGrouping:{anchor:"middle",groupPixelWidth:50,groupAll:!0,units:[["hour",[1]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",[1]]]}}].map(function(o){let n=Object.assign({},t,o);return n.dataGrouping=Object.assign({},r,n.dataGrouping),n})}get config(){var e=this;let t=12,r=0;return{accessibility:{enabled:!1},chart:{type:"line",panKey:"meta",animation:{duration:50},spacingTop:44,spacingLeft:12,spacingBottom:12,spacingRight:12,zooming:{mouseWheel:{enabled:!1,type:"x"},key:"meta",type:"x"},events:{load:function(){return e[kS]=this,e.refresh(!0)},selection:function(o){return e._selection(o)},redraw:function(o){return e._redraw(o)},render:function(o){return e._render(o)}}},time:{useUTC:!0},xAxis:{visible:!0,type:"datetime",labels:{align:"left",x:5,y:26},max:Date.now(),events:{setExtremes:function(o){return e._setExtremes(o)}},tickLength:8,opposite:!0,ordinal:!1,tickPosition:"inside"},yAxis:{visible:!0,maxPadding:.1,title:{enabled:!1},tickPosition:"inside",labels:{align:"right",x:r-t,y:-4}},rangeSelector:{allButtonsEnabled:!0,floating:!0,x:r-t,y:t,buttonPosition:{align:"right"},buttons:this.buttons,selected:0,inputEnabled:!1},scrollbar:{enabled:!1},navigator:{enabled:!1,height:24,handles:{borderRadius:2},margin:4,xAxis2:{overscroll:"10px"}},legend:{enabled:!1},title:{floating:!0,text:""},tooltip:{shared:!0,split:!1,padding:4},plotOptions:{area:{stacking:"normal",lineWidth:1,fillOpacity:.1,marker:{radius:3}},line:{marker:{radius:3,width:2,height:2},dataGrouping:{approximation:"sum",enabled:!0,forced:!0,groupAll:!0,smoothed:!0,anchor:"start",units:[["hour",[1]],["day",[1,7]],["week",[1]],["month",[1,3,6]],["year",null]]}},series:{marker:{radius:2,width:2,height:2},dataGrouping:{approximation:"sum",enabled:!0,forced:!0,groupAll:!0,groupPixelWidth:80,smoothed:!0,anchor:"start",units:[["hour",[1]],["day",[1,7]],["week",[1]],["month",[1,3,6]],["year",null]]}},column:{stacking:"normal",borderWidth:0},areaspline:{stacking:"normal",lineWidth:1}},series:[]}}awaken(){var e=this;return import("/assets/chunks/highstock.UHBVUX34.js").then(function({default:t}){if(e.render(),e.chart=t.stockChart(e.$chart,e.config),t.Pointer[IOt]!=!0&&(t.Pointer[IOt]=!0,!0))return t.Pointer.prototype.reset=function(){return!0}})}refresh(e=!1){this.view.render(this[kS])}recompute(){var e=this;let t=[this.view.type];if(this[kS]&&this.mounted)return setTimeout(function(){return e.refresh()},50)}_click(e){return!0}_selection(e){let t,r=e.xAxis[0].min;return t=e.xAxis[0].max}_redraw(e){return this[FOt]!=!0&&(this[FOt]=!0,!0)&&(this.clickbutton(0,!1),this.recalc()),!0}_render(e){if(this[Nre])return this.recalc()}_setExtremes(e){if(this.extremes=e,e.trigger=="rangeSelectorButton"){e.preventDefault();let t=e.rangeSelectorButton,{type:r,count:o}=t;r=="all"?this.selected_range="All time":this.selected_range="Last "+o+" "+r+"s";let n,i=Date.now();r=="all"&&(r="day",o=365),n=+OPDay.today[r].rel(-o).start,this.setExtremes(n,i)}else if(e.trigger=="pan")for(let t=0,r=B(this.syncedcharts),o=r.length;t<o;t++){let n=r[t];n!=this&&n.setExtremes(e.min,e.max)}else this[Nre]=!0;return this}setExtremes(e,t){return this[kS].xAxis[0].setExtremes(e,t,void 0,!1,{trigger:"syncExtremes"})}recalc(){var r,o,n;let{min:e,max:t}=this.extremes;if(this[Nre]=!1,e&&t){let i=(n=(o=(r=this.view)==null?void 0:r.agg)==null?void 0:o.getStats)==null?void 0:n.call(o,e,t);return this.summary={from:new Date(e).opday,to:new Date(t).opday,stats:i},this.render()}}clickbutton(e,t=!1){if(t){for(let n=0,i=B(this.syncedcharts),s=i.length;n<s;n++)i[n].clickbutton(e,!1);return}let r=this.querySelectorAll(".highcharts-range-selector-buttons .highcharts-button"),o=globalThis.document.createEvent("SVGEvents");return o.initEvent("click",!0,!0),r[e].dispatchEvent(o)}get syncedcharts(){return(this.closest(".opage-body")||this).querySelectorAll(".opchart")}_pointerup(){var e;if(this[Nre]){e=[];for(let t=0,r=B(this.syncedcharts),o=r.length;t<o;t++){let n=r[t];e.push(n.recalc())}return e}}_recalc(){return!0}_mouseleave(e){for(let t=0,r=B(this.syncedcharts),o=r.length,n;t<o;t++)if(n=r[t][kS]){let s=n.pointer.normalize(e);n.tooltip.hide(0);for(let a=0,u=B(n[HOt]||[]),c=u.length;a<c;a++){let h=u[a];if(h[b7e]!=null&&(h[b7e]=null,!0))try{h.onMouseOut()}catch{}}for(let a=0,u=B(n.xAxis),c=u.length;a<c;a++){let h=u[a];h.hideCrosshair(),a==0&&h.drawCrosshair(s,null)}}}_mousemove(e){let t=this.syncedcharts;for(let r=0,o=B(t),n=o.length,i;r<n;r++)if(i=o[r][kS])try{let a=i.pointer.normalize(e);a.chartY=50;let u=[];for(let c=0,h=B(i.series),d=h.length,f;c<d;c++)(f=h[c].searchPoint(a,!0))&&(u.push(f),c==0&&(f[b7e]=!0,f.onMouseOver(),i.xAxis[0].drawCrosshair(a,f)));u.any&&i.tooltip.refresh(u),i[HOt]=u}catch{}return!0}render(){var ie;var e=this,t,r,o,n,i,s,a,u,c,h=this._ns_||"",d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te;let ne=(ie=this.summary)==null?void 0:ie.stats;i=this,i[JFo](),s=a=1,i[lOt]===1||(s=a=0,i[lOt]=1),s||i.on$("pointerup",{silent:!0,$_:[function(J,me){return e._pointerup(J)}]},this),u=i[aOt]||(i[aOt]={throttle:[null],$_:[function(J,me){return e._recalc(J)}]}),u.throttle[0]=100,s||i.on$("recalc",u,this),(!s||a&2)&&i.flagSelf$("opchart"),(c=i[uOt])||(i[uOt]=(c=this.$controls,c[hm]=i,c)),(d=i[cOt])||(i[cOt]=d=w("div",c,`us-an summary us_al ${h}`,null)),(f=i[hOt])||(i[hOt]=f=w("h2",d,`us-ao us_al ${h}`,null)),m=this.view.astitle,m===i[dOt]&&s||(i[pOt]=f[Oh](i[dOt]=m,384,i[pOt])),t=null,ne!=null&&ne.totals&&($=b=1,(t=i[fOt])||($=b=0,i[fOt]=t=w("div",null,`us-ap ostat us_al ${h}`,null)),$||(t[hm]=d),$||(t.optip="Total count"),pt.context=t[$Ot]||(t[$Ot]={_:t}),g=(ne.totals.sum||0).toLocaleString("en-US"),pt.context=null,g===t[yOt]&&$||(t[mOt]=t[Oh](t[yOt]=g,384,t[mOt]))),i[bOt]=d[Oh](t,0,i[bOt]),k=_=1,(x=i[gOt])||(k=_=0,i[gOt]=x=w("div",d,`period us_al ${h}`,null)),k||(x.optip="In period"),r=o=null,ne&&ne.sum&&(S=v=1,(r=i[kOt])||(S=v=0,i[kOt]=r=w("div",null,`ostat us_al ${h}`,null)),S||(r[hm]=x),C=ne.sum,C===r[xOt]&&S||(r[_Ot]=r[Oh](r[xOt]=C,384,r[_Ot])),ne.change&&(j=P=1,(o=i[vOt])||(j=P=0,i[vOt]=o=w("div",null,`us-as ostat us_al ${h}`,null)),j||(o[hm]=x),U=ne.change<0||void 0,U===o[y7e]||(P|=2,o[y7e]=U),P&2&&o.flag$(`us-as ostat us_al ${h} `+(o[y7e]?"neg":"")),U=Math.abs(ne.change).round(.1)+"%",U===o[SOt]&&j||(o[wOt]=o[Oh](o[SOt]=U,128,o[wOt])))),i[COt]=x[Oh](r,0,i[COt]),i[EOt]=x[Oh](o,0,i[EOt]),n=null,this.selected_range&&(O=L=1,(n=i[jOt])||(O=L=0,i[jOt]=n=w("div",null,`us-at us_al ${h}`,null)),O||(n[hm]=d),O||n[Oh]("("),I=this.selected_range,I===n[UOt]&&O||(n[AOt]=n[Oh](n[UOt]=I,0,n[AOt])),O||n[Oh](")")),i[POt]=d[Oh](n,0,i[POt]),(F=i[TOt])||(i[TOt]=F=w("div",c,`us-au buttons xs us_al ${h}`,null)),(N=i[OOt])||(i[OOt]=N=Jt(256,F)),V=0,W=N.$;for(let J=0,me=B(this.buttons),ce=me.length;J<ce;J++){let ye=me[J];q=Y=1,(z=W[V])||(q=Y=0,W[V]=z=R("op-button",N,`us_al ${h}`,null)),q||(z[hm]=N),K=ye.text,K===z[ROt]||(z.label=z[ROt]=K),X=z[MOt]||(z[MOt]={$_:[function(we,ae,be){return e.clickbutton(be,!0)},null]}),X.$_[1]=J,q||z.on$("click",X,this),q||(z.icon=!1),q||!z.setup||z.setup(Y,Z),z[JD](Y),V++}return N[JD](V),s||i[BOt](c),ee=te=1,(Q=i[LOt])||(ee=te=0,i[LOt]=(Q=this.$chart,Q[hm]=i,Q)),ee||Q.on$("mousemove",{silent:!0,$_:[function(J,me){return e._mousemove(J)}]},this),ee||Q.on$("pointerleave",{self:!0,silent:!0,$_:[function(J,me){return e._mouseleave(J)}]},this),ee||i[BOt](Q),i[QFo](a),i}};Vk.prototype[Le]=De,se([ke.bind([])],Vk.prototype,"buttons",null),se([kf.bind([])],Vk.prototype,"recompute",null),E(Vk,tHo,"op-chartview",258),pe("op-chartview",Vk,{cssid:"us-am"});var VOt=Vk;T();oe();var Ire=Symbol(),zOt=Symbol(),qOt=Symbol(),Fre=Symbol(),WOt=Symbol(),ZOt=Symbol(),GOt=Symbol.for("##up"),YOt=Symbol.for("##register"),XOt=Symbol.for("#afterVisit"),rHo=Symbol(),_7e=class _7e extends OPCollView{opownsection(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Ire])||(r=o=0,e=t[Ire]=e=R("op-listview",null,null,null)),r||(e[GOt]=t._),r||((i=e[YOt])==null||i.call(e,t,Ire)),n=this,n===e[zOt]||(e.view=e[zOt]=n),r||(e.data__={sub:!0}),n=this.sources||this.$up,n===e[qOt]||(e.data=e[qOt]=n),r||t.sym||!e.setup||e.setup(o,t,Ire),t.sym||e[XOt](o),e}opownbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Fre])||(r=o=0,e=t[Fre]=e=R("op-listview",null,null,null)),r||(e[GOt]=t._),r||((i=e[YOt])==null||i.call(e,t,Fre)),n=this,n===e[WOt]||(e.view=e[WOt]=n),r||(e.data__={sub:!0}),n=this.sources||this.$up,n===e[ZOt]||(e.data=e[ZOt]=n),r||t.sym||!e.setup||e.setup(o,t,Fre),t.sym||e[XOt](o),e}};E(_7e,rHo,"OPListView",0);var k7e=_7e;globalThis.OPListView=k7e;T();oe();var x7e=Symbol("id"),KOt=Symbol(),v7e=Symbol("server"),JOt=Symbol(),w7e=Symbol("session"),QOt=Symbol(),S7e=Symbol("user"),eRt=Symbol(),C7e=Symbol("ns"),tRt=Symbol(),E7e=Symbol("event"),rRt=Symbol(),j7e=Symbol("payload"),oRt=Symbol(),A7e=Symbol("meta"),nRt=Symbol(),U7e=Symbol("error"),iRt=Symbol(),P7e=Symbol("count"),sRt=Symbol(),T7e=Symbol("size"),lRt=Symbol(),O7e=Symbol("dur"),aRt=Symbol(),Hu,QD,uRt,cRt,hRt,pRt,dRt,fRt,mRt,$Rt,eN,yRt,oHo=Symbol(),Yl=class Yl extends OPObject{set id(e){this.id.$set(e,this,x7e,"id")}get id(){return this.id.$get(this,x7e,"id")}get id(){return this[KOt]||y((Hu=this.key(),p(Hu.silent,Function)?Hu.silent():Hu.silent=!0,p(Hu.system,Function)?Hu.system():Hu.system=!0,p(Hu.serial,Function)?Hu.serial():Hu.serial=!0,p(Hu.rwxcd,Function)?Hu.rwxcd(OPSRV):Hu.rwxcd=OPSRV,Hu),this,x7e,"id",KOt,Yl.prototype)}set server(e){this.server.$set(e,this,v7e,"server")}get server(){return this.server.$get(this,v7e,"server")}get server(){return this[JOt]||y((QD=this.ref(OPServer),p(QD.lazy,Function)?QD.lazy():QD.lazy=!0,QD),this,v7e,"server",JOt,Yl.prototype)}set session(e){this.session.$set(e,this,w7e,"session")}get session(){return this.session.$get(this,w7e,"session")}get session(){return this[QOt]||y((uRt=this.ref(OPSession),uRt),this,w7e,"session",QOt,Yl.prototype)}set user(e){this.user.$set(e,this,S7e,"user")}get user(){return this.user.$get(this,S7e,"user")}get user(){return this[eRt]||y((cRt=this.ref(OPUser),cRt),this,S7e,"user",eRt,Yl.prototype)}set ns(e){this.ns.$set(e,this,C7e,"ns")}get ns(){return this.ns.$get(this,C7e,"ns")}get ns(){return this[tRt]||y((hRt=this.string(),hRt),this,C7e,"ns",tRt,Yl.prototype)}set event(e){this.event.$set(e,this,E7e,"event")}get event(){return this.event.$get(this,E7e,"event")}get event(){return this[rRt]||y((pRt=this.string(),pRt),this,E7e,"event",rRt,Yl.prototype)}set payload(e){this.payload.$set(e,this,j7e,"payload")}get payload(){return this.payload.$get(this,j7e,"payload")}get payload(){return this[oRt]||y((dRt=this.bytea(),dRt),this,j7e,"payload",oRt,Yl.prototype)}set meta(e){this.meta.$set(e,this,A7e,"meta")}get meta(){return this.meta.$get(this,A7e,"meta")}get meta(){return this[nRt]||y((fRt=this.json(),fRt),this,A7e,"meta",nRt,Yl.prototype)}set error(e){this.error.$set(e,this,U7e,"error")}get error(){return this.error.$get(this,U7e,"error")}get error(){return this[iRt]||y((mRt=this.bytea(),mRt),this,U7e,"error",iRt,Yl.prototype)}set count(e){this.count.$set(e,this,P7e,"count")}get count(){return this.count.$get(this,P7e,"count")}get count(){return this[sRt]||y(($Rt=this.int(),$Rt),this,P7e,"count",sRt,Yl.prototype)}set size(e){this.size.$set(e,this,T7e,"size")}get size(){return this.size.$get(this,T7e,"size")}get size(){return this[lRt]||y((eN=this.number(),p(eN.bytes,Function)?eN.bytes():eN.bytes=!0,eN),this,T7e,"size",lRt,Yl.prototype)}set dur(e){this.dur.$set(e,this,O7e,"dur")}get dur(){return this.dur.$get(this,O7e,"dur")}get dur(){return this[aRt]||y((yRt=this.ms(),yRt),this,O7e,"dur",aRt,Yl.prototype)}static async log(e={}){var t;e.user??=OP.user,e.session??=OP.session,e.server??=OP.server,e.dur&&(e.dur=Math.round(e.dur));for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],s==null?(t=e[i],delete e[i]):p(s,OPObject)&&(e[i]=s.id);return await OP.sql`insert into ${this} ${e}`}};Yl.alias="L",E(Yl,oHo,"OPSyslog",0);var R7e=Yl;globalThis.OPSyslog=R7e;T();oe();var M7e=Symbol("body"),bRt=Symbol(),tN,nHo=Symbol(),Hre=class Hre extends OPPacket{set body(e){this.body.$set(e,this,M7e,"body")}get body(){return this.body.$get(this,M7e,"body")}get body(){return this[bRt]||y((tN=this.text(),p(tN.at,Function)?tN.at(3):tN.at=3,tN),this,M7e,"body",bRt,Hre.prototype)}$handle(){return OP.toast(this.body)}};E(Hre,nHo,"OPMessagePacket",0);var L7e=Hre;globalThis.OPMessagePacket=L7e;T();oe();ge(),$e();var D7e=Symbol("dpr"),gRt=Symbol(),N7e=Symbol("width"),kRt=Symbol(),I7e=Symbol("height"),_Rt=Symbol(),F7e=Symbol("platform"),xRt=Symbol(),H7e=Symbol("screen"),vRt=Symbol(),B7e=Symbol("cores"),wRt=Symbol(),V7e=Symbol("memory"),SRt=Symbol(),z7e=Symbol("full"),CRt=Symbol(),q7e=Symbol("prefers-dark-mode"),ERt=Symbol(),W7e=Symbol("prefers-reduced-mode"),jRt=Symbol(),Z7e=Symbol("prefers-contrast"),ARt=Symbol(),G7e=Symbol("prefers-reduced-transparency"),URt=Symbol(),Y7e=Symbol("prefers-reduced-data"),PRt=Symbol(),rN,oN,nN,iN,TRt,sN,lN,ORt,RRt,MRt,LRt,DRt,NRt,Bre=Symbol(),IRt=Symbol(),FRt=Symbol(),Vre=Symbol(),HRt=Symbol(),BRt=Symbol(),VRt=Symbol(),zRt=Symbol(),qRt=Symbol(),WRt=Symbol(),ZRt=Symbol(),GRt=Symbol(),YRt=Symbol(),XRt=Symbol(),KRt=Symbol(),JRt=Symbol(),QRt=Symbol(),eMt=Symbol(),tMt=Symbol(),rMt=Symbol(),oMt=Symbol(),nMt=Symbol(),iMt=Symbol(),Q3=Symbol.for("##up"),sMt=Symbol.for("##register"),iHo=Symbol.for("#visit"),lMt=Symbol.for("#afterVisit"),sHo=Symbol.for("#getSlot"),zk=Symbol.for("#placeChild"),lHo=Symbol(),_S=class _S extends OPEmbed{set dpr(e){this.dpr.$set(e,this,D7e,"dpr")}get dpr(){return this.dpr.$get(this,D7e,"dpr")}get dpr(){return this[gRt]||y((rN=this.number(),p(rN.stat,Function)?rN.stat():rN.stat=!0,rN),this,D7e,"dpr",gRt,_S.prototype)}set width(e){this.width.$set(e,this,N7e,"width")}get width(){return this.width.$get(this,N7e,"width")}get width(){return this[kRt]||y((oN=this.int(),p(oN.stat,Function)?oN.stat():oN.stat=!0,oN),this,N7e,"width",kRt,_S.prototype)}set height(e){this.height.$set(e,this,I7e,"height")}get height(){return this.height.$get(this,I7e,"height")}get height(){return this[_Rt]||y((nN=this.int(),p(nN.stat,Function)?nN.stat():nN.stat=!0,nN),this,I7e,"height",_Rt,_S.prototype)}get aslabel(){return""+this.width+"x"+this.height+(this.dpr>1?"@"+this.dpr+"x":"")}};E(_S,lHo,"OPUserAgentScreen",1024);var zre=_S;globalThis.OPUserAgentScreen=zre;var aHo=Symbol(),Bc=class Bc extends OPEmbed{set platform(e){this.platform.$set(e,this,F7e,"platform")}get platform(){return this.platform.$get(this,F7e,"platform")}get platform(){return this[xRt]||y((iN=this.string(),p(iN.stat,Function)?iN.stat():iN.stat=!0,iN),this,F7e,"platform",xRt,Bc.prototype)}set screen(e){this.screen.$set(e,this,H7e,"screen")}get screen(){return this.screen.$get(this,H7e,"screen")}get screen(){return this[vRt]||y((TRt=this.embed(zre),TRt),this,H7e,"screen",vRt,Bc.prototype)}set cores(e){this.cores.$set(e,this,B7e,"cores")}get cores(){return this.cores.$get(this,B7e,"cores")}get cores(){return this[wRt]||y((sN=this.int(),p(sN.stat,Function)?sN.stat():sN.stat=!0,sN),this,B7e,"cores",wRt,Bc.prototype)}set memory(e){this.memory.$set(e,this,V7e,"memory")}get memory(){return this.memory.$get(this,V7e,"memory")}get memory(){return this[SRt]||y((lN=this.number(),p(lN.stat,Function)?lN.stat():lN.stat=!0,lN),this,V7e,"memory",SRt,Bc.prototype)}set full(e){this.full.$set(e,this,z7e,"full")}get full(){return this.full.$get(this,z7e,"full")}get full(){return this[CRt]||y((ORt=this.string(),ORt),this,z7e,"full",CRt,Bc.prototype)}set prefersdarkmode(e){this.prefersdarkmode.$set(e,this,q7e,"prefersdarkmode")}get prefersdarkmode(){return this.prefersdarkmode.$get(this,q7e,"prefersdarkmode")}get prefersdarkmode(){return this[ERt]||y((RRt=this.bit(0),RRt),this,q7e,"prefersdarkmode",ERt,Bc.prototype)}set prefersreducedmode(e){this.prefersreducedmode.$set(e,this,W7e,"prefersreducedmode")}get prefersreducedmode(){return this.prefersreducedmode.$get(this,W7e,"prefersreducedmode")}get prefersreducedmode(){return this[jRt]||y((MRt=this.bit(1),MRt),this,W7e,"prefersreducedmode",jRt,Bc.prototype)}set preferscontrast(e){this.preferscontrast.$set(e,this,Z7e,"preferscontrast")}get preferscontrast(){return this.preferscontrast.$get(this,Z7e,"preferscontrast")}get preferscontrast(){return this[ARt]||y((LRt=this.bit(2),LRt),this,Z7e,"preferscontrast",ARt,Bc.prototype)}set prefersreducedtransparency(e){this.prefersreducedtransparency.$set(e,this,G7e,"prefersreducedtransparency")}get prefersreducedtransparency(){return this.prefersreducedtransparency.$get(this,G7e,"prefersreducedtransparency")}get prefersreducedtransparency(){return this[URt]||y((DRt=this.bit(3),DRt),this,G7e,"prefersreducedtransparency",URt,Bc.prototype)}set prefersreduceddata(e){this.prefersreduceddata.$set(e,this,Y7e,"prefersreduceddata")}get prefersreduceddata(){return this.prefersreduceddata.$get(this,Y7e,"prefersreduceddata")}get prefersreduceddata(){return this[PRt]||y((NRt=this.bit(4),NRt),this,Y7e,"prefersreduceddata",PRt,Bc.prototype)}$set(e){return e==!0?this.populate():super.$set(...arguments)}populate(){let e=globalThis.navigator,t=function(o){return window.matchMedia(o).matches},r={platform:e.platform,full:e.userAgent,screen:{width:globalThis.screen.width,height:globalThis.screen.height,dpr:window.devicePixelRatio||1},memory:e.deviceMemory||0,cores:e.hardwareConcurrency||0,prefersdarkmode:t("(prefers-color-scheme: dark)"),prefersreducedmotion:t("(prefers-reduced-motion)"),preferscontrast:t("(prefers-contrast)"),prefersreducedtransparency:t("(prefers-reduced-transparency)"),prefersreduceddata:t("(prefers-reduced-data)")};return this.set(r)}get asicon(){return this.platform=="MacIntel"?"apple":"useragent"}opownchip(){var s,a;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Bre])||(r=o=0,e=t[Bre]=e=R("op-icon",null,null,null)),r||(e[Q3]=t._),r||((s=e[sMt])==null||s.call(e,t,Bre)),n=this,n===e[IRt]||(e.data=e[IRt]=n),i=e[FRt]||(e[FRt]={options:[null]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("optip",i,this),o&32&&(o^=32,(a=i[iHo])==null||a.call(i)),r||t.sym||!e.setup||e.setup(o,t,Bre),t.sym||e[lMt](o),e}opowntip(){var O,L;var e,t,r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;return a=u=1,(i=s[Vre])||(a=u=0,i=s[Vre]=i=R("op",null,"tj-ag",null)),a||(i[Q3]=s._),a||((O=i[sMt])==null||O.call(i,s,Vre)),c=i[sHo]("__",i),(h=i[HRt])||(i[HRt]=h=w("span",c,null,null)),d=this.platform,d===i[VRt]&&a||(i[BRt]=h[zk](i[VRt]=d,384,i[BRt])),(f=i[zRt])||(i[zRt]=f=w("span",c,null,null)),m=(L=this.screen)==null?void 0:L.aslabel,m===i[WRt]&&a||(i[qRt]=f[zk](i[WRt]=m,384,i[qRt])),($=i[ZRt])||(i[ZRt]=$=w("span",c,null,null)),b=this.full,b===i[YRt]&&a||(i[GRt]=$[zk](i[YRt]=b,384,i[GRt])),e=null,this.prefersdarkmode&&(g=x=1,(e=i[XRt])||(g=x=0,i[XRt]=e=w("span",null,null,"prefers-dark-mode")),g||(e[Q3]=c)),i[KRt]=c[zk](e,0,i[KRt]),t=null,this.prefersreducedmode&&(k=_=1,(t=i[JRt])||(k=_=0,i[JRt]=t=w("span",null,null,"prefers-reduced-mode")),k||(t[Q3]=c)),i[QRt]=c[zk](t,0,i[QRt]),r=null,this.preferscontrast&&(S=v=1,(r=i[eMt])||(S=v=0,i[eMt]=r=w("span",null,null,"prefers-contrast")),S||(r[Q3]=c)),i[tMt]=c[zk](r,0,i[tMt]),o=null,this.prefersreducedtransparency&&(C=j=1,(o=i[rMt])||(C=j=0,i[rMt]=o=w("span",null,null,"prefers-reduced-transparency")),C||(o[Q3]=c)),i[oMt]=c[zk](o,0,i[oMt]),n=null,this.prefersreduceddata&&(P=U=1,(n=i[nMt])||(P=U=0,i[nMt]=n=w("span",null,null,"prefers-reduced-data")),P||(n[Q3]=c)),i[iMt]=c[zk](n,0,i[iMt]),a||s.sym||!i.setup||i.setup(u,s,Vre),s.sym||i[lMt](u),i}};E(Bc,aHo,"OPUserAgent",8);var X7e=Bc;globalThis.OPUserAgent=X7e;T();oe();$e();var K7e=Symbol("id"),aMt=Symbol(),J7e=Symbol("hash"),uMt=Symbol(),Q7e=Symbol("last_instance"),cMt=Symbol(),e9e=Symbol("name"),hMt=Symbol(),t9e=Symbol("stack"),pMt=Symbol(),r9e=Symbol("data"),dMt=Symbol(),o9e=Symbol("id"),fMt=Symbol(),n9e=Symbol("_logname"),mMt=Symbol(),i9e=Symbol("log"),$Mt=Symbol(),s9e=Symbol("agent"),yMt=Symbol(),l9e=Symbol("body"),bMt=Symbol(),a9e=Symbol("events"),gMt=Symbol(),u9e=Symbol("body2"),kMt=Symbol(),c9e=Symbol("events2"),_Mt=Symbol(),h9e=Symbol("stack"),xMt=Symbol(),p9e=Symbol("error"),vMt=Symbol(),d9e=Symbol("place"),wMt=Symbol(),f9e=Symbol("urgent"),SMt=Symbol(),m9e=Symbol("url"),CMt=Symbol(),$9e=Symbol("git_hash"),EMt=Symbol(),y9e=Symbol("country"),jMt=Symbol(),b9e=Symbol("ip"),AMt=Symbol(),g9e=Symbol(),k9e=Symbol("pushlog"),UMt=Symbol(),aN,uN,xS,cN,PMt,_9e,qre=Symbol(),TMt=Symbol(),OMt=Symbol(),hN,vS,pN,dN,RMt,MMt,fN,mN,LMt,DMt,NMt,IMt,$N,yN,bN,gN,Wre=Symbol(),FMt=Symbol(),HMt=Symbol(),Zre=Symbol(),BMt=Symbol(),VMt=Symbol(),Gre=Symbol(),zMt=Symbol(),qMt=Symbol(),WMt=Symbol(),ZMt=Symbol(),GMt=Symbol(),YMt=Symbol(),XMt=Symbol(),KMt=Symbol(),JMt=Symbol(),QMt=Symbol(),eLt=Symbol(),tLt=Symbol(),rLt=Symbol(),oLt=Symbol(),nLt=Symbol(),iLt=Symbol(),sLt=Symbol(),lLt=Symbol(),aLt=Symbol(),uLt=Symbol(),cLt=Symbol(),hLt=Symbol(),pLt=Symbol(),dLt=Symbol(),fLt=Symbol(),mLt=Symbol(),$Lt=Symbol(),yLt=Symbol(),bLt=Symbol(),gLt=Symbol(),kLt=Symbol(),wS,Bu=Symbol.for("##up"),Yre=Symbol.for("##register"),Xre=Symbol.for("#getSlot"),va=Symbol.for("#placeChild"),Kre=Symbol.for("#afterVisit");Error.stackTraceLimit=100;function wLt(l,e){let t=p(l,Error)?l:new Error(l);globalThis.lastError=t;try{return OP.logged(t,e)}catch{}}window.onunhandledrejection=function(l){return l.trap(),wLt(l.reason,{event:l})};window.onerror=function(l,e,t,r,o){if(p(l,CustomEvent)&&(o=l.error),!(typeof l=="string"&&l.match("ResizeObserver")))return wLt(o,{event:l,source:e,lineno:t,colno:r})};function _Lt(l){var e,t;if(p(l,Event))return{tagname:(t=(e=l.target)==null?void 0:e.constructor)==null?void 0:t.name,closest_op_id:SLt(l.target),timestamp:l.timeStamp}}function SLt(l){var e;if(p(l,HTMLElement))try{return String(l.op.closest(OPObject).data)}catch{return((e=l==null?void 0:l.constructor)==null?void 0:e.name)||""}}var uHo=Symbol(),pm=class pm extends OPObject{set id(e){this.id.$set(e,this,K7e,"id")}get id(){return this.id.$get(this,K7e,"id")}get id(){return this[aMt]||y((aN=this.key(),p(aN.rwxcd,Function)?aN.rwxcd(OPADMIN):aN.rwxcd=OPADMIN,aN),this,K7e,"id",aMt,pm.prototype)}set hash(e){this.hash.$set(e,this,J7e,"hash")}get hash(){return this.hash.$get(this,J7e,"hash")}get hash(){return this[uMt]||y((uN=this.bytea(),p(uN.composite,Function)?uN.composite():uN.composite=!0,uN),this,J7e,"hash",uMt,pm.prototype)}set last_instance(e){this.last_instance.$set(e,this,Q7e,"last_instance")}get last_instance(){return this.last_instance.$get(this,Q7e,"last_instance")}get last_instance(){return this[cMt]||y((xS=this.memo(),p(xS.order,Function)?xS.order("desc"):xS.order="desc",xS.callback=function(){return this.$children.reduce(function(e,t){return Math.max(e,t._cre)},this._cre)},xS),this,Q7e,"last_instance",cMt,pm.prototype)}get asicon(){return"log"}set name(e){this.name.$set(e,this,e9e,"name")}get name(){return this.name.$get(this,e9e,"name")}get name(){return this[hMt]||y((cN=this.string(),p(cN.s,Function)?cN.s():cN.s=!0,cN),this,e9e,"name",hMt,pm.prototype)}set stack(e){this.stack.$set(e,this,t9e,"stack")}get stack(){return this.stack.$get(this,t9e,"stack")}get stack(){return this[pMt]||y((PMt=this.text(),PMt),this,t9e,"stack",pMt,pm.prototype)}set data(e){this.data.$set(e,this,r9e,"data")}get data(){return this.data.$get(this,r9e,"data")}get data(){return this[dMt]||y((_9e=this.pub(),_9e.callback=function(e){var t;if((t=OP.user)!=null&&t.admin)return e.add(this.$children)},_9e),this,r9e,"data",dMt,pm.prototype)}opownpageintro(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[qre])||(r=o=0,e=t[qre]=e=R("op",null,"tq-af",null)),r||(e[Bu]=t._),r||((s=e[Yre])==null||s.call(e,t,qre)),n=e[Xre]("__",e),i=this.stack,i===e[OMt]&&r||(e[TMt]=n[va](e[OMt]=i,256,e[TMt])),r||t.sym||!e.setup||e.setup(o,t,qre),t.sym||e[Kre](o),e}};E(pm,uHo,"OPLog",0);var Jre=pm;globalThis.OPLog=Jre;var cHo=Symbol(),cs=class cs extends OPObject{set id(e){this.id.$set(e,this,o9e,"id")}get id(){return this.id.$get(this,o9e,"id")}get id(){return this[fMt]||y((hN=this.key(),p(hN.rwxcd,Function)?hN.rwxcd(OPADMIN):hN.rwxcd=OPADMIN,hN),this,o9e,"id",fMt,cs.prototype)}set _logname(e){this._logname.$set(e,this,n9e,"_logname")}get _logname(){return this._logname.$get(this,n9e,"_logname")}get _logname(){return this[mMt]||y((vS=this.memo(),p(vS.s,Function)?vS.s():vS.s=!0,vS.callback=function(){return this.log.name},vS),this,n9e,"_logname",mMt,cs.prototype)}set log(e){this.log.$set(e,this,i9e,"log")}get log(){return this.log.$get(this,i9e,"log")}get log(){return this[$Mt]||y((pN=this.parent(Jre),p(pN.stat,Function)?pN.stat():pN.stat=!0,pN),this,i9e,"log",$Mt,cs.prototype)}set agent(e){this.agent.$set(e,this,s9e,"agent")}get agent(){return this.agent.$get(this,s9e,"agent")}get agent(){return this[yMt]||y((dN=this.ref(OPAgent),p(dN.stat,Function)?dN.stat():dN.stat=!0,dN),this,s9e,"agent",yMt,cs.prototype)}set body(e){this.body.$set(e,this,l9e,"body")}get body(){return this.body.$get(this,l9e,"body")}get body(){return this[bMt]||y((RMt=this.text(),RMt),this,l9e,"body",bMt,cs.prototype)}set events(e){this.events.$set(e,this,a9e,"events")}get events(){return this.events.$get(this,a9e,"events")}get events(){return this[gMt]||y((MMt=this.text(),MMt),this,a9e,"events",gMt,cs.prototype)}set body2(e){this.body2.$set(e,this,u9e,"body2")}get body2(){return this.body2.$get(this,u9e,"body2")}get body2(){return this[kMt]||y((fN=this.json(),p(fN.lazy,Function)?fN.lazy():fN.lazy=!0,fN),this,u9e,"body2",kMt,cs.prototype)}set events2(e){this.events2.$set(e,this,c9e,"events2")}get events2(){return this.events2.$get(this,c9e,"events2")}get events2(){return this[_Mt]||y((mN=this.json(),p(mN.lazy,Function)?mN.lazy():mN.lazy=!0,mN),this,c9e,"events2",_Mt,cs.prototype)}set stack(e){this.stack.$set(e,this,h9e,"stack")}get stack(){return this.stack.$get(this,h9e,"stack")}get stack(){return this[xMt]||y((LMt=this.text(),LMt),this,h9e,"stack",xMt,cs.prototype)}set error(e){this.error.$set(e,this,p9e,"error")}get error(){return this.error.$get(this,p9e,"error")}get error(){return this[vMt]||y((DMt=this.text(),DMt),this,p9e,"error",vMt,cs.prototype)}set place(e){this.place.$set(e,this,d9e,"place")}get place(){return this.place.$get(this,d9e,"place")}get place(){return this[wMt]||y((NMt=this.enum({client:{},server:{}}),NMt),this,d9e,"place",wMt,cs.prototype)}set urgent(e){this.urgent.$set(e,this,f9e,"urgent")}get urgent(){return this.urgent.$get(this,f9e,"urgent")}get urgent(){return this[SMt]||y((IMt=this.bool(),IMt),this,f9e,"urgent",SMt,cs.prototype)}set url(e){this.url.$set(e,this,m9e,"url")}get url(){return this.url.$get(this,m9e,"url")}get url(){return this[CMt]||y(($N=this.url(),p($N.stat,Function)?$N.stat():$N.stat=!0,$N),this,m9e,"url",CMt,cs.prototype)}set git_hash(e){this.git_hash.$set(e,this,$9e,"git_hash")}get git_hash(){return this.git_hash.$get(this,$9e,"git_hash")}get git_hash(){return this[EMt]||y((yN=this.string(),p(yN.stat,Function)?yN.stat():yN.stat=!0,yN),this,$9e,"git_hash",EMt,cs.prototype)}set country(e){this.country.$set(e,this,y9e,"country")}get country(){return this.country.$get(this,y9e,"country")}get country(){return this[jMt]||y((bN=this.country(),p(bN.stat,Function)?bN.stat():bN.stat=!0,bN),this,y9e,"country",jMt,cs.prototype)}set ip(e){this.ip.$set(e,this,b9e,"ip")}get ip(){return this.ip.$get(this,b9e,"ip")}get ip(){return this[AMt]||y((gN=this.string(),p(gN.stat,Function)?gN.stat():gN.stat=!0,gN),this,b9e,"ip",AMt,cs.prototype)}get asicon(){return"instance"}get aslabel(){var e;return this.error||((e=this.log)==null?void 0:e.aslabel)}opownpagetitle(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Wre])||(r=o=0,e=t[Wre]=e=R("op",null,null,null)),r||(e[Bu]=t._),r||((s=e[Yre])==null||s.call(e,t,Wre)),n=e[Xre]("__",e),i=this.aslabel,i===e[HMt]&&r||(e[FMt]=n[va](e[HMt]=i,384,e[FMt])),r||t.sym||!e.setup||e.setup(o,t,Wre),t.sym||e[Kre](o),e}opownpageintro(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Zre])||(r=o=0,e=t[Zre]=e=R("op",null,"tq-ah",null)),r||(e[Bu]=t._),r||((s=e[Yre])==null||s.call(e,t,Zre)),n=e[Xre]("__",e),i=this.stack||this.log.stack,i===e[VMt]&&r||(e[BMt]=n[va](e[VMt]=i,256,e[BMt])),r||t.sym||!e.setup||e.setup(o,t,Zre),t.sym||e[Kre](o),e}opownpagebody(){var Q;var e,t,r,o,n,i,s,a=H(),u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z;return u=c=1,(s=a[Gre])||(u=c=0,s=a[Gre]=s=R("op",null,"tq-ai",null)),u||(s[Bu]=a._),u||((Q=s[Yre])==null||Q.call(s,a,Gre)),h=s[Xre]("__",s),e=t=null,this.body2?(d=f=1,(e=s[zMt])||(d=f=0,s[zMt]=e=w("h2",null,"tq_ai","Body")),d||(e[Bu]=h),m=$=1,(t=s[qMt])||(m=$=0,s[qMt]=t=w("pre",null,"tq_ai",null)),m||(t[Bu]=h),pt.context=t[ZMt]||(t[ZMt]={_:t}),b=JSON.stringify(this.body2,null,2),pt.context=null,b===t[GMt]&&m||(t[WMt]=t[va](t[GMt]=b,384,t[WMt]))):(g=x=1,(e=s[YMt])||(g=x=0,s[YMt]=e=w("h2",null,"tq_ai","Body")),g||(e[Bu]=h),k=_=1,(t=s[XMt])||(k=_=0,s[XMt]=t=w("pre",null,"tq_ai",null)),k||(t[Bu]=h),S=this.body,S===t[JMt]&&k||(t[KMt]=t[va](t[JMt]=S,384,t[KMt]))),s[QMt]=h[va](e,0,s[QMt]),s[eLt]=h[va](t,0,s[eLt]),r=o=null,this.events2?(v=C=1,(r=s[tLt])||(v=C=0,s[tLt]=r=w("h2",null,"tq_ai","Events")),v||(r[Bu]=h),j=P=1,(o=s[rLt])||(j=P=0,s[rLt]=o=w("pre",null,"tq_ai",null)),j||(o[Bu]=h),pt.context=o[nLt]||(o[nLt]={_:o}),U=JSON.stringify(this.events2,null,2),pt.context=null,U===o[iLt]&&j||(o[oLt]=o[va](o[iLt]=U,384,o[oLt]))):(O=L=1,(r=s[sLt])||(O=L=0,s[sLt]=r=w("h2",null,"tq_ai","Events")),O||(r[Bu]=h),I=F=1,(o=s[lLt])||(I=F=0,s[lLt]=o=w("pre",null,"tq_ai",null)),I||(o[Bu]=h),N=this.events,N===o[uLt]&&I||(o[aLt]=o[va](o[uLt]=N,384,o[aLt]))),s[cLt]=h[va](r,0,s[cLt]),s[hLt]=h[va](o,0,s[hLt]),u||(V=w("h2",h,"tq_ai","Urgent?")),(W=s[pLt])||(s[pLt]=W=w("pre",h,"tq_ai",null)),z=this.urgent,z===s[fLt]&&u||(s[dLt]=W[va](s[fLt]=z,384,s[dLt])),n=i=null,this.place&&(q=Y=1,(n=s[mLt])||(q=Y=0,s[mLt]=n=w("h2",null,"tq_ai","Place")),q||(n[Bu]=h),K=X=1,(i=s[$Lt])||(K=X=0,s[$Lt]=i=w("pre",null,"tq_ai",null)),K||(i[Bu]=h),Z=this.place,Z===i[bLt]&&K||(i[yLt]=i[va](i[bLt]=Z,384,i[yLt]))),s[gLt]=h[va](n,0,s[gLt]),s[kLt]=h[va](i,0,s[kLt]),u||a.sym||!s.setup||s.setup(c,a,Gre),a.sym||s[Kre](c),s}};E(cs,cHo,"OPLogInstance",0);var x9e=cs;globalThis.OPLogInstance=x9e;var hHo=Symbol(),v9e=class v9e{logged(e,t=null,r=null){var a,u;var o=gt(this),n;o[g9e]??=new Set;let i,s;try{p(e,Error)?(i=e,s=t):p(t,Error)?(i=t,s=r):s=t,s??={};let c=(i==null?void 0:i.stack)||new Error().stack,h=String(e),d=globalThis.location.pathname,f="39f024145",m={};for(let _=OP.ui.last,S=0,v=Object.keys(_),C=v.length,j,P;S<C;S++)j=v[S],P=_[j],m[j]=_Lt(P);let $=s.urgent;n=s.urgent,delete s.urgent;let b={};for(let _=0,S=Object.keys(s),v=S.length,C,j;_<v;_++)C=S[_],j=s[C],b[C]=j==null||p(j,OPObject)||typeof j=="string"||typeof j=="number"?String(j):p(j,Event)?_Lt(j):p(j,HTMLElement)?SLt(j):typeof j+" ("+((a=j.constructor)==null?void 0:a.name)+") named `"+j.name+"` with value `"+j+"`";p(i,Error)&&!p(i,OPError)&&(i=new OPError(i)),i&&!["unexpected end of messagepack data","failed to fetch"].some(function(_){var S,v,C;return(C=(v=(S=i.message)==null?void 0:S.lower)==null?void 0:v.includes)==null?void 0:C.call(v,_)})&&OP.toast(i);let x=h;if(o[g9e].has(x)){console.error(i);return}return o[g9e].add(x),console.groupCollapsed("OPLog:".red,h),console.log(c),console.log(d),console.log(f),console.log((u=OP.ui)==null?void 0:u.last),console.log(s),console.log(i),console.log(m),console.log(b),console.groupEnd(),p(t,Error)?i=String(i):i=void 0,OP.server.pushlog({name:h,stack:c,error:i,url:d,git_hash:f,events:m,body:b,place:"client",urgent:$})}catch(c){return OP.toast("There was an error, please consider reporting a bug",!1),console.log(c,i)}}};E(v9e,hHo,"OPAdapter",1,OPAdapter);var xLt=v9e,pHo=Symbol(),w9e=class w9e{set pushlog(e){this.pushlog.$set(e,this,k9e,"pushlog")}get pushlog(){return this.pushlog.$get(this,k9e,"pushlog")}get pushlog(){return this[UMt]||y((wS=this.action(),p(wS.rpc,Function)?wS.rpc():wS.rpc=!0,wS.callback=!1,wS),this,k9e,"pushlog",UMt,OPServer.prototype)}};E(w9e,pHo,"OPServer",1,OPServer);var vLt=w9e;T();oe();We();var kN=Symbol(),S9e=Symbol(),C9e=Symbol(),ex=Symbol(),E9e=Symbol(),j9e=Symbol(),CLt=Symbol(),Qre=Symbol(),ELt=Symbol(),jLt=Symbol(),ALt=Symbol(),ULt=Symbol(),eoe=Symbol(),PLt=Symbol(),TLt=Symbol(),OLt=Symbol(),toe=Symbol(),RLt=Symbol(),MLt=Symbol(),LLt=Symbol(),DLt=Symbol(),NLt=Symbol(),ILt=Symbol(),dHo=Symbol(),fHo=Symbol.for("#init"),A9e=Symbol.for("#resolve"),JLt=Symbol.for("#up"),U9e=Symbol.for("#prefix"),FLt=Symbol.for("#resolved"),HLt=Symbol.for("#store"),mHo=Symbol.for("#cloud"),roe=Symbol.for("#op"),BLt=Symbol.for("#autosave?"),VLt=Symbol.for("##pov"),zLt=Symbol.for("#ui"),qk=Symbol.for("##up"),Wk=Symbol.for("##register"),tx=Symbol.for("#afterVisit"),$Ho=Symbol.for("#anonpov"),yHo=Symbol.for("#localstore"),bHo=Symbol.for("#sessionstore"),gHo=Symbol.for("#inited"),kHo=Symbol.for("#initing"),_Ho=Symbol.for("#getRenderContext"),xHo=Symbol.for("#isRichElement"),vHo=Symbol(),T9e=class T9e{$patch(e){let t=e.id,r=this.$raw[t];if(r&&r._rev==e._rev)return!1;let o=e._data,n=this.$plain[t]||={[JLt]:this.$plain},i=this.$cloud[t],s=OP.getrich(t);return this.$raw[t]=e,i=this.$cloud[t]=o,s&&this.$apply(i,t,1024),!0}$changed(e,t,r,o,n=0){var i=gt(this),s=this;i[kN]??={};let a=e.$root,u=i[kN][a];if(u!==!1){if(!u&&!a.saved&&!p(a,OPTimeInterval)){i[kN][a]=!1,bl(a,"saved",function(){return i[kN][a]=void 0,s.save(a)});return}return clearTimeout(u),i[kN][a]=setTimeout(function(){return s.save(a)},100),!0}}init(e){let t;if(t=this.$cloud[e])return this.$apply(t,e,1180672)}async save(e,t={}){let r=e.$root,o=this.$diff(r);if(o){let n=await r.__save_pov(o,this.pov)}return!0}};E(T9e,vHo,"OPPovData",1,OPPovData);var qLt=T9e,WLt=Symbol(),_N=class _N{constructor(){re(this,WLt)}get prefix(){return":"+this[U9e]+":"}get $channel(){var e=this;let t=new BroadcastChannel(this[U9e]);return t.onmessage=function(r){try{return e.$patch(OP.msgpack.unpack(r.data))}catch{}},t}[fHo](){return this[A9e]()}[A9e](){var e=this;if(this[FLt])return;this[FLt]=!0,p(this,OPSessionStore)&&OP.$$local[A9e]();let t=this.prefix,r=this[HLt],o=Object.keys(r);for(let n=0,i=B(o),s=i.length;n<s;n++){let a=i[n];if(a.indexOf(t)==0){let u=a.slice(t.length),c=OP.$rich.get(u),h=this.$cloud[u]=JSON.parse(r[a]),d=this.$plain[u]||={[JLt]:this.$plain};c?this.$apply(h,u,1180672):OP.once(u,function(){return e.init(u)})}}return Promise.resolve(!0)}init(e){let t;if(t=this.$cloud[e])return this.$apply(t,e,1180672)}$changed(e,t,r,o,n=0){var i=gt(this),s=this;i[S9e]??={};let a=e.$root;return clearTimeout(i[S9e][a]),i[S9e][a]=setTimeout(function(){return s.save(a)},100),!0}$patch(e){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this.$apply(i,n,1245184);return Cr(),!0}async save(e,t={}){var c,h;let r=e.$root,o=this.$diff(r);if(await!0,!o)return!1;let n=":"+this[U9e]+":"+r.id,i=this[HLt],s=this.$plain[r.id],a=s[mHo]||=this.$cloud[r.id]||={},u=new OPDELTA([[r.id,o]]);this.$apply(o,r,1114112),i.setItem(n,JSON.stringify(a)),Cr();try{(h=(c=this.$channel)==null?void 0:c.postMessage)==null||h.call(c,OP.$pack(u))}catch{}return!0}};_N.prototype[Le]=De,se([ke.bind([])],_N.prototype,"$channel",null),E(_N,WLt,"OPLocalStore",273,OPLocalStore);var ZLt=_N,wHo=Symbol(),O9e=class O9e{get $channel(){return null}};E(O9e,wHo,"OPSessionStore",1,OPSessionStore);var GLt=O9e,YLt=Symbol(),xN=class xN{constructor(){re(this,YLt)}$changed(e,t,r,o,n=0){var i=gt(this),s=this;i[C9e]??={};let a=e.$root;return a.saved&&!a.virtual&&(clearTimeout(i[C9e][a]),i[C9e][a]=setTimeout(function(){return s.autosave(a)},100)),!0}autosave(e){if(e.saved&&!e.virtual)return this.save(e)}request(e,t={}){var r=gt(this),o=this;r[ex]??={queued:!1,batch:new Set};let n=e.id||e;r[ex].batch.add(n),r[ex].queued||(r[ex].queued=!0,globalThis.queueMicrotask(function(){r[ex].queued=!1;let i=Array.from(r[ex].batch);r[ex].batch=new Set;let s=new OPDataRequest(...i);return OP.$send(s,o)}))}async save(e,t={}){let r=e.$root,o=new Set,n=this.$diff(e,1,!0,o);if(!n)return;if(!t.shallow)for(let a of B(o))await a,a.saved||(p(a,OPAsset)?await a.save():(a.$stage(),OPDELTA.merge(n,this.$diff(a,1,!0,o))));let i=OPDELTA.errors(n);if(!r.saved&&OP.agent&&!r.c&&i.unshift(new OPNotAllowed(OP.agent)),i.any)throw new OPSaveError(e,{cause:i});this.saves.push(n);let s=await(async()=>{try{return await this.push(n)}catch(a){return a}})();for(let a=0,u=Object.keys(s),c=u.length,h,d;a<c;a++)h=u[a],d=s[h],p(d,OPError)||this.$apply(d,h,1032);if(p(s[r.id],OPError))throw s[r.id];return s}get saves(){return[]}};xN.prototype[Le]=De,se([ke.bind([])],xN.prototype,"saves",null),E(xN,YLt,"OPCommonData",273,OPCommonData);var XLt=xN;globalThis[roe]||={subs:{}};var KLt=Symbol(),Vu=class Vu extends OPAdapter{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.client=e?e.client:void 0,this.interacted=e&&(o=e.interacted)!==void 0?o:!1,this.upgraded=e&&(o=e.upgraded)!==void 0?o:!1,this.session=e?e.session:void 0,this.user=e?e.user:void 0,this.unloading=e&&(o=e.unloading)!==void 0?o:!1,this.currentEvents=e&&(o=e.currentEvents)!==void 0?o:new Set}get offline(){return this.socket.readyState==3}get locals(){var i,s;let e,t=globalThis.sessionStorage,r=globalThis.document.cookie;if(!window.name||!window.name.match(/^op:/)){let a=globalThis.crypto.randomUUID();if(window.top!=window){try{e=(s=(i=window.frameElement)==null?void 0:i.getAttribute)==null?void 0:s.call(i,"Name")}catch{}let u=(()=>{try{return window.parent.OP.locals}catch(c){return c}})();if(e&&(u!=null&&u.token)){let c=this.hash(e,"hex");a=u.token+c.slice(0,4)+"-"+u.secret}}window.name="op:"+a}let[o,n]=window.name.slice(3).split("-");return{token:o,secret:n}}get gop(){return globalThis[roe]??={subs:{}}}get origin(){return globalThis.location.origin}autoflush(){return console.warn("OP.autoflush deprecated?!")}view(e,t,r){let o=e&&e["op"+t];if(o)return o.call(e,r)}get connected(){var e=this;return IK(function(){return e.client})}get debug(){return this.debug||!!globalThis.localStorage.getItem("op:debug")}get online(){return!!window.navigator.onLine}get version(){return globalThis[roe].version||1}get state(){return globalThis[roe].state||{}}emit(e,...t){return globalThis.document.documentElement.emit("op"+e,t),Il(this,e,t)}populateclient(){return!0}joinchannel(e){if(this.handshake){if(!this.client.channels.has(e)&&(this.client.channels.add(e),this.socket.ready))return this.client.save()}else return this.$channels.add(e)}upgrade(e){var i,s,a,u,c,h;var t=this,r,o,n;if(this.handshake=e,FK(function(){var d,f,m,$,b;t.session!=e.session&&console.warn("now representing new session",(d=e.session)==null?void 0:d.id,(f=t.session)==null?void 0:f.id,(m=e.client)==null?void 0:m.id,($=t.client)==null?void 0:$.id),t.session=e.session,t.user=(b=t.session)==null?void 0:b.user,t.client=e.client,t.server=e.server,t.upgraded=!0;for(let g of B(t.$channels))t.client.channels.has(g)||t.client.channels.add(g);return t.client.save(),t.client[BLt]=!0}),this[VLt]!=(o=this.pov)&&(this[VLt]=o,!0)){this.emit("upgrade"),(a=(s=(i=this.pov)==null?void 0:i.$$pov)==null?void 0:s.resolve)==null||a.call(s),Cr();try{(h=(c=(u=this.pov)==null?void 0:u.data)==null?void 0:c.then)==null||h.call(c,function(){return!0})}catch{}this.ready.resolve(this)}if(this.gop.pov!=(n=String(this.pov))&&(this.gop.pov=n,!0)){r=[];for(let[d,f]of B(this.subs))r.push(f.resync());return r}}get ui(){var n;var e,t={},r,o;return this[zLt]||=Bt((r=o=0,e=e=R("op-ui",null,null,null),r||(e[qk]=t._),r||((n=e[Wk])==null||n.call(e,t,CLt)),r||t.sym||!e.setup||e.setup(o,t,CLt),t.sym||e[tx](o),e))}set ui(e){this[zLt]=e}constructor(){var e;super(...arguments),super[A]||this[A](),e=this,this.locals,this.$channels=new Set,this.name="scrimba",this.subs=new Rw(function(t){return new OPSubscription(e,{id:t})}),this.client=null,OPServer.prototype.$send=function(t){return e.socket.forward(t,this)},this.client=OPPeer.for({session:this.gop.sid,token:this.locals.token}),this.client[BLt]=!1,this.socket,globalThis.o=new Proxy({},{get:function(t,r){return r=="sub"?t[r]||=new Proxy({},{get:function(o,n){return o[n]||=OP.sub(n)}}):typeof r=="string"&&r[0]=="_"?Symbol.for("#"+r.slice(1)):t[r]||=e.get(r)}}),re(this,KLt)}onmessage(e,t){return this.$handle(e,t)}pub(e,t,r={}){console.warn("Publications can not be declared on the client (OP.pub)")}finalize(){var e=this;this.server=OP.Server.get(this.gop.server)||OP.Server.enum("unknown"),this.name=this.options.name||"scrimba";try{this.init_roles()}catch{}return this.init(),globalThis.addEventListener("pageshow",function(t){return e.log("pageshow")}),globalThis.document.addEventListener("visibilitychange",function(t){globalThis.document.visibilityState=="visible",globalThis.document.visibilityState=="visible"?e.client.focused=Date.now():e.client.receded=Date.now();try{return e.client.visibility=globalThis.document.visibilityState}catch{}}),window.addEventListener("unload",function(t){return e.unloading=!0},{capture:!0}),Promise.resolve(!0)}get sudo(){return!1}$send(e,t=null){var r,o,n;return this.debug&&console.log("$send",e),this.sentmessages.set(e.ref,e),this.$sent.push(e),OP.incr(""+((r=e.constructor)==null?void 0:r.name)+" sent"),p(t==null?void 0:t.$deliver,Function)?t.$deliver(e):t!=null&&t.$send?(o=t==null?void 0:t.$send)==null||o.call(t,e):(n=t==null?void 0:t.$root)!=null&&n.$send?t.$root.$send(e):this.socket.send(e),e}async $handle(e,t){var r=gt(this);if(r[E9e]??={},this.debug&&console.log("$handle",e),this.$handled||=[],this.$handled.push(e),OP.incr(""+e.constructor.name+" received"),p(e,OPPacket)){e.received||=Date.now(),e.sender||=OP.server;let o=await e.$handle();return}if(p(e,OPPovRoles)&&(e.commit(),Cr()),p(e,OPPlain))e!=null&&e.id&&(this.$patch(e),Cr());else if(p(e,OPHandshake))this.upgrade(e);else if(p(e,OPToast))this.toast(e.message);else if(p(e,OPDataResponse))this.$patch(e.value),Cr();else if(p(e,OPDataUpdate)){let o=e.value,n=e.id||o.id,i=OP.getType(n);OP.incr(""+(i==null?void 0:i.name)+" update");let s=r[E9e][n];if(p(o,OPDELTA)){if(e.id){let a=this.$rich.get(e.id);a?(a.$patch(o),Cr()):LL("delta update for missing",e.id,o)}}else s&&s._rev==o._rev||n.startsWith("S0")&&o._>>1==1||(this.$patch(o),Cr());r[E9e][n]=o}else if(p(e,OPAssetUploaded))this.emit("OPAssetUploaded");else if(p(e,SiteManifest))return this.refreshImbaManifest(e.manifest);return super.$handle(...arguments)}get context(){return this}get $$pov(){var e;return((e=this.pov)==null?void 0:e.$$pov)||(this[$Ho]||=new OPPovData(this))}get $$local(){return this[yHo]||=new OPLocalStore(this)}get $$session(){return this[bHo]||=new OPSessionStore(this)}as(e,t){if(e!=this.user)throw"Not allowed to run OP as a different user";return t()}init(e={}){var t=this;return this[gHo]||=new Promise(function(r){t[kHo]=!0,t.gop.user&&(t.user=t.$patch(t.msgpack.parse(t.gop.user))),(t.gop.clients||=[]).push(t),t.gop.server&&(t.server=OP.Server.get(t.gop.server)),t.gop.session&&(t.gop.session_=t.msgpack.parse(t.gop.session),t.session=t.$patch(OP.clone(t.gop.session_)));for(let o=t.gop.subs,n=0,i=Object.keys(o),s=i.length,a,u;n<s;n++)a=i[n],u=o[a],t.sub([a]);return t.socket,r(t)})}get socket(){let e="token="+this.locals.token+"&sess="+this.gop.sid;return new OPSocket(this,"/op/ws?"+e)}sub(e,...t){if(typeof e=="string"||p(e,OPObject)||p(e,OPBase)||p(e,OPSecured))return this.subs.get(String(e.id||e));if(!t.length)return this.subs.get(e[0])}configure(e){return Object.assign(this.options,e),e.fs&&this.fs.configure(e.fs),this}log(...e){var t=gt(this);t[j9e]??={last:Date.now()};let r=t[j9e].last,o=t[j9e].last=Date.now(),n=o-(r||o);if(this.debug)return console.log("client",n,...e)}async post(e,t,r={}){var o;let n={method:"POST",headers:{"Content-Type":"application/json",...r},body:null};if(p(t,File)||p(t,Blob)){let c=new FormData;c.append("file",t),o=n.headers["Content-Type"],delete n.headers["Content-Type"],n.body=c}else p(t,ArrayBuffer)||p(t,Uint8Array)?(n.headers["Content-Type"]=OP_DATA_MIMETYPE,n.body=t):n.body=JSON.stringify(t);let i=await window.fetch(e,n),s=i.headers.get("Content-Type"),a,u=null;if(s==OP_DATA_MIMETYPE?a=this.unpack(await i.arrayBuffer()):s=="application/json"?u=a=await i.json():a=await i.text(),i.ok)return a;{let c=new Error((u==null?void 0:u.message)||u);throw c.response=i,c.status=i.status,c}}async _get(e){return await globalThis.fetch(e)}refreshImbaManifest(e){let t={css:[],js:[]},r=Object.values(e).map(function(i){return i.url}).filter(function(i){return i}),o=/\.[A-Z\d]{8}\./;for(let i of B(globalThis.document.styleSheets)){let s=i.ownerNode.getAttribute("href")||"",a=r.find(function(u){return u&&u.replace(o,"")==s.replace(o,"")});a&&s!=a&&(i.ownerNode.href=a)}let n=Object.keys(globalThis.IMBA_LOADED||{});for(let i=0,s=B(n),a=s.length;i<a;i++){let u=s[i],c=r.find(function(h){return h&&h.replace(o,"")==u.replace(o,"")});c&&u!=c&&r.indexOf(u)==-1&&t.js.push([u,c])}return t.js.length&&globalThis.document.location.reload(),this}async prompt(e){var s;var t,r,o=H(),n,i;return t=await(n=i=1,(r=o[Qre])||(n=i=0,r=o[Qre]=r=R("op-text-dialog",null,null,null)),n||(r[qk]=o._),n||((s=r[Wk])==null||s.call(r,o,Qre)),e===r[ELt]||(r.msg=r[ELt]=e),n||o.sym||!r.setup||r.setup(i,o,Qre),o.sym||r[tx](i),r)}async confirm(e,t=OP.ui.pointer){var s;var r,o={},n,i;return typeof e!="string"&&(e="Are you sure?"),await Bt((n=i=0,r=r=R("op-confirm",null,null,null),n||(r[qk]=o._),n||((s=r[Wk])==null||s.call(r,o,jLt)),e===r[ALt]||(r.msg=r[ALt]=e),t===r[ULt]||(r.anchored=r[ULt]=t),n||o.sym||!r.setup||r.setup(i,o,jLt),o.sym||r[tx](i),r))}async pickimage(e={}){let t=await this.pickfiles({...e,folders:!1,multiple:!1,accept:"image/*"});return t&&t[0]?OP.Image.for(t[0]):null}pickfile(e={}){return this.pickfiles({...e,multiple:!1})}alert(e,t,r){return Bt(function(){var a;var o,n=H(),i,s;return i=s=1,(o=n[eoe])||(i=s=0,o=n[eoe]=o=R("op-simple-modal",null,null,null)),i||(o[qk]=n._),i||((a=o[Wk])==null||a.call(o,n,eoe)),e===o[PLt]||(o.title=o[PLt]=e),t===o[TLt]||(o.msg=o[TLt]=t),r===o[OLt]||(o.buttonlabel=o[OLt]=r),i||n.sym||!o.setup||o.setup(s,n,eoe),n.sym||o[tx](s),o})}dialog(e,t="dialog"){let r=OPVIEW(e,t,this.context,!1);return r&&Bt(function(){var c;var n,i,s=H(),a,u;return n=s[_Ho](toe),a=u=1,(i=n.run(r(e)))||(a=u=0,n.cache(i=M(n.value,null,"odialog",null))),a||(i[qk]=s._),a||((c=i[Wk])==null||c.call(i,s,toe)),i[xHo]&&(e===i[RLt]||(i.data=i[RLt]=e),a||(i.popup__={modal:!0}),a||(i.popup="popup"),a||(i.role="dialog"),(!a||u&2)&&i.flags.reconcile(toe,"odialog"),a||s.sym||!i.setup||i.setup(u,s,toe),s.sym||i[tx](u)),i})}pick(e,t=null){var d,f;var r,o={},n,i,s,a,u,c,h;return t?(n=i=0,r=r=R("op-palette",null,null,null),n||(r[qk]=o._),n||((d=r[Wk])==null||d.call(r,o,MLt)),n||(r.popup__={picker:!0,autofocus:!0}),n||(r.popup="popup"),s=Array.from(e),s===r[LLt]||(r.items=r[LLt]=s),t===r[DLt]||(r.cbs=r[DLt]=t),n||o.sym||!r.setup||r.setup(i,o,MLt),o.sym||r[tx](i),r):(u=c=0,a=a=R("op-palette",null,null,null),u||(a[qk]=o._),u||((f=a[Wk])==null||f.call(a,o,NLt)),u||(a.popup__={picker:!0,autofocus:!0}),u||(a.popup="popup"),h=Array.from(e),h===a[ILt]||(a.items=a[ILt]=h),u||o.sym||!a.setup||a.setup(c,o,NLt),o.sym||a[tx](c),a)}pickfiles(e={multiple:!0,folders:!1,accept:null}){return new Promise(function(t){var f;var r,o={},n,i;let s=(n=i=0,r=r=w("input",null,"md-am",null),n||(r[qk]=o._),n||((f=r[Wk])==null||f.call(r,o,dHo)),n||(r.type="file"),r),a=globalThis.document.activeElement,u,c=Date.now();e.accept&&(s.accept=e.accept),e.multiple&&(s.multiple=!0),e.folders&&(s.webkitdirectory=!0,s.directory=!0),u=function(){var x,k,_;var m;u=function(){return!0};let $=new OPDir;m=[];for(let S of B(s.files)){let v=$,C=S.name;if(S.webkitRelativePath){let P=S.webkitRelativePath.split("/").slice(0,-1);for(let U=0,O=B(P),L=O.length;U<L;U++){let I=O[U],F=v.get(I);F||v.add(F=new OPDir({name:I})),v=F}}let j=((x=S==null?void 0:S.webkitGetAsEntry)==null?void 0:x.call(S))||((k=S==null?void 0:S.getAsFileSystemHandle)==null?void 0:k.call(S))||((_=S==null?void 0:S.getAsFile)==null?void 0:_.call(S));S.isDirectory&&(j=S.getAsFileSystemHandle()),m.push(v.add(j||S))}let b=m,g=Array.from($.values());return t(g),a.focus(),setTimeout(function(){return s.remove()},1e4)},s.onfocus=function(m){return console.log("el got focus!!",Date.now()-c)};let h,d=function(m={}){return window.addEventListener("focus",function(){let $=Date.now();return h=setTimeout(function(){return u()},m.timeout||800),window.addEventListener("blur",function(){if(Date.now()-$<400)return clearTimeout(h),d({timeout:20*1e3})},{once:!0})},{once:!0})};return s.onchange=function(m){return clearTimeout(h),u(s.files)},globalThis.document.body.append(s),s.click(),d()})}async copystr(e){try{return await globalThis.navigator.clipboard.writeText(String(e)),OP.toast("Copied to clipboard",!0)}catch(t){return OP.toast(t)}}copyobj(e){let t=JSON.stringify(e,null,2);return this.copystr(t)}};Vu.prototype[Le]=De,se([jn.bind([])],Vu.prototype,"client",null),se([jn.bind([])],Vu.prototype,"interacted",null),se([jn.bind([])],Vu.prototype,"upgraded",null),se([jn.bind([])],Vu.prototype,"session",null),se([jn.bind([])],Vu.prototype,"user",null),se([jn.bind([])],Vu.prototype,"unloading",null),se([jn.bind([])],Vu.prototype,"currentEvents",null),se([ke.bind([])],Vu.prototype,"locals",null),se([ke.bind([])],Vu.prototype,"connected",null),se([ke.bind([])],Vu.prototype,"socket",null),E(Vu,KLt,"OPClientAdapter",280);var P9e=Vu;globalThis.OPClientAdapter=P9e;T();T();oe();T();T();oe();We();var QLt=Symbol(),eDt=Symbol(),vN=Symbol(),SHo=le("&.data",globalThis,l=>l.data),CHo=le("&.role",globalThis,l=>l.role),tDt=Symbol(),rDt=Symbol(),oDt=Symbol(),nDt=Symbol(),iDt=Symbol.for("#step"),EHo=Symbol.for("#opdrop"),jHo=Symbol.for("#opmenu"),AHo=Symbol.for("#symbol"),sDt=Symbol.for("#marks"),UHo=Symbol.for("#easer"),noe=Symbol.for("#context"),PHo=Symbol.for("##up"),THo=Symbol.for("##register"),OHo=Symbol.for("#isRichElement"),RHo=Symbol.for("#afterVisit"),MHo=Symbol.for("#op"),R9e=Symbol.for("#opkey"),LHo=Symbol.for("#plain"),DHo=Symbol.for("#rich"),NHo=Symbol.for("#localplain"),lDt=Symbol.for("#opbox"),ooe=Symbol.for("#onpress"),aDt=Symbol.for("#started"),IHo=Symbol.for("#target"),FHo=Symbol.for("#stopPropagation"),HHo=Symbol.for("#onpoint"),uDt=Symbol.for("#fzhi");{let l={};for(let e=Object.getOwnPropertyDescriptors(OPBase.prototype),t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],n!="constructor"&&(Element.prototype.hasOwnProperty(n)||(l[n]=i));Object.defineProperties(Element.prototype,l)}var BHo=/(min-|max-)?(width|height|left|top|right|bottom|font-size)/,VHo=Symbol(),L9e=class L9e{offset(e=0,t=0){return new DOMPoint(this.x+e,this.y+t)}};E(L9e,VHo,"DOMPoint",1,DOMPoint);var cDt=L9e,zHo=Symbol(),D9e=class D9e{get tl(){return new DOMPoint(this.left,this.top)}get tr(){return new DOMPoint(this.right,this.top)}get bl(){return new DOMPoint(this.left,this.bottom)}get br(){return new DOMPoint(this.right,this.bottom)}get tc(){return new DOMPoint(this.c,this.top)}get mc(){return new DOMPoint(this.c,this.m)}get bc(){return new DOMPoint(this.c,this.bottom)}get lm(){return new DOMPoint(this.left,this.m)}get ml(){return new DOMPoint(this.left,this.m)}get mr(){return new DOMPoint(this.right,this.m)}get rm(){return new DOMPoint(this.right,this.m)}get m(){return this.top+this.height*.5}get c(){return this.left+this.width*.5}get area(){return this.width*this.height}get xy(){return new DOMPoint(this.left+this.width*.5,this.top+this.height*.5)}inset(e=0,t=e,r=e,o=t){return new DOMRect(this.left+o,this.top+e,this.width-o-t,this.height-e-r)}};E(D9e,zHo,"DOMRect",1,DOMRect);var hDt=D9e,qHo=Symbol(),N9e=class N9e{op(){var e=this;return this[iDt].setup!=!0&&(this[iDt].setup=!0,!0)&&(OP.currentEvents.add(this),OP,this.once("end",function(){if(OP.currentEvents.delete(e),OP.currentEvents.size==0)return OP.autoflush()})),!0}};E(N9e,qHo,"Touch",1,Ngt);var pDt=N9e,WHo=Symbol(),I9e=class I9e{get r(){return Math.sqrt(this.x*this.x+this.y*this.y)}distanceFrom(e){let t,r,o=this;return p(e,DOMPoint)||p(e,Event)?new DOMPoint(e.x-o.x,e.y-o.y):(o.x<e.x?t=e.x-o.x:o.x>e.right?t=o.x-e.right:t=0,o.y<e.y?r=e.y-o.y:o.y>e.bottom?r=o.y-e.bottom:r=0,new DOMPoint(t,r))}};E(I9e,WHo,"DOMPoint",1,DOMPoint);var dDt=I9e,ZHo={};globalThis.OPViewCache=ZHo;var fDt=globalThis.OPViewStack=[];function GHo(l,e,t,r=!0,o=null){var n=gt(globalThis);if(n[QLt]??={},n[eDt]??={},!l||typeof l=="string")return;let i=n[QLt][e]||=new WeakMap,s=i.get(l);s||i.set(l,s={});let{fn:a,path:u}=s,c=l;if(!u){let h=e.split("-"),d=String(l.$key);d=n[eDt][d]||=d.toimba.replace(//g,"");let f=l.$up;e=e.toimba;for(let m=0,$=B(h),b=$.length;m<b;m++){let g=$[m],x=m?h.slice(m).join(""):e;if(a||=f&&f[u="op"+d+""+x],a||=l[u="opown"+x],a)break}s.path=u,u.startsWith("opown")||(s.up=!0),s.fn=a}if(s.up&&(c=l.$up),!r)return o||={},a&&a.bind(c,l,t,a.state=o);if(a){fDt.unshift(t);let h=a.call(c,l,t,s);return fDt.shift(t),h&&(h.opview||(p(l,OPObject)&&h.flags&&h.classList&&h.flags.add(l.constructor.name),h.opview??={data:l,kind:e,found:a.name,on:c})),h}return null}globalThis.OPVIEW=GHo;var YHo=Symbol(),ioe=class ioe extends Array{static get[Symbol.species](){return ioe}get checked(){return this.filter(function(e){return e.op.checked})}get data(){return Array.from(this.map(SHo).compact())}get op(){return this}get droptarget(){return Array.from(this.map(function(e){return e.op.droptarget}).flat().compact())}get menutarget(){return Array.from(this.map(function(e){return e.op.menutarget}).flat().compact())}filter(e){return typeof e=="string"?this.filter(function(t){return t.matches(e)}):super.filter(e)}find(e){return this.filter(e)[0]}};E(ioe,YHo,"OPElements",8);var SS=ioe;globalThis.OPElements=SS;var mDt=Symbol(),wN=class wN{[A](e=null,t=!0,r=!0){var o;this.tip=e?e.tip:void 0,this.v=e&&(o=e.v)!==void 0?o:0}get opview(){let e=this.node;for(;e;){if(e.opview)return e.opview.up=e.parentElement.op.opview,e.opview.op=this,e.opview.el=this.node,e.opview;e=e.parentElement}return!1}constructor(e){this[A](),this.node=e,re(this,mDt)}get droptarget(){var e,t;return((t=(e=this.node[EHo])==null?void 0:e.options)==null?void 0:t[0])||this.node.data}get menutarget(){var e,t;return((t=(e=this.node[jHo])==null?void 0:e.options)==null?void 0:t[0])||this.node.data}get symbol(){return this[AHo]||=Symbol()}get checked(){return this.node.classList.contains("@checked")}get path(){let e=new SS,t=this.node;for(;t;)e.push(t),t=t.parentElement;return e}closest(e){if(typeof e=="string")return this.node.closest(e);let t=this.node;for(;t;){if(t.data&&(p(t.data,e)||Ye(t.data,e)))return t;t=t.parentNode}return null}up(e){var t;return(t=this.node.parentNode)==null?void 0:t.op.closest(e)}walk(e,t=null){var r=this;let o=globalThis.document.createTreeWalker(this.node,NodeFilter.SHOW_ELEMENT,{acceptNode:function(s){return(t?t(s,r.walker):!0)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),n=null,i=[];for(;n=o.nextNode();)i.push(e(n,o));return i}get list(){var e,t;return(t=(e=this.up)==null?void 0:e.matches)!=null&&t.call(e,"op-items")?this.up:null}get group(){return this.up("[role]")||globalThis.document.body}get dialog(){return this.closest("[role=dialog]")}get form(){return this.up("form,[role=form]")}get container(){return this.node==globalThis.document.body?this.node.querySelector("[role=main]"):this.closest("[role=main],[role=dialog]")}get container(){return Cn(this.role,["window","main","dialog"])||this.node==globalThis.document.body}get list(){return Cn(this.role,["list","menu"])}get items(){let e=this.node.role;return this.node.tagName=="OL"?this.qsa("[tabindex]:not(:scope [tabindex] [tabindex])"):e?this.children():[]}children(e=[],t=[]){let r=new SS,o=function(n){return n.role?(r.push(n),!1):!0};return this.walk(CHo,o),r}get navgroup(){var t;let e=this.navout;return(t=e==null?void 0:e.op)==null?void 0:t.items}get navrow(){let e,t=this.rect;return e=this.navgroup.filter(function(r){let o=r.op.rect;return o.top==t.top||o.bottom==t.bottom})}get navcol(){let e,t=this.rect;return e=this.navgroup.filter(function(r){let o=r.op.rect;return o.left==t.left||o.right==t.right})}get index(){return this.group.op.items.indexOf(this.node)}get op(){return this}get selections(){return this.items.filter(function(e){return e.matches(".sel")})}toDataTransfer(){return this.list?this.selections.data:this.data}get data(){return this.node.data}get role(){return this.node.role}mark(e,t=""){return this.node.setAttribute("op-"+e,t)}unmark(e){return this.node.removeAttribute("op-"+e)}dirty(){return!0}get navnext(){return this.nav(0,0,1)}get navprev(){return this.nav(0,0,-1)}get navup(){return this.nav(0,-1)}get navdown(){return this.nav(0,1)}get navright(){return this.nav(1,0)}get navleft(){return this.nav(-1,0)}get navin(){return this.node.querySelector("[role]")}get navout(){var e,t;return(t=(e=this.node.parentElement)==null?void 0:e.closest)==null?void 0:t.call(e,"[role]")}get navtab(){var e=this;let t=(this.form||this.container).op.items,r=t.findIndex(function(n){return n.contains(e.node)});return t.at((r+1)%t.length)}get navtabback(){var e=this;let t=(this.form||this.container).op.items,r=t.findIndex(function(n){return n.contains(e.node)});return t.at(r-1)}get navback(){return this}nav(e=0,t=0,r=0){let o=this.node,n=this.navgroup,i=n.indexOf(o),s;return r?s=n[i+r]:s=n[i+(e||t)],s||this.node}incr(e,t){let r=this[sDt]||={},o=""+e+"-"+t;return r[o]||(this.node.flags.incr(e),this.dirty()),r[o]=(r[o]||0)+1}decr(e,t){let r=this[sDt]||={},o=""+e+"-"+t;if(r[o]){let n=r[o]-=1;return n==0&&(this.node.flags.decr(e),this.dirty()),n}}get selection(){return this.selections[0]}get offset(){return new DOMRect(this.node.offsetLeft,this.node.offsetTop,this.node.offsetWidth,this.node.offsetHeight)}distance(e){let t;return t=this.rect}get rect(){return this.node.opbox()}get style(){return window.getComputedStyle(this.node)}get point(){let e=this.rect;return new DOMPoint(e.left+e.width*.5,e.top+e.height*.5)}insertionForPoint(e){var s;var t;if(!e)return;if((s=this.node)!=null&&s.insertionForPoint)return this.node.insertionForPoint(e);p(e,Event)&&(e=new DOMPoint(e.x,e.y));let r,o=this.items,n=globalThis.document.elementsFromPoint(e.x,e.y).filter(function(a){return o.has(a)});n.length||(n=o),t=[];for(let a=0,u=B(n),c=u.length;a<c;a++){let h=u[a],d=h.op.point,f=new DOMPoint(e.x-d.x,e.y-d.y);f.el=h,t.push(f)}let i=t;if(i.sort(function(a,u){return a.r-u.r}),r=i[0]){let a=r.el,u=a.data,c=o.indexOf(a),h=o[c-1],d=o[c+1],m=a.op.navrow.length>1,$;return m?$=r.x<0?OPPos.before(a,h):OPPos.after(a,d):$=r.y<0?OPPos.above(a,h):OPPos.below(a,d),$}}css(e={},t=""){var r=gt(this);r[vN]??={};let o=!1,n=r[vN].transition;e.instant&&(n=r[vN].transition||this.node.style.transition,this.node.style.transition="none",this.node.offsetWidth);for(let i=0,s=Object.keys(e),a=s.length,u,c;i<a;i++)u=s[i],c=e[u],u!="instant"&&r[vN][u]!=c&&(r[vN][u]=c,!0)&&(typeof c=="number"&&BHo.test(u)&&(c=c+"px"),u.includes("")&&(u=u.replace(//g,"-")),o=!0,c==null?this.node.style.removeProperty(u):this.node.style.setProperty(u,c));return e.instant&&(o&&this.node.offsetWidth,n?this.node.style.transition=n:this.node.style.removeProperty("transition")),this}vars(e={},t=""){let r=this.node,o=this.cssvars||={},n=null;p(e,DOMRect)&&(e={left:Math.round(e.left)+"px",top:Math.round(e.top)+"px",width:Math.round(e.width)+"px",middle:Math.round(e.top+e.height*.5)+"px",center:Math.round(e.left+e.width*.5)+"px",bottom:Math.round(e.bottom)+"px",right:Math.round(e.right)+"px",height:Math.round(e.height)+"px"});let i;for(let s=0,a=Object.keys(e),u=a.length,c,h;s<u;s++){if(c=a[s],h=e[c],typeof h=="number"&&Number.isNaN(h))continue;let d=""+t+c,f="--"+d;c[0]=="1"&&(f="--u_"+t+c.slice(1));let m=o[f];if(o[f]!=h&&(o[f]=h,!0))if(n=!0,i||=r.style,h==null){if(i.removeProperty(f),p(m,OPColor))for(let $=m.lch,b=0,g=Object.keys($),x=g.length,k,_;b<x;b++)k=g[b],_=$[k],i.removeProperty("--u_"+d+k.toUpperCase())}else{if(p(h,OPColor))for(let $=h.lch,b=0,g=Object.keys($),x=g.length,k,_;b<x;b++)k=g[b],_=$[k],i.setProperty("--u_"+d+k.toUpperCase(),_);i.setProperty(f,h)}}return n}async transition(e,t={flag:"tweening"}){let r=this.node,o={before:globalThis.document.getAnimations()};return r.offsetWidth,t.flag&&r.flags.incr(t.flag),typeof e=="string"?r.flags.add(e):await e(o),r.offsetWidth,o.after=globalThis.document.getAnimations(),o.fresh=o.after.filter(function(n){return o.before.indexOf(n)==-1}),o.own=o.fresh,o.own.length?o.finished=new Promise(function(n){let i=new Set(o.own),s=function(){if(i.delete(this),i.size==0)return n()};for(let a=0,u=B(o.own),c=u.length;a<c;a++){let h=u[a];h[UHo]=o,h.addEventListener("finish",s,{once:!0}),h.addEventListener("cancel",s,{once:!0})}}):o.finished=Promise.resolve(!0),t.flag&&o.finished.then(function(){return r.flags.decr(t.flag)}),o.finished}units(e,t=""){return this.vars(e,"u_"+t)}qs(e){return this.node.querySelector(":scope > "+e)}qsa(e){return SS.from(this.node.querySelectorAll(e))}qd(e){let t=[];for(let r=0,o=Object.keys(e),n=o.length,i,s;r<n;r++)i=o[r],s=e[i],t.push("[data-"+i+'="'+s+'"]');return this.qs(t.join(","))}focus(e=""){var r,o,n,i,s,a,u,c;if(this.node.opfocus)return this.node.opfocus();let t=globalThis.document.activeElement;if(this.node.tabIndex!=-1){if(this.node.focus({preventScroll:!0}),this.list&&!this.node._focin)return(n=(o=(r=this.items.at(0))==null?void 0:r.op)==null?void 0:o.focus)==null?void 0:n.call(o)}else return this.list&&!this.node._focin?(a=(s=(i=this.items.at(0))==null?void 0:i.op)==null?void 0:s.focus)==null?void 0:a.call(s):((c=(u=this.node.closest("[tabindex]"))==null?void 0:u.focus)==null||c.call(u,{preventScroll:!0}),OP.ui.focus(this.node))}invalidate(){return vu.add(this)}tick(){return!0}};wN.prototype[Le]=De,se([ke.bind([])],wN.prototype,"opview",null),E(wN,mDt,"OPElementHelper",272);var M9e=wN,XHo=Symbol(),F9e=class F9e{haspointer(){try{let{x:e,y:t}=OP.ui.pointer,r=globalThis.document.elementFromPoint(e,t);return!!this[noe].element.contains(r)}catch{return!1}}opfocus(e){var r;let t=this[noe].element;return e&&(t=this.target.closest(e)||this.target.querySelector(e)),(r=t==null?void 0:t.matches)!=null&&r.call(t,"input")?t.focus():t&&t.opfocus(this),!0}popup(e,t){var u;var r,o={},n,i,s;let a=(n=i=0,r=r=M(e,null,null,null),n||(r[PHo]=o._),n||((u=r[THo])==null||u.call(r,o,tDt)),r[OHo]&&(s=this,s===r[rDt]||(r.opener=r[rDt]=s),t===r[oDt]||(r.data=r[oDt]=t),n||(r.popup__={tip:!0}),n||(r.popup="popup"),s=this.target,s===r[nDt]||(r.anchored=r[nDt]=s),n||o.sym||!r.setup||r.setup(i,o,tDt),o.sym||r[RHo](i)),r);return Bt(a)}};E(F9e,XHo,"Event",1,Event);var $Dt=F9e,KHo=Symbol(),H9e=class H9e{self(){let e=this[noe].element;return this.type=="focusout"?this.relatedTarget&&!e.contains(this.relatedTarget):this.type=="focusin"?!this.relatedTarget||!e.contains(this.relatedTarget):this.target==e}};E(H9e,KHo,"FocusEvent",1,FocusEvent);var yDt=H9e,JHo=Symbol(),B9e=class B9e{get $r(){return OPANYONE}get $w(){return OPANYONE}get $x(){return OPANYONE}get $c(){return OPANYONE}get $d(){return OPANYONE}get r(){return!0}get w(){return!0}get x(){return!0}get c(){return!0}get d(){return!0}toDataTransfer(){return this.data.toDataTransfer()}focin(){return this.focin||this.focus({preventScroll:!0}),this}get visible(){let e=window.visualViewport,t=this.opbox();return!(t.bottom>e.height||t.top<0)}set role(e){this.setAttribute("role",e)}get role(){return this.getAttribute("role")}get op(){return this[MHo]||=new M9e(this)}get $ns(){return this.$id}get $id(){let e,t=this.id,r="";return t&&(r="#"+t),(e=this.className.match(/\$\w+/))&&(r="$"+e[0]),r}set opkey(e){this[R9e]!=e&&(this[R9e]=e)}get opkey(){return this[R9e]}parents(e,t=!1){let r=[],o=t?this:this.parentElement;for(;o;)(p(e,Function)?e(o,r):o.matches(e))&&r.push(o),o=o.parentElement;return r}rolesfor(e){return OPANYONE|OPOWNER}get $plain(){return this[LHo]||={}}get $rich(){return this[DHo]||={}}get $localplain(){return this[NHo]||={}}get resolved(){return!0}$resolve(){return!0}get exists(){return!0}get focus(){return globalThis.document.activeElement==this}get focusable(){return this.tabIndex!=-1||this==globalThis.document.body}get focin(){return this.contains(globalThis.document.activeElement)}opfocus(e={preventScroll:!0}){let t;if(this.focusable)return this.focus(typeof e=="boolean"||p(e,Event)?{preventScroll:!0}:e);if(t=this.querySelector("[tabindex],input"))return t.opfocus(e)}opblur(){if(this.focus)return this.blur()}opreveal(e={}){if(!this.visible){if(this.scrollIntoViewIfNeeded)return this.scrollIntoViewIfNeeded({behavior:"smooth"});let t=this.opbox(),r=window.visualViewport;return window.scrollTo({left:0,top:r.pageTop+t.top-60,behavior:"smooth"})}}opbox(e=null){if(this[lDt])return this[lDt];let t=e&&e.get(this);return t||(t=this.getBoundingClientRect(),e&&e.set(this,t),t)}get opwidth(){return this.offsetWidth}get opheight(){return this.offsetHeight}on$press(e,t,r,o){var n=this;if(!this[ooe]){this[ooe]=[];let i=function(a){var u;if(a[aDt]!=!0&&(a[aDt]=!0,!0)&&n.emit("redraw"),a.ended&&n.contains(a.event.target)){let c=a.event;u=[];for(let h=0,d=B(n[ooe]),f=d.length;h<f;h++){let m=d[h];if(m[IHo]=c.target,m.handleEvent(c),c[FHo])break}return u}},s={primary:!0};e.if&&(s.if=e.if),s.prevent=!0,e.self&&(s.self=!0),s.flag=["@active"],s.$_=[i],this.on$("touch",s,t)}return this[ooe].push(r),r}on$point(e,t,r,o){for(let n=0,i=["pointerdown","pointerup","pointerenter","pointerleave"],s=i.length;n<s;n++){let a=i[n];this.addEventListener(a,r)}return this[HHo]=r,r}on$hover(e,t,r,o){var n;let i=(n=e.$_,delete e.$_,n),s=function(a){return new Promise(function(c,h){return a[noe].resolver=c})};return i&&(e.$_=i),e.$_1=[s],this.addEventListener("pointerenter",r,o),this.addEventListener("pointerleave",function(a){var c;var u;if(r.currentEvents){u=[];for(let h of B(r.currentEvents))h.aborted=!0,u.push((c=h==null?void 0:h.resolver)==null?void 0:c.call(h,!0));return u}})}set fzhi(e){e&&this.textContent&&this[uDt]!=e&&(this[uDt]=e,!0)&&(this.innerHTML=FZI.replaceMatchedRanges(e,this.textContent,function(t){return"<span style='color:#61a6fa'>"+t+"</span>"}))}};E(B9e,JHo,"Element",1,Element);var bDt=B9e,QHo=Symbol(),V9e=class V9e{set newtab(e){this.target="_blank"}};E(V9e,QHo,"HTMLAnchorElement",1,HTMLAnchorElement);var gDt=V9e,eBo=Symbol(),z9e=class z9e{intersects(e){let t=globalThis.document.elementsFromPoint(this.clientX,this.clientY);return e?t.indexOf(e)>=0:t}};E(z9e,eBo,"MouseEvent",1,MouseEvent);var kDt=z9e;T();oe();function soe(l,e){return l[l.length+e]}var SN=Symbol.for("#opnav"),_Dt=Symbol.for("#opnavparent"),tBo=Symbol.for("#opmenu"),rBo=Symbol.for("#optarget"),oBo=Symbol(),CS;CS=class{get opnav(){return{area:!0}}get opnavdata(){var a;let e=(a=OP==null?void 0:OP.ui)==null?void 0:a.overlays,t=this.opnavparent,r=this.opnav||{},o=this.opnavchildren,i=((t==null?void 0:t.opnavchildren)||[]).indexOf(this),s={parent:null,mods:r,children:o,first:o[0],next:o[0],prev:soe(o,-1)};return s.area=s,s}opnavfocusout(e,t){var r,o;return(o=(r=globalThis.document.activeElement)==null?void 0:r.blur)==null?void 0:o.call(r)}},E(CS,oBo,"body",3,da("body","HTMLBodyElement"));var nBo=Symbol(),ES;ES=class{on$opnav(e,t){var r=this;this[SN]=e,this.setAttribute("opnav","");let o=e.options||[];if(typeof o[0]=="number"?e.order=this.tabIndex=o[0]:e.virtual||(this.tabIndex=0),e.if!=null){let n=e.if,i=n[0];Object.defineProperty(n,0,{get:function(){return this.val},set:function(s){if(this.val!=s&&(this.val=s,!0))return s?r.setAttribute("opnav",""):r.removeAttribute("opnav"),e.off=!s}}),n[0]=i}e!=null&&e.contour&&this.addEventListener("focus",function(){return r.contour},{once:!0})}set opnav(e){var t=this;let r=this.opnav__;this[SN]=e?r||{value:e}:null,e!=!1&&(typeof e=="number"?this.tabIndex=e:this.tabIndex=0,this.setAttribute("opnav","")),r!=null&&r.contour&&this.addEventListener("focus",function(){return t.contour},{once:!0})}get opnav(){return this[SN]}get opnavorder(){var e;return((e=this[SN])==null?void 0:e.order)??this.tabIndex}get opnavdata(){var f,m,$,b;if(!this.opnav)return{};let e=this.opnavparent,t=this.opnav||{},r=this.opnavchildren,o=(e==null?void 0:e.opnavchildren)||[],n=o.indexOf(this),i=this.opnavarea,s={node:this,parent:e,mods:t,area:null,children:r,siblings:o,first:r[0],next:o[n+1],prev:o[n-1],up:e.opnavdata},a=(f=s.up)==null?void 0:f.mods,u=this.opbox(),c=[],h=[];a!=null&&a.cycle&&(s.next||=n>0?o[0]:e,soe(o,-1)!=this&&(s.prev||=soe(o,-1)));let d=new Map;for(let g=0,x=B(o),k=x.length;g<k;g++){let _=x[g];d.set(_,_.opbox())}for(let g=0,x=B(o),k=x.length;g<k;g++){let _=x[g],S=d.get(_);(S.top==u.top||S.bottom==u.bottom||S.m==u.m)&&c.push(_),(S.left==u.left||S.right==u.right||a!=null&&a.col)&&h.push(_)}if(s.row=c.asc(function(g){return d.get(g).left}),s.col=h.asc(function(g){return d.get(g).top}),i==this||t.tab?s.area=s:i&&(s.area=i==e?s.up:i.opnavdata,(m=s.area.mods)!=null&&m.stack?(s.prev||=soe(o,-1),s.next||=o[0]):(s.next=s.area.next,s.prev=s.area.prev||s.area.parent)),(a!=null&&a.list||a!=null&&a.row||a!=null&&a.col)&&(s.prev=s.up.prev,s.next=s.up.next),(t.list||t.row||t.col)&&(s.next=o[n+1]||(($=s.up)==null?void 0:$.next),s.prev=o[n-1]||((b=s.up)==null?void 0:b.prev)),t.stack?(s.next=s.first,s.prev=s.last):t.deep&&(s.prev=o[n-1]),s.next||(s.next=o.at(n+1)),!s.next){let g=e==null?void 0:e.opnavdata;s.next=g.next}return s}get opnavarea(){var e,t;return(e=this[SN])!=null&&e.area?this:(t=this.opnavparent)==null?void 0:t.opnavarea}get opnavparents(){let e=[],t=this;for(;t=t.opnavparent;)e.push(t);return e}get opnavchildren(){return Array.from(this.querySelectorAll("[opnav]:not(:scope [opnav] [opnav]):not(.\\@out *)")).asc("opnavorder").filter(function(t){return!(!t.opnav.area&&t.hidden)})}get opnavparent(){return this==globalThis.document.body?null:this[_Dt]||this.parentElement.closest("[opnav]")||globalThis.document.body}set opnavparent(e){this[_Dt]=e}get opnavsiblings(){return this.opnavparent.opnavchildren}get opnavnext(){let e=this.opnavsiblings,t=e.indexOf(this);return e[t+1]}get opnavprev(){let e=this.opnavsiblings,t=e.indexOf(this);return e[t-1]}opnavfocus(e,t){var o,n,i;let r=this.opnavdata;if((o=r==null?void 0:r.mods)!=null&&o.area&&r.first)return(i=(n=r.first)==null?void 0:n.opnavfocus)==null?void 0:i.call(n,e);if(!this.emit("opnavfocus",r,{original:e}).defaultPrevented)return this.opfocus(e),this.opreveal(e)}opnavtab(e){var i,s;let t=this.opnavdata;if(this.emit("opnavtab",t,{original:e}).defaultPrevented)return;let{prev:o,next:n}=t;return t.type="opnavtab",e!=null&&e.shiftKey?(i=o==null?void 0:o.opnavfocus)==null?void 0:i.call(o,e):globalThis.embed&&t.siblings&&n==t.siblings[0]?void 0:(t.mods.deep&&(n=t.first),n?(s=n==null?void 0:n.opnavfocus)==null?void 0:s.call(n,e):this.opnavexit(e))}opnavstart(e){return this.opnavdata.mods.deep&&OP.ui.navtab(e),!0}opnavspace(e){return this.opnavemit("space",e),e.defaultPrevented||this[tBo]&&(e[rBo]=this,OP.ui.contextmenu(e)),!0}opnavemit(e,t,r=this.opnavdata){var n;let o=this.emit("opnav"+e,r,{original:t});return o.defaultPrevented&&((n=t==null?void 0:t.preventDefault)==null||n.call(t)),o}opnaventer(e){var o;let t=this.opnavdata;if(!this.emit("opnaventer",t,{original:e}).defaultPrevented){let n=t.first;return n?(o=n==null?void 0:n.opnavfocus)==null||o.call(n,e):this.click(),e.preventDefault(),e.stopPropagation()}}opnavfocusout(e,t){var n,i,s;let r=this.opnavdata;if(r.via=t,!this.emit("opnavfocusout",r,{original:e}).defaultPrevented)return r.mods.area&&!r.mods.stack?(i=(n=r.parent)==null?void 0:n.opnavfocusout)==null?void 0:i.call(n,e,r):(this.opfocus(e),(s=e==null?void 0:e.preventDefault)==null?void 0:s.call(e))}opnavexit(e){var o,n;let t=this.opnavdata;if(!this.emit("opnavexit",t,{original:e}).defaultPrevented)return(n=(o=t.parent)==null?void 0:o.opnavfocusout)==null?void 0:n.call(o,e,t)}opnavdir(e,t=0,r=0){var c;let o=this.opnavdata,n,i=(c=o.up)==null?void 0:c.mods,s=this.emit("opnavdir",o,{original:e,bubble:!1}),a=i.row&&t||i.list||i.grid||i.col&&r,u=r!=0?o.col:o.row;if(o.mods.stack||o.mods.list||o.mods.col?(a=!0,n=r>0?o.first:o.last):r>0?n=u.after(this):r<0?n=u.before(this):t>0?n=u.after(this):t<0&&(n=u.before(this)),a&&p(e,KeyboardEvent)&&(u.length>1||n)&&(e.preventDefault(),e.stopPropagation()),n&&a)return n.opnavfocus(e)}},E(ES,nBo,"htmlelement",3,da("htmlelement","HTMLElement"));T();oe();var xDt=Symbol.for("#action"),vDt=Symbol.for("#model"),loe=Symbol.for("#data"),iBo=Symbol.for("#context"),sBo=Symbol(),jS;jS=class{set odata(e){var r,o,n;let t=this.data;if(this.data!=e&&(this.data=e,!0)){let i=this.odata__;if(p(e,OPObject)&&e.unresolved&&((r=e==null?void 0:e.then)==null||r.call(e,function(){return!0})),(t||e!=null&&e.id)&&(this.dataset.id=(e==null?void 0:e.id)??"",this.dataset.type=((o=e==null?void 0:e.constructor)==null?void 0:o.name)??""),i!=null&&i.rich){let s=e==null?void 0:e.ascolor;this.op.vars({accent:s}),this.flags.toggle("has-color",!!s),e!=null&&e.hue&&this.flags.add(e.hue)}if(i!=null&&i.sub){let s=e.data}(n=this==null?void 0:this.prepare)==null||n.call(this)}}},E(jS,sBo,"htmlelement",3,da("htmlelement","HTMLElement"));var q9e=Symbol(),aoe=class aoe extends Qe(q9e,de,OPRenderer){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[q9e])==null||o.call(this,...arguments)}get action(){return this[xDt]||(p(this.data,OPAction)?this.data:null)}set action(e){this[xDt]=e}get field(){var e;return(e=this.data)==null?void 0:e.$field}get model(){var e;return this[vDt]||((e=this.data)==null?void 0:e.$this)||this.data}set model(e){this[vDt]=e}focus(){return super.focus({preventScroll:!0})}prepare(){return this}set data(e){var r;let t=this[loe];if(this[loe]!=e&&(this[loe]=e,!0)){let o=this.data__;if(p(e,OPObject)&&e.unresolved&&((r=e==null?void 0:e.then)==null||r.call(e,function(){return!0})),(t||e!=null&&e.id)&&(this.dataset.id=(e==null?void 0:e.id)??""),o!=null&&o.rich){let n=e==null?void 0:e.ascolor;this.op.vars({accent:n}),this.flags.toggle("has-color",!!n),e!=null&&e.hue&&this.flags.add(e.hue)}if(o!=null&&o.sub){let n=e.data}this.prepare()}}get data(){return this[loe]}on$draghover(e,t,r,o){var n=this;let i=function(u){return new Promise(function(h,d){return u[iBo].resolver=h})},s=!1,a=function(){if(s)return s=!1,r.abortCurrentHandlers()};return e.$_1=[i],this.addEventListener("dragenter",function(u){if(s!=!0&&(s=!0,!0))return r.handleEvent(u)},o),this.addEventListener("dragleave",function(u){if(s&&(!u.relatedTarget||!n.contains(u.relatedTarget)))return a()}),this.addEventListener("drop",a)}};E(aoe,q9e,"op",74),pe("op",aoe,{});var wDt=aoe,lBo=Symbol(),uoe=class uoe extends Ve("op","OpComponent",de){set value(e){this.md=e||""}};E(uoe,lBo,"op-label",2),pe("op-label",uoe,{});var SDt=uoe,aBo=Symbol(),coe=class coe extends Ve("op","OpComponent",de){set value(e){this.md=e||""}};E(coe,aBo,"op-detail",2),pe("op-detail",coe,{});var CDt=coe;T();T();oe();We();var uBo=Symbol.for("#getSlot"),EN=Symbol.for("#afterVisit"),foe=Symbol.for("#insertInto"),rx=Symbol.for("##up"),doe=Symbol.for("##register"),cBo=Symbol.for("#isRichElement"),hBo=Symbol.for("#static"),AS=Symbol.for("#listeners"),dm=Symbol.for("#slot"),pBo=Symbol.for("#parent"),EDt=Symbol.for("#domTarget"),Zk=Symbol.for("##container"),dBo=Symbol.for("#removeFrom"),fBo=Symbol.for("#teleport"),mBo=Symbol.for("#self"),hoe=Symbol.for("#handlers"),CN=Symbol.for("#attached"),W9e=Symbol.for("##up_"),jDt=Symbol.for("#modifiers"),ADt=Symbol.for("#registered"),poe=Symbol.for("#active"),UDt=Symbol(),PDt=Symbol(),TDt=Symbol(),ODt=Symbol(),RDt=Symbol(),MDt=Symbol(),LDt=Symbol(),DDt=Symbol(),NDt=Symbol(),IDt=Symbol(),FDt=Symbol(),Z9e=class Z9e{constructor(e){this.options=e,re(this,FDt)}$accessor(e,t,r,o,n){return this.tagname="use-"+r.replace(//gu,"-").replace(/^is-/,""),n[o]=this}$set(e,t,r,o){var n,i;if(e===!1)return(i=(n=t[r])==null?void 0:n.disable)==null?void 0:i.call(n);{let s=this.$tag(t,r,o),a=t[o+"__"]||{};return s.update(e,a)}}$tag(e,t,r){var c;var o,n={},i,s,a;let u=e[t];if(!u){let h=e[r+"__"]||{};this.callback?(u=this.callback.call(e,h),u.target=e,u.modifiers=h):u=(i=s=0,o=o=M(this.tagname,null,null,null),i||(o[rx]=n._),i||((c=o[doe])==null||c.call(o,n,UDt)),o[cBo]&&(e===o[PDt]||(o.target=o[PDt]=e),a=this,a===o[TDt]||(o.desc=o[TDt]=a),h===o[ODt]||(o.modifiers=o[ODt]=h),i||n.sym||!o.setup||o.setup(s,n,UDt),n.sym||o[EN](s)),o),p(e,de)||console.warn("augment "+r+" is currently only supported for custom elements. Use <op "+r+"> instead of <div "+r+">"),u.autoschedule=!0,u[hBo]=!0,e[t]=u,u.register()}return u}$get(e,t,r){return this.$tag(e,t,r)}};E(Z9e,FDt,"OPAugmentProp",16);var moe=Z9e;globalThis.OPAugmentProp=moe;var $Bo=Symbol(),$oe=class $oe extends de{build(){return this[AS]=[]}[uBo](e,t){return this[dm]||=this.createSlot(0,this[pBo]),this[dm]}get domTarget(){return this[EDt]||=p(this.to,Element)?this.to:this.closest(this.to)||this.doc.querySelector(this.to)}get eventTarget(){return this.domTarget}get style(){return this[Zk]?this[Zk].style:super.style}get classList(){return this[Zk]?this[Zk].classList:super.classList}get className(){return this[Zk]?this[Zk].className:super.className}set className(e){this[Zk]?this[Zk].className=e:super.className=e}[EN](){if(this.mounted&&this[dm]&&!this[dm].parentNode)return this[dm][foe](this.target)}mount(){for(let t=0,r=B(this[AS]),o=r.length;t<o;t++){let[n,i,s]=r[t];this.eventTarget.addEventListener(n,i,s)}let e=this.domTarget;return this[dm]&&this[dm][foe](e),this}unmount(){for(let e=0,t=B(this[AS]),r=t.length;e<r;e++){let[o,n,i]=t[e];this.eventTarget.removeEventListener(o,n,i)}return this[dm]&&this[dm][dBo](this.domTarget),this[EDt]=null,this}addEventListener(e,t,r={}){var o;if(t[fBo]=this,t[mBo]=this,this[AS].push([e,t,r]),this.mounted&&((o=this.eventTarget)!=null&&o.addEventListener))return this.eventTarget.addEventListener(e,t,r)}};E($oe,$Bo,"use-teleport",10),pe("use-teleport",$oe,{});var HDt=$oe,yBo=Symbol(),fm=class fm extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.target=e?e.target:void 0,this.options=e?e.options:void 0,this.position=e&&(o=e.position)!==void 0?o:"afterbegin"}static inherited(e){var t;t=[];for(let r=0,o=["$target","$opener","$rel"],n=o.length;r<n;r++){let i=o[r];t.push(Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(this.prototype,i)))}return t}build(){return this[hoe]=[],this[AS]=[]}setup(){return this}get $target(){var s;var e=this._ns_||"",t,r={},o,n,i;return o=n=0,t=t=R("use-teleport",null,`${e}`,null),o||(t[rx]=r._),o||((s=t[doe])==null||s.call(t,r,RDt)),i=this.target,i===t[MDt]||(t.to=t[MDt]=i),o||r.sym||!t.setup||t.setup(n,r,RDt),r.sym||t[EN](n),t}get $opener(){var s;var e=this._ns_||"",t,r={},o,n,i;return o=n=0,t=t=R("use-teleport",null,`${e}`,null),o||(t[rx]=r._),o||((s=t[doe])==null||s.call(t,r,LDt)),i=this.target.opener,i===t[DDt]||(t.to=t[DDt]=i),o||r.sym||!t.setup||t.setup(n,r,LDt),r.sym||t[EN](n),t}get $rel(){var s;var e=this._ns_||"",t,r={},o,n,i;return o=n=0,t=t=R("use-teleport",null,`${e}`,null),o||(t[rx]=r._),o||((s=t[doe])==null||s.call(t,r,NDt)),i=this.target.rel,i===t[IDt]||(t.to=t[IDt]=i),o||r.sym||!t.setup||t.setup(n,r,NDt),r.sym||t[EN](n),t}get render(){return!!this[CN]}get eventTarget(){return this}on$(e,t,r){if(this.eventTarget!=this){this[AS].push([e,t,r]);let o=this.eventTarget.on$(e,t,r);return this[hoe].push(o),o}return super.on$(...arguments)}[foe](e){return super[foe](...arguments)}set[rx](e){e&&(p(e,Element)||(e=e[rx]),this.target??=e,this.register()),this[W9e]=e}get[rx](){return this[W9e]}set modifiers(e){this[jDt]=e;for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this.flags.add(n),this.$shape[n]&&(this[n]=i)}get modifiers(){return this[jDt]}update(e,t){return this}ontargetevent(e){}mount(){return this.register(),this.attach()}unmount(){return this._deactivate()}register(){if(this[ADt]!=!0&&(this[ADt]=!0,!0))return this.registering(),this.render()}finalize(){return!0}registering(){var e=this;return yl(this.target,"mount",function(){return e.attach()}),yl(this.target,"unmount",function(){return e.detach()}),this.target.addEventListener("out",this.ontargetevent),this.target.addEventListener("outcancel",this.ontargetevent),!0}attach(){return this[CN]!=!0&&(this[CN]=!0,!0)&&(this.attaching(),this.finalize(),this.render(),this.position&&!this[W9e]&&this.target.insertAdjacentElement(this.position,this),this.attached()),this._activate()}detach(){return this[CN]!=!1&&(this[CN]=!1,!0)&&(this.detaching(),this.parentNode&&this.remove(),this.flags.remove("on"),this.target.flags.decr(this.tagName.toLowerCase()),this.detached()),this._deactivate()}detaching(){return!0}detached(){return!0}attaching(){return!0}attached(){return!0}_activate(){if(this[poe]!=!0&&(this[poe]=!0,!0)){this.flags.add("on"),this.target.flags.incr(this.tagName.toLowerCase());for(let e=0,t=B(this[hoe]),r=t.length;e<r;e++){let o=t[e];o.disabled=!1}return this.activate()}}_deactivate(){if(this[poe]!=!1&&(this[poe]=!1,!0)){for(let e=0,t=B(this[hoe]),r=t.length;e<r;e++){let o=t[e];o.disabled=!0}return this.deactivate()}}activate(){return this.emit("activate"),this}deactivate(){return this.emit("deactivate"),this}};fm.prototype[Le]=De,se([ke.bind([])],fm.prototype,"$target",null),se([ke.bind([])],fm.prototype,"$opener",null),se([ke.bind([])],fm.prototype,"$rel",null),se([Fl.bind([])],fm.prototype,"ontargetevent",null),E(fm,yBo,"use-augment",266),pe("use-augment",fm,{});var BDt=fm,bBo=Symbol(),yoe=class yoe extends Ve("use-augment","UseAugmentComponent",de){eventTarget(){return this.target}};E(yoe,bBo,"use-events",2),pe("use-events",yoe,{});var VDt=yoe,gBo=Symbol(),G9e=class G9e{augment(e={}){return new moe(e)}};E(G9e,gBo,"Element",1,Element);var zDt=G9e;T();oe();function boe(l,e){return l[l.length+e]}ge(),En(),wo(),un(),We(),$i();var Y9e=Symbol("anchored"),qDt=Symbol(),X9e=Symbol("debug"),WDt=Symbol(),K9e=Symbol("pinned"),ZDt=Symbol(),J9e=Symbol("entered"),GDt=Symbol(),Q9e=Symbol("sticky"),YDt=Symbol(),eCe=Symbol("tip"),XDt=Symbol(),tCe=Symbol("modal"),KDt=Symbol(),rCe=Symbol("promised"),JDt=Symbol(),oCe=Symbol("dialog"),QDt=Symbol(),nCe=Symbol("picker"),eNt=Symbol(),iCe=Symbol("contextmenu"),tNt=Symbol(),sCe=Symbol("submenu"),rNt=Symbol(),lCe=Symbol("suppress-focus"),oNt=Symbol(),aCe=Symbol("autofocus"),nNt=Symbol(),uCe=Symbol("focus-on-open"),iNt=Symbol(),cCe=Symbol("focus-on-hover"),sNt=Symbol(),hCe=Symbol("have-had-focus"),lNt=Symbol(),pCe=Symbol("popup"),aNt=Symbol(),uNt,cNt,hNt,pNt,dNt,fNt,mNt,$Nt,yNt,bNt,gNt,kNt,_Nt,xNt,vNt,wNt,SNt,CNt=Symbol(),ENt=Symbol(),jNt=Symbol(),ANt=Symbol(),UNt=Symbol(),PNt=Symbol(),TNt=Symbol(),ONt=Symbol(),RNt=Symbol(),MNt=Symbol(),LNt=Symbol(),DNt=Symbol(),NNt=Symbol(),INt=Symbol(),FNt=Symbol(),HNt,jN=Symbol.for("#resolved"),kBo=Symbol.for("#_easer_"),BNt=Symbol.for("#oppopup"),US=Symbol.for("#dismissed"),goe=Symbol.for("#stalled"),dCe=Symbol.for("#state"),_Bo=Symbol.for("#optip"),VNt=Symbol.for("#dialog"),fCe=Symbol.for("#inside"),mCe=Symbol.for("#entered"),$Ce=Symbol.for("#insource"),zNt=Symbol.for("#stalltimeout"),xBo=Symbol.for("#beforeReconcile"),koe=Symbol.for("##up"),AN=Symbol.for("#appendChild"),vBo=Symbol.for("#afterVisit"),wBo=Symbol.for("#afterReconcile");no.addSelectors([".use-popup",".ps-af.contextmenu",".ps-af.modal"],"transition");var SBo=Symbol(),Hn=class Hn extends Ve("use-augment","UseAugmentComponent",de){get $target(){let e=w("div",null,`${this._ns_||""} $target`,null);return Object.defineProperty(this,"$target",{value:e}),e}get $tri(){let e=Ir("svg",null,`${this._ns_||""} $tri`,null);return Object.defineProperty(this,"$tri",{value:e}),e}get $tritarget(){let e=Ir("polyline",null,`${this._ns_||""} $tritarget`,null);return Object.defineProperty(this,"$tritarget",{value:e}),e}get $trisource(){let e=Ir("polyline",null,`${this._ns_||""} $trisource`,null);return Object.defineProperty(this,"$trisource",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.position=e&&(o=e.position)!==void 0?o:"beforebegin",this.kind=e?e.kind:void 0,this.hideonleave=e&&(o=e.hideonleave)!==void 0?o:!1,this.noscroll=e&&(o=e.noscroll)!==void 0?o:1,this.child=e?e.child:void 0,this.movements=e&&(o=e.movements)!==void 0?o:[]}set anchored(e){this.anchored.$set(e,this,Y9e,"anchored")}get anchored(){return this.anchored.$get(this,Y9e,"anchored")}get anchored(){return this[qDt]||y((uNt=this.bool(),uNt),this,Y9e,"anchored",qDt,Hn.prototype)}set debug(e){this.debug.$set(e,this,X9e,"debug")}get debug(){return this.debug.$get(this,X9e,"debug")}get debug(){return this[WDt]||y((cNt=this.bool(),cNt),this,X9e,"debug",WDt,Hn.prototype)}set pinned(e){this.pinned.$set(e,this,K9e,"pinned")}get pinned(){return this.pinned.$get(this,K9e,"pinned")}get pinned(){return this[ZDt]||y((hNt=this.bool(),hNt),this,K9e,"pinned",ZDt,Hn.prototype)}set entered(e){this.entered.$set(e,this,J9e,"entered")}get entered(){return this.entered.$get(this,J9e,"entered")}get entered(){return this[GDt]||y((pNt=this.bool(),pNt),this,J9e,"entered",GDt,Hn.prototype)}set sticky(e){this.sticky.$set(e,this,Q9e,"sticky")}get sticky(){return this.sticky.$get(this,Q9e,"sticky")}get sticky(){return this[YDt]||y((dNt=this.bool(),dNt),this,Q9e,"sticky",YDt,Hn.prototype)}set tip(e){this.tip.$set(e,this,eCe,"tip")}get tip(){return this.tip.$get(this,eCe,"tip")}get tip(){return this[XDt]||y((fNt=this.bool(),fNt),this,eCe,"tip",XDt,Hn.prototype)}set modal(e){this.modal.$set(e,this,tCe,"modal")}get modal(){return this.modal.$get(this,tCe,"modal")}get modal(){return this[KDt]||y((mNt=this.bool(),mNt),this,tCe,"modal",KDt,Hn.prototype)}set promised(e){this.promised.$set(e,this,rCe,"promised")}get promised(){return this.promised.$get(this,rCe,"promised")}get promised(){return this[JDt]||y(($Nt=this.any(),$Nt),this,rCe,"promised",JDt,Hn.prototype)}set dialog(e){this.dialog.$set(e,this,oCe,"dialog")}get dialog(){return this.dialog.$get(this,oCe,"dialog")}get dialog(){return this[QDt]||y((yNt=this.bool(),yNt),this,oCe,"dialog",QDt,Hn.prototype)}set picker(e){this.picker.$set(e,this,nCe,"picker")}get picker(){return this.picker.$get(this,nCe,"picker")}get picker(){return this[eNt]||y((bNt=this.bool(),bNt),this,nCe,"picker",eNt,Hn.prototype)}set contextmenu(e){this.contextmenu.$set(e,this,iCe,"contextmenu")}get contextmenu(){return this.contextmenu.$get(this,iCe,"contextmenu")}get contextmenu(){return this[tNt]||y((gNt=this.bool(),gNt),this,iCe,"contextmenu",tNt,Hn.prototype)}set submenu(e){this.submenu.$set(e,this,sCe,"submenu")}get submenu(){return this.submenu.$get(this,sCe,"submenu")}get submenu(){return this[rNt]||y((kNt=this.bool(),kNt),this,sCe,"submenu",rNt,Hn.prototype)}set suppressfocus(e){this.suppressfocus.$set(e,this,lCe,"suppressfocus")}get suppressfocus(){return this.suppressfocus.$get(this,lCe,"suppressfocus")}get suppressfocus(){return this[oNt]||y((_Nt=this.bool(),_Nt),this,lCe,"suppressfocus",oNt,Hn.prototype)}set autofocus(e){this.autofocus.$set(e,this,aCe,"autofocus")}get autofocus(){return this.autofocus.$get(this,aCe,"autofocus")}get autofocus(){return this[nNt]||y((xNt=this.bool(),xNt),this,aCe,"autofocus",nNt,Hn.prototype)}set focusonopen(e){this.focusonopen.$set(e,this,uCe,"focusonopen")}get focusonopen(){return this.focusonopen.$get(this,uCe,"focusonopen")}get focusonopen(){return this[iNt]||y((vNt=this.bool(),vNt),this,uCe,"focusonopen",iNt,Hn.prototype)}set focusonhover(e){this.focusonhover.$set(e,this,cCe,"focusonhover")}get focusonhover(){return this.focusonhover.$get(this,cCe,"focusonhover")}get focusonhover(){return this[sNt]||y((wNt=this.bool(),wNt),this,cCe,"focusonhover",sNt,Hn.prototype)}set havehadfocus(e){this.havehadfocus.$set(e,this,hCe,"havehadfocus")}get havehadfocus(){return this.havehadfocus.$get(this,hCe,"havehadfocus")}get havehadfocus(){return this[lNt]||y((SNt=this.bool(),SNt),this,hCe,"havehadfocus",lNt,Hn.prototype)}update(e){if(Object.isPlain(e))for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this.$shape[n]&&(this[n]=i);return this}get overlays(){var e;return(e=OP.ui)==null?void 0:e.overlays}get sublayer(){let e=this.sublayers[0];return this.menu&&e&&e.modal?null:e}get sublayers(){if(this.tip)return[];let e=this.overlays.indexOf(this);return e>=0?this.overlays.slice(e+1):[]}get zi(){return window.getComputedStyle(this.target).zIndex}get rel(){var e;return(e=this.target)==null?void 0:e.rel}build(){var e=this;return super.build(...arguments),this.promise=new Promise(function(t,r){return e.resolve=function(o){if(e[jN]!=!0&&(e[jN]=!0,!0)){if(t(o),e.target.focin&&p(e.target.rel,Element)){try{e.target.rel.opfocus()}catch{}e.submenu&&o!==null&&setTimeout(function(){return e.target.rel.emit("resolve",o)},50)}return e.unmounttarget()}},e.reject=function(o){if(e[jN]!=!0&&(e[jN]=!0,!0))return r(o),e.unmounttarget()}}),this}registering(){var t,r;var e=this;return this.target.ease=!0,(r=(t=this.target[kBo])==null?void 0:t.link)==null||r.call(t,this),this.target.contour=!0,this.target[BNt]=this,super.registering(...arguments),this.thenable&&!this.target.then&&(this.target.then=function(...o){var n,i;return!e.target.parentNode&&!e[jN]&&(console.trace(),Bt(e.target)),(i=(n=e.promise)==null?void 0:n.then)==null?void 0:i.call(n,...o)}),this}get thenable(){return this.modal||this.picker||this.promised||this.submenu||this.contextmenu}get safearea(){var e;return this.modal||this.contextmenu?!1:this.tip?!0:p(this.target.opener,Event)&&(Ye(e=this.target.opener.original.type,"pointerenter")||Ye(e,"pointermove")||Ye(e,"selected"))}get menu(){return this.submenu||this.contextmenu}get submenu(){var e,t,r;return((r=(t=(e=this.target)==null?void 0:e.rel)==null?void 0:t.closest)==null?void 0:r.call(t,"[role=menu]"))||this.submenu}get nested(){var e,t,r;return(r=(t=(e=this.target)==null?void 0:e.rel)==null?void 0:t.closest)==null?void 0:r.call(t,".use-popup")}get focus(){return this.target.focus}attaching(){return this.target.flags.add(this.modal?"modal":"non-modal"),!0}detaching(){return super.detaching(...arguments)}detached(){return this.target.flags.remove(this.modal?"modal":"non-modal"),!0}activate(){var t,r,o,n,i,s,a,u,c,h;var e=this;if(this[US]=!1,this[goe]=!1,this[dCe]={},this.havehadfocus=!1,this.movements=[],this.sticky&&(this.noscroll=0),this.relflags=["has-popup"],this.tip?this.relflags.push("has-tip"):this.contextmenu&&this.relflags.push("has-menu"),p(this.rel,Element)){let d=(t=this.rel.closest(".use-popup"))==null?void 0:t[BNt];d&&(d.child=this,this.parentpopup=d),this.tip&&(this.tipoptions=(r=this.rel[_Bo])==null?void 0:r.mods)}for(let d=0,f=B(this.relflags),m=f.length;d<m;d++){let $=f[d];(i=(n=(o=this.rel)==null?void 0:o.flags)==null?void 0:n.incr)==null||i.call(n,$)}if(p(this.rel,Element)){let d=function(){return e.dismiss()};bl(this.rel,"unmount",d),bl(this,"unmount",function(){return pa(e.rel,"unmount",d)})}return this.focushistory??=(u=(a=(s=OP.ui)==null?void 0:s.focushistory)==null?void 0:a.slice)==null?void 0:u.call(a,0),this.originalfocus??=globalThis.document.activeElement,(h=(c=this.overlays)==null?void 0:c.add)==null||h.call(c,this),this.style.zIndex=this.zi,this.target.tabIndex==-1&&(this.target.tabIndex=0),this.target.opnav&&(this.submenu||this.contextmenu)&&(this.target.opnav.stack=!1,this.target.opnav.virtual=!0),this.dialog&&this.target.data&&(this.target.data[VNt]=this),this.emit("popopen",this.target),this.autofocus&&this.target.focin(),setTimeout(function(){if(e.refocused(),e.safearea)return e.updatetriangle(OP.ui.last.pointermove)},20)}deactivate(){var t,r,o;var e=this;if(this.parentpopup&&this.parentpopup.child==this&&(this.parentpopup.child=null),this.target.focin)if(this.originalfocus)setTimeout(function(){var n,i;if(e.target.focin)return(i=(n=e.originalfocus)==null?void 0:n.focin)==null?void 0:i.call(n)},50);else{let n=this.focushistory.findLast(function(i){return!i.hidden&&!e.target.contains(i)});(t=n==null?void 0:n.focin)==null||t.call(n)}return setTimeout(function(){var i,s,a;var n;n=[];for(let u=0,c=B(e.relflags),h=c.length;u<h;u++){let d=c[u];n.push((a=(s=(i=e.rel)==null?void 0:i.flags)==null?void 0:s.decr)==null?void 0:a.call(s,d))}return n},50),this.emit("popclose",this.target),Il(this,"deactivate"),(o=(r=this.overlays)==null?void 0:r.remove)==null?void 0:o.call(r,this)}get frontmost(){return boe(this.overlays,-1)==this}get modal(){return!!this.modal}get autofocus(){return this.autofocus||this.target.autofocus||this.modal||this.contextmenu}get dismissable(){return!this.pinned}clicked(e){var t,r;if(this.dismissable)return this.dismiss(),(r=(t=OP.ui)==null?void 0:t.pointermove)==null?void 0:r.call(t,e)}dismiss(e={}){var t,r;if(!(this.debug||globalThis.DEBUG_POPUP))return this.sublayer&&!this[US]&&!((r=(t=this.sublayer)==null?void 0:t.dismiss)==null?void 0:r.call(t,{via:this}))?!1:this.dismissable&&this[US]!=!0&&(this[US]=!0,!0)?(this.flags.remove("on"),this.target.emit("dismiss").defaultPrevented||(p(this.target.close,Function)?this.target.close():this.unmounttarget()),!0):this[US]||!1}unmounttarget(){if(Jn(this.target),this.dialog&&this.target.data)return this.target.data[VNt]=null}calcspeed(...e){let t=boe(e,-1),r=0,o=0;for(let n=0,i=B(e),s=i.length,a;n<s;n++){let u=i[n];if(n>2)break;if(a=e[n+1]){let c=u.clientX-a.clientX,h=u.clientY-a.clientY;o+=u.timeStamp-a.timeStamp,r+=Math.abs(Math.hypot(c,h))}}return o=globalThis.performance.now()-t.timeStamp,{distance:r,duration:o,speed:r/o*1e3}}moved(e,t=!0){var r=this;let o=this[dCe]||={};if(!this.safearea||this.child)return;this.movements[0]!=e&&(this.movements.unshift(e),this.movements.length>7&&this.movements.pop());let n=globalThis.document.elementsFromPoint(e.x,e.y),i=n.has(this.target.rel||this.target.opener),{speed:s}=this.calcspeed(...this.movements),a=!this[goe]&&(n.has(this.$tritarget)||n.has(this.$trisource)),u=n.has(this.target),c=i||a||u,h=a&&!u&&!i;if(i&&(o.lastinsource=e),u&&(o.hasbeenover=!0),i&&o.hasbeenover!=!1&&(o.hasbeenover=!1,!0)&&this.$trisource.setAttribute("points","0,0 0,0 0,0 0,0"),o.unsafe=h,clearTimeout(o.timeout),h&&this.movements.length>3&&(s<20?(c=!1,this.flags.remove("approachable")):o.timeout=setTimeout(function(){return r.flags.remove("approachable"),r.moved(e)},70)),this.oversource=i,this[fCe]!=c&&(this[fCe]=c,!0)&&(c||this.emit("autohide")),this.overtarget!=u&&(this.overtarget=u,!0)&&u&&this.focusonhover&&this.frontmost&&this.target.focin(),u&&(this[mCe]!=!0&&(this[mCe]=!0,!0))&&(this.entered=!0),this[$Ce]!=i&&(this[$Ce]=i,!0)&&(this.flags.toggle("over-opener",i),this.flags.toggle("approachable",!i),i||e.stopPropagation(),this.offsetWidth),c&&t&&(clearTimeout(this[zNt]),this[zNt]=setTimeout(function(){if(!r[mCe]&&!r[$Ce]&&!r[goe])return r[goe]=!0,r.moved(e,!1)},300),this.updatetriangle(this.movements[4]||boe(this.movements,-1)),o.hasbeenover))return this.updatetriangle(this.movements[4]||boe(this.movements,-1),this.rel,this.$trisource)}autohide(e){if(!this[fCe]&&!this.modal&&!this.focus&&!this.target.focus)return this.dismiss()}scrolled(e){var t,r;if(this.sticky&&((r=(t=this.target.anchored)==null?void 0:t.reposition)==null||r.call(t),this.movements[0]&&this.moved(this.movements[0],!1)),this.tip)return this.dismiss()}targetenter(e){return this.noscroll++}targetleave(e){return this.noscroll--}targetscroll(e){let t=e.target.scrollTop,r=e.target.scrollHeight,o=e.target.offsetHeight;return e.target.flags.toggle("scrolling",t>0),e.target.flags.toggle("stick-footer",o<r-t)}tapped(e){return!0}reposition(){}updatetriangle(e,t=this.target,r=this.$tritarget){if(!e)return;let o=e.x,n=e.y,i=t.opbox(),{tl:s,tr:a,br:u,bl:c}=i,h=window.innerWidth,d=window.innerHeight,f=new DOMPoint(e.x,e.y),m=[f,f,f];if(o<i.x?n>i.bottom?m=[f,s,u]:n<i.top?m=[f,a,c]:m=[f,s.offset(10,0),c.offset(10,0)]:o>i.right?n>i.bottom?m=[f,a,c]:n<i.top?m=[f,s,u]:m=[f,a,u]:n>i.bottom?m=[f,c,u]:m=[f,s.offset(0,10),a.offset(0,10)],m){let[$,b,g]=m;return this.$tri.setAttribute("viewBox","0 0 "+h+" "+d),r.setAttribute("points",""+$.x+","+$.y+" "+b.x+","+b.y+" "+g.x+","+g.y+" "+$.x+","+$.y)}}escaped(e){return this.dismiss()}_focusin(e){return!0}_focusout(e){return!0}_pointerdown(e){var t;if(this.moved(e),this.tip&&this.oversource&&!((t=this.tipoptions)!=null&&t.clickable))return this.dismiss()}_outcancel(){return this[US]=!1,this._reset(),this._activate()}_outend(){return this._reset()}_incancel(){return!0}_inend(){return this.checkinteractive()}checkinteractive(){let e=this.target.querySelectorAll("op-button,button,[opnav]");return this.interactive=e.length>0,this.flags.toggle("non-interactive",!this.interactive)}_out(){return this.thenable&&this.resolve(null),this._deactivate()}_reset(){return this[dCe]={},this.$trisource.setAttribute("points","0,0 0,0 0,0 0,0"),!0}_opnavexit(e){var o,n;let{original:t,detail:r}=e;return this.log("_opnavexit",this.modal,OP.ui.tabbing),!OP.ui.tabbing&&this.modal?(t.stopPropagation(),t.preventDefault(),e.stopPropagation(),e.preventDefault(),this.target.opfocus(e),OP.ui.tabbing=!0):(this.log("focus original",this.originalfocus),e.preventDefault(),(n=(o=this.originalfocus)==null?void 0:o.opfocus)==null||n.call(o,e),this.resolve(null),this.dismiss()),this}log(...e){}_opnavfocusout(e){var o,n;let{original:t,detail:r}=e;return this.log("_opnavfocusout"),this.modal?(OP.ui.tabbing||this._opnavexit(e),!0):this.contextmenu?(e.preventDefault(),(n=(o=this.originalfocus)==null?void 0:o.opfocus)==null||n.call(o,e),this.dismiss()):this.dismiss()}_popclose(e){return this.resolve(null)}render(){var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m,$=this._ns_||"",b,g,x,k,_;return t=this,t[xBo](),r=o=1,t[CNt]===1||(r=o=0,t[CNt]=1),r||t.on$("pointerdown",{self:!0,trap:!0,$_:[function(S,v){return e.clicked(S)}]},this),n=t[ENt]||(t[ENt]={wait:[null],$_:[function(S,v){return e.autohide(S)}]}),n.wait[0]=50,r||t.on$("autohide",n,this),r||t.on$("hotkey",{options:["shift+meta+u"],force:!0,$_:[function(S,v){return e.debug=!0}]},this),n=t[jNt]||(t[jNt]={if:[null],$_:[function(S,v){return e._popclose(S)}]}),n.if[0]=this.thenable,r||t.on$("popclose",n,this),(!r||o&2)&&t.flagSelf$("backdrop"),s=a=1,(i=t[ANt])||(s=a=0,t[ANt]=(i=this.$target,i[koe]=t,i)),s||i.on$("focusin",{self:!0,silent:!0,$_:[function(S,v){return e._focusin(S)}]},this),s||i.on$("focusout",{self:!0,silent:!0,$_:[function(S,v){return e._focusout(S)}]},this),s||i.on$("pointerenter",{$_:[function(S,v){return e.targetenter(S)}]},this),s||i.on$("pointerleave",{$_:[function(S,v){return e.targetleave(S)}]},this),u=t[UNt]||(t[UNt]={if:[null],$_:[function(S,v){return e.dismiss(S)}]}),u.if[0]=this.menu||this.picker,s||i.on$("acted",u,this),s||i.on$("scroll",{silent:!0,$_:[function(S,v){return e.targetscroll(S)}]},this),u=t[PNt]||(t[PNt]={if:[null],log:["popup:cancel"],$_:[function(S,v){return e.resolve(null)}]}),u.if[0]=this.thenable,s||i.on$("cancel",u,this),u=t[TNt]||(t[TNt]={if:[null],log:["popup:resolve"],$_:[function(S,v){return e.resolve(S.detail)}]}),u.if[0]=this.thenable,s||i.on$("resolve",u,this),u=t[ONt]||(t[ONt]={if:[null],log:["popup:close"],$_:[function(S,v){return e.resolve(null)}]}),u.if[0]=this.thenable,s||i.on$("close",u,this),u=t[RNt]||(t[RNt]={left:!0,if:[null],trap:!0,$_:[function(S,v){return OP.ui.navexit(S)}]}),u.if[0]=this.submenu,s||i.on$("keydown",u,this),s||i.on$("opnavexit",{self:!0,$_:[function(S,v){return e._opnavexit(S)}]},this),s||i.on$("opnavfocusout",{self:!0,$_:[function(S,v){return e._opnavfocusout(S)}]},this),s||i.on$("outcancel",{self:!0,$_:[function(S,v){return e._outcancel(S)}]},this),s||i.on$("incancel",{self:!0,$_:[function(S,v){return e._incancel(S)}]},this),s||i.on$("out",{self:!0,$_:[function(S,v){return e._out(S)}]},this),s||i.on$("outend",{self:!0,$_:[function(S,v){return e._outend(S)}]},this),s||i.on$("inend",{self:!0,$_:[function(S,v){return e._inend(S)}]},this),s||t[AN](i),h=d=1,(c=t[MNt])||(h=d=0,t[MNt]=(c=this.$tri,c[koe]=t,c)),h||c.set$("width",20),h||c.set$("height",20),(f=t[LNt])||(t[LNt]=(f=this.$tritarget,f[koe]=c,f)),h||c[AN](f),(m=t[DNt])||(t[DNt]=(m=this.$trisource,m[koe]=c,m)),h||c[AN](m),h||t[AN](c),g=x=1,(b=t[NNt])||(g=x=0,t[NNt]=b=R("i-global",t,`${$}`,null)),g||b.on$("pointerdown",{silent:!0,capture:!0,$_:[function(S,v){return e._pointerdown(S)}]},this),g||b.on$("pointermove",{silent:!0,capture:!0,$_:[function(S,v){return e.moved(S)}]},this),k=t[INt]||(t[INt]={silent:!0,if:[null],$_:[function(S,v){return e.scrolled(S)}]}),k.if[0]=this.sticky,g||b.on$("scroll",k,this),g||b.on$("focusout",{emit:["refocused"]},this),g||b.on$("focusin",{emit:["refocused"]},this),k=t[FNt]||(t[FNt]={silent:!0,throttle:[null,null],wait:[null],$_:[function(S,v){return e.refocused(S)}]}),k.throttle[0]=10,k.wait[0]=10,g||b.on$("refocused",k,this),g||!b.setup||b.setup(x,_),b[vBo](x),g||t[AN](b),t[wBo](o),t}refocused(e){var r;let t=globalThis.document.activeElement;if(this.target.contains(t))return this.havehadfocus=!0;if(!globalThis.document.fullscreenElement){let o=!!this.child;if(this.havehadfocus&&!o&&!((r=this.rel)!=null&&r.focin))return this.dismiss(e)}}};Hn.prototype[Le]=De,se([jn.bind([])],Hn.prototype,"noscroll",null),se([jn.bind([])],Hn.prototype,"child",null),E(Hn,SBo,"use-popup",266),pe("use-popup",Hn,{cssns:"ps_af",cssid:"ps-af"});var qNt=Hn,CBo=Symbol(),yCe=class yCe{set popup(e){this.popup.$set(e,this,pCe,"popup")}get popup(){return this.popup.$get(this,pCe,"popup")}get popup(){return this[aNt]||y((HNt=this.augment(),HNt),this,pCe,"popup",aNt,Element.prototype)}};E(yCe,CBo,"Element",1,Element);var WNt=yCe;T();oe();ge(),wu(),$i();var bCe=Symbol("anchored"),ZNt=Symbol(),GNt=Symbol(),YNt=Symbol(),XNt=Symbol(),KNt,EBo=Symbol.for("#beforeReconcile"),jBo=Symbol.for("#afterVisit"),ABo=Symbol.for("#appendChild"),UBo=Symbol.for("#afterReconcile"),PBo=Symbol(),_oe=class _oe extends Ve("use-augment","UseAugmentComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.anchor=e?e.anchor:void 0,this.options=e?e.options:void 0}update(e){return this.anchor=e}mount(){return this.target.flags.incr("use-anchored"),this.reposition(),vu.add(this)}tick(){return this.reposition()}unmount(){return this.target.flags.decr("use-anchored")}reposition(){var u,c,h,d,f;if(!this.anchor)return;let e={x:0,y:0,w:0,h:0},t=this.target,r,o=t.offsetHeight,n=t.offsetWidth,i=window.innerHeight,s=window.innerWidth,a="";if(p(this.anchor,MouseEvent))e=new DOMRect(this.anchor.x,this.anchor.y,1,1);else if(((c=(u=this.anchor)==null?void 0:u.constructor)==null?void 0:c.name)=="PointerEvent"){let m=this.anchor.clientX,$=this.anchor.clientY,b=(h=this.anchor.view)==null?void 0:h.frameElement;if(b){let g=b.getBoundingClientRect();m+=g.left,$+=g.top}e=new DOMRect(m,$,1,1)}else if(p(this.anchor,Event))r=this.anchor.target,e=r.opbox();else if(p(this.anchor,Element)){if(r=this.anchor,e=r.opbox(),this.anchor.matches(".op-mi")&&t.flags.toggle("force-left",s-e.right<n),this.anchor.hidden)return}else typeof((d=this.anchor)==null?void 0:d.x)=="number"&&typeof((f=this.anchor)==null?void 0:f.y)=="number"&&(e=new DOMRect(this.anchor.x,this.anchor.y,1,1));if(!(r&&!r.offsetParent))return e.x==0&&e.y==0&&e.width==0&&LL("reposition disappeard?",e),i-e.bottom<100&&(a="tb"),e.width>200&&e.height>80&&(this.target.dataset.ha="ww"),this.target.dataset.va=a,t.op.units(e,"anchor"),t.op.units({elwidth:n+"px",elheight:o+"px"}),!0}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c;return t=this,t[EBo](),r=o=1,t[GNt]===1||(r=o=0,t[GNt]=1),s=a=1,(i=t[YNt])||(s=a=0,t[YNt]=i=R("i-teleport",t,`${n}`,null)),u=this.target,u===t[XNt]||(i.to=t[XNt]=u),s||i.on$("resize",{silent:!0,$_:[function(h,d){return e.reposition(h)}]},this),s||!i.setup||i.setup(a,c),i[jBo](a),s||t[ABo](i),t[UBo](o),t}};E(_oe,PBo,"use-anchored",2),pe("use-anchored",_oe,{cssid:"pt-af"});var JNt=_oe,TBo=Symbol(),gCe=class gCe{set anchored(e){this.anchored.$set(e,this,bCe,"anchored")}get anchored(){return this.anchored.$get(this,bCe,"anchored")}get anchored(){return this[ZNt]||y((KNt=this.augment(),KNt),this,bCe,"anchored",ZNt,Element.prototype)}};E(gCe,TBo,"Element",1,Element);var QNt=gCe;T();oe();ge(),En(),wo();var kCe=Symbol("is-modal"),eIt=Symbol(),tIt=Symbol(),rIt=Symbol(),oIt,OBo=Symbol.for("#_easer_"),RBo=Symbol.for("#beforeReconcile"),MBo=Symbol.for("##up"),LBo=Symbol.for("#appendChild"),DBo=Symbol.for("#afterReconcile");no.addSelectors([".use-modal",".pq-af"],"transition");var NBo=Symbol(),xoe=class xoe extends Ve("use-augment","UseAugmentComponent",de){get $target(){let e=w("div",null,`${this._ns_||""} $target`,null);return Object.defineProperty(this,"$target",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.position=e&&(o=e.position)!==void 0?o:"beforebegin"}build(){var e=this;return super.build(...arguments),this.promise=new Promise(function(t,r){return e.resolve=function(o){return t(o),Jn(e.target)},e.reject=function(o){return r(o),Jn(e.target)}})}register(){var e,t;return this.target.ease=!0,(t=(e=this.target[OBo])==null?void 0:e.link)==null||t.call(e,this),super.register(...arguments)}activate(){var t,r,o;var e=this;return(o=(r=(t=OP.ui)==null?void 0:t.overlays)==null?void 0:r.add)==null||o.call(r,this.target),this.style.zIndex=window.getComputedStyle(this.target).zIndex,this.target.tabIndex==-1&&(this.target.tabIndex=0),this.target.focus(),this.target.then=function(...n){var i,s;return e.target.mounted||Bt(e.target),(s=(i=e.promise)==null?void 0:i.then)==null?void 0:s.call(i,...n)}}deactivate(){var e,t,r;return(r=(t=(e=OP.ui)==null?void 0:e.overlays)==null?void 0:t.remove)==null?void 0:r.call(t,this.target)}cancel(){let e;return e=this.target.emit("cancel")}close(e){return Jn(this.target)}render(){var e=this,t,r,o,n,i,s;return t=this,t[RBo](),r=o=1,t[tIt]===1||(r=o=0,t[tIt]=1),r||t.on$("pointerdown",{self:!0,trap:!0,$_:[function(a,u){return e.cancel()}]},this),r||t.on$("hotkey",{options:["esc"],$_:[function(a,u){return e.cancel()}]},this),r||t.on$("hotkey",{options:["tab"],$_:[function(a,u){return e.log("pressed tab!")}]},this),(!r||o&2)&&t.flagSelf$("backdrop"),i=s=1,(n=t[rIt])||(i=s=0,t[rIt]=(n=this.$target,n[MBo]=t,n)),i||n.on$("cancel",{log:["Captured cancel event for element to be rendered as modal?!"],$_:[function(a,u){return e.resolve(null)}]},this),i||n.on$("close",{log:["Captured modal close!!"],$_:[function(a,u){return e.resolve(null)}]},this),i||n.on$("resolve",{log:["Captured modal close!!"],$_:[function(a,u){return e.resolve(a.detail)}]},this),i||t[LBo](n),t[DBo](o),t}};E(xoe,NBo,"use-modal",10),pe("use-modal",xoe,{cssid:"pq-af"});var nIt=xoe,IBo=Symbol(),_Ce=class _Ce{set ismodal(e){this.ismodal.$set(e,this,kCe,"ismodal")}get ismodal(){return this.ismodal.$get(this,kCe,"ismodal")}get ismodal(){return this[eIt]||y((oIt=this.augment(),oIt),this,kCe,"ismodal",eIt,Element.prototype)}};E(_Ce,IBo,"Element",1,Element);var iIt=_Ce;T();oe();var xCe=Symbol.for("#markdown"),FBo={},HBo=Symbol(),vCe=class vCe{set md(e){if(this[xCe]!=e&&(this[xCe]=e,!0)){let t=FBo[e]||=IJ(Rke(e));this.innerHTML=t;for(let r=0,o=B(this.children),n=o.length;r<n;r++){let i=o[r];p(i,HTMLAnchorElement)&&(i.target="_blank")}}}get md(){return this[xCe]}};E(vCe,HBo,"Element",1,Element);var sIt=vCe;T();oe();We(),ge();var SCe,BBo=Symbol.for("#opanim"),PS=Symbol.for("#active"),UN=Symbol.for("#size"),lIt=Symbol.for("#anchor"),aIt=Symbol.for("#offset"),wCe=Symbol.for("#parent"),PIt=Symbol.for("#contour"),uIt=Symbol.for("##busy"),cIt=Symbol.for("#busy"),hIt=Symbol.for("#busyloop"),pIt=Symbol.for("#w1"),dIt=Symbol.for("#h1"),VBo=Symbol.for("#beforeReconcile"),TIt=Symbol.for("##up"),zBo=Symbol.for("#appendChild"),qBo=Symbol.for("#placeChild"),WBo=Symbol.for("#afterReconcile"),ZBo=Symbol.for("##register"),GBo=Symbol.for("#afterVisit"),fIt=Symbol.for("#context"),mIt=Symbol(),$It=Symbol(),yIt=Symbol(),bIt=Symbol(),gIt=Symbol(),kIt=Symbol(),_It=Symbol(),xIt=Symbol(),vIt=Symbol();try{SCe=new ResizeObserver(function(l){for(let e=0,t=B(l),r=t.length;e<r;e++){let o=t[e];o.target.resized(o)}return!0})}catch{}function ECe(l,e,t,r,o,n){let i=l/2,s=e/2,a,u,c=o-t,h=n-r;if(c==0&&h==0)return{x:t,y:r};let d=s/i,f=Math.abs(h/c),m=Math.sign(c),$=Math.sign(h);return f>d?(a=t+s/f*m,u=r+s*$):(a=t+i*m,u=r+i*f*$),{x:a,y:u}}globalThis.lineIntersectionOnRect=ECe;function YBo(l,e,t){let r=l.opbox(),o=ECe(r.width,r.height,r.xy.x,r.xy.y,e,t),n=o.x-r.width*.5,i=o.x-r.width*.5;return o}globalThis.lineRect=YBo;function XBo(l,e){p(e,PointerEvent)?e={x:e.x,y:e.y}:p(e,Event)&&(e=e.target),p(e,Element)&&(e=e.opbox()),p(e,DOMRect)&&(e=e.xy),e||(e={x:0,y:0});let{x:t,y:r}=ECe(l.width,l.height,l.xy.x,l.xy.y,e.x,e.y);t-=l.left,r-=l.top;let o=l.width,n=l.height,i=Math.abs(r),s=Math.abs(t),a=Math.abs(o-t),u=Math.abs(n-r),c=o*2+n*2;return s<i&&s<u?(c-r)/c:a<i&&a<u?(o+r)/c:i<u?t/c:(c-n-t)/c}var KBo=Symbol(),jCe=class jCe{get opanim(){return this[BBo]||=new CCe(this)}};E(jCe,KBo,"SVGGraphicsElement",1,SVGGraphicsElement);var wIt=jCe,SIt=Symbol(),PN=class PN{[A](e=null,t=!0,r=!0){var o;this.anchor=e&&(o=e.anchor)!==void 0?o:.45,this.offset=e&&(o=e.offset)!==void 0?o:0,this.size=e&&(o=e.size)!==void 0?o:0,this.lap=e&&(o=e.lap)!==void 0?o:0,this.springs=e&&(o=e.springs)!==void 0?o:{offset:oR(0,{stiffness:.1,damping:1}),size:oR(0,{stiffness:.15,damping:1}),anchor:oR(0,{stiffness:.1,damping:1}),lap:oR(0,{stiffness:.04,damping:1})}}constructor(e,t={}){this[A](t),this.node=e,e.controller=this,re(this,SIt)}toPathOffset(){return!0}get fw(){return window.getComputedStyle(this.node).fontWeight}get name(){return this.node.dataset.name}async reflow(e){let t=window.getComputedStyle(this.node),o=parseInt(t.fontWeight)==1;if(this[PS]!=o&&(this[PS]=o,!0)){let{focusin:n,focusout:i,pointermove:s,keydown:a}=OP.ui.last,u=s||n;if(await Utils.sleep(5),o!=this[PS])return;o&&(i==null?void 0:i.timeStamp)>=(u==null?void 0:u.timeStamp)?u=i:!o&&(n==null?void 0:n.timeStamp)>=(u==null?void 0:u.timeStamp)&&(u=n);let c=this.node.opbox(),h=XBo(c,u),d=this[PS]?100:0;return this.set({anchor:.5,offset:h*100,size:d})}}update(){var e,t,r;let o=this[UN]||0;if(this[lIt]!=(e=this.anchor)&&(this[lIt]=e,!0)&&this.springs.anchor.set(this.anchor,{hard:o<1||o>90}),this[UN]!=(t=this.size)&&(this[UN]=t,!0)&&(this.name=="hover"?this.size>o?(this.springs.size.stiffness=.25,this.springs.size.set(this.size)):(this.springs.size.stiffness=.15,this.springs.size.set(this.size)):this.springs.size.set(this.size)),this[aIt]!=(r=this.offset)&&(this[aIt]=r,!0)){let n=this.springs.size.value;this.springs.offset.set(this.offset,{hard:n<1||n>90})}return this.render()}reset(){return this[UN]>0&&this[PS]!=null&&(this.springs.size.set(this[UN]=0,{hard:!0}),this[PS]=!1),this}set(e){for(let t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this[n]=i;return this.update()}lapse(){let e=this.lap-this.springs.lap.value;return globalThis.document.visibilityState=="visible"&&this.springs.lap.set(++this.lap),!0}render(){if(this.name=="zone")return;let e=this.springs.size.value,t=-this.springs.offset.value,r=this.springs.anchor.value,o=this.springs.lap.value,n=e;return this.circle&&(t+=25),e=Math.max(e,Math.abs(Math.cos((o-.5)*Math.PI))*20),this.node.style.setProperty("--o",""+Math.min(e,5).lerp(0,5)),this.node.style.strokeDashoffset=r*e+t-o*100,this.node.style.strokeDasharray=""+e+","+(100-e),this.node.classList.toggle("on",this.size>10)}changed(){return this.render()}get circle(){return this.node.nodeName=="circle"}};PN.prototype[Le]=De,se([kf.bind([{silent:!0}])],PN.prototype,"changed",null),E(PN,SIt,"Path",272);var CCe=PN;var JBo=Symbol(),voe=class voe extends de{get $svg(){let e=Ir("svg",null,`${this._ns_||""} $svg`,null);return Object.defineProperty(this,"$svg",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.m=e&&(o=e.m)!==void 0?o:8,this.width=e&&(o=e.width)!==void 0?o:0,this.height=e&&(o=e.height)!==void 0?o:0,this.options=e?e.options:void 0,this.els=e&&(o=e.els)!==void 0?o:{}}setup(){if(this[wCe]&&(this[wCe][PIt]=this),this.target)return this.target.appendChild(this)}pointer(e){return!0}awaken(){if(this.options)for(let e=this.options,t=0,r=Object.keys(e),o=r.length,n,i;t<o;t++)n=r[t],i=e[n],this.flags.add(n);return this.autosized=this.width>0}mount(){var e=this;return this.target||=this[wCe],this.autosized||SCe.observe(this),vu.add(function(){return e.delayedsetup()})}delayedsetup(){return this.width||=this.opwidth,this.height||=this.opheight,this.render(),this.opwidth,this.flags.add("mounted"),!0}unmount(){var e;SCe.unobserve(this),e=[];for(let t=this.els,r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],e.push(s.opanim.reset());return e}glimmer(){var e,t;return(t=(e=this.main)==null?void 0:e.lapse)==null?void 0:t.call(e)}el(e,t){if(!this.els[e]){let r=this.circle?"circle":"rect",o=this.els[e]=globalThis.document.createElementNS("http://www.w3.org/2000/svg",r);o.classList.add("o"+e),o.classList.add(r),e!="zone"&&o.setAttribute("pathLength","100"),o.dataset.name=e,this.circle||(o.setAttribute("rx","2"),o.setAttribute("ry","2")),this.$svg.appendChild(o)}return this.els[e].opanim}get main(){return this.el("press")}get ring(){return this.el("ring")}get progress(){return this.el("press")}refresh(e){var t,r;p(e,TransitionEvent)&&e.propertyName=="font-weight"&&(e.target==this.progress.node?this.refreshbusy():(r=(t=e.target.opanim)==null?void 0:t.reflow)==null||r.call(t,e))}refreshbusy(){var r,o;var e=this;let t=this[uIt]||((o=(r=this.parentElement)==null?void 0:r.matches)==null?void 0:o.call(r,".busy"));if(this[cIt]!=t&&(this[cIt]=t,!0)&&(clearInterval(this[hIt]),t))return this.main.lapse(),this[hIt]=setInterval(function(){return e.main.lapse()},1*1e3)}set busy(e){this[uIt]=e,this.refreshbusy()}get render(){return!1}resized(e){if(e.contentRect.width!=0)return this.flags.incr("resizing",100),this.width=e.contentRect.width,this.height=e.contentRect.height,this.render(e)}render(e){var t=this,r,o,n,i,s,a,u,c=this._ns_||"",h;let d=this.m,f=this.width,m=this.height;if(!(f==0||m==0)&&(this[pIt]!=f&&(this[pIt]=f,!0)||this[dIt]!=m&&(this[dIt]=m,!0)))return this.op.vars({"1elh":m+"px","1elw":f+"px"}),r=this,r[VBo](),o=n=1,r[mIt]===1||(o=n=0,r[mIt]=1),o||r.on$("transitionend",{silent:!0,stop:!0,$_:[function($,b){return t.refresh($)}]},this),s=a=1,(i=r[$It])||(s=a=0,r[$It]=(i=this.$svg,i[TIt]=r,i)),u="0 0 "+(f+d*2)+" "+(m+d*2),u===r[yIt]||i.set$("viewBox",r[yIt]=u),u=f+d*2,u===r[bIt]||i.set$("width",r[bIt]=u),u=m+d*2,u===r[gIt]||i.set$("height",r[gIt]=u),s||r[zBo](i),h=r.__slots.__,r[kIt]=r[qBo](h,256,r[kIt]),r[WBo](n),this.el("zone"),this.el("hover"),this.el("ring"),this.el("press")}};E(voe,JBo,"op-contour",2),pe("op-contour",voe,{cssns:"mu_af",cssid:"mu-af"});var CIt=voe,QBo=Symbol(),ACe=class ACe{set contour(e){if(!e){this.removeAttribute("opcontour");return}let t=this.contour__,r="";t&&(r=Object.keys(t).join(" ")),this.setAttribute("opcontour",r)}get contour(){var i;var e,t={},r,o,n;return this[PIt]||=this.$contour||(r=o=0,e=e=R("op-contour",null,null,null),r||(e[TIt]=t._),r||((i=e[ZBo])==null||i.call(e,t,_It)),n=this.contour__,n===e[xIt]||(e.options=e[xIt]=n),n=this,n===e[vIt]||(e.target=e[vIt]=n),r||t.sym||!e.setup||e.setup(o,t,_It),t.sym||e[GBo](o),e)}glimmer(){return this.contour.main.lapse()}};E(ACe,QBo,"Element",1,Element);var EIt=ACe,eVo=Symbol(),UCe=class UCe{get contour(){return this.parentNode.contour}};E(UCe,eVo,"HTMLInputElement",1,HTMLInputElement);var jIt=UCe,tVo=Symbol(),PCe=class PCe{contour(){return this[fIt].element.contour.pointer(this)}glimmer(){return this[fIt].element.glimmer()}};E(PCe,tVo,"Event",1,Event);var AIt=PCe,rVo=Symbol(),woe=class woe extends Ve("op-contour","OpContourComponent",de){get circle(){return!0}};E(woe,rVo,"op-contour-circle",2),pe("op-contour-circle",woe,{});var UIt=woe;T();oe();T();oe();an(),ge(),$i();var oVo=Symbol.for("#beforeReconcile"),nVo=Symbol.for("#placeChild"),iVo=Symbol.for("#afterVisit"),sVo=Symbol.for("#appendChild"),lVo=Symbol.for("#afterReconcile"),OIt=Symbol(),RIt=Symbol(),MIt=Symbol(),aVo=Symbol(),Soe=class Soe extends de{[A](e=null,t=!0,r=!0){super[A](...arguments),this.anchor=e?e.anchor:void 0,this.originalfocus=e?e.originalfocus:void 0}setup(){var e=this;return yl(this,"mount",function(){return e.originalfocus??=globalThis.document.activeElement})}reposition(){var r,o;if(!this.anchor)return;let e={x:0,y:0,w:0,h:0},t=this;return p(this.anchor,MouseEvent)?e=new DOMRect(this.anchor.x,this.anchor.y,1,1):p(this.anchor,Event)?e=this.anchor.target.opbox():p(this.anchor,Element)?e=this.anchor.opbox():typeof((r=this.anchor)==null?void 0:r.x)=="number"&&typeof((o=this.anchor)==null?void 0:o.y)=="number"&&(e.x=this.anchor.x,e.y=this.anchor.y,e.w=e.h=1),this.op.units(e,"anchor"),this.op.units({elwidth:t.offsetWidth+"px",elheight:t.offsetHeight+"px"})}transitionout(){if(this.emit("leaving"),this.contains(globalThis.document.activeElement)&&globalThis.document.contains(this.originalfocus))return this.originalfocus.opfocus()}close(){if(this.mounted)return Jn(this)}mount(){return this.emit("entering"),this.reposition()}scrolled(){return this.reposition()}unmount(){return this}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c;return t=this,t[oVo](),r=o=1,t[OIt]===1||(r=o=0,t[OIt]=1),r||(t.ease="ease"),i=t.__slots.__,t[RIt]=t[nVo](i,128,t[RIt]),a=u=1,(s=t[MIt])||(a=u=0,t[MIt]=s=R("i-global",t,`${n}`,null)),a||s.on$("scroll",{silent:!0,$_:[function(h,d){return e.scrolled(h)}]},this),a||!s.setup||s.setup(u,c),s[iVo](u),a||t[sVo](s),t[lVo](o),t}};E(Soe,aVo,"op-anchored",2),pe("op-anchored",Soe,{cssid:"pu-af"});var LIt=Soe;ge(),Igt(),wu(),an(),$e();var DIt=Symbol(),NIt=Symbol(),IIt=Symbol(),FIt=Symbol(),HIt=Symbol(),BIt=Symbol(),VIt=Symbol();var TCe=Symbol();var OCe=Symbol(),zIt=Symbol(),qIt=Symbol(),uVo=Symbol(),cVo=Symbol(),WIt=Symbol(),ZIt=Symbol(),GIt=Symbol(),YIt=Symbol(),Coe=Symbol(),XIt=Symbol(),KIt=Symbol(),JIt=Symbol(),QIt=Symbol(),Eoe=Symbol(),eFt=Symbol(),tFt=Symbol(),rFt=Symbol(),oFt=Symbol(),nFt=Symbol(),iFt=Symbol(),sFt=Symbol(),lFt=Symbol(),aFt=Symbol(),joe=Symbol(),uFt=Symbol(),cFt=Symbol(),hFt=Symbol(),Of=Symbol.for("##up"),Aoe=Symbol.for("##register"),ix=Symbol.for("#afterVisit"),bFt=Symbol.for("#beforeReconcile"),Uoe=Symbol.for("#appendChild"),gFt=Symbol.for("#afterReconcile"),kFt=Symbol.for("#getRenderContext"),_Ft=Symbol.for("#isRichElement"),nx=Symbol.for("#placeChild"),pFt=Symbol.for("#getSlot"),dFt=Symbol.for("#visit"),ox=Symbol.for("#optip"),hVo=Symbol.for("#_easer_"),pVo=Symbol.for("#insertInto"),dVo=Symbol.for("#hover"),fVo=Symbol.for("#click");no.addSelectors([".mm-ak"],"transition");var Mh=null,fFt=Symbol(),MCe=class MCe{[A](e=null,t=!0,r=!0){var o;this.card=e&&(o=e.card)!==void 0?o:!1,this.above=e&&(o=e.above)!==void 0?o:!1,this.right=e&&(o=e.right)!==void 0?o:!1,this.sm=e&&(o=e.sm)!==void 0?o:!1,this.lg=e&&(o=e.lg)!==void 0?o:!1,this.fast=e&&(o=e.fast)!==void 0?o:!1}log(...e){return console.log("%c tip","color:#e8ff4c",...e)}constructor(e,t,r){this[A](r||{}),this.mods=Object.keys(r||[]).join(" "),this.owner=e,this.value=t=="op-tip"?void 0:t,re(this,fFt)}get node(){return this.owner.node}show(){var s;var e,t={},r,o,n;let i=this.value;return p(i,Element)&&(i=i.ariaLabel||i.ariaDescription||i.data),i&&typeof i!="string"&&(i=i.astip??i.tooltip),Mh||=Bt((r=o=0,e=e=R("op-tip",null,null,null),r||(e[Of]=t._),r||((s=e[Aoe])==null||s.call(e,t,DIt)),i===e[NIt]||(e.data=e[NIt]=i),n=this.node,n===e[IIt]||(e.anchor=e[IIt]=n),r||t.sym||!e.setup||e.setup(o,t,DIt),t.sym||e[ix](o),e)),Mh.owner=this,Mh.data=i,Mh.anchor=this.node,Mh.render()}hide(){return this.log("hide"),(Mh==null?void 0:Mh.owner)==this&&(Mh.hide(),Mh=null),this.view&&this.view.hide(),this.view=null,this}};E(MCe,fFt,"Tip",16);var RCe=MCe,mVo=Symbol(),Poe=class Poe extends de{get $mask(){let e=w("div",null,`mm-ai ${this._ns_||""} $mask`,null);return Object.defineProperty(this,"$mask",{value:e}),e}get $children(){let e=w("div",null,`mm-aj ${this._ns_||""} $children`,null);return Object.defineProperty(this,"$children",{value:e}),e}[A](e=null,t=!0,r=!0){super[A](...arguments),this.target=e?e.target:void 0}show(e){let t=this.target;if(Bt(this.target=e,this.$children),this.reposition(),t&&t!=e)return this.hide(t)}hide(e){return this.log("unmount tip",e),Jn(e),this.target==e&&(this.target=null),this.reposition()}mutated(){return console.log("mutated",this.$children.children)}reposition(){let e=window.getComputedStyle(this.$mask);if(parseFloat(e.opacity)<.1&&this.flags.incr("instant",20),this.target){this.target.reposition();let t=this.target.op.offset;return this.op.units(t,"clip"),this.flags.add("active")}else return this.flags.remove("active")}render(){var e=this,t,r,o,n,i,s,a;return t=this,t[bFt](),r=o=1,t[FIt]===1||(r=o=0,t[FIt]=1),r||t.on$("refresh",{$_:[function(u,c){return e.reposition(u)}]},this),r||t.on$("hide",{$_:[function(u,c){return e.hide(u.target)}]},this),(n=t[HIt])||(t[HIt]=(n=this.$mask,n[Of]=t,n)),s=a=1,(i=t[BIt])||(s=a=0,t[BIt]=(i=this.$children,i[Of]=n,i)),s||i.on$("mutate",{$_:[function(u,c){return e.mutated(u)}]},this),s||n[Uoe](i),r||t[Uoe](n),t[gFt](o),t}update(){return this}};E(Poe,mVo,"op-tips",2),pe("op-tips",Poe,{cssid:"mm-ag"});var mFt=Poe,$Vo=Symbol(),Toe=class Toe extends Ve("op-anchored","OpAnchoredComponent",de){get $body(){let e=w("div",null,`mm-an ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.owner=e?e.owner:void 0}hide(){if(this.parentNode&&(Jn(this),Mh==this))return Mh=null}render(){var v,C;var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_;if(this.fx.memo(this.data,this.anchor)&&this.rendered&&this.mounted){this.fx.morph(function(){return e.render(),e.reposition()},{in:this,duration:250});return}let S=this.data;return p(S,Element)&&(S=S.data),r=this,r[bFt](),o=n=1,r[VIt]===1||(o=n=0,r[VIt]=1),o||r.on$("resize",{emit:["refresh"]},this),o||(r.ease="ease"),i=((v=this.owner)==null?void 0:v.right)||void 0,i===r[TCe]||(n|=2,r[TCe]=i),i=(C=this.owner)==null?void 0:C.mods,i===r[OCe]||(n|=2,r[OCe]=i),(!o||n&2)&&r.flagSelf$("mm-al "+(r[TCe]?"right":"")+" "+(r[OCe]||"")),u=c=1,(a=r[zIt])||(u=c=0,r[zIt]=a=w("div",r,`mm-am ${s}`,null)),u||a.on$("morph",{},this),d=f=1,(h=r[qIt])||(d=f=0,r[qIt]=(h=this.$body,h[Of]=a,h)),d||h.on$("morph",{text:!0},this),t=null,p(S==null?void 0:S.as_tip,Function)?(m=h[kFt](cVo),$=b=1,(t=m.run(S.as_tip(this.owner)))||($=b=0,m.cache(t=M(m.value,null,`${s}`,null))),$||(t[Of]=h),t[_Ft]&&((!$||b&2)&&t.flags.reconcile(uVo,`${s}`),$||!t.setup||t.setup(b,m),t[ix](b))):(g=x=1,(t=h[WIt])||(g=x=0,h[WIt]=t=w("div",null,`mm-ap ${s}`,null)),g||(t[Of]=h),k=S,k===t[GIt]&&g||(t[ZIt]=t[nx](t[GIt]=k,384,t[ZIt]))),h[YIt]=h[nx](t,0,h[YIt]),d||!h.setup||h.setup(f,_),h[ix](f),d||a[Uoe](h),r[gFt](n),r}};E(Toe,$Vo,"op-tip",2),pe("op-tip",Toe,{cssid:"mm-ak"});var $Ft=Toe,TN={wait:[.5*1e3],last:null,setup(){var l=this;return this.setup=function(){return!0},Xt.on("change",function(){var e;if((e=l.last)!=null&&e.node)return Jn(l.last.node)})}},yVo=Symbol(),LCe=class LCe{opownlinktip(){var m;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f;return o=n=1,(t=r[Coe])||(o=n=0,t=r[Coe]=t=R("op",null,null,null)),o||(t[Of]=r._),o||((m=t[Aoe])==null||m.call(t,r,Coe)),i=t[pFt]("__",t),a=u=1,(s=t[XIt])||(a=u=0,t[XIt]=s=R("op-image",i,"mm-ar",null)),c=this,c===t[KIt]||(s.data=t[KIt]=c),a||!s.setup||s.setup(u,h),s[ix](u),a||i[Uoe](s),e=null,!this.exists&&!this.local&&(d=f=1,(e=t[JIt])||(d=f=0,t[JIt]=e=w("p",null,null,"Image not found")),d||(e[Of]=i)),t[QIt]=i[nx](e,0,t[QIt]),o||r.sym||!t.setup||t.setup(n,r,Coe),r.sym||t[ix](n),t}opowninlineref(){var h,d,f;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[Eoe])||(r=o=0,e=t[Eoe]=e=R("op",null,null,null)),r||(e[Of]=t._),r||((h=e[Aoe])==null||h.call(e,t,Eoe)),n=e[pFt]("__",e),i=this,i===e[eFt]||(e.data=e[eFt]=i),s=e[tFt]||(e[tFt]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,o|=48),r||e.on$("optip",s,this),o&32&&(o^=32,(d=s[dFt])==null||d.call(s)),s=e[rFt]||(e[rFt]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,o|=48),r||e.on$("opmenu",s,this),o&32&&(o^=32,(f=s[dFt])==null||f.call(s)),(a=e[oFt])||(e[oFt]=a=w("span",n,null,null)),r||a[nx]("image "),(u=e[nFt])||(e[nFt]=u=w("small",a,null,null)),c=this.width,c===e[sFt]&&r||(e[iFt]=u[nx](e[sFt]=c,128,e[iFt])),r||u[nx]("x"),c=this.height,c===e[aFt]&&r||(e[lFt]=u[nx](e[aFt]=c,256,e[lFt])),r||t.sym||!e.setup||e.setup(o,t,Eoe),t.sym||e[ix](o),e}};E(LCe,yVo,"OPImage",1,OPImage);var yFt=LCe,bVo=Symbol(),TS;TS=class{set optip(e){let t=this.optip;e=="op-tip"&&(e=this),this.op.tip=new RCe(this.op,e,this.optip__),this.op.mark("tip")}on$optip(e,t,r,o){var n=this;let i=this[ox],s=TN.wait,a={};if(!i){this[ox]=r,this[ox].mods=e;let u={},c=function(f){return u.closed=!0,r.active=!1,setTimeout(function(){if(TN.last==u&&u.closed)return s[0]=.5*1e3,TN.last=null},300)},h=function(f){return r.active=!1},d=r.runner=function(f){var x,k,_;if(e.off||e.if&&!e.if[0])return;TN.setup(),TN.last=u;let m=u.node;if(r.active)return;if(r.active=!0,u.opened=Date.now(),u.closed=null,s[0]=50,m&&(x=m[hVo])!=null&&x.leaving){m[pVo](globalThis.document.body);return}let $=n[OPRenderSym]||{};$.kind||=(((k=n.opview)==null?void 0:k.kind)||"default").toimbaidentifier;let b=((_=e.options)==null?void 0:_[0])||n.data;if(e.off||!b)return;let g=OPVIEW(b,""+$.kind+"-tip",n,!1);if(g){let S={anchor:n};if(n.emit("opbeforetip",S).defaultPrevented)return;Bt(function(){var N;var j=H(),P,U=n._ns_||"",O,L,I,F;return j.this=this,P=j[kFt](joe),L=I=1,(O=P.run(g()))||(L=I=0,P.cache(O=M(P.value,null,`tip ${U}`,null))),L||(O[Of]=j._),L||((N=O[Aoe])==null||N.call(O,j,joe)),O[_Ft]&&(F=n,F===O[uFt]||(O.rel=O[uFt]=F),f===O[cFt]||(O.opener=O[cFt]=f),L||(O.popup__={tip:!0,autoblur:!0,sticky:!0}),L||(O.popup="popup"),F=S.anchor,F===O[hFt]||(O.anchored=O[hFt]=F),L||O.on$("out",{self:!0,silent:!0,$_:[function(V,W){return h(V)}]},n),L||O.on$("outend",{self:!0,silent:!0,$_:[function(V,W){return c(V)}]},n),(!L||I&2)&&O.flags.reconcile(joe,`tip ${U}`),L||j.sym||!O.setup||O.setup(I,j,joe),j.sym||O[ix](I)),O},null,u),n[ox].close=function(){return Jn(u.el)}}};r.show=d,r[dVo]=this.on$("hover",{wait:s,$_:[d]})}return i&&(a={...i.mods},Object.assign(i.mods,e)),e.clickable&&(this[ox][fVo]||=this.on$("pointerdown",{$_:[this[ox].show]})),this[ox]}},E(TS,bVo,"element",3,da("element","Element"));T();oe();T();oe();T();oe();T();oe();T();oe();ge();var xFt=Symbol.for("#matches"),PFt=Symbol.for("#beforeReconcile"),TFt=Symbol.for("#afterReconcile"),Ooe=Symbol.for("#parent"),FCe=Symbol.for("#ghost"),OFt=Symbol.for("##up"),gVo=Symbol.for("##register"),kVo=Symbol.for("#afterVisit"),DCe=Symbol.for("#scrollTop"),NCe=Symbol.for("#target"),_Vo=Symbol.for("#from"),Roe=Symbol.for("#hide"),vFt=Symbol.for("#prev"),xVo=Symbol.for("#appendChild"),ICe=Symbol(),wFt=Symbol(),SFt=Symbol(),CFt=Symbol(),EFt=Symbol(),jFt=Symbol(),vVo=Symbol(),Loe=class Loe extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.query=e&&(o=e.query)!==void 0?o:":is(.sel,.sel-focus,.\\@checked)",this[xFt]=e&&(o=e[xFt])!==void 0?o:[],this.pool=e&&(o=e.pool)!==void 0?o:[],this.disabled=e&&(o=e.disabled)!==void 0?o:!0}setup(){var e,t,r;return e=this,e[PFt](),t=r=1,e[wFt]===1||(t=r=0,e[wFt]=1),(!t||r&2)&&e.flagSelf$("px-ag"),e[TFt](r),e}mount(){return this.flags.incr("mounting",300)}set options(e){this.disabled=e===!1,typeof e=="string"&&e!="ghosted"&&(this.query=e)}redraw(){return!0}tick(){return this.refresh()}qsa(e){return this[Ooe]?this[Ooe].querySelectorAll(""+e):[]}qs(e){return this[Ooe]?this[Ooe].querySelector(""+e):null}get ghosts(){return Array.from(this.children)}resized(){return!0}reposition(){if(!this.disabled){for(let e of B(this.children))e.refresh();return!0}}refresh(){var d;var e=this._ns_||"",t,r={},o,n,i;if(this.disabled)return;let s=Array.from(this.qsa(":is([role$=item],[role=link])"+this.query));s=s.filter(function(f){let $=window.getComputedStyle(f,":before").backgroundColor;return $&&!$.match(/[,\s]0%?\)/)});let a=Array.from(s),u=a.filter(function(f){return!f[FCe]}),c=[],h=[];for(let f of B(this.children))a.has(f.target)?h.push(f):c.push(f);for(let f of B(u)){c.size||this.appendChild(c.add((o=n=0,t=t=R("op-ghost",null,`${e}`,null),o||(t[OFt]=r._),o||((d=t[gVo])==null||d.call(t,r,SFt)),i=this,i===t[CFt]||(t.list=t[CFt]=i),o||r.sym||!t.setup||t.setup(n,r,SFt),r.sym||t[kVo](n),t)));let m=c.pop();m.target=f}for(let f=0,m=B(c),$=m.length;f<$;f++){let b=m[f];b.target=null}for(let f=0,m=B(this.children),$=m.length;f<$;f++)m[f].refresh()}};E(Loe,vVo,"op-ghosts",2),pe("op-ghosts",Loe,{cssid:"px-af"});var AFt=Loe,Moe={background:!0,opacity:!0,margin:!0,borderRadius:!0,boxShadow:!0},wVo=Symbol(),Doe=class Doe extends de{get $body(){let e=w("div",null,`${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.list=e?e.list:void 0,this.pseudo=e&&(o=e.pseudo)!==void 0?o:":before",this.active=e&&(o=e.active)!==void 0?o:!0}redraw(){return this.refresh()}mount(){var e;return this[DCe]=((e=this.offsetParent)==null?void 0:e.scrollTop)||0}set target(e){let t=this.target;this[NCe]!=e&&(this[NCe]=e,!0)&&(this.merging=null,this[_Vo]||=t,t&&(t[FCe]=null),e&&(e[FCe]=this),this.flags.toggle("active",!!e))}get target(){return this[NCe]}check(){if(this.parentNode&&this.op.style.opacity=="0"&&!this.target)return this.parentNode.removeChild(this)}connect(e){let t=this.target;if(this.target=e,this.flags.toggle("active",!!e),e)return this.refresh()}clear(){for(let e=0,t=Object.keys(Moe),r=t.length,o,n;e<r;e++)o=t[e],n=Moe[o],this.$body.style.removeProperty(o);return this}merge(e){return this.merging=e,this.op.vars(OP.clone(e.rect)),this.style.opacity=0,this.flags.add("merging")}refresh(e){var t=gt(this),r;if(this[Roe]!=(r=!this.target)&&(this[Roe]=r,!0)&&this.flags.toggle("out",this[Roe]),this[Roe])return;let o=this.offsetParent;if(!o)return;let n=o.scrollTop,i=n-this[DCe];t[ICe]??={},this[DCe]=n;let s=this[vFt],a=this.target||this[vFt],u=a;for(this.rect={left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight};a.offsetParent!=o&&o.contains(a);)a=a.offsetParent,this.rect.left+=a.offsetLeft,this.rect.top+=a.offsetTop;if(this.target||(this.rect.top+=this.rect.height,this.rect.height=0),u){let c=window.getComputedStyle(u,this.pseudo);for(let h=0,d=Object.keys(Moe),f=d.length,m,$;h<f;h++){m=d[h],$=Moe[m];let b=c[m];t[ICe][m]!=b&&(t[ICe][m]=b,!0)&&(m=="opacity"&&(b=b||"0"),this.$body.style[m]=b)}}return i&&(this.flags.incr("instant",200),this.offsetWidth),this.op.vars(this.rect)}transitionend(e){return!0}render(){var e=this,t,r,o,n;return t=this,t[PFt](),r=o=1,t[EFt]===1||(r=o=0,t[EFt]=1),r||t.on$("transitionend",{silent:!0,$_:[function(i,s){return e.check(i)}]},this),(!r||o&2)&&t.flagSelf$("px-aj"),(n=t[jFt])||(t[jFt]=(n=this.$body,n[OFt]=t,n)),r||t[xVo](n),t[TFt](o),t}};E(Doe,wVo,"op-ghost",2),pe("op-ghost",Doe,{cssns:"px_ai",cssid:"px-ai"});var UFt=Doe;var RFt=Symbol.for("#focin"),HCe=Symbol.for("##up"),SVo=Symbol.for("##register"),CVo=Symbol.for("#beforeReconcile"),EVo=Symbol.for("#afterVisit"),MFt=Symbol.for("#placeChild"),jVo=Symbol.for("#afterReconcile"),BCe=Symbol(),LFt=Symbol();var VCe=Symbol(),DFt=Symbol(),NFt=Symbol(),IFt=Symbol(),AVo=Symbol(),Noe=class Noe extends Ve("op","OpComponent",de){get $ghosts(){let e=R("op-ghosts",null,`${this._ns_||""} $ghosts`,null);return Object.defineProperty(this,"$ghosts",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.multiple=e&&(o=e.multiple)!==void 0?o:!1,this.autoselect=e&&(o=e.autoselect)!==void 0?o:!1,this.autofocus=e&&(o=e.autofocus)!==void 0?o:!1,this.ghosted=e&&(o=e.ghosted)!==void 0?o:!0}setup(){return this.setAttribute("op-items","")}navigate(e=0,t=0){var o,n;let r;if(r=this._focin){let i=r.op.nav(e,t);return(n=(o=i==null?void 0:i.op)==null?void 0:o.focus)==null?void 0:n.call(o)}}set _focin(e){let t=this._focin;this[RFt]=e}get _focin(){return this[RFt]}sync(){if(this.ghosted)return this.$ghosts.refresh()}body(){var i;var e=this._ns_||"",t,r=H(),o,n;return o=n=1,(t=r[BCe])||(o=n=0,t=r[BCe]=t=w("div",null,`${e}`,null)),o||(t[HCe]=r._),o||((i=t[SVo])==null||i.call(t,r,BCe)),t}render(){var e,t,r,o,n,i,s,a,u=this._ns_||"",c;return t=this,t[CVo](),r=o=1,t[LFt]===1||(r=o=0,t[LFt]=1),n=this.ghosted||void 0,n===t[VCe]||(o|=2,t[VCe]=n),(!r||o&2)&&t.flagSelf$(t[VCe]?"ghosted":""),e=null,this.ghosted&&(i=s=1,(e=t[DFt])||(i=s=0,t[DFt]=(e=this.$ghosts,e[HCe]=null,e)),i||(e[HCe]=t),i||!e.setup||e.setup(s,a),e[EVo](s)),t[NFt]=t[MFt](e,0,t[NFt]),c=t.__slots.__,t[IFt]=t[MFt](c,256,t[IFt]),t[jVo](o),t}};E(Noe,AVo,"op-items",2),pe("op-items",Noe,{cssid:"nq-af"});var FFt=Noe;function RN(l,e){return l[l.length+e]}We(),ge(),Bl(),En(),aw(),wo(),wu(),un(),Hl(),$e();var zCe=Symbol("head"),HFt=Symbol(),qCe=Symbol("anchor"),BFt=Symbol(),WCe=Symbol("focus"),VFt=Symbol(),ZCe=Symbol(),UVo=le("&.data",globalThis,l=>l.data),OS,RS,MS,Ioe=Symbol(),zFt=Symbol(),Foe=Symbol(),qFt=Symbol(),PVo=Symbol(),TVo=Symbol(),OVo=Symbol(),WFt=Symbol();var GCe=Symbol();var YCe=Symbol();var XCe=Symbol();var KCe=Symbol(),ZFt=Symbol(),GFt=Symbol(),YFt=Symbol(),XFt=Symbol(),KFt=Symbol(),JFt=Symbol(),QFt=Symbol(),eHt=Symbol(),tHt=Symbol(),rHt=Symbol(),oHt=Symbol(),nHt=Symbol(),iHt=Symbol(),sHt=Symbol(),lHt=Symbol(),aHt=Symbol(),LS=Symbol(),RVo=Symbol();var uHt=Symbol(),cHt=Symbol(),hHt=Symbol();var JCe=Symbol(),pHt=Symbol(),dHt=Symbol(),fHt=Symbol(),mHt=Symbol(),$Ht=Symbol(),yHt=Symbol(),Hoe=Symbol(),bHt=Symbol(),gHt=Symbol(),kHt=Symbol(),_Ht=Symbol(),xHt=Symbol(),vHt=Symbol(),wHt=Symbol(),SHt=Symbol(),MVo=Symbol(),LVo=Symbol(),DVo=Symbol(),Boe=Symbol(),CHt=Symbol(),NVo=Symbol(),IVo=Symbol(),FVo=Symbol(),EHt=Symbol.for("#owner"),jHt=Symbol.for("#parent"),HVo=Symbol.for("#nodes"),nEe=Symbol.for("#synced"),Voe=Symbol.for("#synced-single"),BVo=Symbol.for("##value"),AHt=Symbol.for("#items"),UHt=Symbol.for("#lsq"),PHt=Symbol.for("##data"),VVo=Symbol.for("#field"),QCe=Symbol.for("#shift"),ON=Symbol.for("#meta"),Goe=Symbol.for("#getDynamicContext"),zs=Symbol.for("##up"),Yoe=Symbol.for("##register"),MN=Symbol.for("#isRichElement"),Bn=Symbol.for("#afterVisit"),iEe=Symbol.for("#getSlot"),Xoe=Symbol.for("#getRenderContext"),THt=Symbol.for("#starting"),eEe=Symbol.for("#focused"),OHt=Symbol.for("#clickable"),zoe=Symbol.for("#anchor"),qoe=Symbol.for("#checked"),tEe=Symbol.for("#only"),rEe=Symbol.for("#maydrag"),zVo=Symbol.for("#opdrag"),RHt=Symbol.for("#starter"),Woe=Symbol.for("#started"),MHt=Symbol.for("#initialsel"),LHt=Symbol.for("#timeout"),DHt=Symbol.for("#el"),qVo=Symbol.for("#dragstart"),NHt=Symbol.for("#select-on-hover"),Zoe=Symbol.for("#last-over-event"),IHt=Symbol.for("#over-item"),GHt=Symbol.for("#beforeReconcile"),LN=Symbol.for("#placeChild"),IS=Symbol.for("#appendChild"),WVo=Symbol.for("#insertInto"),ZVo=Symbol.for("#replaceWith"),YHt=Symbol.for("#afterReconcile"),GVo=function(l){if(l)return p(l,OPRefPropValue)&&l.value&&(l=l.value),l.aslabel},YVo=Symbol(),DS=class DS extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.flag=e&&(o=e.flag)!==void 0?o:"",this.single=e?e.single:void 0,this.multi=e?e.multi:void 0,this.changeevent=e?e.changeevent:void 0,this.addevent=e?e.addevent:void 0,this.removeevent=e?e.removeevent:void 0}get owner(){return this[EHt]||this[jHt]}set owner(e){this[EHt]=e}get nodes(){return this[HVo]||=[]}lost(e){return!0}set nodes(e){let t=this.nodes,r=[],o=[];for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n];p(a,Element)||(a=e[n]=this.viewfor(a))}for(let n=0,i=B(t.slice(0)),s=i.length;n<s;n++){let a=i[n];e.has(a)||(r.push(a),this.delete(a))}for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n];t.has(a)||(o.push(a),this.add(a))}(o.size||r.size)&&this.autosync()}autosync(){return vu.add(this),vu.add(this.owner.$ghosts),!0}viewfor(e){return this.owner.viewfor(e)}datafor(e){return p(e,Element)?e.data:e}rebase(){let e=this.owner[this.single],t=e&&this.viewfor(e);if(t&&!this.has(t))return this.add(t)}tick(){return this.sync()}sync(){var i,s;let e,t=this[nEe]||[],r=this.values,o=[],n=[];for(let a=0,u=B(t),c=u.length;a<c;a++){let h=u[a];r.has(h)||n.push(h)}for(let a=0,u=B(r),c=u.length;a<c;a++){let h=u[a];t.has(h)||o.push(h)}if(this[nEe]=r,this.multi&&(e=this.owner[this.multi])){for(let a=0,u=B(n),c=u.length;a<c;a++){let h=u[a];e.delete(h)}for(let a=0,u=B(o),c=u.length;a<c;a++){let h=u[a];e.add(h)}}if(this.single&&(this.owner[this.single]=r.at(0)),o.size||n.size){if(this.addevent)for(let a=0,u=B(o),c=u.length;a<c;a++){let h=u[a],d=this.viewfor(h);(i=d==null?void 0:d.emit)==null||i.call(d,this.addevent,h)}if(this.removeevent)for(let a=0,u=B(n),c=u.length;a<c;a++){let h=u[a],d=this.viewfor(h);(s=d==null?void 0:d.emit)==null||s.call(d,this.removeevent,h)}this.changeevent&&this.owner.emit(this.changeevent,{added:o,removed:n})}return!0}get values(){return this.nodes.map(UVo)}get any(){return this.nodes.size>0}get many(){return this.nodes.size>1}emit(...e){return this[jHt].emit(...e)}add(...e){let t=!1;for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r];i&&(this.nodes.add(i),yl(i,"unmount",this.lost),this.flag&&i.flags.add(this.flag),this.added(i))}return this.autosync(),this}deleted(e){return!0}added(e){return!0}delete(...e){for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];n&&(this.nodes.delete(n),n&&pa(n,"unmount",this.lost),this.flag&&n.flags.remove(this.flag),this.deleted(n))}return this.autosync(),this}toggle(e){return this.has(e)?this.delete(e):this.add(e)}has(e){return this.nodes.has(e)}set(e){return this.nodes=[e],this}clear(){let e;for(;this.nodes.length;)(e=this.nodes.pop())&&(pa(e,"unmount",this.lost),this.flag&&e.flags.remove(this.flag));return this.autosync(),this}split(e){let t=[],r=[];for(let o=0,n=B(this),i=n.length;o<i;o++){let s=n[o];(e(s)?t:r).push(s)}return[t,r]}filter(e){return this.nodes.filter(e)}toIterable(){return this.nodes}};DS.prototype[Le]=De,se([Fl.bind([])],DS.prototype,"lost",null),E(DS,YVo,"op-ui-mirrored",258),pe("op-ui-mirrored",DS,{cssid:"nx-af"});var FHt=DS,XVo=Symbol(),Koe=class Koe extends Ve("op-ui-mirrored","OpUiMirroredComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.flag=e&&(o=e.flag)!==void 0?o:"@checked",this.multi=e&&(o=e.multi)!==void 0?o:"values",this.single=e&&(o=e.single)!==void 0?o:"value",this.changeevent=e&&(o=e.changeevent)!==void 0?o:"change"}mount(){return this.rebase()}rebase(){let e=this.owner[this.multi],t=this.owner[this.single],r=this[Voe];if(this[Voe]!=t&&(this[Voe]=t,!0)){let o=t&&this.viewfor(t);if(t&&!o){this[Voe]=null;return}this.nodes=o?[o]:[]}if(e){let o=[],n=[];for(let i=0,s=B(e),a=s.length;i<a;i++){let u=s[i],c=u&&this.viewfor(u);n.push(u),c&&o.push(c)}if(o.size==e.size)return this[nEe]=n,this.nodes=o}}render(){return this.rebase()}};E(Koe,XVo,"op-ui-values",2),pe("op-ui-values",Koe,{});var HHt=Koe,KVo=Symbol(),mm=class mm extends Ve("op-ui-mirrored","OpUiMirroredComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.flag=e&&(o=e.flag)!==void 0?o:"sel",this.multi=e&&(o=e.multi)!==void 0?o:"selections",this.single=e&&(o=e.single)!==void 0?o:"selection",this.changeevent=e&&(o=e.changeevent)!==void 0?o:"selections",this.addevent=e&&(o=e.addevent)!==void 0?o:"selected",this.removeevent=e&&(o=e.removeevent)!==void 0?o:"deselected"}set head(e){this.head.$set(e,this,zCe,"head")}get head(){return this.head.$get(this,zCe,"head")}get head(){return this[HFt]||y((OS=this.dom(),p(OS.flag,Function)?OS.flag("sel-head"):OS.flag="sel-head",OS.callback=function(e){var t;return e&&(this.focus=e),(t=e==null?void 0:e.opreveal)==null||t.call(e),this.autosync()},OS),this,zCe,"head",HFt,mm.prototype)}set anchor(e){this.anchor.$set(e,this,qCe,"anchor")}get anchor(){return this.anchor.$get(this,qCe,"anchor")}get anchor(){return this[BFt]||y((RS=this.dom(),p(RS.flag,Function)?RS.flag("sel-anchor"):RS.flag="sel-anchor",RS.callback=function(){return this.autosync()},RS),this,qCe,"anchor",BFt,mm.prototype)}set focus(e){this.focus.$set(e,this,WCe,"focus")}get focus(){return this.focus.$get(this,WCe,"focus")}get focus(){return this[VFt]||y((MS=this.dom(),p(MS.flag,Function)?MS.flag("sel-focus"):MS.flag="sel-focus",MS.callback=function(){return this.autosync()},MS),this,WCe,"focus",VFt,mm.prototype)}lost(e){if(!this.owner.contains(e)&&(this.head==e&&(this.head=null),this.anchor==e&&(this.anchor=null),this.focus==e&&(this.focus=null),this.has(e)))return this.delete(e)}clear(){return super.clear(...arguments),this.head=this.anchor=this.focus=null}set(e){return globalThis.sl=this,this.nodes=[e],this.head=this.anchor=this.focus=e,this}deleted(e){return e.$sel==this&&(e.$sel=null),!0}added(e){return e.$sel=this,!0}refresh(){return!0}mount(){return this.rebase()}rebase(){let e=this.owner[this.single],t=e&&this.viewfor(e);if(t&&!this.has(t))return this.add(t)}sync(){return this.head&&!this.has(this.head)&&(this.head=RN(this.nodes,-1)),this.anchor&&!this.has(this.anchor)&&(this.anchor=RN(this.nodes,-1)),super.sync(...arguments)}};mm.prototype[Le]=De,se([Fl.bind([])],mm.prototype,"lost",null),E(mm,KVo,"op-ui-selections",266),pe("op-ui-selections",mm,{});var BHt=mm,oEe=Symbol(),NS=class NS extends Qe(oEe,Ve("op-items","OpItemsComponent",de),OPRenderer){get $ghosts(){let e=R("op-ghosts",null,`${this._ns_||""} $ghosts`,null);return Object.defineProperty(this,"$ghosts",{value:e}),e}get $values(){let e=R("op-ui-values",null,`${this._ns_||""} $values`,null);return Object.defineProperty(this,"$values",{value:e}),e}get $sels(){let e=R("op-ui-selections",null,`${this._ns_||""} $sels`,null);return Object.defineProperty(this,"$sels",{value:e}),e}[A](e=null,t=!0,r=!0){var n;var o;t&&super[A]&&super[A](...arguments),(n=this[oEe])==null||n.call(this,...arguments),this.tapevent=e&&(o=e.tapevent)!==void 0?o:"tapped",this.itemsquery=e&&(o=e.itemsquery)!==void 0?o:"[role$=item]",this.role=e&&(o=e.role)!==void 0?o:"list",this.notouch=e&&(o=e.notouch)!==void 0?o:!1,this.kind=e&&(o=e.kind)!==void 0?o:"option",this.tabIndex=e&&(o=e.tabIndex)!==void 0?o:-1,this.options=e?e.options:void 0,this.history=e?e.history:void 0,this.toggles=e&&(o=e.toggles)!==void 0?o:!1,this.clickable=e&&(o=e.clickable)!==void 0?o:!1,this.checkable=e&&(o=e.checkable)!==void 0?o:!1,this.selectable=e&&(o=e.selectable)!==void 0?o:!0,this.autoselect=e&&(o=e.autoselect)!==void 0?o:!1,this.values=e?e.values:void 0,this.selections=e&&(o=e.selections)!==void 0?o:[],this.multiple=e&&(o=e.multiple)!==void 0?o:!0,this.defocusonout=e&&(o=e.defocusonout)!==void 0?o:!0,this.deselectonblur=e&&(o=e.deselectonblur)!==void 0?o:!0,this.focusonhover=e&&(o=e.focusonhover)!==void 0?o:!1,this.followonhover=e&&(o=e.followonhover)!==void 0?o:!1,this.focusonselect=e&&(o=e.focusonselect)!==void 0?o:!0,this.checkonselect=e&&(o=e.checkonselect)!==void 0?o:!1,this.checkonclick=e&&(o=e.checkonclick)!==void 0?o:!1,this.deselectonunmount=e&&(o=e.deselectonunmount)!==void 0?o:!1,this.searchable=e&&(o=e.searchable)!==void 0?o:!1,this.searching=e&&(o=e.searching)!==void 0?o:!1,this.searchquery=e&&(o=e.searchquery)!==void 0?o:"",this.cbs=e&&(o=e.cbs)!==void 0?o:[GVo],this.showitems=e&&(o=e.showitems)!==void 0?o:30}viewfor(e){if(p(e,Element)||!e)return e;let t=this.querySelector(""+this.itemsquery+'[data-id="'+(e.id||e)+'"]');return t||=Array.from(this.querySelectorAll(this.itemsquery)).find(function(r){return r.data==e}),t}get multiple(){var e;return this.multiple||((e=this.field)==null?void 0:e.entries)}get checkable(){return this.checkable&&(!!this.values||!!this[BVo])}mount(){var e=this;if(this.refresh(!1),this.multiple&&this.checkable)return this.items=this.items.desc(function(t){return e.values.has(t)})}get items(){var e=this,t;let r=this[AHt]||this.options;return r?(this.searchquery?r=FZI.search(this.searchquery,r,...this.cbs):this.multiple&&this.checkable&&this[UHt]!=(t=this.searchquery)&&(this[UHt]=t,!0)&&(r=r.desc(function(o){return e.values.has(o)})),r):[]}set items(e){this[AHt]=e}set renderer(e){p(e,Function)&&(this.template=e)}get field(){let e=this[PHt];return e?e[0].$shape[e[1]]:this[VVo]}get model(){return this[PHt][0]}get target(){let e=this.field;return this.data}bind$(e,t){return this[Symbol.for("##"+e)]=t,super.bind$(...arguments)}press(e){let t=e.target.closest("[role]"),r=e[QCe]??e.shiftKey,o=e[ON]??e.metaKey;return this.$select(t,r,o)}$select(e,t,r){let o=this.$sels,n=this.$sels.anchor||=e,i=this.$sels.head||=e,s=this.op.items;if(!t&&!r&&this.$sels.clear(),t||(this.$sels.anchor=e),t){let a=s.indexOf(n),u=s.indexOf(i),c=s.indexOf(e);for(;u>a;)this.$sels.delete(s[u--]);for(;u<a;)this.$sels.delete(s[u++]);for(;a<c;)this.$sels.add(s[a++]);for(;a>c;)this.$sels.add(s[a--])}return this.multiple||(this.$sels.anchor=e,this.$sels.clear()),this.$sels.add(e),this.$sels.head=e,this.refresh(!0)}unmount(){if(this.deselectonunmount)return this.$sels.clear()}navigate(e){let t=this.op.items;if(typeof e=="number")return this.$select(t[e],!1,!1);e=e.original;let[r,o]={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]}[e.key]||[0,0],n=e.shiftKey,i=e.altKey,s=e.metaKey;if(!this.$sels.head)return this.$select(t[0],n,s);let a=this.$sels.head||t[0],u=r?a.op.navrow:a.op.navcol,c=u.indexOf(a),h=u[c+(r||o)]||a;return i&&(h=(r||o)>0?RN(u,-1):u[0]),t.length!=u.length&&n&&(n=!1,s=!0),c==0&&o==-1?this.emit("navup",{from:a}):h&&this.$select(h,n,s),!0}selectall(){if(this.multiple)return this.$sels.nodes=this.op.items,this.$sels.anchor=this.$sels.head=RN(this.$sels.nodes,-1),this.refresh(!0)}clear(){let e=this.$sels.nodes;return e.length==0?!1:(e.length=0,this.$sels.anchor=this.$sels.head=null,this.refresh(!0),!0)}refresh(e=!0){}has(e){var t;return(t=this.target)!=null&&t.embed?this.target.has(e):this.target==e}template(e){var u;var t,r=this._ns_||"",o,n=H(),i,s,a;return t=n[Goe](Ioe,e),i=s=1,(o=t.run(OPVIEW(e,this.kind,this.ocontext)))||(i=s=0,t.cache(o=M(t.value,null,`${r}`,null))),i||(o[zs]=n._),i||((u=o[Yoe])==null||u.call(o,n,Ioe)),o[MN]&&(i||(o.role="listitem"),a=e.tip,a===o[zFt]||(o.optip=o[zFt]=a),(!i||s&2)&&o.flags.reconcile(Ioe,`${r}`),i||n.sym||!o.setup||o.setup(s,n,Ioe),n.sym||o[Bn](s)),o}get ocontext(){return this.context||this}body(){var _;var e=this,t=H(),r=this._ns_||"",o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k;t.this=this,n=i=1,(o=t[Foe])||(n=i=0,o=t[Foe]=o=R("op",null,`nx-ai ${r}`,null)),n||(o[zs]=t._),n||((_=o[Yoe])==null||_.call(o,t,Foe)),s=o[iEe]("__",o),(a=o[qFt])||(o[qFt]=a=wt(1408,s)),u=0,c=a.$;for(let S=0,v=B(this.items||[]),C=v.length;S<C;S++){let j=v[S];S<this.showitems&&!j.hidden&&(S==this.showitems-5&&(d=m=1,(h=(f=c[Xoe](PVo)).get(u))||(d=m=0,f.set(u,h=w("div",a,`${r}`,null))),d||(h[zs]=a),d||h.on$("intersect",{in:!0,$_:[function(P,U){return t.this.showitems+=10}]},this),a.push(h,u++,f)),g=x=1,(b=($=c[Goe](TVo,u)).run(this.template(j)))||(g=x=0,$.cache(b=M($.value,a,`${r}`,null))),g||(b[zs]=a),b[MN]&&((!g||x&2)&&b.flags.reconcile(OVo,`${r}`),g||!b.setup||b.setup(x,$),b[Bn](x)),a.push(b,u++,k))}return a[Bn](u),n||t.sym||!o.setup||o.setup(i,t,Foe),t.sym||o[Bn](i),o}touching(e){var i,s,a,u;var t=this;let r=RN(e.events,-1),o=(s=(i=r==null?void 0:r.target)==null?void 0:i.closest)==null?void 0:s.call(i,this.itemsquery),n=this.$sels;if(e[THt]!=!0&&(e[THt]=!0,!0)){e[eEe]=this.focus,e[OHt]=this.clickable&&!r.shiftKey&&(!r.metaKey||!this.selectable)&&(this.$sels.nodes.size==0||!e[eEe]),e[zoe]=o,e[qoe]=n.has(o),e[tEe]=n.has(o)&&n.size==1,e[rEe]=e[qoe]&&o[zVo],r[QCe]=!0,r[ON]=r.metaKey,!e[eEe]&&!e[qoe]&&this.$sels.clear();let c=e[RHt]=function(){if(!(e[Woe]||e.ended)&&(e[Woe]=!0,e[MHt]=Array.from(t.$sels.nodes),!r.metaKey&&!r.shiftKey&&!e[tEe]&&!e[rEe]&&t.$sels.clear(),t.$sels.head=o,r.shiftKey||(t.$sels.anchor=o),t.focusonselect))return t.focin()};e[OHt]?e[LHt]=setTimeout(function(){return e[RHt](),t.touching(e)},500):c()}else r[QCe]=!0;if(r[ON]=this.selectable&&r.metaKey,e[Woe]&&o&&(e[DHt]!=o&&(e[DHt]=o,!0))&&this.press(r),e.ended&&r.type!="pointercancel"&&o){clearTimeout(e[LHt]),this.checkonclick&&this.checkable&&(this.toggles||this.multiple?this.$values.toggle(o):this.$values.set(o));let c=e.start[qVo];if(o==e[zoe]&&(!e[Woe]||e[qoe]&&!this.toggles&&e.elapsed<400&&e[MHt].size==1)&&!c&&!r[ON]){let h=new CustomEvent(this.tapevent,{bubbles:!0,cancelable:!0,detail:o.data});h.metaKey=r.metaKey,h.originalEvent=r,(u=(a=r==null?void 0:r.target)==null?void 0:a.dispatchEvent)==null||u.call(a,h);return}if(o==e[zoe]&&(e[rEe]||c))return r[ON]?this.$sels.toggle(o):this.$sels.set(o);if(this.toggles&&o==e[zoe]&&e[tEe])return this.$sels.delete(o),this.refresh(!0)}}tapspace(e){var t=this;let r=this.$sels.head;if(this.checkable){let[o,n]=this.$sels.split(function(i){return t.$values.has(i)});o.size?this.$values.delete(...o):this.$values.add(...this.$sels.nodes);return}if(r&&this.clickable)return r.emit(this.tapevent,r.data)}tapenter(){let e=this.$sels.head;if(e&&this.clickable)return e.emit(this.tapevent,e.data)}tapescape(){if(!this.popup)return this.$sels.any?this.$sels.clear():this.opblur()}set selectonhover(e){let t=this.selectonhover;this[NHt]=e,e||(this[Zoe]=null),e&&!t&&this[Zoe]&&this.over(this[Zoe])}get selectonhover(){return this[NHt]}over(e){var o,n,i,s,a;var t=this;let r=e.target.op.path.find(this.itemsquery);if(this[Zoe]=e,clearTimeout(this.overtimeout),this[IHt]!=r&&(this[IHt]=r),this.selectonhover&&r&&!this.$sels.many&&this.$select(r),!r&&this.defocusonout){let u=this.$sels.focus;this.overtimeout=setTimeout(function(){if(u===t.$sels.focus)return t.$sels.focus=null},100)}if(r&&(this.focusonhover||this.followonhover&&this.focin)&&((n=(o=OP.ui.focel)==null?void 0:o.matches)!=null&&n.call(o,"input,textarea,select")||r.opfocus(e)),(this.focusonhover||this.selectonhover||this.followonhover)&&r&&(this.$sels.focus=r,this.focusonhover&&!this.focin&&!((i=this.rel)!=null&&i.focus)&&(a=(s=globalThis.document.activeElement)==null?void 0:s.matches)!=null&&a.call(s,"body")))return this.focin()}resized(e){return this.ghosted&&this.$ghosts.reposition(),this.flags.toggle("narrow",this.offsetWidth<720)}pointerleave(e){if(this.focusonhover&&this.$sels.focus!=null&&(this.$sels.focus=null,!0))return Cr()}opnavfocus(e,t=null){if(this.opnavdata.children.empty)return this.opfocus(e);if(t!=null){this.op.items.at(t).opnavfocus(e);return}else this.$sels.any||this.$select(this.op.items.at(0));let o=this.$sels.nodes[0];if(o)return o.opnavfocus(e)}opfocus(e=!1){return this.focus||(e&&!this.$sels.any&&this.$select(this.op.items.at(0)),this.focus({preventScroll:!0})),!0}onnavfocus(e){var i;let t=e.detail,r=this.multiple&&e.original.shiftKey,o=this.multiple&&e.original.altKey,n=this.multiple&&e.original.metaKey;return t.siblings.length!=((i=t.col)==null?void 0:i.length)&&(n||=r,r=!1),this.$select(e.target,r,n),!0}focusout(e){var r;let t=e.relatedTarget;if(!((r=t==null?void 0:t.closest)!=null&&r.call(t,".use-popup")))return this.deselectonblur&&this.$sels.clear(),this}get searchbox(){return this.getElementsByTagName("input")[0]}enablesearch(e){if(!(!this.searchable||e.metaKey||["Shift","Control","Alt","Tab","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape"," "].has(e.key)))return this.searching=!0,this.render(),this.searchbox.focus()}focusin(e){return!0}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;return o=this,o[GHt](),n=i=1,o[WFt]===1||(n=i=0,o[WFt]=1),s=this.ghosted||void 0,s===o[GCe]||(i|=2,o[GCe]=s),s=this.multiple||void 0,s===o[YCe]||(i|=2,o[YCe]=s),s=this.checkable||void 0,s===o[XCe]||(i|=2,o[XCe]=s),s=this.palette||void 0,s===o[KCe]||(i|=2,o[KCe]=s),n||o.on$("pointerdown",{"!primary":!0,prevent:!0},this),a=o[ZFt]||(o[ZFt]={if:[null],primary:!0,silent:!0,$_:[function(X,Z){return e.touching(X)}]}),a.if[0]=!this.notouch,n||o.on$("touch",a,this),a=o[GFt]||(o[GFt]={options:["mod+a"],if:[null],focin:!0,$_:[function(X,Z){return e.selectall(X)}]}),a.if[0]=this.multiple,n||o.on$("hotkey",a,this),a=o[YFt]||(o[YFt]={options:["space"],if:[null],focin:!0,$_:[function(X,Z){return e.tapspace(X)}]}),a.if[0]=!this.searching,n||o.on$("hotkey",a,this),a=o[XFt]||(o[XFt]={options:["enter"],if:[null],force:!0,focin:!0,$_:[function(X,Z){return e.tapspace(X)}]}),a.if[0]=this.searching,n||o.on$("hotkey",a,this),n||o.on$("pointerleave",{silent:!0,$_:[function(X,Z){return e.pointerleave(X)}]},this),n||o.on$("resize",{silent:!0,$_:[function(X,Z){return e.resized(X)}]},this),n||o.on$("escape",{$_:[function(X,Z){return e.tapescape(X)}]},this),n||o.on$("over",{silent:!0,$_:[function(X,Z){return e.over(X)}]},this),n||o.on$("opnavfocus",{stop:!0,$_:[function(X,Z){return e.onnavfocus(X)}]},this),n||o.on$("focusout",{self:!0,$_:[function(X,Z){return e.focusout(X)}]},this),n||o.on$("focus",{$_:[function(X,Z){return e.focusout(X)}]},this),n||o.on$("focusin",{silent:!0,$_:[function(X,Z){return e.focusin(X)}]},this),a=o[KFt]||(o[KFt]={if:[null],silent:!0,$_:[function(X,Z){return e.enablesearch(X)}]}),a.if[0]=this.searchable,n||o.on$("keydown",a,this),n||o.on$("opselect",{$_:[function(X,Z){return e.opselect(X)}]},this),(!n||i&2)&&o.flagSelf$("nx-al ocontainer "+(o[GCe]?"ghosted":"")+" "+(o[YCe]?"multiple":"")+" "+(o[XCe]?"checkable":"")+" "+(o[KCe]?"palette":"")),h=d=1,(c=o[JFt])||(h=d=0,o[JFt]=c=w("div",o,`obody ${u}`,null)),t=null,this.searching&&(f=m=1,(t=c[QFt])||(f=m=0,c[QFt]=t=w("input",null,`nx-an ${u}`,null)),f||(t[zs]=c),f||(t.placeholder="Search..."),$=t[eHt]||(t[eHt]=t.bind$("data",[this,"searchquery"])),f||t.on$("hotkey",{options:["up"],repeat:!0,$_:[function(X,Z){return e.navigate(X)}]},this),f||t.on$("hotkey",{options:["down"],repeat:!0,$_:[function(X,Z){return e.navigate(X)}]},this),f||t.on$("keydown",{enter:!0,prevent:!0,$_:[function(X,Z){return e.tapenter(X)}]},this),f||!t.setup||t.setup(m,b),t[Bn](m)),c[tHt]=c[LN](t,0,c[tHt]),r=null,this.ghosted&&(g=x=1,(r=c[rHt])||(g=x=0,c[rHt]=(r=this.$ghosts,r[zs]=null,r)),g||(r[zs]=c),k=this.ghosted,k===r[oHt]||(r.options=r[oHt]=k),g||!r.setup||r.setup(x,_),r[Bn](x)),c[nHt]=c[LN](r,0,c[nHt]),v=C=1,(S=c[iHt])||(v=C=0,c[iHt]=(S=this.$values,S[zs]=c,S)),j=this,j===c[sHt]||(S.owner=c[sHt]=j),v||!S.setup||S.setup(C,P),S[Bn](C),v||c[IS](S),O=L=1,(U=c[lHt])||(O=L=0,c[lHt]=(U=this.$sels,U[zs]=c,U)),I=this,I===c[aHt]||(U.owner=c[aHt]=I),O||!U.setup||U.setup(L,F),U[Bn](L),O||c[IS](U),N=o.__slots.__,(!N||!N.hasChildNodes())&&(V=c[Xoe](RVo),W=z=1,(N=V.run(this.body()))||(W=z=0,V.cache(N=M(V.value,null,`${u}`,null))),W||(N[zs]=c),N[MN]&&((!W||z&2)&&N.flags.reconcile(LS,`${u}`),W||!N.setup||N.setup(z,V),N[Bn](z)),N==c[LS]||!c[LS]&&(c[LS]=N)[WVo](c)||c[LS][ZVo](c[LS]=N,c),h||!N.setup||N.setup(q,Y),N[Bn](q)),N===c[cHt]||(c[uHt]=c[LN](c[cHt]=N,256,c[uHt])),h||!c.setup||c.setup(d,K),c[Bn](d),o[YHt](i),o}rendered(){var e=gt(this),t;return e[ZCe]??={query:""},((e[ZCe].query!=(t=this.searchquery)?(e[ZCe].query=t,!0):!1)||this.autoselect&&!this.querySelector(".sel")&&this.querySelector(this.itemsquery))&&this.navigate(0),!0}get autoselect(){return!!this.autoselect}opselect(e){return LL("opselect",e)}};NS.prototype[Le]=De,se([ke.bind([])],NS.prototype,"searchbox",null),E(NS,oEe,"op-options",330),pe("op-options",NS,{cssns:"nx_ag",cssid:"nx-ag"});var VHt=NS,JVo=Symbol(),Joe=class Joe extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.role=e&&(o=e.role)!==void 0?o:"listitem"}render(){var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return e=this,e[GHt](),t=r=1,e[hHt]===1||(t=r=0,e[hHt]=1),o=this.data.hue,o===e[JCe]||(r|=2,e[JCe]=o),(!t||r&2)&&e.flagSelf$(e[JCe]||""),t||(i=w("div",e,`nx-av %checkbox ${n}`,null)),t||(s=w("div",i,`%square ${n}`,null)),u=c=1,(a=e[pHt])||(u=c=0,e[pHt]=a=R("op-icon",e,`op-icon ${n}`,null)),h=this.icon??this.data.asicon,h===e[dHt]||(a.data=e[dHt]=h),u||!a.setup||a.setup(c,d),a[Bn](c),u||e[IS](a),m=$=1,(f=e[fHt])||(m=$=0,e[fHt]=f=R("op-label",e,`op-label ${n}`,null)),b=this.data.asoptionlabel,b===e[mHt]||(f.value=e[mHt]=b),m||!f.setup||f.setup($,g),f[Bn]($),m||e[IS](f),k=_=1,(x=e[$Ht])||(k=_=0,e[$Ht]=x=R("op-detail",e,`op-detail ${n}`,null)),S=this.data.asoptiondetail,S===e[yHt]||(x.value=e[yHt]=S),k||!x.setup||x.setup(_,v),x[Bn](_),k||e[IS](x),e[YHt](r),e}};E(Joe,JVo,"op-option-new",2),pe("op-option-new",Joe,{cssns:"nx_at",cssid:"nx-at"});var zHt=Joe,QVo=Symbol(),Qoe=class Qoe extends Ve("op-options","OpOptionsComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.multiple=e&&(o=e.multiple)!==void 0?o:!1,this.clickable=e&&(o=e.clickable)!==void 0?o:!0,this.selectonhover=e&&(o=e.selectonhover)!==void 0?o:!0,this.focusonhover=e&&(o=e.focusonhover)!==void 0?o:!0,this.searchable=e&&(o=e.searchable)!==void 0?o:!0,this.kind=e&&(o=e.kind)!==void 0?o:"mi",this.groupfn=e?e.groupfn:void 0}body(){var Pe;var e,t=this._ns_||"",r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae;let ve=0;if(this.groupfn){let He=this.items.groupby(this.groupfn);n=i=1,(r=o[Hoe])||(n=i=0,r=o[Hoe]=r=R("op",null,`${t}`,null)),n||(r[zs]=o._),n||((Pe=r[Yoe])==null||Pe.call(r,o,Hoe)),s=r[iEe]("__",r),(a=r[bHt])||(r[bHt]=a=Jt(384,s)),u=0,c=a.$;for(let[Ue,Be]of B(He)){let je=Be.asc("g");d=f=1,(h=c[u])||(d=f=0,c[u]=h=w("div",a,`${t}`,null)),d||(h[zs]=a),(m=h[gHt])||(h[gHt]=m=w("div",h,`nx-bc ${t}`,null)),e=null,Ue&&($=b=1,(e=h[kHt])||($=b=0,h[kHt]=e=w("span",null,`nx-bd ${t}`,null)),$||(e[zs]=m),g=Ue,g===e[xHt]&&$||(e[_Ht]=e[LN](e[xHt]=g,384,e[_Ht]))),h[vHt]=m[LN](e,0,h[vHt]),k=_=1,(x=h[wHt])||(k=_=0,h[wHt]=x=R("op-hr",m,`nx-be mi-hr ${t}`,null)),k||!x.setup||x.setup(_,S),x[Bn](_),k||m[IS](x),(v=h[SHt])||(h[SHt]=v=wt(1280,h)),C=0,j=v.$;for(let ue=0,xe=B(je),Re=xe.length;ue<Re;ue++){let Oe=xe[ue];ve!=(P=Math.floor(Oe.g/100))&&(ve=P,!0)&&ue&&(O=I=1,(U=(L=j[Xoe](MVo)).get(C))||(O=I=0,L.set(C,U=R("op-hr",v,`mi-hr ${t}`,null))),O||(U[zs]=v),O||!U.setup||U.setup(I,F),U[Bn](I),v.push(U,C++,L)),W=z=1,(V=(N=j[Goe](LVo,C)).run(this.template(Oe)))||(W=z=0,N.cache(V=M(N.value,v,`${t}`,null))),W||(V[zs]=v),V[MN]&&((!W||z&2)&&V.flags.reconcile(DVo,`${t}`),W||!V.setup||V.setup(z,N),V[Bn](z)),v.push(V,C++,q)}v[Bn](C),u++}return a[Bn](u),n||o.sym||!r.setup||r.setup(i,o,Hoe),o.sym||r[Bn](i),r}else{let He=this.searchquery?this.items:this.items.asc("g");return(()=>{var Ue;K=X=1,(Y=o[Boe])||(K=X=0,Y=o[Boe]=Y=R("op",null,`${t}`,null)),K||(Y[zs]=o._),K||((Ue=Y[Yoe])==null||Ue.call(Y,o,Boe)),Z=Y[iEe]("__",Y),(Q=Y[CHt])||(Y[CHt]=Q=wt(1408,Z)),ee=0,te=Q.$;for(let Be=0,je=B(He),ue=je.length;Be<ue;Be++){let xe=je[Be];!this.searchquery&&(ve!=(ne=Math.floor(xe.g/100))&&(ve=ne,!0))&&Be&&(J=ce=1,(ie=(me=te[Xoe](NVo)).get(ee))||(J=ce=0,me.set(ee,ie=R("op-hr",Q,`mi-hr ${t}`,null))),J||(ie[zs]=Q),J||!ie.setup||ie.setup(ce,ye),ie[Bn](ce),Q.push(ie,ee++,me)),be=_e=1,(ae=(we=te[Goe](IVo,ee)).run(this.template(xe)))||(be=_e=0,we.cache(ae=M(we.value,Q,`${t}`,null))),be||(ae[zs]=Q),ae[MN]&&((!be||_e&2)&&ae.flags.reconcile(FVo,`${t}`),be||!ae.setup||ae.setup(_e,we),ae[Bn](_e)),Q.push(ae,ee++,Ae)}return Q[Bn](ee),K||o.sym||!Y.setup||Y.setup(X,o,Boe),o.sym||Y[Bn](X),Y})()}}};E(Qoe,QVo,"op-mis",2),pe("op-mis",Qoe,{});var qHt=Qoe,ezo=Symbol(),ene=class ene extends Ve("op-options","OpOptionsComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.multiple=e&&(o=e.multiple)!==void 0?o:!1,this.selectonhover=e&&(o=e.selectonhover)!==void 0?o:!0,this.focusonhover=e&&(o=e.focusonhover)!==void 0?o:!0,this.kind=e&&(o=e.kind)!==void 0?o:"pi",this.autoselect=e&&(o=e.autoselect)!==void 0?o:!0,this.clickable=e&&(o=e.clickable)!==void 0?o:!0,this.tapevent=e&&(o=e.tapevent)!==void 0?o:"resolve",this.searchable=e&&(o=e.searchable)!==void 0?o:!0}opselect(e){let t=e.target;return this.toggles||this.multiple?this.$values.toggle(t):this.$values.set(t)}get autoselect(){return!!this.autoselect&&this.focin}};E(ene,ezo,"op-pis",2),pe("op-pis",ene,{cssns:"nx_bk"});var WHt=ene,tzo=Symbol(),tne=class tne extends Ve("op-pis","OpPisComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.searching=e&&(o=e.searching)!==void 0?o:!0,this.palette=e&&(o=e.palette)!==void 0?o:!0,this.autoselect=e&&(o=e.autoselect)!==void 0?o:!0}};E(tne,tzo,"op-palette",2),pe("op-palette",tne,{});var ZHt=tne;var rzo=Symbol.for("#opmenu"),ozo=Symbol.for("#opmenuhandler"),XHt=Symbol.for("#context"),nzo=Symbol.for("##up"),izo=Symbol.for("##register"),szo=Symbol.for("#isRichElement"),lzo=Symbol.for("#afterVisit"),KHt=Symbol(),JHt=Symbol(),QHt=Symbol(),eBt=Symbol(),azo=Symbol(),FS;FS=class{on$opmenu(e,t,r,o){return this[rzo]=e,e.options||=[this],this.setAttribute("op-menu",""),e.$_&&(this[ozo]=r),r}},E(FS,azo,"element",3,da("element","Element"));var uzo=Symbol(),sEe=class sEe{opmenu(e){var u;var t,r={},o,n,i;let s=this[XHt].element;e||=s.data;let a=(o=n=0,t=t=M(OPVIEW(e,"context-menu",this[XHt]),null,null,null),o||(t[nzo]=r._),o||((u=t[izo])==null||u.call(t,r,KHt)),t[szo]&&(s===t[JHt]||(t.rel=t[JHt]=s),i=this,i===t[QHt]||(t.opener=t[QHt]=i),o||(t.popup__={contextmenu:!0}),o||(t.popup="popup"),s===t[eBt]||(t.anchored=t[eBt]=s),o||r.sym||!t.setup||t.setup(n,r,KHt),r.sym||t[lzo](n)),t);return Bt(a),!0}};E(sEe,uzo,"Event",1,Event);var tBt=sEe;T();oe();We(),ge(),$e();var TBt=Symbol.for("#matcher"),lEe=Symbol.for("#assets"),rne=Symbol.for("#data"),czo=Symbol.for("#opified"),Vc=Symbol.for("##up"),$m=Symbol.for("##register"),sx=Symbol.for("#getSlot"),OBt=Symbol.for("#getDynamicContext"),cEe=Symbol.for("#isRichElement"),Lh=Symbol.for("#afterVisit"),Gk=Symbol.for("#placeChild"),RBt=Symbol.for("#visit"),hzo=Symbol.for("#objectURL"),pzo=Symbol.for("#getRenderContext"),dzo=le("&.file? or &.dir?",globalThis,l=>l.file||l.dir),fzo=le("&.image?",globalThis,l=>l.image),one=Symbol(),rBt=Symbol(),oBt=Symbol(),mzo=Symbol(),nBt=Symbol(),nne=Symbol(),iBt=Symbol(),$zo=Symbol(),aEe=Symbol(),sBt=Symbol(),lBt=Symbol(),aBt=Symbol(),ine=Symbol(),sne=Symbol(),uBt=Symbol(),cBt=Symbol(),lne=Symbol(),uEe=Symbol(),hBt=Symbol(),pBt=Symbol(),dBt=Symbol(),ane=Symbol(),fBt=Symbol(),mBt=Symbol(),$Bt=Symbol(),yBt=Symbol(),bBt=Symbol(),gBt=Symbol(),une=Symbol(),kBt=Symbol(),_Bt=Symbol(),xBt=Symbol(),vBt=Symbol(),wBt=Symbol(),SBt=Symbol(),yzo=Symbol(),bzo=Symbol(),CBt=Symbol(),EBt=Symbol(),DN=class DN{constructor(){re(this,EBt)}get files(){var e,t;return this.types.includes("Files")||!!((t=(e=this.values)==null?void 0:e.some)!=null&&t.call(e,dzo))}get image(){var e,t;return(t=(e=this.values)==null?void 0:e.some)!=null&&t.call(e,fzo)?!0:this.files&&this.mimes.find(function(r){return r.startsWith("image/")})}get file(){return this.files}get mimes(){return Array.from(this.items).map(function(e){return e.type})}get urls(){return!!this.uri}get inacessible(){var e;return this.files&&!((e=this.files)!=null&&e.length)}inspect(){let e,t=this.mimes,r=this.files;return e=Array.from(this.items).map(function(o){return{kind:o.kind,type:o.type,value:o}})}get uri(){let e=this.getData("text/uri-list");return e?new URL(e):null}get fshandles(){var t;let e=[];for(let r=0,o=B(this.items),n=o.length;r<n;r++){let i=o[r];e.push((t=i==null?void 0:i.getAsFileSystemHandle)==null?void 0:t.call(i))}return Promise.all(e)}get assets(){var r,o;var e;if(this[lEe])return this[lEe];e=[];for(let n=0,i=B(this.items),s=i.length;n<s;n++){let a=i[n];if(a.kind!="file")continue;let u=((r=a==null?void 0:a.webkitGetAsEntry)==null?void 0:r.call(a))||((o=a==null?void 0:a.getAsFileSystemHandle)==null?void 0:o.call(a))||a.getAsFile();console.log("the file is...",u.kind,u.name,u.type),!u.isDirectory&&e.push(OPAsset.for(u))}let t=e;return this[lEe]=OPAssets.from(t)}get fileEntries(){var r,o;var e;e=[];for(let n=0,i=B(this.items),s=i.length;n<s;n++){let a=i[n];a.kind=="file"&&e.push(((r=a==null?void 0:a.webkitGetAsEntry)==null?void 0:r.call(a))||((o=a==null?void 0:a.getAsFileSystemHandle)==null?void 0:o.call(a))||a.getAsFile())}let t=e;return Promise.all(t)}get fileEntriesAsFiles(){var e;e=[];for(let r=0,o=B(this.items),n=o.length;r<n;r++){let i=o[r];i.kind=="file"&&e.push(i.getAsFile())}let t=e;return Promise.all(t)}async readFiles(e=[],t=null){if(!t){t=[];for(let r=0,o=B(this.items),n=o.length;r<n;r++){let i=o[r];i.kind=="file"&&t.push(await i.getAsFile())}}for(let r=0,o=B(t),n=o.length;r<n;r++){let i=o[r];if(p(i,File))e.push(i);else if(i.isFile){let s=await new Promise(function(a){return i.file(a)});s.entry=i,e.push(s)}else if(i.isDirectory){let s=[];s.entry=i,e.push(s);let a=await new Promise(function(u){return i.createReader().readEntries(u)});await this.readFiles(s,a)}}return e}set models(e){let t=[],r=[];for(let o=0,n=B([].concat(e)),i=n.length;o<i;o++){let s=n[o],a=s.url;a&&!a.startsWith("http")&&(a=globalThis.document.location.origin+a),t.push(a||s.id),a&&r.push('<a href="'+a+'" data-opid="'+s.id+'">'+(s.aslabel||"Link")+"</a>")}this.setData("text/html",t=t.join(" ")),this.setData("text/plain",r=r.join(""))}get models(){return OPValues.from([].concat(this.payload).compact())}get localDragState(){return A2.drag}get payload(){var r;if(this.local)return this.local;let e=this.mimes.find(function(o){return o.startsWith("op-transfer-")}),t=(r=e==null?void 0:e.slice)==null?void 0:r.call(e,12);if(e){let o=this.localDragState;if((o==null?void 0:o.ref)==t){if(o[rne])return o[rne];if(o.data)return o[rne]||=OPValues.from(...o.data.map(function(n){return OP.get(n)}))}}return this.value}get opified(){var e=this;return this[czo]||=new Promise(async function(t){return e.values=await e.opify(),t(e.values)})}async opify(){var u,c,h,d,f;var e;let t=this.payload;if(this.local)return this.local;let r=this.mimes.find(function(m){return m.startsWith("op-transfer-")});this.raw||={};for(let m=0,$=B(this.types),b=$.length;m<b;m++){let g=$[m];this.raw[g]=this.getData(g)}if(r){let m=r.slice(12);if(((u=this.localDragState)==null?void 0:u.ref)==m)return this.localDragState[rne];let $=A2.drag;if($&&$.ref==m)return OPValues.from(...$.data.map(function(b){return OP.get(b)}))}let o=this.mimes,n=[];if(this.files&&!((c=this.files)!=null&&c.length)){for(let m=0,$=B(this.items),b=$.length;m<b;m++){let g=$[m];if(g.kind=="file"&&this.files.length==0){let x=OPAsset.mimetoext(g.type)||"txt",k=new Blob([],{type:g.type}),_=new File([k],"file."+x);n.push(k)}}return OPValues.from(n)}let i={values:n,handles:[],wk:[],entries:[],files:[],folders:[],images:[],items:[],mimes:o};e=[];for(let m=0,$=B(this.items),b=$.length;m<b;m++){let g=$[m];i.items.push(g),e.push({file:(h=g==null?void 0:g.getAsFile)==null?void 0:h.call(g),wkentry:(d=g==null?void 0:g.webkitGetAsEntry)==null?void 0:d.call(g),handle:(f=g==null?void 0:g.getAsFileSystemHandle)==null?void 0:f.call(g)})}let s=e;i.initial=s;for(let m=0,$=B(s),b=$.length;m<b;m++){let{file:g,wkentry:x,handle:k}=$[m];if(k=await k,k)if(i.handles.push(k),k.kind=="file"){i.entries.push(g);let _=await k.getFile();_.handle=k,i.files.push(_),n.push(_)}else k.kind=="directory"&&(i.entries.push(k),n.push(k));g&&!k&&(i.entries.push(g),i.files.push(g),n.push(g)),x&&i.wk.push(x)}for(let m=0,$=B(o),b=$.length;m<b;m++){let g=$[m],[x,k]=g.split("/");i[g]=this.getData(g),o[x]=g}if(i["vscode-editor-data"],(i.html=this.getData("text/html"))&&i.html.includes("data-opid")){let m=new OPValues,$=globalThis.document.createElement("template");$.innerHTML=i.html;for(let b=0,g=B($.content.childNodes),x=g.length;b<x;b++){let k=g[b];k.dataset.opid&&m.add(OP.get(k.dataset.opid))}return m}(i.text=this.getData("text/plain"))&&URL.canParse(i.text)&&(i.url=new URL(i.text),n.push(i.url),n.push(OPUrl.get(i.text)));for(let m=0,$=B(i.files),b=$.length;m<b;m++){let g=$[m],[x,k]=g.type.split("/");x=="image"&&i.images.push(g)}let a={};for(let m=0,$=Object.keys(i),b=$.length,g,x;m<b;m++)g=$[m],x=i[g],g&&x&&!x.empty&&(a[g]=x);return OPValues.of(...n)}opownpreview(){var x;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g;if(o=n=1,(t=r[one])||(o=n=0,t=r[one]=t=R("op",null,null,null)),o||(t[Vc]=r._),o||((x=t[$m])==null||x.call(t,r,one)),i=t[sx]("__",t),o||(s=w("div",i,null,"Payload")),e=null,this.values){a=u=1,(e=t[rBt])||(a=u=0,t[rBt]=e=w("div",null,null,null)),a||(e[Vc]=i),(c=e[oBt])||(e[oBt]=c=wt(384,e)),h=0,d=c.$;for(let k=0,_=B(this.values),S=_.length;k<S;k++){let v=_[k];$=b=1,(m=(f=d[OBt](mzo,h)).run(OPVIEW(v,"tile",this)))||($=b=0,f.cache(m=M(f.value,c,null,null))),$||(m[Vc]=c),m[cEe]&&($||!m.setup||m.setup(b,f),m[Lh](b)),c.push(m,h++,g)}c[Lh](h)}return t[nBt]=i[Gk](e,0,t[nBt]),o||r.sym||!t.setup||t.setup(n,r,one),r.sym||t[Lh](n),t}};DN.prototype[Le]=De,se([ke.bind([])],DN.prototype,"payload",null),E(DN,EBt,"DataTransfer",273,DataTransfer);var jBt=DN,gzo=Symbol(),hEe=class hEe{opownarg(e,t){var b;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;n=i=1,(r=o[nne])||(n=i=0,r=o[nne]=r=R("op-label",null,"op-arg-array",null)),n||(r[Vc]=o._),n||((b=r[$m])==null||b.call(r,o,nne)),s=r[sx]("__",r),(a=r[iBt])||(r[iBt]=a=wt(384,s)),u=0,c=a.$;for(let g=0,x=B(this),k=x.length;g<k;g++){let _=x[g];f=m=1,(d=(h=c[OBt]($zo,u)).run(OPVIEW(_,"arg",t)))||(f=m=0,h.cache(d=M(h.value,a,null,null))),f||(d[Vc]=a),d[cEe]&&(f||!d.setup||d.setup(m,h),d[Lh](m)),a.push(d,u++,$)}return a[Lh](u),n||o.sym||!r.setup||r.setup(i,o,nne),o.sym||r[Lh](i),r}};E(hEe,gzo,"Array",1,Array);var ABt=hEe;if(globalThis.FileSystemDirectoryHandle){let l=Symbol(),o=class o{opownarg(){var f,m;var s,a=H(),u,c,h,d;return u=c=1,(s=a[aEe])||(u=c=0,s=a[aEe]=s=w("div",null,"op-arg",null)),u||(s[Vc]=a._),u||((f=s[$m])==null||f.call(s,a,aEe)),h=s[sBt]||(s[sBt]={options:[null]}),d=this,d===h.options[0]||(h.options[0]=d,c|=48),u||s.on$("optip",h,this),c&32&&(c^=32,(m=h[RBt])==null||m.call(h)),d=this.name,d===s[aBt]&&u||(s[lBt]=s[Gk](s[aBt]=d,384,s[lBt])),s}opowntip(){var d;var s,a=H(),u,c,h;return u=c=1,(s=a[ine])||(u=c=0,s=a[ine]=s=R("op",null,null,"Tooltip for FileSystemDirectoryHandle")),u||(s[Vc]=a._),u||((d=s[$m])==null||d.call(s,a,ine)),h=s[sx]("__",s),u||a.sym||!s.setup||s.setup(c,a,ine),a.sym||s[Lh](c),s}get dir(){return this.kind=="directory"}};E(o,l,"FileSystemDirectoryHandle",1,FileSystemDirectoryHandle);let e=o,t=Symbol(),n=class n{get file(){return this.kind=="file"}};E(n,t,"FileSystemHandle",1,FileSystemHandle);let r=n;FileSystemHandle[TBt]=function(i){return p(i,File)||p(i,FileSystemHandle)||p(i,Blob)}}var kzo=Symbol(),pEe=class pEe{get file(){return!0}get image(){var e,t;return(t=(e=this.type)==null?void 0:e.startsWith)==null?void 0:t.call(e,"image/")}get objectURL(){return this[hzo]||=URL.createObjectURL(this)}opownpreview(){var $,b;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return this.image?(r=o=1,(e=t[sne])||(r=o=0,e=t[sne]=e=R("op",null,null,null)),r||(e[Vc]=t._),r||(($=e[$m])==null||$.call(e,t,sne)),n=e[sx]("__",e),s=a=1,(i=e[uBt])||(s=a=0,e[uBt]=i=w("img",n,null,null)),u=this.objectURL,u===e[cBt]||(i.src=e[cBt]=u),r||t.sym||!e.setup||e.setup(o,t,sne),t.sym||e[Lh](o),e):(h=d=1,(c=t[lne])||(h=d=0,c=t[lne]=c=R("op",null,null,null)),h||(c[Vc]=t._),h||((b=c[$m])==null||b.call(c,t,lne)),f=c[sx]("__",c),h||(m=w("div",f,null,"File")),h||t.sym||!c.setup||c.setup(d,t,lne),t.sym||c[Lh](d),c)}opownarg(){var s,a;var e,t=H(),r,o,n,i;return r=o=1,(e=t[uEe])||(r=o=0,e=t[uEe]=e=w("div",null,"op-arg",null)),r||(e[Vc]=t._),r||((s=e[$m])==null||s.call(e,t,uEe)),n=e[hBt]||(e[hBt]={options:[null]}),i=this,i===n.options[0]||(n.options[0]=i,o|=48),r||e.on$("optip",n,this),o&32&&(o^=32,(a=n[RBt])==null||a.call(n)),i=this.name,i===e[dBt]&&r||(e[pBt]=e[Gk](e[dBt]=i,384,e[pBt])),e}opowntile(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[ane])||(r=o=0,e=t[ane]=e=R("op",null,"op-tile",null)),r||(e[Vc]=t._),r||((c=e[$m])==null||c.call(e,t,ane)),n=e[sx]("__",e),(i=e[fBt])||(e[fBt]=i=w("div",n,"label",null)),s=this.name,s===e[$Bt]&&r||(e[mBt]=i[Gk](e[$Bt]=s,384,e[mBt])),(a=e[yBt])||(e[yBt]=a=w("div",n,"legend",null)),u=this.size,u===e[gBt]&&r||(e[bBt]=a[Gk](e[gBt]=u,384,e[bBt])),r||t.sym||!e.setup||e.setup(o,t,ane),t.sym||e[Lh](o),e}opowntip(){var g;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b;return o=n=1,(t=r[une])||(o=n=0,t=r[une]=t=R("op",null,null,null)),o||(t[Vc]=r._),o||((g=t[$m])==null||g.call(t,r,une)),i=t[sx]("__",t),o||(s=w("dl",i,null,null)),o||(a=w("dd",s,null,"name")),(u=t[kBt])||(t[kBt]=u=w("dt",s,null,null)),c=this.name,c===t[xBt]&&o||(t[_Bt]=u[Gk](t[xBt]=c,384,t[_Bt])),o||(h=w("dd",s,null,"size")),(d=t[vBt])||(t[vBt]=d=w("dt",s,null,null)),f=this.size,f===t[SBt]&&o||(t[wBt]=d[Gk](t[SBt]=f,384,t[wBt])),e=null,this.image&&(m=t[pzo](bzo),$=b=1,(e=m.run(this.opownpreview(this)))||($=b=0,m.cache(e=M(m.value,null,"pv-bb",null))),$||(e[Vc]=i),e[cEe]&&((!$||b&2)&&e.flags.reconcile(yzo,"pv-bb"),$||!e.setup||e.setup(b,m),e[Lh](b))),t[CBt]=i[Gk](e,0,t[CBt]),o||r.sym||!t.setup||t.setup(n,r,une),r.sym||t[Lh](n),t}};E(pEe,kzo,"File",1,File);var UBt=pEe,_zo=Symbol(),dEe=class dEe{[TBt](e){return e.match?e.match(this):(p(e,URL)&&(e=String(e)),!!(typeof e=="string"&&this.test(e)))}};E(dEe,_zo,"RegExp",1,RegExp);var PBt=dEe;an(),ge(),wu(),$i();var cne=Symbol(),fEe=Symbol("over"),MBt=Symbol(),mEe=Symbol("active-zone"),LBt=Symbol(),$Ee=Symbol("current-zone"),DBt=Symbol(),yEe=Symbol(),bEe=Symbol(),NBt=Symbol(),IBt=Symbol(),FBt,NN,IN,xzo=le("& isa OPPos",globalThis,l=>p(l,OPPos)),HBt=Symbol(),BBt=Symbol(),VBt=Symbol(),zBt=Symbol(),qBt=Symbol(),WBt=Symbol(),ZBt=Symbol(),GBt=Symbol(),YBt=Symbol(),XBt=Symbol();var gEe=Symbol(),KBt=Symbol(),JBt=Symbol(),QBt=Symbol(),vzo=Symbol.for("#context"),aVt=Symbol.for("#ts"),uVt=Symbol.for("#opdrag"),wzo=Symbol.for("#dragstart"),cVt=Symbol.for("#checked"),Szo=Symbol.for("#data"),HS=Symbol.for("##up"),hVt=Symbol.for("##register"),BN=Symbol.for("#afterVisit"),kEe=Symbol.for("#opdrop"),Czo=Symbol.for("#opdrophandler"),pVt=Symbol.for("#dragel"),xEe=Symbol.for("#beforeReconcile"),_Ee=Symbol.for("#appendChild"),Ezo=Symbol.for("#placeChild"),vEe=Symbol.for("#afterReconcile"),eVt=Symbol.for("#a"),tVt=Symbol.for("#b"),FN=Symbol.for("#lastover"),HN=Symbol.for("#lastdrag"),rVt=Symbol.for("#pt");no.addSelectors([".mp-ag"],"transition");var jzo={};globalThis.OpDragGesture=null;var Azo=Symbol(),wEe=class wEe{image(e,t,r){if(this.type=="dragstart"){let{element:o,step:n,state:i,id:s,current:a}=this[vzo];typeof e=="string"&&(e=o.querySelector(e)||o),this.dataTransfer.setDragImage(e,t||0,r||0)}return!0}link(){return this.dataTransfer.dropEffect="link",!0}move(){return this.dataTransfer.dropEffect="move",!0}copy(){return this.dataTransfer.dropEffect="copy",!0}};E(wEe,Azo,"DragEvent",1,DragEvent);var oVt=wEe,nVt=Symbol(),SEe=class SEe{constructor(e=null){this[A](e),re(this,nVt)}[A](e=null,t=!0,r=!0){var o;this.node=e?e.node:void 0,this.rect=e?e.rect:void 0,this.mods=e?e.mods:void 0,this.pos=e?e.pos:void 0,this.actions=e&&(o=e.actions)!==void 0?o:[],this.r=e?e.r:void 0,this.c=e?e.c:void 0,this.snap=e?e.snap:void 0,this.priority=e?e.priority:void 0}get hl(){return this.node.opbox()}};E(SEe,nVt,"OPDropZone",16);var VN=SEe;globalThis.OPDropZone=VN;var Uzo=function(l,e){var x,k;var t,r={},o,n;let i=this.event,s=this.element,a=i.target.closest(".\\@draggable");if(a&&a!=s)return;s=e||s;let u=Date.now(),c=this.handler,h=this.modifiers,d=c.pointerdown,f=u-d[aVt],m=((x=s[uVt])==null?void 0:x.params)||{};if(d[wzo]=i,f<50&&!d[cVt]&&!(h!=null&&h.instant))return i.preventDefault();l=l||(s==null?void 0:s.data);let $=l,b=l.toDataTransfer();for(let _=0,S=Object.keys(b),v=S.length,C,j;_<v;_++)C=S[_],j=b[C],C=="file"?i.dataTransfer.items.add(j):i.dataTransfer.setData(C,j);i.dataTransfer.effectAllowed="all",s.$sel&&(l=s.$sel.values);let g=jzo={ref:OPKey.random(),data:[].concat(l).map(function(_){return _.id}),[Szo]:[].concat(l)};if(A2.drag=g,i.dataTransfer.setData("op-transfer-"+g.ref,"123"),!m.imageless){let _=(o=n=0,t=t=R("op-drag-image",null,"lg",null),o||(t[HS]=r._),o||((k=t[hVt])==null||k.call(t,r,NBt)),l===t[IBt]||(t.data=t[IBt]=l),o||r.sym||!t.setup||t.setup(n,r,NBt),r.sym||t[BN](n),t);globalThis.document.body.appendChild(_),i.dataTransfer.setDragImage(_,-10,-10),setTimeout(function(){return globalThis.document.body.removeChild(_)},1e3)}return globalThis.LocalDragData=OPValues.from(l),s&&(s.flags.incr("dragging"),this.element.addEventListener("dragend",function(_){return s.flags.decr("dragging")},{once:!0})),!0},Pzo=Symbol(),BS;BS=class{on$opdrag(e,t,r,o){var n=gt(this),i=this;if(n[cne]??={},!t.nodrag){if(this.setAttribute("draggable","true"),this.flags.add("@draggable"),r.guard=Uzo,this[uVt]=r,e.if!=null){let s=e.if,a=s[0];Object.defineProperty(s,0,{get:function(){return n[cne].if},set:function(u){if(n[cne].if!=u&&(n[cne].if=u,!0))return i.flags.toggle("@draggable",!!u),i.setAttribute("draggable",u?"true":"false")}}),s[0]=a}return this.addEventListener("pointerdown",function(s){return s[aVt]=Date.now(),s[cVt]=i.flags.contains("@checked"),r.pointerdown=s},o),this.addEventListener("dragstart",r,o),this.addEventListener("dragend",function(s){var a,u;return(u=(a=globalThis.OpDragGesture)==null?void 0:a.teardown)==null?void 0:u.call(a)}),r}}on$opdrop(e,t,r,o){this.flags.add("op-zone");let n=[];return e.magnetic&&n.push("magnetic"),this.setAttribute("op-zone",n.join(" ")),e.global&&this.flags.add("op-global-zone"),e.options||=[this],this[kEe]=e,e.$_&&(this[Czo]=r),r}},E(BS,Pzo,"element",3,da("element","Element"));var Tzo=Symbol(),lx=class lx extends de{get $outline(){let e=w("div",null,`mp-ai ${this._ns_||""} $outline`,null);return Object.defineProperty(this,"$outline",{value:e}),e}get $zone(){let e=R("op-ui-target",null,`${this._ns_||""} $zone`,null);return Object.defineProperty(this,"$zone",{value:e}),e}get $actions(){let e=R("op-mis",null,`mp-ak lg use-popup ${this._ns_||""} $actions`,null);return Object.defineProperty(this,"$actions",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.dataTransfer=e?e.dataTransfer:void 0,this.choices=e&&(o=e.choices)!==void 0?o:[],this.actions=e&&(o=e.actions)!==void 0?o:[],this.payload=e&&(o=e.payload)!==void 0?o:null,this.action=e?e.action:void 0,this.insertionpoints=e&&(o=e.insertionpoints)!==void 0?o:[],this.pointer=e?e.pointer:void 0,this.actionmap=e&&(o=e.actionmap)!==void 0?o:new Map,this.phase=e&&(o=e.phase)!==void 0?o:"drag",this.zones=e&&(o=e.zones)!==void 0?o:[]}set over(e){this.over.$set(e,this,fEe,"over")}get over(){return this.over.$get(this,fEe,"over")}get over(){return this[MBt]||y((FBt=this.dom(),FBt),this,fEe,"over",MBt,lx.prototype)}set activezone(e){this.activezone.$set(e,this,mEe,"activezone")}get activezone(){return this.activezone.$get(this,mEe,"activezone")}get activezone(){return this[LBt]||y((NN=this.dom(),p(NN.flag,Function)?NN.flag("dragover"):NN.flag="dragover",NN),this,mEe,"activezone",LBt,lx.prototype)}set currentzone(e){this.currentzone.$set(e,this,$Ee,"currentzone")}get currentzone(){return this.currentzone.$get(this,$Ee,"currentzone")}get currentzone(){return this[DBt]||y((IN=this.dom(),p(IN.flag,Function)?IN.flag("dragover"):IN.flag="dragover",IN),this,$Ee,"currentzone",DBt,lx.prototype)}get manager(){return OP.ui.$dnd}inspect(){return!0}mount(){return this}reset(){return this}get x(){return this.pointer.x}get y(){return this.pointer.y}get point(){return new DOMPoint(this.x,this.y)}refreshzones(){let e=globalThis.document.body.querySelectorAll("[op-zone]"),t=[];for(let r=0,o=B(e),n=o.length;r<n;r++){let i=o[r];if(i.hidden)continue;let s=i[kEe],a=p(s.pos,Array)?new s.pos[0](s.pos[1]):null,u=new VN({node:i,rect:i.opbox(),mods:i[kEe],pos:a,snap:0,priority:10});if(s.global&&(u.priority=0),s.magnetic&&(p(s.magnetic,Array)?u.snap=s.magnetic[0]:u.snap=200),s.options)for(let c=0,h=B(s.options),d=h.length;c<d;c++){let f=h[c];if(p(f,OPAction))u.actions.push(f.fordnd(this,u,this.payload));else if(f!=null&&f.$shape)for(let m=0,$=B(f.$shape),b=$.length;m<b;m++){let g=$[m];g.dnd&&u.actions.push(f[g.name].fordnd(this,u,this.payload))}}t.push(u)}return this.zones=t,globalThis.dndzo=t,this}matchzones(){let e=this.point;for(let o=0,n=B(this.zones),i=n.length;o<i;o++){let s=n[o];s.rpt=e.distanceFrom(s.rect);let a=s.r=s.rpt.r.round(2);if(s.r>s.snap)s.r=s.c=1e4;else if(s.r==0&&s.snap==0)s.r=-1,s.c=s.rect.area;else{s.mc=s.rect.mc,s.c=s.r<100?e.distanceFrom(s.mc).r.round(2):1e4;let u=s.rect.tl.distanceFrom(s.mc).r;s.c=s.c/u,s.area=s.rect.area}}this.zones.sort(function(o,n){let i=n.priority-o.priority;return i!=0?i:o.r===n.r?o.c==n.c?o.area-n.area:o.c-n.c:o.r-n.r});let t=[],r;for(let o=0,n=B(this.zones),i=n.length;o<i;o++){let s=n[o];if(!(s.r>=1e4&&!s.mods.global)){for(let a=0,u=B(s.actions),c=u.length;a<c;a++){let h=u[a];if(h.refreshfordnd(),h.runnable){t.push(s.hit=r=h);break}}if(r)break}}if(this.actions=t,r){if(this.action!=r&&(this.action=r,!0))return this.currentzone=r.$zone.node,Cr()}else return this.currentzone=null}async update(e){var t=gt(this);t[yEe]??={};let r=e.type,o=new DOMPoint(e.x,e.y);return this.pointer=e,this.dataTransfer||=e.dataTransfer,this.payload||=await this.dataTransfer.opified,t[yEe].first!=!0&&(t[yEe].first=!0,!0)&&this.refreshzones(),this.matchzones(),this.render(),!0}locsforzone(e){var t=gt(this);t[bEe]??={map:new Map,point:new DOMPoint(0,0),locs:[]};let r=t[bEe].map.get(e);r||t[bEe].map.set(e,r={point:new DOMPoint(0,0),locs:[]});let o=this.point;if(o.distanceFrom(r.point).r<3)return r.locs;r.point=o;let n=e.node.op.path.filter("[role=list],.list,ul,ol");return r.locs=n.map(function(i){return i.op.insertionForPoint(o)}).compact()}setup(){var e=this;return Bt(this,this.manager),this.keepalive=ik(function(){return e.cancel()},200,2e3*1e3)}async drop(e){var o,n;this.keepalive.cancel();let t=this.dataTransfer=e.clipboardData=e.dataTransfer;t.inspect();let r=await t.opified;if(this.dropped=!0,this.payload=t.values,this.update(e),this.actions.many)this.emit("pastedrop",{event:e,actions:this.actions});else if(this.actions.empty||e.dataTransfer.files&&!t.local&&((n=(o=this.activezone)==null?void 0:o.matches)!=null&&n.call(o,".op-global-zone")))this.emit("pastedrop",{event:e});else if(this.actions.one){let i=await(async()=>{try{return await this.actions[0].run()}catch(s){return s}})();p(i,Error)&&console.error(i)}return this.dispose()}cancel(){return this.dispose()}dispose(){return this.manager[pVt]=null,this.over=this.activezone=null,this.currentzone=null,Jn(this)}resized(e){return!0}highlight(e){}render(){var x,k,_;var e,t,r,o,n,i,s,a,u,c,h,d,f,m;let $=this.actions,b=this.action,g=(_=(k=(x=this.action)==null?void 0:x.$params)==null?void 0:k.find)==null?void 0:_.call(k,xzo);return t=this,t[xEe](),r=o=1,t[HBt]===1||(r=o=0,t[HBt]=1),r||(t.ease="ease"),(n=t[BBt])||(t[BBt]=(n=this.$outline,n[HS]=t,n)),r||t[_Ee](n),e=null,(b||g)&&(i=s=1,(e=t[VBt])||(i=s=0,t[VBt]=(e=this.$zone,e[HS]=null,e)),i||(e[HS]=t),a=g||b,a===e[zBt]||(e.target=e[zBt]=a),a=this,a===e[qBt]||(e.dnd=e[qBt]=a),i||!e.setup||e.setup(s,u),e[BN](s)),t[WBt]=t[Ezo](e,0,t[WBt]),h=d=1,(c=t[ZBt])||(h=d=0,t[ZBt]=(c=this.$actions,c[HS]=t,c)),$===t[GBt]||(c.items=t[GBt]=$),f=t[YBt]||(t[YBt]={silent:!0,css:[null,null]}),f.css[0]="1boxw",f.css[1]="1boxh",h||c.on$("resize",f,this),h||!c.setup||c.setup(d,m),c[BN](d),h||t[_Ee](c),t[vEe](o),t}};E(lx,Tzo,"op-ui-drag",2),pe("op-ui-drag",lx,{cssid:"mp-ag"});var iVt=lx,Ozo=Symbol(),hne=class hne extends de{[A](e=null,t=!0,r=!0){super[A](...arguments),this.target=e?e.target:void 0}track(e){return this.target=e}untrack(){return this.pretarget||=this.target,this.flags.remove("active")}render(){var h;var e,t,r,o;let n=this.target,i,s,a,u="box",c={};if(n&&!((h=this.dnd)!=null&&h.dropped)){if(p(n,OPAction)&&(n=n.$zone),p(n,OPPos)){let d=n.value;n.after?(i=n[eVt]||=n.value,s=n[tVt]||=n.rel):(i=n[eVt]||=n.rel,s=n[tVt]||=n.value)}if(p(n,VN))c=n.hl,u="area";else if(!n.rel&&(p(n,OPBelow)||p(n,OPAbove))){let d=n.value.op.rect;u="line",c.left=d.left,c.x=d.left+(d.right-d.left)/2,c.top=p(n,OPBelow)?d.bottom:d.top,c.s=d.width,c.height=2,c.width=d.width}else if(p(n,OPSide)){let d=n.value.opbox();c.top=d.top,c.left=d.left,c.width=d.width,c.height=d.height,p(n,OPLeft)?c.width*=.5:p(n,OPRight)?c.left+=c.width*=.5:p(n,OPTop)?c.height*=.5:p(n,OPBottom)&&(c.top+=c.height*=.5)}else if(i&&s){u="line";let d=i.op.rect,f=s.op.rect,m=d.left+(f.right-d.left)/2,$=d.top+(f.bottom-d.top)/2,b=f.top>=d.bottom,g=Math.max(d.height,f.height);if(i==s){let x=2;if(p(n,OPAbove)||p(n,OPBelow)){try{x=parseInt(i.parentNode.op.style.rowGap)}catch{x=2}c={left:d.left,width:d.width,top:p(n,OPBelow)?d.bottom:d.top-x,height:x}}else{try{x=parseInt(i.parentNode.op.style.columnGap)}catch{x=2}c={top:d.top,height:d.height,left:p(n,OPBefore)?d.left:d.right+x,width:x}}}else if(b){let x=Math.min(d.left,f.left);g=Math.max(d.width,f.width),m=x+g*.5,$=d.bottom+(f.top-d.bottom)*.5;let k=Math.min(d.left,f.left);c={left:k,width:Math.max(d.right,f.right)-k,top:d.bottom,height:f.top-d.bottom}}else{let x=Math.min(d.top,f.top);g=Math.max(d.height,f.height),m=d.right+(f.left-d.right)*.5,c={top:x,height:Math.max(d.bottom,f.bottom)-x,left:d.right,width:f.left-d.right}}c.x=m,c.y=$,c.s=g}else p(n,Element)?c=n.op.rect:u="viewport";if(!p(c,DOMRect))for(let d=0,f=Object.keys(c),m=f.length,$,b;d<m;d++)$=f[d],b=c[$],c[$]=b+"px";return this.op.vars(c),this.flags.toggle("active",!!this.target),e=this,e[xEe](),t=r=1,e[XBt]===1||(t=r=0,e[XBt]=1),o=u,o===e[gEe]||(r|=2,e[gEe]=o),(!t||r&2)&&e.flagSelf$(e[gEe]||""),e[vEe](r),e}}};E(hne,Ozo,"op-ui-target",2),pe("op-ui-target",hne,{cssid:"mp-al"});var sVt=hne,Rzo=Symbol(),pne=class pne extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.zones=e&&(o=e.zones)!==void 0?o:[],this.actions=e&&(o=e.actions)!==void 0?o:[],this.cache=e&&(o=e.cache)!==void 0?o:new Map}reset(){for(let e=0,t=B(this.zones),r=t.length;e<r;e++){let o=t[e];o.op.decr("@dragover","dragover"),e==0&&o.op.decr("@focus","dragover")}return this.zones=[],this.cache=new Map}get dragel(){var i;var e=this._ns_||"",t,r={},o,n;return this[pVt]||=Bt((o=n=0,t=t=R("op-ui-drag",null,`${e}`,null),o||(t[HS]=r._),o||((i=t[hVt])==null||i.call(t,r,KBt)),o||r.sym||!t.setup||t.setup(n,r,KBt),r.sym||t[BN](n),t))}dragenter(e){var r,o;let t=e.dataTransfer;return Math.abs((((r=this[FN])==null?void 0:r.timeStamp)||0)-e.timeStamp)<200?t.local=this[FN].dataTransfer.local:Math.abs((((o=this[HN])==null?void 0:o.timeStamp)||0)-e.timeStamp)<20&&(t.local=globalThis.LocalDragData,t.source=this[HN].target),this.dragel.update(e),!0}dragover(e){var o,n;var t;this.dragel.keepalive();let r=e.dataTransfer;return e.preventDefault(),r.dropEffect="move",globalThis.document.flags.incr("dragging",500),Math.abs((((o=this[FN])==null?void 0:o.timeStamp)||0)-e.timeStamp)<200?r.local=this[FN].dataTransfer.local:Math.abs((((n=this[HN])==null?void 0:n.timeStamp)||0)-e.timeStamp)<20&&(r.local=globalThis.LocalDragData,r.source=this[HN].target),this[FN]=e,this[rVt]!=(t=""+e.x+","+e.y)&&(this[rVt]=t,!0)&&this.dragel.update(e),!0}dragend(e){return!0}dragleave(e){return!0}drag(e){return this[HN]=e,!0}drop(e){this.dragover(e),this.dragenter(e),e.preventDefault(),e.stopPropagation();let r=e.dataTransfer.fileEntries;globalThis.ddfs=r,this.dragel.drop(e)}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u;return t=this,t[xEe](),r=o=1,t[JBt]===1||(r=o=0,t[JBt]=1),(!r||o&2)&&t.flagSelf$("mp-ao"),s=a=1,(i=t[QBt])||(s=a=0,t[QBt]=i=R("i-global",t,`${n}`,null)),s||i.on$("dragenter",{$_:[function(c,h){return e.dragenter(c)}]},this),s||i.on$("dragover",{silent:!0,$_:[function(c,h){return e.dragover(c)}]},this),s||i.on$("dragend",{silent:!0,$_:[function(c,h){return e.dragend(c)}]},this),s||i.on$("dragleave",{silent:!0,$_:[function(c,h){return e.dragleave(c)}]},this),s||i.on$("drop",{$_:[function(c,h){return e.drop(c)}]},this),s||i.on$("drag",{$_:[function(c,h){return e.drag(c)}]},this),s||!i.setup||i.setup(a,u),i[BN](a),s||t[_Ee](i),t[vEe](o),t}};E(pne,Rzo,"op-ui-dnd",2),pe("op-ui-dnd",pne,{});var lVt=pne;T();oe();var Mzo=Symbol.for("#beforeReconcile"),Lzo=Symbol.for("#placeChild"),Dzo=Symbol.for("#afterReconcile"),dVt=Symbol(),fVt=Symbol(),mVt=Symbol(),Nzo=Symbol(),dne=class dne extends de{mount(){if(!this.data){let e=this.op.closest("[data-hotkey]");if(e)return this.data=e.dataset.hotkey}}render(){var e,t,r,o;if(!this.data)return;let n=Hgt.humanize(this.data);return e=this,e[Mzo](),t=r=1,e[dVt]===1||(t=r=0,e[dVt]=1),o=n,o===e[mVt]&&t||(e[fVt]=e[Lzo](e[mVt]=o,384,e[fVt])),e[Dzo](r),e}};E(dne,Nzo,"op-kbd",2),pe("op-kbd",dne,{cssid:"ms-af"});var $Vt=dne;T();oe();ge(),dt(),wo(),We(),$e();var zN=Symbol(),yVt=Symbol();var CEe=Symbol();var EEe=Symbol(),bVt=Symbol(),gVt=Symbol(),kVt=Symbol(),_Vt=Symbol(),xVt=Symbol();var jEe=Symbol(),vVt=Symbol(),wVt=Symbol(),SVt=Symbol(),VS=Symbol(),Izo=Symbol(),CVt=Symbol(),EVt=Symbol(),fne=Symbol(),zS=Symbol(),Fzo=Symbol();var AEe=Symbol();var UEe=Symbol(),jVt=Symbol(),AVt=Symbol(),UVt=Symbol(),PVt=Symbol(),TVt=Symbol(),OVt=Symbol(),RVt=Symbol(),MVt=Symbol(),Hzo=Symbol.for("#beforeReconcile"),ym=Symbol.for("##up"),ax=Symbol.for("#placeChild"),mne=Symbol.for("#appendChild"),ux=Symbol.for("#afterVisit"),BVt=Symbol.for("#getRenderContext"),VVt=Symbol.for("#isRichElement"),Bzo=Symbol.for("#insertInto"),Vzo=Symbol.for("#replaceWith"),zzo=Symbol.for("#afterReconcile"),zVt=Symbol.for("##register"),qzo=Symbol.for("#getSlot"),Wzo=Symbol.for("#replaceChild");no.addSelectors([".op-toast"],"transition");var LVt={},Zzo=Symbol(),PEe=class PEe{toast(e,t={}){return typeof t=="number"&&(t={duration:t}),t.ns=e,OP.toast(e,t)}};E(PEe,Zzo,"Event",1,Event);var DVt=PEe,Gzo=Symbol(),qS=class qS extends Ve("op","OpComponent",de){get $body(){let e=w("div",null,`op-toast-body ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}get $progress(){let e=w("div",null,`op-toast-progress ${this._ns_||""} $progress`,null);return Object.defineProperty(this,"$progress",{value:e}),e}get $content(){let e=w("div",null,`mt-al ${this._ns_||""} $content`,null);return Object.defineProperty(this,"$content",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.kind=e?e.kind:void 0,this.ns=e&&(o=e.ns)!==void 0?o:null,this.sticky=e&&(o=e.sticky)!==void 0?o:!1,this.dismissed=e&&(o=e.dismissed)!==void 0?o:!1,this.aborted=e&&(o=e.aborted)!==void 0?o:null,this.abortable=e&&(o=e.abortable)!==void 0?o:!1,this.timeout=e&&(o=e.timeout)!==void 0?o:!1,this.duration=e&&(o=e.duration)!==void 0?o:8*1e3,this.result=e&&(o=e.result)!==void 0?o:null,this.callback=e&&(o=e.callback)!==void 0?o:null}get promise(){var e=this;return new Promise(function(t,r){return e.$resolve=t,e.$reject=r})}async mount(){var e=this;return this.dur=Math.max(this.duration,this.timeout||0),this.anim=this.$progress.animate([{width:0},{width:"100%"}],{duration:this.dur,fill:"both"}),this.anim.finished.then(function(){return e.confirm()}),this.render(),this.timeout&&(this.refocus=globalThis.document.activeElement,this.focus({preventScroll:!0})),await this.op.transition("enter"),this.entered=!0}confirm(){if(!this.dismissed)return this.aborted=!1,this.result=!0,this.emit("finished"),this.$resolve&&this.$resolve(!0),this.dismiss()}async dismiss(){if(this.dismissed!=!0&&(this.dismissed=!0,!0))return(this.aborted??=!0)&&(this.result=!1,this.anim.reverse(),this.emit("aborted"),this.$resolve&&this.$resolve(!1)),this.refocus&&this.refocus.focus({preventScroll:!0}),await this.op.transition("leave"),Jn(this)}transitioninend(){return!0}reuse(){let e=this.anim.currentTime,t=this.dur-this.anim.currentTime;return this.anim.playbackRate=t/this.dur,this.fx.ripple(),this.$content.fx.beat(300,1.05),this.render(),!0}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return o=this,o[Hzo](),n=i=1,o[yVt]===1||(n=i=0,o[yVt]=1),s=this.kind,s===o[CEe]||(i|=2,o[CEe]=s),s=this.timeout||void 0,s===o[EEe]||(i|=2,o[EEe]=s),n||(o.tabIndex=0),a=o[bVt]||(o[bVt]={if:[null],$_:[function(L,I){return e.confirm(L)}]}),a.if[0]=this.timeout,n||o.on$("click",a,this),(!n||i&2)&&o.flagSelf$("op-toast "+(o[CEe]||"")+" "+(o[EEe]?"timeout":"")),t=null,this.timeout&&(c=h=1,(t=o[gVt])||(c=h=0,o[gVt]=t=w("div",null,`${u}`,null)),c||(t[ym]=o),c||t.on$("hotkey",{options:["esc"],$_:[function(L,I){return e.dismiss(L)}]},this),c||t.on$("hotkey",{options:["enter"],$_:[function(L,I){return e.confirm(L)}]},this),c||t.on$("hotkey",{options:["*"],global:!0,force:!0,stop:!0},this)),o[kVt]=o[ax](t,0,o[kVt]),(d=o[_Vt])||(o[_Vt]=(d=this.$body,d[ym]=o,d)),m=$=1,(f=o[xVt])||(m=$=0,o[xVt]=(f=this.$progress,f[ym]=d,f)),b=!this.timeout||void 0,b===o[jEe]||($|=2,o[jEe]=b),$&2&&f.flag$(`op-toast-progress ${this._ns_||""} $progress `+(o[jEe]?"mt-ak":"")),m||d[mne](f),x=k=1,(g=o[vVt])||(x=k=0,o[vVt]=(g=this.$content,g[ym]=d,g)),r=null,this.abortable&&(_=S=1,(r=g[wVt])||(_=S=0,g[wVt]=r=R("op-icon",null,`${u}`,null)),_||(r[ym]=g),_||(r.data="x"),_||r.on$("click",{stop:!0,$_:[function(L,I){return e.dismiss(L)}]},this),_||!r.setup||r.setup(S,v),r[ux](S)),g[SVt]=g[ax](r,0,g[SVt]),C=g[BVt](Izo),P=U=1,(j=C.run(this.oel(this.data,"toast-body")))||(P=U=0,C.cache(j=M(C.value,g,`${u}`,null))),j[VVt]&&((!P||U&2)&&j.flags.reconcile(VS,`${u}`),P||!j.setup||j.setup(U,C),j[ux](U)),j==g[VS]||!g[VS]&&(g[VS]=j)[Bzo](g)||g[VS][Vzo](g[VS]=j,g),x||!g.setup||g.setup(k,O),g[ux](k),x||d[mne](g),n||o[mne](d),o[zzo](i),o}};qS.prototype[Le]=De,se([ke.bind([])],qS.prototype,"promise",null),E(qS,Gzo,"op-toast",258),pe("op-toast",qS,{cssid:"mt-af"});var NVt=qS,Yzo=Symbol(),TEe=class TEe{toast(e,t={},r=null){var m;var o=gt(this),n,i={},s,a;if(o[zN]??={last:null,last_ts:Date.now()},this.toasts_off||this.error_toasts_off&&p(e,Error))return;let u=e;if(p(e,Error)&&(u=e.message),o[zN].last==u&&Date.now()-o[zN].last_ts<10*1e3)return;o[zN].last=u,o[zN].last_ts=Date.now(),console.log("Toast:",e,t),typeof e=="string"&&(e=OPString.for(e)),!p(e,OPRenderable)&&!p(e,Element)&&OP.logged("Passed unrenderable data to OPToast",{data:e}),typeof t=="number"&&(t={duration:t}),typeof(t==null?void 0:t.timeout)=="number"&&(t.duration||=t.timeout),t===!0&&(t={kind:"success"}),(t===!1||p(e,Error))&&(t={kind:"error"});let c=["failed","error"],h=["success","successfully","succeeded"];try{let $=e.value.lower.trim().split(" ")[0];c.includes($)?t.kind??="error":h.includes($)&&(t.kind??="success")}catch{}let d=LVt.last;if(d&&!d.dismissed&&d.ns&&t.ns==d.ns)return d.data=e,d.reuse(),d;let f=p(e,Element)?e:(s=a=0,n=n=R("op-toast",null,null,null),s||(n[ym]=i._),s||((m=n[zVt])==null||m.call(n,i,CVt)),e===n[EVt]||(n.data=n[EVt]=e),s||i.sym||!n.setup||n.setup(a,i,CVt),i.sym||n[ux](a),n);return Object.assign(f,t),f.render(),Bt(LVt.last=f),d&&setTimeout(function(){return d.dismiss()},50),f}};E(TEe,Yzo,"OPAdapter",1,OPAdapter);var IVt=TEe,Xzo=Symbol(),OEe=class OEe{get aslabel(){return this.constructor.name}get astoastdetail(){return this.message}get asicon(){return"error"}};E(OEe,Xzo,"Error",1,Error);var FVt=OEe,Kzo=Symbol(),REe=class REe{opowntoastbody(e,t){var U;var r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;let C=65,j=this.aslabel;this.astoastdetail&&(j+=": "+this.astoastdetail);let P=OP.Icon.closest(j)??OP.Icon.closest("toast");return a=u=1,(i=s[fne])||(a=u=0,i=s[fne]=i=R("op",null,"mt-ap",null)),a||(i[ym]=s._),a||((U=i[zVt])==null||U.call(i,s,fne)),c=i[qzo]("__",i),h=i[BVt](Fzo),f=m=1,(d=h.run(this.oicon(P)))||(f=m=0,h.cache(d=M(h.value,c,"lg",null))),d[VVt]&&($=t.kind=="success"||void 0,$===d[AEe]||(m|=2,d[AEe]=$),$=t.kind=="error"||void 0,$===d[UEe]||(m|=2,d[UEe]=$),(!f||m&2)&&d.flags.reconcile(zS,"lg "+(d[AEe]?"mt-ar":"")+" "+(d[UEe]?"mt-as":"")),f||!d.setup||d.setup(m,h),d[ux](m)),d==i[zS]||!i[zS]&&c[mne](i[zS]=d)||(c[Wzo](d,i[zS]),i[zS]=d),(b=i[jVt])||(i[jVt]=b=w("div",c,null,null)),r=null,(j==null?void 0:j.len)>C?r=j.slice(0,C)+"...":r=j,i[AVt]=b[ax](r,0,i[AVt]),o=null,t.loc&&(g=x=1,(o=i[UVt])||(g=x=0,i[UVt]=o=w("div",null,"mt-au",null)),g||(o[ym]=c),g||o[ax]("@"),k=this.loc,k===o[TVt]&&g||(o[PVt]=o[ax](o[TVt]=k,256,o[PVt]))),i[OVt]=c[ax](o,0,i[OVt]),n=null,t.timeout&&(_=S=1,(n=i[RVt])||(_=S=0,i[RVt]=n=R("op-kbd",null,null,null)),_||(n[ym]=c),_||(n.data="enter"),_||!n.setup||n.setup(S,v),n[ux](S)),i[MVt]=c[ax](n,0,i[MVt]),a||s.sym||!i.setup||i.setup(u,s,fne),s.sym||i[ux](u),i}};E(REe,Kzo,"OPRenderable",1,OPRenderable);var HVt=REe;T();oe();ge(),an(),wo(),$i();var MEe=Symbol("entries"),qVt=Symbol(),LEe=Symbol("clear"),WVt=Symbol(),DEe=Symbol("clipboard"),ZVt=Symbol(),Yk=Symbol(),GVt,NEe,qN,Jzo=le("& isa File",globalThis,l=>p(l,File)),Qzo=le("&.runnable? and &.valid?",globalThis,l=>l.runnable&&l.valid),YVt=Symbol();var IEe=Symbol(),XVt=Symbol(),KVt=Symbol(),JVt=Symbol(),WS=Symbol(),eqo=Symbol(),QVt=Symbol(),ezt=Symbol(),tzt=Symbol(),FEe=Symbol.for("#optarget"),rzt=Symbol.for("#opdrop"),tqo=Symbol.for("#beforeReconcile"),$ne=Symbol.for("#afterVisit"),ozt=Symbol.for("#appendChild"),nzt=Symbol.for("##up"),rqo=Symbol.for("#getRenderContext"),oqo=Symbol.for("#isRichElement"),nqo=Symbol.for("#insertInto"),iqo=Symbol.for("#replaceWith"),sqo=Symbol.for("#placeChild"),lqo=Symbol.for("#afterReconcile");no.addSelectors([".mn-ai"],"transition");var aqo=Symbol(),WN=class WN extends OPEmbed{set entries(e){this.entries.$set(e,this,MEe,"entries")}get entries(){return this.entries.$get(this,MEe,"entries")}get entries(){return this[qVt]||y((GVt=this.refs(OPObject),GVt),this,MEe,"entries",qVt,WN.prototype)}set clear(e){this.clear.$set(e,this,LEe,"clear")}get clear(){return this.clear.$get(this,LEe,"clear")}get clear(){return this[WVt]||y((NEe=this.action(),NEe.callback=function(){let e=[...this.entries];for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];this.entries.delete(n)}return this},NEe),this,LEe,"clear",WVt,WN.prototype)}};E(WN,aqo,"OPSessionClipboard",0);var yne=WN;globalThis.OPSessionClipboard=yne;var uqo=Symbol(),HEe=class HEe{set clipboard(e){this.clipboard.$set(e,this,DEe,"clipboard")}get clipboard(){return this.clipboard.$get(this,DEe,"clipboard")}get clipboard(){return this[ZVt]||y((qN=this.embed(yne),p(qN.local,Function)?qN.local():qN.local=!0,qN),this,DEe,"clipboard",ZVt,OPSession.prototype)}};E(HEe,uqo,"OPSession",1,OPSession);var izt=HEe,cqo=Symbol(),bne=class bne extends de{get $actions(){let e=R("op-mis",null,`mn-al xl ${this._ns_||""} $actions`,null);return Object.defineProperty(this,"$actions",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.payload=e?e.payload:void 0,this.options=e&&(o=e.options)!==void 0?o:null}get clipboard(){return globalThis.navigator.clipboard}copy(e){var d,f,m,$,b;var t=gt(this),r;if(t[Yk]??=0,window.getSelection().toString()||p(r=globalThis.document.activeElement,HTMLInputElement)||p(r,HTMLTextAreaElement)||(f=(d=globalThis.document.activeElement)==null?void 0:d.closest)!=null&&f.call(d,"op-markdown"))return;let{x:n,y:i}=OP.ui.pointer,s=e[FEe]||(typeof n=="number"?globalThis.document.elementFromPoint(n,i):e.target),a=(m=s.op.closest(OPObject))==null?void 0:m.data,u=globalThis.document.querySelectorAll(".sel"),c=[];for(let g=0,x=B(u),k=x.length;g<k;g++){let _=x[g];p(_.data,OPObject)&&c.push(_.data)}!c.length&&a&&c.push(a);try{for(let g=0,x=B(c),k=x.length;g<k;g++){let _=x[g];_.$branch&&(_=_.$upstream),OP.session.clipboard.entries.add(_)}}catch{}if(($=OP.user)!=null&&$.admin){t[Yk]++;let g=s.op.opview;globalThis["v"+t[Yk]]=g,globalThis["o"+t[Yk]]=a,OP.copystr(a.id),OP.sub(a.$root),console.group(("v"+t[Yk]+", o"+t[Yk]).blue),console.log(("v"+t[Yk]).blue,g),console.log(("o"+t[Yk]).blue,a),console.groupEnd()}s=e[FEe]||globalThis.document.activeElement;let h=(b=s==null?void 0:s.$sels)==null?void 0:b.values;if(h!=null&&h.size)return e.preventDefault(),e.clipboardData.models=h,OP.toast("Copied "+h.size+" items to clipboard",2*1e3)}async paste(e){var c,h,d,f,$;if((c=globalThis.document.activeElement)!=null&&c.opacceptimages)return;let t={},r=e;e.type=="pastedrop"&&(t=e.detail,e=e.detail.event);let o=e[FEe]||globalThis.document.activeElement,n=p(e.original,DragEvent);if(this.payload=e==null?void 0:e.clipboardData,this.payload.inspect(),(this.payload.files||o._tag&&o._tag.onoppaste)&&(e.preventDefault(),e.stopPropagation()),await this.payload.opified,(h=o==null?void 0:o.matches)!=null&&h.call(o,"input,textarea"))return;let i=(f=(d=e.target)==null?void 0:d.closest)==null?void 0:f.call(d,".op-markdown");if(i&&i._tag&&i._tag.onoppaste){let b=await Promise.all(this.payload.values.filter(Jzo).map(function(g){return OPAsset.for(g)}));this.payload._assets=b,this.payload._data=this.payload.raw,i._tag.onoppaste(e,this.payload);return}if(o!=null&&o.isContentEditable)return;let s=t.actions||[],a=this.payload.values;if(!(($=t.actions)!=null&&$.length)){let b=[],g=Array.from(globalThis.document.querySelectorAll(".op-zone")).reverse(),x=new Set,k=new Set;for(let _=0,S=B(g),v=S.length;_<v;_++){let C=S[_],j=C[rzt].options;b=[];for(let P=0,U=B(j),O=U.length;P<O;P++){let L=U[P];if(p(L,OPAction))b.add(L);else if(L!=null&&L.$shape){k.add(L);for(let I=0,F=B(L.$shape),N=F.length;I<N;I++){let V=F[I];V.dnd&&b.add(L[V])}}}for(let P=0,U=B(b),O=U.length;P<O;P++){let L=U[P];if(x.has(L))continue;x.add(L);let I=L.withcontext(a);I.populate(...a),I&&s.push(I)}if(s.length&&C[rzt].stop)break}}s=s.filter(Qzo),globalThis.acts=s,s.any?this.actions=s:(this.actions=null,n?OP.toast("No action found for dropped content",1*1e3):OP.toast("No action found for pasted content",3*1e3)),this.render()}cancel(){return this.actions=null}close(){return this.actions=null}render(){var O;var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;return r=this,r[tqo](),o=n=1,r[YVt]===1||(o=n=0,r[YVt]=1),i=((O=this.actions)==null?void 0:O.length)||void 0,i===r[IEe]||(n|=2,r[IEe]=i),(!o||n&2)&&r.flagSelf$(r[IEe]?"active":""),u=c=1,(a=r[XVt])||(u=c=0,r[XVt]=a=R("i-global",r,`${s}`,null)),u||a.on$("copy",{$_:[function(L,I){return e.copy(L)}]},this),u||a.on$("cut",{$_:[function(L,I){return e.copy(L)}]},this),u||a.on$("paste",{capture:!0,$_:[function(L,I){return e.paste(L)}]},this),u||a.on$("pastedrop",{$_:[function(L,I){return e.paste(L)}]},this),u||!a.setup||a.setup(c,h),a[$ne](c),u||r[ozt](a),t=null,this.actions&&(d=f=1,(t=r[KVt])||(d=f=0,r[KVt]=t=w("div",null,`mn-ai ${s}`,null)),d||(t[nzt]=r),d||(t.ease="ease"),d||t.on$("hotkey",{options:["esc"],$_:[function(L,I){return e.cancel(L)}]},this),$=b=1,(m=t[JVt])||($=b=0,t[JVt]=m=w("div",t,`%preview ${s}`,null)),g=m[rqo](eqo),k=_=1,(x=g.run(OPVIEW(this.payload,"preview")))||(k=_=0,g.cache(x=M(g.value,m,`${s}`,null))),x[oqo]&&((!k||_&2)&&x.flags.reconcile(WS,`${s}`),k||!x.setup||x.setup(_,g),x[$ne](_)),x==m[WS]||!m[WS]&&(m[WS]=x)[nqo](m)||m[WS][iqo](m[WS]=x,m),$||!m.setup||m.setup(b,S),m[$ne](b),C=j=1,(v=t[QVt])||(C=j=0,t[QVt]=(v=this.$actions,v[nzt]=t,v)),P=this.actions,P===t[ezt]||(v.items=t[ezt]=P),C||v.on$("tapped",{$_:[function(L,I){return e.log("TAPPED ACTION",L.detail,L)}]},this),C||v.on$("acted",{$_:[function(L,I){return e.close(L)}]},this),C||!v.setup||v.setup(j,U),v[$ne](j),C||t[ozt](v)),r[tzt]=r[sqo](t,0,r[tzt]),r[lqo](n),r}};E(bne,cqo,"op-ui-clipboard",2),pe("op-ui-clipboard",bne,{cssid:"mn-af"});var szt=bne;T();oe();T();var ZS=class{constructor(e,t,r=""){this.attributes=e,this.content=t,this.flags=r}adoptNode(e){for(let[t,r]of Object.entries(this.attributes))e.setAttribute(t,r);e.innerHTML=this.content}};var lzt=new ZS({viewBox:"0 0 256 256"},'<polyline points="208 96 128 176 48 96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>',"phosphor");var BEe=new ZS({viewBox:"0 0 256 256"},'<polyline points="80 176 128 224 176 176" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><polyline points="80 80 128 32 176 80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>',"phosphor");var gne=new ZS({viewBox:"0 0 256 256"},'<polyline points="40 144 96 200 224 72" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>',"phosphor");var kne=new ZS({viewBox:"0 0 256 256"},'<line x1="200" y1="56" x2="56" y2="200" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/><line x1="200" y1="200" x2="56" y2="56" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>',"phosphor");ge(),un(),Hl(),wo();var VEe=Symbol.for("#action"),GS=Symbol.for("#opening"),ZN=Symbol.for("#getRenderContext"),Rf=Symbol.for("##up"),cx=Symbol.for("##register"),GN=Symbol.for("#isRichElement"),Dh=Symbol.for("#afterVisit"),hqo=Symbol.for("#beforeReconcile"),pqo=Symbol.for("#visit"),zEe=Symbol.for("#insertInto"),qEe=Symbol.for("#replaceWith"),WEe=Symbol.for("#placeChild"),dqo=Symbol.for("#afterReconcile"),xne=Symbol(),azt=Symbol(),uzt=Symbol(),czt=Symbol(),hzt=Symbol(),pzt=Symbol();var ZEe=Symbol(),dzt=Symbol(),fzt=Symbol();var GEe=Symbol(),mzt=Symbol(),YS=Symbol(),fqo=Symbol(),XS=Symbol(),mqo=Symbol(),KS=Symbol(),$qo=Symbol(),$zt=Symbol(),yzt=Symbol(),bzt=Symbol(),gzt=Symbol();var kzt=Symbol(),_zt=Symbol(),vne=Symbol(),yqo=le("&.as-label",globalThis,l=>l.aslabel),wne=Symbol(),xzt=Symbol(),vzt=Symbol(),wzt=Symbol(),Sne=Symbol(),Szt=Symbol(),YEe=Symbol(),Cne=Symbol(),Czt=Symbol(),Ezt=Symbol(),jzt=Symbol(),Ene=Symbol(),Azt=Symbol(),Uzt=Symbol(),Pzt=Symbol(),Tzt=Symbol(),bqo=Symbol(),jne=class jne extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.icon=e?e.icon:void 0,this.label=e?e.label:void 0,this.role=e&&(o=e.role)!==void 0?o:"menuitem",this.type=e?e.type:void 0,this.state=e?e.state:void 0,this.action=e?e.action:void 0}awaken(){return!0}prepare(){let e=this.data;return p(e,OPGetterProp)&&(e=e.value),!this[VEe]&&!p(this.context,OPRefProp)&&(this.submenu=e&&e.submenu!==!1&&OPVIEW(e,"sub-menu",this,!1,this.state={})),!0}async act(e){var r;let t;if(p(this.action,OPAction))t=this.action.run({event:e});else if(p(this.context,OPRefProp))this.context.value=this.data,this.emit("pick",this.data);else if(this.submenu){this.open();return}else p(this.data,OPAction)?t=this.data.run({event:e}):p(this.context,OPProp)?(this.context.value=this.data,this.emit("pick",this.data)):p(this.context,OPEntries)?this.context.toggle(this.data):(r=this.data)!=null&&r.miclick&&await this.data.miclick(e);if(t)try{t.then(function(){return!0})}catch{}if(this.emit("act",this),p(this.data,OPAction)||p(this.action,OPAction))return await Promise.resolve(!0),this.emit("acted",this)}get invalid(){return p(this.data,OPAction)?this.data.validate():!1}get submenu(){return this.submenu&&!this[VEe]}selected(e){this.autoopen()}deselected(e){var t;if(this.cancelopen(),(t=this.submenu)!=null&&t.element)return Jn(this.submenu.element),this.submenu.element=null}opnaventer(e){return this.emit("tapped")}open(e,t=!1){var r=this;if(this.submenu){clearTimeout(this[GS]),this[GS]=null;let o={focusonhover:!0},n=OP.ui.last.pointermove,i=function(){return OP.ui.last.submenuclosed=Date.now(),r.submenu.element=null},s=this.submenu.el=this.submenu.element??=Bt(function(){var $;var a=H(),u,c=r._ns_||"",h,d,f,m;return a.this=this,u=a[ZN](xne),d=f=1,(h=u.run(r.submenu()))||(d=f=0,u.cache(h=M(u.value,null,`lr tt ${c}`,null))),d||(h[Rf]=a._),d||(($=h[cx])==null||$.call(h,a,xne)),h[GN]&&(m=r,m===h[azt]||(h.rel=h[azt]=m),n===h[uzt]||(h.opener=h[uzt]=n),d||(h.popup__={submenu:!0}),d||(h.popup="popup"),m=r,m===h[czt]||(h.anchored=h[czt]=m),m=r,m===h[hzt]||(h.opnavparent=h[hzt]=m),d||(h.focusonhover="focus-on-hover"),d||h.on$("out",{self:!0,$_:[function(b,g){return i(b)}]},r),(!d||f&2)&&h.flags.reconcile(xne,`lr tt ${c}`),d||a.sym||!h.setup||h.setup(f,a,xne),a.sym||h[Dh](f)),h});if(s&&t)return s.opnavfocus()}}autoopen(e){var r,o,n;var t=this;if(this.submenu&&!((n=(o=(r=this.submenu)==null?void 0:r.el)==null?void 0:o.contains)!=null&&n.call(o,e==null?void 0:e.relatedTarget)))return this[GS]??=setTimeout(function(){let s=OP.ui.elapsed.submenuclosed<60?1:240;return t[GS]=setTimeout(function(){return t.open()},s)},50)}cancelopen(){return clearTimeout(this[GS]),this[GS]=null}toggle(e){if(this.submenu)return this.open(e,!0)}render(){var q,Y,K,X,Z,Q,ee;var e=this,t,r,o,n,i,s,a,u,c=this._ns_||"",h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N;let V=this.label??((q=this.data)==null?void 0:q.aslabel)??((Y=this.data)==null?void 0:Y.label)??((Z=(X=(K=this.data)==null?void 0:K.name)==null?void 0:X.replaceAll)==null?void 0:Z.call(X,""," ")),W=p(o=this.context,OPProp)||p(o,OPEntries)?this.context:null,z=W&&Cn(this.data,W);return n=this,n[hqo](),i=s=1,n[pzt]===1||(i=s=0,n[pzt]=1),a=z||void 0,a===n[ZEe]||(s|=2,n[ZEe]=a),i||(n.hotkeys=!0),i||n.on$("tapped",{trap:!0,flag:["busy"],$_:[function(te,ne){return e.act(te)}]},this),i||n.on$("selected",{silent:!0,$_:[function(te,ne){return e.selected(te)}]},this),i||n.on$("deselected",{silent:!0,$_:[function(te,ne){return e.deselected(te)}]},this),i||n.on$("opnav",{onhover:!0,item:!0},this),u=n[dzt]||(n[dzt]={options:[null]}),a=this.data,a===u.options[0]||(u.options[0]=a,s|=48),i||n.on$("opmenu",u,this),s&32&&(s^=32,(Q=u[pqo])==null||Q.call(u)),i||n.on$("focus",{silent:!0,$_:[function(te,ne){return e.autoopen(te)}]},this),i||n.on$("blur",{silent:!0,$_:[function(te,ne){return e.cancelopen(te)}]},this),i||n.on$("opnavspace",{self:!0,trap:!0,$_:[function(te,ne){return e.toggle(te)}]},this),u=n[fzt]||(n[fzt]={right:!0,if:[null],trap:!0,$_:[function(te,ne){return e.open(te,!0)}]}),u.if[0]=this.submenu,i||n.on$("keydown",u,this),a=((ee=this.data)==null?void 0:ee.danger)||void 0,a===n[GEe]||(s|=2,n[GEe]=a),(!i||s&2)&&n.flagSelf$("item op-mi "+(n[ZEe]?"checked":"")+" "+(n[GEe]?"red":"")),h=n.__slots.__,(!h||!h.hasChildNodes())&&(d=f=1,(h=n[mzt])||(d=f=0,n[mzt]=h=w("div",null,`omi-body ${c}`,null)),d||(h[Rf]=n),m=h[ZN](fqo),b=g=1,($=m.run(this.oel(this.data,"mi-icon")))||(b=g=0,m.cache($=M(m.value,h,`mi-icon ${c}`,null))),$[GN]&&((!b||g&2)&&$.flags.reconcile(YS,`mi-icon ${c}`),b||!$.setup||$.setup(g,m),$[Dh](g)),$==h[YS]||!h[YS]&&(h[YS]=$)[zEe](h)||h[YS][qEe](h[YS]=$,h),x=h[ZN](mqo),_=S=1,(k=x.run(this.oel(this.data,"mi-label")))||(_=S=0,x.cache(k=M(x.value,h,`${c}`,null))),k[GN]&&((!_||S&2)&&k.flags.reconcile(XS,`${c}`),_||!k.setup||k.setup(S,x),k[Dh](S)),k==h[XS]||!h[XS]&&(h[XS]=k)[zEe](h)||h[XS][qEe](h[XS]=k,h),v=h[ZN]($qo),j=P=1,(C=v.run(this.oel(this.data,"mi-suffix")))||(j=P=0,v.cache(C=M(v.value,h,`${c}`,null))),C[GN]&&((!j||P&2)&&C.flags.reconcile(KS,`${c}`),j||!C.setup||C.setup(P,v),C[Dh](P)),C==h[KS]||!h[KS]&&(h[KS]=C)[zEe](h)||h[KS][qEe](h[KS]=C,h),t=null,z&&(U=O=1,(t=h[$zt])||(U=O=0,h[$zt]=t=R("op-icon",null,`mv-am ${c}`,null)),U||(t[Rf]=h),U||(t.data="v"),U||!t.setup||t.setup(O,L),t[Dh](O)),h[yzt]=h[WEe](t,0,h[yzt]),r=null,this.submenu&&!this[VEe]&&!p(this.context,OPRefProp)&&(I=F=1,(r=h[bzt])||(I=F=0,h[bzt]=r=w("div",null,`mi-suffix ${c}`,"")),I||(r[Rf]=h)),h[gzt]=h[WEe](r,0,h[gzt]),d||!h.setup||h.setup(f,N),h[Dh](f)),h===n[_zt]||(n[kzt]=n[WEe](n[_zt]=h,384,n[kzt])),n[dqo](s),n}};E(jne,bqo,"op-mi",2),pe("op-mi",jne,{});var Ozt=jne,gqo=Symbol(),XEe=class XEe{opownmenu(e,t){var d,f;var r,o=H(),n,i,s,a,u,c;let h=(n=i=1,(r=o[vne])||(n=i=0,r=o[vne]=r=R("ostate",null,null,null)),n||(r[Rf]=o._),n||((d=r[cx])==null||d.call(r,o,vne)),n||o.sym||!r.setup||r.setup(i,o,vne),o.sym||r[Dh](i),r);return h.options||=this.$options.desc(yqo).desc(le("& in self",this,m=>Cn(m,this))),a=u=1,(s=o[wne])||(a=u=0,s=o[wne]=s=R("op-pis",null,"mv-ap",null)),a||(s[Rf]=o._),a||((f=s[cx])==null||f.call(s,o,wne)),c=this,c===s[xzt]||(s.data=s[xzt]=c),c=h.options,c===s[vzt]||(s.options=s[vzt]=c),c=this,c===s[wzt]||(s.context=s[wzt]=c),a||(s.tapevent="tapped"),a||(s.clickable="clickable"),a||(s.focusonhover="focus-on-hover"),a||(s.multiple="multiple"),a||(s.kind="mi"),a||s.on$("opnav",{stack:!0,area:!0,list:!0},this),a||o.sym||!s.setup||s.setup(u,o,wne),o.sym||s[Dh](u),s}get asicon(){return this.$field.asicon}};E(XEe,gqo,"OPRefs",1,OPRefs);var Rzt=XEe,kqo=Symbol(),KEe=class KEe{get opownmenu(){return null}};E(KEe,kqo,"OPProp",1,OPProp);var Mzt=KEe,_qo=Symbol(),JEe=class JEe{opownmisuffix(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Sne])||(r=o=0,e=t[Sne]=e=R("op-toggle",null,"mv-aq sm",null)),r||(e[Rf]=t._),r||((i=e[cx])==null||i.call(e,t,Sne)),n=this,n===e[Szt]||(e.data=e[Szt]=n),r||t.sym||!e.setup||e.setup(o,t,Sne),t.sym||e[Dh](o),e}miclick(e){return this.toggle()}};E(JEe,_qo,"OPBoolProp",1,OPBoolProp);var Lzt=JEe,xqo=Symbol(),QEe=class QEe{opownlabel(){var i;var e,t,r=H(),o,n;return e=r[ZN](YEe),o=n=1,(t=e.run(this.oel(this.value,"label")))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Rf]=r._),o||((i=t[cx])==null||i.call(t,r,YEe)),t[GN]&&(o||r.sym||!t.setup||t.setup(n,r,YEe),r.sym||t[Dh](n)),t}opownmi(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Cne])||(r=o=0,e=t[Cne]=e=R("op-mi",null,null,null)),r||(e[Rf]=t._),r||((i=e[cx])==null||i.call(e,t,Cne)),n=this,n===e[Czt]||(e.datas=e[Czt]=n),r||(e.data__={rich:!0}),n=this.value,n===e[Ezt]||(e.data=e[Ezt]=n),n=this.$up,n===e[jzt]||(e.context=e[jzt]=n),r||t.sym||!e.setup||e.setup(o,t,Cne),t.sym||e[Dh](o),e}};E(QEe,xqo,"OPPropValue",1,OPPropValue);var Dzt=QEe,vqo=Symbol(),eje=class eje{opownmisuffix(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Ene])||(r=o=0,e=t[Ene]=e=R("op-number-stepper",null,null,null)),r||(e[Rf]=t._),r||((i=e[cx])==null||i.call(e,t,Ene)),n=this.$field.step,n===e[Azt]||(e.step=e[Azt]=n),n=this.$field.min,n===e[Uzt]||(e.min=e[Uzt]=n),n=this.$field.max,n===e[Pzt]||(e.max=e[Pzt]=n),n=e[Tzt]||(e[Tzt]=e.bind$("value",[null,"value"])),n[0]=this,r||e.on$("hotkey",{options:["left"],emit:["decr"]},this),r||e.on$("hotkey",{options:["right"],emit:["incr"]},this),r||t.sym||!e.setup||e.setup(o,t,Ene),t.sym||e[Dh](o),e}};E(eje,vqo,"OPNumberProp",1,OPNumberProp);var Nzt=eje,wqo=Symbol(),tje=class tje{opownmenu(...e){var t,r;return(r=(t=this.value)==null?void 0:t.opownmenu)==null?void 0:r.call(t,...e)}};E(tje,wqo,"OPGetterProp",1,OPGetterProp);var Izt=tje;T();oe();ge(),un();var Sqo=Symbol.for("#beforeReconcile"),YN=Symbol.for("##up"),XN=Symbol.for("#afterVisit"),KN=Symbol.for("#placeChild"),Fzt=Symbol.for("#getRenderContext"),Hzt=Symbol.for("#isRichElement"),Bzt=Symbol.for("#insertInto"),Vzt=Symbol.for("#replaceWith"),Cqo=Symbol.for("#afterReconcile"),zzt=Symbol();var rje=Symbol(),qzt=Symbol(),Wzt=Symbol(),JS=Symbol(),Eqo=Symbol(),QS=Symbol(),jqo=Symbol(),Zzt=Symbol(),Gzt=Symbol(),Yzt=Symbol(),Xzt=Symbol(),Kzt=Symbol(),Jzt=Symbol(),Qzt=Symbol(),eqt=Symbol(),tqt=Symbol();var oje=Symbol(),rqt=Symbol(),Aqo=Symbol(),Ane=class Ane extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.detail=e?e.detail:void 0}get $ghost(){return this}get pars(){var e;return(e=this.data)==null?void 0:e.$params}press(){if(p(this.ctx.data,OPEnumProp))return this.ctx.data.value=this.data,this.render()}get checked(){var e;if(p((e=this.ctx)==null?void 0:e.data,OPEnumProp))return this.ctx.data.value==this.data}render(){var Z;var e=this,t,r,o,n,i,s,a,u,c=this._ns_||"",h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;let X=this.detail??this.data.aspidetail;if(i=this,i[Sqo](),s=a=1,i[zzt]===1||(s=a=0,i[zzt]=1),s||(i.role="listitem"),s||i.on$("opnav",{item:!0},this),s||i.on$("keydown",{space:!0,trap:!0,$_:[function(Q,ee){return e.press(Q)}]},this),u=this.checked||void 0,u===i[rje]||(a|=2,i[rje]=u),(!s||a&2)&&i.flagSelf$("mw-ag op-pi "+(i[rje]?"checked":"")),t=null,p((Z=this.ctx)==null?void 0:Z.data,OPEnumProp)&&(h=d=1,(t=i[qzt])||(h=d=0,i[qzt]=t=R("op-icon",null,`mw-ah ${c}`,null)),h||(t[YN]=i),h||(t.data="v"),h||!t.setup||t.setup(d,f),t[XN](d)),i[Wzt]=i[KN](t,0,i[Wzt]),m=i[Fzt](Eqo),b=g=1,($=m.run(this.oel(this.data,"pi-icon",this.context)))||(b=g=0,m.cache($=M(m.value,i,`${c}`,null))),$[Hzt]&&((!b||g&2)&&$.flags.reconcile(JS,`${c}`),b||!$.setup||$.setup(g,m),$[XN](g)),$==i[JS]||!i[JS]&&(i[JS]=$)[Bzt](i)||i[JS][Vzt](i[JS]=$,i),x=i[Fzt](jqo),_=S=1,(k=x.run(this.oel(this.data,"pi-label",this.context)))||(_=S=0,x.cache(k=M(x.value,i,`${c}`,null))),k[Hzt]&&((!_||S&2)&&k.flags.reconcile(QS,`${c}`),_||!k.setup||k.setup(S,x),k[XN](S)),k==i[QS]||!i[QS]&&(i[QS]=k)[Bzt](i)||i[QS][Vzt](i[QS]=k,i),r=null,X&&(v=C=1,(r=i[Zzt])||(v=C=0,i[Zzt]=r=w("span",null,`mw-ak detail ${c}`,null)),v||(r[YN]=i),j=X,j===r[Yzt]&&v||(r[Gzt]=r[KN](r[Yzt]=j,384,r[Gzt]))),i[Xzt]=i[KN](r,0,i[Xzt]),o=null,this.pars){P=U=1,(o=i[Kzt])||(P=U=0,i[Kzt]=o=w("div",null,`pars sm ${c}`,null)),P||(o[YN]=i),(O=o[Jzt])||(o[Jzt]=O=Jt(384,o)),L=0,I=O.$;for(let Q=0,ee=B(this.pars),te=ee.length;Q<te;Q++){let ne=ee[Q];N=V=1,(F=I[L])||(N=V=0,I[L]=F=R("op-refs",O,`${c}`,null)),N||(F[YN]=O),ne===F[Qzt]||(F.data=F[Qzt]=ne),N||!F.setup||F.setup(V,W),F[XN](V),L++}O[XN](L)}return i[eqt]=i[KN](o,0,i[eqt]),s||(z=w("div",i,`mw-an ${c}`,null)),n=null,this.selected&&(q=Y=1,(n=i[tqt])||(q=Y=0,i[tqt]=n=w("div",null,`mw-ao ${c}`,null)),q||(n[YN]=i),K=this.selected.has(this.data)||void 0,K===n[oje]||(Y|=2,n[oje]=K),Y&2&&n.flag$(`mw-ao ${c} `+(n[oje]?"checked":""))),i[rqt]=i[KN](n,0,i[rqt]),i[Cqo](a),i}};E(Ane,Aqo,"op-pi",2),pe("op-pi",Ane,{cssns:"mw_af",cssid:"mw-af"});var oqt=Ane;T();oe();ge(),$e();var eI=Symbol.for("#insertInto"),nqt=Symbol.for("#removeFrom"),pWt=Symbol.for("#beforeReconcile"),Zi=Symbol.for("##up"),Uqo=Symbol.for("#getDynamicContext"),Mf=Symbol.for("#isRichElement"),wa=Symbol.for("#afterVisit"),hs=Symbol.for("#placeChild"),dWt=Symbol.for("#afterReconcile"),Pqo=Symbol.for("#visit"),bm=Symbol.for("#getRenderContext"),Sa=Symbol.for("##register"),fWt=Symbol.for("#replaceWith"),Tqo=Symbol.for("#getSlot"),iqt=Symbol.for("#appendChild"),sqt=Symbol.for("#replaceChild"),lqt=Symbol(),aqt=Symbol(),uqt=Symbol(),Oqo=Symbol(),Rqo=Symbol();var cqt=Symbol(),hqt=Symbol(),pqt=Symbol(),dqt=Symbol(),fqt=Symbol(),nje=Symbol(),Une=Symbol(),mqt=Symbol(),$qt=Symbol(),yqt=Symbol(),e7=Symbol(),Mqo=Symbol(),ije=Symbol(),bqt=Symbol(),gqt=Symbol(),kqt=Symbol(),sje=Symbol(),_qt=Symbol(),xqt=Symbol(),lje=Symbol(),vqt=Symbol(),wqt=Symbol(),Sqt=Symbol(),Cqt=Symbol(),Eqt=Symbol(),jqt=Symbol(),aje=Symbol(),Aqt=Symbol(),Uqt=Symbol(),Pqt=Symbol(),Tqt=Symbol(),Oqt=Symbol(),Rqt=Symbol(),uje=Symbol(),Mqt=Symbol(),Lqt=Symbol(),cje=Symbol(),hje=Symbol(),pje=Symbol(),dje=Symbol(),Dqt=Symbol(),Nqt=Symbol(),Pne=Symbol(),JN=Symbol(),Lqo=Symbol(),Iqt=Symbol(),Fqt=Symbol(),Hqt=Symbol(),Tne=Symbol(),Bqt=Symbol(),Vqt=Symbol(),zqt=Symbol(),qqt=Symbol(),Wqt=Symbol(),Zqt=Symbol(),Dqo=Symbol(),Nqo=Symbol(),Gqt=Symbol(),Yqt=Symbol(),One=Symbol(),Xqt=Symbol(),Kqt=Symbol(),t7=Symbol(),Iqo=Symbol(),QN=Symbol(),Fqo=Symbol(),fje=Symbol(),Jqt=Symbol(),Qqt=Symbol(),Hqo=Symbol(),Rne=class Rne extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.only=e?e.only:void 0,this.depth=e?e.depth:void 0,this.include=e?e.include:void 0}get items(){var e=this;return p(this.data,Array)?this.data:this.only?this.only.split("|").map(function(t){return e.data.$[t]}):this.include?this.include.split("|").reduce(function(t,r){return t.push(e.data.$[r]),t},this.data.$.$stats):this.data.$.$stats}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$;if(e=this,e[pWt](),t=r=1,e[lqt]===1||(t=r=0,e[lqt]=1),(!t||r&2)&&e.flagSelf$("ostats"),n=e.__slots.__,!n||!n.hasChildNodes()){i=s=1,(n=e[aqt])||(i=s=0,e[aqt]=n=w("div",null,`mz-ah ${o}`,null)),i||(n[Zi]=e),(a=e[uqt])||(e[uqt]=a=wt(384,n)),u=0,c=a.$;for(let b=0,g=B(this.items),x=g.length;b<x;b++){let k=g[b];f=m=1,(d=(h=c[Uqo](Oqo,u)).run(this.ostat(k)))||(f=m=0,h.cache(d=M(h.value,a,`${o}`,null))),f||(d[Zi]=a),d[Mf]&&((!f||m&2)&&d.flags.reconcile(Rqo,`${o}`),f||!d.setup||d.setup(m,h),d[wa](m)),a.push(d,u++,$)}a[wa](u)}return n===e[hqt]||(e[cqt]=e[hs](e[hqt]=n,384,e[cqt])),e[dWt](r),e}};E(Rne,Hqo,"op-stats",2),pe("op-stats",Rne,{});var eWt=Rne,Bqo=Symbol(),Mne=class Mne extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.sep=e&&(o=e.sep)!==void 0?o:globalThis.document.createElement("hr")}[eI](e,t){return this.sep[eI](e,t),super[eI](...arguments)}[nqt](e){return e.removeChild(this.sep),super[nqt](...arguments)}render(){var a;var e,t,r,o,n,i=this._ns_||"",s;return e=this,e[pWt](),t=r=1,e[pqt]===1||(t=r=0,e[pqt]=1),t||e.on$("optip",{},this),o=e[dqt]||(e[dqt]={options:[null]}),n=this.data,n===o.options[0]||(o.options[0]=n,r|=48),t||e.on$("opmenu",o,this),r&32&&(r^=32,(a=o[Pqo])==null||a.call(o)),s=e.__slots.__,e[fqt]=e[hs](s,384,e[fqt]),e[dWt](r),e}};E(Mne,Bqo,"op-stat",10),pe("op-stat",Mne,{cssid:"mz-aj"});var tWt=Mne,Vqo=Symbol(),mje=class mje{opownvalue(){var i;var e,t,r=H(),o,n;return e=r[bm](nje),o=n=1,(t=e.run(this.olink(this.value)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Zi]=r._),o||((i=t[Sa])==null||i.call(t,r,nje)),t[Mf]&&(o||r.sym||!t.setup||t.setup(n,r,nje),r.sym||t[wa](n)),t}opownvaluelabel(){return this.oel(this.value,"value-label")}opownstatlabel(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[Une])||(r=o=0,e=t[Une]=e=w("span",null,"mz-an",null)),r||(e[Zi]=t._),r||((h=e[Sa])==null||h.call(e,t,Une)),(n=e[mqt])||(e[mqt]=n=w("span",e,"olabel verbose",null)),i=this.asstatlabel,i===e[yqt]&&r||(e[$qt]=n[hs](e[yqt]=i,384,e[$qt])),s=e[bm](Mqo),u=c=1,(a=s.run(this.oel(this,"stat-value-label")))||(u=c=0,s.cache(a=M(s.value,e,"value",null))),a[Mf]&&((!u||c&2)&&a.flags.reconcile(e7,"value"),u||!a.setup||a.setup(c,s),a[wa](c)),a==e[e7]||!e[e7]&&(e[e7]=a)[eI](e)||e[e7][fWt](e[e7]=a,e),r||t.sym||!e.setup||e.setup(o,t,Une),t.sym||e[wa](o),e}};E(mje,Vqo,"OPProp",1,OPProp);var rWt=mje,zqo=new Intl.NumberFormat("en-US"),qqo=Symbol(),$je=class $je{opownvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[ije])||(r=o=0,e=t[ije]=e=w("div",null,null,null)),r||(e[Zi]=t._),r||((i=e[Sa])==null||i.call(e,t,ije)),pt.context=e[gqt]||(e[gqt]={_:e}),n=zqo.format(this.value),pt.context=null,n===e[kqt]&&r||(e[bqt]=e[hs](e[kqt]=n,384,e[bqt])),e}};E($je,qqo,"OPNumberProp",1,OPNumberProp);var oWt=$je,Wqo=Symbol(),yje=class yje{opownvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[sje])||(r=o=0,e=t[sje]=e=w("div",null,null,null)),r||(e[Zi]=t._),r||((i=e[Sa])==null||i.call(e,t,sje)),n=this.asstring,n===e[xqt]&&r||(e[_qt]=e[hs](e[xqt]=n,384,e[_qt])),e}};E(yje,Wqo,"OPMoneyProp",1,OPMoneyProp);var nWt=yje,Zqo=Symbol(),bje=class bje{opownstatlabel(){var u,c;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[lje])||(r=o=0,e=t[lje]=e=w("div",null,null,null)),r||(e[Zi]=t._),r||((u=e[Sa])==null||u.call(e,t,lje)),(n=e[vqt])||(e[vqt]=n=w("span",e,"count",null)),i=this.size,i===e[Sqt]&&r||(e[wqt]=n[hs](e[Sqt]=i,384,e[wqt])),(s=e[Cqt])||(e[Cqt]=s=w("span",e,"verbose",null)),r||s[hs](" "),a=(c=this.$field)==null?void 0:c.aslabel,a===e[jqt]&&r||(e[Eqt]=s[hs](e[jqt]=a,256,e[Eqt])),e}opownlabel(){var u,c;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[aje])||(r=o=0,e=t[aje]=e=w("span",null,null,null)),r||(e[Zi]=t._),r||((u=e[Sa])==null||u.call(e,t,aje)),(n=e[Aqt])||(e[Aqt]=n=w("span",e,"count",null)),i=this.size,i===e[Pqt]&&r||(e[Uqt]=n[hs](e[Pqt]=i,384,e[Uqt])),(s=e[Tqt])||(e[Tqt]=s=w("span",e,"verbose",null)),r||s[hs](" "),a=(c=this.$field)==null?void 0:c.aslabel,a===e[Rqt]&&r||(e[Oqt]=s[hs](e[Rqt]=a,256,e[Oqt])),e}};E(bje,Zqo,"OPIterable",1,OPIterable);var iWt=bje,Gqo=Symbol(),gje=class gje{opownvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[uje])||(r=o=0,e=t[uje]=e=w("span",null,null,null)),r||(e[Zi]=t._),r||((i=e[Sa])==null||i.call(e,t,uje)),n=this.value,n===e[Lqt]&&r||(e[Mqt]=e[hs](e[Lqt]=n,384,e[Mqt])),e}};E(gje,Gqo,"OPTextProp",1,OPTextProp);var sWt=gje,Yqo=Symbol(),kje=class kje{opownstaticon(){return this.value?this.oel(this.value,"stat-icon"):this.oel(this,"icon")}opownvaluelabel(){var i;var e,t,r=H(),o,n;return e=r[bm](cje),o=n=1,(t=e.run(this.olink(this.value)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Zi]=r._),o||((i=t[Sa])==null||i.call(t,r,cje)),t[Mf]&&(o||r.sym||!t.setup||t.setup(n,r,cje),r.sym||t[wa](n)),t}opownspan(){var i;var e,t,r=H(),o,n;if(this.value)return e=r[bm](hje),o=n=1,(t=e.run(this.ospan(this.value)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Zi]=r._),o||((i=t[Sa])==null||i.call(t,r,hje)),t[Mf]&&(o||r.sym||!t.setup||t.setup(n,r,hje),r.sym||t[wa](n)),t}};E(kje,Yqo,"OPRefProp",1,OPRefProp);var lWt=kje,Xqo=Symbol(),_je=class _je{opownvaluelabel(){var i;var e,t,r=H(),o,n;return e=r[bm](pje),o=n=1,(t=e.run(this.olink(this)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Zi]=r._),o||((i=t[Sa])==null||i.call(t,r,pje)),t[Mf]&&(o||r.sym||!t.setup||t.setup(n,r,pje),r.sym||t[wa](n)),t}get aslinklabel(){return this.asurl}get asurl(){return this.value}};E(_je,Xqo,"OPUrlProp",1,OPUrlProp);var aWt=_je,Kqo=Symbol(),xje=class xje{opownvalue(){var i,s;var e,t=H(),r,o,n;return r=o=1,(e=t[dje])||(r=o=0,e=t[dje]=e=w("span",null,null,null)),r||(e[Zi]=t._),r||((i=e[Sa])==null||i.call(e,t,dje)),n=(s=this.value)==null?void 0:s.aslabel,n===e[Nqt]&&r||(e[Dqt]=e[hs](e[Nqt]=n,384,e[Dqt])),e}opownspan(){var h,d;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[Pne])||(r=o=0,e=t[Pne]=e=w("span",null,null,null)),r||(e[Zi]=t._),r||((h=e[Sa])==null||h.call(e,t,Pne)),n=e[bm](Lqo),s=a=1,(i=n.run(this.oicon(this.value)))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[Mf]&&(s||!i.setup||i.setup(a,n),i[wa](a)),i==e[JN]||!e[JN]&&(e[JN]=i)[eI](e)||e[JN][fWt](e[JN]=i,e),(u=e[Iqt])||(e[Iqt]=u=w("span",e,null,null)),c=(d=this.value)==null?void 0:d.aslabel,c===e[Hqt]&&r||(e[Fqt]=u[hs](e[Hqt]=c,384,e[Fqt])),r||t.sym||!e.setup||e.setup(o,t,Pne),t.sym||e[wa](o),e}};E(xje,Kqo,"OPEnumProp",1,OPEnumProp);var uWt=xje,Jqo=Symbol(),vje=class vje{opownstatlabel(){var g;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$;let b=this.value;return n=i=1,(r=o[Tne])||(n=i=0,r=o[Tne]=r=w("span",null,"mz-bg",null)),n||(r[Zi]=o._),n||((g=r[Sa])==null||g.call(r,o,Tne)),e=t=null,typeof b=="boolean"?(s=a=1,(e=r[Bqt])||(s=a=0,r[Bqt]=e=w("span",null,"olabel",null)),s||(e[Zi]=r),u=this.asstatlabel,u===e[zqt]&&s||(e[Vqt]=e[hs](e[zqt]=u,384,e[Vqt]))):(c=h=1,(e=r[qqt])||(c=h=0,r[qqt]=e=w("span",null,"olabel verbose",null)),c||(e[Zi]=r),d=this.asstatlabel,d===e[Zqt]&&c||(e[Wqt]=e[hs](e[Zqt]=d,384,e[Wqt])),f=r[bm](Nqo),m=$=1,(t=f.run(this.oel(this,"stat-value-label")))||(m=$=0,f.cache(t=M(f.value,null,"value",null))),m||(t[Zi]=r),t[Mf]&&((!m||$&2)&&t.flags.reconcile(Dqo,"value"),m||!t.setup||t.setup($,f),t[wa]($))),r[Gqt]=r[hs](e,0,r[Gqt]),r[Yqt]=r[hs](t,0,r[Yqt]),n||o.sym||!r.setup||r.setup(i,o,Tne),o.sym||r[wa](i),r}};E(vje,Jqo,"OPMemoProp",1,OPMemoProp);var cWt=vje,Qqo=Symbol(),wje=class wje{opownstat(){var $;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;if(this.value)return r=o=1,(e=t[One])||(r=o=0,e=t[One]=e=R("op-stat",null,null,null)),r||(e[Zi]=t._),r||(($=e[Sa])==null||$.call(e,t,One)),n=e[Tqo]("__",e),i=this,i===e[Xqt]||(e.data=e[Xqt]=i),i=this.ascolor,i===e[Kqt]||(e.opcolor=e[Kqt]=i),r||e.on$("optip",{},this),s=e[bm](Iqo),u=c=1,(a=s.run(this.oel(this,"stat-icon")))||(u=c=0,s.cache(a=M(s.value,n,"mz-bl",null))),a[Mf]&&((!u||c&2)&&a.flags.reconcile(t7,"mz-bl"),u||!a.setup||a.setup(c,s),a[wa](c)),a==e[t7]||!e[t7]&&n[iqt](e[t7]=a)||(n[sqt](a,e[t7]),e[t7]=a),h=e[bm](Fqo),f=m=1,(d=h.run(this.oel(this,"stat-label")))||(f=m=0,h.cache(d=M(h.value,n,null,null))),d[Mf]&&(f||!d.setup||d.setup(m,h),d[wa](m)),d==e[QN]||!e[QN]&&n[iqt](e[QN]=d)||(n[sqt](d,e[QN]),e[QN]=d),r||t.sym||!e.setup||e.setup(o,t,One),t.sym||e[wa](o),e}opownstatlabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[fje])||(r=o=0,e=t[fje]=e=w("span",null,"mz-bn",null)),r||(e[Zi]=t._),r||((i=e[Sa])==null||i.call(e,t,fje)),n=this.$key,n===e[Qqt]&&r||(e[Jqt]=e[hs](e[Qqt]=n,256,e[Jqt])),e}};E(wje,Qqo,"OPBoolProp",1,OPBoolProp);var hWt=wje;T();oe();ge(),Bl(),$e();var Nne=Symbol.for("#afterVisit"),tI=Symbol.for("#data"),Lne=Symbol.for("#prepared"),Cje=Symbol.for("##up"),Eje=Symbol.for("##register"),eWo=Symbol.for("#beforeReconcile"),tWo=Symbol.for("#afterReconcile"),rWo=Symbol.for("#getSlot"),oWo=Symbol.for("#appendChild"),nWo=Symbol(),mWt=Symbol(),$Wt=Symbol(),yWt=Symbol(),iWo=Symbol(),bWt=Symbol(),gWt=Symbol(),kWt=Symbol(),_Wt=Symbol();var Sje=Symbol(),Dne=Symbol(),xWt=Symbol(),vWt=Symbol(),sWo=Symbol(),Ine=class Ine extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.alt=e&&(o=e.alt)!==void 0?o:"",this.effect=e&&(o=e.effect)!==void 0?o:"pixels",this.lazy=e&&(o=e.lazy)!==void 0?o:!0,this.width=e&&(o=e.width)!==void 0?o:null,this.height=e&&(o=e.height)!==void 0?o:null}get minigrid(){return this.querySelector("div")}set size(e){this.width=this.height=e}set data(e){let t=this[tI];this[tI]!=e&&(this[tI]=e,!0)&&(this[Lne]=!1,this.innerHTML="",this.op.vars({"1imgw":e.width,"1imgh":e.height}))}[Nne](){if(super[Nne](...arguments),this[tI]&&!this[Lne])return this.prepare()}get data(){return this[tI]}mount(){return this.lazy||this.prepare(),this}unmount(){return!0}revealed(){if(this.lazy)return this.prepare()}prepare(){var k,_;var e=this,t=this._ns_||"",r,o={},n,i,s,a,u,c,h;if(this[Lne]||(this[Lne]=!0,!this.data))return;let d=this.data.width,f=this.data.height,m=this.width??d,$=this.height??f,b=(n=i=0,r=r=w("img",null,`${t}`,null),n||(r[Cje]=o._),n||((k=r[Eje])==null||k.call(r,o,nWo)),m===r[mWt]||(r.width=r[mWt]=m),$===r[$Wt]||(r.height=r[$Wt]=$),s=this.alt,s===r[yWt]||(r.alt=r[yWt]=s),r);this.prepend(b),this.$img=b,b.addEventListener("error",function(S){return e.flags.remove("loaded"),e.flags.add("missing"),e.opview={},!1}),b.addEventListener("load",function(){if(e.flags.add("loaded"),e.flags.remove("missing"),e.effect=="blocky")for(let S=0,v=B(e.querySelectorAll("b")),C=v.length;S<C;S++){let j=v[S];j.style.opacity=0;let P=200+Math.random()*400;j.style.transition="opacity "+P+"ms ease-out"}else e.effect==!1&&setTimeout(function(){return e.style.backgroundImage="none"},10);return e});let g={};this.width&&this.width==this.height?g.size=this.width:(this.width&&(g.width=this.width),this.height&&(g.height=this.height));let x=this.data.tourl(g);if(b.src=x,this.effect==!1)return this.style.backgroundImage=this.data.minibg;if(this.effect=="default")return this.render(),this.append((u=c=0,a=a=w("img",null,`thumb ${t}`,null),u||(a[Cje]=o._),u||((_=a[Eje])==null||_.call(a,o,iWo)),h=this.data.minipreview,h===a[bWt]||(a.src=a[bWt]=h),m===a[gWt]||(a.width=a[gWt]=m),$===a[kWt]||(a.height=a[kWt]=$),a));if(this.render(),!this.minigrid)return this.insertAdjacentHTML("beforeend",this.data.minigrid)}render(){var e=this,t,r,o,n;if(this.data)return t=this,t[eWo](),r=o=1,t[_Wt]===1||(r=o=0,t[_Wt]=1),n=`fx-${this.effect}`,n===t[Sje]||(o|=2,t[Sje]=n),r||t.on$("intersect",{in:!0,once:!0,silent:!0,$_:[function(i,s){return e.revealed(i)}]},this),(!r||o&2)&&t.flagSelf$("fit "+(t[Sje]||"")),t[tWo](o),t}};E(Ine,sWo,"op-image",10),pe("op-image",Ine,{cssns:"nb_af",cssid:"nb-af"});var wWt=Ine,lWo=Symbol(),jje=class jje{opowntile(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[Dne])||(r=o=0,e=t[Dne]=e=R("op",null,null,null)),r||(e[Cje]=t._),r||((h=e[Eje])==null||h.call(e,t,Dne)),n=e[rWo]("__",e),s=a=1,(i=e[xWt])||(s=a=0,e[xWt]=i=R("op-image",n,null,null)),u=this,u===e[vWt]||(i.data=e[vWt]=u),s||!i.setup||i.setup(a,c),i[Nne](a),s||n[oWo](i),r||t.sym||!e.setup||e.setup(o,t,Dne),t.sym||e[Nne](o),e}};E(jje,lWo,"OPImage",1,OPImage);var SWt=jje;T();oe();ge(),dt();var aWo=Symbol.for("#beforeReconcile"),uWo=Symbol.for("#placeChild"),LWt=Symbol.for("#getRenderContext"),DWt=Symbol.for("#isRichElement"),oI=Symbol.for("#afterVisit"),NWt=Symbol.for("#insertInto"),IWt=Symbol.for("#replaceWith"),cWo=Symbol.for("#afterReconcile"),hWo=Symbol.for("##up"),pWo=Symbol.for("##register"),dWo=Symbol.for("#appendChild"),CWt=Symbol(),EWt=Symbol(),jWt=Symbol(),AWt=Symbol(),UWt=Symbol(),PWt=Symbol(),r7=Symbol(),fWo=Symbol(),Fne=Symbol(),TWt=Symbol(),OWt=Symbol(),rI=Symbol(),mWo=Symbol(),$Wo=Symbol(),Hne=class Hne extends Ve("op","OpComponent",de){render(){var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$;return e=this,e[aWo](),t=r=1,e[CWt]===1||(t=r=0,e[CWt]=1),o=e[EWt]||(e[EWt]={emit:["open",null]}),o.emit[1]=this.data,t||e.on$("click",o,this),(!t||r&2)&&e.flagSelf$("otile"),s=a=1,(i=e[jWt])||(s=a=0,e[jWt]=i=w("div",e,`otilebody ${n}`,null)),(u=i[AWt])||(i[AWt]=u=w("div",i,`label ${n}`,null)),c=this.data.aslabel,c===i[PWt]&&s||(i[UWt]=u[uWo](i[PWt]=c,384,i[UWt])),h=i[LWt](fWo),f=m=1,(d=h.run(this.oel(this.data,"tilebody")))||(f=m=0,h.cache(d=M(h.value,i,`${n}`,null))),d[DWt]&&((!f||m&2)&&d.flags.reconcile(r7,`${n}`),f||!d.setup||d.setup(m,h),d[oI](m)),d==i[r7]||!i[r7]&&(i[r7]=d)[NWt](i)||i[r7][IWt](i[r7]=d,i),s||!i.setup||i.setup(a,$),i[oI](a),e[cWo](r),e}};E(Hne,$Wo,"op-tile",2),pe("op-tile",Hne,{cssid:"mq-af"});var RWt=Hne,yWo=Symbol(),Aje=class Aje{opowntilebody(e,t){var b;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=i=1,(r=o[Fne])||(n=i=0,r=o[Fne]=r=w("div",null,null,null)),n||(r[hWo]=o._),n||((b=r[pWo])==null||b.call(r,o,Fne)),a=u=1,(s=r[TWt])||(a=u=0,r[TWt]=s=R("op-label",r,null,null)),c=this.aslabel,c===r[OWt]||(s.data=r[OWt]=c),a||!s.setup||s.setup(u,h),s[oI](u),a||r[dWo](s),d=r[LWt](mWo),m=$=1,(f=d.run(this.ostats(this,t)))||(m=$=0,d.cache(f=M(d.value,r,null,null))),f[DWt]&&(m||!f.setup||f.setup($,d),f[oI]($)),f==r[rI]||!r[rI]&&(r[rI]=f)[NWt](r)||r[rI][IWt](r[rI]=f,r),n||o.sym||!r.setup||r.setup(i,o,Fne),o.sym||r[oI](i),r}};E(Aje,yWo,"OPBase",1025,OPBase);var MWt=Aje;T();oe();var Uje=Symbol.for("#time"),FWt=Symbol.for("#timer"),bWo=Symbol(),Bne=class Bne extends de{set interval(e){this[Uje]=e}exec(){return this.emit("tick",{bubble:!1})}tick(){return this.exec(),this.emit("tock",{bubble:!1})}unmount(){return this}mount(){return this.exec()}};E(Bne,bWo,"op-interval",2),pe("op-interval",Bne,{cssid:"ng-af"});var HWt=Bne,gWo=Symbol(),Vne=class Vne extends de{set timeout(e){this[Uje]=e}mount(){var e=this;return this[FWt]=setTimeout(function(){return e.emit("step",{bubble:!1})},this[Uje])}unmount(){return clearTimeout(this[FWt])}};E(Vne,gWo,"op-timeout",2),pe("op-timeout",Vne,{cssid:"ng-ag"});var BWt=Vne;T();oe();function kWo(l,e){return l[l.length+e]}ge(),dt(),wo(),We(),$e();var Pje=Symbol("end"),VWt=Symbol(),Tje=Symbol("end"),zWt=Symbol(),Oje=Symbol("go"),qWt=Symbol(),Rje=Symbol("previous"),WWt=Symbol(),Mje=Symbol("back"),ZWt=Symbol(),Lje=Symbol("cancel"),GWt=Symbol(),Dje=Symbol("next"),YWt=Symbol(),Nje=Symbol("done"),XWt=Symbol(),Ije=Symbol("save"),KWt=Symbol(),Fje=Symbol("del"),JWt=Symbol(),Hje=Symbol("submit"),QWt=Symbol(),Bje=Symbol("cancel"),eZt=Symbol(),Vje=Symbol("submit"),tZt=Symbol(),zje=Symbol("text"),rZt=Symbol(),qje=Symbol("submit"),oZt=Symbol(),Wje=Symbol(),nZt=Symbol(),iZt=Symbol(),o7=Symbol(),_Wo=Symbol(),n7=Symbol(),xWo=Symbol(),Zje,sZt=Symbol(),lZt=Symbol(),aZt=Symbol(),uZt=Symbol(),cZt=Symbol(),hZt=Symbol(),pZt=Symbol(),dZt=Symbol(),fZt=Symbol(),mZt=Symbol(),Gje,Yje,Xje,Kje,Jje,Qje,eAe,tAe,i7,rAe=Symbol(),$Zt=Symbol(),yZt=Symbol(),bZt=Symbol(),gZt=Symbol(),zne=Symbol(),kZt=Symbol();var oAe=Symbol();var nAe=Symbol(),s7=Symbol(),vWo=Symbol(),qne=Symbol(),Wne=Symbol(),_Zt=Symbol(),xZt=Symbol(),vZt=Symbol(),wZt=Symbol(),SZt=Symbol(),CZt=Symbol(),EZt=Symbol(),wWo=Symbol(),SWo=Symbol(),CWo=Symbol(),EWo=Symbol(),jZt=Symbol(),l7=Symbol(),jWo=Symbol(),a7=Symbol(),AWo=Symbol(),AZt=Symbol(),UZt=Symbol(),PZt=Symbol(),TZt=Symbol(),OZt=Symbol(),RZt=Symbol(),MZt=Symbol(),LZt=Symbol(),DZt=Symbol(),UWo=Symbol(),PWo=Symbol(),NZt=Symbol(),u7=Symbol(),TWo=Symbol(),c7=Symbol(),OWo=Symbol(),h7,iAe,RWo=le("&.$field.dialog",globalThis,l=>l.$field.dialog),p7,IZt=Symbol(),FZt=Symbol(),HZt=Symbol(),BZt=Symbol(),VZt=Symbol(),MWo=Symbol(),LWo=Symbol(),DWo=le("&.dialog",globalThis,l=>l.dialog),NWo=Symbol(),IWo=Symbol(),d7=Symbol(),FWo=Symbol(),zZt,sAe,qZt=Symbol.for("#resolver"),WZt=Symbol.for("#rejector"),lAe=Symbol.for("#resolved"),zu=Symbol.for("##up"),iI=Symbol.for("##register"),m7=Symbol.for("#beforeReconcile"),Kk=Symbol.for("#getRenderContext"),qc=Symbol.for("#isRichElement"),Vn=Symbol.for("#afterVisit"),Jk=Symbol.for("#insertInto"),Qk=Symbol.for("#replaceWith"),$7=Symbol.for("#afterReconcile"),Wc=Symbol.for("#placeChild"),HWo=Symbol.for("#appendChild"),uAe=Symbol.for("#getSlot"),sI=Symbol.for("#getDynamicContext");no.addSelectors([".nk-ag",".nk-ag *.op-modal-body",".nk-aq op-sheet:is(.down *)",".nk-aq op-sheet:is(.up *)"],"transition");var BWo=Symbol(),Zne=class Zne extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.cancelable=e&&(o=e.cancelable)!==void 0?o:!0}setup(){var e=this;return this.opened=!1,this.role="dialog",this.promise=new Promise(function(t,r){return e[qZt]=t,e[WZt]=function(o){return r(o)}}),this}end(e){if(this[lAe]!=null){console.warn("op-modal already resolved",this,this[lAe]);return}if(this[lAe]=e,p(e,Error)?this[WZt](e):this[qZt](e),this.mounted)return Jn(this)}reject(e){return p(e,Error)||(e=new Error(e)),this.end(e)}then(...e){var t,r;return this.opened||(this.opened=!0,Bt(this)),(r=(t=this.promise)==null?void 0:t.then)==null?void 0:r.call(t,...e)}body(){return null}backdrop(){var a;var e=this,t=H(),r=this._ns_||"",o,n,i,s;return t.this=this,n=i=1,(o=t[Wje])||(n=i=0,o=t[Wje]=o=w("div",null,`nk-af ${r}`,null)),n||(o[zu]=t._),n||((a=o[iI])==null||a.call(o,t,Wje)),s=o[nZt]||(o[nZt]={if:[null],self:!0,$_:[function(u,c){return t.this.end(null)}]}),s.if[0]=this.cancelable,n||o.on$("click",s,this),o}render(){var e=this,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f;return t=this,t[m7](),r=o=1,t[iZt]===1||(r=o=0,t[iZt]=1),r||(t.role="dialog"),r||t.on$("hotkey",{options:["esc"],force:!0},this),r||t.on$("hotkey",{options:["*"],global:!0},this),r||t.on$("error",{trap:!0,$_:[function(m,$){return e.log("Error in modal event",m,m.detail)}]},this),r||t.on$("tapped",{trap:!0},this),(!r||o&2)&&t.flagSelf$("nk-ag"),n=t[Kk](_Wo),a=u=1,(s=n.run(this.backdrop()))||(a=u=0,n.cache(s=M(n.value,t,`${i}`,null))),s[qc]&&((!a||u&2)&&s.flags.reconcile(o7,`${i}`),a||!s.setup||s.setup(u,n),s[Vn](u)),s==t[o7]||!t[o7]&&(t[o7]=s)[Jk](t)||t[o7][Qk](t[o7]=s,t),c=t[Kk](xWo),d=f=1,(h=c.run(this.body()))||(d=f=0,c.cache(h=M(c.value,t,`op-modal-body ${i}`,null))),h[qc]&&((!d||f&2)&&h.flags.reconcile(n7,`op-modal-body ${i}`),d||!h.setup||h.setup(f,c),h[Vn](f)),h==t[n7]||!t[n7]&&(t[n7]=h)[Jk](t)||t[n7][Qk](t[n7]=h,t),t[$7](o),t}};E(Zne,BWo,"op-modal",2),pe("op-modal",Zne,{});var ZZt=Zne,VWo=Symbol(),nI=class nI extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.title=e&&(o=e.title)!==void 0?o:"Info",this.msg=e&&(o=e.msg)!==void 0?o:"No message provided",this.buttonlabel=e&&(o=e.buttonlabel)!==void 0?o:"okay"}set end(e){this.end.$set(e,this,Pje,"end")}get end(){return this.end.$get(this,Pje,"end")}get end(){return this[VWt]||y((Zje=this.action(),Zje.callback=function(){return this.emit("resolve")},Zje),this,Pje,"end",VWt,nI.prototype)}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$;return t=this,t[m7](),r=o=1,t[sZt]===1||(r=o=0,t[sZt]=1),r||(t.popup__={modal:!0}),r||(t.popup="popup"),r||(t.role="dialog"),(!r||o&2)&&t.flagSelf$("nk-aj odialog"),(i=t[lZt])||(t[lZt]=i=w("div",t,`nk-ak %head ${n}`,null)),s=this.title,s===t[uZt]&&r||(t[aZt]=i[Wc](t[uZt]=s,256,t[aZt])),(a=t[cZt])||(t[cZt]=a=w("div",t,`nk-al %body ${n}`,null)),u=this.msg,u===t[pZt]&&r||(t[hZt]=a[Wc](t[pZt]=u,256,t[hZt])),(c=t[dZt])||(t[dZt]=c=w("div",t,`nk-am %foot ${n}`,null)),d=f=1,(h=t[fZt])||(d=f=0,t[fZt]=h=R("op-button",c,`${n}`,null)),m=this.buttonlabel,m===t[mZt]||(h.label=t[mZt]=m),d||(h.icon=!1),d||h.on$("click",{$_:[function(b,g){return e.end(b)}]},this),d||!h.setup||h.setup(f,$),h[Vn](f),d||c[HWo](h),t[$7](o),t}};E(nI,VWo,"op-simple-modal",2),pe("op-simple-modal",nI,{});var GZt=nI,zWo=Symbol(),zc=class zc extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.stack=e&&(o=e.stack)!==void 0?o:[]}get state(){return kWo(this.stack,-1)}get step(){return Number(this.state)||1}get owner(){var e,t;return((t=(e=this.data)==null?void 0:e.rolesfor)==null?void 0:t.call(e,OP.pov))&OPOWNER}set end(e){this.end.$set(e,this,Tje,"end")}get end(){return this.end.$get(this,Tje,"end")}get end(){return this[zWt]||y((Gje=this.action(),Gje.callback=function(e){return this.emit("resolve",e)},Gje),this,Tje,"end",zWt,zc.prototype)}set go(e){this.go.$set(e,this,Oje,"go")}get go(){return this.go.$get(this,Oje,"go")}get go(){return this[qWt]||y((Yje=this.action(),Yje.callback=function(e){return this.up=!0,this.stack.push(e)},Yje),this,Oje,"go",qWt,zc.prototype)}set previous(e){this.previous.$set(e,this,Rje,"previous")}get previous(){return this.previous.$get(this,Rje,"previous")}get previous(){return this[WWt]||y((Xje=this.action(),Xje.callback=function(){return this.back()},Xje),this,Rje,"previous",WWt,zc.prototype)}set back(e){this.back.$set(e,this,Mje,"back")}get back(){return this.back.$get(this,Mje,"back")}get back(){return this[ZWt]||y((Kje=this.action(),Kje.callback=function(){return this.up=!1,this.stack.length||this.cancel(),this.stack.pop()},Kje),this,Mje,"back",ZWt,zc.prototype)}set cancel(e){this.cancel.$set(e,this,Lje,"cancel")}get cancel(){return this.cancel.$get(this,Lje,"cancel")}get cancel(){return this[GWt]||y((Jje=this.action(),Jje.callback=function(){return this.end(!1)},Jje),this,Lje,"cancel",GWt,zc.prototype)}set next(e){this.next.$set(e,this,Dje,"next")}get next(){return this.next.$get(this,Dje,"next")}get next(){return this[YWt]||y((Qje=this.action(),Qje.callback=function(){let e=Number(this.state);return e?this.go(e+1):this.go(2)},Qje),this,Dje,"next",YWt,zc.prototype)}set done(e){this.done.$set(e,this,Nje,"done")}get done(){return this.done.$get(this,Nje,"done")}get done(){return this[XWt]||y((eAe=this.action(),eAe.callback=async function(){var e,t;return await((t=(e=this.data)==null?void 0:e.save)==null?void 0:t.call(e)),this.end(!0)},eAe),this,Nje,"done",XWt,zc.prototype)}set save(e){this.save.$set(e,this,Ije,"save")}get save(){return this.save.$get(this,Ije,"save")}get save(){return this[KWt]||y((tAe=this.action(),tAe.callback=async function(){var e,t,r;if(!(!this.owner&&!globalThis.confirm("You are not the direct owner of this "+(((e=this.data)==null?void 0:e.askindlabel)||"item")+", are you sure?")))return await((r=(t=this.data)==null?void 0:t.savewithtoast)==null?void 0:r.call(t)),this.data.$upstream&&await this.data.$upstream.save(),this.end(!0)},tAe),this,Ije,"save",KWt,zc.prototype)}set del(e){this.del.$set(e,this,Fje,"del")}get del(){return this.del.$get(this,Fje,"del")}get del(){return this[JWt]||y((i7=this.action(),p(i7.label,Function)?i7.label("delete"):i7.label="delete",i7.callback=async function(){var e,t,r;if(!(!this.owner&&!await globalThis.confirm("You are not the direct owner of this "+(((e=this.data)==null?void 0:e.askindlabel)||"item")+", are you sure?")))return await((r=(t=this.data)==null?void 0:t.destroywithtoast)==null?void 0:r.call(t)),this.end(!0)},i7),this,Fje,"del",JWt,zc.prototype)}stepel(){var s;var e=this._ns_||"",t,r=H(),o,n,i;return o=n=1,(t=r[rAe])||(o=n=0,t=r[rAe]=t=w("div",null,`nk-ao %step ${e}`,null)),o||(t[zu]=r._),o||((s=t[iI])==null||s.call(t,r,rAe)),o||t[Wc]("Step "),i=this.step,i===t[yZt]&&o||(t[$Zt]=t[Wc](t[yZt]=i,0,t[$Zt])),o||t[Wc]("/"),i=this.steps,i===t[gZt]&&o||(t[bZt]=t[Wc](t[gZt]=i,256,t[bZt])),t}body(){var s;var e=this._ns_||"",t,r=H(),o,n,i;return o=n=1,(t=r[zne])||(o=n=0,t=r[zne]=t=R("op-sheet",null,`${e}`,"No body provided")),o||(t[zu]=r._),o||((s=t[iI])==null||s.call(t,r,zne)),i=t[uAe]("__",t),o||r.sym||!t.setup||t.setup(n,r,zne),r.sym||t[Vn](n),t}render(){var e,t,r,o,n,i=this._ns_||"",s,a,u;return e=this,e[m7](),t=r=1,e[kZt]===1||(t=r=0,e[kZt]=1),t||(e.popup__={modal:!0}),t||(e.popup="popup"),t||(e.role="dialog"),o=this.up||void 0,o===e[oAe]||(r|=2,e[oAe]=o),o=!this.up||void 0,o===e[nAe]||(r|=2,e[nAe]=o),(!t||r&2)&&e.flagSelf$("nk-aq odialog "+(e[oAe]?"up":"")+" "+(e[nAe]?"down":"")),n=e[Kk](vWo),a=u=1,(s=n.run(this.body()))||(a=u=0,n.cache(s=M(n.value,e,`${i}`,null))),s[qc]&&((!a||u&2)&&s.flags.reconcile(s7,`${i}`),a||!s.setup||s.setup(u,n),s[Vn](u)),s==e[s7]||!e[s7]&&(e[s7]=s)[Jk](e)||e[s7][Qk](e[s7]=s,e),e[$7](r),e}};E(zc,zWo,"op-stack-modal",2),pe("op-stack-modal",zc,{});var YZt=zc,aAe=Symbol(),Gne=class Gne extends Qe(aAe,Ve("op-stack-modal","OpStackModalComponent",de),OPRenderable){[A](e=null,t=!0,r=!0){var n;var o;t&&super[A]&&super[A](...arguments),(n=this[aAe])==null||n.call(this,...arguments),this.fields=e?e.fields:void 0,this.focusfirstinput=e&&(o=e.focusfirstinput)!==void 0?o:!1}get draft(){var e;return((e=this.data.$root)==null?void 0:e.$branch)||this.data.$branch}mount(){var e,t;if(this.focusfirstinput)return this.render(),(t=(e=this.querySelectorAll("input, textarea")[0])==null?void 0:e.focus)==null?void 0:t.call(e)}body(){var ce,ye;var e,t=this._ns_||"",r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me;if(this.draft){if(!this.state){c=h=1,(u=o[Wne])||(c=h=0,u=o[Wne]=u=R("op-sheet",null,`${t}`,null)),c||(u[zu]=o._),c||((ye=u[iI])==null||ye.call(u,o,Wne)),d=u[uAe]("__",u),(f=u[_Zt])||(u[_Zt]=f=w("div",d,`%head ${t}`,null)),c||f[Wc]("Edit "),m=this.data.askindlabel,m===u[vZt]&&c||(u[xZt]=f[Wc](u[vZt]=m,256,u[xZt])),($=u[wZt])||(u[wZt]=$=w("div",d,`%body ${t}`,null)),e=null,this.owner||(b=g=1,(e=u[SZt])||(b=g=0,u[SZt]=e=w("p",null,`nk-ay ${t}`,"You are not the direct owner of this item, use caution when editing.")),b||(e[zu]=$)),u[CZt]=$[Wc](e,0,u[CZt]),(x=u[EZt])||(u[EZt]=x=wt(3328,$)),k=0,_=x.$;for(let we=0,ae=B(this.fields),be=ae.length;we<be;we++){let _e=ae[we];if(p(_e,OPEmbed)){S="cz$"+k,(v=_[S])||(_[S]=v=wt(1024,null)),v[zu]=x,C=0,j=v.$;for(let Ae=0,ve=B(_e.$shape),Pe=ve.length;Ae<Pe;Ae++){let He=ve[Ae];He.editable&&(O=L=1,(U=(P=j[sI](wWo,C)).run(this.ofield(_e.$[He.name])))||(O=L=0,P.cache(U=M(P.value,v,`${t}`,null))),O||(U[zu]=v),U[qc]&&((!O||L&2)&&U.flags.reconcile(SWo,`${t}`),O||!U.setup||U.setup(L,P),U[Vn](L)),v.push(U,C++,I))}v[Vn](C),x.push(v,k++,S)}else V=W=1,(N=(F=_[sI](CWo,k)).run(this.ofield(_e)))||(V=W=0,F.cache(N=M(F.value,x,`nk-ba ${t}`,null))),V||(N[zu]=x),N[qc]&&((!V||W&2)&&N.flags.reconcile(EWo,`nk-ba ${t}`),V||!N.setup||N.setup(W,F),N[Vn](W)),x.push(N,k++,z)}return x[Vn](k),Y=K=1,(q=u[jZt])||(Y=K=0,u[jZt]=q=w("div",d,`%foot ${t}`,null)),X=q[Kk](jWo),Q=ee=1,(Z=X.run(this.obutton(this.cancel)))||(Q=ee=0,X.cache(Z=M(X.value,q,`${t}`,null))),Z[qc]&&((!Q||ee&2)&&Z.flags.reconcile(l7,`${t}`),Q||!Z.setup||Z.setup(ee,X),Z[Vn](ee)),Z==q[l7]||!q[l7]&&(q[l7]=Z)[Jk](q)||q[l7][Qk](q[l7]=Z,q),te=q[Kk](AWo),ie=J=1,(ne=te.run(this.obutton(this.save)))||(ie=J=0,te.cache(ne=M(te.value,q,`${t}`,null))),ne[qc]&&(ie||ne.on$("hotkey",{options:["mod+enter"],force:!0},this),(!ie||J&2)&&ne.flags.reconcile(a7,`${t}`),ie||!ne.setup||ne.setup(J,te),ne[Vn](J)),ne==q[a7]||!q[a7]&&(q[a7]=ne)[Jk](q)||q[a7][Qk](q[a7]=ne,q),Y||!q.setup||q.setup(K,me),q[Vn](K),c||o.sym||!u.setup||u.setup(h,o,Wne),o.sym||u[Vn](h),u}}else return n=i=1,(r=o[qne])||(n=i=0,r=o[qne]=r=R("op-sheet",null,`${t}`,null)),n||(r[zu]=o._),n||((ce=r[iI])==null||ce.call(r,o,qne)),s=r[uAe]("__",r),n||(a=w("div",s,`nk-au ${t}`,"This is an undrafted model, meaning that changes would immediately autosave which is undesirable in this format.					Please use `$checkout`, `inspect-item`, or `edit-item` instead.")),n||o.sym||!r.setup||r.setup(i,o,qne),o.sym||r[Vn](i),r}};E(Gne,aAe,"op-inspector",66),pe("op-inspector",Gne,{cssid:"nk-as"});var XZt=Gne,qWo=Symbol(),Yne=class Yne extends Ve("op","OpComponent",de){render(){var e,t,r,o=this._ns_||"",n;return e=this,e[m7](),t=r=1,e[AZt]===1||(t=r=0,e[AZt]=1),t||(e.popup__={modal:!0}),t||(e.popup="popup"),t||(e.role="dialog"),(!t||r&2)&&e.flagSelf$("nk-be odialog"),n=e.__slots.__,e[UZt]=e[Wc](n,256,e[UZt]),e[$7](r),e}};E(Yne,qWo,"op-dialog",2),pe("op-dialog",Yne,{});var KZt=Yne,WWo=Symbol(),Xk=class Xk extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.typ=e?e.typ:void 0}get asheader(){return this.typ?"New "+this.typ.aslabel:"New"}get fields(){return this.$.$shape}render(){var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I;t=this,t[m7](),r=o=1,t[PZt]===1||(r=o=0,t[PZt]=1),r||(t.popup__={modal:!0}),r||(t.popup="popup"),r||(t.role="dialog"),(!r||o&2)&&t.flagSelf$("nk-bg odialog"),e=null,this.asheader&&(i=s=1,(e=t[TZt])||(i=s=0,t[TZt]=e=w("h2",null,`${n}`,null)),i||(e[zu]=t),a=this.asheader,a===e[RZt]&&i||(e[OZt]=e[Wc](e[RZt]=a,384,e[OZt]))),t[MZt]=t[Wc](e,0,t[MZt]),(u=t[LZt])||(t[LZt]=u=w("div",t,`nk-bi ${n}`,null)),(c=t[DZt])||(t[DZt]=c=wt(1280,u)),h=0,d=c.$;for(let F=0,N=B(this.fields),V=N.length;F<V;F++){let W=N[F];W!=this.$.submit&&W!=this.$.cancel&&($=b=1,(m=(f=d[sI](UWo,h)).run(this.ofield(W)))||($=b=0,f.cache(m=M(f.value,c,`${n}`,null))),$||(m[zu]=c),m[qc]&&((!$||b&2)&&m.flags.reconcile(PWo,`${n}`),$||!m.setup||m.setup(b,f),m[Vn](b)),c.push(m,h++,g))}return c[Vn](h),k=_=1,(x=t[NZt])||(k=_=0,t[NZt]=x=w("div",t,`nk-bk ${n}`,null)),S=x[Kk](TWo),C=j=1,(v=S.run(this.ofield(this.$.cancel)))||(C=j=0,S.cache(v=M(S.value,x,`${n}`,null))),v[qc]&&((!C||j&2)&&v.flags.reconcile(u7,`${n}`),C||!v.setup||v.setup(j,S),v[Vn](j)),v==x[u7]||!x[u7]&&(x[u7]=v)[Jk](x)||x[u7][Qk](x[u7]=v,x),P=x[Kk](OWo),O=L=1,(U=P.run(this.ofield(this.$.submit)))||(O=L=0,P.cache(U=M(P.value,x,`${n}`,null))),U[qc]&&((!O||L&2)&&U.flags.reconcile(c7,`${n}`),O||!U.setup||U.setup(L,P),U[Vn](L)),U==x[c7]||!x[c7]&&(x[c7]=U)[Jk](x)||x[c7][Qk](x[c7]=U,x),k||!x.setup||x.setup(_,I),x[Vn](_),t[$7](o),t}get submittable(){return this.fields.every(function(e){let t=e.value;return e.$field.required?p(e,OPUrlProp)?typeof t=="string"&&t.url:Ye(e,OPEmailProp)?typeof t=="string"&&t.email:p(e,OPTimestampProp)?p(t,Date):p(e,OPTextProp)?typeof t=="string"&&t.trim():!0:!0})}set submit(e){this.submit.$set(e,this,Hje,"submit")}get submit(){return this.submit.$get(this,Hje,"submit")}get submit(){return this[QWt]||y((h7=this.action(),p(h7.if,Function)?h7.if(function(){return this.submittable}):h7.if=function(){return this.submittable},h7.callback=async function(){return await!0,this.emit("resolve",this.$plain)},h7),this,Hje,"submit",QWt,Xk.prototype)}set cancel(e){this.cancel.$set(e,this,Bje,"cancel")}get cancel(){return this.cancel.$get(this,Bje,"cancel")}get cancel(){return this[eZt]||y((iAe=this.action(),iAe.callback=function(){return this.emit("resolve",null)},iAe),this,Bje,"cancel",eZt,Xk.prototype)}};Xk.prototype[Le]=De,se([ke.bind([])],Xk.prototype,"fields",null),E(Xk,WWo,"op-submit-dialog",258),pe("op-submit-dialog",Xk,{});var JZt=Xk,ZWo=Symbol(),hx=class hx extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0}get asheader(){return"New "+this.data.constructor.aslabel}get fields(){return this.data.$.$shape.filter(RWo)}get submittable(){return this.fields.every(function(e){let t=e.value;return e.$field.required?p(e,OPUrlProp)?typeof t=="string"&&t.url:Ye(e,OPEmailProp)?typeof t=="string"&&t.email:p(e,OPTimestampProp)?p(t,Date):p(e,OPTextProp)?typeof t=="string"&&t.trim():!0:!0})}set submit(e){this.submit.$set(e,this,Vje,"submit")}get submit(){return this.submit.$get(this,Vje,"submit")}get submit(){return this[tZt]||y((p7=this.action(),p(p7.if,Function)?p7.if(function(){return this.submittable}):p7.if=function(){return this.submittable},p7.callback=async function(){return await this.data.save(),this.emit("resolve",this.data)},p7),this,Vje,"submit",tZt,hx.prototype)}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;e=this,e[m7](),t=r=1,e[IZt]===1||(t=r=0,e[IZt]=1),t||(e.popup__={modal:!0}),t||(e.popup="popup"),t||(e.role="dialog"),(!t||r&2)&&e.flagSelf$("nk-bn odialog"),(n=e[FZt])||(e[FZt]=n=w("h2",e,`nk_bn ${o}`,null)),i=this.asheader,i===e[BZt]&&t||(e[HZt]=n[Wc](e[BZt]=i,384,e[HZt])),(s=e[VZt])||(e[VZt]=s=wt(3072,e)),a=0,u=s.$;for(let L=0,I=B(this.fields),F=I.length;L<F;L++){let N=I[L];if(p(N,OPEmbed)){c="dm$"+a,(h=u[c])||(u[c]=h=wt(0,null)),h[zu]=s,d=0,f=h.$;for(let V=0,W=B(N.$shape.filter(DWo)),z=W.length;V<z;V++){let{name:q}=W[V];b=g=1,($=(m=f[sI](MWo,d)).run(this.ofield(N.$[q])))||(b=g=0,m.cache($=M(m.value,h,`nk_bn ${o}`,null))),b||($[zu]=h),$[qc]&&((!b||g&2)&&$.flags.reconcile(LWo,`nk_bn ${o}`),b||!$.setup||$.setup(g,m),$[Vn](g)),h.push($,d++,x)}h[Vn](d),s.push(h,a++,c)}else S=v=1,(_=(k=u[sI](NWo,a)).run(this.ofield(N)))||(S=v=0,k.cache(_=M(k.value,s,`nk_bn ${o}`,null))),S||(_[zu]=s),_[qc]&&((!S||v&2)&&_.flags.reconcile(IWo,`nk_bn ${o}`),S||!_.setup||_.setup(v,k),_[Vn](v)),s.push(_,a++,C)}return s[Vn](a),j=e[Kk](FWo),U=O=1,(P=j.run(this.ofield(this.submit)))||(U=O=0,j.cache(P=M(j.value,e,`nk_bn ${o}`,null))),P[qc]&&(U||P.on$("hotkey",{options:["mod+enter"],force:!0},this),(!U||O&2)&&P.flags.reconcile(d7,`nk_bn ${o}`),U||!P.setup||P.setup(O,j),P[Vn](O)),P==e[d7]||!e[d7]&&(e[d7]=P)[Jk](e)||e[d7][Qk](e[d7]=P,e),e[$7](r),e}};hx.prototype[Le]=De,se([ke.bind([])],hx.prototype,"fields",null),E(hx,ZWo,"op-create-dialog",258),pe("op-create-dialog",hx,{});var QZt=hx,GWo=Symbol(),f7=class f7 extends Ve("op-submit-dialog","OpSubmitDialogComponent",de){get asheader(){return this.msg}set text(e){this.text.$set(e,this,zje,"text")}get text(){return this.text.$get(this,zje,"text")}get text(){return this[rZt]||y((zZt=this.text(),zZt),this,zje,"text",rZt,f7.prototype)}mount(){return this.text=this.initial}set submit(e){this.submit.$set(e,this,qje,"submit")}get submit(){return this.submit.$get(this,qje,"submit")}get submit(){return this[oZt]||y((sAe=this.action(),sAe.callback=function(){return this.emit("resolve",this.text)},sAe),this,qje,"submit",oZt,f7.prototype)}};E(f7,GWo,"op-text-dialog",2),pe("op-text-dialog",f7,{cssid:"nk-bs"});var eGt=f7;T();oe();ge(),En(),un(),We();var cAe=Symbol("kbd"),tGt=Symbol(),hAe=Symbol("disabled"),rGt=Symbol(),lI,aI,pAe=Symbol(),oGt=Symbol(),nGt=Symbol(),iGt=Symbol(),Xne=Symbol(),sGt=Symbol(),lGt=Symbol(),aGt=Symbol(),uGt=Symbol(),Kne=Symbol(),cGt=Symbol(),hGt=Symbol(),pGt=Symbol(),dGt=Symbol(),fGt=Symbol(),mGt=Symbol(),$Gt=Symbol(),yGt=Symbol(),bGt=Symbol();var dAe=Symbol();var fAe=Symbol(),gGt=Symbol(),kGt=Symbol(),_Gt=Symbol(),YWo=Symbol(),XWo=Symbol(),xGt=Symbol(),vGt=Symbol(),wGt=Symbol(),SGt=Symbol(),CGt=Symbol(),EGt=Symbol(),jGt=Symbol(),AGt=Symbol(),UGt=Symbol(),PGt=Symbol(),TGt=Symbol(),OGt=Symbol(),RGt=Symbol(),MGt=Symbol(),LGt=Symbol.for("#prefix"),KWo=Symbol.for("#optip"),id=Symbol.for("##up"),mAe=Symbol.for("##register"),Jne=Symbol.for("#isRichElement"),gm=Symbol.for("#afterVisit"),Qne=Symbol.for("#action"),$Ae=Symbol.for("#opmenu"),yAe=Symbol.for("#getRenderContext");var JWo=Symbol.for("#execute"),DGt=Symbol.for("#click"),QWo=Symbol.for("#press"),eZo=Symbol.for("#touch?"),tZo=Symbol.for("#beforeReconcile"),px=Symbol.for("#placeChild"),rZo=Symbol.for("#appendChild"),oZo=Symbol.for("#afterReconcile"),nZo=Symbol(),e8=class e8 extends Ve("op","OpComponent",de){get $body(){let e=w("div",null,`button-main obutton-body ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}get $label(){let e=w("div",null,`olabel ${this._ns_||""} $label`,null);return Object.defineProperty(this,"$label",{value:e}),e}get $sub(){let e=R("op-icon",null,`ne-aq caret ${this._ns_||""} $sub`,null);return Object.defineProperty(this,"$sub",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.icon=e?e.icon:void 0}set kbd(e){this.kbd.$set(e,this,cAe,"kbd")}get kbd(){return this.kbd.$get(this,cAe,"kbd")}get kbd(){return this[tGt]||y((lI=this.bool(),p(lI.flag,Function)?lI.flag("kbd"):lI.flag="kbd",lI),this,cAe,"kbd",tGt,e8.prototype)}set disabled(e){this.disabled.$set(e,this,hAe,"disabled")}get disabled(){return this.disabled.$get(this,hAe,"disabled")}get disabled(){return this[rGt]||y((aI=this.bool(),p(aI.flag,Function)?aI.flag("disabled"):aI.flag="disabled",aI),this,hAe,"disabled",rGt,e8.prototype)}set autofocus(e){this.setAttribute("autofocus",e)}get autofocus(){return this.getAttribute("autofocus")}set caret(e){this.setAttribute("caret",e)}get caret(){return this.getAttribute("caret")}set immediate(e){this.setAttribute("immediate",e)}get immediate(){return this.getAttribute("immediate")}set prefix(e){this[LGt]=e}get prefix(){return this[LGt]}async execute(...e){var d,f,m,$,b;var t=this,r=this._ns_||"",o,n={},i,s,a,u;(f=(d=this[KWo])==null?void 0:d.close)==null||f.call(d);let c=e[0];if((c==null?void 0:c.target)==this.$sub){this.options&&Bt(this.options.element??=(i=s=0,o=o=M(this.options(),null,`${r}`,null),i||(o[id]=n._),i||((m=o[mAe])==null||m.call(o,n,pAe)),o[Jne]&&(a=this,a===o[oGt]||(o.rel=o[oGt]=a),c===o[nGt]||(o.opener=o[nGt]=c),i||(o.popup__={dropdown:!0}),i||(o.popup={}),a=this,a===o[iGt]||(o.anchored=o[iGt]=a),i||(o.focusonhover="focus-on-hover"),(!i||s&2)&&o.flags.reconcile(pAe,`${r}`),i||n.sym||!o.setup||o.setup(s,n,pAe),n.sym||o[gm](s)),o));return}let h=this[Qne];if(this[$Ae]&&!this[$Ae].secondary){let g=(b=($=this[$Ae])==null?void 0:$.options)==null?void 0:b[0],x=g==this?this.data:g||this.data,k=OPVIEW(x,"button-menu",{},!1),_=k&&Bt(function(){var L;var S,v=t._ns_||"",C,j=H(),P,U,O;return S=j[yAe](Xne),P=U=1,(C=S.run(k(x)))||(P=U=0,S.cache(C=M(S.value,null,`omenu ${v}`,null))),P||(C[id]=j._),P||((L=C[mAe])==null||L.call(C,j,Xne)),C[Jne]&&(x===C[sGt]||(C.data=C[sGt]=x),O=t,O===C[lGt]||(C.rel=C[lGt]=O),c===C[aGt]||(C.opener=C[aGt]=c),P||(C.popup__={contextmenu:!0}),P||(C.popup="popup"),O=t,O===C[uGt]||(C.anchored=C[uGt]=O),(!P||U&2)&&C.flags.reconcile(Xne,`omenu ${v}`),P||j.sym||!C.setup||C.setup(U,j,Xne),j.sym||C[gm](U)),C});return}if(!h){if(p(u=this.data,Function)||p(u,OPAction))h=this.data;else if(p(this.data,OPBoolProp))h=this.data.toggle;else if(p(this.data,OPProp)){let g=OPVIEW(this.data,"button-menu",this.context,!1);if(g&&Bt(function(){var U;var k,_=t._ns_||"",S,v=H(),C,j,P;return k=v[yAe](Kne),C=j=1,(S=k.run(g(t.data)))||(C=j=0,k.cache(S=M(k.value,null,`omenu ${_}`,null))),C||(S[id]=v._),C||((U=S[mAe])==null||U.call(S,v,Kne)),S[Jne]&&(P=t.data,P===S[cGt]||(S.data=S[cGt]=P),P=t,P===S[hGt]||(S.rel=S[hGt]=P),c===S[pGt]||(S.opener=S[pGt]=c),C||(S.popup__={contextmenu:!0}),C||(S.popup="popup"),P=t,P===S[dGt]||(S.anchored=S[dGt]=P),(!C||j&2)&&S.flags.reconcile(Kne,`omenu ${_}`),C||v.sym||!S.setup||S.setup(j,v,Kne),v.sym||S[gm](j)),S}))return}}try{this.flags.incr("busy");let g=this[Qne]?e:[],x;return p(h,OPAction)?x=await h.run({params:g,target:this,event:c}):h&&(x=await h.call(this,...g)),this.emit("ok",x),x}catch(g){throw this.emit("throw",g),g}finally{this.flags.decr("busy")}}on$execute(e,t,r,o){this[JWo]=r,this[DGt]||(e.$_=[this.execute],this.immediate||this.addEventListener("click",r),this.addEventListener("execute",r))}on$press(e,t,r,o){return this[QWo]=r,super.on$press(...arguments)}on$click(e,t,r,o){return e.$_&&!e.meta&&!e.shift&&!e.alt&&(this[DGt]=r,this[Qne]=e.$_[0],e.$_[0]=this.execute),this.addEventListener("click",r,o)}set busy(e){this.flags.toggle("busy",e)}set action(e){this[Qne]=e}get touchdevice(){return this[eZo]||=Cn("ontouchstart",globalThis)||globalThis.navigator.maxTouchPoints>0}opnaventer(e){return super.opnaventer(...arguments)}resized(e){return LL("button resized",e)}rendered(){return this.contour,this}render(){var Q,ee,te,ne,ie,J;var e=this,t,r,o,n,i,s,a,u,c,h=this._ns_||"",d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y;let K=this.label??((Q=this.data)==null?void 0:Q.aslabel),X=K||"",Z=this.icon??this.prefix??((ee=this.data)==null?void 0:ee.asicon)??this.label;if(Z==!0&&(Z=this.prefix??((te=this.data)==null?void 0:te.asicon)),p(this.data,OPAction)){this.options=this.data&&OPVIEW(this.data,"options",this,!1);let me=(ne=this.data.$field.model)==null?void 0:ne.btnid;X=(me?me+".":"")+X}return i=this,i[tZo](),s=a=1,i[fGt]===1||(s=a=0,i[fGt]=1),X===i[mGt]||(i.id=i[mGt]=X),s||(i.role="button"),s||(i.contour="contour"),s||i.on$("focus",{capture:!0,trap:!0},this),u=i[$Gt]||(i[$Gt]={if:[null],trap:!0,$_:[function(me,ce){return e.execute(me)}]}),u.if[0]=this.immediate,s||i.on$("pointerdown",u,this),u=i[yGt]||(i[yGt]={if:[null],trap:!0}),u.if[0]=this.immediate,s||i.on$("pointerup",u,this),u=i[bGt]||(i[bGt]={cooldown:[null],if:[null]}),u.cooldown[0]=100,u.if[0]=!this.disabled,s||i.on$("execute",u,this),s||i.on$("dblclick",{trap:!0},this),s||i.on$("optip",{},this),s||i.on$("keydown",{enter:!0,focin:!0,emit:["execute"]},this),c=((ie=this.data)==null?void 0:ie.disabled)||void 0,c===i[dAe]||(a|=2,i[dAe]=c),c=(J=this.data)==null?void 0:J.asstateflag,c===i[fAe]||(a|=2,i[fAe]=c),(!s||a&2)&&i.flagSelf$("ne-ai op-button "+(i[dAe]?"disabled":"")+" "+(i[fAe]||"")),d=i.__slots.badge,i[gGt]=i[px](d,0,i[gGt]),m=$=1,(f=i[kGt])||(m=$=0,i[kGt]=(f=this.$body,f[id]=i,f)),b=i.__slots.__,(!b||!b.hasChildNodes())&&(g=x=1,(b=f[_Gt])||(g=x=0,f[_Gt]=b=fa(1408,null)),t=null,Z!==!1&&(p(this.data,OPAction)&&!this.icon?(k=b[yAe](XWo),_=S=1,(t=k.run(this.oel(this.data,"button-icon")))||(_=S=0,k.cache(t=M(k.value,null,`oicon ${h}`,null))),_||(t[id]=b),t[Jne]&&((!_||S&2)&&t.flags.reconcile(YWo,`oicon ${h}`),_||!t.setup||t.setup(S,k),t[gm](S))):Z&&(v=C=1,(t=b[xGt])||(v=C=0,b[xGt]=t=R("op-icon",null,`oicon ${h}`,null)),v||(t[id]=b),Z===t[vGt]||(t.data=t[vGt]=Z),v||!t.setup||t.setup(C,j),t[gm](C))),b[wGt]=b[px](t,0,b[wGt]),r=null,K&&(P=U=1,(r=b[SGt])||(P=U=0,b[SGt]=(r=this.$label,r[id]=null,r)),P||(r[id]=b),O=K||"",O===r[EGt]&&P||(r[CGt]=r[px](r[EGt]=O,384,r[CGt]))),b[jGt]=b[px](r,0,b[jGt]),o=null,this.kbd&&(L=I=1,(o=b[AGt])||(L=I=0,b[AGt]=o=R("op-kbd",null,`ne-ap ${h}`,null)),L||(o[id]=b),L||!o.setup||o.setup(I,F),o[gm](I)),b[UGt]=b[px](o,0,b[UGt]),n=null,(this.caret||this.options)&&(N=V=1,(n=b[PGt])||(N=V=0,b[PGt]=(n=this.$sub,n[id]=null,n)),N||(n[id]=b),W=lzt,W===n[TGt]||(n.data=n[TGt]=W),N||!n.setup||n.setup(V,z),n[gm](V)),b[OGt]=b[px](n,0,b[OGt]),g||!b.setup||b.setup(x,q),b[gm](x)),b===b[MGt]||(b[RGt]=f[px](b[MGt]=b,1408,b[RGt])),m||!f.setup||f.setup($,Y),f[gm]($),m||i[rZo](f),i[oZo](a),i}};e8.prototype[Le]=De,se([Fl.bind([])],e8.prototype,"execute",null),E(e8,nZo,"op-button",266),pe("op-button",e8,{});var NGt=e8,iZo=Symbol(),eie=class eie extends Ve("op-button","OpButtonComponent",de){};E(eie,iZo,"op-badge",2),pe("op-badge",eie,{});var IGt=eie,sZo=Symbol(),y7=class y7 extends Ve("op-button","OpButtonComponent",de){execute(...e){return this.newtab?globalThis.open(this.data):globalThis.location=this.data}};y7.prototype[Le]=De,se([Fl.bind([])],y7.prototype,"execute",null),E(y7,sZo,"op-a",258),pe("op-a",y7,{});var FGt=y7;T();oe();ln();var lZo=Symbol.for("#beforeReconcile"),aZo=Symbol.for("#afterReconcile"),HGt=Symbol(),BGt=Symbol(),VGt=Symbol(),zGt=Symbol(),qGt=Symbol(),WGt=Symbol(),ZGt=Symbol(),GGt=Symbol(),uZo=Symbol(),tie=class tie extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.speed=e&&(o=e.speed)!==void 0?o:100}get total(){return this.speed*4}render(){var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x;return e=this,e[lZo](),t=r=1,e[HGt]===1||(t=r=0,e[HGt]=1),(!t||r&2)&&e.flagSelf$("nj-af"),o=this.total,o===e[BGt]||e.css$var("--nj_ag",e[BGt]=o,"ms","animation"),t||(i=w("div",e,`${n}`,null)),a=u=1,(s=e[VGt])||(a=u=0,e[VGt]=s=w("div",e,`nj-ai ${n}`,null)),c=this.speed,c===e[zGt]||s.css$var("--nj_aj",e[zGt]=c,"ms","animation-delay"),d=f=1,(h=e[qGt])||(d=f=0,e[qGt]=h=w("div",e,`nj-ak ${n}`,null)),m=this.speed*2,m===e[WGt]||h.css$var("--nj_al",e[WGt]=m,"ms","animation-delay"),b=g=1,($=e[ZGt])||(b=g=0,e[ZGt]=$=w("div",e,`nj-am ${n}`,null)),x=this.speed*3,x===e[GGt]||$.css$var("--nj_an",e[GGt]=x,"ms","animation-delay"),e[aZo](r),e}};E(tie,uZo,"op-loader-block",2),pe("op-loader-block",tie,{});var YGt=tie;T();oe();ge(),dt(),ln();var cZo=Symbol.for("#beforeReconcile"),hZo=Symbol.for("#placeChild"),pZo=Symbol.for("#afterVisit"),dZo=Symbol.for("#afterReconcile"),XGt=Symbol(),KGt=Symbol(),JGt=Symbol(),QGt=Symbol();var bAe=Symbol(),eYt=Symbol(),fZo=Symbol(),rie=class rie extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.size=e&&(o=e.size)!==void 0?o:14}render(){var $,b;var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m;return t=this,t[cZo](),r=o=1,t[XGt]===1||(r=o=0,t[XGt]=1),r||t.on$("click",{$_:[function(g,x){var k,_;return((_=(k=e.data)==null?void 0:k.toggle)==null?void 0:_.call(k,e.value))||(e.data=e.value)}]},this),(!r||o&2)&&t.flagSelf$("nl-af"),s=a=1,(i=t[KGt])||(s=a=0,t[KGt]=i=w("div",t,`${n}`,null)),u=t.__slots.__,i[JGt]=i[hZo](u,384,i[JGt]),s||!i.setup||i.setup(a,c),i[pZo](a),d=f=1,(h=t[QGt])||(d=f=0,t[QGt]=h=w("div",t,`nl-ai ${n}`,null)),m=((b=($=this.data)==null?void 0:$.has)==null?void 0:b.call($,this.value))||Ye(this.data,this.value)||void 0,m===t[bAe]||(f|=2,t[bAe]=m),f&2&&h.flag$(`nl-ai ${n} `+(t[bAe]?"checked":"")),m=this.size,m===t[eYt]||h.css$var("--nl_aj",t[eYt]=m,"px","s"),t[dZo](o),t}};E(rie,fZo,"op-check",2),pe("op-check",rie,{});var tYt=rie;T();oe();ge(),dt();var gYt=Symbol.for("#beforeReconcile"),kYt=Symbol.for("#placeChild"),mZo=Symbol.for("##up"),rYt=Symbol.for("#afterVisit"),_Yt=Symbol.for("#afterReconcile"),oYt=Symbol(),nYt=Symbol(),iYt=Symbol(),sYt=Symbol(),lYt=Symbol(),aYt=Symbol();var gAe=Symbol(),uYt=Symbol(),cYt=Symbol(),hYt=Symbol(),pYt=Symbol(),dYt=Symbol(),fYt=Symbol(),mYt=Symbol(),$Yt=Symbol(),$Zo=Symbol(),oie=class oie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f;e=this,e[gYt](),t=r=1,e[oYt]===1||(t=r=0,e[oYt]=1),n=e.__slots.__,e[nYt]=e[kYt](n,128,e[nYt]),(i=e[iYt])||(e[iYt]=i=Jt(256,e)),s=0,a=i.$;for(let m=0,$=B(this.data.options),b=$.length;m<b;m++){let g=$[m];c=h=1,(u=a[s])||(c=h=0,a[s]=u=R("op-checkbox-option",i,`np-ah ${o}`,null)),c||(u[mZo]=i),d=this.data,d===u[sYt]||(u.data=u[sYt]=d),g===u[lYt]||(u.option=u[lYt]=g),c||!u.setup||u.setup(h,f),u[rYt](h),s++}return i[rYt](s),e[_Yt](r),e}};E(oie,$Zo,"op-checkbox",2),pe("op-checkbox",oie,{});var yYt=oie,yZo=Symbol(),nie=class nie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.option=e?e.option:void 0}act(){return this.data.value=this.checked?null:this.option.value}get checked(){var e;return this.option.value==((e=this.data)==null?void 0:e.value)}render(){var e=this,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m;return t=this,t[gYt](),r=o=1,t[aYt]===1||(r=o=0,t[aYt]=1),n=this.checked||void 0,n===t[gAe]||(o|=2,t[gAe]=n),r||t.on$("click",{trap:!0,$_:[function($,b){return e.act($)}]},this),(!r||o&2)&&t.flagSelf$(t[gAe]?"checked":""),(s=t[uYt])||(t[uYt]=s=w("span",t,`np-ak ${i}`,null)),a=this.option.label,a===t[hYt]&&r||(t[cYt]=s[kYt](t[hYt]=a,384,t[cYt])),(u=t[pYt])||(t[pYt]=u=w("div",t,`np-al as-icon ${i}`,null)),h=d=1,(c=t[dYt])||(h=d=0,t[dYt]=c=w("input",u,`np-am ${i}`,null)),h||(c.type="checkbox"),f=this.option.value,f===t[fYt]||(c.richValue=t[fYt]=f),f=this.checked,f===t[mYt]||(c.checked=t[mYt]=f),(m=t[$Yt])||(t[$Yt]=m=w("div",u,`np-an check ${i}`,null)),t[_Yt](o),t}};E(nie,yZo,"op-checkbox-option",2),pe("op-checkbox-option",nie,{cssid:"np-ai"});var bYt=nie;T();oe();var bZo=Symbol(),iie=class iie extends Ve("op","OpComponent",de){};E(iie,bZo,"op-inline",2),pe("op-inline",iie,{cssid:"nh-af"});var xYt=iie;T();oe();ge(),dt(),$e();var gZo=Symbol.for("#beforeReconcile"),kZo=Symbol.for("#placeChild"),vYt=Symbol.for("#getSlot"),sie=Symbol.for("#afterVisit"),lie=Symbol.for("#appendChild"),_Zo=Symbol.for("#afterReconcile"),wYt=Symbol(),SYt=Symbol(),CYt=Symbol(),EYt=Symbol(),jYt=Symbol(),AYt=Symbol(),UYt=Symbol(),PYt=Symbol(),TYt=Symbol(),OYt=Symbol(),RYt=Symbol(),xZo=Symbol(),aie=class aie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.anchor=e?e.anchor:void 0,this.msg=e&&(o=e.msg)!==void 0?o:"Are you sure?"}mount(){return this.render(),this.focus()}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return e=this,e[gZo](),t=r=1,e[wYt]===1||(t=r=0,e[wYt]=1),t||(e.popup__={promised:!0}),t||(e.popup="popup"),t||(e.role="dialog"),t||e.on$("opnaventer",{self:!0,trap:!0,emit:["resolve",!0]},this),(!t||r&2)&&e.flagSelf$("nm-af"),(n=e[SYt])||(e[SYt]=n=w("div",e,`${o}`,null)),i=this.msg,i===e[EYt]&&t||(e[CYt]=n[kZo](e[EYt]=i,384,e[CYt])),(s=e[jYt])||(e[jYt]=s=w("div",e,`nm-ah ${o}`,null)),u=c=1,(a=e[AYt])||(u=c=0,e[AYt]=a=R("op-button",s,`${o}`,null)),h=a[vYt]("__",e),u||a.on$("click",{emit:["resolve",!0]},this),f=m=1,(d=e[UYt])||(f=m=0,e[UYt]=d=R("op-icon",h,`${o}`,null)),$=gne,$===e[PYt]||(d.data=e[PYt]=$),f||!d.setup||d.setup(m,b),d[sie](m),f||h[lie](d),u||!a.setup||a.setup(c,g),a[sie](c),u||s[lie](a),k=_=1,(x=e[TYt])||(k=_=0,e[TYt]=x=R("op-button",s,`${o}`,null)),S=x[vYt]("__",e),k||x.on$("click",{emit:["cancel"]},this),C=j=1,(v=e[OYt])||(C=j=0,e[OYt]=v=R("op-icon",S,`${o}`,null)),P=kne,P===e[RYt]||(v.data=e[RYt]=P),C||!v.setup||v.setup(j,U),v[sie](j),C||S[lie](v),k||!x.setup||x.setup(_,O),x[sie](_),k||s[lie](x),e[_Zo](r),e}};E(aie,xZo,"op-confirm",2),pe("op-confirm",aie,{});var MYt=aie;T();oe();var kAe=Symbol();var _Ae=Symbol(),LYt=Symbol(),DYt=Symbol();var xAe=Symbol(),NYt=Symbol(),vZo=Symbol(),wZo=Symbol(),IYt=Symbol.for("##up"),SZo=Symbol.for("##register"),CZo=Symbol.for("#beforeReconcile"),EZo=Symbol.for("#getDynamicContext"),jZo=Symbol.for("#isRichElement"),FYt=Symbol.for("#afterVisit"),AZo=Symbol.for("#afterReconcile"),UZo=Symbol(),uie=class uie extends de{[A](e=null,t=!0,r=!0){super[A](...arguments),this.data=e?e.data:void 0,this.type=e?e.type:void 0}because(e){return this.data.rolesfor(OP.pov)&this.data["$"+this.type]&+e}get matchingroles(){var e,t;t=[];for(let r=0,o=B(OP.roles),n=o.length;r<n;r++){let i=o[r];Ye(i,OP.ANYONE)||this.because(i)&&t.push(i)}return e=t}get visible(){var e;return(e=OP.pov)==null?void 0:e.display_roles}el(e){var a,u,c;var t=this._ns_||"",r,o=H(),n,i,s;return n=i=1,(r=o[kAe])||(n=i=0,r=o[kAe]=r=w("div",null,`st-af ${t}`,null)),n||(r[IYt]=o._),n||((a=r[SZo])==null||a.call(r,o,kAe)),s=e.hue||"gray",s===r[_Ae]||(i|=2,r[_Ae]=s),s="Accessible by "+((c=(u=e.name)==null?void 0:u.toLowerCase)==null?void 0:c.call(u))+"s",s===r[LYt]||(r.optip=r[LYt]=s),i&2&&r.flag$(`st-af ${t} `+(r[_Ae]||"")),r}render(){var e,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f;e=this,e[CZo](),t=r=1,e[DYt]===1||(t=r=0,e[DYt]=1),o=!this.visible||void 0,o===e[xAe]||(r|=2,e[xAe]=o),(!t||r&2)&&e.flagSelf$("st-ag "+(e[xAe]?"st-ah":"")),(n=e[NYt])||(e[NYt]=n=wt(256,e)),i=0,s=n.$;for(let m=0,$=B(this.matchingroles),b=$.length;m<b;m++){let g=$[m];h=d=1,(c=(a=s[EZo](vZo,i)).run(this.el(g)))||(h=d=0,a.cache(c=M(a.value,n,`${u}`,null))),h||(c[IYt]=n),c[jZo]&&((!h||d&2)&&c.flags.reconcile(wZo,`${u}`),h||!c.setup||c.setup(d,a),c[FYt](d)),n.push(c,i++,f)}return n[FYt](i),e[AZo](r),e}};E(uie,UZo,"op-role-display",2),pe("op-role-display",uie,{});var HYt=uie;T();oe();ge(),an(),dt();var PZo=Symbol.for("#beforeReconcile"),TZo=Symbol.for("#visit"),OZo=Symbol.for("#afterVisit"),RZo=Symbol.for("#appendChild"),MZo=Symbol.for("#placeChild"),LZo=Symbol.for("#afterReconcile"),BYt=Symbol(),VYt=Symbol(),zYt=Symbol(),qYt=Symbol(),WYt=Symbol(),DZo=Symbol(),cie=class cie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.depth=e?e.depth:void 0,this.collapsed=e?e.collapsed:void 0}_opnavexit(e){return e.preventDefault(),this.oproute&&this.oproute.leave(),this}close(e){if(this.oproute)return this.oproute.leave(e==null?void 0:e.detail)}render(){var m;var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f;return t=this,t[PZo](),r=o=1,t[BYt]===1||(r=o=0,t[BYt]=1),r||t.on$("opnavexit",{self:!0,$_:[function($,b){return e._opnavexit($)}]},this),r||t.on$("closelayer",{trap:!0,$_:[function($,b){return e.close($)}]},this),n=t[VYt]||(t[VYt]={options:[null]}),i=this.data,i===n.options[0]||(n.options[0]=i,o|=48),r||t.on$("opmenu",n,this),o&32&&(o^=32,(m=n[TZo])==null||m.call(n)),r||(t.ease="ease"),(a=t[zYt])||(t[zYt]=a=w("div",t,`vm-ah buttons sm ${s}`,null)),c=h=1,(u=t[qYt])||(c=h=0,t[qYt]=u=R("op-button",a,`square outline ${s}`,null)),c||(u.icon="x"),c||u.on$("click",{$_:[function($,b){return e.close($)}]},this),c||(u.optip="Close view"),c||u.on$("opnav",{},this),c||!u.setup||u.setup(h,d),u[OZo](h),c||a[RZo](u),f=t.__slots.__,t[WYt]=t[MZo](f,256,t[WYt]),t[LZo](o),t}mount(){if(this.depth==0)return this.opfocus()}};E(cie,DZo,"op-layer",2),pe("op-layer",cie,{cssid:"vm-af"});var ZYt=cie;T();oe();ge(),Hl(),dt(),un(),aw(),En(),$e();var vAe=Symbol("prompt"),GYt=Symbol(),wAe=Symbol("set-asset"),YYt=Symbol(),XYt=Symbol(),KYt=Symbol(),JYt=Symbol(),QYt=Symbol(),eXt=Symbol(),tXt=Symbol(),rXt=Symbol(),oXt=Symbol(),nXt=Symbol(),iXt=Symbol(),sXt=Symbol(),lXt=Symbol(),aXt=Symbol(),uXt=Symbol(),cXt=Symbol(),hXt=Symbol(),pXt=Symbol(),dXt=Symbol(),fXt=Symbol(),mXt=Symbol(),$Xt=Symbol(),yXt=Symbol(),bXt=Symbol(),gXt=Symbol(),kXt=Symbol(),_Xt=Symbol(),xXt=Symbol(),vXt=Symbol(),wXt=Symbol(),SXt=Symbol(),CXt=Symbol(),hie=Symbol(),EXt=Symbol(),jXt=Symbol(),AXt=Symbol(),uI=Symbol(),NZo=Symbol(),pie=Symbol(),UXt=Symbol(),SAe=Symbol(),PXt=Symbol(),die=Symbol(),TXt=Symbol();var CAe=Symbol(),OXt=Symbol(),RXt=Symbol(),MXt=Symbol(),LXt=Symbol(),DXt=Symbol(),NXt=Symbol(),fie=Symbol(),cI=Symbol(),IZo=Symbol(),IXt=Symbol(),hI=Symbol(),FZo=Symbol(),mie=Symbol(),FXt=Symbol(),HXt=Symbol(),$ie=Symbol(),pI=Symbol(),HZo=Symbol(),dI=Symbol(),BZo=Symbol(),BXt=Symbol(),yie=Symbol(),VXt=Symbol(),EAe=Symbol(),jAe,bie=Symbol(),zXt=Symbol(),qXt=Symbol(),gie=Symbol(),WXt=Symbol(),kie=Symbol(),_ie=Symbol();var AAe=Symbol();var UAe=Symbol(),ZXt=Symbol(),GXt=Symbol(),YXt=Symbol(),XXt=Symbol(),KXt=Symbol(),JXt=Symbol(),QXt=Symbol(),eKt=Symbol(),tKt=Symbol(),rKt=Symbol(),oKt=Symbol(),nKt=Symbol(),iKt=Symbol(),sKt=Symbol(),lKt=Symbol(),aKt=Symbol(),uKt=Symbol(),cKt=Symbol(),hKt=Symbol(),pKt=Symbol(),dKt=Symbol(),fKt=Symbol(),mKt=Symbol(),$Kt=Symbol(),yKt=Symbol(),bKt=Symbol(),gKt=Symbol(),kKt=Symbol(),_Kt=Symbol(),xKt=Symbol(),vKt=Symbol(),wKt=Symbol(),SKt=Symbol(),CKt=Symbol(),EKt=Symbol(),jKt=Symbol(),AKt=Symbol(),UKt=Symbol(),PKt=Symbol(),TKt=Symbol(),OKt=Symbol(),xie=Symbol();var PAe=Symbol(),RKt=Symbol(),MKt=Symbol(),vie=Symbol(),LKt=Symbol(),DKt=Symbol(),TAe,wie=Symbol(),NKt=Symbol(),IKt=Symbol(),FKt=Symbol(),HKt=Symbol(),BKt=Symbol(),VKt=Symbol(),zKt=Symbol(),Sie=Symbol(),qKt=Symbol(),WKt=Symbol(),ZKt=Symbol(),fI=Symbol(),VZo=Symbol(),Cie=Symbol(),GKt=Symbol(),YKt=Symbol(),zZo=le("&.as-label",globalThis,l=>l.aslabel),Eie=Symbol(),XKt=Symbol(),KKt=Symbol(),JKt=Symbol(),QKt=Symbol(),eJt=Symbol(),qZo=Symbol();var WZo=Symbol(),tJt=Symbol(),jie=Symbol(),rJt=Symbol(),Aie=Symbol(),oJt=Symbol(),OAe=Symbol(),nJt=Symbol(),ZZo=Symbol();var RAe=Symbol(),iJt=Symbol(),GZo=Symbol(),Uie=Symbol(),sJt=Symbol(),lJt=Symbol(),aJt=Symbol(),uJt=Symbol(),cJt=Symbol(),Pie=Symbol(),hJt=Symbol(),MAe=Symbol(),pJt=Symbol(),dJt=Symbol(),fJt=Symbol(),mJt=Symbol(),$Jt=Symbol(),yJt=Symbol(),bJt=Symbol();var LAe=Symbol(),DAe=Symbol.for("#beforeReconcile"),Er=Symbol.for("##up"),zn=Symbol.for("#placeChild"),NAe=Symbol.for("#afterReconcile"),Ln=Symbol.for("##register"),Nh=Symbol.for("#getSlot"),km=Symbol.for("#getRenderContext"),sd=Symbol.for("#isRichElement"),yr=Symbol.for("#afterVisit"),Ih=Symbol.for("#appendChild"),b7=Symbol.for("#replaceChild"),DJt=Symbol.for("#registerFunctionalSlot"),YZo=Symbol.for("#inputValue"),gJt=Symbol.for("#getDynamicContext"),kJt=Symbol.for("#bval"),XZo=Symbol(),Tie=class Tie extends de{[A](e=null,t=!0,r=!0){super[A](...arguments),this.name=e?e.name:void 0,this.data=e?e.data:void 0}get field(){return this.data.$shape[this.name]}changed(e){this.log("changed!!",e);let t=e.target.value;return e.target.matches("[type=range],[type=number]")?t=e.target.valueAsNumber:e.target.type=="checkbox"&&(t=!!e.target.checked),this.update(t)}update(e){return this.data[this.name]=e}get dataValue(){return this.data[this.name]}render(){var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te;let ne=this.field,ie=ne.name.humanize();if(o=this,o[DAe](),n=i=1,o[XYt]===1||(n=i=0,o[XYt]=1),n||o.on$("change",{$_:[function(J,me){return e.changed(J)}]},this),r=null,p(ne,OPBooleanField))a=u=1,(r=o[KYt])||(a=u=0,o[KYt]=r=w("label",null,`head ${s}`,null)),a||(r[Er]=o),(c=r[JYt])||(r[JYt]=c=w("div",r,`no-ai name ${s}`,null)),h=ie,h===r[eXt]&&a||(r[QYt]=c[zn](r[eXt]=h,384,r[QYt])),f=m=1,(d=r[tXt])||(f=m=0,r[tXt]=d=w("input",r,`input ${s}`,null)),f||(d.type="checkbox"),$=this.dataValue,$===r[rXt]||(d.checked=r[rXt]=$);else if(p(ne,OPNumberField)){let{min:J,max:me,pgtype:ce}=ne;b=g=1,(r=o[oXt])||(b=g=0,o[oXt]=r=w("label",null,`head ${s}`,null)),b||(r[Er]=o),(x=r[nXt])||(r[nXt]=x=w("div",r,`no-al name ${s}`,null)),k=ie,k===r[sXt]&&b||(r[iXt]=x[zn](r[sXt]=k,384,r[iXt])),t=null,Number.isFinite(J)?(_=S=1,(t=r[lXt])||(_=S=0,r[lXt]=t=w("input",null,`input ${s}`,null)),_||(t[Er]=r),_||(t.type="range"),J===t[aXt]||(t.min=t[aXt]=J),me===t[uXt]||(t.max=t[uXt]=me),_||(t.step=1),v=this.dataValue,v===t[cXt]||(t.richValue=t[cXt]=v)):(C=j=1,(t=r[hXt])||(C=j=0,r[hXt]=t=w("div",null,`${s}`,"value")),C||(t[Er]=r)),r[pXt]=r[zn](t,0,r[pXt])}else if(p(ne,OPStringField))P=U=1,(r=o[dXt])||(P=U=0,o[dXt]=r=w("label",null,`${s}`,null)),P||(r[Er]=o),P||(O=w("div",r,`head ${s}`,null)),(L=r[fXt])||(r[fXt]=L=w("div",O,`name ${s}`,null)),I=ie,I===r[$Xt]&&P||(r[mXt]=L[zn](r[$Xt]=I,384,r[mXt])),N=V=1,(F=r[yXt])||(N=V=0,r[yXt]=F=w("input",r,`input ${s}`,null)),N||(F.type="text"),W=this.dataValue,W===r[bXt]||(F.richValue=r[bXt]=W);else if(p(ne,OPTextField)){let{rows:J}=ne;z=q=1,(r=o[gXt])||(z=q=0,o[gXt]=r=w("label",null,`${s}`,null)),z||(r[Er]=o),z||(Y=w("div",r,`head ${s}`,null)),(K=r[kXt])||(r[kXt]=K=w("div",Y,`name ${s}`,null)),X=ie,X===r[xXt]&&z||(r[_Xt]=K[zn](r[xXt]=X,384,r[_Xt])),Q=ee=1,(Z=r[vXt])||(Q=ee=0,r[vXt]=Z=w("textarea",r,`input ${s}`,null)),te=this.dataValue,te===r[wXt]||(Z.richValue=r[wXt]=te),J===r[SXt]||(Z.rows=r[SXt]=J)}return o[CXt]=o[zn](r,0,o[CXt]),o[NAe](i),o}};E(Tie,XZo,"op-field",2),pe("op-field",Tie,{cssns:"no_af",cssid:"no-af"});var _Jt=Tie,KZo=Symbol(),IAe=class IAe{opownfield(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;return r=o=1,(e=t[hie])||(r=o=0,e=t[hie]=e=R("op",null,"ofield",null)),r||(e[Er]=t._),r||((d=e[Ln])==null||d.call(e,t,hie)),n=e[Nh]("__",e),(i=e[EXt])||(e[EXt]=i=w("div",n,"label",null)),s=this.aslabel||this.label,s===e[AXt]&&r||(e[jXt]=i[zn](e[AXt]=s,384,e[jXt])),a=e[km](NZo),c=h=1,(u=a.run(this.oinput(this)))||(c=h=0,a.cache(u=M(a.value,n,null,null))),u[sd]&&(c||!u.setup||u.setup(h,a),u[yr](h)),u==e[uI]||!e[uI]&&n[Ih](e[uI]=u)||(n[b7](u,e[uI]),e[uI]=u),r||t.sym||!e.setup||e.setup(o,t,hie),t.sym||e[yr](o),e}opowninput(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[pie])||(r=o=0,e=t[pie]=e=w("input",null,"no-az",null)),r||(e[Er]=t._),r||((i=e[Ln])==null||i.call(e,t,pie)),r||(e.type="color"),n=e[UXt]||(e[UXt]=e.bind$("data",[null,"hex"])),n[0]=this,r||(e.opnav="opnav"),r||t.sym||!e.setup||e.setup(o,t,pie),t.sym||e[yr](o),e}};E(IAe,KZo,"OPColorProp",1,OPColorProp);var xJt=IAe,JZo=Symbol(),FAe=class FAe{opownvaluelabel(){var i;var e,t,r=H(),o,n;return o=n=1,(t=r[SAe])||(o=n=0,t=r[SAe]=t=w("span",null,null,null)),o||(t[Er]=r._),o||((i=t[Ln])==null||i.call(t,r,SAe)),e=null,this.value?e="yes":e="no",t[PXt]=t[zn](e,0,t[PXt]),t}opownbadge(){var c,h,d;var e,t,r=H(),o,n,i,s,a,u;return o=n=1,(t=r[die])||(o=n=0,t=r[die]=t=R("op",null,null,null)),o||(t[Er]=r._),o||((c=t[Ln])==null||c.call(t,r,die)),i=t[Nh]("__",t),s=this.ascolor,s===t[TXt]||(t.opaccent=t[TXt]=s),s=this.cssclasses,s===t[CAe]||(n|=2,t[CAe]=s),s=this,s===t[OXt]||(t.data=t[OXt]=s),o||t.on$("optip",{},this),n&2&&t.flag$(t[CAe]||""),(a=t[RXt])||(t[RXt]=a=w("span",i,"olabel",null)),e=null,this.value?e="":e="not ",t[MXt]=a[zn](e,0,t[MXt]),pt.context=t[DXt]||(t[DXt]={_:a}),u=(d=(h=this.$key)==null?void 0:h.humanize)==null?void 0:d.call(h).replace("?",""),pt.context=null,u===t[NXt]&&o||(t[LXt]=a[zn](t[NXt]=u,256,t[LXt])),o||r.sym||!t.setup||t.setup(n,r,die),r.sym||t[yr](n),t}opownfield(e,t){var g;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b;return n=i=1,(r=o[fie])||(n=i=0,r=o[fie]=r=R("op",null,"ofield",null)),n||(r[Er]=o._),n||((g=r[Ln])==null||g.call(r,o,fie)),s=r[Nh]("__",r),a=r[km](IZo),c=h=1,(u=a.run(this.olabel(this)))||(c=h=0,a.cache(u=M(a.value,s,null,null))),u[sd]&&(c||!u.setup||u.setup(h,a),u[yr](h)),u==r[cI]||!r[cI]&&s[Ih](r[cI]=u)||(s[b7](u,r[cI]),r[cI]=u),d=r[DJt]("__"),r[IXt]=s[zn](d,0,r[IXt]),f=r[km](FZo),$=b=1,(m=f.run(this.oinput(this,t)))||($=b=0,f.cache(m=M(f.value,s,null,null))),m[sd]&&($||!m.setup||m.setup(b,f),m[yr](b)),m==r[hI]||!r[hI]&&s[Ih](r[hI]=m)||(s[b7](m,r[hI]),r[hI]=m),n||o.sym||!r.setup||r.setup(i,o,fie),o.sym||r[yr](i),r}opowninput(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[mie])||(r=o=0,e=t[mie]=e=R("op",null,"toggler",null)),r||(e[Er]=t._),r||((h=e[Ln])==null||h.call(e,t,mie)),n=e[Nh]("__",e),s=a=1,(i=e[FXt])||(s=a=0,e[FXt]=i=R("op-toggle",n,"lg",null)),u=this,u===e[HXt]||(i.data=e[HXt]=u),s||!i.setup||i.setup(a,c),i[yr](a),s||n[Ih](i),r||t.sym||!e.setup||e.setup(o,t,mie),t.sym||e[yr](o),e}};E(FAe,JZo,"OPBoolProp",1,OPBoolProp);var vJt=FAe,QZo=Symbol(),HAe=class HAe{opownfield(e,t){var g;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b;return n=i=1,(r=o[$ie])||(n=i=0,r=o[$ie]=r=R("op",null,"ofield",null)),n||(r[Er]=o._),n||((g=r[Ln])==null||g.call(r,o,$ie)),s=r[Nh]("__",r),a=r[km](HZo),c=h=1,(u=a.run(this.olabel(this)))||(c=h=0,a.cache(u=M(a.value,s,null,null))),u[sd]&&(c||!u.setup||u.setup(h,a),u[yr](h)),u==r[pI]||!r[pI]&&s[Ih](r[pI]=u)||(s[b7](u,r[pI]),r[pI]=u),d=r[km](BZo),m=$=1,(f=d.run(this.oinput(this,t)))||(m=$=0,d.cache(f=M(d.value,s,null,null))),f[sd]&&(m||!f.setup||f.setup($,d),f[yr]($)),f==r[dI]||!r[dI]&&s[Ih](r[dI]=f)||(s[b7](f,r[dI]),r[dI]=f),b=r[DJt]("__"),r[BXt]=s[zn](b,256,r[BXt]),n||o.sym||!r.setup||r.setup(i,o,$ie),o.sym||r[yr](i),r}opowninput(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[yie])||(r=o=0,e=t[yie]=e=R("op-select",null,null,null)),r||(e[Er]=t._),r||((i=e[Ln])==null||i.call(e,t,yie)),n=this,n===e[VXt]||(e.data=e[VXt]=n),r||t.sym||!e.setup||e.setup(o,t,yie),t.sym||e[yr](o),e}opownbutton(){var i;var e,t,r=H(),o,n;return e=r[km](EAe),o=n=1,(t=e.run(this.oinput(this)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Er]=r._),o||((i=t[Ln])==null||i.call(t,r,EAe)),t[sd]&&(o||r.sym||!t.setup||t.setup(n,r,EAe),r.sym||t[yr](n)),t}};E(HAe,QZo,"OPRefProp",1,OPRefProp);var wJt=HAe,eGo=Symbol(),Oie=class Oie extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.show=e&&(o=e.show)!==void 0?o:!1}};E(Oie,eGo,"ostate",2),pe("ostate",Oie,{});var SJt=Oie,tGo=Symbol(),BAe=class BAe{get secret(){return this.$field.encrypted||this.$field.secret}get inputtype(){return this.$field.inputtype||"text"}async paste(e){var t;try{let o=((t=e.clipboardData)==null?void 0:t.items)[0],n=e.target;if(o.type.startsWith("image")){e.preventDefault();let i=o.getAsFile(),s=await OPImage.for(i);s.save();let a="![image](/op/assets/"+s.id+"."+s.extension+")",u=n.selectionStart,c=n.selectionEnd;return n.data??="",n.data=n.data.substring(0,u)+a+n.data.substring(c),n.selectionStart=n.selectionEnd=u+1}}catch{return OP.toast("Error pasting image into text field")}}set prompt(e){this.prompt.$set(e,this,vAe,"prompt")}get prompt(){return this.prompt.$get(this,vAe,"prompt")}get prompt(){return this[GYt]||y((jAe=this.action(),jAe.callback=async function(){var e=this;let t=await Bt(function(){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[bie])||(n=i=0,r=o[bie]=r=R("op-text-dialog",null,"no-bp",null)),n||(r[Er]=o._),n||((a=r[Ln])==null||a.call(r,o,bie)),s="Edit "+e.aslabel,s===r[zXt]||(r.msg=r[zXt]=s),s=e.value,s===r[qXt]||(r.initial=r[qXt]=s),n||o.sym||!r.setup||r.setup(i,o,bie),o.sym||r[yr](i),r});if(t!==null)return this.value=t},jAe),this,vAe,"prompt",GYt,OPTextProp.prototype)}opownbutton(){var s;var e=this,t=H(),r,o,n,i;return t.this=this,o=n=1,(r=t[gie])||(o=n=0,r=t[gie]=r=R("op-button",null,null,null)),o||(r[Er]=t._),o||((s=r[Ln])==null||s.call(r,t,gie)),o||r.on$("click",{$_:[function(a,u){return t.this.prompt(a)}]},this),i=this.aslabel,i===r[WXt]||(r.label=r[WXt]=i),o||(r.icon="edit"),o||t.sym||!r.setup||r.setup(n,t,gie),t.sym||r[yr](n),r}get inputValue(){return this[YZo]??this.value}set inputValue(e){this.value=e}opowninput(e,t,r){var Ce,Ze;var o=this,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe;let Re=(d=f=1,(h=n[kie])||(d=f=0,h=n[kie]=h=R("ostate",null,null,null)),d||(h[Er]=n._),d||((Ce=h[Ln])==null||Ce.call(h,n,kie)),d||n.sym||!h.setup||h.setup(f,n,kie),n.sym||h[yr](f),h),Oe=this.$field.pattern||".*",qe=this.$field.multiline,Ne=this.inputtype,Ie=this.$field.md,Ke=t==null?void 0:t.lazy;p(Oe,RegExp)&&(Oe=Oe.source);let Te=Re.state||={val:this.value,focused:!1,reset:function(){return this.value=o.value},flush:function(){return o.value=this.val},set value(et){this.val=et,Ke||this.flush()},get value(){return this.val},blur(){return this.focused=!1,this.flush()}};return(!Te.focused||t.overwrite)&&(Te.val=this.value),n.this=this,$=b=1,(m=n[_ie])||($=b=0,m=n[_ie]=m=R("op",null,"no-bs input box",null)),$||(m[Er]=n._),$||((Ze=m[Ln])==null||Ze.call(m,n,_ie)),g=m[Nh]("__",m),$||(m.contour="contour"),x=qe||void 0,x===m[AAe]||(b|=2,m[AAe]=x),x=this.invalid||void 0,x===m[UAe]||(b|=2,m[UAe]=x),$||m.on$("flush",{log:["flush!!"]},this),b&2&&m.flag$("no-bs input box "+(m[AAe]?"multiline":"")+" "+(m[UAe]?"invalid":"")),i=null,this.$field.markdown?(k=_=1,(i=m[ZXt])||(k=_=0,m[ZXt]=i=R("op-markdown",null,"no-bt",null)),k||(i[Er]=g),Te===i[GXt]||(i.data=i[GXt]=Te),k||(i.editable=!0),S=t.placeholder||this.$field.placeholder||"",S===i[YXt]||(i.placeholder=i[YXt]=S),v=i[XXt]||(i[XXt]={$_:[function(et,ft,Ge){return Ge.value=et.detail},null]}),v.$_[1]=Te,k||i.on$("change",v,this),k||!i.setup||i.setup(_,C),i[yr](_)):t.inline?(j=P=1,(i=m[KXt])||(j=P=0,m[KXt]=i=R("op-content-editable",null,"no-bu",null)),j||(i[Er]=g),U=i[JXt]||(i[JXt]={$_:[function(et,ft,Ge){return Ge.value=et.target.value},null]}),U.$_[1]=Te,j||i.on$("input",U,this),O=this.value,O===i[QXt]||(i.backingvalue=i[QXt]=O),O=t.placeholder,O===i[eKt]||(i.placeholder=i[eKt]=O),j||!i.setup||i.setup(P,L),i[yr](P)):qe?(I=F=1,(i=m[tKt])||(I=F=0,m[tKt]=i=w("textarea",null,"no-bv",null)),I||(i[Er]=g),N=i[rKt]||(i[rKt]=i.bind$("data",[null,"value"])),N[0]=this,I||i.on$("opnav",{},this),Ie===i[oKt]||(i.opacceptimages=i[oKt]=Ie),V=i[nKt]||(i[nKt]={if:[null],$_:[function(et,ft){return n.this.paste(et)}]}),V.if[0]=Ie,I||i.on$("paste",V,this),N=this.$field.rows,N===i[iKt]||(i.rows=i[iKt]=N),I||!i.setup||i.setup(F,W),i[yr](F)):Ne=="email"?(z=q=1,(i=m[sKt])||(z=q=0,m[sKt]=i=w("input",null,null,null)),z||(i[Er]=g),z||(i.type="email"),Y=this.$field.name,Y===i[lKt]||(i.name=i[lKt]=Y),Y=i[aKt]||(i[aKt]=i.bind$("data",[null,"value"])),Y[0]=this,Oe===i[uKt]||(i.pattern=i[uKt]=Oe),z||(i.placeholder=""),z||i.set$("autocomplete","email"),Y=!this.w,Y===i[cKt]||(i.readOnly=i[cKt]=Y),z||i.on$("opnav",{},this),z||!i.setup||i.setup(q,K),i[yr](q)):(X=Z=1,(i=m[hKt])||(X=Z=0,m[hKt]=i=w("input",null,null,null)),X||(i[Er]=g),Q=!this.secret||Re.show?Ne:"password",Q===i[pKt]||(i.type=i[pKt]=Q),Q=i[dKt]||(i[dKt]=i.bind$("data",[null,"value"])),Q[0]=Te,Oe===i[fKt]||(i.pattern=i[fKt]=Oe),X||(i.placeholder=" "),Q=!this.w,Q===i[mKt]||(i.readOnly=i[mKt]=Q),ee=i[$Kt]||(i[$Kt]={enter:!0,$_:[function(et,ft,Ge){return Ge.flush()},null]}),ee.$_[1]=Te,X||i.on$("keydown",ee,this),ee=i[yKt]||(i[yKt]={$_:[function(et,ft,Ge){return Ge.focused=!0},null]}),ee.$_[1]=Te,X||i.on$("focus",ee,this),ee=i[bKt]||(i[bKt]={$_:[function(et,ft,Ge){return Ge.blur()},null]}),ee.$_[1]=Te,X||i.on$("blur",ee,this),X||i.on$("opnav",{},this),X||!i.setup||i.setup(Z,te),i[yr](Z)),m[gKt]=g[zn](i,0,m[gKt]),a=null,this.secret&&(ne=ie=1,(a=m[kKt])||(ne=ie=0,m[kKt]=a=w("div",null,"no-by suffix",null)),ne||(a[Er]=g),s=null,Re.show?(J=me=1,(s=a[_Kt])||(J=me=0,a[_Kt]=s=R("op-icon",null,null,null)),J||(s[Er]=a),J||(s.data="eye_off"),ce=s[xKt]||(s[xKt]={$_:[function(et,ft,Ge){return Ge.show=!1},null]}),ce.$_[1]=Re,J||s.on$("press",ce,this),J||!s.setup||s.setup(me,ye),s[yr](me)):(we=ae=1,(s=a[vKt])||(we=ae=0,a[vKt]=s=R("op-icon",null,null,null)),we||(s[Er]=a),we||(s.data="eye"),be=s[wKt]||(s[wKt]={$_:[function(et,ft,Ge){return Ge.show=!0},null]}),be.$_[1]=Re,we||s.on$("press",be,this),we||!s.setup||s.setup(ae,_e),s[yr](ae)),a[SKt]=a[zn](s,0,a[SKt])),m[CKt]=g[zn](a,0,m[CKt]),u=null,t!=null&&t.copy&&(Ae=ve=1,(u=m[EKt])||(Ae=ve=0,m[EKt]=u=w("div",null,"no-cb suffix",null)),Ae||(u[Er]=g),He=Ue=1,(Pe=u[jKt])||(He=Ue=0,u[jKt]=Pe=R("op-icon",u,null,null)),He||(Pe.data="clipboard"),He||Pe.on$("press",{$_:[function(et,ft){return OP.copystr(n.this.value)}]},this),He||!Pe.setup||Pe.setup(Ue,Be),Pe[yr](Ue),He||u[Ih](Pe)),m[AKt]=g[zn](u,0,m[AKt]),c=null,(t==null?void 0:t.label)!=!1&&(je=ue=1,(c=m[UKt])||(je=ue=0,m[UKt]=c=w("div",null,"label",null)),je||(c[Er]=g),xe=this.aslabel||this.label,xe===c[TKt]&&je||(c[PKt]=c[zn](c[TKt]=xe,384,c[PKt]))),m[OKt]=g[zn](c,0,m[OKt]),$||n.sym||!m.setup||m.setup(b,n,_ie),n.sym||m[yr](b),m}};E(BAe,tGo,"OPTextProp",1,OPTextProp);var CJt=BAe,rGo=Symbol(),VAe=class VAe{opowninput(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;return r=o=1,(e=t[xie])||(r=o=0,e=t[xie]=e=R("op",null,"no-ce input box",null)),r||(e[Er]=t._),r||((d=e[Ln])==null||d.call(e,t,xie)),n=e[Nh]("__",e),r||(e.contour="contour"),i=this.invalid||void 0,i===e[PAe]||(o|=2,e[PAe]=i),o&2&&e.flag$("no-ce input box "+(e[PAe]?"invalid":"")),a=u=1,(s=e[RKt])||(a=u=0,e[RKt]=s=w("input",n,null,null)),a||(s.type="number"),c=e[MKt]||(e[MKt]=s.bind$("data",[null,"value"])),c[0]=this,a||(s.opnav__={tab:!0}),a||(s.opnav="opnav"),a||!s.setup||s.setup(u,h),s[yr](u),r||t.sym||!e.setup||e.setup(o,t,xie),t.sym||e[yr](o),e}};E(VAe,rGo,"OPNumberProp",1,OPNumberProp);var EJt=VAe,oGo=Symbol(),zAe=class zAe{get strtime(){if(this.value)return this.value.toISOString().slice(0,10)}set strtime(e){this.value=new Date(e)}opowninput(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[vie])||(r=o=0,e=t[vie]=e=R("op",null,"input box",null)),r||(e[Er]=t._),r||((h=e[Ln])==null||h.call(e,t,vie)),n=e[Nh]("__",e),r||(e.contour="contour"),s=a=1,(i=e[LKt])||(s=a=0,e[LKt]=i=w("input",n,null,null)),s||(i.type="date"),u=e[DKt]||(e[DKt]=i.bind$("data",[null,"strtime"])),u[0]=this,s||!i.setup||i.setup(a,c),i[yr](a),r||t.sym||!e.setup||e.setup(o,t,vie),t.sym||e[yr](o),e}};E(zAe,oGo,"OPTimestampProp",1,OPTimestampProp);var jJt=zAe,nGo=Symbol(),qAe=class qAe{set setasset(e){this.setasset.$set(e,this,wAe,"setasset")}get setasset(){return this.setasset.$get(this,wAe,"setasset")}get setasset(){return this[YYt]||y((TAe=this.action(OPAsset),TAe.callback=function(e){return this.value=e},TAe),this,wAe,"setasset",YYt,OPAssetProp.prototype)}opownfield(){var x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g;return r=o=1,(e=t[wie])||(r=o=0,e=t[wie]=e=R("op",null,"ofield",null)),r||(e[Er]=t._),r||((x=e[Ln])==null||x.call(e,t,wie)),n=e[Nh]("__",e),(i=e[NKt])||(e[NKt]=i=w("div",n,"olabel",null)),s=this.aslabel||this.label,s===e[FKt]&&r||(e[IKt]=i[zn](e[FKt]=s,384,e[IKt])),u=c=1,(a=e[HKt])||(u=c=0,e[HKt]=a=R("op-button",n,null,null)),h=this.setasset,h===e[BKt]||(a.data=e[BKt]=h),u||!a.setup||a.setup(c,d),a[yr](c),u||n[Ih](a),m=$=1,(f=e[VKt])||(m=$=0,e[VKt]=f=R("op-image",n,"no-cl",null)),b=this.value,b===e[zKt]||(f.data=e[zKt]=b),m||!f.setup||f.setup($,g),f[yr]($),m||n[Ih](f),r||t.sym||!e.setup||e.setup(o,t,wie),t.sym||e[yr](o),e}};E(qAe,nGo,"OPAssetProp",1,OPAssetProp);var AJt=qAe,iGo=Symbol(),WAe=class WAe{opownfield(e,t){var m;var r,o=H(),n,i,s,a,u,c,h,d,f;return n=i=1,(r=o[Sie])||(n=i=0,r=o[Sie]=r=R("op",null,"ofield",null)),n||(r[Er]=o._),n||((m=r[Ln])==null||m.call(r,o,Sie)),s=r[Nh]("__",r),(a=r[qKt])||(r[qKt]=a=w("div",s,"olabel",null)),u=this.aslabel,u===r[ZKt]&&n||(r[WKt]=a[zn](r[ZKt]=u,384,r[WKt])),c=r[km](VZo),d=f=1,(h=c.run(this.oinput(this,t)))||(d=f=0,c.cache(h=M(c.value,s,null,null))),h[sd]&&(d||!h.setup||h.setup(f,c),h[yr](f)),h==r[fI]||!r[fI]&&s[Ih](r[fI]=h)||(s[b7](h,r[fI]),r[fI]=h),n||o.sym||!r.setup||r.setup(i,o,Sie),o.sym||r[yr](i),r}opowninput(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Cie])||(r=o=0,e=t[Cie]=e=R("op-button",null,null,null)),r||(e[Er]=t._),r||((s=e[Ln])==null||s.call(e,t,Cie)),n=e[GKt]||(e[GKt]={opmenu:[null]}),n.opmenu[0]=this,r||e.on$("click",n,this),i=this.map(zZo).join(", "),i===e[YKt]||(e.label=e[YKt]=i),r||t.sym||!e.setup||e.setup(o,t,Cie),t.sym||e[yr](o),e}};E(WAe,iGo,"OPRefs",1,OPRefs);var UJt=WAe,sGo=Symbol(),ZAe=class ZAe{opownfield(e,t={}){var j;var r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C;if(i=s=1,(o=n[Eie])||(i=s=0,o=n[Eie]=o=R("op",null,"ofield",null)),i||(o[Er]=n._),i||((j=o[Ln])==null||j.call(o,n,Eie)),a=o[Nh]("__",o),(u=o[XKt])||(o[XKt]=u=w("div",a,"olabel",null)),c=this.aslabel,c===o[JKt]&&i||(o[KKt]=u[zn](o[JKt]=c,384,o[KKt])),r=null,t!=null&&t.radios){h=d=1,(r=o[QKt])||(h=d=0,o[QKt]=r=w("div",null,"radios",null)),h||(r[Er]=a),(f=r[eJt])||(r[eJt]=f=wt(384,r)),m=0,$=f.$;for(let P=0,U=B(t.options||this.$options),O=U.length;P<O;P++){let L=U[P],I=this.$[String(L)];x=k=1,(g=(b=$[gJt](qZo,m)).run(this.oinput(I,t)))||(x=k=0,b.cache(g=M(b.value,f,null,null))),x||(g[Er]=f),g[sd]&&(x||!g.setup||g.setup(k,b),g[yr](k)),f.push(g,m++,_)}f[yr](m)}else S=o[km](WZo),v=C=1,(r=S.run(this.oinput(this,t)))||(v=C=0,S.cache(r=M(S.value,null,null,null))),v||(r[Er]=a),r[sd]&&(v||!r.setup||r.setup(C,S),r[yr](C));return o[tJt]=a[zn](r,0,o[tJt]),i||n.sym||!o.setup||o.setup(s,n,Eie),n.sym||o[yr](s),o}opowninput(e,t){var d,f;var r,o=H(),n,i,s,a,u,c,h;return this.$key.checkbox||t!=null&&t.checkbox?(n=i=1,(r=o[jie])||(n=i=0,r=o[jie]=r=R("op-checkbox",null,null,null)),n||(r[Er]=o._),n||((d=r[Ln])==null||d.call(r,o,jie)),s=this,s===r[rJt]||(r.data=r[rJt]=s),n||o.sym||!r.setup||r.setup(i,o,jie),o.sym||r[yr](i),r):(u=c=1,(a=o[Aie])||(u=c=0,a=o[Aie]=a=R("op-select",null,null,null)),u||(a[Er]=o._),u||((f=a[Ln])==null||f.call(a,o,Aie)),h=this,h===a[oJt]||(a.data=a[oJt]=h),u||o.sym||!a.setup||a.setup(c,o,Aie),o.sym||a[yr](c),a)}opownoptions(){var b;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$;t.this=this,o=n=1,(r=t[OAe])||(o=n=0,r=t[OAe]=r=w("div",null,"no-cx",null)),o||(r[Er]=t._),o||((b=r[Ln])==null||b.call(r,t,OAe)),(i=r[nJt])||(r[nJt]=i=wt(384,r)),s=0,a=i.$;for(let g=0,x=B(this.$options),k=x.length;g<k;g++){let _=x[g];h=d=1,(c=(u=a[gJt](ZZo,s)).run(this.obutton(_)))||(h=d=0,u.cache(c=M(u.value,i,null,null))),h||(c[Er]=i),c[sd]&&(f=this.value==_||void 0,f===c[RAe]||(d|=2,c[RAe]=f),m=c[iJt]||(c[iJt]={$_:[function(S,v,C){return t.this.value=C},null]}),m.$_[1]=_,h||c.on$("click",m,this),(!h||d&2)&&c.flags.reconcile(GZo,c[RAe]?"pri":""),h||!c.setup||c.setup(d,u),c[yr](d)),i.push(c,s++,$)}return i[yr](s),r}};E(ZAe,sGo,"OPEnumProp",1,OPEnumProp);var PJt=ZAe,lGo=Symbol(),GAe=class GAe{opowninput(){var f;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d;return t.this=this,o=n=1,(r=t[Uie])||(o=n=0,r=t[Uie]=r=R("op",null,"radio",null)),o||(r[Er]=t._),o||((f=r[Ln])==null||f.call(r,t,Uie)),i=r[Nh]("__",r),o||r.on$("click",{$_:[function(m,$){return t.this.checked=!0}]},this),a=u=1,(s=r[sJt])||(a=u=0,r[sJt]=s=w("input",i,null,null)),a||(s.type="radio"),c=this.checked,c===r[lJt]||(s.checked=r[lJt]=c),(h=r[aJt])||(r[aJt]=h=w("span",i,null,null)),d=this.aslabel,d===r[cJt]&&o||(r[uJt]=h[zn](r[cJt]=d,384,r[uJt])),o||t.sym||!r.setup||r.setup(n,t,Uie),t.sym||r[yr](n),r}};E(GAe,lGo,"OPEnumPropValue",1,OPEnumPropValue);var TJt=GAe,aGo=Symbol(),YAe=class YAe{opowninput(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Pie])||(r=o=0,e=t[Pie]=e=R("op-select",null,null,null)),r||(e[Er]=t._),r||((i=e[Ln])==null||i.call(e,t,Pie)),n=this,n===e[hJt]||(e.data=e[hJt]=n),r||t.sym||!e.setup||e.setup(o,t,Pie),t.sym||e[yr](o),e}};E(YAe,aGo,"OPMap",1,OPMap);var OJt=YAe,uGo=Symbol(),XAe=class XAe{opownfield(){var i;var e,t,r=H(),o,n;return e=r[km](MAe),o=n=1,(t=e.run(this.obutton(this)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Er]=r._),o||((i=t[Ln])==null||i.call(t,r,MAe)),t[sd]&&(o||r.sym||!t.setup||t.setup(n,r,MAe),r.sym||t[yr](n)),t}};E(XAe,uGo,"OPAction",1,OPAction);var RJt=XAe,cGo=Symbol(),Rie=class Rie extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.min=e&&(o=e.min)!==void 0?o:0,this.max=e&&(o=e.max)!==void 0?o:1e4,this.step=e&&(o=e.step)!==void 0?o:1}set min(e){this.setAttribute("min",e)}get min(){return this.getAttribute("min")}set max(e){this.setAttribute("max",e)}get max(){return this.getAttribute("max")}set value(e){this.setAttribute("value",e)}get value(){return this.getAttribute("value")}change(e=0){let t=this.value;if(typeof this.step=="number")t=t+this.step*e;else if(p(this.step,Array)){let r=this.step.indexOf(this.value);r>=0?e>0?t=this.step[r+1]||this.value:e<0&&(t=this.step[r-1]||this.value):e>0?t=this.step.find(function(o){return o>t})||this.step[0]:t=this.step.findLast(function(o){return o<t})||this.step[0]}return this.value=t.clamp(this.min,this.max)}touch(e){var t;let r=e.data||={value:this.value};r.start!=!0&&(r.start=!0,!0)&&(this.style.minWidth=this.offsetWidth+"px");let o=r.value+Math.round(e.dx)*this.step;if(this.value=o,e.ended)return t=this.style.minWidth,delete this.style.minWidth,t}wheel(e){let t=Math.round(e.wheelDelta/240),r=this.value+t*-this.step;return this.value=r}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$;return t=this,t[DAe](),r=o=1,t[pJt]===1||(r=o=0,t[pJt]=1),r||t.on$("touch",{alt:!0,$_:[function(b,g){return e.touch(b)}]},this),r||t.on$("pointerdown",{stop:!0},this),r||t.on$("wheel",{$_:[function(b,g){return e.wheel(b)}]},this),r||t.on$("incr",{$_:[function(b,g){return e.change(1)}]},this),r||t.on$("decr",{$_:[function(b,g){return e.change(-1)}]},this),(!r||o&2)&&t.flagSelf$("no-df"),s=a=1,(i=t[dJt])||(s=a=0,t[dJt]=i=R("op-icon",t,`btn ${n}`,null)),s||(i.data="lt"),s||i.on$("press",{trap:!0,$_:[function(b,g){return e.change(-1)}]},this),s||!i.setup||i.setup(a,u),i[yr](a),s||t[Ih](i),(c=t[fJt])||(t[fJt]=c=w("div",t,`no-dh value ${n}`,null)),h=this.value||0,h===t[$Jt]&&r||(t[mJt]=c[zn](t[$Jt]=h,384,t[mJt])),f=m=1,(d=t[yJt])||(f=m=0,t[yJt]=d=R("op-icon",t,`btn ${n}`,null)),f||(d.data="gt"),f||d.on$("press",{trap:!0,$_:[function(b,g){return e.change(1)}]},this),f||!d.setup||d.setup(m,$),d[yr](m),f||t[Ih](d),t[NAe](o),t}};E(Rie,cGo,"op-number-stepper",2),pe("op-number-stepper",Rie,{cssns:"no_de",cssid:"no-de"});var MJt=Rie,hGo=Symbol(),Mie=class Mie extends de{set placeholder(e){this.setAttribute("placeholder",e)}get placeholder(){return this.getAttribute("placeholder")}get value(){let e=this.innerText;return e.trim()?e:""}set value(e){e!=this.value&&(this.innerText=e)}set backingvalue(e){this[kJt]!=e&&(this[kJt]=e,!0)&&(this.value=e)}get empty(){return!this.innerText||this.innerText==`
`}reflow(){return this.render(),!0}render(){var e=this,t,r,o,n;return t=this,t[DAe](),r=o=1,t[bJt]===1||(r=o=0,t[bJt]=1),n=this.empty||void 0,n===t[LAe]||(o|=2,t[LAe]=n),r||t.on$("input",{$_:[function(i,s){return e.reflow(i)}]},this),r||(t.contentEditable="plaintext-only"),(!r||o&2)&&t.flagSelf$(t[LAe]?"empty":""),t[NAe](o),t}};E(Mie,hGo,"op-content-editable",2),pe("op-content-editable",Mie,{cssid:"no-dj"});var LJt=Mie;T();oe();$e();var pGo=Symbol.for("#beforeReconcile"),dGo=Symbol.for("#getRenderContext"),fGo=Symbol.for("#isRichElement"),mGo=Symbol.for("#getFunctionalSlot"),$Go=Symbol.for("#placeChild"),NJt=Symbol.for("#afterVisit"),yGo=Symbol.for("#insertInto"),bGo=Symbol.for("#replaceWith"),gGo=Symbol.for("#afterReconcile"),IJt=Symbol(),FJt=Symbol(),HJt=Symbol(),g7=Symbol(),kGo=Symbol(),BJt=Symbol(),VJt=Symbol(),_Go=Symbol(),Lie=class Lie extends de{render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$;return e=this,e[pGo](),t=r=1,e[IJt]===1||(t=r=0,e[IJt]=1),(!t||r&2)&&e.flagSelf$("nf-ag"),i=s=1,(n=e[FJt])||(i=s=0,e[FJt]=n=w("a",e,`${o}`,null)),a="#"+this.dataset.id,a===n[HJt]||(n.href=n[HJt]=a),u=n[dGo](kGo),h=d=1,(c=u.run("h"+this.dataset.level))||(h=d=0,u.cache(c=M(u.value,n,`heading ${o}`,null))),c[fGo]&&(f=c[mGo]("__",c),(!h||d&2)&&c.flags.reconcile(g7,`heading ${o}`),m=this.dataset.children,m===c[VJt]&&h||(c[BJt]=f[$Go](c[VJt]=m,384,c[BJt])),h||!c.setup||c.setup(d,u),c[NJt](d)),c==n[g7]||!n[g7]&&(n[g7]=c)[yGo](n)||n[g7][bGo](n[g7]=c,n),i||!n.setup||n.setup(s,$),n[NJt](s),e[gGo](r),e}};E(Lie,_Go,"op-heading",2),pe("op-heading",Lie,{cssns:"nf_af",cssid:"nf-af"});var zJt=Lie;T();oe();var xGo=Symbol(),Die=class Die extends de{};E(Die,xGo,"op-hr",2),pe("op-hr",Die,{});var qJt=Die;T();oe();var WJt=Symbol.for("#asset"),vGo=Symbol.for("#beforeReconcile"),mI=Symbol.for("##up"),wGo=Symbol.for("#afterVisit"),ZJt=Symbol.for("#placeChild"),SGo=Symbol.for("#afterReconcile"),GJt=Symbol();var KAe=Symbol();var JAe=Symbol(),YJt=Symbol(),XJt=Symbol(),KJt=Symbol();var QAe=Symbol();var eUe=Symbol();var tUe=Symbol(),JJt=Symbol(),QJt=Symbol();var rUe=Symbol(),eQt=Symbol(),tQt=Symbol(),rQt=Symbol(),oQt=Symbol(),nQt=Symbol(),iQt=Symbol(),sQt=Symbol();var CGo=Symbol(),Nie=class Nie extends Ve("op","OpComponent",de){set color(e){let t=this.color;e&&this.op.vars({color:e})}render(){var P;var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_;let S=this.data,v=((P=this.data)==null?void 0:P.asicon)||this.data,C=(v==null?void 0:v.svg)||v,j=v;if(typeof j=="string"&&j[0]!="<"&&(j=OP.Icon.closest(C),j!=null&&j.svg||(j=OP.Icon.closest(S.aslabel)),!(j!=null&&j.svg))){let U=(S==null?void 0:S.aslabel)||String(S)}if(this[WJt]!=j&&(this[WJt]=j,!0))return t=this,t[vGo](),r=o=1,t[GJt]===1||(r=o=0,t[GJt]=1),n=j==null?void 0:j.hue,n===t[KAe]||(o|=2,t[KAe]=n),n=(j==null?void 0:j.hue)||void 0,n===t[JAe]||(o|=2,t[JAe]=n),(!r||o&2)&&t.flagSelf$((t[KAe]||"")+" "+(t[JAe]?"has-hue":"")),e=null,p(j,OPImage)?(s=a=1,(e=t[YJt])||(s=a=0,t[YJt]=e=R("op-image",null,`op-avatar ${i}`,null)),s||(e[mI]=t),j===e[XJt]||(e.data=e[XJt]=j),s||!e.setup||e.setup(a,u),e[wGo](a)):j!=null&&j.svg?(c=h=1,(e=t[KJt])||(c=h=0,t[KJt]=e=Ir("svg",null,`${i}`,null)),c||(e[mI]=t),d=j.oid,d===e[QAe]||(h|=2,e[QAe]=d),d=j.svg.flags,d===e[eUe]||(h|=2,e[eUe]=d),d=j.svg.content.indexOf("filled")>0||void 0,d===e[tUe]||(h|=2,e[tUe]=d),d=j.svg,d===e[JJt]||e.set$("src",e[JJt]=d),h&2&&e.flag$(`${i} `+(e[QAe]||"")+" "+(e[eUe]||"")+" "+(e[tUe]?"dual":""))):C!=null&&C.attributes||C!=null&&C.attrs?(f=m=1,(e=t[QJt])||(f=m=0,t[QJt]=e=Ir("svg",null,`${i}`,null)),f||(e[mI]=t),$=C.flags,$===e[rUe]||(m|=2,e[rUe]=$),C===e[eQt]||e.set$("src",e[eQt]=C),m&2&&e.flag$(`${i} `+(e[rUe]||""))):typeof j=="string"&&(j.length<2||j.charCodeAt(0)>200)?(b=g=1,(e=t[tQt])||(b=g=0,t[tQt]=e=w("div",null,`text ${i}`,null)),b||(e[mI]=t),x=j,x===e[oQt]&&b||(e[rQt]=e[ZJt](e[oQt]=x,384,e[rQt]))):typeof j=="string"&&j.indexOf("<svg")==0&&(k=_=1,(e=t[nQt])||(k=_=0,t[nQt]=e=w("span",null,`ob-al ${i}`,null)),k||(e[mI]=t),j===e[iQt]||(e.innerHTML=e[iQt]=j)),t[sQt]=t[ZJt](e,0,t[sQt]),t[SGo](o),t}};E(Nie,CGo,"op-icon",2),pe("op-icon",Nie,{cssns:"ob_af",cssid:"ob-af"});var lQt=Nie;T();oe();function EGo(l,e){return l[l.length+e]}ge(),aw(),un(),Fgt(),wo(),En(),$i(),$e();var aQt=Symbol.for("##data"),jGo=Symbol.for("#state"),dUe=Symbol.for("#beforeReconcile"),Ca=Symbol.for("##up"),ld=Symbol.for("#afterVisit"),Lf=Symbol.for("#placeChild"),oUe=Symbol.for("#appendChild"),pUe=Symbol.for("#getRenderContext"),AGo=Symbol.for("#isRichElement"),UGo=Symbol.for("#getSlot"),fUe=Symbol.for("#afterReconcile"),uQt=Symbol.for("#color"),nUe=Symbol.for("#visit"),PGo=le("&.option",globalThis,l=>l.option),TGo=le("&.active",globalThis,l=>l.active),OGo=le("&.value",globalThis,l=>l.value),RGo=le("&.active?",globalThis,l=>l.active),MGo=le("&.as-label",globalThis,l=>l.aslabel),LGo=le("&.as-detail",globalThis,l=>l.asdetail),cQt=Symbol(),hQt=Symbol(),pQt=Symbol(),dQt=Symbol(),fQt=Symbol(),mQt=Symbol(),$Qt=Symbol();var iUe=Symbol(),yQt=Symbol(),bQt=Symbol(),gQt=Symbol(),kQt=Symbol();var sUe=Symbol(),_Qt=Symbol(),xQt=Symbol(),vQt=Symbol(),wQt=Symbol(),SQt=Symbol(),CQt=Symbol(),DGo=Symbol(),NGo=Symbol(),EQt=Symbol(),jQt=Symbol(),AQt=Symbol(),UQt=Symbol(),PQt=Symbol(),TQt=Symbol(),OQt=Symbol(),RQt=Symbol(),MQt=Symbol(),LQt=Symbol(),IGo=Symbol(),FGo=Symbol(),DQt=Symbol(),NQt=Symbol(),IQt=Symbol();var lUe=Symbol();var aUe=Symbol();var uUe=Symbol();var cUe=Symbol(),FQt=Symbol(),HQt=Symbol(),BQt=Symbol(),VQt=Symbol(),zQt=Symbol();var hUe=Symbol(),qQt=Symbol(),WQt=Symbol(),ZQt=Symbol(),GQt=Symbol(),YQt=Symbol(),XQt=Symbol(),KQt=Symbol(),JQt=Symbol(),QQt=Symbol(),eer=Symbol(),Iie="",HGo=Symbol(),Fie=class Fie extends Ve("op","OpComponent",de){get $values(){let e=w("div",null,`ns_ag ${this._ns_||""} $values`,null);return Object.defineProperty(this,"$values",{value:e}),e}get $placeholder(){let e=w("div",null,`ns_ag ${this._ns_||""} $placeholder`,null);return Object.defineProperty(this,"$placeholder",{value:e}),e}get $input(){let e=w("input",null,`plain ns_ag ${this._ns_||""} $input`,null);return Object.defineProperty(this,"$input",{value:e}),e}get $picker(){let e=R("op-options",null,`ns-as ns_ag ${this._ns_||""} $picker`,null);return Object.defineProperty(this,"$picker",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.autocomplete=e&&(o=e.autocomplete)!==void 0?o:null,this.placeholder=e&&(o=e.placeholder)!==void 0?o:"",this.groups=e&&(o=e.groups)!==void 0?o:!0,this.instant=e&&(o=e.instant)!==void 0?o:!1,this.query=e&&(o=e.query)!==void 0?o:"",this.sorter=e&&(o=e.sorter)!==void 0?o:!0,this.achide=e&&(o=e.achide)!==void 0?o:!1,this.list=e?e.list:void 0,this.sources=e?e.sources:void 0}get values(){return this.data}get regex(){return OPString.for(this.inputValue).fuzzy}get picking(){return this.focin&&!this.achide&&this.suggestions.size}submit(){var t;let e=this.inputValue;if((t=this.$picker)!=null&&t.parentNode&&!this.achide&&this.suggestions.size)return this.$picker.tapenter();if(e)return this.add(e)}tapenter(){return this.submit()}escape(){return this.$picker&&this.$picker.active?this.achide=!0:this.$input.blur()}focused(){let[e,t]=this.selRange;return(e==t&&t==0||!this.inputValue||e==0&&t==this.$input.value.length)&&this.select(this.values.size,this.$input.value.length),this.opreveal()}selectall(){let[e,t]=this.selRange,r=this.$input.value.length;return e==t&&e>=this.prefixes.length&&this.inputValue?this.select(this.prefixes.length,r):this.select(0,r)}get selRange(){return[this.$input.selectionStart,this.$input.selectionEnd]}mount(){return this.$input.value=this.prefixes+(this.query||"")}rendered(){var e;if(this[aQt]!=(e=this.data)&&(this[aQt]=e,!0)){let t=this.prefixes+(this.query||"");this.$input.value=t}if(this.query!=this.inputValue)return this.query||="",this.inputValue=this.query}get prefixes(){return this.values.map(function(){return Iie}).join("")}get inputValue(){return this.$input.value.split(Iie).join("")}set inputValue(e){this.$input.value=this.prefixes+e}refresh(e){var t;return this.query!=(t=this.inputValue)&&(this.query=t),this.relayout()}typed(e){return this.refresh(e),this.achide=!1}tabbed(e){let[t,r]=this.selRange;return e.shiftKey?t==0?OP.ui.navtab(e):this.select(t-1):r==this.$input.value.length?OP.ui.keydown(e):t>=this.values.size?this.select(0):this.select(r+1)}add(e){var r,o;let t=(o=(r=this.values)==null?void 0:r.add)==null?void 0:o.call(r,e);if(t&&(t.active=!0),this.clearInputValue(),t)return this.select(t)}select(e,t=null){if(p(e,OPObject)){this.render();for(let r=0,o=B(this.querySelectorAll("op-input-value")),n=o.length;r<n;r++){let i=o[r];if(i.data==e||i.value==e){e=r;break}}}if(typeof e!="number"){let r=this.data.indexOf(e);if(r>=0)e=r;else return}return this.$input.focus||this.$input.focus(),this.$input.setSelectionRange(e,t||e)}clearInputValue(){let e=this.$input.selectionStart;return this.$input.value=this.prefixes,this.$input.selectionStart=Math.min(e,this.$input.value.length),this.query=this.inputValue,this}relayout(){let e=this.$values.op.items,t=this.$input.value,r=this.prefixes+this.inputValue;if(t!=r){let i=this.$input.selectionStart,s=this.$input.value.slice(0,i).split(Iie).join("");this.$input.value=r,i==t.length-1?this.select(r.length-1):this.select(Math.min(i,this.prefixes.length))}let o=this.$input.selectionStart,n=this.$input.selectionEnd;for(let i=0,s=B(e),a=s.length;i<a;i++){let u=s[i];u.flags.toggle("@focus",i>=o&&n>=i),u.flags.toggle("before",o==n&&o==i)}return this.flags.toggle("selecting",o<e.length&&this.values.size),this.flags.toggle("has-query",!!this.inputValue),this}beforeinput(e){globalThis.ii=this;let t=!1,r=e.inputType,o=this.$input.selectionStart,n=this.$input.selectionEnd,i=this.$values.op.items.map(PGo),s=this.values.size,a=e.data,u=this.$input.value.slice(o,n).split(Iie).join("");try{let c=i.slice(o,n+1);if(r=="insertText"){if(a==" "&&c.size){let d=!c.some(TGo);return c.map(f=>f.active=d),t=!0}o<s&&this.$input.setSelectionRange(s,this.$input.value.length)}let h=r.pluck(/delete(\w+)Backward/);if(h){if(o==s&&n==o)return this.select(o-1),t=!0;if(c.size){for(let d of B(c))(h=="SoftLine"||!d.pinned)&&!u?this.values.delete(d):d.active=!1;if(t=!0,this.select(Math.max(o-1,0)),n>s)return this.clearInputValue()}}}catch(c){return console.warn("error in beforeinput",c)}finally{t&&(e.preventDefault(),this.refresh())}}picked(e){return this.add(e)}get suggestions(){var t,r;if(!this.query||this.query[0]!="@"&&p(this.data,OPFilters))return[];let e;if(p(this.data,OPFilters)&&this.sources?e=this.data.suggestionsforsources(this.sources):p(this.data,OPRefs)&&(e=this.data.$options),e){let o=(r=(t=this.values)==null?void 0:t.slice)==null?void 0:r.call(t).filter(RGo).map(OGo),n=e.flatten().uniq();this.query.len>5;let i=this.query.trim().replace(/^@/,"");return FZI.search(i,n,MGo,LGo)}else return[]}touching(e){var n,i;var t=this;let r=EGo(e.events,-1),o=(i=(n=r==null?void 0:r.target)==null?void 0:n.closest)==null?void 0:i.call(n,"[role=option]");if(o)return FK(function(){var c;let s=e[jGo]||={els:[],shift:r.shiftKey,meta:r.metaKey,lft:1e3,rgt:-1},a=s.all||=o.op.navgroup,u=s.group||=a.filter(function(h){return h.parentNode==o.parentNode});if(o&&(s.el!=o&&(s.el=o,!0))){let h=o.op.index;if(s.anchor??=o,s.checked??=(c=o==null?void 0:o.option)==null?void 0:c.active,s.els.add(o),o.option.active=!s.checked,s.lft>h&&(s.lft=h),s.rgt<h&&(s.rgt=h),t.select(s.lft,s.rgt),s.first!=!0&&(s.first=!0,!0)&&!s.meta&&!s.shift&&!s.checked)for(let d=0,f=B(u),m=f.length;d<m;d++){let $=f[d];Cn($,s.els)||($.option.active=!1)}}if(e.ended&&s.el){if(e.elapsed<300&&s.els.size==1&&!s.meta&&!s.shift&&!s.checked)for(let h=0,d=B(u),f=d.length;h<f;h++){let m=d[h];Cn(m,s.els)||(m.option.active=!1)}return t.select(s.lft,s.rgt)}})}focus(e={}){return this.$input.focus(e)}navigate(e,t,r){var o,n;if(this.picking)return(n=(o=this.$picker)==null?void 0:o.navigate)==null?void 0:n.call(o,r);if(t==1)return this.emit("navdown"),OP.ui.tabbing=!0}render(){var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m=this._ns_||"",$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we;if(i=this,i[dUe](),s=a=1,i[cQt]===1||(s=a=0,i[cQt]=1),(!s||a&2)&&i.flagSelf$("ns-ag op-field"),c=h=1,(u=i[hQt])||(c=h=0,i[hQt]=(u=this.$values,u[Ca]=i,u)),c||(u.role="listbox"),c||u.set$("aria-orientation","horizontal"),c||u.set$("aria-label","Filters"),c||u.on$("touch",{primary:!0,silent:!0,prevent:!0,$_:[function(ae,be){return e.touching(ae)}]},this),t=null,this.groups){(t=i[pQt])||(i[pQt]=t=Jt(0,null)),t[Ca]=u,d=0,f=t.$;for(let[ae,be]of B(this.data.grouped))b=g=1,($=f[d])||(b=g=0,f[d]=$=R("op-input-value-group",t,`ns_ag ${m}`,null)),b||($[Ca]=t),ae===$[dQt]||($.data=$[dQt]=ae),be===$[fQt]||($.items=$[fQt]=be),b||!$.setup||$.setup(g,x),$[ld](g),d++;t[ld](d)}else{(t=i[mQt])||(i[mQt]=t=Jt(0,null)),t[Ca]=u,k=0,_=t.$;for(let ae=0,be=B(this.values),_e=be.length;ae<_e;ae++){let Ae=be[ae];v=C=1,(S=_[k])||(v=C=0,_[k]=S=R("op-input-value",t,`item pill ns_ag ${m}`,null)),v||(S[Ca]=t),Ae===S[$Qt]||(S.data=S[$Qt]=Ae),j=Ae.pinned||void 0,j===S[iUe]||(C|=2,S[iUe]=j),Ae===S[yQt]||(S.option=S[yQt]=Ae),v||(S.role="option"),C&2&&S.flag$(`item pill ns_ag ${m} `+(S[iUe]?"ns-ak":"")),v||!S.setup||S.setup(C,P),S[ld](C),k++}t[ld](k)}return i[bQt]=u[Lf](t,0,i[bQt]),c||i[oUe](u),O=L=1,(U=i[gQt])||(O=L=0,i[gQt]=U=w("div",i,`ns-al ns_ag ${m}`,null)),r=null,this.placeholder&&(I=F=1,(r=U[kQt])||(I=F=0,U[kQt]=(r=this.$placeholder,r[Ca]=null,r)),I||(r[Ca]=U),N=this.query||void 0,N===r[sUe]||(F|=2,r[sUe]=N),F&2&&r.flag$(`ns_ag ${this._ns_||""} $placeholder `+(r[sUe]?"ns-an":"")),N=this.placeholder,N===r[xQt]&&I||(r[_Qt]=r[Lf](r[xQt]=N,384,r[_Qt]))),U[vQt]=U[Lf](r,0,U[vQt]),W=z=1,(V=U[wQt])||(W=z=0,U[wQt]=(V=this.$input,V[Ca]=U,V)),W||(V.type="text"),W||V.on$("opnav",{smooth:!0},this),q=this.query,q===U[SQt]||(V.query=U[SQt]=q),W||V.on$("focus",{$_:[function(ae,be){return e.focused(ae)}]},this),W||V.on$("input",{$_:[function(ae,be){return e.typed(ae)}]},this),W||V.on$("keydown",{tab:!0,prevent:!0,stop:!0,$_:[function(ae,be){return e.tabbed(ae)}]},this),W||V.on$("keydown",{enter:!0,prevent:!0,$_:[function(ae,be){return e.tapenter(ae)}]},this),W||V.on$("beforeinput",{$_:[function(ae,be){return e.beforeinput(ae)}]},this),W||V.on$("selection",{$_:[function(ae,be){return e.refresh(ae)}]},this),W||V.on$("keydown",{tab:!0,prevent:!0,stop:!0,$_:[function(ae,be){return e.tabbed(ae)}]},this),W||V.on$("keydown",{down:!0,trap:!0,repeat:!0,$_:[function(ae,be){return e.navigate(0,1,ae)}]},this),W||V.on$("keydown",{up:!0,trap:!0,repeat:!0,$_:[function(ae,be){return e.navigate(0,-1,ae)}]},this),W||V.on$("hotkey",{options:["mod+a"],force:!0,focin:!0,$_:[function(ae,be){return e.selectall(ae)}]},this),W||V.on$("blur",{commit:!0},this),W||V.set$("aria-label","Quick search..."),W||U[oUe](V),Y=i.__slots.__,U[CQt]=U[Lf](Y,256,U[CQt]),O||!U.setup||U.setup(L,K),U[ld](L),o=null,this.data.$.sorter&&p(this.data,OPFilters)&&(X=i[pUe](NGo),Z=Q=1,(o=X.run(this.oinput(this.data.$.sorter)))||(Z=Q=0,X.cache(o=M(X.value,null,`ns_ag ${m}`,null))),Z||(o[Ca]=i),o[AGo]&&((!Z||Q&2)&&o.flags.reconcile(DGo,`ns_ag ${m}`),Z||!o.setup||o.setup(Q,X),o[ld](Q))),i[EQt]=i[Lf](o,0,i[EQt]),te=ne=1,(ee=i[jQt])||(te=ne=0,i[jQt]=ee=R("i-global",i,`ns_ag ${m}`,null)),ie=ee[UGo]("__",i),n=null,this.picking&&(J=me=1,(n=i[AQt])||(J=me=0,i[AQt]=(n=this.$picker,n[Ca]=null,n)),J||(n[Ca]=ie),J||(n.kind="pi"),ce=this.$input,ce===n[UQt]||(n.rel=n[UQt]=ce),J||(n.popup__={sticky:!0}),J||(n.popup="popup"),J||(n.selectonhover="select-on-hover"),J||(n.autoselect="autoselect"),J||(n.multiple=!1),J||(n.clickable="clickable"),ce=this.$input,ce===n[PQt]||(n.anchored=n[PQt]=ce),ce=this.suggestions,ce===n[TQt]||(n.options=n[TQt]=ce),J||n.on$("pointerdown",{prevent:!0,log:["prevented default pointerdown so that it does not focus!"]},this),J||n.on$("dismiss",{trap:!0,$_:[function(ae,be){return e.achide=!0}]},this),J||n.on$("tapped",{trap:!0,$_:[function(ae,be){return e.picked(ae.detail)}]},this),J||!n.setup||n.setup(me,ye),n[ld](me)),i[OQt]=ie[Lf](n,0,i[OQt]),te||!ee.setup||ee.setup(ne,we),ee[ld](ne),te||i[oUe](ee),i[fUe](a),i}};E(Fie,HGo,"op-multi-input",2),pe("op-multi-input",Fie,{cssns:"ns_af",cssid:"ns-af"});var ter=Fie,BGo=Symbol(),Hie=class Hie extends de{render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g;e=this,e[dUe](),t=r=1,e[RQt]===1||(t=r=0,e[RQt]=1),(n=e[MQt])||(e[MQt]=n=w("div",e,`body ${o}`,null)),(i=e[LQt])||(e[LQt]=i=wt(1408,n)),s=0,a=i.$;for(let x=0,k=B(this.items),_=k.length;x<_;x++){let S=k[x];x>0&&(c=d=1,(u=(h=a[pUe](IGo)).get(s))||(c=d=0,h.set(s,u=w("div",i,`sep ${o}`,null))),c||(u[Ca]=i),i.push(u,s++,h)),m=b=1,(f=($=a[pUe](FGo)).get(s))||(m=b=0,$.set(s,f=R("op-input-value",i,`item pill ${o}`,null))),m||(f[Ca]=i),S===f[DQt]||(f.data=f[DQt]=S),S===f[NQt]||(f.option=f[NQt]=S),m||(f.role="option"),m||!f.setup||f.setup(b,g),f[ld](b),i.push(f,s++,$)}return i[ld](s),e[fUe](r),e}};E(Hie,BGo,"op-input-value-group",2),pe("op-input-value-group",Hie,{cssns:"ns_at",cssid:"ns-at"});var rer=Hie,VGo=Symbol(),Bie=class Bie extends de{get value(){return this.data.value||this.data}render(){var S,v,C,j,P,U;var e,t,r,o,n,i,s,a=this._ns_||"",u,c,h,d,f,m,$,b,g;let x=this.value.aspillicon,k=this.value.aschiplabel,_=this.value.ascolor;return this[uQt]!=_&&(this[uQt]=_,!0)&&this.op.vars({accent:_}),r=this,r[dUe](),o=n=1,r[IQt]===1||(o=n=0,r[IQt]=1),i=(S=this.data)==null?void 0:S.cssclasses,i===r[lUe]||(n|=2,r[lUe]=i),i=(v=this.value)==null?void 0:v.cssclasses,i===r[aUe]||(n|=2,r[aUe]=i),i=x||void 0,i===r[uUe]||(n|=2,r[uUe]=i),i=!!_||void 0,i===r[cUe]||(n|=2,r[cUe]=i),i=this.value.asfiltertip,i===r[FQt]||(r.optip=r[FQt]=i),i=(C=this.value)==null?void 0:C.aslabel,i===r[HQt]||r.set$("aria-label",r[HQt]=i),s=r[BQt]||(r[BQt]={options:[null]}),i=this.value,i===s.options[0]||(s.options[0]=i,n|=48),o||r.on$("opdrag",s,this),n&32&&(n^=32,(j=s[nUe])==null||j.call(s)),s=r[VQt]||(r[VQt]={options:[null]}),i=this.value,i===s.options[0]||(s.options[0]=i,n|=48),o||r.on$("opdrop",s,this),n&32&&(n^=32,(P=s[nUe])==null||P.call(s)),s=r[zQt]||(r[zQt]={options:[null,null],stop:!0}),i=this.data,i===s.options[0]||(s.options[0]=i,n|=48),i=this.value,i===s.options[1]||(s.options[1]=i,n|=48),o||r.on$("opmenu",s,this),n&32&&(n^=32,(U=s[nUe])==null||U.call(s)),i=this.data.exclude_when_off&&!this.data.active||void 0,i===r[hUe]||(n|=2,r[hUe]=i),(!o||n&2)&&r.flagSelf$("op-input-value "+(r[lUe]||"")+" "+(r[aUe]||"")+" "+(r[uUe]?"has-icon":"")+" "+(r[cUe]?"has-color":"")+" "+(r[hUe]?"ns-ba":"")),u=r.__slots.__,(!u||!u.hasChildNodes())&&(c=h=1,(u=r[qQt])||(c=h=0,r[qQt]=u=fa(1408,null)),e=null,x&&(d=f=1,(e=r[WQt])||(d=f=0,r[WQt]=e=R("op-icon",null,`op-icon icon ${a}`,null)),d||(e[Ca]=u),x===e[ZQt]||(e.data=e[ZQt]=x),d||!e.setup||e.setup(f,m),e[ld](f)),r[GQt]=u[Lf](e,0,r[GQt]),t=null,k&&($=b=1,(t=r[YQt])||($=b=0,r[YQt]=t=w("span",null,`ns-bd op-label label ${a}`,null)),$||(t[Ca]=u),g=k,g===t[KQt]&&$||(t[XQt]=t[Lf](t[KQt]=g,384,t[XQt]))),r[JQt]=u[Lf](t,0,r[JQt])),u===r[eer]||(r[QQt]=r[Lf](r[eer]=u,1408,r[QQt])),r[fUe](n),r}};E(Bie,VGo,"op-input-value",2),pe("op-input-value",Bie,{cssns:"ns_ay",cssid:"ns-ay"});var oer=Bie;T();oe();ge(),dt();var _er=Symbol.for("#beforeReconcile"),xer=Symbol.for("#visit"),ver=Symbol.for("##up"),Vie=Symbol.for("#getRenderContext"),zie=Symbol.for("#isRichElement"),t8=Symbol.for("#afterVisit"),qie=Symbol.for("#insertInto"),Wie=Symbol.for("#replaceWith"),bUe=Symbol.for("#placeChild"),wer=Symbol.for("#afterReconcile"),ner=Symbol(),ier=Symbol(),ser=Symbol();var mUe=Symbol(),ler=Symbol(),aer=Symbol(),k7=Symbol(),zGo=Symbol(),_7=Symbol(),qGo=Symbol(),uer=Symbol(),x7=Symbol(),WGo=Symbol();var cer=Symbol(),her=Symbol(),per=Symbol(),der=Symbol();var $Ue=Symbol();var yUe=Symbol(),fer=Symbol(),v7=Symbol(),ZGo=Symbol();var mer=Symbol(),$er=Symbol(),yer=Symbol(),ber=Symbol(),GGo=Symbol(),Zie=class Zie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.stats=e?e.stats:void 0}render(){var L,I;var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return e=this,e[_er](),t=r=1,e[ner]===1||(t=r=0,e[ner]=1),o=e[ier]||(e[ier]={"!closest":["a,op-button"],emit:["open",null]}),o.emit[1]=this.data,t||e.on$("click",o,this),o=e[ser]||(e[ser]={options:[null,null]}),n=this.data,n===o.options[0]||(o.options[0]=n,r|=48),n=(L=this.data)==null?void 0:L.$root,n===o.options[1]||(o.options[1]=n,r|=48),t||e.on$("opmenu",o,this),r&32&&(r^=32,(I=o[xer])==null||I.call(o)),t||(e.contour__={center:!0}),t||(e.contour="contour"),n=this.data.deleted||void 0,n===e[mUe]||(r|=2,e[mUe]=n),(!t||r&2)&&e.flagSelf$("oli "+(e[mUe]?"_del":"")),s=e.__slots.__,(!s||!s.hasChildNodes())&&(a=u=1,(s=e[ler])||(a=u=0,e[ler]=s=w("div",null,`oli-body ${i}`,null)),a||(s[ver]=e),h=d=1,(c=s[aer])||(h=d=0,s[aer]=c=w("div",s,`oli-main ${i}`,null)),f=c[Vie](zGo),$=b=1,(m=f.run(this.oel(this.data,"li-heading",this.ctx)))||($=b=0,f.cache(m=M(f.value,c,`${i}`,null))),m[zie]&&((!$||b&2)&&m.flags.reconcile(k7,`${i}`),$||!m.setup||m.setup(b,f),m[t8](b)),m==c[k7]||!c[k7]&&(c[k7]=m)[qie](c)||c[k7][Wie](c[k7]=m,c),g=c[Vie](qGo),k=_=1,(x=g.run(this.oel(this.data,"li-stats",this.ctx)))||(k=_=0,g.cache(x=M(g.value,c,`sm compact ${i}`,null))),x[zie]&&(S=this.stats,S===x[uer]||(x.only=x[uer]=S),(!k||_&2)&&x.flags.reconcile(_7,`sm compact ${i}`),k||!x.setup||x.setup(_,g),x[t8](_)),x==c[_7]||!c[_7]&&(c[_7]=x)[qie](c)||c[_7][Wie](c[_7]=x,c),h||!c.setup||c.setup(d,v),c[t8](d),C=s[Vie](WGo),P=U=1,(j=C.run(this.oel(this.data,"li-buttons",this.ctx)))||(P=U=0,C.cache(j=M(C.value,s,`nv-am ${i}`,null))),j[zie]&&((!P||U&2)&&j.flags.reconcile(x7,`nv-am ${i}`),P||!j.setup||j.setup(U,C),j[t8](U)),j==s[x7]||!s[x7]&&(s[x7]=j)[qie](s)||s[x7][Wie](s[x7]=j,s),a||!s.setup||s.setup(u,O),s[t8](u)),s===e[her]||(e[cer]=e[bUe](e[her]=s,384,e[cer])),e[wer](r),e}};E(Zie,GGo,"op-li",2),pe("op-li",Zie,{cssid:"nv-af"});var ger=Zie,YGo=Symbol(),Gie=class Gie extends Ve("op","OpComponent",de){render(){var x;var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g;return e=this,e[_er](),t=r=1,e[per]===1||(t=r=0,e[per]=1),o=e[der]||(e[der]={options:[null]}),n=this.data,n===o.options[0]||(o.options[0]=n,r|=48),t||e.on$("opmenu",o,this),r&32&&(r^=32,(x=o[xer])==null||x.call(o)),n=this.data.unseen||void 0,n===e[$Ue]||(r|=2,e[$Ue]=n),n=!this.data.unseen||void 0,n===e[yUe]||(r|=2,e[yUe]=n),o=e[fer]||(e[fer]={emit:["open",null]}),o.emit[1]=this.data,t||e.on$("click",o,this),(!t||r&2)&&e.flagSelf$("xli "+(e[$Ue]?"unseen":"")+" "+(e[yUe]?"seen":"")),s=e.__slots.bullet,(!s||!s.hasChildNodes())&&(a=e[Vie](ZGo),u=c=1,(s=a.run(this.oicon(this.data)))||(u=c=0,a.cache(s=M(a.value,null,`${i}`,null))),u||(s[ver]=e),s[zie]&&((!u||c&2)&&s.flags.reconcile(v7,`${i}`),u||!s.setup||s.setup(c,a),s[t8](c)),s==e[v7]||!e[v7]&&(e[v7]=s)[qie](e)||e[v7][Wie](e[v7]=s,e),t||!s.setup||s.setup(h,d),s[t8](h)),s===e[$er]||(e[mer]=e[bUe](e[$er]=s,128,e[mer])),m=$=1,(f=e[yer])||(m=$=0,e[yer]=f=w("section",e,`${i}`,null)),b=e.__slots.__,f[ber]=f[bUe](b,384,f[ber]),m||!f.setup||f.setup($,g),f[t8]($),e[wer](r),e}};E(Gie,YGo,"op-xli",2),pe("op-xli",Gie,{});var ker=Gie;T();oe();var XGo=Symbol.for("#beforeReconcile"),KGo=Symbol.for("#getRenderContext"),JGo=Symbol.for("##up"),QGo=Symbol.for("#isRichElement"),eYo=Symbol.for("#afterVisit"),tYo=Symbol.for("#placeChild"),rYo=Symbol.for("#afterReconcile"),Ser=Symbol(),oYo=Symbol(),nYo=Symbol(),Cer=Symbol(),iYo=Symbol(),Yie=class Yie extends de{build(){return this.data=Model.get(this.dataset.id),this.log("ddd",this.data)}mount(){return console.log("md-c",this)}render(){var u;var e,t,r,o,n,i=this._ns_||"",s,a;return t=this,t[XGo](),r=o=1,t[Ser]===1||(r=o=0,t[Ser]=1),e=null,(u=this.data)!=null&&u.exists?(n=t[KGo](nYo),s=a=1,(e=n.run(this.data.assection(this.data)))||(s=a=0,n.cache(e=M(n.value,null,`${i}`,null))),s||(e[JGo]=t),e[QGo]&&((!s||a&2)&&e.flags.reconcile(oYo,`${i}`),s||!e.setup||e.setup(a,n),e[eYo](a))):e=""+this.dataset.id+" not found",t[Cer]=t[tYo](e,0,t[Cer]),t[rYo](o),t}};E(Yie,iYo,"op-model",2),pe("op-model",Yie,{});var Eer=Yie;T();oe();ge(),dt();var gUe=Symbol("pick"),jer=Symbol(),kUe=Symbol("pick"),Aer=Symbol(),_Ue,Uer=Symbol(),Per=Symbol(),Ter=Symbol(),Oer=Symbol(),Rer=Symbol(),Mer=Symbol();var xUe=Symbol(),Ler=Symbol(),sYo=Symbol(),lYo=Symbol(),Der=Symbol(),Ner=Symbol(),Ier=Symbol(),Fer=Symbol(),vUe,Her=Symbol(),Ber=Symbol(),Ver=Symbol(),zer=Symbol(),qer=Symbol(),aYo=le("&.active",globalThis,l=>l.active),Wer=Symbol();var wUe=Symbol(),Zer=Symbol(),uYo=Symbol(),cYo=Symbol(),Ger=Symbol(),Yer=Symbol(),Xer=Symbol(),Ker=Symbol(),w7=Symbol.for("##up"),etr=Symbol.for("##register"),S7=Symbol.for("#afterVisit"),ttr=Symbol.for("#beforeReconcile"),rtr=Symbol.for("#getRenderContext"),otr=Symbol.for("#isRichElement"),ntr=Symbol.for("#placeChild"),itr=Symbol.for("#appendChild"),str=Symbol.for("#afterReconcile"),hYo=Symbol(),$I=class $I extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.kind=e&&(o=e.kind)!==void 0?o:"mi"}set pick(e){this.pick.$set(e,this,gUe,"pick")}get pick(){return this.pick.$get(this,gUe,"pick")}get pick(){return this[jer]||y((_Ue=this.action(),_Ue.callback=async function(){var u;var e=this._ns_||"",t,r={},o,n,i;let s=this.options||this.data.$options;return await(o=n=0,t=t=R("op-pis",null,`${e}`,null),o||(t[w7]=r._),o||((u=t[etr])==null||u.call(t,r,Uer)),o||(t.popup__={picker:!0,autofocus:!0}),o||(t.popup="popup"),i=this,i===t[Per]||(t.rel=t[Per]=i),s===t[Ter]||(t.options=t[Ter]=s),i=this,i===t[Oer]||(t.anchored=t[Oer]=i),o||(t.tapevent="tapped"),i=this.data,i===t[Rer]||(t.context=t[Rer]=i),o||(t.kind="mi"),o||t.on$("act",{emit:["close"]},this),o||r.sym||!t.setup||t.setup(n,r,Uer),r.sym||t[S7](n),t)},_Ue),this,gUe,"pick",jer,$I.prototype)}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x;let k=this.data.value;return r=this,r[ttr](),o=n=1,r[Mer]===1||(o=n=0,r[Mer]=1),o||(r.contour="contour"),o||(r.opnav__={tab:!0}),o||(r.opnav="opnav"),i=!this.data.w||void 0,i===r[xUe]||(n|=2,r[xUe]=i),s=r[Ler]||(r[Ler]={if:[null],$_:[function(_,S){return e.pick(_)}]}),s.if[0]=this.data.w,o||r.on$("click",s,this),(!o||n&2)&&r.flagSelf$("input box select "+(r[xUe]?"readonly":"")),t=null,k?(a=r[rtr](lYo),c=h=1,(t=a.run(this.oel(k,this.kind)))||(c=h=0,a.cache(t=M(a.value,null,`nu-ai inline ${u}`,null))),c||(t[w7]=r),t[otr]&&((!c||h&2)&&t.flags.reconcile(sYo,`nu-ai inline ${u}`),c||!t.setup||t.setup(h,a),t[S7](h))):(d=f=1,(t=r[Der])||(d=f=0,r[Der]=t=w("div",null,`nu-aj ${u}`,null)),d||(t[w7]=r)),r[Ner]=r[ntr](t,0,r[Ner]),$=b=1,(m=r[Ier])||($=b=0,r[Ier]=m=R("op-icon",r,`nu-ak ocaret ${u}`,null)),g=(k==null?void 0:k.asdropdownicon)||BEe,g===r[Fer]||(m.data=r[Fer]=g),$||!m.setup||m.setup(b,x),m[S7](b),$||r[itr](m),r[str](n),r}};E($I,hYo,"op-select",2),pe("op-select",$I,{cssns:"nu_af",cssid:"nu-af"});var Jer=$I,pYo=Symbol(),yI=class yI extends Ve("op-select","OpSelectComponent",de){set pick(e){this.pick.$set(e,this,kUe,"pick")}get pick(){return this.pick.$get(this,kUe,"pick")}get pick(){return this[Aer]||y((vUe=this.action(),vUe.callback=async function(){var u;var e,t=this._ns_||"",r,o={},n,i,s;let a=this.options||this.data.$options;return e=await(n=i=0,r=r=R("op-pis",null,`${t}`,null),n||(r[w7]=o._),n||((u=r[etr])==null||u.call(r,o,Her)),n||(r.popup__={picker:!0,autofocus:!0}),n||(r.popup="popup"),s=this,s===r[Ber]||(r.rel=r[Ber]=s),a===r[Ver]||(r.options=r[Ver]=a),s=this,s===r[zer]||(r.anchored=r[zer]=s),n||(r.tapevent="tapped"),s=this.data,s===r[qer]||(r.context=r[qer]=s),n||(r.kind="mi"),n||r.on$("tapped",{log:["tapped!!"]},this),n||r.on$("act",{emit:["close"]},this),n||o.sym||!r.setup||r.setup(i,o,Her),o.sym||r[S7](i),r)},vUe),this,kUe,"pick",Aer,yI.prototype)}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x;let k=this.data.filter(aYo);return r=this,r[ttr](),o=n=1,r[Wer]===1||(o=n=0,r[Wer]=1),o||(r.contour="contour"),o||(r.opnav__={tab:!0}),o||(r.opnav="opnav"),i=!this.data.w||void 0,i===r[wUe]||(n|=2,r[wUe]=i),s=r[Zer]||(r[Zer]={if:[null],$_:[function(_,S){return e.pick(_)}]}),s.if[0]=this.data.w,o||r.on$("click",s,this),(!o||n&2)&&r.flagSelf$("nu-am input box select "+(r[wUe]?"readonly":"")),t=null,k[0]?(a=r[rtr](cYo),c=h=1,(t=a.run(this.omi(k[0])))||(c=h=0,a.cache(t=M(a.value,null,`nu-an inline ${u}`,null))),c||(t[w7]=r),t[otr]&&((!c||h&2)&&t.flags.reconcile(uYo,`nu-an inline ${u}`),c||!t.setup||t.setup(h,a),t[S7](h))):(d=f=1,(t=r[Ger])||(d=f=0,r[Ger]=t=w("div",null,`nu-ao ${u}`,null)),d||(t[w7]=r)),r[Yer]=r[ntr](t,0,r[Yer]),$=b=1,(m=r[Xer])||($=b=0,r[Xer]=m=R("op-icon",r,`nu-ap ${u}`,null)),g=BEe,g===r[Ker]||(m.data=r[Ker]=g),$||!m.setup||m.setup(b,x),m[S7](b),$||r[itr](m),r[str](n),r}};E(yI,pYo,"op-sorters-select",2),pe("op-sorters-select",yI,{});var Qer=yI;T();oe();ge(),dt(),wu();var vtr=Symbol.for("#beforeReconcile"),SUe=Symbol.for("#placeChild"),dYo=Symbol.for("##up"),fYo=Symbol.for("#appendChild"),wtr=Symbol.for("#afterReconcile"),ltr=Symbol(),atr=Symbol(),utr=Symbol(),ctr=Symbol(),htr=Symbol(),ptr=Symbol(),dtr=Symbol(),ftr=Symbol(),mtr=Symbol(),$tr=Symbol(),ytr=Symbol(),btr=Symbol(),gtr=Symbol(),mYo=Symbol(),Xie=class Xie extends Ve("op","OpComponent",de){get $line(){let e=w("div",null,`nn-ai ${this._ns_||""} $line`,null);return Object.defineProperty(this,"$line",{value:e}),e}relayout(){if(this.$tab)return this.style.setProperty("--u_ctx",this.$tab.offsetLeft),this.style.setProperty("--u_ctw",this.$tab.offsetWidth||0)}rendered(){var e;if(this.$tab!=(e=this.querySelector(".active"))&&(this.$tab=e,!0))return this.relayout()}render(){var e=this,t,r,o,n,i=this._ns_||"",s,a;return t=this,t[vtr](),r=o=1,t[ltr]===1||(r=o=0,t[ltr]=1),n=t[atr]||(t[atr]={silent:!0,debounce:[null],$_:[function(u,c){return e.relayout(u)}]}),n.debounce[0]=4,r||t.on$("resized",n,this),s=t.__slots.__,t[utr]=t[SUe](s,128,t[utr]),(a=t[ctr])||(t[ctr]=(a=this.$line,a[dYo]=t,a)),r||t[fYo](a),t[wtr](o),t}};E(Xie,mYo,"op-tabs",2),pe("op-tabs",Xie,{cssid:"nn-af"});var ktr=Xie,$Yo=Symbol(),Kie=class Kie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.name=e?e.name:void 0,this.badge=e?e.badge:void 0,this.href=e?e.href:void 0}render(){var e=this,t,r,o,n,i=this._ns_||"",s,a,u,c;let h=this.badge??this.data.asbadge??this.data.badge;return typeof h=="number"&&h>99&&(h="99+"),t=this,t[vtr](),r=o=1,t[htr]===1||(r=o=0,t[htr]=1),n=t[ptr]||(t[ptr]={flag:["target"],wait:[null],emit:["click"]}),n.wait[0]=500,r||t.on$("draghover",n,this),n=t[dtr]||(t[dtr]={if:[null],$_:[function(d,f){return Xt.go(e.href)}]}),n.if[0]=this.href,r||t.on$("click",n,this),r||t.on$("resize",{silent:!0},this),(!r||o&2)&&t.flagSelf$("nn-ak"),(s=t[ftr])||(t[ftr]=s=w("div",t,`%name ${i}`,null)),a=this.name??this.data.aslabel??this.data.name,a===t[$tr]&&r||(t[mtr]=s[SUe](t[$tr]=a,384,t[mtr])),(u=t[ytr])||(t[ytr]=u=w("div",t,`%badge ${i}`,null)),c=h,c===t[gtr]&&r||(t[btr]=u[SUe](t[gtr]=c,384,t[btr])),t[wtr](o),t}};E(Kie,$Yo,"op-tab",2),pe("op-tab",Kie,{cssns:"nn_aj",cssid:"nn-aj"});var _tr=Kie,yYo=Symbol(),Jie=class Jie extends de{[A](e=null,t=!0,r=!0){super[A](...arguments),this.name=e?e.name:void 0}};E(Jie,yYo,"op-section",2),pe("op-section",Jie,{cssid:"nn-an"});var xtr=Jie;T();oe();var bYo=Symbol.for("#beforeReconcile"),gYo=Symbol.for("#placeChild"),kYo=Symbol.for("#afterReconcile"),Str=Symbol();var CUe=Symbol(),Ctr=Symbol(),Etr=Symbol(),jtr=Symbol(),_Yo=Symbol(),Qie=class Qie extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.max=e&&(o=e.max)!==void 0?o:100}render(){var e,t,r,o,n=this._ns_||"",i,s;let a=this.data.size;return e=this,e[bYo](),t=r=1,e[Str]===1||(t=r=0,e[Str]=1),o=a==0||void 0,o===e[CUe]||(r|=2,e[CUe]=o),(!t||r&2)&&e.flagSelf$(e[CUe]?"empty":""),(i=e[Ctr])||(e[Ctr]=i=w("div",e,`label ${n}`,null)),s=a,s===e[jtr]&&t||(e[Etr]=i[gYo](e[jtr]=s,384,e[Etr])),e[kYo](r),e}};E(Qie,_Yo,"op-count",2),pe("op-count",Qie,{});var Atr=Qie;T();oe();ge(),ln(),$e();var xYo=Symbol.for("#beforeReconcile"),Utr=Symbol.for("#getRenderContext"),vYo=Symbol.for("##up"),wYo=Symbol.for("#getSlot"),Ptr=Symbol.for("#visit"),SYo=Symbol.for("#isRichElement"),EUe=Symbol.for("#afterVisit"),CYo=Symbol.for("#appendChild"),EYo=Symbol.for("#replaceChild"),jYo=Symbol.for("#afterReconcile"),Ttr=Symbol(),Otr=Symbol(),Rtr=Symbol(),Mtr=Symbol(),AYo=Symbol(),Ltr=Symbol(),Dtr=Symbol(),C7=Symbol(),UYo=Symbol(),Ntr=Symbol(),PYo=Symbol(),ese=class ese extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.kind=e&&(o=e.kind)!==void 0?o:"icon",this.max=e&&(o=e.max)!==void 0?o:5}render(){var O,L;var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C;let j=this.data;p(j,OPObject)&&(j=[this.data]);let P=j.slice(0,this.max).reverse(),U=j.slice(this.max);e=this,e[xYo](),t=r=1,e[Ttr]===1||(t=r=0,e[Ttr]=1),(!t||r&2)&&e.flagSelf$("nz-ag"),o=P.size,o===e[Otr]||e.css$var("--nz_ah",e[Otr]=o,null,"--count"),(i=e[Rtr])||(e[Rtr]=i=w("div",e,`nz-ai %items ${n}`,null)),(s=e[Mtr])||(e[Mtr]=s=wt(1280,i)),a=0,u=s.$;for(let I=0,F=B(P),N=F.length;I<N;I++){let V=F[I];V&&(h=f=1,(c=(d=u[Utr](AYo)).get(a))||(h=f=0,d.set(a,c=R("op",s,`nz-aj ${n}`,null))),h||(c[vYo]=s),m=c[wYo]("__",c),V===c[Ltr]||(c.data=c[Ltr]=V),$=c[Dtr]||(c[Dtr]={options:[null]}),b=V,b===$.options[0]||($.options[0]=b,f|=48),h||c.on$("opmenu",$,this),f&32&&(f^=32,(O=$[Ptr])==null||O.call($)),g=c[Utr](UYo),k=_=1,(x=g.run(this.oel(V,this.kind)))||(k=_=0,g.cache(x=M(g.value,m,`nz-ak ${n}`,null))),x[SYo]&&(k||(x.effect=!1),S=x[Ntr]||(x[Ntr]={options:[null]}),v=V,v===S.options[0]||(S.options[0]=v,_|=48),k||x.on$("optip",S,this),_&32&&(_^=32,(L=S[Ptr])==null||L.call(S)),(!k||_&2)&&x.flags.reconcile(C7,`nz-ak ${n}`),k||!x.setup||x.setup(_,g),x[EUe](_)),x==c[C7]||!c[C7]&&m[CYo](c[C7]=x)||(m[EYo](x,c[C7]),c[C7]=x),h||!c.setup||c.setup(f,C),c[EUe](f),s.push(c,a++,d))}return s[EUe](a),e[jYo](r),e}};E(ese,PYo,"op-stack",2),pe("op-stack",ese,{cssid:"nz-af"});var Itr=ese;T();oe();ln();var ise=Symbol.for("#beforeReconcile"),TYo=Symbol.for("#placeChild"),OYo=Symbol.for("#afterVisit"),sse=Symbol.for("#afterReconcile"),E7=Symbol.for("##up"),j7=Symbol.for("#appendChild"),Ftr=Symbol(),Htr=Symbol(),Btr=Symbol(),Vtr=Symbol(),ztr=Symbol(),qtr=Symbol(),Wtr=Symbol(),Ztr=Symbol(),Gtr=Symbol(),Ytr=Symbol(),Xtr=Symbol(),Ktr=Symbol(),Jtr=Symbol(),Qtr=Symbol(),err=Symbol(),trr=Symbol(),rrr=Symbol(),orr=Symbol(),nrr=Symbol(),irr=Symbol(),srr=Symbol(),lrr=Symbol(),arr=Symbol(),urr=Symbol(),crr=Symbol(),hrr=Symbol(),prr=Symbol(),drr=Symbol(),frr=Symbol(),mrr=Symbol(),$rr=Symbol(),yrr=Symbol(),brr=Symbol(),grr=Symbol(),krr=Symbol(),_rr=Symbol(),xrr=Symbol(),vrr=Symbol(),wrr=Symbol(),Srr=Symbol(),Crr=Symbol(),Err=Symbol(),jrr=Symbol(),Arr=Symbol(),Urr=Symbol(),Prr=Symbol(),Trr=Symbol(),Orr=Symbol(),Rrr=Symbol(),Mrr=Symbol(),Lrr=Symbol(),Drr=Symbol(),Nrr=Symbol(),Irr=Symbol(),Frr=Symbol(),Hrr=Symbol(),Brr=Symbol(),Vrr=Symbol(),zrr=Symbol(),qrr=Symbol(),Wrr=Symbol(),RYo=Symbol(),tse=class tse extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.percent=e&&(o=e.percent)!==void 0?o:100,this.radius=e&&(o=e.radius)!==void 0?o:10,this.width=e&&(o=e.width)!==void 0?o:2,this.stroke=e&&(o=e.stroke)!==void 0?o:"white",this.stroke2=e&&(o=e.stroke2)!==void 0?o:"grey",this.fill=e&&(o=e.fill)!==void 0?o:"none"}get circumference(){return this.radius*2*Math.PI}get dashoffset(){return this.circumference-this.percent/100*this.circumference}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;return e=this,e[ise](),t=r=1,e[Ftr]===1||(t=r=0,e[Ftr]=1),(!t||r&2)&&e.flagSelf$("oc-af"),i=s=1,(n=e[Htr])||(i=s=0,e[Htr]=n=Ir("svg",e,`${o}`,null)),a=""+(this.radius*2+this.width)+"px",a===e[Btr]||n.set$("width",e[Btr]=a),a=""+(this.radius*2+this.width)+"px",a===e[Vtr]||n.set$("height",e[Vtr]=a),c=h=1,(u=e[ztr])||(c=h=0,e[ztr]=u=Ir("circle",n,`${o}`,null)),d=this.radius,d===e[qtr]||u.set$("r",e[qtr]=d),d=this.width,d===e[Wtr]||u.set$("stroke-width",e[Wtr]=d),d=this.radius+this.width/2,d===e[Ztr]||u.set$("cx",e[Ztr]=d),d=this.radius+this.width/2,d===e[Gtr]||u.set$("cy",e[Gtr]=d),d=this.stroke2,d===e[Ytr]||u.set$("stroke",e[Ytr]=d),d=this.fill,d===e[Xtr]||u.set$("fill",e[Xtr]=d),m=$=1,(f=e[Ktr])||(m=$=0,e[Ktr]=f=Ir("circle",n,`oc-ai ${o}`,null)),b=this.radius,b===e[Jtr]||f.set$("r",e[Jtr]=b),b=this.width,b===e[Qtr]||f.set$("stroke-width",e[Qtr]=b),b=this.radius+this.width/2,b===e[err]||f.set$("cx",e[err]=b),b=this.radius+this.width/2,b===e[trr]||f.set$("cy",e[trr]=b),b=this.stroke,b===e[rrr]||f.set$("stroke",e[rrr]=b),b=this.dashoffset,b===e[orr]||f.set$("stroke-dashoffset",e[orr]=b),b=""+this.circumference+" "+this.circumference,b===e[nrr]||f.set$("stroke-dasharray",e[nrr]=b),b=this.fill,b===e[irr]||f.set$("fill",e[irr]=b),x=k=1,(g=e[srr])||(x=k=0,e[srr]=g=w("div",e,`oc-aj %slot ${o}`,null)),_=e.__slots.__,g[lrr]=g[TYo](_,256,g[lrr]),x||!g.setup||g.setup(k,S),g[OYo](k),e[sse](r),e}};E(tse,RYo,"op-circle",2),pe("op-circle",tse,{});var Zrr=tse,MYo=Symbol(),rse=class rse extends de{get $base(){let e=Ir("circle",null,`${this._ns_||""} $base`,null);return Object.defineProperty(this,"$base",{value:e}),e}get $fill(){let e=Ir("circle",null,`${this._ns_||""} $fill`,null);return Object.defineProperty(this,"$fill",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.size=e&&(o=e.size)!==void 0?o:20}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b;let g=this.size+4,x=g/2;return e=this,e[ise](),t=r=1,e[arr]===1||(t=r=0,e[arr]=1),i=s=1,(n=e[urr])||(i=s=0,e[urr]=n=Ir("svg",e,`${o}`,null)),a="0 0 "+g+" "+g,a===e[crr]||n.set$("viewBox",e[crr]=a),g===e[hrr]||n.set$("width",e[hrr]=g),g===e[prr]||n.set$("height",e[prr]=g),c=h=1,(u=e[drr])||(c=h=0,e[drr]=(u=this.$base,u[E7]=n,u)),d=this.size/2,d===e[frr]||u.set$("r",e[frr]=d),x===e[mrr]||u.set$("cx",e[mrr]=x),x===e[$rr]||u.set$("cy",e[$rr]=x),c||u.set$("pathLength",100),c||u.set$("stroke-dasharray",""),c||n[j7](u),m=$=1,(f=e[yrr])||(m=$=0,e[yrr]=(f=this.$fill,f[E7]=n,f)),b=this.size/2,b===e[brr]||f.set$("r",e[brr]=b),x===e[grr]||f.set$("cx",e[grr]=x),x===e[krr]||f.set$("cy",e[krr]=x),m||f.set$("pathLength",100),m||f.set$("stroke-dasharray",""),m||n[j7](f),e[sse](r),e}};E(rse,MYo,"op-circle-simple",2),pe("op-circle-simple",rse,{cssns:"oc_al",cssid:"oc-al"});var Grr=rse,LYo=Symbol(),ose=class ose extends de{get $base(){let e=Ir("circle",null,`oc_as ${this._ns_||""} $base`,null);return Object.defineProperty(this,"$base",{value:e}),e}get $fill(){let e=Ir("circle",null,`oc_as ${this._ns_||""} $fill`,null);return Object.defineProperty(this,"$fill",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.size=e&&(o=e.size)!==void 0?o:20}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m;let $=this.size,b=$/2;return e=this,e[ise](),t=r=1,e[_rr]===1||(t=r=0,e[_rr]=1),i=s=1,(n=e[xrr])||(i=s=0,e[xrr]=n=Ir("svg",e,`${o}`,null)),a="0 0 "+$+" "+$,a===e[vrr]||n.set$("viewBox",e[vrr]=a),$===e[wrr]||n.set$("width",e[wrr]=$),$===e[Srr]||n.set$("height",e[Srr]=$),a=$*2,a===e[Crr]||n.css$var("--oc_at",e[Crr]=a,"px","stroke-width"),c=h=1,(u=e[Err])||(c=h=0,e[Err]=(u=this.$base,u[E7]=n,u)),$===e[jrr]||u.set$("r",e[jrr]=$),b===e[Arr]||u.set$("cx",e[Arr]=b),b===e[Urr]||u.set$("cy",e[Urr]=b),c||u.set$("pathLength",100),c||u.set$("stroke-dasharray",""),c||n[j7](u),f=m=1,(d=e[Prr])||(f=m=0,e[Prr]=(d=this.$fill,d[E7]=n,d)),$===e[Trr]||d.set$("r",e[Trr]=$),b===e[Orr]||d.set$("cx",e[Orr]=b),b===e[Rrr]||d.set$("cy",e[Rrr]=b),f||d.set$("pathLength",100),f||d.set$("stroke-dasharray",""),f||n[j7](d),e[sse](r),e}};E(ose,LYo,"op-svg-pie",2),pe("op-svg-pie",ose,{cssns:"oc_aq",cssid:"oc-aq"});var Yrr=ose,DYo=Symbol(),nse=class nse extends de{get $base(){let e=Ir("rect",null,`${this._ns_||""} $base`,null);return Object.defineProperty(this,"$base",{value:e}),e}get $fill(){let e=Ir("rect",null,`${this._ns_||""} $fill`,null);return Object.defineProperty(this,"$fill",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.size=e&&(o=e.size)!==void 0?o:20,this.rd=e&&(o=e.rd)!==void 0?o:10}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m;let $=this.size,b=$/2;return e=this,e[ise](),t=r=1,e[Mrr]===1||(t=r=0,e[Mrr]=1),i=s=1,(n=e[Lrr])||(i=s=0,e[Lrr]=n=Ir("svg",e,`oc-ay ${o}`,null)),a="0 0 "+$+" "+$,a===e[Drr]||n.set$("viewBox",e[Drr]=a),$===e[Nrr]||n.set$("width",e[Nrr]=$),$===e[Irr]||n.set$("height",e[Irr]=$),a=this.rd,a===e[Frr]||n.css$var("--oc_az",e[Frr]=a,"px","rd"),c=h=1,(u=e[Hrr])||(c=h=0,e[Hrr]=(u=this.$base,u[E7]=n,u)),$===e[Brr]||u.set$("width",e[Brr]=$),$===e[Vrr]||u.set$("height",e[Vrr]=$),c||u.set$("pathLength",100),c||u.set$("stroke-dasharray",""),c||n[j7](u),f=m=1,(d=e[zrr])||(f=m=0,e[zrr]=(d=this.$fill,d[E7]=n,d)),$===e[qrr]||d.set$("width",e[qrr]=$),$===e[Wrr]||d.set$("height",e[Wrr]=$),f||d.set$("pathLength",100),f||d.set$("stroke-dasharray",""),f||n[j7](d),e[sse](r),e}};E(nse,DYo,"op-svg-progress",2),pe("op-svg-progress",nse,{cssns:"oc_aw",cssid:"oc-aw"});var Xrr=nse;T();oe();ge(),dt(),un();var NYo=Symbol.for("#beforeReconcile"),IYo=Symbol.for("#placeChild"),FYo=Symbol.for("#afterReconcile"),Krr=Symbol(),Jrr=Symbol();var Qrr=Symbol(),eor=Symbol(),HYo=Symbol(),lse=class lse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.editable=e?e.editable:void 0}set placeholder(e){this.setAttribute("placeholder",e)}get placeholder(){return this.getAttribute("placeholder")}edit(){if(this.editable)return this.editing!=!0&&(this.editing=!0,!0)&&(this.flags.incr("editing"),this.fromFocus=globalThis.document.activeElement,this.initialValue=this.innerText,this.frozenNodes=Array.from(this.childNodes),this.contentEditable="plaintext-only",this.log("will edit",this.frozenNodes),this.innerText=this.initialValue,this.getRange(-1).apply()),this}freeze(){if(this.editing!=!1&&(this.editing=!1,!0))return this.flags.decr("editing"),this.contentEditable=!1,this.log("stop edit",this.frozenNodes),this.replaceChildren(...this.frozenNodes)}selectAll(){let e=globalThis.document.createRange();e.selectNodeContents(this);let t=window.getSelection();return t.removeAllRanges(),t.addRange(e)}finish(){let e=this.emit("change",{value:this.value});return this.log("finish!",this.value,e),this.data&&(this.data.value=this.innerText),this.freeze()}abort(){return this.emit("abort"),this.freeze()}changed(e){return this.value=this.innerText}get editable(){return(!this.data||this.data.w)&&this.editable!==!1}render(){var a;var e=this,t,r,o,n,i=this._ns_||"",s;return t=this,t[NYo](),r=o=1,t[Krr]===1||(r=o=0,t[Krr]=1),n=t[Jrr]||(t[Jrr]={if:[null],trap:!0,$_:[function(u,c){return e.edit(u)}]}),n.if[0]=this.editable,r||t.on$("click",n,this),r||t.on$("keydown",{enter:!0,trap:!0,$_:[function(u,c){return e.finish(u)}]},this),r||t.on$("keyup",{esc:!0,trap:!0,$_:[function(u,c){return e.abort(u)}]},this),r||t.on$("focusout",{self:!0,$_:[function(u,c){return e.abort(u)}]},this),r||t.on$("input",{$_:[function(u,c){return e.changed(u)}]},this),s=t.__slots.__,(!s||!s.hasChildNodes())&&(s=(a=this.data)==null?void 0:a.value),s===t[eor]||(t[Qrr]=t[IYo](t[eor]=s,4480,t[Qrr])),t[FYo](o),t}};E(lse,HYo,"op-text",2),pe("op-text",lse,{cssid:"nw-af"});var tor=lse;T();oe();ge(),un();var BYo=Symbol.for("#beforeReconcile"),ase=Symbol.for("##up"),ror=Symbol.for("#afterVisit"),use=Symbol.for("#appendChild"),VYo=Symbol.for("#placeChild"),zYo=Symbol.for("#afterReconcile"),oor=Symbol();var jUe=Symbol(),AUe=Symbol(),nor=Symbol(),ior=Symbol(),sor=Symbol(),lor=Symbol(),aor=Symbol(),uor=Symbol(),cor=Symbol(),qYo=Symbol(),cse=class cse extends de{get $container(){let e=w("div",null,`og-ah ${this._ns_||""} $container`,null);return Object.defineProperty(this,"$container",{value:e}),e}get $on(){let e=R("op-icon",null,`${this._ns_||""} $on`,null);return Object.defineProperty(this,"$on",{value:e}),e}get $off(){let e=R("op-icon",null,`${this._ns_||""} $off`,null);return Object.defineProperty(this,"$off",{value:e}),e}get $thumb(){let e=w("div",null,`${this._ns_||""} $thumb`,null);return Object.defineProperty(this,"$thumb",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.role=e&&(o=e.role)!==void 0?o:"input",this.data=e&&(o=e.data)!==void 0?o:null,this.target=e&&(o=e.target)!==void 0?o:null,this.value=e?e.value:void 0}toggle(e){this.data.toggle()}get checked(){return!!this.data.value}set checked(e){this.data.value=e}render(){var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x=this._ns_||"",k,_;return t=this,t[BYo](),r=o=1,t[oor]===1||(r=o=0,t[oor]=1),n=!!this.data.value||void 0,n===t[jUe]||(o|=2,t[jUe]=n),n="@checked",n===t[AUe]||(o|=2,t[AUe]=n),r||t.on$("press",{$_:[function(S,v){return e.toggle(S)}]},this),r||(t.contour="contour"),r||t.on$("keydown",{space:!0,$_:[function(S,v){return e.toggle(S)}]},this),(!r||o&2)&&t.flagSelf$("op-toggle "+(t[jUe]&&t[AUe]||"")),(i=t[nor])||(t[nor]=(i=this.$container,i[ase]=t,i)),a=u=1,(s=t[ior])||(a=u=0,t[ior]=(s=this.$on,s[ase]=i,s)),c=gne,c===t[sor]||(s.data=t[sor]=c),a||!s.setup||s.setup(u,h),s[ror](u),a||i[use](s),f=m=1,(d=t[lor])||(f=m=0,t[lor]=(d=this.$off,d[ase]=i,d)),$=kne,$===t[aor]||(d.data=t[aor]=$),f||!d.setup||d.setup(m,b),d[ror](m),f||i[use](d),(g=t[uor])||(t[uor]=(g=this.$thumb,g[ase]=i,g)),r||(k=w("div",g,`${x}`,null)),r||i[use](g),r||t[use](i),_=t.__slots.__,t[cor]=t[VYo](_,256,t[cor]),t[zYo](o),t}};E(cse,qYo,"op-toggle",2),pe("op-toggle",cse,{cssid:"og-af"});var hor=cse;T();oe();ge(),dt();var por=Symbol.for("#icon"),dor=Symbol.for("#color"),WYo=Symbol.for("#beforeReconcile"),mor=Symbol.for("#visit"),Ea=Symbol.for("#afterVisit"),mse=Symbol.for("#appendChild"),A7=Symbol.for("#placeChild"),ZYo=Symbol.for("#afterReconcile"),yx=Symbol.for("##up"),bx=Symbol.for("##register"),dx=Symbol.for("#getRenderContext"),fx=Symbol.for("#isRichElement"),mx=Symbol.for("#insertInto"),$x=Symbol.for("#replaceWith"),$or=Symbol();var UUe=Symbol();var PUe=Symbol();var TUe=Symbol();var OUe=Symbol(),yor=Symbol(),bor=Symbol(),gor=Symbol(),kor=Symbol(),_or=Symbol(),xor=Symbol(),vor=Symbol(),wor=Symbol(),Sor=Symbol(),Cor=Symbol(),Eor=Symbol(),jor=Symbol(),hse=Symbol(),Aor=Symbol(),bI=Symbol(),GYo=Symbol(),gI=Symbol(),YYo=Symbol(),pse=Symbol(),Uor=Symbol(),kI=Symbol(),XYo=Symbol(),_I=Symbol(),KYo=Symbol(),dse=Symbol(),Por=Symbol(),xI=Symbol(),JYo=Symbol(),vI=Symbol(),QYo=Symbol(),RUe=Symbol(),Tor=Symbol(),Oor=Symbol(),Ror=Symbol(),fse=Symbol(),Mor=Symbol(),Lor=Symbol(),wI=Symbol(),eXo=Symbol(),Dor=Symbol(),Nor=Symbol(),Ior=Symbol(),MUe=Symbol(),For=Symbol();var LUe=Symbol(),Hor=Symbol(),Bor=Symbol(),Vor=Symbol(),zor=Symbol(),qor=Symbol(),Wor=Symbol(),Zor=Symbol(),Gor=Symbol(),Yor=Symbol(),DUe=Symbol(),Xor=Symbol(),Kor=Symbol(),Jor=Symbol(),Qor=Symbol(),tXo=Symbol(),$se=class $se extends de{get value(){return this.data}get tip(){return this.mytip||this.value}get icon(){return this[por]??this.value.asicon}set icon(e){this[por]=e}render(){var U,O,L,I;var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C;if(this.value&&!this.value.aspilllabel)return;let j=this.icon,P=this.value.color;return this[dor]!=P&&(this[dor]=P,!0)&&this.op.vars({color:P}),e=this,e[WYo](),t=r=1,e[$or]===1||(t=r=0,e[$or]=1),o=(U=this.data)==null?void 0:U.cssclasses,o===e[UUe]||(r|=2,e[UUe]=o),o=this.data!=this.value?(O=this.value)==null?void 0:O.cssclasses:"",o===e[PUe]||(r|=2,e[PUe]=o),o=j||void 0,o===e[TUe]||(r|=2,e[TUe]=o),o=!!P||void 0,o===e[OUe]||(r|=2,e[OUe]=o),o=this.tip,o===e[yor]||(e.optip=e[yor]=o),n=e[bor]||(e[bor]={options:[null]}),o=this.value,o===n.options[0]||(n.options[0]=o,r|=48),t||e.on$("opdrop",n,this),r&32&&(r^=32,(L=n[mor])==null||L.call(n)),n=e[gor]||(e[gor]={options:[null,null]}),o=this.data,o===n.options[0]||(n.options[0]=o,r|=48),o=this.value,o===n.options[1]||(n.options[1]=o,r|=48),t||e.on$("opmenu",n,this),r&32&&(r^=32,(I=n[mor])==null||I.call(n)),(!t||r&2)&&e.flagSelf$("op-chip "+(e[UUe]||"")+" "+(e[PUe]||"")+" "+(e[TUe]?"has-icon":"")+" "+(e[OUe]?"has-color":"")),s=e.__slots.__,(!s||!s.hasChildNodes())&&(a=u=1,(s=e[kor])||(a=u=0,e[kor]=s=fa(384,null)),h=d=1,(c=e[_or])||(h=d=0,e[_or]=c=R("op-icon",s,`op-icon icon ${i}`,null)),j===e[xor]||(c.data=e[xor]=j),h||!c.setup||c.setup(d,f),c[Ea](d),h||s[mse](c),$=b=1,(m=e[vor])||($=b=0,e[vor]=m=R("op-label",s,`op-label ${i}`,null)),g=this.value.aschiplabel,g===e[wor]||(m.value=e[wor]=g),$||!m.setup||m.setup(b,x),m[Ea](b),$||s[mse](m),_=S=1,(k=e[Sor])||(_=S=0,e[Sor]=k=R("op-detail",s,`op-detail ${i}`,null)),v=this.value.aschipdetail,v===e[Cor]||(k.value=e[Cor]=v),_||!k.setup||k.setup(S,C),k[Ea](S),_||s[mse](k)),s===e[jor]||(e[Eor]=e[A7](e[jor]=s,384,e[Eor])),e[ZYo](r),e}};E($se,tXo,"op-chip",2),pe("op-chip",$se,{});var enr=$se,rXo=Symbol(),NUe=class NUe{opownchip(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[hse])||(r=o=0,e=t[hse]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((m=e[bx])==null||m.call(e,t,hse)),n=this,n===e[Aor]||(e.odata=e[Aor]=n),r||e.on$("optip",{},this),i=e[dx](GYo),a=u=1,(s=i.run(this.oicon(this)))||(a=u=0,i.cache(s=M(i.value,e,null,null))),s[fx]&&(a||!s.setup||s.setup(u,i),s[Ea](u)),s==e[bI]||!e[bI]&&(e[bI]=s)[mx](e)||e[bI][$x](e[bI]=s,e),c=e[dx](YYo),d=f=1,(h=c.run(this.oel(this,"value-label")))||(d=f=0,c.cache(h=M(c.value,e,null,null))),h[fx]&&(d||!h.setup||h.setup(f,c),h[Ea](f)),h==e[gI]||!e[gI]&&(e[gI]=h)[mx](e)||e[gI][$x](e[gI]=h,e),r||t.sym||!e.setup||e.setup(o,t,hse),t.sym||e[Ea](o),e}};E(NUe,rXo,"OPProp",1,OPProp);var tnr=NUe,oXo=Symbol(),IUe=class IUe{opownchip(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[pse])||(r=o=0,e=t[pse]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((m=e[bx])==null||m.call(e,t,pse)),n=this,n===e[Uor]||(e.odata=e[Uor]=n),r||e.on$("opmenu",{},this),r||e.on$("optip",{},this),i=e[dx](XYo),a=u=1,(s=i.run(this.oicon(this.value)))||(a=u=0,i.cache(s=M(i.value,e,null,null))),s[fx]&&(a||!s.setup||s.setup(u,i),s[Ea](u)),s==e[kI]||!e[kI]&&(e[kI]=s)[mx](e)||e[kI][$x](e[kI]=s,e),c=e[dx](KYo),d=f=1,(h=c.run(this.olabel(this.value)))||(d=f=0,c.cache(h=M(c.value,e,null,null))),h[fx]&&(d||!h.setup||h.setup(f,c),h[Ea](f)),h==e[_I]||!e[_I]&&(e[_I]=h)[mx](e)||e[_I][$x](e[_I]=h,e),r||t.sym||!e.setup||e.setup(o,t,pse),t.sym||e[Ea](o),e}};E(IUe,oXo,"OPRefProp",1,OPRefProp);var rnr=IUe,nXo=Symbol(),FUe=class FUe{opownchip(){var $;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return t.this=this,o=n=1,(r=t[dse])||(o=n=0,r=t[dse]=r=w("span",null,null,null)),o||(r[yx]=t._),o||(($=r[bx])==null||$.call(r,t,dse)),i=r[Por]||(r[Por]={if:[null],$_:[function(b,g){return t.this.pick(b)}]}),i.if[0]=this.w,o||r.on$("click",i,this),o||r.on$("optip",{},this),s=r[dx](JYo),u=c=1,(a=s.run(this.oicon(this.value)))||(u=c=0,s.cache(a=M(s.value,r,null,null))),a[fx]&&(u||!a.setup||a.setup(c,s),a[Ea](c)),a==r[xI]||!r[xI]&&(r[xI]=a)[mx](r)||r[xI][$x](r[xI]=a,r),h=r[dx](QYo),f=m=1,(d=h.run(this.olabel(this.value)))||(f=m=0,h.cache(d=M(h.value,r,null,null))),d[fx]&&(f||!d.setup||d.setup(m,h),d[Ea](m)),d==r[vI]||!r[vI]&&(r[vI]=d)[mx](r)||r[vI][$x](r[vI]=d,r),o||t.sym||!r.setup||r.setup(n,t,dse),t.sym||r[Ea](n),r}};E(FUe,nXo,"OPEnumProp",1,OPEnumProp);var onr=FUe,iXo=Symbol(),HUe=class HUe{opownchiplabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[RUe])||(r=o=0,e=t[RUe]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((i=e[bx])==null||i.call(e,t,RUe)),pt.context=e[Oor]||(e[Oor]={_:e}),n=String(this),pt.context=null,n===e[Ror]&&r||(e[Tor]=e[A7](e[Ror]=n,384,e[Tor])),e}};E(HUe,iXo,"OPNumberProp",1,OPNumberProp);var nnr=HUe,sXo=Symbol(),BUe=class BUe{opownchip(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[fse])||(r=o=0,e=t[fse]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((f=e[bx])==null||f.call(e,t,fse)),n=this,n===e[Mor]||(e.odata=e[Mor]=n),i=e[Lor]||(e[Lor]={if:[null],emit:["open",null]}),i.if[0]=this.value,i.emit[1]=this.value,r||e.on$("click",i,this),s=e[dx](eXo),u=c=1,(a=s.run(this.oicon(this)))||(u=c=0,s.cache(a=M(s.value,e,null,null))),a[fx]&&(u||!a.setup||a.setup(c,s),a[Ea](c)),a==e[wI]||!e[wI]&&(e[wI]=a)[mx](e)||e[wI][$x](e[wI]=a,e),(h=e[Dor])||(e[Dor]=h=w("span",e,null,null)),d=this.value,d===e[Ior]&&r||(e[Nor]=h[A7](e[Ior]=d,384,e[Nor])),r||t.sym||!e.setup||e.setup(o,t,fse),t.sym||e[Ea](o),e}};E(BUe,sXo,"OPUrlProp",1,OPUrlProp);var inr=BUe,lXo=Symbol(),VUe=class VUe{opownchip(){var g,x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;let $=this.size,b=this.aslabel||((g=this.$field)==null?void 0:g.aslabel)||"";return r=o=1,(e=t[MUe])||(r=o=0,e=t[MUe]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((x=e[bx])==null||x.call(e,t,MUe)),n=this,n===e[For]||(e.data=e[For]=n),n=!$||void 0,n===e[LUe]||(o|=2,e[LUe]=n),o&2&&e.flag$(e[LUe]?"empty":""),s=a=1,(i=e[Hor])||(s=a=0,e[Hor]=i=R("op-icon",e,null,null)),u=this,u===e[Bor]||(i.data=e[Bor]=u),s||!i.setup||i.setup(a,c),i[Ea](a),s||e[mse](i),(h=e[Vor])||(e[Vor]=h=w("span",e,"count",null)),d=$,d===e[qor]&&r||(e[zor]=h[A7](e[qor]=d,384,e[zor])),(f=e[Wor])||(e[Wor]=f=w("span",e,"od-ba name",null)),pt.context=e[Gor]||(e[Gor]={_:f}),m=b.pluralize($),pt.context=null,m===e[Yor]&&r||(e[Zor]=f[A7](e[Yor]=m,384,e[Zor])),e}};E(VUe,lXo,"OPIterable",1,OPIterable);var snr=VUe,aXo=Symbol(),zUe=class zUe{opownchip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[DUe])||(r=o=0,e=t[DUe]=e=w("span",null,null,null)),r||(e[yx]=t._),r||((s=e[bx])==null||s.call(e,t,DUe)),(n=e[Xor])||(e[Xor]=n=w("span",e,null,null)),pt.context=e[Jor]||(e[Jor]={_:n}),i=String(this),pt.context=null,i===e[Qor]&&r||(e[Kor]=n[A7](e[Qor]=i,384,e[Kor])),e}};E(zUe,aXo,"OPMoney",1,OPMoney);var lnr=zUe;T();oe();var qUe=Symbol.for("#color"),Onr=Symbol.for("#beforeReconcile"),SI=Symbol.for("##up"),CI=Symbol.for("#afterVisit"),gx=Symbol.for("#placeChild"),Rnr=Symbol.for("#afterReconcile"),uXo=Symbol.for("#getRenderContext"),anr=Symbol();var WUe=Symbol();var ZUe=Symbol();var GUe=Symbol(),unr=Symbol(),cnr=Symbol(),hnr=Symbol(),pnr=Symbol(),dnr=Symbol(),fnr=Symbol(),mnr=Symbol(),$nr=Symbol(),ynr=Symbol(),cXo=le("&.$type",globalThis,l=>l.$type),bnr=Symbol(),gnr=Symbol(),hXo=le("&.name",globalThis,l=>l.name),knr=Symbol(),_nr=Symbol(),xnr=Symbol(),vnr=Symbol(),pXo=Symbol(),wnr=Symbol(),Snr=Symbol(),Cnr=Symbol(),Enr=Symbol(),jnr=Symbol(),Anr=Symbol(),Unr=Symbol(),dXo=Symbol(),yse=class yse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.icon=e?e.icon:void 0,this.label=e?e.label:void 0,this.badge=e?e.badge:void 0,this.color=e?e.color:void 0}render(){var C;var e,t,r,o,n,i,s,a=this._ns_||"",u,c,h,d,f,m,$,b,g,x;let k=this.data.$target||this.data;if((k==null?void 0:k.resolved)===!1)return;let _=this.icon??k.aspillicon??k.asicon,S=this.label??k.aspilllabel??k.aslabel??k.label,v=this.color??k.color??this[qUe];return this[qUe]!=v&&(this[qUe]=v,!0)&&this.op.vars({color:v}),o=this,o[Onr](),n=i=1,o[anr]===1||(n=i=0,o[anr]=1),s=(C=this.data)==null?void 0:C.cssclasses,s===o[WUe]||(i|=2,o[WUe]=s),s=_||void 0,s===o[ZUe]||(i|=2,o[ZUe]=s),s=!!v||void 0,s===o[GUe]||(i|=2,o[GUe]=s),(!n||i&2)&&o.flagSelf$("op-ref "+(o[WUe]||"")+" "+(o[ZUe]?"has-icon":"")+" "+(o[GUe]?"has-color":"")),e=null,_&&(u=c=1,(e=o[unr])||(u=c=0,o[unr]=e=R("op-icon",null,`op-icon ${a}`,null)),u||(e[SI]=o),_===e[cnr]||(e.data=e[cnr]=_),u||!e.setup||e.setup(c,h),e[CI](c)),o[hnr]=o[gx](e,0,o[hnr]),t=null,S&&(d=f=1,(t=o[pnr])||(d=f=0,o[pnr]=t=R("op-label",null,`op-label ${a}`,null)),d||(t[SI]=o),S===t[dnr]||(t.value=t[dnr]=S),d||!t.setup||t.setup(f,m),t[CI](f)),o[fnr]=o[gx](t,0,o[fnr]),r=null,this.badge&&($=b=1,(r=o[mnr])||($=b=0,o[mnr]=r=R("op-badge",null,`op-badge ${a}`,null)),$||(r[SI]=o),g=this.badge,g===r[$nr]||(r.value=r[$nr]=g),$||!r.setup||r.setup(b,x),r[CI](b)),o[ynr]=o[gx](r,0,o[ynr]),o[Rnr](i),o}};E(yse,dXo,"op-reference",2),pe("op-reference",yse,{cssns:"oe_af",cssid:"oe-af"});var Pnr=yse,fXo=Symbol(),bse=class bse extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.max=e&&(o=e.max)!==void 0?o:2,this.icon=e&&(o=e.icon)!==void 0?o:null}render(){var e,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;let S=[].concat(this.data),v=S.map(cXo).compact().unique,C=Math.max(S.length-this.max,0);t=this,t[Onr](),r=o=1,t[bnr]===1||(r=o=0,t[bnr]=1),(i=t[gnr])||(t[gnr]=i=w("div",t,`oe-am as-compact ${n}`,null)),pt.context=t[_nr]||(t[_nr]={_:i}),s=v.map(hXo).join(", "),pt.context=null,s===t[xnr]&&r||(t[knr]=i[gx](t[xnr]=s,384,t[knr])),(a=t[vnr])||(t[vnr]=a=wt(1024,t)),u=0,c=a.$;for(let j=0,P=B(S),U=P.length;j<U;j++){let O=P[j];j>=this.max||(d=m=1,(h=(f=c[uXo](pXo)).get(u))||(d=m=0,f.set(u,h=R("op-reference",a,`${n}`,null))),d||(h[SI]=a),O===h[wnr]||(h.data=h[wnr]=O),$=this.icon,$===h[Snr]||(h.icon=h[Snr]=$),d||!h.setup||h.setup(m,b),h[CI](m),a.push(h,u++,f))}return a[CI](u),e=null,C&&(g=x=1,(e=t[Cnr])||(g=x=0,t[Cnr]=e=w("div",null,`op-ref ${n}`,null)),g||(e[SI]=t),(k=e[Enr])||(e[Enr]=k=w("div",e,`op-badge ${n}`,null)),g||k[gx]("+"),_=C,_===e[Anr]&&g||(e[jnr]=k[gx](e[Anr]=_,256,e[jnr]))),t[Unr]=t[gx](e,0,t[Unr]),t[Rnr](o),t}};E(bse,fXo,"op-refs",2),pe("op-refs",bse,{cssid:"oe-ak"});var Tnr=bse;T();oe();ge(),dt(),Bl(),ln(),$e();var _ir=Symbol.for("#beforeReconcile"),Mnr=Symbol.for("#getDynamicContext"),Fh=Symbol.for("##up"),XUe=Symbol.for("#isRichElement"),Zc=Symbol.for("#afterVisit"),EI=Symbol.for("#getRenderContext"),xir=Symbol.for("#visit"),vir=Symbol.for("#afterReconcile"),YUe=Symbol.for("#dynamic_table_gtc"),mXo=Symbol.for("#dynamic_table_cache"),gse=Symbol.for("#placeChild"),Lnr=Symbol.for("#getSlot"),Dnr=Symbol(),Nnr=Symbol(),Inr=Symbol(),Fnr=Symbol(),Hnr=Symbol(),$Xo=Symbol(),yXo=Symbol(),Bnr=Symbol(),Vnr=Symbol(),bXo=Symbol(),gXo=Symbol(),znr=Symbol(),qnr=Symbol(),Wnr=Symbol(),kXo=Symbol(),_Xo=Symbol(),Znr=Symbol(),Gnr=Symbol(),Ynr=Symbol(),Xnr=Symbol(),Knr=Symbol(),Jnr=Symbol(),Qnr=Symbol(),eir=Symbol(),xXo=Symbol(),vXo=Symbol(),tir=Symbol(),rir=Symbol(),oir=Symbol(),nir=Symbol(),iir=Symbol(),sir=Symbol(),lir=Symbol(),air=Symbol(),uir=Symbol(),cir=Symbol(),hir=Symbol(),pir=Symbol(),wXo=Symbol(),SXo=Symbol(),dir=Symbol(),fir=Symbol(),mir=Symbol(),$ir=Symbol(),yir=Symbol(),bir=Symbol(),CXo=Symbol(),kse=class kse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.view=e?e.view:void 0,this.showitems=e&&(o=e.showitems)!==void 0?o:50}clicked(e){return!0}render(){var ce;var e=this,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te;let ne=this.view.props,ie=this.data,J=null;t=[];for(let ye of B(ne))ye.sort.desc,t.push(ye.flg?"1fr":"auto");let me=t;r=this,r[_ir](),o=n=1,r[Dnr]===1||(o=n=0,r[Dnr]=1),o||r.on$("click",{$_:[function(ye,we){return e.clicked(ye)}]},this),(!o||n&2)&&r.flagSelf$("up-af"),a=u=1,(s=r[Nnr])||(a=u=0,r[Nnr]=s=w("table",r,`up-ag xtable ${i}`,null)),c=me.join(" "),c===r[Inr]||s.css$var("--up_ah",r[Inr]=c,null,"gtc"),a||(h=w("thead",s,`thead ${i}`,null)),(d=r[Fnr])||(r[Fnr]=d=w("tr",h,`tr ${i}`,null)),(f=r[Hnr])||(r[Hnr]=f=wt(384,d)),m=0,$=f.$;for(let ye of B(ne))x=k=1,(g=(b=$[Mnr]($Xo,m)).run(ye.opownth(ye,this.view)))||(x=k=0,b.cache(g=M(b.value,f,`${i}`,null))),x||(g[Fh]=f),g[XUe]&&((!x||k&2)&&g.flags.reconcile(yXo,`${i}`),x||!g.setup||g.setup(k,b),g[Zc](k)),f.push(g,m++,_);f[Zc](m),(S=r[Bnr])||(r[Bnr]=S=w("tbody",s,`tbody ${i}`,null)),(v=r[Vnr])||(r[Vnr]=v=wt(1408,S)),C=0,j=v.$;for(let ye=0,we=B(ie),ae=we.length;ye<ae;ye++){let be=we[ye];if(!(ye>=this.showitems)){ye==this.showitems-10&&(U=L=1,(P=(O=j[EI](bXo)).get(C))||(U=L=0,O.set(C,P=w("div",v,`${i}`,null))),U||(P[Fh]=v),U||P.on$("intersect",{in:!0,$_:[function(_e,Ae){return e.showitems+=10}]},this),v.push(P,C++,O)),F=V=1,(I=(N=j[EI](gXo)).get(C))||(F=V=0,N.set(C,I=w("tr",v,`tr ${i}`,null))),F||(I[Fh]=v),be===I[znr]||(I.odata=I[znr]=be),W=I[qnr]||(I[qnr]={options:[null]}),z=be,z===W.options[0]||(W.options[0]=z,V|=48),F||I.on$("opmenu",W,this),V&32&&(V^=32,(ce=W[xir])==null||ce.call(W)),(q=I[Wnr])||(I[Wnr]=q=wt(384,I)),Y=0,K=q.$;for(let _e of B(ne))Q=ee=1,(Z=(X=K[Mnr](kXo,Y)).run(_e.opowntd(_e,be)))||(Q=ee=0,X.cache(Z=M(X.value,q,`${i}`,null))),Q||(Z[Fh]=q),Z[XUe]&&((!Q||ee&2)&&Z.flags.reconcile(_Xo,`${i}`),Q||!Z.setup||Z.setup(ee,X),Z[Zc](ee)),q.push(Z,Y++,te);q[Zc](Y),v.push(I,C++,N)}}return v[Zc](C),r[vir](n),r}};E(kse,CXo,"op-table",2),pe("op-table",kse,{});var gir=kse,EXo=Symbol(),_se=class _se extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.showitems=e&&(o=e.showitems)!==void 0?o:50,this.commas=e&&(o=e.commas)!==void 0?o:new Intl.NumberFormat("en-US"),this.usd=e&&(o=e.usd)!==void 0?o:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),this.nok=e&&(o=e.nok)!==void 0?o:new Intl.NumberFormat("nb-NO",{style:"currency",currency:"NOK"})}get rows(){return this.data}get cols(){var e;return(e=this.rows)!=null&&e.any?Object.keys(this.rows[0]):[]}get gtc(){var e;if(this.data[YUe])return this.data[YUe];e=[];for(let t=0,r=B(this.cols),o=r.length;t<o;t++){let n=r[t],i=0,s=0,a=0,u=0,c=!1;for(let b=0,g=B(this.rows),x=g.length;b<x;b++){let k=g[b],_=this.get_val(k,n);_.rich&&(c=!0);let v=String(_.val||"").length;i+=v,s+=v*v,u=Math.max(u,v),a++}let h=a?i/a:0,d=a?s/a-h*h:0,f=Math.sqrt(Math.max(0,d)),m=Math.max(n.length,Math.min(h+f,u))*10+10,$=Math.max(n.length,u)*10+10;c&&(m+=40,$+=40),e.push(t==this.cols.length-1?"minmax("+Math.round(m)+"px, auto)":"minmax("+Math.round(m)+"px, "+Math.round($)+"px)")}return this.data[YUe]=e}get_val(e,t){var c,h;let r,o,n=this.data[mXo]??=new Map,i=e[t],s=n.get(t);if(s||(s=new Map,n.set(t,s)),s.has(i))return s.get(i);let a,u;if(typeof i=="number"&&/(?<![a-z])(date|at|ts|time|cre|mod)(?![a-z])/i.test(t)&&(i=new Date(i*1e3)),i!=null&&i.json)a=String(i),i="{...}";else if(Ye(t,"id")||t.endsWith("_id")){let d=(c=OP.get(i))==null?void 0:c.resolved;d&&(u=d,a=u.astip||u.aslabel||String(u),i=u.aslabel||String(u))}else if((Ye(t,"owner")||Ye(t,"creator"))&&(r=(h=OP.get(i))==null?void 0:h.resolved))u=r,a=u.astip||u.aslabel||String(u),i=u.aslabel||String(u);else if(p(i,Date))a=String(i),i=i.human;else if(typeof i=="bigint"&&t.endsWith("_usd"))i=this.usd.format(i/100n);else if(typeof i=="number"&&t.endsWith("_usd"))i=this.usd.format(i/100);else if((typeof i=="number"||typeof i=="bigint")&&/(?<![a-z])(count|total|num|number)(?![a-z])/i.test(t))i=this.commas.format(i);else if(t=="country"&&typeof i=="string"&&i.length==2){let d=OPCountry.from(i);i=d,a=d.name}else if(/(?<![a-z])(url)(?![a-z])/i.test(t)){try{o=URL.parse(i)}catch{}o&&(u=OPUrl.get(i),a=i,i=(u.URL.host+u.URL.path).stripend("/"))}else t.endsWith("__money")?(i=String(OPMoney.from(i,e.currency)),a=i):i===!1&&(i=null);return a??=String(i),s.set(i,{rich:u,val:i,tip:a}).get(i)}async render(){var Ue,Be;var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He;o=this,o[_ir](),n=i=1,o[Znr]===1||(n=i=0,o[Znr]=1),(!n||i&2)&&o.flagSelf$("up-ap"),(a=o[Gnr])||(o[Gnr]=a=w("table",o,`up-aq xtable ${s}`,null)),u=this.gtc.join(" "),u===o[Ynr]||a.css$var("--up_ar",o[Ynr]=u,null,"gtc"),n||(c=w("thead",a,`thead ${s}`,null)),(h=o[Xnr])||(o[Xnr]=h=w("tr",c,`tr ${s}`,null)),(d=o[Knr])||(o[Knr]=d=Jt(384,h)),f=0,m=d.$;for(let je of B(this.cols))b=g=1,($=m[f])||(b=g=0,m[f]=$=w("th",d,`th left kind-text ${s}`,null)),b||($[Fh]=d),t=null,je=="_cre"?t="created at":je=="_mod"?t="modified at":je.includes("__")?t=je.split("__").at(0).az:t=je.az,$[Jnr]=$[gse](t,0,$[Jnr]),f++;d[Zc](f),(x=o[Qnr])||(o[Qnr]=x=w("tbody",a,`tbody ${s}`,null)),(k=o[eir])||(o[eir]=k=wt(1408,x)),_=0,S=k.$;for(let je=0,ue=B(this.rows),xe=ue.length;je<xe;je++){let Re=ue[je];if(je>=this.showitems)continue;je==this.showitems-10&&(C=P=1,(v=(j=S[EI](xXo)).get(_))||(C=P=0,j.set(_,v=w("div",k,`${s}`,null))),C||(v[Fh]=k),C||v.on$("intersect",{in:!0,$_:[function(qe,Ne){return e.showitems+=10}]},this),k.push(v,_++,j));let Oe=Re.id&&((Ue=OP.get(Re.id))==null?void 0:Ue.resolved);O=I=1,(U=(L=S[EI](vXo)).get(_))||(O=I=0,L.set(_,U=w("tr",k,`tr ${s}`,null))),O||(U[Fh]=k),F=U[tir]||(U[tir]={options:[null]}),N=(Oe==null?void 0:Oe.exists)&&Oe,N===F.options[0]||(F.options[0]=N,I|=48),O||U.on$("opmenu",F,this),I&32&&(I^=32,(Be=F[xir])==null||Be.call(F)),N=(Oe==null?void 0:Oe.exists)&&Oe,N===U[rir]||(U.data=U[rir]=N),(V=U[oir])||(U[oir]=V=Jt(384,U)),W=0,z=V.$;for(let qe of B(this.cols)){let{rich:Ne,val:Ie,tip:Ke}=await this.get_val(Re,qe);Y=K=1,(q=z[W])||(Y=K=0,z[W]=q=w("td",V,`up-ay td kind-text left ${s}`,null)),Y||(q[Fh]=V),r=null,p(Ne,OPUrl)?(X=Z=1,(r=q[nir])||(X=Z=0,q[nir]=r=R("op",null,`up-az ${s}`,null)),X||(r[Fh]=q),Q=r[Lnr]("__",r),ee=r[iir]||(r[iir]={$_:[function(Te,Ce,Ze){return globalThis.window.open(Ze)},null]}),ee.$_[1]=Ne,X||r.on$("click",ee,this),Ke===r[sir]||(r.optip=r[sir]=Ke),te=Ie,te===r[air]&&X||(r[lir]=Q[gse](r[air]=te,256,r[lir])),X||!r.setup||r.setup(Z,ne),r[Zc](Z)):Ne!=null&&Ne.exists?(ie=J=1,(r=q[uir])||(ie=J=0,q[uir]=r=R("op-chip",null,`sm ${s}`,null)),ie||(r[Fh]=q),Ne===r[cir]||(r.data=r[cir]=Ne),me=r[hir]||(r[hir]={$_:[function(Te,Ce,Ze){return APP.open(Ze)},null]}),me.$_[1]=Ne,ie||r.on$("click",me,this),Ke===r[pir]||(r.mytip=r[pir]=Ke),ie||!r.setup||r.setup(J,ce),r[Zc](J)):p(Ie,OPCountry)?(ye=q[EI](SXo),we=ae=1,(r=ye.run(this.oicon(Ie)))||(we=ae=0,ye.cache(r=M(ye.value,null,`up-bb ${s}`,null))),we||(r[Fh]=q),r[XUe]&&(Ke===r[dir]||(r.optip=r[dir]=Ke),(!we||ae&2)&&r.flags.reconcile(wXo,`up-bb ${s}`),we||!r.setup||r.setup(ae,ye),r[Zc](ae))):(be=_e=1,(r=q[fir])||(be=_e=0,q[fir]=r=R("op",null,`${s}`,null)),be||(r[Fh]=q),Ae=r[Lnr]("__",r),Ke===r[mir]||(r.optip=r[mir]=Ke),ve=Ie,ve===r[yir]&&be||(r[$ir]=Ae[gse](r[yir]=ve,384,r[$ir])),be||!r.setup||r.setup(_e,Pe),r[Zc](_e)),q[bir]=q[gse](r,0,q[bir]),Y||!q.setup||q.setup(K,He),q[Zc](K),W++}V[Zc](W),k.push(U,_++,L)}return k[Zc](_),o[vir](i),o}};E(_se,EXo,"op-dynamic-table",2),pe("op-dynamic-table",_se,{});var kir=_se;T();oe();var jXo=Symbol.for("#beforeReconcile"),AXo=Symbol.for("#getDynamicContext"),UXo=Symbol.for("##up"),PXo=Symbol.for("#isRichElement"),wir=Symbol.for("#afterVisit"),TXo=Symbol.for("#afterReconcile"),Sir=Symbol(),Cir=Symbol(),Eir=Symbol(),OXo=Symbol(),RXo=Symbol(),MXo=Symbol(),xse=class xse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.view=e?e.view:void 0}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f;let m=this.view.props,$=this.data,b=null;e=this,e[jXo](),t=r=1,e[Sir]===1||(t=r=0,e[Sir]=1),(!t||r&2)&&e.flagSelf$("vd-ag"),(n=e[Cir])||(e[Cir]=n=w("div",e,`items ${o}`,null)),(i=e[Eir])||(e[Eir]=i=wt(384,n)),s=0,a=i.$;for(let g=0,x=B($),k=x.length;g<k;g++){let _=x[g];h=d=1,(c=(u=a[AXo](OXo,s)).run(this.oli(_,this)))||(h=d=0,u.cache(c=M(u.value,i,`${o}`,null))),h||(c[UXo]=i),c[PXo]&&((!h||d&2)&&c.flags.reconcile(RXo,`${o}`),h||!c.setup||c.setup(d,u),c[wir](d)),i.push(c,s++,f)}return i[wir](s),e[TXo](r),e}};E(xse,MXo,"op-listview",2),pe("op-listview",xse,{cssns:"vd_af"});var jir=xse;T();oe();ln();var LXo=Symbol.for("#beforeReconcile"),KUe=Symbol.for("##up"),DXo=Symbol.for("#getRenderContext"),Air=Symbol.for("#afterVisit"),JUe=Symbol.for("#placeChild"),NXo=Symbol.for("#appendChild"),IXo=Symbol.for("#afterReconcile"),Uir=Symbol(),Pir=Symbol(),Tir=Symbol(),Oir=Symbol(),FXo=Symbol(),Rir=Symbol(),Mir=Symbol(),Lir=Symbol(),Dir=Symbol(),Nir=Symbol(),Iir=Symbol(),HXo=Symbol(),vse=class vse extends de{get $body(){let e=w("div",null,`oh-ah ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}render(){var e,t,r,o,n,i,s,a,u,c,h,d=this._ns_||"",f,m,$,b,g,x,k,_;let S=p(this.data,Array)?this.data:[this.data],v=3;t=this,t[LXo](),r=o=1,t[Uir]===1||(r=o=0,t[Uir]=1),(!r||o&2)&&t.flagSelf$("lg"),i=s=1,(n=t[Pir])||(i=s=0,t[Pir]=(n=this.$body,n[KUe]=t,n)),a=S.length,a===t[Tir]||n.css$var("--oh_ai",t[Tir]=a,null,"--count"),(u=t[Oir])||(t[Oir]=u=wt(1152,n)),c=0,h=u.$;for(let C=0,j=B(S),P=j.length;C<P;C++){let U=j[C];C>=v||(m=b=1,(f=($=h[DXo](FXo)).get(c))||(m=b=0,$.set(c,f=R("op-chip",u,`oh-aj op-drag-item ${d}`,null))),m||(f[KUe]=u),C===f[Rir]||f.css$var("--oh_ak",f[Rir]=C,null,"--i"),U===f[Mir]||(f.data=f[Mir]=U),m||!f.setup||f.setup(b,g),f[Air](b),u.push(f,c++,$))}return u[Air](c),e=null,S.length>v&&(x=k=1,(e=t[Lir])||(x=k=0,t[Lir]=e=w("div",null,`oh-al ${d}`,null)),x||(e[KUe]=n),x||e[JUe]("+ "),_=S.length-v,_===e[Nir]&&x||(e[Dir]=e[JUe](e[Nir]=_,0,e[Dir]))),t[Iir]=n[JUe](e,0,t[Iir]),i||t[NXo](n),t[IXo](o),t}};E(vse,HXo,"op-drag-image",2),pe("op-drag-image",vse,{cssns:"oh_af",cssid:"oh-af"});var Fir=vse;T();oe();var BXo=Symbol.for("#beforeReconcile"),VXo=Symbol.for("##up"),Hir=Symbol.for("#getRenderContext"),Bir=Symbol.for("#isRichElement"),wse=Symbol.for("#afterVisit"),Vir=Symbol.for("#insertInto"),zir=Symbol.for("#replaceWith"),zXo=Symbol.for("#afterReconcile"),qir=Symbol(),Wir=Symbol(),U7=Symbol(),qXo=Symbol(),P7=Symbol(),WXo=Symbol(),ZXo=Symbol(),Sse=class Sse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.props=e?e.props:void 0,this.target=e?e.target:void 0}render(){var e,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k;e=this,e[BXo](),t=r=1,e[qir]===1||(t=r=0,e[qir]=1),(o=e[Wir])||(e[Wir]=o=Jt(384,e)),n=0,i=o.$;for(let _=0,S=B(this.props),v=S.length;_<v;_++){let C=S[_];u=c=1,(a=i[n])||(u=c=0,i[n]=a=w("div",o,`%container ${s}`,null)),u||(a[VXo]=o),h=a[Hir](qXo),f=m=1,(d=h.run(this.olabel(C)))||(f=m=0,h.cache(d=M(h.value,a,`%key ${s}`,null))),d[Bir]&&((!f||m&2)&&d.flags.reconcile(U7,`%key ${s}`),f||!d.setup||d.setup(m,h),d[wse](m)),d==a[U7]||!a[U7]&&(a[U7]=d)[Vir](a)||a[U7][zir](a[U7]=d,a),$=a[Hir](WXo),g=x=1,(b=$.run(this.oel(C,"value-label")))||(g=x=0,$.cache(b=M($.value,a,`${s}`,null))),b[Bir]&&((!g||x&2)&&b.flags.reconcile(P7,`${s}`),g||!b.setup||b.setup(x,$),b[wse](x)),b==a[P7]||!a[P7]&&(a[P7]=b)[Vir](a)||a[P7][zir](a[P7]=b,a),u||!a.setup||a.setup(c,k),a[wse](c),n++}return o[wse](n),e[zXo](r),e}};E(Sse,ZXo,"op-descriptions",2),pe("op-descriptions",Sse,{cssns:"yg_af",cssid:"yg-af"});var Zir=Sse;T();oe();var xar=q6(uar()),OPe=q6(Cm());jx();T();ge(),un(),dt(),En();var qI=Symbol(),Xse=Symbol(),car=Symbol(),Kse=Symbol(),har=Symbol(),par=Symbol(),dar=Symbol(),far=Symbol(),yar=Symbol.for("#getRenderContext"),bar=Symbol.for("##up"),gar=Symbol.for("##register"),kar=Symbol.for("#isRichElement"),nQo=Symbol.for("#visit"),_ar=Symbol.for("#afterVisit"),TPe=Symbol.for("#savedValue"),iQo=Symbol.for("#autosave"),sQo=Symbol.for("#beforeReconcile"),lQo=Symbol.for("#afterReconcile"),aQo=Imba.TAGS["md:opref"];globalThis.mdDeserialize=OPe.deserialize;globalThis.md2note=T7;globalThis.md2dom=function(l,e={}){let t=T7(l),r=(0,OPe.deserialize)(t);return r==null?void 0:r._tag};var uQo=Symbol(),RPe=class RPe{rendered(){var e=this;if(!this.$atom){let t=this._data.rich,r=p(t,OPObjectUrl)?t.object:t;return Bt(function(){var d,f;var n,i,s=H(),a,u,c,h;return n=s[yar](Xse),a=u=1,(i=n.run(OPVIEW(r,"inline-ref",e)))||(a=u=0,n.cache(i=M(n.value,null,"richref",null))),a||(i[bar]=s._),a||((d=i[gar])==null||d.call(i,s,Xse)),i[kar]&&(c=i[car]||(i[car]={options:[null]}),h=r,h===c.options[0]||(c.options[0]=h,u|=48),a||i.on$("opdrag",c,e),u&32&&(u^=32,(f=c[nQo])==null||f.call(c)),(!a||u&2)&&i.flags.reconcile(Xse,"richref"),a||s.sym||!i.setup||i.setup(u,s,Xse),s.sym||i[_ar](u)),i},this._body)}}};E(RPe,uQo,"cls",1,aQo);var mar=RPe,cQo=Symbol(),Jse=class Jse extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.placeholder=e&&(o=e.placeholder)!==void 0?o:"...",this.editable=e&&(o=e.editable)!==void 0?o:!0,this.baseUrl=e&&(o=e.baseUrl)!==void 0?o:"md://",this.autosavedelay=e&&(o=e.autosavedelay)!==void 0?o:1e3}awaken(){var r;let t=((r=this.data)==null?void 0:r.value)||this.raw||this[TPe]||"";return this.editor=(0,xar.createEditor)(t),this.editor._dom.classList.add("op-markdown"),this.editor.setEditable(this.editable),this.editor.setAutosavedelay(this.autosavedelay),this.appendChild(this.editor._dom),this.editor.mount(),this}unmount(){return!0}set autosave(e){this[iQo]=e}save(){var e,t;return(t=(e=this.editor)==null?void 0:e.autosave)==null?void 0:t.call(e)}changed(e){if(p(this.data,OPProp))return this.data.value=e.detail}insert(e="",t=!1){let r;try{if(this.editor.markdown()==""){let a=this.editor.blocks().at(-1);a.addBlockInside({markdown:e}),t&&a.range(-1).mdSelect();return}this.editor.selection()||this.editor.select(-1);let n=this.editor.caret();r=T7(e,!0);let i=n.range,s=n.range.mdInsert(r);t&&n.range.mdCollapse().mdSelect()}catch{}return this}clear(){return!0}set value(e){var r,o;let t=this[TPe];e!=t&&(this[TPe]=e,(o=(r=this.editor)==null?void 0:r.updateMarkdown)==null||o.call(r,e))}get markdown(){var e,t;return(t=(e=this.editor)==null?void 0:e.markdown)==null?void 0:t.call(e)}get value(){return this.save(),this.data.value}async parseurl(e){let t,r=new URL(e,this.baseUrl);try{t=OPUrl.get(String(r))}catch{}return await t,t}async pointerover(e){var n,i;var t=gt(this),r=this,o;if(t[qI]??={over:null,timeout:null},t[qI].over!=(o=e.target)&&(t[qI].over=o,!0)&&(clearTimeout(t[qI].timeout),(i=(n=e.target)==null?void 0:n.matches)!=null&&i.call(n,"a,code.a"))){let s=e.target.dataset.href||e.target.href||"",a=await this.parseurl(s);if(globalThis.mdurl=a,p(a,OPObjectUrl)){let u=OPVIEW(a.object,"link-tip",this,!1),c={},h=function(){return!0},d=function(){return!0};if(u)return t[qI].timeout=setTimeout(function(){let f={anchor:r};return r.emit("opbeforetip",f).defaultPrevented?void 0:Bt(function(){var C;var b=H(),g,x=r._ns_||"",k,_,S,v;return b.this=this,g=b[yar](Kse),_=S=1,(k=g.run(u()))||(_=S=0,g.cache(k=M(g.value,null,`tip ${x}`,null))),_||(k[bar]=b._),_||((C=k[gar])==null||C.call(k,b,Kse)),k[kar]&&(v=e.target,v===k[har]||(k.rel=k[har]=v),e===k[par]||(k.opener=k[par]=e),_||(k.popup__={tip:!0,autoblur:!0,sticky:!0}),_||(k.popup="popup"),v=f.anchor,v===k[dar]||(k.anchored=k[dar]=v),_||k.on$("out",{self:!0,silent:!0,$_:[function(j,P){return d(j)}]},r),_||k.on$("outend",{self:!0,silent:!0,$_:[function(j,P){return h(j)}]},r),(!_||S&2)&&k.flags.reconcile(Kse,`tip ${x}`),_||b.sym||!k.setup||k.setup(S,b,Kse),b.sym||k[_ar](S)),k},null,c)},100)}}}async metaclick(e){var t,r,o;if((r=(t=e.target)==null?void 0:t.matches)!=null&&r.call(t,"a,code.a")){let n=e.target.dataset.href||e.target.getAttribute("href")||e.target.href,i=await this.parseurl(n);if(i!=null&&i.peek&&i.peek(),p(i,OPObjectUrl)&&(globalThis.urlo=i.object,(o=i.object)!=null&&o.show_in_scrim))return i.object.show_in_scrim()}}render(){var e=this,t,r,o;return this.op.vars({"md-empty-placeholder":'"'+this.placeholder+'"'}),t=this,t[sQo](),r=o=1,t[far]===1||(r=o=0,t[far]=1),r||t.on$("focusout",{$_:[function(n,i){return e.save(n)}]},this),r||t.on$("keydown",{enter:!0,$_:[function(n,i){return e.save(n)}]},this),r||t.on$("change",{$_:[function(n,i){return e.changed(n)}]},this),r||t.on$("click",{$_:[function(n,i){return e.metaclick(n)}]},this),r||t.on$("beforehotkey",{closest:[".editable"],trap:!0},this),r||t.on$("pointerover",{silent:!0,$_:[function(n,i){return e.pointerover(n)}]},this),t[lQo](o),t}commit(){var e,t,r;return typeof((e=this.data)==null?void 0:e.value)=="string"&&((r=(t=this.editor)==null?void 0:t.setData)==null||r.call(t,this.data.value)),super.commit(...arguments)}};E(Jse,cQo,"op-markdown",10),pe("op-markdown",Jse,{});var $ar=Jse;T();function hQo(l){if(Array.isArray(l)){for(var e=0,t=Array(l.length);e<l.length;e++)t[e]=l[e];return t}else return Array.from(l)}var LPe=!1;typeof window<"u"&&(MPe={get passive(){LPe=!0}},window.addEventListener("testPassive",null,MPe),window.removeEventListener("testPassive",null,MPe));var MPe,Qse=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ix=[],ele=!1,war=-1,WI=void 0,Nx=void 0,ZI=void 0,Sar=function(e){return Ix.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},tle=function(e){var t=e||window.event;return Sar(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},pQo=function(e){if(ZI===void 0){var t=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(t&&r>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);ZI=document.body.style.paddingRight,document.body.style.paddingRight=o+r+"px"}}WI===void 0&&(WI=document.body.style.overflow,document.body.style.overflow="hidden")},dQo=function(){ZI!==void 0&&(document.body.style.paddingRight=ZI,ZI=void 0),WI!==void 0&&(document.body.style.overflow=WI,WI=void 0)},fQo=function(){return window.requestAnimationFrame(function(){if(Nx===void 0){Nx={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,r=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var n=o-window.innerHeight;n&&t>=o&&(document.body.style.top=-(t+n))})},300)}})},mQo=function(){if(Nx!==void 0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=Nx.position,document.body.style.top=Nx.top,document.body.style.left=Nx.left,window.scrollTo(t,e),Nx=void 0}},$Qo=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},yQo=function(e,t){var r=e.targetTouches[0].clientY-war;return Sar(e.target)?!1:t&&t.scrollTop===0&&r>0||$Qo(t)&&r<0?tle(e):(e.stopPropagation(),!0)},Car=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Ix.some(function(o){return o.targetElement===e})){var r={targetElement:e,options:t||{}};Ix=[].concat(hQo(Ix),[r]),Qse?fQo():pQo(t),Qse&&(e.ontouchstart=function(o){o.targetTouches.length===1&&(war=o.targetTouches[0].clientY)},e.ontouchmove=function(o){o.targetTouches.length===1&&yQo(o,e)},ele||(document.addEventListener("touchmove",tle,LPe?{passive:!1}:void 0),ele=!0))}};var Ear=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Ix=Ix.filter(function(t){return t.targetElement!==e}),Qse&&(e.ontouchstart=null,e.ontouchmove=null,ele&&Ix.length===0&&(document.removeEventListener("touchmove",tle,LPe?{passive:!1}:void 0),ele=!1)),Qse?mQo():dQo()};T();function DPe(l,e,t,r){return l===0?e:t*Math.pow(2,10*(l/r-1))+e}function gQo(l,e){return l[l.length+e]}ge(),En(),un(),wo(),We(),$i(),$e();var GI=Symbol(),kQo=Symbol(),NPe=Symbol(),jar=Symbol(),Aar=Symbol(),Uar=Symbol(),Par=Symbol(),Tar=Symbol(),Oar=Symbol(),Rar=Symbol(),Mar=Symbol(),Lar=Symbol(),Dar=Symbol(),Nar=Symbol.for("#noscroll"),_Qo=Symbol.for("#apple"),xQo=Symbol.for("#ui"),YI=Symbol.for("##up"),Iar=Symbol.for("##register"),Far=Symbol.for("#debug"),IPe=Symbol.for("#mutobs"),FPe=Symbol.for("#tabbing"),vQo=Symbol.for("#optarget"),Har=Symbol.for("#opmenu"),wQo=Symbol.for("#isRichElement"),XI=Symbol.for("#afterVisit"),SQo=Symbol.for("#focus"),CQo=Symbol.for("#rolepath"),EQo=Symbol.for("#relayout"),rle=Symbol.for("#opnav"),jQo=Symbol.for("#beforeReconcile"),AQo=Symbol.for("#getSlot"),ole=Symbol.for("#appendChild"),UQo=Symbol.for("#afterReconcile"),PQo=Symbol(),i8=class i8 extends de{get $placement(){let e=R("op-ui-target",null,`${this._ns_||""} $placement`,null);return Object.defineProperty(this,"$placement",{value:e}),e}get $dnd(){let e=R("op-ui-dnd",null,`${this._ns_||""} $dnd`,null);return Object.defineProperty(this,"$dnd",{value:e}),e}get $clipboard(){let e=R("op-ui-clipboard",null,`${this._ns_||""} $clipboard`,null);return Object.defineProperty(this,"$clipboard",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.over=e?e.over:void 0,this.overtip=e?e.overtip:void 0,this.observer=e?e.observer:void 0,this.tip=e?e.tip:void 0,this.last=e&&(o=e.last)!==void 0?o:{},this.keys=e&&(o=e.keys)!==void 0?o:{shift:!1,mod:!1,alt:!1,meta:!1,ctrl:!1},this.pointer=e?e.pointer:void 0,this.pointerpos=e?e.pointerpos:void 0,this.pointerhidden=e&&(o=e.pointerhidden)!==void 0?o:!1,this.overlays=e&&(o=e.overlays)!==void 0?o:[],this.focushistory=e&&(o=e.focushistory)!==void 0?o:[],this.tipdelay=e&&(o=e.tipdelay)!==void 0?o:300,this.tiptimeout=e?e.tiptimeout:void 0}lockscroll(){let e=this.overlays.some(function(t){return t.noscroll});if(this[Nar]!=e&&(this[Nar]=e,!0))return e?Car(this.scroller,{reserveScrollBarGap:!0}):Ear(this.scroller)}get apple(){return this[_Qo]??=(globalThis.navigator.platform||"").match(/iPhone|iPod|iPad|Mac/)}log(...e){return console.log("%c ui","color:#4c84ff",...e)}get scroller(){return globalThis.document.scrollingElement}get now(){return globalThis.performance.now()}setup(){var e=this;return this.elapsed=new Proxy({},{get:function(t,r){let o=e.last[r];return p(o,Event)?globalThis.performance.now()-o.timeStamp:p(o,Date)?new Date-o:typeof o=="number"?Date.now()-o:1/0}})}mount(){var e=this;OP[xQo]||=this;for(let t=0,r=["keydown"],o=r.length;t<o;t++){let n=r[t];globalThis.document.body.addEventListener(n,function(i){return e[n](i)})}return this.check_scrollbar(),!0}check_scrollbar(){var a;var e=this._ns_||"",t,r={},o,n,i;let s=(o=n=0,t=t=w("div",null,`sy-ag ${e}`,null),o||(t[YI]=r._),o||((a=t[Iar])==null||a.call(t,r,kQo)),o||(i=w("div",t,`${e}`,null)),t);return globalThis.document.body.appendChild(s),globalThis.document.flags.toggle("has-scrollbars",s.children[0].offsetWidth<80)}set debug(e){var t,r;this[Far]!=e&&(this[Far]=e,!0)&&(e?(this[IPe]||=new MutationObserver(function(o){return LL(o)}),this[IPe].observe(globalThis.document.body,{childList:!0,subtree:!0,attributes:!0})):(r=(t=this[IPe])==null?void 0:t.disconnect)==null||r.call(t))}set tabbing(e){this[FPe]!=e&&(this[FPe]=e,!0)&&globalThis.document.flags.toggle("tabbing",e)}get tabbing(){return this[FPe]}contextmenu(e){var m,$,b,g,x;var t=this._ns_||"",r,o={},n,i;let s=globalThis.document.activeElement;if(e.metaKey)return;let{x:a,y:u}=e,c=[],h=e[vQo]||(typeof a=="number"?globalThis.document.elementFromPoint(a,u):e.target);for(;h;)h[Har]&&c.push(h),h=h.parentNode;let d;e.stopPropagation();for(var f=[];d=c.shift();){let k=d[Har],_=k.options[0],S=e.altKey||k.deep?1:((m=k.depth)==null?void 0:m[0])??.1,v={target:_,sources:k.options,mods:k,depth:S};p(($=d.ctx)==null?void 0:$.data,OPIterable)&&(v.up=d.ctx.data);let C="context-menu";(b=d==null?void 0:d.opview)!=null&&b.kind&&(C=(""+((g=d==null?void 0:d.opview)==null?void 0:g.kind)+"-"+C).toimbaidentifier);let j=OPVIEW(_,C,v,!1);if(j){let P=(n=i=0,r=r=M(j(),null,`sm ${t}`,null),n||(r[YI]=o._),n||((x=r[Iar])==null||x.call(r,o,NPe)),r[wQo]&&(d===r[jar]||(r.rel=r[jar]=d),e===r[Aar]||(r.opener=r[Aar]=e),n||(r.popup__={contextmenu:!0}),n||(r.popup="popup"),e===r[Uar]||(r.anchored=r[Uar]=e),(!n||i&2)&&r.flags.reconcile(NPe,`sm ${t}`),n||o.sym||!r.setup||r.setup(i,o,NPe),o.sym||r[XI](i)),r);if(p(P,Element))return e.preventDefault(),Bt(P)}}return f}showtip(){return this.overtip||this.hidetip(),this.tip=this.overtip.op.tip,this.tip.show()}toggletip(){return this.overtip&&!this.menu?this.showtip():this.hidetip()}hidetip(){var e,t;return(t=(e=this.tip)==null?void 0:e.hide)==null||t.call(e),this.tip=null}focus(e){var t,r;this[SQo]=e;let o=e?e.parents("[role]",!0):[];t=0;for(let n of B(o)){let i=t++;o[n.role]||=n}e[CQo]=o,r=0;for(let n of B(o)){let i=r++;n._focin=o[i-1]||n}return this}dragover(e){return this.pointerpos=new DOMPoint(e.x,e.y)}activatecontour(e){let t=e.target;for(;t!=null&&t.hasAttribute;)t.hasAttribute("opcontour")&&t.contour,t=t.parentElement}trackevent(e){let t=this.last[e.type];this.last[e.type]=e;let r=!1;for(let o=0,n=["meta","shift","alt","ctrl","mod"],i=n.length;o<i;o++){let s=n[o],a=s=="mod"?this.apple?"metaKey":"ctrlKey":s+"Key",u=e[a];u!=null&&this.keys[s]!=u&&(this.keys[s]=u,!0)&&(r=!0,globalThis.document.flags.toggle(""+s+"-key",u))}return!0}pointermove(e){var u,c,h,d;var t=gt(this),r;let o=e.target;if(t[GI]??={target:null,navable:null},t[GI].target!=o&&(t[GI].target=o,!0)){this.activatecontour(e);let f=o.closest("[opnav]");f&&t[GI].navable!=f&&(t[GI].navable=f,!0)&&f.opnav.onhover&&f.opnavfocus(e)}e.type=="pointermove"&&this.trackevent(e),e.type=="pointerdown"&&((u=o==null?void 0:o.matches)!=null&&u.call(o,".backdrop"))&&(o=Array.from(globalThis.document.elementsFromPoint(e.x,e.y)).find(function(f){return!f.contains(o)}));let n=this.now,i=(c=o==null?void 0:o.closest)==null?void 0:c.call(o,"[op],[role]"),s={over:this.over,overtip:this.overtip};this.pointer=e,this.pointerpos=new DOMPoint(e.x,e.y);let a=this.pointerhidden!=!1?(this.pointerhidden=!1,!0):!1;if(this.over!=i&&(this.over=i,!0)||a){let f=i?i.parents("[role]",!0):[];for(let $ of B(f))f[$.role]||=$;this.path=f;let m=f.listitem||f.menuitem;(h=i==null?void 0:i.emit)==null||h.call(i,"over",i.data)}if(this.overtip!=(r=(d=o==null?void 0:o.closest)==null?void 0:d.call(o,"[op-tip]"))&&(this.overtip=r,!0)){let f=s.overtip;if(clearTimeout(this.tiptimeout),this.tip&&this.overtip)this.showtip();else{let m=this.overtip?this.tipdelay:250;this.tiptimeout=setTimeout(this.toggletip,m)}}return this.tip&&!this.overtip&&(this.pointerpos.distanceFrom(this.tip.node.op.rect).r>12||!e.target.contains(this.tip.node.parentNode))&&this.hidetip(),this.relayout(),!0}relayout(){let e=this[EQo]||={pos:this.pointerpos},t=this.pointer,r=this.pointerpos;if(r.distanceFrom(e.pos).r<4)return;e.pos=r;let n=globalThis.performance.now(),i=globalThis.document.querySelectorAll(".tracked"),s=window.innerHeight,a=[],u=[];for(let c=0,h=B(i),d=h.length;c<d;c++){let f=h[c],m=f.opbox();if(m.y>s||m.bottom<0)continue;let $=m.width,b=m.height,g=(t.x-m.x).round(),x=(t.y-m.y).round(),k=(g/$).clamp(0,1)-.5,_=(x/b).clamp(0,1)-.5,S=Math.max($,b).round();_=DPe(Math.abs(_),0,1,.5)*(_>0?1:-1),k=DPe(Math.abs(k),0,1,.5)*(k>0?1:-1);let v=Math.abs(k)<.5&&Math.abs(_)<.5?1:0,C=g>0?Math.max(0,g-$):g,j=x>0?Math.max(0,x-b):x;g=g.clamp(-100,$+100),x=x.clamp(-100,b+100),Math.abs(j)>200?(g=$*.5,k=.5):Math.abs(C)>200&&(x=b*.5,_=.5);let P={ptrx:g+"px",ptry:x+"px",rad:S+"px",ptrax:k,ptray:_,ptrin:v};a.push([f,P])}for(let c=0,h=B(a),d=h.length;c<d;c++){let[f,m]=h[c];f.op.vars(m)&&u.push(f,m)}return this}pointerdown(e){var t;if(this.last.pointerdown=e,e.focusBefore=globalThis.document.activeElement,e.buttons==2&&e.preventDefault(),e.metaKey&&e.shiftKey&&e.altKey){let r=(t=e.target.op.closest(OPObject))==null?void 0:t.data;globalThis.m=r,window.addEventListener("click",function(o){return o.preventDefault(),o.stopPropagation()},{once:!0,capture:!0}),OP.toast("Debug model "+(r==null?void 0:r.id))}if(clearTimeout(this.tiptimeout),this.tip)return this.hidetip()}open(e){return this.menu=e,Bt(e)}movedown(){return this.move(0,1),!0}moveup(){return this.move(0,-1),!0}move(e=0,t=0){return!0}keydown(e){var s,a,u,c,h,d,f,m;this.pointerhidden=!0,this.last.keydown=e;let t=e.target.closest("[opnav]"),r=this.focel,o=e.input=(a=(s=e.target)==null?void 0:s.closest)==null?void 0:a.call(s,"input,textarea,[contenteditable]"),n=!1,i=e.keyCode;if(e.tabbing=this.tabbing,!(o&&!(Ye(i,9)||Ye(i,27)))){switch(i){case 37:{(u=t==null?void 0:t.opnavdir)==null||u.call(t,e,-1,0);break}case 38:{(c=t==null?void 0:t.opnavdir)==null||c.call(t,e,0,-1);break}case 39:{(h=t==null?void 0:t.opnavdir)==null||h.call(t,e,1,0);break}case 40:{(d=t==null?void 0:t.opnavdir)==null||d.call(t,e,0,1);break}case 13:{this.naventer(e);break}case 32:{this.tabbing&&((f=t==null?void 0:t.opnavspace)==null||f.call(t,e));return}case 27:{e.defaultPrevented||this.navexit(e);break}case 9:{!o&&!this.tabbing?(n=!0,r!=null&&r[rle]&&r.opnavstart(e)):this.navtab(e);break}default:return}(n||r!=this.focel)&&(i!=27&&(this.tabbing=!0),(m=e==null?void 0:e.preventDefault)==null||m.call(e))}}keyup(e){return!0}navtab(e){let t=this.focel;if(t[rle]||t==globalThis.document.body){t.opnavtab(e);let r=this.focel;t!=r&&(e.preventDefault(),e.stopPropagation());return}}navemit(e,t){let r="opnav"+e;return this.focel.emit(r,{},{original:t})}get focel(){return globalThis.document.activeElement}naventer(e){let t=this.focel;if(t[rle]&&(t.opnaventer(e),t!=this.focel))return e.preventDefault(),this.focel.addEventListener("keyup",function(r){return r.stopPropagation(),r.preventDefault()},{once:!0})}navexit(e){let t=this.focel.closest("[opnav]")||this.focel;if(t[rle]&&(t.opnavexit(e),t!=this.focel))return e.preventDefault(),e.stopPropagation(),this.focel.addEventListener("keyup",function(r){return r.stopPropagation(),r.preventDefault()},{once:!0})}focusin(e){var o;let t=globalThis.document.activeElement;return globalThis.performance.now()-(((o=this.last.keydown)==null?void 0:o.timeStamp)||0)>20&&(this.tabbing=!1),gQo(this.focushistory,-1)!=t&&this.focushistory.push(t),this.activatecontour(e),this.last.focusin=e,!0}focusout(e){var t=this;let r=e.target,o=e.relatedTarget||globalThis.document.activeElement;if(globalThis.document.body.offsetWidth,!e.relatedTarget&&o==globalThis.document.body){let n=r.opnavparents;setTimeout(function(){if(!o.contains(r)){let i;if(n&&(i=n.find(function(s){return o.contains(s)&&s!=o})),i??=t.focushistory.findLast(function(s){return o.contains(s)}),i)return i.focus()}},1)}return this.last.focusout=e}gc(){return this.focushistory=this.focushistory.filter(function(e){return!e.detached}),this.last={},this.fx,this}undebugopview(){var e,t;e=[];for(let r=0,o=B(globalThis.document.querySelectorAll("[data-opinspected]")),n=o.length;r<n;r++){let i=o[r];e.push((t=i.dataset.opinspected,delete i.dataset.opinspected,t))}return e}debugopview(e){var t;if(!this.pointerpos)return OP.toast("Please move the cursor, I don't see it");this.undebugopview();let r=globalThis.document.elementsFromPoint(this.pointerpos.x,this.pointerpos.y);t=[];for(let o=0,n=B(r),i=n.length;o<i;o++){let s=n[o];s.dataset.opname&&(s.dataset.opinspected=""+o,t.push(s.dataset.opinspect=""+o+")"+s.dataset.opfullname))}return t}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C;return t=this,t[jQo](),r=o=1,t[Par]===1||(r=o=0,t[Par]=1),r||t.set$("aria-hidden",!0),s=a=1,(i=t[Tar])||(s=a=0,t[Tar]=i=R("i-global",t,`${n}`,null)),u=i[AQo]("__",t),s||i.on$("contextmenu",{$_:[function(j,P){return e.contextmenu(j.original)}]},this),s||i.on$("pointermove",{silent:!0,$_:[function(j,P){return e.pointermove(j)}]},this),s||i.on$("pointerdown",{silent:!0,capture:!0,$_:[function(j,P){return e.pointerdown(j)}]},this),s||i.on$("keydown",{silent:!0,capture:!0,$_:[function(j,P){return e.trackevent(j)}]},this),s||i.on$("keyup",{silent:!0,capture:!0,$_:[function(j,P){return e.trackevent(j)}]},this),s||i.on$("drag",{silent:!0,capture:!0,$_:[function(j,P){return e.trackevent(j)}]},this),s||i.on$("contextmenu",{silent:!0,capture:!0,$_:[function(j,P){return e.trackevent(j)}]},this),s||i.on$("hotkey",{options:["*"],passive:!0},this),s||i.on$("focusin",{silent:!0,$_:[function(j,P){return e.focusin(j)}]},this),s||i.on$("focusout",{capture:!0,silent:!0,$_:[function(j,P){return e.focusout(j)}]},this),c=t[Oar]||(t[Oar]={options:["alt+d"],if:[null],passive:!0,$_:[function(j,P){return e.debugopview(j)}]}),c.if[0]=!1,s||i.on$("hotkey",c,this),c=t[Rar]||(t[Rar]={options:["ctrl+alt+d"],if:[null],passive:!0,$_:[function(j,P){return e.undebugopview(j)}]}),c.if[0]=!1,s||i.on$("hotkey",c,this),d=f=1,(h=t[Mar])||(d=f=0,t[Mar]=(h=this.$placement,h[YI]=u,h)),d||h.set$("aria-hidden",!0),d||!h.setup||h.setup(f,m),h[XI](f),d||u[ole](h),b=g=1,($=t[Lar])||(b=g=0,t[Lar]=($=this.$dnd,$[YI]=u,$)),b||$.set$("aria-hidden",!0),b||!$.setup||$.setup(g,x),$[XI](g),b||u[ole]($),_=S=1,(k=t[Dar])||(_=S=0,t[Dar]=(k=this.$clipboard,k[YI]=u,k)),_||k.set$("aria-hidden",!0),_||!k.setup||k.setup(S,v),k[XI](S),_||u[ole](k),s||!i.setup||i.setup(a,C),i[XI](a),s||t[ole](i),t[UQo](o),t}};i8.prototype[Le]=De,se([jn.bind([])],i8.prototype,"overlays",null),se([kf.bind([])],i8.prototype,"lockscroll",null),se([Fl.bind([])],i8.prototype,"toggletip",null),E(i8,PQo,"op-ui",258),pe("op-ui",i8,{cssid:"sy-af"});var Bar=i8,TQo=Symbol(),HPe=class HPe{set opcolor(e){let t=this.opcolor;e&&this.op.vars({color:e}),this.flags.toggle("has-color",!!e)}set opaccent(e){let t=this.opaccent;this.op.vars({accent:e})}};E(HPe,TQo,"Element",1,Element);var Var=HPe;var OQo=Symbol.for("#op");globalThis[OQo]||={};T();oe();var RQo=Symbol(),H7;globalThis.OPAnalytics=(H7=class{static identify(e){}static capture(){}static reset(){}static init(){}static captureException(e,t={},r={}){}},E(H7,RQo,null,0),H7);T();oe();var MQo=Symbol(),VPe=class VPe extends OPMixin{};E(VPe,MQo,"CourseEntryContent",0);var BPe=VPe;globalThis.CourseEntryContent=BPe;T();oe();$e();var zPe=Symbol("seen"),zar=Symbol(),qPe=Symbol("mark-visited"),qar=Symbol(),WPe=Symbol("mark-as-seen"),War=Symbol(),ZPe=Symbol("unseen"),Zar=Symbol(),LQo=le("&.unseen",globalThis,l=>l.unseen),KI,B7,Am,V7,nle=Symbol(),Gar=Symbol(),z7=Symbol(),DQo=Symbol(),NQo=Symbol.for("##up"),IQo=Symbol.for("##register"),FQo=Symbol.for("#getSlot"),HQo=Symbol.for("#getRenderContext"),BQo=Symbol.for("#isRichElement"),Yar=Symbol.for("#afterVisit"),VQo=Symbol.for("#appendChild"),zQo=Symbol.for("#replaceChild"),qQo=Symbol(),YPe=class YPe{get unseen(){return this.only(LQo)}};E(YPe,qQo,"OPIterable",1,OPIterable);var Xar=YPe,WQo=Symbol(),Fx=class Fx extends OPMixin{set seen(e){this.seen.$set(e,this,zPe,"seen")}get seen(){return this.seen.$get(this,zPe,"seen")}get seen(){return this[zar]||y((KI=this.ts(),p(KI.pov,Function)?KI.pov():KI.pov=!0,KI),this,zPe,"seen",zar,Fx.prototype)}set markvisited(e){this.markvisited.$set(e,this,qPe,"markvisited")}get markvisited(){return this.markvisited.$get(this,qPe,"markvisited")}get markvisited(){return this[qar]||y((B7=this.action(),p(B7.pov,Function)?B7.pov():B7.pov=!0,B7.callback=function(){return this.markasseen()},B7),this,qPe,"markvisited",qar,Fx.prototype)}set markasseen(e){this.markasseen.$set(e,this,WPe,"markasseen")}get markasseen(){return this.markasseen.$get(this,WPe,"markasseen")}get markasseen(){return this[War]||y((Am=this.action(),p(Am.pov,Function)?Am.pov():Am.pov=!0,p(Am.g,Function)?Am.g(800):Am.g=800,Am.callback=async function(){if(!this.seen)return await this.update({seen:!0})},Am),this,WPe,"markasseen",War,Fx.prototype)}get bumped(){return this._cre}set unseen(e){this.unseen.$set(e,this,ZPe,"unseen")}get unseen(){return this.unseen.$get(this,ZPe,"unseen")}get unseen(){return this[Zar]||y((V7=this.memo(),p(V7.pov,Function)?V7.pov():V7.pov=!0,V7.callback=function(){return this.$findunseen()},V7),this,ZPe,"unseen",Zar,Fx.prototype)}$findunseen(){let e=this.seen;if(!this.mine&&!e)return this;for(let t=0,r=B(this.$children),o=r.length,n;t<o;t++)if(n=r[t].unseen){if(e>(n==null?void 0:n.bumped))continue;return n}return null}opunseenstat(e){var d;var t,r,o=H(),n,i,s,a,u,c,h;if(t=this.unseen)return n=i=1,(r=o[nle])||(n=i=0,r=o[nle]=r=R("op-stat",null,"emphasize",null)),n||(r[NQo]=o._),n||((d=r[IQo])==null||d.call(r,o,nle)),s=r[FQo]("__",r),t===r[Gar]||(r.data=r[Gar]=t),a=r[HQo](DQo),c=h=1,(u=a.run(this.oel(t,"event-label")))||(c=h=0,a.cache(u=M(a.value,s,"th-ag",null))),u[BQo]&&((!c||h&2)&&u.flags.reconcile(z7,"th-ag"),c||!u.setup||u.setup(h,a),u[Yar](h)),u==r[z7]||!r[z7]&&s[VQo](r[z7]=u)||(s[zQo](u,r[z7]),r[z7]=u),n||o.sym||!r.setup||r.setup(i,o,nle),o.sym||r[Yar](i),r}};E(Fx,WQo,"Notifiable",1024);var GPe=Fx;globalThis.Notifiable=GPe;T();oe();var ZQo=Symbol(),ile=class ile extends OPUrl{};ile.patterns=["https://docs.google.com/presentation/d/e/*"],E(ile,ZQo,"GoogleSlidesUrl",0);var XPe=ile;globalThis.GoogleSlidesUrl=XPe;T();globalThis.Role=OPRole;globalThis.GUEST=OP.GUEST;globalThis.OWNER=OP.OWNER;globalThis.MEMBER=OP.MEMBER;globalThis.CREATOR=OP.CREATOR;globalThis.PUBLISHER=OP.PUBLISHER;globalThis.ANYONE=OP.ANYONE;globalThis.SRV=OP.SRV;globalThis.USER=OP.USER;globalThis.ADMIN=OP.role(7,{name:"admin",hue:"purple"});globalThis.TEACHER=OP.role(16,{name:"teacher",hue:"teal"});globalThis.PRO=OP.role(18,{name:"pro_member"});globalThis.REFERRER=OP.role(20,{name:"Referrer"});T();OPSorter.enum("newest",{field:"updated",scorer:function(l){return l.updated||l._cre}});OPSorter.enum("popular",{field:"popularity",title:"Most Popular",scorer:function(l){return l.popularity||0}});OPSorter.enum("recency",{field:"recency",title:"Last Interacted"});OPSorter.enum("created",{field:"_cre",title:"Last Created",scorer:function(l){return l._cre||0}});OPSorter.enum("modified",{title:"Last Modified",field:"modified"});OPSorter.enum("visited",{title:"Last Visited",field:"visited"});OPSorter.enum("longest",{field:"duration",scorer:function(l){return l.duration||0}});OPSorter.enum("shortest",{field:"duration",scorer:function(l){return-l.duration||0}});OPSorter.enum("Last Ran",{field:"last_ran",scorer:function(l){return l.last_ran||0}});OPSorter.enum("Newest",{field:"created",scorer:function(l){return l.created||0}});T();oe();var GQo=Symbol(),sle=class sle extends OPObject{get model(){return this}log(...e){return console.log("%c "+this.askindlabel+" "+this.id,"color:lightpurple",...e)}toJSON(){let e={};for(let t=this.$shape.$serializable,r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],e[i]=this[i];return e}};sle.abstract=!0,E(sle,GQo,"Model",0);var KPe=sle;globalThis.Model=KPe;T();oe();$e();var JPe=Symbol("delete-item"),Kar=Symbol(),lle=Symbol(),Jar=Symbol(),Qar=Symbol(),eur=Symbol(),tur=Symbol(),rur=Symbol(),our=Symbol(),nur=Symbol(),q7=Symbol(),YQo=Symbol(),W7=Symbol(),XQo=Symbol(),Um,ale=Symbol(),iur=Symbol(),hur=Symbol.for("##up"),pur=Symbol.for("##register"),KQo=Symbol.for("#getSlot"),sur=Symbol.for("#placeChild"),lur=Symbol.for("#getRenderContext"),aur=Symbol.for("#isRichElement"),JI=Symbol.for("#afterVisit"),uur=Symbol.for("#insertInto"),cur=Symbol.for("#replaceWith"),JQo=Symbol(),ule=class ule extends Ve("op-stack-modal","OpStackModalComponent",de){body(){var U;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P;return o=n=1,(t=r[lle])||(o=n=0,t=r[lle]=t=R("op-sheet",null,`${e}`,null)),o||(t[hur]=r._),o||((U=t[pur])==null||U.call(t,r,lle)),i=t[KQo]("__",t),o||(s=w("div",i,`%head ${e}`,"Are You Sure?")),o||(a=w("div",i,`%body ${e}`,null)),o||(u=w("p",a,`red ${e}`,"Are you sure you want to delete this?")),(c=t[Jar])||(t[Jar]=c=w("p",a,`${e}`,null)),h=this.data.id,h===t[eur]&&o||(t[Qar]=c[sur](t[eur]=h,384,t[Qar])),(d=t[tur])||(t[tur]=d=w("p",a,`${e}`,null)),f=this.data.aslabel,f===t[our]&&o||(t[rur]=d[sur](t[our]=f,384,t[rur])),$=b=1,(m=t[nur])||($=b=0,t[nur]=m=w("div",i,`%foot ${e}`,null)),g=m[lur](YQo),k=_=1,(x=g.run(this.obutton(this.cancel)))||(k=_=0,g.cache(x=M(g.value,m,`${e}`,null))),x[aur]&&((!k||_&2)&&x.flags.reconcile(q7,`${e}`),k||!x.setup||x.setup(_,g),x[JI](_)),x==m[q7]||!m[q7]&&(m[q7]=x)[uur](m)||m[q7][cur](m[q7]=x,m),S=m[lur](XQo),C=j=1,(v=S.run(this.obutton(this.del)))||(C=j=0,S.cache(v=M(S.value,m,`red ${e}`,null))),v[aur]&&((!C||j&2)&&v.flags.reconcile(W7,`red ${e}`),C||!v.setup||v.setup(j,S),v[JI](j)),v==m[W7]||!m[W7]&&(m[W7]=v)[uur](m)||m[W7][cur](m[W7]=v,m),$||!m.setup||m.setup(b,P),m[JI](b),o||r.sym||!t.setup||t.setup(n,r,lle),r.sym||t[JI](n),t}};E(ule,JQo,"DeleteModal",2),pe("delete-modal-v-ao",ule,{name:"DeleteModal"});var QPe=ule,QQo=Symbol(),cle=class cle extends OPMixin{set deleteitem(e){this.deleteitem.$set(e,this,JPe,"deleteitem")}get deleteitem(){return this.deleteitem.$get(this,JPe,"deleteitem")}get deleteitem(){return this[Kar]||y((Um=this.action(),p(Um.g,Function)?Um.g(549):Um.g=549,p(Um.if,Function)?Um.if(function(){return this.d}):Um.if=function(){return this.d},Um.callback=async function(){var i;var e,t=H(),r,o,n;if(await Bt((r=o=1,(e=t[ale])||(r=o=0,e=t[ale]=e=R(QPe,null,null,null)),r||(e[hur]=t._),r||((i=e[pur])==null||i.call(e,t,ale)),n=this,n===e[iur]||(e.data=e[iur]=n),r||t.sym||!e.setup||e.setup(o,t,ale),t.sym||e[JI](o),e)))return await this.destroy(),Cr()},Um),this,JPe,"deleteitem",Kar,cle.prototype)}};E(cle,QQo,"Deletable",1024);var eTe=cle;globalThis.Deletable=eTe;T();oe();ge(),$e();var tTe=Symbol("name"),dur=Symbol(),rTe=Symbol("color"),fur=Symbol(),oTe=Symbol("icon"),mur=Symbol(),$ur,yur,bur,hle=Symbol();var nTe=Symbol(),gur=Symbol(),kur=Symbol(),_ur=Symbol(),xur=Symbol(),vur=Symbol(),wur=Symbol(),Sur=Symbol(),een=Symbol.for("#matcher"),ten=Symbol.for("##up"),ren=Symbol.for("##register"),oen=Symbol.for("#getSlot"),Cur=Symbol.for("#afterVisit"),nen=Symbol.for("#appendChild"),ien=Symbol.for("#placeChild"),sen=Symbol(),Z7=class Z7 extends OPObject{set name(e){this.name.$set(e,this,tTe,"name")}get name(){return this.name.$get(this,tTe,"name")}get name(){return this[dur]||y(($ur=this.text(),$ur),this,tTe,"name",dur,Z7.prototype)}set color(e){this.color.$set(e,this,rTe,"color")}get color(){return this.color.$get(this,rTe,"color")}get color(){return this[fur]||y((yur=this.color(),yur),this,rTe,"color",fur,Z7.prototype)}set icon(e){this.icon.$set(e,this,oTe,"icon")}get icon(){return this.icon.$get(this,oTe,"icon")}get icon(){return this[mur]||y((bur=this.text(),bur),this,oTe,"icon",mur,Z7.prototype)}[een](e){var t,r;return(r=(t=e.labels)==null?void 0:t.has)==null?void 0:r.call(t,this)}opownchip(e,t){var b;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=i=1,(r=o[hle])||(n=i=0,r=o[hle]=r=R("op",null,"su-af op-chip pill",null)),n||(r[ten]=o._),n||((b=r[ren])==null||b.call(r,o,hle)),s=r[oen]("__",r),a=this.cssclasses,a===r[nTe]||(i|=2,r[nTe]=a),a=this.color,a===r[gur]||(r.opcolor=r[gur]=a),a=this,a===r[kur]||(r.data=r[kur]=a),n||r.on$("optip",{},this),n||r.on$("opmenu",{},this),i&2&&r.flag$("su-af op-chip pill "+(r[nTe]||"")),c=h=1,(u=r[_ur])||(c=h=0,r[_ur]=u=R("op-icon",s,"op-icon",null)),d=this.asicon,d===r[xur]||(u.data=r[xur]=d),c||!u.setup||u.setup(h,f),u[Cur](h),c||s[nen](u),(m=r[vur])||(r[vur]=m=w("span",s,"op-label",null)),$=this.aschiplabel,$===r[Sur]&&n||(r[wur]=m[ien](r[Sur]=$,384,r[wur])),n||o.sym||!r.setup||r.setup(i,o,hle),o.sym||r[Cur](i),r}};E(Z7,sen,"Label",0);var Hx=Z7;globalThis.Label=Hx;Hx.enum("new",{name:"New",color:"#3fb681",icon:"egg"});Hx.enum("updated",{name:"Updated",color:"#9a6aff",icon:"newspaper"});Hx.enum("upcoming",{name:"Coming soon",color:"#f59e0b"});Hx.enum("hot",{name:"Hot",color:"#ff476c"});T();oe();function len(l,e){return l[l.length+e]}ge(),We(),$e();var iTe=Symbol("filters"),Eur=Symbol(),sTe=Symbol("sorter"),jur=Symbol(),lTe=Symbol("defaults"),Aur=Symbol(),aTe=Symbol("default_sorter"),Uur=Symbol(),uTe=Symbol("restore-defaults"),Pur=Symbol(),cTe=Symbol("save-for-everyone"),Tur=Symbol(),hTe=Symbol("resettable?"),Our=Symbol(),pTe=Symbol("name"),Rur=Symbol(),dTe=Symbol("filters"),Mur=Symbol(),fTe=Symbol("layout"),Lur=Symbol(),mTe=Symbol("compact"),Dur=Symbol(),ple=Symbol(),Nur=Symbol(),$Te=Symbol(),dle=Symbol(),Iur=Symbol(),Fur=Symbol(),Hur=Symbol(),Bur=Symbol();var yTe=Symbol(),Vur=Symbol(),zur=Symbol(),qur=Symbol(),aen=Symbol(),uen=Symbol(),cen=Symbol(),Wur=Symbol(),Zur=Symbol(),fle=Symbol(),Gur=Symbol(),Yur=Symbol(),Xur=Symbol(),Kur=Symbol(),G7=Symbol(),hen=Symbol(),Y7=Symbol(),pen=Symbol(),X7=Symbol(),den=Symbol(),bTe=Symbol(),mle=Symbol();var gTe=Symbol(),Jur=Symbol(),K7=Symbol(),fen=Symbol(),kTe=Symbol(),Qur=Symbol(),ecr=Symbol(),$le=Symbol(),_Te=Symbol(),yle=Symbol(),tcr=Symbol(),rcr=Symbol(),QI=Symbol(),men=Symbol(),eF=Symbol(),$en=Symbol(),tF=Symbol(),yen=Symbol(),J7=Symbol(),ben=Symbol(),rF=Symbol(),gen=Symbol(),ble=Symbol(),ocr=Symbol(),Q7=Symbol(),ken=Symbol(),e9=Symbol(),_en=Symbol(),t9=Symbol(),xen=Symbol(),oF,cd,ncr,nF,Pm,Tm,xTe,s8,icr,scr,lcr,vTe=Symbol(),acr=Symbol(),ucr=Symbol(),ccr=Symbol(),hcr=Symbol(),pcr=Symbol(),dcr=Symbol(),wTe=Symbol(),fcr=Symbol(),mcr=Symbol(),$cr=Symbol(),ycr=Symbol(),bcr=Symbol(),gcr=Symbol(),gle=Symbol(),iF=Symbol(),ven=Symbol(),kcr=Symbol(),_cr=Symbol(),xcr=Symbol(),vcr=Symbol(),wcr=Symbol(),Scr=Symbol(),kle=Symbol(),Ccr=Symbol(),Ecr=Symbol(),jcr=Symbol(),Acr=Symbol(),Ucr=Symbol(),Pcr=Symbol(),Tcr=Symbol(),Ocr=Symbol(),Rcr=Symbol(),Mcr=Symbol(),Lcr=Symbol();var STe=Symbol(),sF=Symbol(),wen=Symbol(),_le=Symbol(),Dcr=Symbol(),r9=Symbol(),Sen=Symbol(),Gi=Symbol.for("##up"),Kl=Symbol.for("##register"),Bx=Symbol.for("#getSlot"),qu=Symbol.for("#placeChild"),ko=Symbol.for("#afterVisit"),hd=Symbol.for("#appendChild"),fs=Symbol.for("#getRenderContext"),ms=Symbol.for("#isRichElement"),zcr=Symbol.for("#visit"),Om=Symbol.for("#replaceChild"),n9=Symbol.for("#insertInto"),i9=Symbol.for("#replaceWith"),lF=Symbol.for("#sources"),o9=Symbol.for("#backlink"),Ncr=Symbol(),CTe=class CTe extends OPEmbedField{constructor(){super(...arguments),super[A]||this[A](),re(this,Ncr)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.filters=e&&(o=e.filters)!==void 0?o:null,this.nofilter=e&&(o=e.nofilter)!==void 0?o:null}};E(CTe,Ncr,"AppCollField",16);var xle=CTe;globalThis.AppCollField=xle;var Cen=Symbol(),ETe=class ETe{coll(...e){let t={};p(len(e,-1),OPPlain)&&(t=e.pop());let r=new xle(wle,t);return r.defaults=t,r.filters=e,r}};E(ETe,Cen,"OPBase",1,OPBase);var Icr=ETe,Een=Symbol(),jTe=class jTe{get pagetabs(){return[]}async opresolveroute(e,t){await this.resolve();let r=this.get(e);return r&&!r.inactive?r:this.find(function(o){return o.slug==e&&!o.inactive})||e}};E(jTe,Een,"OPEntries",1,OPEntries);var Fcr=jTe,jen=Symbol(),ATe=class ATe{opprostat(e,t){var u;var r,o=H(),n,i,s,a;if(e.value)return n=i=1,(r=o[ple])||(n=i=0,r=o[ple]=r=R("op-stat",null,"dc-af xxs op badge",null)),n||(r[Gi]=o._),n||((u=r[Kl])==null||u.call(r,o,ple)),s=r[Bx]("__",r),a=this.$.pro,a===r[Nur]||(r.data=r[Nur]=a),n||s[qu]("PRO"),n||o.sym||!r.setup||r.setup(i,o,ple),o.sym||r[ko](i),r}opprobadge(e,t){var s;var r,o=H(),n,i;return n=i=1,(r=o[$Te])||(n=i=0,r=o[$Te]=r=w("span",null,"dc-ag xxs op badge",null)),n||(r[Gi]=o._),n||((s=r[Kl])==null||s.call(r,o,$Te)),n||r[qu]("PRO"),r}get pagetabs(){var e=this;return this.$.$tabs.filter(function(t){var o;if(!t.r)return!1;let r=(o=t.$field)==null?void 0:o.$tab;return!(p(r==null?void 0:r.if,Function)&&!r.if.call(e,e,t)||t.tab===!1)})}opowntabs(e,t){var X,Z,Q;var r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z;let q=this.pagetabs,Y=this.$route,K=((X=Y==null?void 0:Y.tab)==null?void 0:X.object)||q[0];i=s=1,(o=n[dle])||(i=s=0,o=n[dle]=o=w("div",null,"dc-ah",null)),i||(o[Gi]=n._),i||((Z=o[Kl])==null||Z.call(o,n,dle)),i||(o.role="none"),u=c=1,(a=o[Iur])||(u=c=0,o[Iur]=a=R("app-sticky-check",o,null,null)),u||(a.role="none"),u||!a.setup||a.setup(c,h),a[ko](c),u||o[hd](a),f=m=1,(d=o[Fur])||(f=m=0,o[Fur]=d=w("div",o,"dc-aj",null)),f||(d.role="none"),b=g=1,($=o[Hur])||(b=g=0,o[Hur]=$=R("op-tabs",d,"dc-ak tabs",null)),x=$[Bx]("__",o),b||$.on$("opnav",{row:!0,area:!0},this),b||($.role="tablist"),(k=o[Bur])||(o[Bur]=k=wt(384,x)),_=0,S=k.$;for(let ee of B(q)){let te=Y?Y.base+(":"+ee.$key):this.asurl+(":"+ee.$key);v=S[fs](ee),j=P=1,(C=v.run(this.otab(ee,t)))||(j=P=0,v.cache(C=M(v.value,null,null,null))),j||(C[Gi]=k),C[ms]&&(U=ee==K||void 0,U===C[yTe]||(P|=2,C[yTe]=U),O=C[Vur]||(C[Vur]={options:[null]}),U=ee,U===O.options[0]||(O.options[0]=U,P|=48),j||C.on$("opmenu",O,this),P&32&&(P^=32,(Q=O[zcr])==null||Q.call(O)),j||(C.contour__={focus:!0}),j||(C.contour="contour"),j||C.on$("opnav",{},this),te===C[zur]||(C.href=C[zur]=te),j||(C.role="tab"),te===C[qur]||C.setAttribute("data-href",C[qur]=te),(!j||P&2)&&C.flags.reconcile(aen,C[yTe]?"active":""),j||!C.setup||C.setup(P,v),C[ko](P)),k.push(C,_++,L)}return k[ko](_),b||!$.setup||$.setup(g,I),$[ko](g),b||d[hd]($),r=null,K&&K.r?(F=o[fs](cen),N=V=1,(r=F.run(this.oel(K,"page-body",t)))||(N=V=0,F.cache(r=M(F.value,null,"dc-am",null))),N||(r[Gi]=o),r[ms]&&(N||(r.role="tabpanel"),(!N||V&2)&&r.flags.reconcile(uen,"dc-am"),N||!r.setup||r.setup(V,F),r[ko](V))):(W=z=1,(r=o[Wur])||(W=z=0,o[Wur]=r=w("div",null,"dc-an",null)),W||(r[Gi]=o),W||r[qu]("Content not found")),o[Zur]=o[qu](r,0,o[Zur]),i||n.sym||!o.setup||o.setup(s,n,dle),n.sym||o[ko](s),o}opownpage(e,t){var I,F;var r=this,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L;return this.x||!this.$up&&this.r?(o.this=this,s=a=1,(i=o[fle])||(s=a=0,i=o[fle]=i=R("op",null,"dc-ao",null)),s||(i[Gi]=o._),s||((I=i[Kl])==null||I.call(i,o,fle)),u=i[Bx]("__",i),s||(i.data__={sub:!0,rich:!0}),e===i[Gur]||(i.data=i[Gur]=e),n=null,this.markvisited&&(c=h=1,(n=i[Yur])||(c=h=0,i[Yur]=n=R("op-timeout",null,"dc_ao",null)),c||(n[Gi]=u),d=3*1e3,d===n[Xur]||(n.timeout=n[Xur]=d),c||n.on$("step",{$_:[function(N,V){return o.this.markvisited(N)}]},this),c||!n.setup||n.setup(h,f),n[ko](h)),i[Kur]=u[qu](n,0,i[Kur]),m=i[fs](hen),b=g=1,($=m.run(this.oel(this,"page-head",t)))||(b=g=0,m.cache($=M(m.value,u,"ohead dc_ao",null))),$[ms]&&((!b||g&2)&&$.flags.reconcile(G7,"ohead dc_ao"),b||!$.setup||$.setup(g,m),$[ko](g)),$==i[G7]||!i[G7]&&u[hd](i[G7]=$)||(u[Om]($,i[G7]),i[G7]=$),x=i[fs](pen),_=S=1,(k=x.run(this.oel(this,"page-body",t)))||(_=S=0,x.cache(k=M(x.value,u,"obody dc_ao",null))),k[ms]&&((!_||S&2)&&k.flags.reconcile(Y7,"obody dc_ao"),_||!k.setup||k.setup(S,x),k[ko](S)),k==i[Y7]||!i[Y7]&&u[hd](i[Y7]=k)||(u[Om](k,i[Y7]),i[Y7]=k),v=i[fs](den),j=P=1,(C=v.run(this.oel(this,"page-foot",t)))||(j=P=0,v.cache(C=M(v.value,u,"ofoot dc_ao",null))),C[ms]&&((!j||P&2)&&C.flags.reconcile(X7,"ofoot dc_ao"),j||!C.setup||C.setup(P,v),C[ko](P)),C==i[X7]||!i[X7]&&u[hd](i[X7]=C)||(u[Om](C,i[X7]),i[X7]=C),s||o.sym||!i.setup||i.setup(a,o,fle),o.sym||i[ko](a),i):(O=L=1,(U=o[bTe])||(O=L=0,U=o[bTe]=U=w("div",null,"dc-at","You don't have permission to view this page.")),O||(U[Gi]=o._),O||((F=U[Kl])==null||F.call(U,o,bTe)),U)}opownsheet(e,t){var f,m;var r,o=H(),n,i,s,a,u,c,h,d;if(this.x||!this.$up&&this.r)return n=i=1,(r=o[mle])||(n=i=0,r=o[mle]=r=R("op-layer",null,"xsheet",null)),n||(r[Gi]=o._),n||((f=r[Kl])==null||f.call(r,o,mle)),s=r[Bx]("__",r),a=(m=e.$type)==null?void 0:m.name,a===r[gTe]||(i|=2,r[gTe]=a),n||(r.data__={sub:!0,rich:!0}),e===r[Jur]||(r.data=r[Jur]=e),n||r.on$("opnav",{deep:!0,stack:!0},this),n||(r.contour="contour"),i&2&&r.flag$("xsheet "+(r[gTe]||"")),u=r[fs](fen),h=d=1,(c=u.run(this.oel(e,"sheet-page")))||(h=d=0,u.cache(c=M(u.value,s,"xsheet-body",null))),c[ms]&&((!h||d&2)&&c.flags.reconcile(K7,"xsheet-body"),h||!c.setup||c.setup(d,u),c[ko](d)),c==r[K7]||!r[K7]&&s[hd](r[K7]=c)||(s[Om](c,r[K7]),r[K7]=c),n||o.sym||!r.setup||r.setup(i,o,mle),o.sym||r[ko](i),r}opownpagetitle(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[kTe])||(r=o=0,e=t[kTe]=e=w("span",null,null,null)),r||(e[Gi]=t._),r||((i=e[Kl])==null||i.call(e,t,kTe)),n=this.astitle,n===e[ecr]&&r||(e[Qur]=e[qu](e[ecr]=n,384,e[Qur])),e}opownpagebody(e,t){var f,m;var r,o,n=H(),i,s,a,u,c,h;let d=this.pagetabs;return d&&d.any?(r=n[fs]($le),i=s=1,(o=r.run(this.oel(this,"page-tabs",t)))||(i=s=0,r.cache(o=M(r.value,null,"in-page",null))),i||(o[Gi]=n._),i||((f=o[Kl])==null||f.call(o,n,$le)),o[ms]&&((!i||s&2)&&o.flags.reconcile($le,"in-page"),i||n.sym||!o.setup||o.setup(s,n,$le),n.sym||o[ko](s)),o):(a=n[fs](_Te),c=h=1,(u=a.run(this.oel(this,"main-body",t)))||(c=h=0,a.cache(u=M(a.value,null,null,null))),c||(u[Gi]=n._),c||((m=u[Kl])==null||m.call(u,n,_Te)),u[ms]&&(c||n.sym||!u.setup||u.setup(h,n,_Te),n.sym||u[ko](h)),u)}opownpagehead(){var W;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return r=o=1,(e=t[yle])||(r=o=0,e=t[yle]=e=w("div",null,"dc-az",null)),r||(e[Gi]=t._),r||((W=e[Kl])==null||W.call(e,t,yle)),i=s=1,(n=e[tcr])||(i=s=0,e[tcr]=n=w("div",e,"dc-ba",null)),u=c=1,(a=n[rcr])||(u=c=0,n[rcr]=a=w("h1",n,null,null)),h=a[fs](men),f=m=1,(d=h.run(this.oel(this,"page-title")))||(f=m=0,h.cache(d=M(h.value,a,null,null))),d[ms]&&(f||!d.setup||d.setup(m,h),d[ko](m)),d==a[QI]||!a[QI]&&(a[QI]=d)[n9](a)||a[QI][i9](a[QI]=d,a),u||!a.setup||a.setup(c,$),a[ko](c),b=n[fs]($en),x=k=1,(g=b.run(this.oel(this,"page-stats")))||(x=k=0,b.cache(g=M(b.value,n,null,null))),g[ms]&&(x||!g.setup||g.setup(k,b),g[ko](k)),g==n[eF]||!n[eF]&&(n[eF]=g)[n9](n)||n[eF][i9](n[eF]=g,n),_=n[fs](yen),v=C=1,(S=_.run(this.oel(this,"page-intro")))||(v=C=0,_.cache(S=M(_.value,n,null,null))),S[ms]&&(v||!S.setup||S.setup(C,_),S[ko](C)),S==n[tF]||!n[tF]&&(n[tF]=S)[n9](n)||n[tF][i9](n[tF]=S,n),i||!n.setup||n.setup(s,j),n[ko](s),P=e[fs](ben),O=L=1,(U=P.run(this.oel(this,"page-head-buttons")))||(O=L=0,P.cache(U=M(P.value,e,"dc-bf lg",null))),U[ms]&&((!O||L&2)&&U.flags.reconcile(J7,"dc-bf lg"),O||!U.setup||U.setup(L,P),U[ko](L)),U==e[J7]||!e[J7]&&(e[J7]=U)[n9](e)||e[J7][i9](e[J7]=U,e),I=e[fs](gen),N=V=1,(F=I.run(this.opagestats(this)))||(N=V=0,I.cache(F=M(I.value,e,null,null))),F[ms]&&(N||!F.setup||F.setup(V,I),F[ko](V)),F==e[rF]||!e[rF]&&(e[rF]=F)[n9](e)||e[rF][i9](e[rF]=F,e),r||t.sym||!e.setup||e.setup(o,t,yle),t.sym||e[ko](o),e}opownsection(e,t){var S;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return n=i=1,(r=o[ble])||(n=i=0,r=o[ble]=r=R("op",null,"osection",null)),n||(r[Gi]=o._),n||((S=r[Kl])==null||S.call(r,o,ble)),s=r[Bx]("__",r),a=this,a===r[ocr]||(r.data=r[ocr]=a),u=r[fs](ken),h=d=1,(c=u.run(this.oel(this,"section-head",t)))||(h=d=0,u.cache(c=M(u.value,s,"ohead",null))),c[ms]&&((!h||d&2)&&c.flags.reconcile(Q7,"ohead"),h||!c.setup||c.setup(d,u),c[ko](d)),c==r[Q7]||!r[Q7]&&s[hd](r[Q7]=c)||(s[Om](c,r[Q7]),r[Q7]=c),f=r[fs](_en),$=b=1,(m=f.run(this.oel(this,"section-body",t)))||($=b=0,f.cache(m=M(f.value,s,"obody",null))),m[ms]&&((!$||b&2)&&m.flags.reconcile(e9,"obody"),$||!m.setup||m.setup(b,f),m[ko](b)),m==r[e9]||!r[e9]&&s[hd](r[e9]=m)||(s[Om](m,r[e9]),r[e9]=m),g=r[fs](xen),k=_=1,(x=g.run(this.oel(this,"section-foot",t)))||(k=_=0,g.cache(x=M(g.value,s,"ofoot",null))),x[ms]&&((!k||_&2)&&x.flags.reconcile(t9,"ofoot"),k||!x.setup||x.setup(_,g),x[ko](_)),x==r[t9]||!r[t9]&&s[hd](r[t9]=x)||(s[Om](x,r[t9]),r[t9]=x),n||o.sym||!r.setup||r.setup(i,o,ble),o.sym||r[ko](i),r}};E(ATe,jen,"OPRenderable",1025,OPRenderable);var Hcr=ATe,Aen=Symbol(),Ff=class Ff extends OPFilters{set filters(e){this.filters.$set(e,this,iTe,"filters")}get filters(){return this.filters.$get(this,iTe,"filters")}get filters(){return this[Eur]||y((oF=this.map(OPFilter),p(oF.local,Function)?oF.local():oF.local=!0,oF),this,iTe,"filters",Eur,Ff.prototype)}get _sources(){return this.$up.sources}get sorters(){var e,t,r;return((r=(t=(e=this._sources)==null?void 0:e.types)==null?void 0:t[0])==null?void 0:r.$sorters)||[]}set sorter(e){this.sorter.$set(e,this,sTe,"sorter")}get sorter(){return this.sorter.$get(this,sTe,"sorter")}get sorter(){return this[jur]||y((cd=this.ref(OPSorter),p(cd.local,Function)?cd.local():cd.local=!0,p(cd.options,Function)?cd.options(function(){return this.sorters}):cd.options=function(){return this.sorters},p(cd.fallback,Function)?cd.fallback(function(){return this.mapped_sorter}):cd.fallback=function(){return this.mapped_sorter},cd),this,sTe,"sorter",jur,Ff.prototype)}set defaults(e){this.defaults.$set(e,this,lTe,"defaults")}get defaults(){return this.defaults.$get(this,lTe,"defaults")}get defaults(){return this[Aur]||y((ncr=this.json(),ncr),this,lTe,"defaults",Aur,Ff.prototype)}set default_sorter(e){this.default_sorter.$set(e,this,aTe,"default_sorter")}get default_sorter(){return this.default_sorter.$get(this,aTe,"default_sorter")}get default_sorter(){return this[Uur]||y((nF=this.ref(OPSorter),p(nF.fallback,Function)?nF.fallback(function(){return this.mapped_sorter}):nF.fallback=function(){return this.mapped_sorter},nF),this,aTe,"default_sorter",Uur,Ff.prototype)}get mapped_sorter(){let e=this._sources.$sorter;return this.sorters.find(function(r){return r.sorter==e})}set restoredefaults(e){this.restoredefaults.$set(e,this,uTe,"restoredefaults")}get restoredefaults(){return this.restoredefaults.$get(this,uTe,"restoredefaults")}get restoredefaults(){return this[Pur]||y((Pm=this.action(),p(Pm.g,Function)?Pm.g(0):Pm.g=0,p(Pm.if,Function)?Pm.if(function(){return this.resettable}):Pm.if=function(){return this.resettable},Pm.callback=function(){return this.$assign({filters:this.defaults,sorter:this.default_sorter}),this.clearfilters(),this.filters.clean(),this},Pm),this,uTe,"restoredefaults",Pur,Ff.prototype)}set saveforeveryone(e){this.saveforeveryone.$set(e,this,cTe,"saveforeveryone")}get saveforeveryone(){return this.saveforeveryone.$get(this,cTe,"saveforeveryone")}get saveforeveryone(){return this[Tur]||y((Tm=this.action(),p(Tm.rx,Function)?Tm.rx(ADMIN|OWNER):Tm.rx=ADMIN|OWNER,p(Tm.g,Function)?Tm.g(800):Tm.g=800,Tm.callback=function(){let e=OP.clone(this.filters.$plain,{sanitize:!0,del:!0});return this.update({defaults:e,default_sorter:this.sorter})},Tm),this,cTe,"saveforeveryone",Tur,Ff.prototype)}set resettable(e){this.resettable.$set(e,this,hTe,"resettable")}get resettable(){return this.resettable.$get(this,hTe,"resettable")}get resettable(){return this[Our]||y((xTe=this.memo(),xTe.callback=function(){let e=OP.clone(this.filters.$plain,{sanitize:!0,del:!0});return this.defaults&&!OP.compare(e,this.defaults)},xTe),this,hTe,"resettable",Our,Ff.prototype)}$patch2(){super.$patch2(...arguments);try{this.defaults&&this.filters.$plain._&1&&this.$assign({filters:this.defaults,sorter:this.$plain.sorter||this.default_sorter})}catch{}return this}};E(Ff,Aen,"AppFilters",8);var vle=Ff;globalThis.AppFilters=vle;var Bcr=Symbol(),Rm=class Rm extends OPEmbed{constructor(){super(...arguments),re(this,Bcr)}set name(e){this.name.$set(e,this,pTe,"name")}get name(){return this.name.$get(this,pTe,"name")}get name(){return this[Rur]||y((s8=this.string(),p(s8.w,Function)?s8.w(ADMIN):s8.w=ADMIN,p(s8.fallback,Function)?s8.fallback(function(){var e,t;return((t=(e=this.$field)==null?void 0:e.options)==null?void 0:t.name)||String(this.$key).humanize()}):s8.fallback=function(){var e,t;return((t=(e=this.$field)==null?void 0:e.options)==null?void 0:t.name)||String(this.$key).humanize()},s8),this,pTe,"name",Rur,Rm.prototype)}set filters(e){this.filters.$set(e,this,dTe,"filters")}get filters(){return this.filters.$get(this,dTe,"filters")}get filters(){return this[Mur]||y((icr=this.embed(vle),icr),this,dTe,"filters",Mur,Rm.prototype)}set layout(e){this.layout.$set(e,this,fTe,"layout")}get layout(){return this.layout.$get(this,fTe,"layout")}get layout(){return this[Lur]||y((scr=this.enum({grid:{default:!0},rows:{},list:{kind:"li"},table:{kind:"li"}}),scr),this,fTe,"layout",Lur,Rm.prototype)}set compact(e){this.compact.$set(e,this,mTe,"compact")}get compact(){return this.compact.$get(this,mTe,"compact")}get compact(){return this[Dur]||y((lcr=this.bool(),lcr),this,mTe,"compact",Dur,Rm.prototype)}get arr(){return this.toIterable()}get len(){return this.sources.size}get size(){return this.sources.size}only(...e){return this.sources.only(...e)}map(e){return this.toIterable().map(e)}at(e){return this.sources.at(e)}get any(){return this.size>0}get membertype(){return this.sources.type}toIterable(){return this.sources}get sources(){var e;if(this[lF])return this[lF];if(p((e=this.$field)==null?void 0:e.callback,Function))return this.$field.callback.call(this.$up,this);if(this.$field.backlink)return this[lF]=this[o9]=new OPIndex(this);if(this.$field.filters){let[t,...r]=this.$field.filters;if(p(t,OPRefField)){let o=this[o9]||=new OPBacklink(this.$up,this.$field,t);return this[lF]=r.length?o.only(...r):o}return this[lF]=this.$up.$children.only(t,...r)}return[]}get renderer(){let e=this.$up[("op-"+this.$key+"-member-item").toimba];return e?e.bind(this.$up):null}add(e){return this.sources,this[o9]&&this[o9].add(e),this}delete(e){return this.sources,this[o9]&&this[o9].delete(e),this}get asbadge(){return this.sources.size}get asalerts(){return this.sources.unseen}opownstatlabel(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[vTe])||(r=o=0,e=t[vTe]=e=w("div",null,null,null)),r||(e[Gi]=t._),r||((u=e[Kl])==null||u.call(e,t,vTe)),(n=e[acr])||(e[acr]=n=w("span",e,"count",null)),i=this.sources.size,i===e[ccr]&&r||(e[ucr]=n[qu](e[ccr]=i,384,e[ucr])),(s=e[hcr])||(e[hcr]=s=w("span",e,"verbose",null)),r||s[qu](" "),a=this.aslabel,a===e[dcr]&&r||(e[pcr]=s[qu](e[dcr]=a,256,e[pcr])),e}opownchiplabel(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[wTe])||(r=o=0,e=t[wTe]=e=w("span",null,null,null)),r||(e[Gi]=t._),r||((u=e[Kl])==null||u.call(e,t,wTe)),(n=e[fcr])||(e[fcr]=n=w("span",e,"count",null)),i=this.sources.size,i===e[$cr]&&r||(e[mcr]=n[qu](e[$cr]=i,384,e[mcr])),(s=e[ycr])||(e[ycr]=s=w("span",e,"verbose",null)),r||s[qu](" "),a=this.aslabel,a===e[gcr]&&r||(e[bcr]=s[qu](e[gcr]=a,256,e[bcr])),e}opownchip(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;if(this.sources.size)return r=o=1,(e=t[gle])||(r=o=0,e=t[gle]=e=w("span",null,null,null)),r||(e[Gi]=t._),r||((f=e[Kl])==null||f.call(e,t,gle)),n=e[fs](ven),s=a=1,(i=n.run(this.oicon(this)))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[ms]&&(s||!i.setup||i.setup(a,n),i[ko](a)),i==e[iF]||!e[iF]&&(e[iF]=i)[n9](e)||e[iF][i9](e[iF]=i,e),(u=e[kcr])||(e[kcr]=u=w("span",e,"count",null)),c=this.sources.size,c===e[xcr]&&r||(e[_cr]=u[qu](e[xcr]=c,384,e[_cr])),(h=e[vcr])||(e[vcr]=h=w("span",e,"verbose",null)),d=this.aslabel,d===e[Scr]&&r||(e[wcr]=h[qu](e[Scr]=d,384,e[wcr])),r||t.sym||!e.setup||e.setup(o,t,gle),t.sym||e[ko](o),e}opownsection(e,t){var b,g;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=o[kle]=o[kle]||new Map,i=s=1,(r=n.get(a=this))||(i=s=0,n.set(a,r=R("app-collection",null,null,null))),i||(r[Gi]=o._),i||((b=r[Kl])==null||b.call(r,o,kle)),u=r[Bx]("placeholder",r),c=this.$field.nodrag,c===r[Ccr]||(r.nodrag=r[Ccr]=c),c=this.aslabel||this.name,c===r[Ecr]||(r.name=r[Ecr]=c),c=this,c===r[jcr]||(r.collfield=r[jcr]=c),c=this.filters,c===r[Acr]||(r.filters=r[Acr]=c),c=this.renderer,c===r[Ucr]||(r.renderer=r[Ucr]=c),c=this,c===r[Pcr]||(r.data=r[Pcr]=c),c=this.sources,c===r[Tcr]||(r.sources=r[Tcr]=c),c=this.layout,c===r[Ocr]||(r.layout=r[Ocr]=c),c=!this.$field.nofilter,c===r[Rcr]||(r.filterable=r[Rcr]=c),c=this.$field.creatable,c===r[Mcr]||(r.creatable=r[Mcr]=c),h=r[Lcr]||(r[Lcr]={options:[null,null]}),c=this,c===h.options[0]||(h.options[0]=c,s|=48),c=this.filters,c===h.options[1]||(h.options[1]=c,s|=48),i||r.on$("opmenu",h,this),s&32&&(s^=32,(g=h[zcr])==null||g.call(h)),c=this.compact||void 0,c===r[STe]||(s|=2,r[STe]=c),s&2&&r.flag$(r[STe]?"compact":""),d=r[fs](wen),m=$=1,(f=d.run(this.oel(this,"placeholder")))||(m=$=0,d.cache(f=M(d.value,u,null,null))),f[ms]&&(m||(f.slot="placeholder"),m||!f.setup||f.setup($,d),f[ko]($)),f==r[sF]||!r[sF]&&u[hd](r[sF]=f)||(u[Om](f,r[sF]),r[sF]=f),i||o.sym||!r.setup||r.setup(s,o,kle),o.sym||r[ko](s),r}opownbody(e,t){var f;var r,o=H(),n,i,s,a,u,c,h,d;return n=i=1,(r=o[_le])||(n=i=0,r=o[_le]=r=R("op",null,null,null)),n||(r[Gi]=o._),n||((f=r[Kl])==null||f.call(r,o,_le)),s=r[Bx]("__",r),n||(r.data__={sub:!0}),a=this,a===r[Dcr]||(r.data=r[Dcr]=a),u=r[fs](Sen),h=d=1,(c=u.run(this.osection(this,t)))||(h=d=0,u.cache(c=M(u.value,s,"hide-name",null))),c[ms]&&((!h||d&2)&&c.flags.reconcile(r9,"hide-name"),h||!c.setup||c.setup(d,u),c[ko](d)),c==r[r9]||!r[r9]&&s[hd](r[r9]=c)||(s[Om](c,r[r9]),r[r9]=c),n||o.sym||!r.setup||r.setup(i,o,_le),o.sym||r[ko](i),r}};Rm.prototype[Le]=De,se([ke.bind([])],Rm.prototype,"renderer",null),E(Rm,Bcr,"AppCollView",272);var wle=Rm;globalThis.AppCollView=wle;var Uen=Symbol(),UTe=class UTe{get asbadge(){return this.sources.size}get asalerts(){return this.sources.unseen}};E(UTe,Uen,"OPColl",1,OPColl);var Vcr=UTe;T();oe();var Pen=Symbol(),PTe=class PTe extends OPObject{get page(){return!0}};E(PTe,Pen,"OPServer",1,OPServer);var qcr=PTe;T();oe();ge(),$e(),$i();var TTe=Symbol("edit"),Wcr=Symbol(),OTe=Symbol("discard-edits"),Zcr=Symbol(),RTe=Symbol("submit-edits"),Gcr=Symbol(),MTe=Symbol("stop-editing"),Ycr=Symbol(),LTe=Symbol("edit"),Xcr=Symbol(),DTe=Symbol("stop-editing"),Kcr=Symbol(),Mm,Lm,Dm,Nm,Sle=Symbol(),s9=Symbol(),Ten=Symbol(),l9=Symbol(),Oen=Symbol(),Cle=Symbol(),Jcr=Symbol(),Qcr=Symbol(),ehr=Symbol(),thr=Symbol(),rhr=Symbol(),ohr=Symbol(),a9=Symbol(),Ren=Symbol(),u9=Symbol(),Men=Symbol(),Im,Fm,nhr=Symbol.for("##up"),ihr=Symbol.for("##register"),shr=Symbol.for("#getSlot"),Ele=Symbol.for("#getRenderContext"),jle=Symbol.for("#isRichElement"),l8=Symbol.for("#afterVisit"),NTe=Symbol.for("#appendChild"),lhr=Symbol.for("#replaceChild"),ahr=Symbol.for("#placeChild"),uhr=Symbol.for("#insertInto"),chr=Symbol.for("#replaceWith"),Len=Symbol(),Vx=class Vx extends OPMixin{set edit(e){this.edit.$set(e,this,TTe,"edit")}get edit(){return this.edit.$get(this,TTe,"edit")}get edit(){return this[Wcr]||y((Mm=this.action(),p(Mm.rx,Function)?Mm.rx(OPOWNER|OPADMIN):Mm.rx=OPOWNER|OPADMIN,p(Mm.if,Function)?Mm.if(function(){return!this.$branch&&!this.$editing}):Mm.if=function(){return!this.$branch&&!this.$editing},Mm.callback=function(){return this.$editing=this.$checkout(),Xt.go(this.$editing.url)},Mm),this,TTe,"edit",Wcr,Vx.prototype)}set discardedits(e){this.discardedits.$set(e,this,OTe,"discardedits")}get discardedits(){return this.discardedits.$get(this,OTe,"discardedits")}get discardedits(){return this[Zcr]||y((Lm=this.action(),p(Lm.rx,Function)?Lm.rx(OPOWNER|OPADMIN):Lm.rx=OPOWNER|OPADMIN,p(Lm.if,Function)?Lm.if(function(){return this.$branch}):Lm.if=function(){return this.$branch},Lm.callback=function(){return this.stopediting()},Lm),this,OTe,"discardedits",Zcr,Vx.prototype)}set submitedits(e){this.submitedits.$set(e,this,RTe,"submitedits")}get submitedits(){return this.submitedits.$get(this,RTe,"submitedits")}get submitedits(){return this[Gcr]||y((Dm=this.action(),p(Dm.rx,Function)?Dm.rx(OPOWNER|OPADMIN):Dm.rx=OPOWNER|OPADMIN,p(Dm.if,Function)?Dm.if(function(){return this.$branch}):Dm.if=function(){return this.$branch},Dm.callback=async function(){return await this.$save(),this.stopediting(),await this.$upstream.save()},Dm),this,RTe,"submitedits",Gcr,Vx.prototype)}set stopediting(e){this.stopediting.$set(e,this,MTe,"stopediting")}get stopediting(){return this.stopediting.$get(this,MTe,"stopediting")}get stopediting(){return this[Ycr]||y((Nm=this.action(),p(Nm.rx,Function)?Nm.rx(OPOWNER|OPADMIN):Nm.rx=OPOWNER|OPADMIN,p(Nm.if,Function)?Nm.if(function(){return this.$branch}):Nm.if=function(){return this.$branch},Nm.callback=function(){var e;return((e=this.$upstream)==null?void 0:e.$editing)==this&&(this.$upstream.$editing=null),Xt.go(this.$upstream.url)},Nm),this,MTe,"stopediting",Ycr,Vx.prototype)}get editing(){return!!this.$editing||this.$branch}opowneditactions(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[Sle])||(r=o=0,e=t[Sle]=e=R("op",null,"tw-af",null)),r||(e[nhr]=t._),r||((m=e[ihr])==null||m.call(e,t,Sle)),n=e[shr]("__",e),i=e[Ele](Ten),a=u=1,(s=i.run(this.obutton(this.discardedits)))||(a=u=0,i.cache(s=M(i.value,n,"min outline",null))),s[jle]&&(a||(s.label="Cancel"),(!a||u&2)&&s.flags.reconcile(s9,"min outline"),a||!s.setup||s.setup(u,i),s[l8](u)),s==e[s9]||!e[s9]&&n[NTe](e[s9]=s)||(n[lhr](s,e[s9]),e[s9]=s),c=e[Ele](Oen),d=f=1,(h=c.run(this.obutton(this.submitedits)))||(d=f=0,c.cache(h=M(c.value,n,"min yellow",null))),h[jle]&&(d||(h.label="Done editing"),(!d||f&2)&&h.flags.reconcile(l9,"min yellow"),d||!h.setup||h.setup(f,c),h[l8](f)),h==e[l9]||!e[l9]&&n[NTe](e[l9]=h)||(n[lhr](h,e[l9]),e[l9]=h),r||t.sym||!e.setup||e.setup(o,t,Sle),t.sym||e[l8](o),e}opownpagefab(){var P;var e=H(),t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;if(this.editing)return e.this=this,r=o=1,(t=e[Cle])||(r=o=0,t=e[Cle]=t=R("op",null,"tw-ai yellow hc",null)),r||(t[nhr]=e._),r||((P=t[ihr])==null||P.call(t,e,Cle)),n=t[shr]("__",t),s=a=1,(i=t[Jcr])||(s=a=0,t[Jcr]=i=R("i-global",n,null,null)),s||i.on$("beforeunload",{$_:[function(U,O){return U.returnValue="You have unsaved changes."}]},this),s||!i.setup||i.setup(a,u),i[l8](a),s||n[NTe](i),(c=t[Qcr])||(t[Qcr]=c=w("div",n,"tw-ak",null)),r||c[ahr]("Editing "),(h=t[ehr])||(t[ehr]=h=w("b",c,null,null)),d=this.aslabel,d===t[rhr]&&r||(t[thr]=h[ahr](t[rhr]=d,384,t[thr])),m=$=1,(f=t[ohr])||(m=$=0,t[ohr]=f=w("div",n,"tw-am actions",null)),b=f[Ele](Ren),x=k=1,(g=b.run(this.obutton(this.discardedits)))||(x=k=0,b.cache(g=M(b.value,f,"min outline",null))),g[jle]&&(x||(g.label="Cancel"),(!x||k&2)&&g.flags.reconcile(a9,"min outline"),x||!g.setup||g.setup(k,b),g[l8](k)),g==f[a9]||!f[a9]&&(f[a9]=g)[uhr](f)||f[a9][chr](f[a9]=g,f),_=f[Ele](Men),v=C=1,(S=_.run(this.obutton(this.submitedits)))||(v=C=0,_.cache(S=M(_.value,f,"min green pri",null))),S[jle]&&(v||(S.label="Submit"),(!v||C&2)&&S.flags.reconcile(u9,"min green pri"),v||!S.setup||S.setup(C,_),S[l8](C)),S==f[u9]||!f[u9]&&(f[u9]=S)[uhr](f)||f[u9][chr](f[u9]=S,f),m||!f.setup||f.setup($,j),f[l8]($),r||e.sym||!t.setup||t.setup(o,e,Cle),e.sym||t[l8](o),t}};E(Vx,Len,"Editable",1024);var Ule=Vx;globalThis.Editable=Ule;var Ale=Symbol(),aF=class aF extends Qe(Ale,OPMixin,Ule){constructor(){super(...arguments),super[A]||this[A](),re(this,Ale)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Ale])==null||o.call(this,...arguments)}$save(){return this.$editing?(this.$plain=this.$editing.$plain,this.$editing=null,this.$up.save()):super.$save(...arguments)}get $branch(){return!!this.$editing}set edit(e){this.edit.$set(e,this,LTe,"edit")}get edit(){return this.edit.$get(this,LTe,"edit")}get edit(){return this[Xcr]||y((Im=this.action(),p(Im.rx,Function)?Im.rx(OPOWNER|OPADMIN):Im.rx=OPOWNER|OPADMIN,p(Im.if,Function)?Im.if(function(){return!this.$branch}):Im.if=function(){return!this.$branch},Im.callback=function(){return this.$editing=new this.constructor(Object.assign({},this.$plain),this.$up,Symbol("editing_"+this.$key)),Xt.go(this.$editing.url)},Im),this,LTe,"edit",Xcr,aF.prototype)}set stopediting(e){this.stopediting.$set(e,this,DTe,"stopediting")}get stopediting(){return this.stopediting.$get(this,DTe,"stopediting")}get stopediting(){return this[Kcr]||y((Fm=this.action(),p(Fm.rx,Function)?Fm.rx(OPOWNER|OPADMIN):Fm.rx=OPOWNER|OPADMIN,p(Fm.if,Function)?Fm.if(function(){return this.$branch}):Fm.if=function(){return this.$branch},Fm.callback=function(){return this.$editing=null,Xt.go(this.url)},Fm),this,DTe,"stopediting",Kcr,aF.prototype)}};E(aF,Ale,"EditableEmbed",1112);var ITe=aF;globalThis.EditableEmbed=ITe;T();oe();ge(),$e();var FTe=Symbol("followed"),hhr=Symbol(),HTe=Symbol("follow"),phr=Symbol(),BTe=Symbol("unfollow"),dhr=Symbol(),fhr,Bh,Vh,VTe=Symbol(),zTe=Symbol(),mhr=Symbol(),Ple=Symbol(),$hr=Symbol(),yhr=Symbol(),Tle=Symbol(),bhr=Symbol.for("#getRenderContext"),Ole=Symbol.for("##up"),Rle=Symbol.for("##register"),ghr=Symbol.for("#isRichElement"),Mle=Symbol.for("#afterVisit"),khr=Symbol.for("#getSlot"),Den=Symbol.for("#placeChild"),Nen=Symbol(),c9=class c9 extends OPMixin{set followed(e){this.followed.$set(e,this,FTe,"followed")}get followed(){return this.followed.$get(this,FTe,"followed")}get followed(){return this[hhr]||y((fhr=this.memberof(function(){var e;return(e=OP.user)==null?void 0:e.following}),fhr),this,FTe,"followed",hhr,c9.prototype)}set follow(e){this.follow.$set(e,this,HTe,"follow")}get follow(){return this.follow.$get(this,HTe,"follow")}get follow(){return this[phr]||y((Bh=this.action(),p(Bh.g,Function)?Bh.g(200.1):Bh.g=200.1,p(Bh.if,Function)?Bh.if(function(){return!this.followed&&this!=OP.pov}):Bh.if=function(){return!this.followed&&this!=OP.pov},p(Bh.rx,Function)?Bh.rx(ANYONE):Bh.rx=ANYONE,Bh.callback=async function(){return await APP.ensuresignedin(),this.followed=!0},Bh),this,HTe,"follow",phr,c9.prototype)}set unfollow(e){this.unfollow.$set(e,this,BTe,"unfollow")}get unfollow(){return this.unfollow.$get(this,BTe,"unfollow")}get unfollow(){return this[dhr]||y((Vh=this.action(),p(Vh.g,Function)?Vh.g(200.1):Vh.g=200.1,p(Vh.if,Function)?Vh.if(function(){return this.followed}):Vh.if=function(){return this.followed},p(Vh.rx,Function)?Vh.rx(OPUSER):Vh.rx=OPUSER,Vh.callback=function(){return this.followed=!1},Vh),this,BTe,"unfollow",dhr,c9.prototype)}get followable(){return!0}opfollowedstat(e,t){var a;var r,o,n=H(),i,s;return r=n[bhr](VTe),i=s=1,(o=r.run(this.obutton(this.$.followed)))||(i=s=0,r.cache(o=M(r.value,null,null,null))),i||(o[Ole]=n._),i||((a=o[Rle])==null||a.call(o,n,VTe)),o[ghr]&&(i||n.sym||!o.setup||o.setup(s,n,VTe),n.sym||o[Mle](s)),o}opfollowedbutton(e,t){var u;var r,o,n=H(),i,s;let a=e.value?"Following":"Follow";return r=n[bhr](zTe),i=s=1,(o=r.run(this.obutton(e.value?this.unfollow:this.follow)))||(i=s=0,r.cache(o=M(r.value,null,null,null))),i||(o[Ole]=n._),i||((u=o[Rle])==null||u.call(o,n,zTe)),o[ghr]&&(i||o.on$("optip",{},this),a===o[mhr]||(o.label=o[mhr]=a),i||n.sym||!o.setup||o.setup(s,n,zTe),n.sym||o[Mle](s)),o}opfollowedtip(e,t){var c;var r,o,n=H(),i,s,a,u;return i=s=1,(o=n[Ple])||(i=s=0,o=n[Ple]=o=R("op",null,null,null)),i||(o[Ole]=n._),i||((c=o[Rle])==null||c.call(o,n,Ple)),a=o[khr]("__",o),(u=o[$hr])||(o[$hr]=u=w("div",a,null,null)),r=null,e.value?r="You are following":r="Follow to get updates",o[yhr]=u[Den](r,0,o[yhr]),i||n.sym||!o.setup||o.setup(s,n,Ple),n.sym||o[Mle](s),o}opfollowtip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Tle])||(r=o=0,e=t[Tle]=e=R("op",null,null,"Follow to get quick access to this in the sidebar and to get notified about activity.")),r||(e[Ole]=t._),r||((i=e[Rle])==null||i.call(e,t,Tle)),n=e[khr]("__",e),r||t.sym||!e.setup||e.setup(o,t,Tle),t.sym||e[Mle](o),e}};E(c9,Nen,"Followable",1024);var qTe=c9;globalThis.Followable=qTe;T();oe();ge(),dt(),$e();var WTe=Symbol("paypal_email"),_hr=Symbol(),ZTe=Symbol("wise_username"),xhr=Symbol(),GTe=Symbol("invoice_email"),vhr=Symbol(),YTe=Symbol("payout_method"),whr=Symbol(),XTe=Symbol("id"),Shr=Symbol(),KTe=Symbol("name"),Chr=Symbol(),JTe=Symbol("owner"),Ehr=Symbol(),QTe=Symbol("percent_fee"),jhr=Symbol(),eOe=Symbol("revshare"),Ahr=Symbol(),tOe=Symbol("duration"),Uhr=Symbol(),rOe=Symbol("duration_in_months"),Phr=Symbol(),oOe=Symbol("offer"),Thr=Symbol(),nOe=Symbol("links"),Ohr=Symbol(),iOe=Symbol("replace_promocode"),Rhr=Symbol(),sOe=Symbol("apply_promocode"),Mhr=Symbol(),lOe=Symbol("_apply_promocode"),Lhr=Symbol(),aOe=Symbol("create_affiliate_link"),Dhr=Symbol(),uOe=Symbol("afl"),Nhr=Symbol(),cOe=Symbol("session"),Ihr=Symbol(),hOe=Symbol("user"),Fhr=Symbol(),pOe=Symbol("url"),Hhr=Symbol(),dOe=Symbol("id"),Bhr=Symbol(),fOe=Symbol("click_count"),Vhr=Symbol(),mOe=Symbol("ref"),zhr=Symbol(),$Oe=Symbol("owner"),qhr=Symbol(),yOe=Symbol("program"),Whr=Symbol(),bOe=Symbol("revshare"),Zhr=Symbol(),gOe=Symbol("offer"),Ghr=Symbol(),kOe=Symbol("overview"),Yhr=Symbol(),_Oe=Symbol("url"),Xhr=Symbol(),xOe=Symbol("remove_promocode"),Khr=Symbol(),vOe=Symbol("tracked"),Jhr=Symbol(),wOe=Symbol("replace_promocode"),Qhr=Symbol(),SOe=Symbol("apply_promocode"),epr=Symbol(),COe=Symbol("_apply_promocode"),tpr=Symbol(),EOe=Symbol("via"),rpr=Symbol(),jOe=Symbol("via_ts"),opr=Symbol(),AOe=Symbol("via_user"),npr=Symbol(),UOe=Symbol("via"),ipr=Symbol(),POe=Symbol("via_ts"),spr=Symbol(),TOe=Symbol("via_user"),lpr=Symbol(),OOe=Symbol("afl_payout_details"),apr=Symbol(),ROe=Symbol("afp"),upr=Symbol(),MOe=Symbol("afps"),cpr=Symbol(),LOe=Symbol("afls"),hpr=Symbol(),DOe=Symbol("afl_visitors"),ppr=Symbol(),NOe=Symbol("afl_signups"),dpr=Symbol(),IOe=Symbol("afl_subscriptions"),fpr=Symbol(),FOe=Symbol("afl_payments"),mpr=Symbol(),HOe=Symbol("afl_payouts"),$pr=Symbol(),BOe=Symbol("create_coupon"),ypr=Symbol(),VOe=Symbol("create_affiliate_link"),bpr=Symbol(),zOe=Symbol("create_affiliate_program"),gpr=Symbol(),uF,cF,hF,pF,a8,Hm,pd,dF,u8,c8,h8,p8,d8,Aa,Ua,Bm,k1r=le("&.active?",globalThis,l=>l.active),kpr=Symbol(),_pr=Symbol(),qOe=Symbol(),xpr=Symbol(),vpr=Symbol(),WOe=Symbol(),wpr=Symbol(),Spr=Symbol(),Cpr=Symbol(),Epr=Symbol(),jpr=Symbol(),Apr=Symbol(),Upr=Symbol(),Ppr=Symbol(),h9,fF,ZOe,GOe,Tpr,f8,Hf,dd,YOe=Symbol(),Opr=Symbol(),Rpr=Symbol(),fd,md,Wu,XOe=Symbol(),Mpr=Symbol(),Lpr=Symbol(),Dpr,mF,m8,Pa,Lle,Ta,Oa,Vm,Npr=Symbol(),Ipr=Symbol(),Dle=Symbol(),Fpr=Symbol(),KOe=Symbol(),Hpr=Symbol(),Bpr=Symbol(),Vpr=Symbol(),zpr=Symbol(),qpr=Symbol(),Wpr=Symbol(),Zpr=Symbol(),Gpr=Symbol(),Ypr=Symbol(),Xpr=Symbol(),Kpr=Symbol(),Jpr=Symbol(),Qpr=Symbol(),e1r=Symbol(),t1r=Symbol(),r1r=Symbol(),o1r=Symbol(),n1r=Symbol(),i1r,s1r,$8,l1r,a1r,$F,yF,y8,bF,Zu,Gu,Yu,xl,Ien=le("&.activated?",globalThis,l=>l.activated),Fen=le("&.nonzero?",globalThis,l=>l.nonzero),u1r=le("&.thismode?",globalThis,l=>l.thismode),Xu,Hen=le("&.commission_eligible?",globalThis,l=>l.commission_eligible),Ku,kVn=le("!&.livemode",globalThis,l=>!l.livemode),Ben=le("&.livemode",globalThis,l=>l.livemode),JOe=Symbol(),c1r=Symbol(),h1r=Symbol(),Ven=Symbol(),p1r=Symbol(),QOe=Symbol(),d1r=Symbol(),f1r=Symbol(),zen=Symbol(),m1r=Symbol(),zm,p9,qm,Xc=Symbol.for("##up"),Bf=Symbol.for("##register"),Vf=Symbol.for("#afterVisit"),Jl=Symbol.for("#placeChild"),qen=Symbol.for("#getSlot"),eRe=Symbol.for("#appendChild"),tRe=Symbol.for("#visit"),$1r=Symbol.for("#getDynamicContext"),y1r=Symbol.for("#isRichElement"),Wen=Symbol(),zx=class zx extends OPEmbed{set paypal_email(e){this.paypal_email.$set(e,this,WTe,"paypal_email")}get paypal_email(){return this.paypal_email.$get(this,WTe,"paypal_email")}get paypal_email(){return this[_hr]||y((uF=this.emailstring(),p(uF.editable,Function)?uF.editable():uF.editable=!0,uF),this,WTe,"paypal_email",_hr,zx.prototype)}set wise_username(e){this.wise_username.$set(e,this,ZTe,"wise_username")}get wise_username(){return this.wise_username.$get(this,ZTe,"wise_username")}get wise_username(){return this[xhr]||y((cF=this.string(),p(cF.editable,Function)?cF.editable():cF.editable=!0,cF),this,ZTe,"wise_username",xhr,zx.prototype)}set invoice_email(e){this.invoice_email.$set(e,this,GTe,"invoice_email")}get invoice_email(){return this.invoice_email.$get(this,GTe,"invoice_email")}get invoice_email(){return this[vhr]||y((hF=this.emailstring(),p(hF.editable,Function)?hF.editable():hF.editable=!0,hF),this,GTe,"invoice_email",vhr,zx.prototype)}set payout_method(e){this.payout_method.$set(e,this,YTe,"payout_method")}get payout_method(){return this.payout_method.$get(this,YTe,"payout_method")}get payout_method(){return this[whr]||y((pF=this.enum({wise:{default:!0},paypal:{}}),p(pF.editable,Function)?pF.editable():pF.editable=!0,pF),this,YTe,"payout_method",whr,zx.prototype)}};E(zx,Wen,"AffiliatePayoutDetails",0);var Fle=zx;globalThis.AffiliatePayoutDetails=Fle;var Nle=Symbol(),vl=class vl extends Qe(Nle,OPObject,Followable){constructor(){super(...arguments),super[A]||this[A](),re(this,Nle)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Nle])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,XTe,"id")}get id(){return this.id.$get(this,XTe,"id")}get id(){return this[Shr]||y((a8=this.key(),p(a8.r,Function)?a8.r(OWNER|ADMIN):a8.r=OWNER|ADMIN,p(a8.cwd,Function)?a8.cwd(ADMIN):a8.cwd=ADMIN,a8),this,XTe,"id",Shr,vl.prototype)}set name(e){this.name.$set(e,this,KTe,"name")}get name(){return this.name.$get(this,KTe,"name")}get name(){return this[Chr]||y((Hm=this.string(),p(Hm.stat,Function)?Hm.stat():Hm.stat=!0,p(Hm.editable,Function)?Hm.editable():Hm.editable=!0,Hm.default=function(){return OP.random.ref()},Hm),this,KTe,"name",Chr,vl.prototype)}set owner(e){this.owner.$set(e,this,JTe,"owner")}get owner(){return this.owner.$get(this,JTe,"owner")}get owner(){return this[Ehr]||y((pd=this.ref(User),p(pd.vias,Function)?pd.vias(OWNER):pd.vias=OWNER,p(pd.label,Function)?pd.label("By"):pd.label="By",p(pd.stat,Function)?pd.stat():pd.stat=!0,pd),this,JTe,"owner",Ehr,vl.prototype)}set percent_fee(e){this.percent_fee.$set(e,this,QTe,"percent_fee")}get percent_fee(){return this.percent_fee.$get(this,QTe,"percent_fee")}get percent_fee(){return this[jhr]||y((dF=this.int(),p(dF.label,Function)?dF.label("Percent share"):dF.label="Percent share",dF),this,QTe,"percent_fee",jhr,vl.prototype)}set revshare(e){this.revshare.$set(e,this,eOe,"revshare")}get revshare(){return this.revshare.$get(this,eOe,"revshare")}get revshare(){return this[Ahr]||y((u8=this.int(),p(u8.clamp,Function)?u8.clamp(0,100):u8.clamp=0,p(u8.stat,Function)?u8.stat():u8.stat=!0,u8),this,eOe,"revshare",Ahr,vl.prototype)}set duration(e){this.duration.$set(e,this,tOe,"duration")}get duration(){return this.duration.$get(this,tOe,"duration")}get duration(){return this[Uhr]||y((c8=this.enum({once:{default:!0},forever:{},repeating:{}}),p(c8.stat,Function)?c8.stat():c8.stat=!0,p(c8.editable,Function)?c8.editable():c8.editable=!0,c8),this,tOe,"duration",Uhr,vl.prototype)}set duration_in_months(e){this.duration_in_months.$set(e,this,rOe,"duration_in_months")}get duration_in_months(){return this.duration_in_months.$get(this,rOe,"duration_in_months")}get duration_in_months(){return this[Phr]||y((h8=this.int(),p(h8.stat,Function)?h8.stat():h8.stat=!0,p(h8.editable,Function)?h8.editable():h8.editable=!0,h8),this,rOe,"duration_in_months",Phr,vl.prototype)}set offer(e){this.offer.$set(e,this,oOe,"offer")}get offer(){return this.offer.$get(this,oOe,"offer")}get offer(){return this[Thr]||y((p8=this.ref(StripePromoCode),p(p8.stat,Function)?p8.stat():p8.stat=!0,p(p8.editable,Function)?p8.editable():p8.editable=!0,p8),this,oOe,"offer",Thr,vl.prototype)}set links(e){this.links.$set(e,this,nOe,"links")}get links(){return this.links.$get(this,nOe,"links")}get links(){return this[Ohr]||y((d8=this.coll(zf,{layout:"table"}),p(d8.tab,Function)?d8.tab():d8.tab=!0,p(d8.nofilter,Function)?d8.nofilter():d8.nofilter=!0,d8),this,nOe,"links",Ohr,vl.prototype)}set replace_promocode(e){this.replace_promocode.$set(e,this,iOe,"replace_promocode")}get replace_promocode(){return this.replace_promocode.$get(this,iOe,"replace_promocode")}get replace_promocode(){return this[Rhr]||y((Aa=this.action(),p(Aa.x,Function)?Aa.x(ADMIN):Aa.x=ADMIN,p(Aa.if,Function)?Aa.if(function(){return this.offer}):Aa.if=function(){return this.offer},p(Aa.icon,Function)?Aa.icon("coupon"):Aa.icon="coupon",p(Aa.g,Function)?Aa.g(50):Aa.g=50,Aa.callback=function(){return this._apply_promocode()},Aa),this,iOe,"replace_promocode",Rhr,vl.prototype)}set apply_promocode(e){this.apply_promocode.$set(e,this,sOe,"apply_promocode")}get apply_promocode(){return this.apply_promocode.$get(this,sOe,"apply_promocode")}get apply_promocode(){return this[Mhr]||y((Ua=this.action(),p(Ua.x,Function)?Ua.x(ADMIN):Ua.x=ADMIN,p(Ua.if,Function)?Ua.if(function(){return!this.offer}):Ua.if=function(){return!this.offer},p(Ua.icon,Function)?Ua.icon("coupon"):Ua.icon="coupon",p(Ua.g,Function)?Ua.g(50):Ua.g=50,Ua.callback=function(){return this._apply_promocode()},Ua),this,sOe,"apply_promocode",Mhr,vl.prototype)}set _apply_promocode(e){this._apply_promocode.$set(e,this,lOe,"_apply_promocode")}get _apply_promocode(){return this._apply_promocode.$get(this,lOe,"_apply_promocode")}get _apply_promocode(){return this[Lhr]||y((Bm=this.action(),p(Bm.x,Function)?Bm.x(ADMIN):Bm.x=ADMIN,p(Bm.icon,Function)?Bm.icon("coupon"):Bm.icon="coupon",Bm.callback=async function(){var s;var e,t={},r,o;await APP.stripe.data;let n=StripePromoCode.all(k1r).ordered("times_redeemed","desc"),i=await(r=o=0,e=e=R("op-palette",null,null,null),r||(e[Xc]=t._),r||((s=e[Bf])==null||s.call(e,t,kpr)),r||(e.popup__={picker:!0,autofocus:!0}),r||(e.popup="popup"),n===e[_pr]||(e.items=e[_pr]=n),r||t.sym||!e.setup||e.setup(o,t,kpr),t.sym||e[Vf](o),e);if(i)return this.offer=i,await this.save(),OP.toast("Applied promo-code "+i.aslabel+" to affiliate program "+this.name)},Bm),this,lOe,"_apply_promocode",Lhr,vl.prototype)}opownpagetitle(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[qOe])||(r=o=0,e=t[qOe]=e=w("h2",null,null,null)),r||(e[Xc]=t._),r||((i=e[Bf])==null||i.call(e,t,qOe)),r||e[Jl]("Affiliate Program: "),n=this.name,n===e[vpr]&&r||(e[xpr]=e[Jl](e[vpr]=n,256,e[xpr])),e}opownpilabel(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[WOe])||(r=o=0,e=t[WOe]=e=w("span",null,"tn-ah",null)),r||(e[Xc]=t._),r||((h=e[Bf])==null||h.call(e,t,WOe)),(n=e[wpr])||(e[wpr]=n=w("span",e,"tn-ai",null)),i=this.name,i===e[Cpr]&&r||(e[Spr]=n[Jl](e[Cpr]=i,384,e[Spr])),(s=e[Epr])||(e[Epr]=s=w("span",e,"tn-aj",null)),a=this.revshare,a===e[Apr]&&r||(e[jpr]=s[Jl](e[Apr]=a,128,e[jpr])),r||s[Jl]("%"),(u=e[Upr])||(e[Upr]=u=w("span",e,"tn-ak",null)),c=this.duration,c===e[Ppr]||u.text$(String(e[Ppr]=c)),e}get icon(){return Icon.enum("affiliateprogram")}set create_affiliate_link(e){this.create_affiliate_link.$set(e,this,aOe,"create_affiliate_link")}get create_affiliate_link(){return this.create_affiliate_link.$get(this,aOe,"create_affiliate_link")}get create_affiliate_link(){return this[Dhr]||y((h9=this.action(),p(h9.rx,Function)?h9.rx(OPADMIN|OPSRV):h9.rx=OPADMIN|OPSRV,h9.callback=async function(e,t){if(t||=e.id,!t.match(/^[a-zA-Z0-9\_\-]+$/))throw"ref can only contain letters and numbers";let r=await zf.for({ref:t});return r.exists||(r.set({owner:e,revshare:this.revshare,offer:this.offer}),await r.save()),e.afp||await e.update({afp:this.id}),!0},h9),this,aOe,"create_affiliate_link",Dhr,vl.prototype)}};vl.alias="afp",E(vl,Nle,"AffiliateProgram",80);var d9=vl;globalThis.AffiliateProgram=d9;var Zen=Symbol(),Wm=class Wm extends OPObject{set afl(e){this.afl.$set(e,this,uOe,"afl")}get afl(){return this.afl.$get(this,uOe,"afl")}get afl(){return this[Nhr]||y((fF=this.ref(zf),p(fF.vias,Function)?fF.vias(OPOWNER):fF.vias=OPOWNER,fF),this,uOe,"afl",Nhr,Wm.prototype)}set session(e){this.session.$set(e,this,cOe,"session")}get session(){return this.session.$get(this,cOe,"session")}get session(){return this[Ihr]||y((ZOe=this.ref(OPSession),ZOe.default=function(){return OP.session},ZOe),this,cOe,"session",Ihr,Wm.prototype)}set user(e){this.user.$set(e,this,hOe,"user")}get user(){return this.user.$get(this,hOe,"user")}get user(){return this[Fhr]||y((GOe=this.ref(User),GOe.default=function(){var e;return(e=this.session)==null?void 0:e.user},GOe),this,hOe,"user",Fhr,Wm.prototype)}set url(e){this.url.$set(e,this,pOe,"url")}get url(){return this.url.$get(this,pOe,"url")}get url(){return this[Hhr]||y((Tpr=this.url(),Tpr),this,pOe,"url",Hhr,Wm.prototype)}};Wm.alias="aflc",Wm.pgafter=!1,E(Wm,Zen,"AffiliateClick",0);var rRe=Wm;globalThis.AffiliateClick=rRe;var Ile=Symbol(),Ws=class Ws extends Qe(Ile,OPObject,Editable){constructor(){super(...arguments),super[A]||this[A](),re(this,Ile)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Ile])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,dOe,"id")}get id(){return this.id.$get(this,dOe,"id")}get id(){return this[Bhr]||y((f8=this.key(),p(f8.r,Function)?f8.r(OWNER|ADMIN):f8.r=OWNER|ADMIN,p(f8.cwd,Function)?f8.cwd(ADMIN):f8.cwd=ADMIN,f8),this,dOe,"id",Bhr,Ws.prototype)}get aslabel(){return this.ref}get asicon(){return"link"}set click_count(e){this.click_count.$set(e,this,fOe,"click_count")}get click_count(){return this.click_count.$get(this,fOe,"click_count")}get click_count(){return this[Vhr]||y((Hf=this.int(),p(Hf.label,Function)?Hf.label("Clicks"):Hf.label="Clicks",p(Hf.stat,Function)?Hf.stat():Hf.stat=!0,Hf.default=function(){return 0},Hf.default.literal=0,Hf),this,fOe,"click_count",Vhr,Ws.prototype)}set ref(e){this.ref.$set(e,this,mOe,"ref")}get ref(){return this.ref.$get(this,mOe,"ref")}get ref(){return this[zhr]||y((dd=this.string(),p(dd.unique,Function)?dd.unique():dd.unique=!0,p(dd.label,Function)?dd.label("ID"):dd.label="ID",p(dd.stat,Function)?dd.stat():dd.stat=!0,dd),this,mOe,"ref",zhr,Ws.prototype)}oprefstatvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[YOe])||(r=o=0,e=t[YOe]=e=w("span",null,null,null)),r||(e[Xc]=t._),r||((i=e[Bf])==null||i.call(e,t,YOe)),r||e[Jl]("?via="),n=this.ref,n===e[Rpr]&&r||(e[Opr]=e[Jl](e[Rpr]=n,256,e[Opr])),e}set owner(e){this.owner.$set(e,this,$Oe,"owner")}get owner(){return this.owner.$get(this,$Oe,"owner")}get owner(){return this[qhr]||y((fd=this.parent(User),p(fd.as,Function)?fd.as(OWNER):fd.as=OWNER,p(fd.vias,Function)?fd.vias(OWNER):fd.vias=OWNER,p(fd.stat,Function)?fd.stat():fd.stat=!0,fd),this,$Oe,"owner",qhr,Ws.prototype)}set program(e){this.program.$set(e,this,yOe,"program")}get program(){return this.program.$get(this,yOe,"program")}get program(){return this[Whr]||y((md=this.parent(d9),p(md.stat,Function)?md.stat():md.stat=!0,p(md.options,Function)?md.options(function(){return this.owner.afps}):md.options=function(){return this.owner.afps},p(md.g,Function)?md.g(.5):md.g=.5,md),this,yOe,"program",Whr,Ws.prototype)}set revshare(e){this.revshare.$set(e,this,bOe,"revshare")}get revshare(){return this.revshare.$get(this,bOe,"revshare")}get revshare(){return this[Zhr]||y((Wu=this.int(),p(Wu.clamp,Function)?Wu.clamp(0,100):Wu.clamp=0,p(Wu.stat,Function)?Wu.stat():Wu.stat=!0,p(Wu.fallback,Function)?Wu.fallback(function(){var e;return((e=this.program)==null?void 0:e.revshare)||0}):Wu.fallback=function(){var e;return((e=this.program)==null?void 0:e.revshare)||0},p(Wu.label,Function)?Wu.label("Commission"):Wu.label="Commission",Wu),this,bOe,"revshare",Zhr,Ws.prototype)}oprevsharestatvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[XOe])||(r=o=0,e=t[XOe]=e=w("span",null,null,null)),r||(e[Xc]=t._),r||((i=e[Bf])==null||i.call(e,t,XOe)),n=this.revshare,n===e[Lpr]&&r||(e[Mpr]=e[Jl](e[Lpr]=n,128,e[Mpr])),r||e[Jl]("%"),e}set offer(e){this.offer.$set(e,this,gOe,"offer")}get offer(){return this.offer.$get(this,gOe,"offer")}get offer(){return this[Ghr]||y((Dpr=this.ref(StripePromoCode),Dpr),this,gOe,"offer",Ghr,Ws.prototype)}set overview(e){this.overview.$set(e,this,kOe,"overview")}get overview(){return this.overview.$get(this,kOe,"overview")}get overview(){return this[Yhr]||y((mF=this.embed(),p(mF.tab,Function)?mF.tab():mF.tab=!0,mF),this,kOe,"overview",Yhr,Ws.prototype)}set url(e){this.url.$set(e,this,_Oe,"url")}get url(){return this.url.$get(this,_Oe,"url")}get url(){return this[Xhr]||y((m8=this.string(),p(m8.w,Function)?m8.w(0):m8.w=0,p(m8.fallback,Function)?m8.fallback(function(){return OP.origin+("/?via="+this.ref)}):m8.fallback=function(){return OP.origin+("/?via="+this.ref)},m8),this,_Oe,"url",Xhr,Ws.prototype)}set remove_promocode(e){this.remove_promocode.$set(e,this,xOe,"remove_promocode")}get remove_promocode(){return this.remove_promocode.$get(this,xOe,"remove_promocode")}get remove_promocode(){return this[Khr]||y((Pa=this.action(),p(Pa.if,Function)?Pa.if(function(){return this.offer}):Pa.if=function(){return this.offer},p(Pa.danger,Function)?Pa.danger():Pa.danger=!0,p(Pa.x,Function)?Pa.x(ADMIN):Pa.x=ADMIN,p(Pa.g,Function)?Pa.g(902):Pa.g=902,Pa.callback=async function(){return this.offer=null,await this.save()},Pa),this,xOe,"remove_promocode",Khr,Ws.prototype)}set tracked(e){this.tracked.$set(e,this,vOe,"tracked")}get tracked(){return this.tracked.$get(this,vOe,"tracked")}get tracked(){return this[Jhr]||y((Lle=this.bool(),Lle.default=function(){return!1},Lle.default.literal=!1,Lle),this,vOe,"tracked",Jhr,Ws.prototype)}set replace_promocode(e){this.replace_promocode.$set(e,this,wOe,"replace_promocode")}get replace_promocode(){return this.replace_promocode.$get(this,wOe,"replace_promocode")}get replace_promocode(){return this[Qhr]||y((Ta=this.action(),p(Ta.x,Function)?Ta.x(ADMIN):Ta.x=ADMIN,p(Ta.if,Function)?Ta.if(function(){return this.offer}):Ta.if=function(){return this.offer},p(Ta.icon,Function)?Ta.icon("coupon"):Ta.icon="coupon",p(Ta.g,Function)?Ta.g(50):Ta.g=50,Ta.callback=function(){return this._apply_promocode()},Ta),this,wOe,"replace_promocode",Qhr,Ws.prototype)}set apply_promocode(e){this.apply_promocode.$set(e,this,SOe,"apply_promocode")}get apply_promocode(){return this.apply_promocode.$get(this,SOe,"apply_promocode")}get apply_promocode(){return this[epr]||y((Oa=this.action(),p(Oa.x,Function)?Oa.x(ADMIN):Oa.x=ADMIN,p(Oa.if,Function)?Oa.if(function(){return!this.offer}):Oa.if=function(){return!this.offer},p(Oa.icon,Function)?Oa.icon("coupon"):Oa.icon="coupon",p(Oa.g,Function)?Oa.g(50):Oa.g=50,Oa.callback=function(){return this._apply_promocode()},Oa),this,SOe,"apply_promocode",epr,Ws.prototype)}set _apply_promocode(e){this._apply_promocode.$set(e,this,COe,"_apply_promocode")}get _apply_promocode(){return this._apply_promocode.$get(this,COe,"_apply_promocode")}get _apply_promocode(){return this[tpr]||y((Vm=this.action(),p(Vm.x,Function)?Vm.x(ADMIN):Vm.x=ADMIN,p(Vm.icon,Function)?Vm.icon("coupon"):Vm.icon="coupon",Vm.callback=async function(){var s;var e,t={},r,o;await APP.stripe.data;let n=StripePromoCode.all(k1r).ordered("times_redeemed","desc"),i=await(r=o=0,e=e=R("op-palette",null,null,null),r||(e[Xc]=t._),r||((s=e[Bf])==null||s.call(e,t,Npr)),r||(e.popup__={picker:!0,autofocus:!0}),r||(e.popup="popup"),n===e[Ipr]||(e.items=e[Ipr]=n),r||t.sym||!e.setup||e.setup(o,t,Npr),t.sym||e[Vf](o),e);if(i)return this.offer=i,await this.save(),OP.toast("Applied promo-code "+i.aslabel+" to affiliate link via="+this.ref)},Vm),this,COe,"_apply_promocode",tpr,Ws.prototype)}opoverviewpagebody(){var m;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f;return t.this=this,o=t[Dle]=t[Dle]||new Map,n=i=1,(r=o.get(s=this))||(n=i=0,o.set(s,r=R("op",null,"tn-ao",null))),n||(r[Xc]=t._),n||((m=r[Bf])==null||m.call(r,t,Dle)),a=r[qen]("__",r),n||(u=w("h2",a,null,"The Affiliate Dashboard has moved to your organisation.")),h=d=1,(c=r[Fpr])||(h=d=0,r[Fpr]=c=R("op-button",a,"tn-aq",null)),h||(c.label="Go to the new dashboard"),h||c.on$("click",{$_:[function($,b){var g;return Xt.go(""+((g=t.this.owner)==null?void 0:g.url)+":affiliate")}]},this),h||!c.setup||c.setup(d,f),c[Vf](d),h||a[eRe](c),n||t.sym||!r.setup||r.setup(i,t,Dle),t.sym||r[Vf](i),r}opownli(){var W,z;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return t.this=this,n=i=1,(o=t[KOe])||(n=i=0,o=t[KOe]=o=w("section",null,"xli",null)),n||(o[Xc]=t._),n||((W=o[Bf])==null||W.call(o,t,KOe)),s=this,s===o[Hpr]||(o.odata=o[Hpr]=s),a=o[Bpr]||(o[Bpr]={options:[null]}),s=this,s===a.options[0]||(a.options[0]=s,i|=48),n||o.on$("opmenu",a,this),i&32&&(i^=32,(z=a[tRe])==null||z.call(a)),c=h=1,(u=o[Vpr])||(c=h=0,o[Vpr]=u=R("op-icon",o,"tn-as",null)),c||(u.data="coupon"),c||!u.setup||u.setup(h,d),u[Vf](h),c||o[eRe](u),(f=o[zpr])||(o[zpr]=f=w("section",o,null,null)),$=b=1,(m=o[qpr])||($=b=0,o[qpr]=m=w("h2",f,"tn-au",null)),$||m.on$("press",{$_:[function(q,Y){var K;return Xt.go(""+((K=t.this.owner)==null?void 0:K.url)+":affiliate")}]},this),g=OP.origin,g===o[Zpr]&&$||(o[Wpr]=m[Jl](o[Zpr]=g,128,o[Wpr])),$||m[Jl]("?via="),(x=o[Gpr])||(o[Gpr]=x=w("b",m,"tn-av",null)),k=this.ref,k===o[Xpr]&&$||(o[Ypr]=x[Jl](o[Xpr]=k,384,o[Ypr])),n||(_=w("hr",f,null,null)),(S=o[Kpr])||(o[Kpr]=S=w("span",f,null,null)),v=this.revshare,v===o[Qpr]&&n||(o[Jpr]=S[Jl](o[Qpr]=v,128,o[Jpr])),n||S[Jl]("% Commission"),r=null,this.offer&&(C=j=1,(r=o[e1r])||(C=j=0,o[e1r]=r=w("span",null,null,"Coupon applied")),C||(r[Xc]=f),P=this.offer,P===r[t1r]||(r.optip=r[t1r]=P)),o[r1r]=f[Jl](r,0,o[r1r]),O=L=1,(U=o[o1r])||(O=L=0,o[o1r]=U=w("span",f,null,null)),O||U.on$("press",{stop:!0,trap:!0,prevent:!0,$_:[function(q,Y){return OP.copystr(t.this.url)}]},this),F=N=1,(I=o[n1r])||(F=N=0,o[n1r]=I=R("op-icon",U,null,null)),F||(I.data="clipboard"),F||!I.setup||I.setup(N,V),I[Vf](N),F||U[eRe](I),O||U[Jl]("Copy"),o}};Ws.alias="afl",E(Ws,Ile,"AffiliateLink",80);var zf=Ws;globalThis.AffiliateLink=zf;var Gen=Symbol(),oRe=class oRe{set via(e){this.via.$set(e,this,EOe,"via")}get via(){return this.via.$get(this,EOe,"via")}get via(){return this[rpr]||y((i1r=this.ref(zf),i1r),this,EOe,"via",rpr,OPSession.prototype)}set via_ts(e){this.via_ts.$set(e,this,jOe,"via_ts")}get via_ts(){return this.via_ts.$get(this,jOe,"via_ts")}get via_ts(){return this[opr]||y((s1r=this.ts(),s1r),this,jOe,"via_ts",opr,OPSession.prototype)}set via_user(e){this.via_user.$set(e,this,AOe,"via_user")}get via_user(){return this.via_user.$get(this,AOe,"via_user")}get via_user(){return this[npr]||y(($8=this.ref(OPUser),p($8.as,Function)?$8.as(REFERRER):$8.as=REFERRER,p($8.vias,Function)?$8.vias({[OPOWNER]:REFERRER}):$8.vias={[OPOWNER]:REFERRER},$8),this,AOe,"via_user",npr,OPSession.prototype)}};E(oRe,Gen,"OPSession",1,OPSession);var b1r=oRe,Yen=Symbol(),nRe=class nRe{set via(e){this.via.$set(e,this,UOe,"via")}get via(){return this.via.$get(this,UOe,"via")}get via(){return this[ipr]||y((l1r=this.ref(zf),l1r),this,UOe,"via",ipr,OPUser.prototype)}set via_ts(e){this.via_ts.$set(e,this,POe,"via_ts")}get via_ts(){return this.via_ts.$get(this,POe,"via_ts")}get via_ts(){return this[spr]||y((a1r=this.ts(),a1r),this,POe,"via_ts",spr,OPUser.prototype)}set via_user(e){this.via_user.$set(e,this,TOe,"via_user")}get via_user(){return this.via_user.$get(this,TOe,"via_user")}get via_user(){return this[lpr]||y(($F=this.ref(OPUser),p($F.as,Function)?$F.as(REFERRER):$F.as=REFERRER,$F),this,TOe,"via_user",lpr,OPUser.prototype)}set afl_payout_details(e){this.afl_payout_details.$set(e,this,OOe,"afl_payout_details")}get afl_payout_details(){return this.afl_payout_details.$get(this,OOe,"afl_payout_details")}get afl_payout_details(){return this[apr]||y((yF=this.embed(Fle),p(yF.r,Function)?yF.r(OWNER|ADMIN):yF.r=OWNER|ADMIN,yF),this,OOe,"afl_payout_details",apr,OPUser.prototype)}set afp(e){this.afp.$set(e,this,ROe,"afp")}get afp(){return this.afp.$get(this,ROe,"afp")}get afp(){return this[upr]||y((y8=this.ref(d9),p(y8.r,Function)?y8.r(OWNER|ADMIN):y8.r=OWNER|ADMIN,p(y8.w,Function)?y8.w(ADMIN):y8.w=ADMIN,y8),this,ROe,"afp",upr,OPUser.prototype)}set afps(e){this.afps.$set(e,this,MOe,"afps")}get afps(){return this.afps.$get(this,MOe,"afps")}get afps(){return this[cpr]||y((bF=this.coll(d9,{layout:"table",name:"Affiliate Programs"}),p(bF.r,Function)?bF.r(OWNER|ADMIN):bF.r=OWNER|ADMIN,bF),this,MOe,"afps",cpr,OPUser.prototype)}set afls(e){this.afls.$set(e,this,LOe,"afls")}get afls(){return this.afls.$get(this,LOe,"afls")}get afls(){return this[hpr]||y((Zu=this.coll2(zf.$.owner),p(Zu.r,Function)?Zu.r(OWNER|ADMIN):Zu.r=OWNER|ADMIN,p(Zu.label,Function)?Zu.label("Affiliate Links"):Zu.label="Affiliate Links",p(Zu.table,Function)?Zu.table({props:{url:{flg:1},program:{},revshare:{},offer:{kind:"chip",align:"right"}}}):Zu.table={props:{url:{flg:1},program:{},revshare:{},offer:{kind:"chip",align:"right"}}},p(Zu.sorted,Function)?Zu.sorted({_cre:-1}):Zu.sorted={_cre:-1},Zu),this,LOe,"afls",hpr,OPUser.prototype)}set afl_visitors(e){this.afl_visitors.$set(e,this,DOe,"afl_visitors")}get afl_visitors(){return this.afl_visitors.$get(this,DOe,"afl_visitors")}get afl_visitors(){return this[ppr]||y((Gu=this.coll2(OPSession.$.via_user),p(Gu.r,Function)?Gu.r(OWNER|ADMIN):Gu.r=OWNER|ADMIN,p(Gu.label,Function)?Gu.label("Visitors"):Gu.label="Visitors",p(Gu.table,Function)?Gu.table({country:{kind:"icon",size:"lg"},_cre:{name:"time of visit"},landing_page:{name:"Landing page"},referrer:{flg:1},offer:{name:"Discount available",kind:"chip"}}):Gu.table={country:{kind:"icon",size:"lg"},_cre:{name:"time of visit"},landing_page:{name:"Landing page"},referrer:{flg:1},offer:{name:"Discount available",kind:"chip"}},p(Gu.sorted,Function)?Gu.sorted({_cre:-1}):Gu.sorted={_cre:-1},Gu),this,DOe,"afl_visitors",ppr,OPUser.prototype)}set afl_signups(e){this.afl_signups.$set(e,this,NOe,"afl_signups")}get afl_signups(){return this.afl_signups.$get(this,NOe,"afl_signups")}get afl_signups(){return this[dpr]||y((Yu=this.coll2(User.$.via_user),p(Yu.r,Function)?Yu.r(OWNER|ADMIN):Yu.r=OWNER|ADMIN,p(Yu.label,Function)?Yu.label("Signups"):Yu.label="Signups",p(Yu.table,Function)?Yu.table({country:{kind:"icon",size:"lg"},_cre:{name:"signup date",flg:1},offer:{name:"Discount available",kind:"chip"}}):Yu.table={country:{kind:"icon",size:"lg"},_cre:{name:"signup date",flg:1},offer:{name:"Discount available",kind:"chip"}},p(Yu.sorted,Function)?Yu.sorted({_cre:-1}):Yu.sorted={_cre:-1},Yu),this,NOe,"afl_signups",dpr,OPUser.prototype)}set afl_subscriptions(e){this.afl_subscriptions.$set(e,this,IOe,"afl_subscriptions")}get afl_subscriptions(){return this.afl_subscriptions.$get(this,IOe,"afl_subscriptions")}get afl_subscriptions(){return this[fpr]||y((xl=this.coll2(StripeSubscription.$.via_user,Ien,Fen,u1r),p(xl.r,Function)?xl.r(OWNER|ADMIN):xl.r=OWNER|ADMIN,p(xl.label,Function)?xl.label("Subscribers"):xl.label="Subscribers",p(xl.table,Function)?xl.table({country:{path:"user.country",kind:"icon",size:"lg"},cre_date:{name:"Start date"},status:{},interval_type:{name:"Plan"},offer:{name:"Discount",kind:"chip"},id:{flg:1}}):xl.table={country:{path:"user.country",kind:"icon",size:"lg"},cre_date:{name:"Start date"},status:{},interval_type:{name:"Plan"},offer:{name:"Discount",kind:"chip"},id:{flg:1}},p(xl.chart,Function)?xl.chart({query:{livemode:!0,statusnin:["incomplete","incomplete_expired"]}}):xl.chart={query:{livemode:!0,statusnin:["incomplete","incomplete_expired"]}},p(xl.sorted,Function)?xl.sorted({_cre:-1}):xl.sorted={_cre:-1},xl),this,IOe,"afl_subscriptions",fpr,OPUser.prototype)}set afl_payments(e){this.afl_payments.$set(e,this,FOe,"afl_payments")}get afl_payments(){return this.afl_payments.$get(this,FOe,"afl_payments")}get afl_payments(){return this[mpr]||y((Xu=this.coll2(StripeInvoice.$.via_user,Hen,u1r),p(Xu.r,Function)?Xu.r(OWNER|ADMIN):Xu.r=OWNER|ADMIN,p(Xu.label,Function)?Xu.label("Sales"):Xu.label="Sales",p(Xu.table,Function)?Xu.table({country:{path:"user.country",kind:"icon",size:"lg"},cre_date:{name:"Payment Date"},purchase_type:{name:"Type"},sub_date:{name:"Start date",path:"subscription.start_date"},plan:{path:"subscription.interval_type"},total_usd:{name:"Paid"},commission:{path:"aflcut_usd"},refunded:{path:"charge.refunded"},offer:{path:"subscription.offer",kind:"chip",name:"Discount"},subscription:{path:"subscription.id",flg:1},id:{name:"Invoice ID"},payout:{}}):Xu.table={country:{path:"user.country",kind:"icon",size:"lg"},cre_date:{name:"Payment Date"},purchase_type:{name:"Type"},sub_date:{name:"Start date",path:"subscription.start_date"},plan:{path:"subscription.interval_type"},total_usd:{name:"Paid"},commission:{path:"aflcut_usd"},refunded:{path:"charge.refunded"},offer:{path:"subscription.offer",kind:"chip",name:"Discount"},subscription:{path:"subscription.id",flg:1},id:{name:"Invoice ID"},payout:{}},p(Xu.sort,Function)?Xu.sort({_cre:-1}):Xu.sort={_cre:-1},Xu),this,FOe,"afl_payments",mpr,OPUser.prototype)}set afl_payouts(e){this.afl_payouts.$set(e,this,HOe,"afl_payouts")}get afl_payouts(){return this.afl_payouts.$get(this,HOe,"afl_payouts")}get afl_payouts(){return this[$pr]||y((Ku=this.coll2(AffiliatePayout.$.affiliate,Ben),p(Ku.r,Function)?Ku.r(OWNER|ADMIN):Ku.r=OWNER|ADMIN,p(Ku.label,Function)?Ku.label("Payouts"):Ku.label="Payouts",p(Ku.table,Function)?Ku.table({cre_date:{name:"Created"},status:{name:"Status"},paid_amount:{name:"Paid amount"},pay_date:{name:"Paid date"},note:{name:"Notes"}}):Ku.table={cre_date:{name:"Created"},status:{name:"Status"},paid_amount:{name:"Paid amount"},pay_date:{name:"Paid date"},note:{name:"Notes"}},p(Ku.sort,Function)?Ku.sort({_cre:-1}):Ku.sort={_cre:-1},Ku),this,HOe,"afl_payouts",$pr,OPUser.prototype)}opafpssettingspanel(){var g,x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;r=o=1,(e=t[JOe])||(r=o=0,e=t[JOe]=e=w("div",null,null,null)),r||(e[Xc]=t._),r||((g=e[Bf])==null||g.call(e,t,JOe)),r||(n=w("h1",e,null,"Affiliate Programs")),(i=e[c1r])||(e[c1r]=i=w("div",e,null,null)),(s=e[h1r])||(e[h1r]=s=wt(384,i)),a=0,u=s.$;for(let k=0,_=B(this.afps),S=_.length;k<S;k++){let v=_[k];d=f=1,(h=(c=u[$1r](Ven,a)).run(this.oli(v)))||(d=f=0,c.cache(h=M(c.value,s,null,null))),d||(h[Xc]=s),h[y1r]&&(m=h[p1r]||(h[p1r]={options:[null]}),$=v,$===m.options[0]||(m.options[0]=$,f|=48),d||h.on$("opdrag",m,this),f&32&&(f^=32,(x=m[tRe])==null||x.call(m)),d||!h.setup||h.setup(f,c),h[Vf](f)),s.push(h,a++,b)}return s[Vf](a),e}opaflssettingspanel(){var g,x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;r=o=1,(e=t[QOe])||(r=o=0,e=t[QOe]=e=w("div",null,null,null)),r||(e[Xc]=t._),r||((g=e[Bf])==null||g.call(e,t,QOe)),r||(n=w("h1",e,null,"Affiliate Links")),(i=e[d1r])||(e[d1r]=i=w("div",e,null,null)),(s=e[f1r])||(e[f1r]=s=wt(384,i)),a=0,u=s.$;for(let k=0,_=B(this.afls),S=_.length;k<S;k++){let v=_[k];d=f=1,(h=(c=u[$1r](zen,a)).run(this.oli(v)))||(d=f=0,c.cache(h=M(c.value,s,null,null))),d||(h[Xc]=s),h[y1r]&&(d||h.on$("opdrop",{},this),m=h[m1r]||(h[m1r]={options:[null]}),$=v,$===m.options[0]||(m.options[0]=$,f|=48),d||h.on$("opmenu",m,this),f&32&&(f^=32,(x=m[tRe])==null||x.call(m)),d||!h.setup||h.setup(f,c),h[Vf](f)),s.push(h,a++,b)}return s[Vf](a),e}set create_coupon(e){this.create_coupon.$set(e,this,BOe,"create_coupon")}get create_coupon(){return this.create_coupon.$get(this,BOe,"create_coupon")}get create_coupon(){return this[ypr]||y((zm=this.action(),p(zm.rx,Function)?zm.rx(OPADMIN):zm.rx=OPADMIN,p(zm.rpc,Function)?zm.rpc():zm.rpc=!0,zm.callback=!1,zm),this,BOe,"create_coupon",ypr,OPUser.prototype)}set create_affiliate_link(e){this.create_affiliate_link.$set(e,this,VOe,"create_affiliate_link")}get create_affiliate_link(){return this.create_affiliate_link.$get(this,VOe,"create_affiliate_link")}get create_affiliate_link(){return this[bpr]||y((p9=this.action(),p(p9.rx,Function)?p9.rx(OPADMIN):p9.rx=OPADMIN,p9.callback=async function(){let e=window.prompt("?via=NAME of the affiliate link");if(!e.match(/^[a-zA-Z0-9\_\-]+$/))throw"ref can only contain letters and numbers";let t=await zf.for({ref:e});return t.exists||(t.set({owner:this,revshare:40}),await t.save()),this.afp||await this.update({afp:"afp42a"}),!0},p9),this,VOe,"create_affiliate_link",bpr,OPUser.prototype)}set create_affiliate_program(e){this.create_affiliate_program.$set(e,this,zOe,"create_affiliate_program")}get create_affiliate_program(){return this.create_affiliate_program.$get(this,zOe,"create_affiliate_program")}get create_affiliate_program(){return this[gpr]||y((qm=this.action(),p(qm.rx,Function)?qm.rx(OPADMIN):qm.rx=OPADMIN,p(qm.rpc,Function)?qm.rpc():qm.rpc=!0,qm.callback=!1,qm),this,zOe,"create_affiliate_program",gpr,OPUser.prototype)}};E(nRe,Yen,"OPUser",1,OPUser);var g1r=nRe;T();oe();ge(),En(),dt(),$e();var iRe=Symbol("starred"),_1r=Symbol(),Ju,Hle=Symbol();var sRe=Symbol(),x1r=Symbol(),v1r=Symbol(),Ble=Symbol();var lRe=Symbol(),w1r=Symbol(),S1r=Symbol.for("##up"),C1r=Symbol.for("##register"),Xen=Symbol.for("#getSlot"),aRe=Symbol.for("#afterVisit"),Ken=Symbol.for("#appendChild"),Jen=Symbol(),Vle=class Vle extends OPMixin{set starred(e){this.starred.$set(e,this,iRe,"starred")}get starred(){return this.starred.$get(this,iRe,"starred")}get starred(){return this[_1r]||y((Ju=this.event(),p(Ju.pov,Function)?Ju.pov():Ju.pov=!0,p(Ju.stat,Function)?Ju.stat(800):Ju.stat=800,p(Ju.f,Function)?Ju.f():Ju.f=!0,p(Ju.hue,Function)?Ju.hue("yellow"):Ju.hue="yellow",Ju),this,iRe,"starred",_1r,Vle.prototype)}opstarredstat(){var d;var e=this,t=H(),r,o,n,i,s,a,u,c,h;return t.this=this,o=n=1,(r=t[Hle])||(o=n=0,r=t[Hle]=r=R("op-stat",null,"tm-af",null)),o||(r[S1r]=t._),o||((d=r[C1r])==null||d.call(r,t,Hle)),i=r[Xen]("__",r),s=!!this.starred||void 0,s===r[sRe]||(n|=2,r[sRe]=s),s=this.$.starred,s===r[x1r]||(r.data=r[x1r]=s),o||r.on$("pointerdown",{trap:!0,$_:[function(f,m){return t.this.$.starred.toggle(f)}]},this),o||r.on$("click",{trap:!0},this),n&2&&r.flag$("tm-af "+(r[sRe]?"on":"")),u=c=1,(a=r[v1r])||(u=c=0,r[v1r]=a=R("op-icon",i,"tm-ag tm_af",null)),u||(a.data="star"),u||!a.setup||a.setup(c,h),a[aRe](c),u||i[Ken](a),o||t.sym||!r.setup||r.setup(n,t,Hle),t.sym||r[aRe](n),r}opstarredicon(){var s;var e=this,t=H(),r,o,n,i;return t.this=this,o=n=1,(r=t[Ble])||(o=n=0,r=t[Ble]=r=R("op-icon",null,"tm-ah",null)),o||(r[S1r]=t._),o||((s=r[C1r])==null||s.call(r,t,Ble)),i=this.starred||void 0,i===r[lRe]||(n|=2,r[lRe]=i),i=this.starred?"star_on":"star_off",i===r[w1r]||(r.data=r[w1r]=i),o||r.on$("click",{stop:!0,$_:[function(a,u){return t.this.$.starred.toggle(a)}]},this),n&2&&r.flag$("tm-ah "+(r[lRe]?"on":"")),o||t.sym||!r.setup||r.setup(n,t,Ble),t.sym||r[aRe](n),r}};E(Vle,Jen,"Starrable",1024);var uRe=Vle;globalThis.Starrable=uRe;T();oe();gf();var cRe=Symbol("open-item"),E1r=Symbol(),hRe=Symbol("open-item-in-new-tab"),j1r=Symbol(),pRe=Symbol("copy-link-to-item"),A1r=Symbol(),dRe=Symbol("open-item-in-legacy"),U1r=Symbol(),zh,Zm,Gm,qh,zle=Symbol(),P1r=Symbol(),T1r=Symbol(),O1r=Symbol(),R1r=Symbol(),Qen=Symbol.for("##up"),etn=Symbol.for("##register"),ttn=Symbol.for("#placeChild"),rtn=Symbol.for("#afterVisit"),otn=Symbol(),qx=class qx extends OPBase{get linkable(){return!0}get asfullurl(){return globalThis.location.origin+APP.url.to(this)}set openitem(e){this.openitem.$set(e,this,cRe,"openitem")}get openitem(){return this.openitem.$get(this,cRe,"openitem")}get openitem(){return this[E1r]||y((zh=this.action(),p(zh.rx,Function)?zh.rx(OP.ANYONE):zh.rx=OP.ANYONE,p(zh.g,Function)?zh.g(0):zh.g=0,p(zh.if,Function)?zh.if(function(){return APP.url.page!=this}):zh.if=function(){return APP.url.page!=this},zh.callback=function(...e){return APP.url.open(this)},zh),this,cRe,"openitem",E1r,qx.prototype)}set openiteminnewtab(e){this.openiteminnewtab.$set(e,this,hRe,"openiteminnewtab")}get openiteminnewtab(){return this.openiteminnewtab.$get(this,hRe,"openiteminnewtab")}get openiteminnewtab(){return this[j1r]||y((Zm=this.action(),p(Zm.rx,Function)?Zm.rx(OP.ANYONE):Zm.rx=OP.ANYONE,p(Zm.g,Function)?Zm.g(0):Zm.g=0,Zm.callback=function(...e){return APP.url.open(this,{metaKey:!0})},Zm),this,hRe,"openiteminnewtab",j1r,qx.prototype)}set copylinktoitem(e){this.copylinktoitem.$set(e,this,pRe,"copylinktoitem")}get copylinktoitem(){return this.copylinktoitem.$get(this,pRe,"copylinktoitem")}get copylinktoitem(){return this[A1r]||y((Gm=this.action(),p(Gm.rx,Function)?Gm.rx(OP.ANYONE):Gm.rx=OP.ANYONE,p(Gm.g,Function)?Gm.g(0):Gm.g=0,Gm.callback=function(){let e=globalThis.location.origin+APP.url.to(this);return OP.copystr(e)},Gm),this,pRe,"copylinktoitem",A1r,qx.prototype)}set openiteminlegacy(e){this.openiteminlegacy.$set(e,this,dRe,"openiteminlegacy")}get openiteminlegacy(){return this.openiteminlegacy.$get(this,dRe,"openiteminlegacy")}get openiteminlegacy(){return this[U1r]||y((qh=this.action(),p(qh.rx,Function)?qh.rx(ADMIN):qh.rx=ADMIN,p(qh.g,Function)?qh.g(0):qh.g=0,p(qh.if,Function)?qh.if(function(){return this.aslegacyurl}):qh.if=function(){return this.aslegacyurl},qh.callback=function(){return window.open(this.aslegacyurl,"_blank")},qh),this,dRe,"openiteminlegacy",U1r,qx.prototype)}opownlink(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[zle])||(r=o=0,e=t[zle]=e=w("a",null,"link",null)),r||(e[Qen]=t._),r||((i=e[etn])==null||i.call(e,t,zle)),n=this.asurl,n===e[P1r]||(e.routeto=e[P1r]=n),n=this,n===e[T1r]||(e.odata=e[T1r]=n),n=this.aslinklabel,n===e[R1r]&&r||(e[O1r]=e[ttn](e[R1r]=n,384,e[O1r])),r||t.sym||!e.setup||e.setup(o,t,zle),t.sym||e[rtn](o),e}};E(qx,otn,"Linkable",0);var fRe=qx;globalThis.Linkable=fRe;T();oe();We(),$e();var mRe=Symbol("title"),M1r=Symbol(),$Re=Symbol("description"),L1r=Symbol(),yRe=Symbol("image"),D1r=Symbol(),bRe=Symbol("og"),N1r=Symbol(),gRe=Symbol("edit-open-graph-properties"),I1r=Symbol(),kRe=Symbol("done"),F1r=Symbol(),gF,kF,H1r,qle=Symbol(),B1r=Symbol(),V1r=Symbol(),z1r=Symbol(),q1r=Symbol(),W1r=Symbol(),Z1r=Symbol(),G1r=Symbol(),Y1r=Symbol(),X1r=Symbol(),K1r=Symbol(),J1r=Symbol(),Q1r,Ym,Wle=Symbol(),edr=Symbol(),f9,Zle=Symbol(),tdr=Symbol(),rdr=Symbol(),odr=Symbol(),ndr=Symbol(),m9=Symbol(),ntn=Symbol(),$9=Symbol(),itn=Symbol(),y9=Symbol(),stn=Symbol(),b9=Symbol(),ltn=Symbol(),g9=Symbol(),atn=Symbol(),idr=Symbol(),k9=Symbol(),utn=Symbol(),_9=Symbol(),ctn=Symbol(),xRe=Symbol.for("##up"),vRe=Symbol.for("##register"),ldr=Symbol.for("#getSlot"),Kc=Symbol.for("#afterVisit"),htn=Symbol.for("#appendChild"),_F=Symbol.for("#placeChild"),Wx=Symbol.for("#getRenderContext"),Zx=Symbol.for("#isRichElement"),Gx=Symbol.for("#insertInto"),Yx=Symbol.for("#replaceWith"),Gle=Symbol(),x9=class x9 extends Qe(Gle,OPEmbed,EditableEmbed){constructor(){super(...arguments),super[A]||this[A](),re(this,Gle)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Gle])==null||o.call(this,...arguments)}set title(e){this.title.$set(e,this,mRe,"title")}get title(){return this.title.$get(this,mRe,"title")}get title(){return this[M1r]||y((gF=this.string(),p(gF.tip,Function)?gF.tip("Recommended: 60 characters"):gF.tip="Recommended: 60 characters",gF),this,mRe,"title",M1r,x9.prototype)}set description(e){this.description.$set(e,this,$Re,"description")}get description(){return this.description.$get(this,$Re,"description")}get description(){return this[L1r]||y((kF=this.text(),p(kF.tip,Function)?kF.tip("Recommended: 145 characters"):kF.tip="Recommended: 145 characters",kF),this,$Re,"description",L1r,x9.prototype)}set image(e){this.image.$set(e,this,yRe,"image")}get image(){return this.image.$get(this,yRe,"image")}get image(){return this[D1r]||y((H1r=this.image(),H1r),this,yRe,"image",D1r,x9.prototype)}get imagewidth(){return this.image.width}get imageheight(){return this.image.height}get canonicalurl(){return this.$up.asfullurl}get astitle(){return this.title||this.$up.astitle}get asdescription(){var e,t;return this.description||((t=(e=this.$up.synopsis)==null?void 0:e.substring)==null?void 0:t.call(e,0,145))}get valid(){return this.astitle||this.asdescription}get ld(){let e;if(this.$up.duration){let r=this.$up.duration/1e3,o=Math.floor(r/3600),n=Math.floor(r%3600/60),i=r%60;e="PT"+(o?o+"H":"")+(n?n+"M":"")+(i?i+"S":"")}let t=p(this.$up,Taggable)?this.$up.topics.map(function(r){return r.name}).join(", "):null;return{"@context":"https://schema.org","@type":"LearningResource",name:this.astitle,description:this.asdescription,provider:{"@type":"Organization",name:"Scrimba",url:"https://scrimba.com",logo:{"@type":"ImageObject",url:Org.get(1).avatar_full_url}},educationalLevel:"Beginner",learningResourceType:"Screencast",keywords:t,abstract:this.$up.transcript?this.$up.transcript.substring(0,200)+"...":null,url:this.canonicalurl,timeRequired:e,datePublished:new Date(this.$up.published_at||this.$up._cre).toISOString().split("T")[0],dateModified:new Date(this.$up._mod).toISOString().split("T")[0],isAccessibleForFree:!this.$up.gated,inLanguage:"en",assesses:t,teaches:t}}get asldjson(){return JSON.stringify(this.ld)}opownpreview(){var U;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P;return r=o=1,(e=t[qle])||(r=o=0,e=t[qle]=e=R("op",null,"cbk-af",null)),r||(e[xRe]=t._),r||((U=e[vRe])==null||U.call(e,t,qle)),n=e[ldr]("__",e),r||(i=w("div",n,"cbk-ag",null)),r||(s=w("span",i,"cbk-ah",null)),r||(a=w("span",s,"cbk-ai","G")),r||(u=w("span",s,"cbk-aj","o")),r||(c=w("span",s,"cbk-ak","o")),r||(h=w("span",s,"cbk-al","g")),r||(d=w("span",s,"cbk-am","l")),r||(f=w("span",s,"cbk-an","e")),r||(m=w("div",i,"cbk-ao",null)),b=g=1,($=e[B1r])||(b=g=0,e[B1r]=$=R("op-icon",m,"cbk-ap",null)),b||($.data="search"),b||!$.setup||$.setup(g,x),$[Kc](g),b||m[htn]($),r||(k=w("div",n,"cbk-aq",null)),(_=e[V1r])||(e[V1r]=_=w("span",k,"cbk-ar",null)),pt.context=e[q1r]||(e[q1r]={_}),S=this.canonicalurl.replace("https://",""),pt.context=null,S===e[W1r]&&r||(e[z1r]=_[_F](e[W1r]=S,384,e[z1r])),(v=e[Z1r])||(e[Z1r]=v=w("span",k,"cbk-as",null)),C=this.astitle,C===e[Y1r]&&r||(e[G1r]=v[_F](e[Y1r]=C,384,e[G1r])),(j=e[X1r])||(e[X1r]=j=w("p",k,"cbk-at",null)),P=this.asdescription,P===e[J1r]&&r||(e[K1r]=j[_F](e[J1r]=P,384,e[K1r])),r||t.sym||!e.setup||e.setup(o,t,qle),t.sym||e[Kc](o),e}};E(x9,Gle,"OpenGraphEmbed",80);var Yle=x9;globalThis.OpenGraphEmbed=Yle;var ptn=Symbol(),xF=class xF extends OPMixin{set og(e){this.og.$set(e,this,bRe,"og")}get og(){return this.og.$get(this,bRe,"og")}get og(){return this[N1r]||y((Q1r=this.embed(Yle),Q1r),this,bRe,"og",N1r,xF.prototype)}set editopengraphproperties(e){this.editopengraphproperties.$set(e,this,gRe,"editopengraphproperties")}get editopengraphproperties(){return this.editopengraphproperties.$get(this,gRe,"editopengraphproperties")}get editopengraphproperties(){return this[I1r]||y((Ym=this.action(),p(Ym.x,Function)?Ym.x(ADMIN):Ym.x=ADMIN,p(Ym.g,Function)?Ym.g(400):Ym.g=400,Ym.callback=function(){var i;var e,t=H(),r,o,n;return Bt((r=o=1,(e=t[Wle])||(r=o=0,e=t[Wle]=e=R("open-graph-modal",null,null,null)),r||(e[xRe]=t._),r||((i=e[vRe])==null||i.call(e,t,Wle)),n=this.og,n===e[edr]||(e.data=e[edr]=n),r||t.sym||!e.setup||e.setup(o,t,Wle),t.sym||e[Kc](o),e))},Ym),this,gRe,"editopengraphproperties",I1r,xF.prototype)}};E(xF,ptn,"WithOpenGraph",1024);var _Re=xF;globalThis.WithOpenGraph=_Re;var dtn=Symbol(),Xx=class Xx extends Ve("op-stack-modal","OpStackModalComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.resolve=e?e.resolve:void 0}get og(){return this.data}async initpromise(){var e=this;return await new Promise(function(t){return e.resolve=t})}set done(e){this.done.$set(e,this,kRe,"done")}get done(){return this.done.$get(this,kRe,"done")}get done(){return this[F1r]||y((f9=this.action(),p(f9.label,Function)?f9.label("Save"):f9.label="Save",f9.callback=function(){return this.resolve(this.data),this.end(!0)},f9),this,kRe,"done",F1r,Xx.prototype)}body(){var ce;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me;return o=n=1,(t=r[Zle])||(o=n=0,t=r[Zle]=t=R("op-sheet",null,`${e}`,null)),o||(t[xRe]=r._),o||((ce=t[vRe])==null||ce.call(t,r,Zle)),i=t[ldr]("__",t),(s=t[tdr])||(t[tdr]=s=w("div",i,`%head ${e}`,null)),o||s[_F]("Edit Open Graph properties for "),a=this.data.$up.aslabel,a===t[odr]&&o||(t[rdr]=s[_F](t[odr]=a,256,t[rdr])),o||(u=w("div",i,`%body ${e}`,null)),h=d=1,(c=t[ndr])||(h=d=0,t[ndr]=c=w("div",u,`cbk-az ${e}`,null)),f=c[Wx](ntn),$=b=1,(m=f.run(this.ofield(this.data.$.title)))||($=b=0,f.cache(m=M(f.value,c,`cbk_az ${e}`,null))),m[Zx]&&((!$||b&2)&&m.flags.reconcile(m9,`cbk_az ${e}`),$||!m.setup||m.setup(b,f),m[Kc](b)),m==c[m9]||!c[m9]&&(c[m9]=m)[Gx](c)||c[m9][Yx](c[m9]=m,c),g=c[Wx](itn),k=_=1,(x=g.run(this.ofield(this.data.$.description)))||(k=_=0,g.cache(x=M(g.value,c,`cbk_az ${e}`,null))),x[Zx]&&((!k||_&2)&&x.flags.reconcile($9,`cbk_az ${e}`),k||!x.setup||x.setup(_,g),x[Kc](_)),x==c[$9]||!c[$9]&&(c[$9]=x)[Gx](c)||c[$9][Yx](c[$9]=x,c),S=c[Wx](stn),C=j=1,(v=S.run(this.obutton(this.clearasset)))||(C=j=0,S.cache(v=M(S.value,c,`cbk_az ${e}`,null))),v[Zx]&&((!C||j&2)&&v.flags.reconcile(y9,`cbk_az ${e}`),C||!v.setup||v.setup(j,S),v[Kc](j)),v==c[y9]||!c[y9]&&(c[y9]=v)[Gx](c)||c[y9][Yx](c[y9]=v,c),P=c[Wx](ltn),O=L=1,(U=P.run(this.ofield(this.data.$.image)))||(O=L=0,P.cache(U=M(P.value,c,`cbk_az ${e}`,null))),U[Zx]&&((!O||L&2)&&U.flags.reconcile(b9,`cbk_az ${e}`),O||!U.setup||U.setup(L,P),U[Kc](L)),U==c[b9]||!c[b9]&&(c[b9]=U)[Gx](c)||c[b9][Yx](c[b9]=U,c),h||(I=w("h4",c,`cbk_az ${e}`,"Preview")),F=c[Wx](atn),V=W=1,(N=F.run(this.oel(this.data,"preview")))||(V=W=0,F.cache(N=M(F.value,c,`cbk-bf cbk_az ${e}`,null))),N[Zx]&&((!V||W&2)&&N.flags.reconcile(g9,`cbk-bf cbk_az ${e}`),V||!N.setup||N.setup(W,F),N[Kc](W)),N==c[g9]||!c[g9]&&(c[g9]=N)[Gx](c)||c[g9][Yx](c[g9]=N,c),h||!c.setup||c.setup(d,z),c[Kc](d),Y=K=1,(q=t[idr])||(Y=K=0,t[idr]=q=w("div",i,`%foot ${e}`,null)),X=q[Wx](utn),Q=ee=1,(Z=X.run(this.obutton(this.cancel)))||(Q=ee=0,X.cache(Z=M(X.value,q,`${e}`,null))),Z[Zx]&&((!Q||ee&2)&&Z.flags.reconcile(k9,`${e}`),Q||!Z.setup||Z.setup(ee,X),Z[Kc](ee)),Z==q[k9]||!q[k9]&&(q[k9]=Z)[Gx](q)||q[k9][Yx](q[k9]=Z,q),te=q[Wx](ctn),ie=J=1,(ne=te.run(this.obutton(this.done)))||(ie=J=0,te.cache(ne=M(te.value,q,`amber ${e}`,null))),ne[Zx]&&((!ie||J&2)&&ne.flags.reconcile(_9,`amber ${e}`),ie||!ne.setup||ne.setup(J,te),ne[Kc](J)),ne==q[_9]||!q[_9]&&(q[_9]=ne)[Gx](q)||q[_9][Yx](q[_9]=ne,q),Y||!q.setup||q.setup(K,me),q[Kc](K),o||r.sym||!t.setup||t.setup(n,r,Zle),r.sym||t[Kc](n),t}};Xx.prototype[Le]=De,se([ho.bind([])],Xx.prototype,"initpromise",null),E(Xx,dtn,"open-graph-modal",258),pe("open-graph-modal",Xx,{cssid:"cbk-av"});var sdr=Xx;T();oe();ge(),$e();var wRe=Symbol("new-scrim"),adr=Symbol(),SRe=Symbol("new-course"),udr=Symbol(),CRe=Symbol("owner"),cdr=Symbol(),ERe=Symbol("partner"),hdr=Symbol(),jRe=Symbol("published_at"),pdr=Symbol(),ARe=Symbol("privacy"),ddr=Symbol(),URe=Symbol("transfer-ownership"),fdr=Symbol(),PRe=Symbol("publish"),mdr=Symbol(),TRe=Symbol("unpublish"),$dr=Symbol(),Xle=Symbol(),ydr=Symbol(),bdr=Symbol(),Xm,Km,$d,yd,vF,bd,Kle=Symbol(),gdr=Symbol(),kdr=Symbol(),_dr=Symbol(),xdr=Symbol(),vdr=Symbol(),wdr=Symbol(),Sdr=Symbol(),Jm,Wh,Zh,Cdr=Symbol.for("##up"),Edr=Symbol.for("##register"),jdr=Symbol.for("#getSlot"),Adr=Symbol.for("#placeChild"),ORe=Symbol.for("#afterVisit"),ftn=Symbol.for("#visit"),mtn=Symbol.for("#appendChild"),$tn=Symbol(),MRe=class MRe extends OPEnumValue{get cssclasses(){return""+super.cssclasses+" no-filter-label has-hue "+this.hue}get asfiltertip(){return this.name}opowntip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Xle])||(r=o=0,e=t[Xle]=e=R("op",null,null,null)),r||(e[Cdr]=t._),r||((s=e[Edr])==null||s.call(e,t,Xle)),n=e[jdr]("__",e),i=this.tip,i===e[bdr]&&r||(e[ydr]=n[Adr](e[bdr]=i,384,e[ydr])),r||t.sym||!e.setup||e.setup(o,t,Xle),t.sym||e[ORe](o),e}};E(MRe,$tn,"Privacy",8);var Jle=MRe;globalThis.Privacy=Jle;var ytn=Symbol(),wF=class wF extends OPMixin{set newscrim(e){this.newscrim.$set(e,this,wRe,"newscrim")}get newscrim(){return this.newscrim.$get(this,wRe,"newscrim")}get newscrim(){return this[adr]||y((Xm=this.action(),p(Xm.x,Function)?Xm.x(OWNER):Xm.x=OWNER,p(Xm.g,Function)?Xm.g(600.5):Xm.g=600.5,Xm.callback=function(e){return Xt.go("/new?c="+this.id)},Xm),this,wRe,"newscrim",adr,wF.prototype)}set newcourse(e){this.newcourse.$set(e,this,SRe,"newcourse")}get newcourse(){return this.newcourse.$get(this,SRe,"newcourse")}get newcourse(){return this[udr]||y((Km=this.action(),p(Km.x,Function)?Km.x(OWNER):Km.x=OWNER,p(Km.g,Function)?Km.g(600.5):Km.g=600.5,Km.callback=async function(){let e=await Course.create({owner:this,privacy:"unlisted"});return APP.open(e)},Km),this,SRe,"newcourse",udr,wF.prototype)}get affiliated(){var e,t;return this==OP.pov||!!((t=(e=OP.pov)==null?void 0:e.$rolemap)!=null&&t[this.$root])}};E(wF,ytn,"Publisher",1024);var v9=wF;globalThis.Publisher=v9;var btn=Symbol(),qf=class qf extends OPMixin{set owner(e){this.owner.$set(e,this,CRe,"owner")}get owner(){return this.owner.$get(this,CRe,"owner")}get owner(){return this[cdr]||y(($d=this.parent(v9),p($d.as,Function)?$d.as(PUBLISHER):$d.as=PUBLISHER,p($d.vias,Function)?$d.vias({[OPTEAM]:OPGUEST}):$d.vias={[OPTEAM]:OPGUEST},p($d.options,Function)?$d.options(function(){return ME==null?void 0:ME.workspaces}):$d.options=function(){return ME==null?void 0:ME.workspaces},$d),this,CRe,"owner",cdr,qf.prototype)}set partner(e){this.partner.$set(e,this,ERe,"partner")}get partner(){return this.partner.$get(this,ERe,"partner")}get partner(){return this[hdr]||y((yd=this.parent(v9),p(yd.as,Function)?yd.as(PUBLISHER):yd.as=PUBLISHER,p(yd.vias,Function)?yd.vias({[OPTEAM]:OPGUEST}):yd.vias={[OPTEAM]:OPGUEST},p(yd.options,Function)?yd.options(function(){return Org.all()}):yd.options=function(){return Org.all()},yd),this,ERe,"partner",hdr,qf.prototype)}set published_at(e){this.published_at.$set(e,this,jRe,"published_at")}get published_at(){return this.published_at.$get(this,jRe,"published_at")}get published_at(){return this[pdr]||y((vF=this.ts(),p(vF.w,Function)?vF.w(OWNER|ADMIN):vF.w=OWNER|ADMIN,vF),this,jRe,"published_at",pdr,qf.prototype)}set privacy(e){this.privacy.$set(e,this,ARe,"privacy")}get privacy(){return this.privacy.$get(this,ARe,"privacy")}get privacy(){return this[ddr]||y((bd=this.enum(Jle,{public:{default:!0,icon:$R,hue:"blue",tip:"Visible to everyone."},unlisted:{icon:Z6,hue:"amber",tip:"Accessible to anyone with the link, but not searchable or listed publicly."},internal:{icon:Lkt,hue:"indigo",tip:"Only visible to members within the workspace."},private:{icon:Y6,hue:"rose",tip:"Restricted to specific individuals you choose to share it with."},secret:{icon:Y6,hue:"rose",hidden:!0}}),p(bd.w,Function)?bd.w(OWNER|ADMIN):bd.w=OWNER|ADMIN,p(bd.g,Function)?bd.g(500.5):bd.g=500.5,p(bd.f,Function)?bd.f():bd.f=!0,bd),this,ARe,"privacy",ddr,qf.prototype)}get $r(){let e=String(this.privacy),t=+ADMIN;return Ye(e,"internal")?t|=OPTEAM|OPGUEST:Ye(e,"private")?t|=OPTEAM:t|=OPANYONE,t}get private(){return!this.privacy.public&&!this.privacy.unlisted}opprivacystat(e){var $,b;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m;return o=n=1,(t=r[Kle])||(o=n=0,t=r[Kle]=t=R("op-stat",null,null,null)),o||(t[Cdr]=r._),o||(($=t[Edr])==null||$.call(t,r,Kle)),i=t[jdr]("__",t),e===t[gdr]||(t.data=t[gdr]=e),s=t[kdr]||(t[kdr]={options:[null]}),a=this.$.privacy,a===s.options[0]||(s.options[0]=a,n|=48),o||t.on$("opmenu",s,this),n&32&&(n^=32,(b=s[ftn])==null||b.call(s)),c=h=1,(u=t[_dr])||(c=h=0,t[_dr]=u=R("op-icon",i,null,null)),e===t[xdr]||(u.data=t[xdr]=e),c||!u.setup||u.setup(h,d),u[ORe](h),c||i[mtn](u),(f=t[vdr])||(t[vdr]=f=w("span",i,null,null)),m=this.privacy.aslabel,m===t[Sdr]&&o||(t[wdr]=f[Adr](t[Sdr]=m,384,t[wdr])),o||r.sym||!t.setup||t.setup(n,r,Kle),r.sym||t[ORe](n),t}get unlisted(){return this.privacy.unlisted}get public(){return this.privacy.public}get published(){return!!this.published_at}get discoverable(){var e;return this.public&&this.published||this.affiliated||!this.privacy.private&&((e=this.owner)==null?void 0:e.affiliated)}get dashboard(){return this.interacted||this.published}get listed(){var e;return this.public||this.affiliated||!this.privacy.private&&((e=this.owner)==null?void 0:e.affiliated)}get affiliated(){var e,t;return!!((t=(e=OP.pov)==null?void 0:e.$rolemap)!=null&&t[this.$root])}get publisher(){return this.owner}set publisher(e){this.owner=e}get runtimeaffiliations(){return OP.Object.all().filter(e=>p(e,v9)&&e.rolesfor(ME)&(OWNER|MEMBER))}set transferownership(e){this.transferownership.$set(e,this,URe,"transferownership")}get transferownership(){return this.transferownership.$get(this,URe,"transferownership")}get transferownership(){return this[fdr]||y((Jm=this.action(),p(Jm.x,Function)?Jm.x(OWNER|ADMIN):Jm.x=OWNER|ADMIN,p(Jm.g,Function)?Jm.g(800.5):Jm.g=800.5,Jm.callback=async function(){let e=await OP.pick(this.runtimeaffiliations);e&&await this.update({owner:e})},Jm),this,URe,"transferownership",fdr,qf.prototype)}set publish(e){this.publish.$set(e,this,PRe,"publish")}get publish(){return this.publish.$get(this,PRe,"publish")}get publish(){return this[mdr]||y((Wh=this.action(),p(Wh.x,Function)?Wh.x(ADMIN):Wh.x=ADMIN,p(Wh.g,Function)?Wh.g(800.5):Wh.g=800.5,p(Wh.if,Function)?Wh.if(function(){return!this.published}):Wh.if=function(){return!this.published},Wh.callback=async function(){return this.published_at=new Date,await this.save()},Wh),this,PRe,"publish",mdr,qf.prototype)}set unpublish(e){this.unpublish.$set(e,this,TRe,"unpublish")}get unpublish(){return this.unpublish.$get(this,TRe,"unpublish")}get unpublish(){return this[$dr]||y((Zh=this.action(),p(Zh.x,Function)?Zh.x(ADMIN):Zh.x=ADMIN,p(Zh.g,Function)?Zh.g(800.5):Zh.g=800.5,p(Zh.if,Function)?Zh.if(function(){return this.published}):Zh.if=function(){return this.published},Zh.callback=function(){return this.published_at=!1},Zh),this,TRe,"unpublish",$dr,qf.prototype)}};E(qf,btn,"Publishable",1024);var RRe=qf;globalThis.Publishable=RRe;T();oe();var LRe=Symbol("topics"),Udr=Symbol(),gd,gtn=Symbol(),Qle=class Qle extends OPMixin{set topics(e){this.topics.$set(e,this,LRe,"topics")}get topics(){return this.topics.$get(this,LRe,"topics")}get topics(){return this[Udr]||y((gd=this.refs(Topic),p(gd.w,Function)?gd.w(OWNER|ADMIN):gd.w=OWNER|ADMIN,p(gd.g,Function)?gd.g(500.5):gd.g=500.5,p(gd.f,Function)?gd.f():gd.f=!0,gd),this,LRe,"topics",Udr,Qle.prototype)}};E(Qle,gtn,"Taggable",1024);var DRe=Qle;globalThis.Taggable=DRe;T();oe();$e();var NRe=Symbol("tier"),Pdr=Symbol(),IRe=Symbol("free?"),Tdr=Symbol(),eae=Symbol(),Odr=Symbol(),Rdr=Symbol(),b8,FRe,tae=Symbol(),Mdr=Symbol(),Ldr=Symbol(),Ddr=Symbol.for("##up"),Ndr=Symbol.for("##register"),Idr=Symbol.for("#getSlot"),Fdr=Symbol.for("#afterVisit"),ktn=Symbol.for("#matcher"),_tn=Symbol(),BRe=class BRe extends OPEnumValue{opowntip(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[eae])||(r=o=0,e=t[eae]=e=R("op",null,null,null)),r||(e[Ddr]=t._),r||((c=e[Ndr])==null||c.call(e,t,eae)),n=e[Idr]("__",e),s=a=1,(i=e[Odr])||(s=a=0,e[Odr]=i=w("article",n,null,null)),u=this.tip,u===e[Rdr]||(i.md=e[Rdr]=u),r||t.sym||!e.setup||e.setup(o,t,eae),t.sym||e[Fdr](o),e}};E(BRe,_tn,"Tier",0);var rae=BRe;globalThis.Tier=rae;var xtn=Symbol(),SF=class SF extends OPMixin{set tier(e){this.tier.$set(e,this,NRe,"tier")}get tier(){return this.tier.$get(this,NRe,"tier")}get tier(){return this[Pdr]||y((b8=this.enum(rae,{free:{default:!0,color:"#61a6fb",only:OPANYONE,tip:"Content available to everyone",[ktn]:function(e){return e.free}},users:{label:"Community",only:OPUSER,tip:"Only available to the signed in users",f:!1},paid:{label:"Pro",color:"lch(55% 65 287)",only:PRO,tip:"Only available to Pro subscribers"}}),p(b8.g,Function)?b8.g(500.5):b8.g=500.5,p(b8.f,Function)?b8.f():b8.f=!0,b8),this,NRe,"tier",Pdr,SF.prototype)}set free(e){this.free.$set(e,this,IRe,"free")}get free(){return this.free.$get(this,IRe,"free")}get free(){return this[Tdr]||y((FRe=this.get(),FRe.callback=function(){return this.tier.free||this.tier.users},FRe),this,IRe,"free",Tdr,SF.prototype)}optiertip(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[tae])||(r=o=0,e=t[tae]=e=R("op",null,null,null)),r||(e[Ddr]=t._),r||((c=e[Ndr])==null||c.call(e,t,tae)),n=e[Idr]("__",e),s=a=1,(i=e[Mdr])||(s=a=0,e[Mdr]=i=w("article",n,null,null)),u=this.tier.tip,u===e[Ldr]||(i.md=e[Ldr]=u),r||t.sym||!e.setup||e.setup(o,t,tae),t.sym||e[Fdr](o),e}};E(SF,xtn,"Tiered",1024);var HRe=SF;globalThis.Tiered=HRe;T();oe();T();oe();ge(),wo(),Bl(),an(),$e();var VRe=Symbol("id"),Hdr=Symbol(),zRe=Symbol("session"),Bdr=Symbol(),qRe=Symbol("secret"),Vdr=Symbol(),WRe=Symbol("rejected"),zdr=Symbol(),ZRe=Symbol("reject"),qdr=Symbol(),GRe=Symbol("confirm"),Wdr=Symbol(),YRe=Symbol("state"),Zdr=Symbol(),XRe=Symbol("email"),Gdr=Symbol(),KRe=Symbol("sent-link-to"),Ydr=Symbol(),JRe=Symbol("login-user"),Xdr=Symbol(),QRe=Symbol("continue-with-email"),Kdr=Symbol(),eMe=Symbol("continue-with-github"),Jdr=Symbol(),tMe=Symbol("continue-with-google"),Qdr=Symbol(),rMe=Symbol("link-with-browser"),e0r=Symbol(),oMe=Symbol("send-link"),t0r=Symbol(),nMe=Symbol("send-link-srv"),r0r=Symbol(),iMe=Symbol("find-user-by-github-id"),o0r=Symbol(),sMe=Symbol("find-user-by-email"),n0r=Symbol(),lMe=Symbol("register-user"),i0r=Symbol(),aMe=Symbol("back"),s0r=Symbol(),l0r=Symbol();var uMe=Symbol(),a0r=Symbol(),u0r=Symbol();var c0r=Symbol(),h0r=Symbol(),p0r=Symbol(),d0r=Symbol();var f0r=Symbol(),m0r=Symbol(),$0r=Symbol(),y0r=Symbol();var b0r=Symbol(),g0r=Symbol(),k0r=Symbol(),CF,EF,jF,AF,oae=Symbol(),_0r=Symbol(),x0r=Symbol(),UF=Symbol(),vtn=Symbol(),w9=Symbol(),wtn=Symbol(),cMe,Gh,PF,TF,OF,Qm,hMe,pMe,dMe,fMe,Yh,S9,e$,t$,r$,mMe,nae=Symbol(),iae=Symbol();var $Me=Symbol(),v0r=Symbol();var yMe=Symbol(),w0r=Symbol(),S0r=Symbol(),C0r=Symbol(),E0r=Symbol(),j0r=Symbol(),A0r=Symbol(),Stn=Symbol(),Ctn=Symbol(),U0r=Symbol(),Etn=Symbol(),jtn=Symbol(),P0r=Symbol(),T0r=Symbol(),O0r=Symbol(),R0r=Symbol(),M0r=Symbol(),L0r=Symbol(),Atn=Symbol(),Utn=Symbol(),D0r=Symbol(),Ptn=Symbol(),Ttn=Symbol(),N0r=Symbol(),I0r=Symbol(),F0r=Symbol(),H0r=Symbol(),B0r=Symbol(),C9=Symbol(),Otn=Symbol(),V0r=Symbol(),E9=Symbol(),Rtn=Symbol(),j9=Symbol(),Mtn=Symbol(),z0r=Symbol(),q0r=Symbol(),W0r=Symbol(),Z0r=Symbol(),G0r=Symbol(),Y0r=Symbol(),Ltn=Symbol(),Dtn=Symbol(),X0r=Symbol(),Ntn=Symbol(),Itn=Symbol(),Ftn=Symbol(),Htn=Symbol(),K0r=Symbol(),J0r=Symbol(),A9=Symbol(),Btn=Symbol(),Q0r=Symbol(),efr=Symbol(),tfr=Symbol(),rfr=Symbol(),ofr=Symbol(),nfr=Symbol(),ifr=Symbol(),sfr=Symbol.for("#timeout"),kMe=Symbol.for("#beforeReconcile"),en=Symbol.for("##up"),Ra=Symbol.for("#placeChild"),Mo=Symbol.for("#afterVisit"),_Me=Symbol.for("#afterReconcile"),bMe=Symbol.for("##register"),o$=Symbol.for("#getSlot"),ec=Symbol.for("#getRenderContext"),tc=Symbol.for("#isRichElement"),U9=Symbol.for("#insertInto"),P9=Symbol.for("#replaceWith"),lae=Symbol.for("#appendChild");no.addSelectors([".ei-bb",".ei-bi",".ei-bp",".ei-bt",".ei-ca",".ei_co.body"],"transition");var sae={},Vtn=Symbol(),uae=class uae extends de{[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.win=e?e.win:void 0,this.url=e?e.url:void 0,this.w=e&&(o=e.w)!==void 0?o:400,this.h=e&&(o=e.h)!==void 0?o:600,this.delay=e&&(o=e.delay)!==void 0?o:0*1e3,this.timeout=e&&(o=e.timeout)!==void 0?o:80*1e3,this.status=e?e.status:void 0}awaken(){return this}mount(){var e=this;return setTimeout(function(){return e.open()},this.delay)}unmount(){return this}open(){var e=this;let t=window.outerHeight,r=window.outerWidth,o=this.l,n=this.t,i=this.w,s=this.h;if(!(i&&s)){let c=this.opbox();i=c.width,s=c.height-64,o=window.screenLeft+c.left,n=window.screenTop+(t-window.innerHeight)+c.top}o??=window.screenLeft+(r-i)/2,n??=window.screenTop+(t-s)/2;let a="popup,left="+o+",top="+n+",width="+i+",height="+s,u=sae[this.url];if(this.win=sae[this.url]||=window.open(this.url,"_blank",a),this.status="loading",!this.win)return this.status="error";if(!u){let c=function(){clearTimeout(e[sfr]),e.emit("success"),sae[e.url]=null;try{e.win.close()}catch{}return c=function(){return!0}};return this.win.owner||=this,this.win.addEventListener("message",function(d){if(e.emit("message",d),d.data=="success")return c();if(typeof d.data=="string")return e.emit(d.data)}),this.win.addEventListener("load",function(){return console.warn("loaded!")}),this[sfr]=setTimeout(function(){OP.user||e.emit("timeout"),e.status="timeout";try{return e.win.close(),sae[e.url]=null}catch{}},this.timeout),IK(function(){return OP.user}).then(function(){return c()})}}success(){var e=this;try{this.win.close()}catch{}return setTimeout(function(){return e.win.close()},100)}render(){var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P;return r=this,r[kMe](),o=n=1,r[l0r]===1||(o=n=0,r[l0r]=1),i=this.status,i===r[uMe]||(n|=2,r[uMe]=i),o||r.on$("success",{$_:[function(U,O){return e.success(U)}]},this),(!o||n&2)&&r.flagSelf$(r[uMe]||""),t=null,this.status=="loading"?(a=u=1,(t=r[a0r])||(a=u=0,r[a0r]=t=w("div",null,`ei-ah ${s}`,null)),a||(t[en]=r),c=r.__slots.__,(!c||!c.hasChildNodes())&&(h=d=1,(c=t[u0r])||(h=d=0,t[u0r]=c=w("div",null,`${s}`,"Opened window")),h||(c[en]=t)),c===t[h0r]||(t[c0r]=t[Ra](t[h0r]=c,384,t[c0r])),a||!t.setup||t.setup(u,f),t[Mo](u)):this.status=="timeout"?(m=$=1,(t=r[p0r])||(m=$=0,r[p0r]=t=w("div",null,`${s}`,null)),m||(t[en]=r),b=r.__slots.timeout,(!b||!b.hasChildNodes())&&(g=x=1,(b=t[d0r])||(g=x=0,t[d0r]=b=w("div",null,`${s}`,"Timed out. Please try again.")),g||(b[en]=t)),b===t[m0r]||(t[f0r]=t[Ra](t[m0r]=b,384,t[f0r])),m||!t.setup||t.setup($,k),t[Mo]($)):this.status=="error"&&(_=S=1,(t=r[$0r])||(_=S=0,r[$0r]=t=w("div",null,`${s}`,null)),_||(t[en]=r),v=r.__slots.timeout,(!v||!v.hasChildNodes())&&(C=j=1,(v=t[y0r])||(C=j=0,t[y0r]=v=w("div",null,`${s}`,"Error opening popup. Please try again.")),C||(v[en]=t)),v===t[g0r]||(t[b0r]=t[Ra](t[g0r]=v,384,t[b0r])),_||!t.setup||t.setup(S,P),t[Mo](S)),r[k0r]=r[Ra](t,0,r[k0r]),r[_Me](n),r}};E(uae,Vtn,"op-popup-proxy",2),pe("op-popup-proxy",uae,{cssid:"ei-af"});var lfr=uae,ztn=Symbol(),Wf=class Wf extends OPObject{set id(e){this.id.$set(e,this,VRe,"id")}get id(){return this.id.$get(this,VRe,"id")}get id(){return this[Hdr]||y((CF=this.key(),p(CF.virtual,Function)?CF.virtual():CF.virtual=!0,CF),this,VRe,"id",Hdr,Wf.prototype)}set session(e){this.session.$set(e,this,zRe,"session")}get session(){return this.session.$get(this,zRe,"session")}get session(){return this[Bdr]||y((EF=this.ref(OP.Session),p(EF.composite,Function)?EF.composite():EF.composite=!0,EF),this,zRe,"session",Bdr,Wf.prototype)}set secret(e){this.secret.$set(e,this,qRe,"secret")}get secret(){return this.secret.$get(this,qRe,"secret")}get secret(){return this[Vdr]||y((jF=this.string(),p(jF.composite,Function)?jF.composite():jF.composite=!0,jF),this,qRe,"secret",Vdr,Wf.prototype)}set rejected(e){this.rejected.$set(e,this,WRe,"rejected")}get rejected(){return this.rejected.$get(this,WRe,"rejected")}get rejected(){return this[zdr]||y((AF=this.bool(),p(AF.local,Function)?AF.local():AF.local=!0,AF),this,WRe,"rejected",zdr,Wf.prototype)}opownsheet(){var C;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return r=o=1,(e=t[oae])||(r=o=0,e=t[oae]=e=R("op-layer",null,"ei-aq xsheet",null)),r||(e[en]=t._),r||((C=e[bMe])==null||C.call(e,t,oae)),n=e[o$]("__",e),i=this,i===e[_0r]||(e.data=e[_0r]=i),r||e.on$("opnav",{deep:!0,stack:!0},this),r||(e.contour="contour"),r||(s=w("div",n,"ei-ar",null)),r||(a=w("h2",s,"ei-as","Sign-in to desktop App")),r||(u=w("p",s,"dim","Are you requesting to connect your desktop app to this account?")),r||(c=w("p",s,"dim","If you did not initiate this request, please ignore it.")),d=f=1,(h=e[x0r])||(d=f=0,e[x0r]=h=w("footer",s,"ei-av lg",null)),m=h[ec](vtn),b=g=1,($=m.run(this.obutton(this.reject)))||(b=g=0,m.cache($=M(m.value,h,null,null))),$[tc]&&(b||($.label="No, not me"),b||!$.setup||$.setup(g,m),$[Mo](g)),$==h[UF]||!h[UF]&&(h[UF]=$)[U9](h)||h[UF][P9](h[UF]=$,h),x=h[ec](wtn),_=S=1,(k=x.run(this.obutton(this.confirm)))||(_=S=0,x.cache(k=M(x.value,h,"pri",null))),k[tc]&&(_||(k.label="Yes, it is me"),_||k.on$("ok",{trap:!0,emit:["closelayer",{replace:!0}]},this),(!_||S&2)&&k.flags.reconcile(w9,"pri"),_||!k.setup||k.setup(S,x),k[Mo](S)),k==h[w9]||!h[w9]&&(h[w9]=k)[U9](h)||h[w9][P9](h[w9]=k,h),d||!h.setup||h.setup(f,v),h[Mo](f),r||t.sym||!e.setup||e.setup(o,t,oae),t.sym||e[Mo](o),e}set reject(e){this.reject.$set(e,this,ZRe,"reject")}get reject(){return this.reject.$get(this,ZRe,"reject")}get reject(){return this[qdr]||y((cMe=this.action(),cMe.callback=function(){return this.rejected=!0},cMe),this,ZRe,"reject",qdr,Wf.prototype)}set confirm(e){this.confirm.$set(e,this,GRe,"confirm")}get confirm(){return this.confirm.$get(this,GRe,"confirm")}get confirm(){return this[Wdr]||y((Gh=this.action(),p(Gh.x,Function)?Gh.x(OPUSER):Gh.x=OPUSER,p(Gh.if,Function)?Gh.if(function(){return OP.user}):Gh.if=function(){return OP.user},p(Gh.rpc,Function)?Gh.rpc():Gh.rpc=!0,Gh.callback=!1,Gh),this,GRe,"confirm",Wdr,Wf.prototype)}};Wf.alias="cwda",E(Wf,ztn,"ConnectWithDesktopApp",0);var aae=Wf;globalThis.ConnectWithDesktopApp=aae;var qtn=Symbol(),wl=class wl extends OPEmbed{set state(e){this.state.$set(e,this,YRe,"state")}get state(){return this.state.$get(this,YRe,"state")}get state(){return this[Zdr]||y((PF=this.enum({default:{default:!0},github:{},google:{},email:{}}),p(PF.memory,Function)?PF.memory():PF.memory=!0,PF),this,YRe,"state",Zdr,wl.prototype)}set email(e){this.email.$set(e,this,XRe,"email")}get email(){return this.email.$get(this,XRe,"email")}get email(){return this[Gdr]||y((TF=this.emailstring(),p(TF.session,Function)?TF.session():TF.session=!0,TF),this,XRe,"email",Gdr,wl.prototype)}set sentlinkto(e){this.sentlinkto.$set(e,this,KRe,"sentlinkto")}get sentlinkto(){return this.sentlinkto.$get(this,KRe,"sentlinkto")}get sentlinkto(){return this[Ydr]||y((OF=this.email(),p(OF.session,Function)?OF.session():OF.session=!0,OF),this,KRe,"sentlinkto",Ydr,wl.prototype)}set loginuser(e){this.loginuser.$set(e,this,JRe,"loginuser")}get loginuser(){return this.loginuser.$get(this,JRe,"loginuser")}get loginuser(){return this[Xdr]||y((Qm=this.action(),p(Qm.rx,Function)?Qm.rx(OPSRV):Qm.rx=OPSRV,p(Qm.rpc,Function)?Qm.rpc():Qm.rpc=!0,Qm.callback=!1,Qm),this,JRe,"loginuser",Xdr,wl.prototype)}set continuewithemail(e){this.continuewithemail.$set(e,this,QRe,"continuewithemail")}get continuewithemail(){return this.continuewithemail.$get(this,QRe,"continuewithemail")}get continuewithemail(){return this[Kdr]||y((hMe=this.action(),hMe.callback=function(){return this.state="email"},hMe),this,QRe,"continuewithemail",Kdr,wl.prototype)}set continuewithgithub(e){this.continuewithgithub.$set(e,this,eMe,"continuewithgithub")}get continuewithgithub(){return this.continuewithgithub.$get(this,eMe,"continuewithgithub")}get continuewithgithub(){return this[Jdr]||y((pMe=this.action(),pMe.callback=function(){return this.state="github"},pMe),this,eMe,"continuewithgithub",Jdr,wl.prototype)}set continuewithgoogle(e){this.continuewithgoogle.$set(e,this,tMe,"continuewithgoogle")}get continuewithgoogle(){return this.continuewithgoogle.$get(this,tMe,"continuewithgoogle")}get continuewithgoogle(){return this[Qdr]||y((dMe=this.action(),dMe.callback=function(){return this.state="google"},dMe),this,tMe,"continuewithgoogle",Qdr,wl.prototype)}set linkwithbrowser(e){this.linkwithbrowser.$set(e,this,rMe,"linkwithbrowser")}get linkwithbrowser(){return this.linkwithbrowser.$get(this,rMe,"linkwithbrowser")}get linkwithbrowser(){return this[e0r]||y((fMe=this.action(),fMe.callback=function(){let e=OP.msgpack.stringify([OP.session.id,OP.session.secret]),t=aae.for({session:OP.session,secret:OP.session.secret}),r=""+OP.origin+"/home;"+t;if(APP.electron)return APP.electron.shell.openExternal(r)},fMe),this,rMe,"linkwithbrowser",e0r,wl.prototype)}set sendlink(e){this.sendlink.$set(e,this,oMe,"sendlink")}get sendlink(){return this.sendlink.$get(this,oMe,"sendlink")}get sendlink(){return this[t0r]||y((Yh=this.action(),p(Yh.cooldown,Function)?Yh.cooldown(15*1e3):Yh.cooldown=15*1e3,p(Yh.atomic,Function)?Yh.atomic():Yh.atomic=!0,p(Yh.if,Function)?Yh.if(function(){return this.$.email.valid}):Yh.if=function(){return this.$.email.valid},Yh.callback=async function(){let e;if(this.email)return this.sentlinkto=this.email,e=await this.sendlinksrv({email:this.email,url:window.location.href})},Yh),this,oMe,"sendlink",t0r,wl.prototype)}set sendlinksrv(e){this.sendlinksrv.$set(e,this,nMe,"sendlinksrv")}get sendlinksrv(){return this.sendlinksrv.$get(this,nMe,"sendlinksrv")}get sendlinksrv(){return this[r0r]||y((S9=this.action(),p(S9.rpc,Function)?S9.rpc():S9.rpc=!0,S9.callback=!1,S9),this,nMe,"sendlinksrv",r0r,wl.prototype)}set finduserbygithubid(e){this.finduserbygithubid.$set(e,this,iMe,"finduserbygithubid")}get finduserbygithubid(){return this.finduserbygithubid.$get(this,iMe,"finduserbygithubid")}get finduserbygithubid(){return this[o0r]||y((e$=this.action(),p(e$.x,Function)?e$.x(ADMIN):e$.x=ADMIN,p(e$.rpc,Function)?e$.rpc():e$.rpc=!0,e$.callback=!1,e$),this,iMe,"finduserbygithubid",o0r,wl.prototype)}set finduserbyemail(e){this.finduserbyemail.$set(e,this,sMe,"finduserbyemail")}get finduserbyemail(){return this.finduserbyemail.$get(this,sMe,"finduserbyemail")}get finduserbyemail(){return this[n0r]||y((t$=this.action(),p(t$.x,Function)?t$.x(ADMIN):t$.x=ADMIN,p(t$.rpc,Function)?t$.rpc():t$.rpc=!0,t$.callback=!1,t$),this,sMe,"finduserbyemail",n0r,wl.prototype)}set registeruser(e){this.registeruser.$set(e,this,lMe,"registeruser")}get registeruser(){return this.registeruser.$get(this,lMe,"registeruser")}get registeruser(){return this[i0r]||y((r$=this.action(),p(r$.x,Function)?r$.x(ADMIN):r$.x=ADMIN,p(r$.rpc,Function)?r$.rpc():r$.rpc=!0,r$.callback=!1,r$),this,lMe,"registeruser",i0r,wl.prototype)}set back(e){this.back.$set(e,this,aMe,"back")}get back(){return this.back.$get(this,aMe,"back")}get back(){return this[s0r]||y((mMe=this.action(),mMe.callback=function(){return OP.user||OP.toast("Failed to login."),this.state="default",this.email="",this},mMe),this,aMe,"back",s0r,wl.prototype)}opowndialog(e,t){var a;var r,o,n=H(),i,s;return r=n[ec](nae),i=s=1,(o=r.run(this.oform(this)))||(i=s=0,r.cache(o=M(r.value,null,"ei-ay",null))),i||(o[en]=n._),i||((a=o[bMe])==null||a.call(o,n,nae)),o[tc]&&(i||o.on$("opnav",{deep:!0,stack:!0},this),(!i||s&2)&&o.flags.reconcile(nae,"ei-ay"),i||n.sym||!o.setup||o.setup(s,n,nae),n.sym||o[Mo](s)),o}escaped(e){return this.state.default?e.target.emit("cancel"):(this.state="default",e.preventDefault(),e.stopPropagation())}opownform(){var Or;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr;return t.this=this,f=m=1,(d=t[iae])||(f=m=0,d=t[iae]=d=R("op",null,"ei-az ui ocontainer",null)),f||(d[en]=t._),f||((Or=d[bMe])==null||Or.call(d,t,iae)),$=d[o$]("__",d),b=!OP.user||void 0,b===d[$Me]||(m|=2,d[$Me]=b),b=this,b===d[v0r]||(d.data=d[v0r]=b),f||d.on$("hotkey",{options:["esc"],focin:!0,force:!0,$_:[function(Ao,mn){return t.this.escaped(Ao)}]},this),b=this.state,b===d[yMe]||(m|=2,d[yMe]=b),m&2&&d.flag$("ei-az ui ocontainer "+(d[$Me]?"nouser":"")+" "+(d[yMe]||"")),x=k=1,(g=d[w0r])||(x=k=0,d[w0r]=g=w("main",$,"ei-ba obody ei_az",null)),_=d[S0r]||(d[S0r]={emit:["resolve",null]}),_.emit[1]=OP.user,x||g.on$("success",_,this),h=null,this.state.github?(S=v=1,(h=d[C0r])||(S=v=0,d[C0r]=h=R("op-sheet",null,"ei-bb ei_az",null)),S||(h[en]=g),C=h[o$]("__",h),S||h.on$("success",{toast:["Authenticated with GitHub"],$_:[function(Ao,mn){return t.this.back(Ao)}]},this),P=U=1,(j=h[E0r])||(P=U=0,h[E0r]=j=R("op-popup-proxy",C,"ei-bc ei_az",null)),O=j[o$]("__",j),P||(j.url="/auth/github"),P||(j.w=0),P||(j.h=0),L=500,L===j[j0r]||(j.delay=j[j0r]=L),P||j.on$("timeout",{log:["Timed out"]},this),P||(I=w("p",O,"ei_az","Opening GitHub in popup")),r=o=null,OP.user?(F=N=1,(r=j[A0r])||(F=N=0,j[A0r]=r=w("p",null,"ei_az","You are authenticated")),F||(r[en]=O),V=j[ec](Ctn),W=z=1,(o=V.run(this.obutton(this.back)))||(W=z=0,V.cache(o=M(V.value,null,"ei_az",null))),W||(o[en]=O),o[tc]&&((!W||z&2)&&o.flags.reconcile(Stn,"ei_az"),W||!o.setup||o.setup(z,V),o[Mo](z))):(q=Y=1,(r=j[U0r])||(q=Y=0,j[U0r]=r=w("p",null,"ei_az","Waiting for user to authenticate")),q||(r[en]=O),K=j[ec](jtn),X=Z=1,(o=K.run(this.obutton(this.back)))||(X=Z=0,K.cache(o=M(K.value,null,"ei_az",null))),X||(o[en]=O),o[tc]&&((!X||Z&2)&&o.flags.reconcile(Etn,"ei_az"),X||!o.setup||o.setup(Z,K),o[Mo](Z))),j[P0r]=O[Ra](r,0,j[P0r]),j[T0r]=O[Ra](o,0,j[T0r]),P||!j.setup||j.setup(U,Q),j[Mo](U),P||C[lae](j),S||!h.setup||h.setup(v,ee),h[Mo](v)):this.state.google?(te=ne=1,(h=d[O0r])||(te=ne=0,d[O0r]=h=R("op-sheet",null,"ei-bi ei_az",null)),te||(h[en]=g),ie=h[o$]("__",h),te||h.on$("success",{toast:["Authenticated with Google"],$_:[function(Ao,mn){return t.this.back(Ao)}]},this),me=ce=1,(J=h[R0r])||(me=ce=0,h[R0r]=J=R("op-popup-proxy",ie,"ei_az",null)),ye=J[o$]("__",J),me||(J.url="/auth/google"),me||(J.w=0),me||(J.h=0),we=500,we===J[M0r]||(J.delay=J[M0r]=we),me||J.on$("timeout",{log:["Timed out"]},this),me||(ae=w("p",ye,"ei_az","Opening Google Auth in popup")),n=i=null,OP.user?(be=_e=1,(n=J[L0r])||(be=_e=0,J[L0r]=n=w("p",null,"ei_az","You are authenticated")),be||(n[en]=ye),Ae=J[ec](Utn),ve=Pe=1,(i=Ae.run(this.obutton(this.back)))||(ve=Pe=0,Ae.cache(i=M(Ae.value,null,"ei_az",null))),ve||(i[en]=ye),i[tc]&&((!ve||Pe&2)&&i.flags.reconcile(Atn,"ei_az"),ve||!i.setup||i.setup(Pe,Ae),i[Mo](Pe))):(He=Ue=1,(n=J[D0r])||(He=Ue=0,J[D0r]=n=w("p",null,"ei_az","Waiting for user to authenticate")),He||(n[en]=ye),Be=J[ec](Ttn),je=ue=1,(i=Be.run(this.obutton(this.back)))||(je=ue=0,Be.cache(i=M(Be.value,null,"ei_az",null))),je||(i[en]=ye),i[tc]&&((!je||ue&2)&&i.flags.reconcile(Ptn,"ei_az"),je||!i.setup||i.setup(ue,Be),i[Mo](ue))),J[N0r]=ye[Ra](n,0,J[N0r]),J[I0r]=ye[Ra](i,0,J[I0r]),me||!J.setup||J.setup(ce,xe),J[Mo](ce),me||ie[lae](J),te||!h.setup||h.setup(ne,Re),h[Mo](ne)):OP.user?(Oe=qe=1,(h=d[F0r])||(Oe=qe=0,d[F0r]=h=R("op-sheet",null,"ei-bp ei_az",null)),Oe||(h[en]=g),Ne=h[o$]("__",h),Oe||(Ie=w("h2",Ne,"ei_az","Welcome!")),Oe||(Ke=w("h2",Ne,"ei_az","You are now signed in.")),Oe||(Te=w("p",Ne,"ei-bs ei_az","You can close this message.")),Oe||!h.setup||h.setup(qe,Ce),h[Mo](qe)):this.state.email?(Ze=et=1,(h=d[H0r])||(Ze=et=0,d[H0r]=h=R("op-sheet",null,"ei-bt vcs lg ei_az",null)),Ze||(h[en]=g),ft=h[o$]("__",h),Ze||(Ge=w("p",ft,"ei-bu ei_az","We are now using passwordless login at Scrimba! Whether you have an existing account with us or not, just enter your email and click 'Send Link'.")),ct=rt=1,(Je=h[B0r])||(ct=rt=0,h[B0r]=Je=w("div",ft,"ei-bv ei_az",null)),$t=Je[ec](Otn),tt=ze=1,(it=$t.run(this.oinput(this.$.email)))||(tt=ze=0,$t.cache(it=M($t.value,Je,"ei-bw xl ei_az",null))),it[tc]&&(tt||it.on$("intersect",{in:!0,$_:[function(Ao,mn){return Ao.target.opfocus()}]},this),(!tt||ze&2)&&it.flags.reconcile(C9,"ei-bw xl ei_az"),tt||!it.setup||it.setup(ze,$t),it[Mo](ze)),it==Je[C9]||!Je[C9]&&(Je[C9]=it)[U9](Je)||Je[C9][P9](Je[C9]=it,Je),ct||!Je.setup||Je.setup(rt,at),Je[Mo](rt),yt=vt=1,(st=h[V0r])||(yt=vt=0,h[V0r]=st=w("div",ft,"ei-bx ei_az",null)),nt=st[ec](Rtn),jt=bt=1,(Ct=nt.run(this.obutton(this.back)))||(jt=bt=0,nt.cache(Ct=M(nt.value,st,"ei_az",null))),Ct[tc]&&(jt||(Ct.role="button"),jt||Ct.on$("opnav",{},this),(!jt||bt&2)&&Ct.flags.reconcile(E9,"ei_az"),jt||!Ct.setup||Ct.setup(bt,nt),Ct[Mo](bt)),Ct==st[E9]||!st[E9]&&(st[E9]=Ct)[U9](st)||st[E9][P9](st[E9]=Ct,st),Xe=st[ec](Mtn),Dt=mt=1,(ht=Xe.run(this.obutton(this.sendlink)))||(Dt=mt=0,Xe.cache(ht=M(Xe.value,st,"pri ei_az",null))),ht[tc]&&(Dt||(ht.role="button"),Dt||ht.on$("opnav",{},this),(!Dt||mt&2)&&ht.flags.reconcile(j9,"pri ei_az"),Dt||!ht.setup||ht.setup(mt,Xe),ht[Mo](mt)),ht==st[j9]||!st[j9]&&(st[j9]=ht)[U9](st)||st[j9][P9](st[j9]=ht,st),yt||!st.setup||st.setup(vt,At),st[Mo](vt),Ze||!h.setup||h.setup(et,Ut),h[Mo](et)):this.state.default&&(kt=_t=1,(h=d[z0r])||(kt=_t=0,d[z0r]=h=R("op-sheet",null,"ei-ca ei_az",null)),kt||(h[en]=g),xt=h[o$]("__",h),(Mt=h[q0r])||(h[q0r]=Mt=w("div",xt,"ei-cb xl ei_az",null)),s=null,globalThis.url.params.signin=="invite"?(Ot=tr=1,(s=h[W0r])||(Ot=tr=0,h[W0r]=s=w("p",null,"ei_cb ei_az","Please log in to accept your invitation.")),Ot||(s[en]=Mt)):globalThis.url.params.signin=="discord"&&(lt=fe=1,(s=h[Z0r])||(lt=fe=0,h[Z0r]=s=w("p",null,"ei_cb ei_az","Please log in to connect with discord.")),lt||(s[en]=Mt)),h[G0r]=Mt[Ra](s,0,h[G0r]),ut=Rt=1,(Me=h[Y0r])||(ut=Rt=0,h[Y0r]=Me=w("div",Mt,"ei-ce buttons ei_cb ei_az",null)),a=null,globalThis.electron&&(St=Me[ec](Dtn),Yt=rr=1,(a=St.run(this.obutton(this.linkwithbrowser)))||(Yt=rr=0,St.cache(a=M(St.value,null,"blue ei_ce ei_cb ei_az",null))),Yt||(a[en]=Me),a[tc]&&(Yt||(a.prefix="browser"),Yt||a.on$("opnav",{},this),Yt||a.set$("autofocus","autofocus"),(!Yt||rr&2)&&a.flags.reconcile(Ltn,"blue ei_ce ei_cb ei_az"),Yt||!a.setup||a.setup(rr,St),a[Mo](rr))),Me[X0r]=Me[Ra](a,0,Me[X0r]),u=c=null,globalThis.embed||(er=Me[ec](Itn),Zt=Nr=1,(u=er.run(this.obutton(this.continuewithgithub)))||(Zt=Nr=0,er.cache(u=M(er.value,null,"blue ei_ce ei_cb ei_az",null))),Zt||(u[en]=Me),u[tc]&&(Zt||(u.prefix="github"),Zt||u.on$("opnav",{},this),Zt||u.set$("autofocus","autofocus"),(!Zt||Nr&2)&&u.flags.reconcile(Ntn,"blue ei_ce ei_cb ei_az"),Zt||!u.setup||u.setup(Nr,er),u[Mo](Nr)),globalThis.embed||(or=Me[ec](Htn),Tr=xo=1,(c=or.run(this.obutton(this.continuewithgoogle)))||(Tr=xo=0,or.cache(c=M(or.value,null,"blue ei_ce ei_cb ei_az",null))),Tr||(c[en]=Me),c[tc]&&(Tr||(c.prefix="google"),Tr||c.on$("opnav",{},this),(!Tr||xo&2)&&c.flags.reconcile(Ftn,"blue ei_ce ei_cb ei_az"),Tr||!c.setup||c.setup(xo,or),c[Mo](xo)))),Me[K0r]=Me[Ra](u,0,Me[K0r]),Me[J0r]=Me[Ra](c,0,Me[J0r]),qr=Me[ec](Btn),to=mr=1,(Wr=qr.run(this.obutton(this.continuewithemail)))||(to=mr=0,qr.cache(Wr=M(qr.value,Me,"blue ei_ce ei_cb ei_az",null))),Wr[tc]&&(to||(Wr.prefix="email"),to||Wr.on$("opnav",{},this),(!to||mr&2)&&Wr.flags.reconcile(A9,"blue ei_ce ei_cb ei_az"),to||!Wr.setup||Wr.setup(mr,qr),Wr[Mo](mr)),Wr==Me[A9]||!Me[A9]&&(Me[A9]=Wr)[U9](Me)||Me[A9][P9](Me[A9]=Wr,Me),ut||!Me.setup||Me.setup(Rt,Go),Me[Mo](Rt),kt||(fn=w("p",Mt,"ei_cb ei_az","If you do not have an account, choose your preferred method to create one.")),kt||!h.setup||h.setup(_t,Yr),h[Mo](_t)),d[Q0r]=g[Ra](h,0,d[Q0r]),f||t.sym||!d.setup||d.setup(m,t,iae),t.sym||d[Mo](m),d}};E(wl,qtn,"AuthService",0);var gMe=wl;globalThis.AuthService=gMe;var Wtn=Symbol(),cae=class cae extends de{get $validation(){let e=w("div",null,`ei-cn ${this._ns_||""} $validation`,null);return Object.defineProperty(this,"$validation",{value:e}),e}render(){var e=this,t,r,o,n=this._ns_||"",i,s;return t=this,t[kMe](),r=o=1,t[efr]===1||(r=o=0,t[efr]=1),r||t.on$("point",{contour:!0},this),r||t.on$("focusin",{},this),r||t.on$("focusout",{},this),r||t.on$("input",{$_:[function(a,u){return e.interact(a)}]},this),i=t.__slots.__,t[tfr]=t[Ra](i,128,t[tfr]),(s=t[rfr])||(t[rfr]=(s=this.$validation,s[en]=t,s)),r||t[lae](s),t[_Me](o),t}rendered(){return this.refresh()}interact(){return this.flags.add("interacted")}refresh(){var t;let e;if(e=this.children[0].checkValidity&&this.children[0]){let r=e.checkValidity();return this.validity=r,(t=e.value)!=null&&t.length&&this.flags.add("interacted"),this.flags.toggle("valid",!!r),this.flags.toggle("invalid",r==!1),this.contour}}};E(cae,Wtn,"oinput",2),pe("oinput",cae,{cssid:"ei-ck"});var afr=cae,Ztn=Symbol(),hae=class hae extends Ve("op","OpComponent",de){get $body(){let e=w("div",null,`body ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}transitionin(){let e;if(e=this.querySelector("[autofocus]"))return setTimeout(function(){return e.focus()},0)}transitionoutend(){return!0}transitionout(){var e,t;if(this.focin)return(t=(e=this.op.container)==null?void 0:e.focus)==null?void 0:t.call(e)}render(){var e,t,r,o,n,i,s=this._ns_||"",a,u;return e=this,e[kMe](),t=r=1,e[ofr]===1||(t=r=0,e[ofr]=1),t||(e.ease="ease"),n=i=1,(o=e[nfr])||(n=i=0,e[nfr]=(o=this.$body,o[en]=e,o)),a=e.__slots.__,o[ifr]=o[Ra](a,384,o[ifr]),n||!o.setup||o.setup(i,u),o[Mo](i),n||e[lae](o),e[_Me](r),e}};E(hae,Ztn,"op-sheet",2),pe("op-sheet",hae,{cssns:"ei_co",cssid:"ei-co"});var ufr=hae;T();oe();$e();var xMe=Symbol("id"),cfr=Symbol(),vMe=Symbol("genid"),hfr=Symbol(),wMe=Symbol("model"),pfr=Symbol(),SMe=Symbol("purpose"),dfr=Symbol(),CMe=Symbol("opts"),ffr=Symbol(),EMe=Symbol("raw"),mfr=Symbol(),jMe=Symbol("cache_discount"),$fr=Symbol(),AMe=Symbol("total_cost"),yfr=Symbol(),UMe=Symbol("their_duration"),bfr=Symbol(),PMe=Symbol("our_duration"),gfr=Symbol(),TMe=Symbol("agent_role"),kfr=Symbol(),OMe=Symbol("ctx"),_fr=Symbol(),RMe=Symbol("creator"),xfr=Symbol(),MMe=Symbol("id"),vfr=Symbol(),LMe=Symbol("name"),wfr=Symbol(),DMe=Symbol("model_id"),Sfr=Symbol(),NMe=Symbol("created"),Cfr=Symbol(),IMe=Symbol("context"),Efr=Symbol(),FMe=Symbol("input_price"),jfr=Symbol(),HMe=Symbol("output_price"),Afr=Symbol(),BMe=Symbol("raw"),Ufr=Symbol(),VMe=Symbol("record-stats"),Pfr=Symbol(),zMe=Symbol("completion"),Tfr=Symbol(),qMe=Symbol("id"),Ofr=Symbol(),WMe=Symbol("refresh-models"),Rfr=Symbol(),g8,RF,Mfr,Lfr,Dfr,Nfr,Ifr,Ffr,Hfr,Bfr,Vfr,zfr,qfr,MF,Wfr,k8,LF,DF,NF,IF,Zfr,pae=Symbol(),Gfr=Symbol(),Yfr=Symbol(),Xfr=Symbol(),dae=Symbol(),Kfr=Symbol(),Jfr=Symbol(),Qfr=Symbol(),e2r=Symbol(),T9,n$,FF,i$,t2r=Symbol.for("##up"),r2r=Symbol.for("##register"),o2r=Symbol.for("#getSlot"),n2r=Symbol.for("#placeChild"),i2r=Symbol.for("#afterVisit"),Gtn=Symbol(),Ql=class Ql extends OPObject{set id(e){this.id.$set(e,this,xMe,"id")}get id(){return this.id.$get(this,xMe,"id")}get id(){return this[cfr]||y((g8=this.key(),p(g8.rwxcd,Function)?g8.rwxcd(ADMIN):g8.rwxcd=ADMIN,p(g8.silent,Function)?g8.silent():g8.silent=!0,g8),this,xMe,"id",cfr,Ql.prototype)}set genid(e){this.genid.$set(e,this,vMe,"genid")}get genid(){return this.genid.$get(this,vMe,"genid")}get genid(){return this[hfr]||y((RF=this.string(),p(RF.composite,Function)?RF.composite():RF.composite=!0,RF),this,vMe,"genid",hfr,Ql.prototype)}set model(e){this.model.$set(e,this,wMe,"model")}get model(){return this.model.$get(this,wMe,"model")}get model(){return this[pfr]||y((Mfr=this.ref(_8),Mfr),this,wMe,"model",pfr,Ql.prototype)}set purpose(e){this.purpose.$set(e,this,SMe,"purpose")}get purpose(){return this.purpose.$get(this,SMe,"purpose")}get purpose(){return this[dfr]||y((Lfr=this.string(),Lfr),this,SMe,"purpose",dfr,Ql.prototype)}set opts(e){this.opts.$set(e,this,CMe,"opts")}get opts(){return this.opts.$get(this,CMe,"opts")}get opts(){return this[ffr]||y((Dfr=this.json(),Dfr),this,CMe,"opts",ffr,Ql.prototype)}set raw(e){this.raw.$set(e,this,EMe,"raw")}get raw(){return this.raw.$get(this,EMe,"raw")}get raw(){return this[mfr]||y((Nfr=this.json(),Nfr),this,EMe,"raw",mfr,Ql.prototype)}set cache_discount(e){this.cache_discount.$set(e,this,jMe,"cache_discount")}get cache_discount(){return this.cache_discount.$get(this,jMe,"cache_discount")}get cache_discount(){return this[$fr]||y((Ifr=this.bool(),Ifr),this,jMe,"cache_discount",$fr,Ql.prototype)}set total_cost(e){this.total_cost.$set(e,this,AMe,"total_cost")}get total_cost(){return this.total_cost.$get(this,AMe,"total_cost")}get total_cost(){return this[yfr]||y((Ffr=this.float(),Ffr),this,AMe,"total_cost",yfr,Ql.prototype)}set their_duration(e){this.their_duration.$set(e,this,UMe,"their_duration")}get their_duration(){return this.their_duration.$get(this,UMe,"their_duration")}get their_duration(){return this[bfr]||y((Hfr=this.float(),Hfr),this,UMe,"their_duration",bfr,Ql.prototype)}set our_duration(e){this.our_duration.$set(e,this,PMe,"our_duration")}get our_duration(){return this.our_duration.$get(this,PMe,"our_duration")}get our_duration(){return this[gfr]||y((Bfr=this.float(),Bfr),this,PMe,"our_duration",gfr,Ql.prototype)}set agent_role(e){this.agent_role.$set(e,this,TMe,"agent_role")}get agent_role(){return this.agent_role.$get(this,TMe,"agent_role")}get agent_role(){return this[kfr]||y((Vfr=this.string(),Vfr),this,TMe,"agent_role",kfr,Ql.prototype)}set ctx(e){this.ctx.$set(e,this,OMe,"ctx")}get ctx(){return this.ctx.$get(this,OMe,"ctx")}get ctx(){return this[_fr]||y((zfr=this.string(),zfr),this,OMe,"ctx",_fr,Ql.prototype)}set creator(e){this.creator.$set(e,this,RMe,"creator")}get creator(){return this.creator.$get(this,RMe,"creator")}get creator(){return this[xfr]||y((qfr=this.ref(OPAgent),qfr),this,RMe,"creator",xfr,Ql.prototype)}};E(Ql,Gtn,"LanguageModelRun",0);var ZMe=Ql;globalThis.LanguageModelRun=ZMe;var s2r=Symbol(),Jc=class Jc extends OPObject{constructor(){super(...arguments),super[A]||this[A](),re(this,s2r)}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.rate_limit_timeout=e?e.rate_limit_timeout:void 0}set id(e){this.id.$set(e,this,MMe,"id")}get id(){return this.id.$get(this,MMe,"id")}get id(){return this[vfr]||y((MF=this.key(),p(MF.rwxcd,Function)?MF.rwxcd(ADMIN):MF.rwxcd=ADMIN,MF),this,MMe,"id",vfr,Jc.prototype)}set name(e){this.name.$set(e,this,LMe,"name")}get name(){return this.name.$get(this,LMe,"name")}get name(){return this[wfr]||y((Wfr=this.string(),Wfr),this,LMe,"name",wfr,Jc.prototype)}set model_id(e){this.model_id.$set(e,this,DMe,"model_id")}get model_id(){return this.model_id.$get(this,DMe,"model_id")}get model_id(){return this[Sfr]||y((k8=this.string(),p(k8.composite,Function)?k8.composite():k8.composite=!0,p(k8.stat,Function)?k8.stat():k8.stat=!0,k8),this,DMe,"model_id",Sfr,Jc.prototype)}set created(e){this.created.$set(e,this,NMe,"created")}get created(){return this.created.$get(this,NMe,"created")}get created(){return this[Cfr]||y((LF=this.ts(),p(LF.stat,Function)?LF.stat():LF.stat=!0,LF),this,NMe,"created",Cfr,Jc.prototype)}set context(e){this.context.$set(e,this,IMe,"context")}get context(){return this.context.$get(this,IMe,"context")}get context(){return this[Efr]||y((DF=this.int(),p(DF.stat,Function)?DF.stat():DF.stat=!0,DF),this,IMe,"context",Efr,Jc.prototype)}set input_price(e){this.input_price.$set(e,this,FMe,"input_price")}get input_price(){return this.input_price.$get(this,FMe,"input_price")}get input_price(){return this[jfr]||y((NF=this.int(),p(NF.stat,Function)?NF.stat():NF.stat=!0,NF),this,FMe,"input_price",jfr,Jc.prototype)}set output_price(e){this.output_price.$set(e,this,HMe,"output_price")}get output_price(){return this.output_price.$get(this,HMe,"output_price")}get output_price(){return this[Afr]||y((IF=this.int(),p(IF.stat,Function)?IF.stat():IF.stat=!0,IF),this,HMe,"output_price",Afr,Jc.prototype)}set raw(e){this.raw.$set(e,this,BMe,"raw")}get raw(){return this.raw.$get(this,BMe,"raw")}get raw(){return this[Ufr]||y((Zfr=this.json(),Zfr),this,BMe,"raw",Ufr,Jc.prototype)}get aslabel(){return this.name}get asicon(){return"ai"}opcontextvaluelabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[pae])||(r=o=0,e=t[pae]=e=R("op",null,null,null)),r||(e[t2r]=t._),r||((s=e[r2r])==null||s.call(e,t,pae)),n=e[o2r]("__",e),pt.context=e[Yfr]||(e[Yfr]={_:n}),i=this.context.toLocaleString(),pt.context=null,i===e[Xfr]&&r||(e[Gfr]=n[n2r](e[Xfr]=i,384,e[Gfr])),r||t.sym||!e.setup||e.setup(o,t,pae),t.sym||e[i2r](o),e}opownpagebody(){var a;var e,t=H(),r,o,n,i,s;return r=o=1,(e=t[dae])||(r=o=0,e=t[dae]=e=R("op",null,null,null)),r||(e[t2r]=t._),r||((a=e[r2r])==null||a.call(e,t,dae)),n=e[o2r]("__",e),(i=e[Kfr])||(e[Kfr]=i=w("pre",n,"cbn-ah",null)),pt.context=e[Qfr]||(e[Qfr]={_:i}),s=JSON.stringify(this.raw,null,2),pt.context=null,s===e[e2r]&&r||(e[Jfr]=i[n2r](e[e2r]=s,256,e[Jfr])),r||t.sym||!e.setup||e.setup(o,t,dae),t.sym||e[i2r](o),e}set recordstats(e){this.recordstats.$set(e,this,VMe,"recordstats")}get recordstats(){return this.recordstats.$get(this,VMe,"recordstats")}get recordstats(){return this[Pfr]||y((T9=this.action(),p(T9.rpc,Function)?T9.rpc():T9.rpc=!0,T9.callback=!1,T9),this,VMe,"recordstats",Pfr,Jc.prototype)}set completion(e){this.completion.$set(e,this,zMe,"completion")}get completion(){return this.completion.$get(this,zMe,"completion")}get completion(){return this[Tfr]||y((n$=this.action(),p(n$.rx,Function)?n$.rx(ADMIN|TEACHER):n$.rx=ADMIN|TEACHER,p(n$.rpc,Function)?n$.rpc():n$.rpc=!0,n$.callback=!1,n$),this,zMe,"completion",Tfr,Jc.prototype)}};E(Jc,s2r,"LanguageModel",16);var _8=Jc;globalThis.LanguageModel=_8;var Ytn=Symbol(),HF=class HF extends OPEmbed{set id(e){this.id.$set(e,this,qMe,"id")}get id(){return this.id.$get(this,qMe,"id")}get id(){return this[Ofr]||y((FF=this.key(),p(FF.rwxcd,Function)?FF.rwxcd(ADMIN):FF.rwxcd=ADMIN,FF),this,qMe,"id",Ofr,HF.prototype)}get gpt_5_mini(){return _8.for({model_id:"openai/gpt-5-mini"})}get gpt_5(){return _8.for({model_id:"openai/gpt-5"})}get gpt_4o(){return _8.for({model_id:"openai/gpt-4o"})}get o1(){return _8.for({model_id:"openai/o1"})}set refreshmodels(e){this.refreshmodels.$set(e,this,WMe,"refreshmodels")}get refreshmodels(){return this.refreshmodels.$get(this,WMe,"refreshmodels")}get refreshmodels(){return this[Rfr]||y((i$=this.action(),p(i$.atomic,Function)?i$.atomic():i$.atomic=!0,p(i$.rpc,Function)?i$.rpc():i$.rpc=!0,i$.callback=!1,i$),this,WMe,"refreshmodels",Rfr,HF.prototype)}};E(HF,Ytn,"AI",0);var GMe=HF;globalThis.AI=GMe;T();oe();var YMe=Symbol("hash"),l2r=Symbol(),XMe=Symbol("url"),a2r=Symbol(),KMe=Symbol("asset"),u2r=Symbol(),JMe=Symbol("cache"),c2r=Symbol(),BF,h2r,p2r,s$,Xtn=Symbol(),x8=class x8 extends OPObject{set hash(e){this.hash.$set(e,this,YMe,"hash")}get hash(){return this.hash.$get(this,YMe,"hash")}get hash(){return this[l2r]||y((BF=this.bytea(),p(BF.composite,Function)?BF.composite():BF.composite=!0,BF),this,YMe,"hash",l2r,x8.prototype)}set url(e){this.url.$set(e,this,XMe,"url")}get url(){return this.url.$get(this,XMe,"url")}get url(){return this[a2r]||y((h2r=this.url(),h2r),this,XMe,"url",a2r,x8.prototype)}set asset(e){this.asset.$set(e,this,KMe,"asset")}get asset(){return this.asset.$get(this,KMe,"asset")}get asset(){return this[u2r]||y((p2r=this.ref(OPAsset),p2r),this,KMe,"asset",u2r,x8.prototype)}set cache(e){this.cache.$set(e,this,JMe,"cache")}get cache(){return this.cache.$get(this,JMe,"cache")}get cache(){return this[c2r]||y((s$=this.action(),p(s$.atomic,Function)?s$.atomic():s$.atomic=!0,p(s$.rpc,Function)?s$.rpc():s$.rpc=!0,s$.callback=!1,s$),this,JMe,"cache",c2r,x8.prototype)}static async fromurl(e){p(e,URL)&&(e=e.href);let t=OP.hash(e,"binary"),r=await this.for({hash:t});return r.asset||await r.cache(e),r}};x8.alias="cr",E(x8,Xtn,"CachedResource",0);var QMe=x8;globalThis.CachedResource=QMe;T();oe();function Ktn(l,e){return l[l.length+e]}We();var $2r=le("&.page?",globalThis,l=>l.page),y2r=le("&.object",globalThis,l=>l.object),Jtn=le("&.raw",globalThis,l=>l.raw),Qtn=le("&.sheet?",globalThis,l=>l.sheet),ern=Symbol.for("#redirected"),trn={},d2r=Symbol(),tLe=class tLe{constructor(e=null){this[A](e),re(this,d2r)}[A](e=null,t=!0,r=!0){var o;this.url=e&&(o=e.url)!==void 0?o:null,this.raw=e&&(o=e.raw)!==void 0?o:"",this.segments=e&&(o=e.segments)!==void 0?o:[],this.main=e?e.main:void 0}async resolve(){return await this.segments[0].resolve(),this.main||=this.segments.findLast($2r)||this.segments[0],this}apply(){var e,t;return(t=(e=this.main)==null?void 0:e.apply)==null||t.call(e),this}get sheet(){var e,t;return this.url.page!=this||((t=(e=this.main)==null?void 0:e.target)==null?void 0:t.sheet)}get objects(){return this.segments.map(y2r)}find(e){return this.segments.find(e)}redirect(e){return this[ern]=e,Xt.replace(e)}get prev(){return this.url.layers.before(this)}get next(){return this.url.layers.after(this)}get object(){var e;return(e=this.main)==null?void 0:e.object}get target(){var e;return(e=this.main)==null?void 0:e.target}leave({replace:e=!1}={}){var r;let t=((r=this.prev)==null?void 0:r.raw)||"/";return e?Xt.replace(t):Xt.go(t)}};E(tLe,d2r,"OPResolvedRoute",16);var fae=tLe;globalThis.OPResolvedRoute=fae;var f2r=Symbol(),rLe=class rLe{constructor(e=null){this[A](e),re(this,f2r)}[A](e=null,t=!0,r=!0){var o;this.url=e&&(o=e.url)!==void 0?o:null,this.route=e?e.route:void 0,this.object=e&&(o=e.object)!==void 0?o:null,this.renderer=e&&(o=e.renderer)!==void 0?o:null,this.parent=e&&(o=e.parent)!==void 0?o:null,this.child=e&&(o=e.child)!==void 0?o:null,this.raw=e&&(o=e.raw)!==void 0?o:""}get tab(){return this.child}get up(){return this.parent}get root(){return this.parent?this.parent.root:this}get target(){var e,t;return this.renderer||((t=(e=this.object)==null?void 0:e.oprouterenderer)==null?void 0:t.call(e,this))||this.object}get children(){let e=[],t=this.child;for(;t;)e.push(t),t=t.child;return e}get scope(){var e;return(e=this.child)==null?void 0:e.object}get scopes(){return this.children.map(y2r)}get objects(){return[this.object].concat(this.scopes)}get context(){return this.parent?this.parent.object:null}get contexts(){let e=[],t=this.parent;for(;t;)e.unshift(t.object),t=t.parent;return e}get page(){var e;return this.raw[0]=="/"&&((e=this.target)==null?void 0:e.page)!=!1}get active(){return this.url==APP.url}get page(){return this.root.findLast($2r)}find(...e){return[this,...this.children].find(function(t){if(e.every(function(r){return r(t)}))return!0})}findLast(...e){return[this,...this.children].findLast(function(t){if(e.every(function(r){return r(t)}))return!0})}last(...e){return this.findLast(...e)}get base(){return(this.parent?this.parent.base:"")+this.raw}get path(){return[this.root,...this.root.children].map(Jtn).join("")}get prev(){let e=this.url.layers.indexOf(this.root);return this.url.layers[e-1]}get next(){let e=this.url.layers.indexOf(this.root);return this.url.layers[e+1]}leave(){var t;let e=((t=this.prev)==null?void 0:t.route)||"/";return Xt.go(e)}go(e){let t=this.base;return e&&(t+=":"+e),Xt.go(t)}redirect(e){return this.route.redirect(e)}toString(){return this.path}get value(){return this.raw.replace(/^[\/\:]+/,"")}async resolve(){var t,r;let e=((t=this.parent)==null?void 0:t.object)||APP;if(!this.object){let o=this.value,n=p(e.opresolveroute,Function)?await e.opresolveroute(o,this):o;this.object||=n,await((r=n==null?void 0:n.opmatchedroute)==null?void 0:r.call(n,this))}return this.child&&await this.child.resolve(),this}apply(){if(this.target&&typeof this.target!="string"&&(this.target.$route=this),this.child)return this.child.apply()}};E(rLe,f2r,"OPRouteSegment",16);var mae=rLe;globalThis.OPRouteSegment=mae;var m2r=Symbol(),O9=class O9 extends Array{[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.page=e?e.page:void 0,this.root=e?e.root:void 0}static parse(e){p(e,Array)&&(e=e.join("/"));let t=e.indexOf("?");return t>=0&&(e=e.slice(0,t)),trn[e]||=new this(e)}constructor(e){super(),super[A]||this[A](),this.path=e,this.parse(),re(this,m2r)}get sheets(){return this.stack.filter(Qtn)}async parse(){let t=this.path.split("#")[0].split(";");this.layers=this.stack=[];for(let r=0,o=B(t),n=o.length;r<n;r++){let i=o[r],s=i.split(/(?=[\/\:\;])/),a=new fae({url:this,raw:i}),u=a.segments=[];this.page||=a,this.root||=a;let c;for(let h=0,d=B(s),f=d.length;h<f;h++){let m=d[h],$=new mae({route:a,parent:c,url:this,raw:m});c&&(c.child=$),c=$,u.push(c)}await a.resolve(),this.stack.push(a)}return!0}get ide(){return this.stack.find(function(e){var t;return((t=e.main)==null?void 0:t.renderer)==APP.ide})}apply(){for(let e=0,t=B(this.stack),r=t.length;e<r;e++)t[e].apply();Cr();try{Ktn(this.root.objects,-1).routed()}catch{}return this}url(e=this.view){let t=typeof e=="number"?e:this.indexOf(e);return this.path.split("/").slice(0,t+1).join("/")}relative(e,...t){let r=this.indexOf(e),o=[""];if(r>=0){o=this.plain.slice(0,r+1);for(let n=0,i=B(t),s=i.length;n<s;n++){let a=i[n];o.push(String(a))}}else o.push(e,...t);return O9.parse(o)}pop(e){let t=this.indexOf(e);if(t>0)return this.url(this[t-1])}inside(e){let t=this.indexOf(e);return t>0?this.slice(t+1):null}to(e,t){return this.indexOf(e)>=0?this.url(e)+"/":e.asurl}get breadcrumbs(){return this.slice(0,this.indexOf(this.page)+1)}contains(e){return this.indexOf(e)>=0}indexOf(e){let t=super.indexOf(e);return t==-1&&typeof e=="string"&&(t=this.plain.indexOf(e)),t}toString(){return this.path}open(e,t,r={}){var n,i,s,a,u;if(t=(t==null?void 0:t.original)||t,typeof e=="string"){(e[0]=="/"||e.match(/^https?\:/))&&window.open(e,"_blank");return}let o=this.to(e,t==null?void 0:t.context);if((n=e==null?void 0:e.kind)!=null&&n.template){let c=((u=(a=(s=(i=t==null?void 0:t.target)==null?void 0:i.op)==null?void 0:s.closest)==null?void 0:a.call(s,Topic))==null?void 0:u.data)||(e.owner!=OP.user?e.owner:null);c&&(o="/new?in="+c.id+"&tpl="+e.id)}return t!=null&&t.metaKey||r!=null&&r.blank?window.open(o,"_blank"):Xt.go(o),!0}static get[Symbol.species](){return Array}};O9.prototype[Le]=De,se([ho.bind([])],O9.prototype,"parse",null),E(O9,m2r,"AppUrl",280);var eLe=O9;globalThis.AppUrl=eLe;T();oe();var oLe=Symbol("color"),b2r=Symbol(),nLe=Symbol("title"),g2r=Symbol(),iLe=Symbol("intro"),k2r=Symbol(),_2r,VF,zF,sLe=Symbol(),x2r=Symbol(),v2r=Symbol(),rrn=Symbol.for("##up"),orn=Symbol.for("##register"),nrn=Symbol.for("#placeChild"),$ae=Symbol(),R9=class R9 extends Qe($ae,OPEmbed,Linkable){constructor(){super(...arguments),super[A]||this[A](),re(this,$ae)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[$ae])==null||o.call(this,...arguments)}set color(e){this.color.$set(e,this,oLe,"color")}get color(){return this.color.$get(this,oLe,"color")}get color(){return this[b2r]||y((_2r=this.color(),_2r),this,oLe,"color",b2r,R9.prototype)}set title(e){this.title.$set(e,this,nLe,"title")}get title(){return this.title.$get(this,nLe,"title")}get title(){return this[g2r]||y((VF=this.string(),p(VF.w,Function)?VF.w(ADMIN):VF.w=ADMIN,VF),this,nLe,"title",g2r,R9.prototype)}set intro(e){this.intro.$set(e,this,iLe,"intro")}get intro(){return this.intro.$get(this,iLe,"intro")}get intro(){return this[k2r]||y((zF=this.text(),p(zF.w,Function)?zF.w(ADMIN):zF.w=ADMIN,zF),this,iLe,"intro",k2r,R9.prototype)}get askindlabel(){return"Page"}opownpageintro(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[sLe])||(r=o=0,e=t[sLe]=e=w("p",null,"xd-af xl",null)),r||(e[rrn]=t._),r||((i=e[orn])==null||i.call(e,t,sLe)),n=this.intro,n===e[v2r]&&r||(e[x2r]=e[nrn](e[v2r]=n,384,e[x2r])),e}};E(R9,$ae,"AppContent",80);var lLe=R9;globalThis.AppContent=lLe;T();oe();$e();var aLe=Symbol("data"),w2r=Symbol(),uLe=Symbol("issues"),S2r=Symbol(),cLe=Symbol("mark-all-as-seen"),C2r=Symbol(),hLe,irn=le("&.unseen",globalThis,l=>l.unseen),M9,srn=le("&.open?",globalThis,l=>l.open),L9,yae=Symbol(),pLe=Symbol(),E2r=Symbol(),j2r=Symbol(),A2r=Symbol(),U2r=Symbol(),P2r=Symbol.for("##up"),T2r=Symbol.for("##register"),lrn=Symbol.for("#getSlot"),dLe=Symbol.for("#afterVisit"),O2r=Symbol.for("#appendChild"),bae=Symbol(),D9=class D9 extends Qe(bae,AppContent,Linkable){constructor(){super(...arguments),super[A]||this[A](),re(this,bae)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[bae])==null||o.call(this,...arguments)}set data(e){this.data.$set(e,this,aLe,"data")}get data(){return this.data.$get(this,aLe,"data")}get data(){return this[w2r]||y((hLe=this.pub(),hLe.callback=async function(e){if(ME!=null&&ME.admin)return await Ticket.fetchall(),e.add(Ticket.all().desc("_cre"))},hLe),this,aLe,"data",w2r,D9.prototype)}get askindlabel(){return"Page"}get unseen(){return this.issues.sources.only(irn)}set issues(e){this.issues.$set(e,this,uLe,"issues")}get issues(){return this.issues.$get(this,uLe,"issues")}get issues(){return this[S2r]||y((M9=this.coll({layout:"list"}),p(M9.tab,Function)?M9.tab():M9.tab=!0,M9.callback=function(){return Ticket.all()},M9),this,uLe,"issues",S2r,D9.prototype)}get openissues(){return this.issues.only(srn)}set markallasseen(e){this.markallasseen.$set(e,this,cLe,"markallasseen")}get markallasseen(){return this.markallasseen.$get(this,cLe,"markallasseen")}get markallasseen(){return this[C2r]||y((L9=this.action(),p(L9.g,Function)?L9.g(400):L9.g=400,L9.callback=function(){return APP.seen_all_tickets=!0},L9),this,cLe,"markallasseen",C2r,D9.prototype)}opownpageintro(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[yae])||(r=o=0,e=t[yae]=e=R("op",null,"xg-af",null)),r||(e[P2r]=t._),r||((s=e[T2r])==null||s.call(e,t,yae)),n=e[lrn]("__",e),r||(i=w("p",n,"xl","All your reported bugs and feedback is listed here. See the status of your tickets and follow up.")),r||t.sym||!e.setup||e.setup(o,t,yae),t.sym||e[dLe](o),e}opownbadges(){var $;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return r=o=1,(e=t[pLe])||(r=o=0,e=t[pLe]=e=w("span",null,"obadges",null)),r||(e[P2r]=t._),r||(($=e[T2r])==null||$.call(e,t,pLe)),i=s=1,(n=e[E2r])||(i=s=0,e[E2r]=n=R("op-count",e,"obadge",null)),a=this.openissues,a===e[j2r]||(n.data=e[j2r]=a),i||!n.setup||n.setup(s,u),n[dLe](s),i||e[O2r](n),h=d=1,(c=e[A2r])||(h=d=0,e[A2r]=c=R("op-count",e,"obadge alert",null)),f=this.issues.sources.unseen,f===e[U2r]||(c.data=e[U2r]=f),h||!c.setup||c.setup(d,m),c[dLe](d),h||e[O2r](c),e}};E(D9,bae,"AppFeedback",80);var fLe=D9;globalThis.AppFeedback=fLe;T();oe();$e();var mLe=Symbol("browse"),R2r=Symbol(),$Le=Symbol("paths"),M2r=Symbol(),yLe=Symbol("free"),L2r=Symbol(),bLe=Symbol("paid"),D2r=Symbol(),gLe=Symbol("create-course"),N2r=Symbol(),kLe=Symbol("update-metadata"),I2r=Symbol(),_Le=Symbol("sync_metadata"),F2r=Symbol(),N9,gae=le("&.discoverable?",globalThis,l=>l.discoverable),I9,arn=le("&.kind == 'path')",globalThis,l=>l.kind=="path"),F9,urn=le("&.free?",globalThis,l=>l.free),H9,crn=le("!&.free?",globalThis,l=>!l.free),l$,a$,u$,kae=Symbol(),hrn=Symbol.for("##up"),prn=Symbol.for("##register"),drn=Symbol.for("#getSlot"),frn=Symbol.for("#afterVisit"),mrn=Symbol(),Zf=class Zf extends AppContent{set browse(e){this.browse.$set(e,this,mLe,"browse")}get browse(){return this.browse.$get(this,mLe,"browse")}get browse(){return this[R2r]||y((N9=this.coll({name:"All courses"}),p(N9.tab,Function)?N9.tab():N9.tab=!0,N9.callback=function(){return Course.all(gae).sorted({popularity:-1})},N9),this,mLe,"browse",R2r,Zf.prototype)}set paths(e){this.paths.$set(e,this,$Le,"paths")}get paths(){return this.paths.$get(this,$Le,"paths")}get paths(){return this[M2r]||y((I9=this.coll(),p(I9.tab,Function)?I9.tab():I9.tab=!0,I9.callback=function(){return Course.all(gae,arn).sorted({popularity:-1})},I9),this,$Le,"paths",M2r,Zf.prototype)}set free(e){this.free.$set(e,this,yLe,"free")}get free(){return this.free.$get(this,yLe,"free")}get free(){return this[L2r]||y((F9=this.coll(),p(F9.tab,Function)?F9.tab():F9.tab=!0,F9.callback=function(){return Course.all(gae,urn).sorted({popularity:-1})},F9),this,yLe,"free",L2r,Zf.prototype)}set paid(e){this.paid.$set(e,this,bLe,"paid")}get paid(){return this.paid.$get(this,bLe,"paid")}get paid(){return this[D2r]||y((H9=this.coll(),p(H9.tab,Function)?H9.tab():H9.tab=!0,H9.callback=function(){return Course.all(gae,crn).sorted({popularity:-1})},H9),this,bLe,"paid",D2r,Zf.prototype)}set createcourse(e){this.createcourse.$set(e,this,gLe,"createcourse")}get createcourse(){return this.createcourse.$get(this,gLe,"createcourse")}get createcourse(){return this[N2r]||y((l$=this.action(),p(l$.rx,Function)?l$.rx(ADMIN|TEACHER):l$.rx=ADMIN|TEACHER,p(l$.g,Function)?l$.g(600):l$.g=600,l$.callback=async function(){let e=await Course.create();return Xt.go(e.url)},l$),this,gLe,"createcourse",N2r,Zf.prototype)}set updatemetadata(e){this.updatemetadata.$set(e,this,kLe,"updatemetadata")}get updatemetadata(){return this.updatemetadata.$get(this,kLe,"updatemetadata")}get updatemetadata(){return this[I2r]||y((a$=this.action(),p(a$.rx,Function)?a$.rx(OPADMIN):a$.rx=OPADMIN,p(a$.g,Function)?a$.g(600):a$.g=600,a$.callback=function(){var e;e=[];for(let t of B(Course.all()))e.push(t.syncmetadata());return e},a$),this,kLe,"updatemetadata",I2r,Zf.prototype)}set sync_metadata(e){this.sync_metadata.$set(e,this,_Le,"sync_metadata")}get sync_metadata(){return this.sync_metadata.$get(this,_Le,"sync_metadata")}get sync_metadata(){return this[F2r]||y((u$=this.action(),p(u$.rx,Function)?u$.rx(OPADMIN):u$.rx=OPADMIN,p(u$.rpc,Function)?u$.rpc():u$.rpc=!0,u$.callback=!1,u$),this,_Le,"sync_metadata",F2r,Zf.prototype)}opcompletedplaceholder(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[kae])||(r=o=0,e=t[kae]=e=R("op",null,null,"All courses you have officially completed will be listed here ")),r||(e[hrn]=t._),r||((i=e[prn])==null||i.call(e,t,kae)),n=e[drn]("__",e),r||t.sym||!e.setup||e.setup(o,t,kae),t.sym||e[frn](o),e}get kind(){return Course}};E(Zf,mrn,"AppCourses",0);var xLe=Zf;globalThis.AppCourses=xLe;T();oe();$e();var vLe=Symbol("browse"),H2r=Symbol(),B9,$rn=le("&.discoverable?",globalThis,l=>l.discoverable),yrn=le("&.kind == 'path')",globalThis,l=>l.kind=="path"),_ae=Symbol(),wLe=Symbol(),B2r=Symbol(),V2r=Symbol(),z2r=Symbol(),q2r=Symbol(),W2r=Symbol(),Z2r=Symbol.for("##up"),G2r=Symbol.for("##register"),brn=Symbol.for("#getSlot"),grn=Symbol.for("#afterVisit"),krn=Symbol.for("#placeChild"),xae=Symbol(),vae=class vae extends Qe(xae,AppContent,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,xae)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[xae])==null||o.call(this,...arguments)}set browse(e){this.browse.$set(e,this,vLe,"browse")}get browse(){return this.browse.$get(this,vLe,"browse")}get browse(){return this[H2r]||y((B9=this.coll({name:"All paths"}),p(B9.tab,Function)?B9.tab():B9.tab=!0,B9.callback=function(){return Course.all($rn,yrn).sorted({popularity:-1})},B9),this,vLe,"browse",H2r,vae.prototype)}opcompletedplaceholder(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[_ae])||(r=o=0,e=t[_ae]=e=R("op",null,null,"All courses you have officially completed will be listed here ")),r||(e[Z2r]=t._),r||((i=e[G2r])==null||i.call(e,t,_ae)),n=e[brn]("__",e),r||t.sym||!e.setup||e.setup(o,t,_ae),t.sym||e[grn](o),e}get kind(){return Course}opownpagehead(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[wLe])||(r=o=0,e=t[wLe]=e=w("div",null,"ceg-ag",null)),r||(e[Z2r]=t._),r||((f=e[G2r])==null||f.call(e,t,wLe)),r||(n=w("div",e,"ceg-ah",null)),r||(i=w("h1",n,null,null)),(s=e[B2r])||(e[B2r]=s=w("span",i,null,null)),a=this.title||"Paths",a===e[z2r]&&r||(e[V2r]=s[krn](e[z2r]=a,384,e[V2r])),c=h=1,(u=e[q2r])||(c=h=0,e[q2r]=u=w("p",n,"ceg-ak xl",null)),d=this.intro,d===e[W2r]||(u.markdown=e[W2r]=d),e}};E(vae,xae,"AppPaths",80);var SLe=vae;globalThis.AppPaths=SLe;T();oe();var CLe=Symbol("join-affiliate-program"),Y2r=Symbol(),ELe=Symbol("join-discord"),X2r=Symbol(),jLe=Symbol("join-forum"),K2r=Symbol(),ALe=Symbol("getting-help"),J2r=Symbol(),ULe=Symbol("podcast"),Q2r=Symbol(),PLe=Symbol("scrimba-merch"),emr=Symbol(),TLe=Symbol("discord-linked-roles"),tmr=Symbol(),OLe=Symbol("privacy-policy"),rmr=Symbol(),RLe=Symbol("terms-of-service"),omr=Symbol(),MLe=Symbol("accessibility-statement"),nmr=Symbol(),V9,z9,q9,W9,Z9,G9,LLe,Y9,X9,K9,_rn=Symbol(),Qc=class Qc extends OPEmbed{set joinaffiliateprogram(e){this.joinaffiliateprogram.$set(e,this,CLe,"joinaffiliateprogram")}get joinaffiliateprogram(){return this.joinaffiliateprogram.$get(this,CLe,"joinaffiliateprogram")}get joinaffiliateprogram(){return this[Y2r]||y((V9=this.action(),p(V9.g,Function)?V9.g(1):V9.g=1,V9.callback=function(){return Xt.go("/scrimbassadors")},V9),this,CLe,"joinaffiliateprogram",Y2r,Qc.prototype)}set joindiscord(e){this.joindiscord.$set(e,this,ELe,"joindiscord")}get joindiscord(){return this.joindiscord.$get(this,ELe,"joindiscord")}get joindiscord(){return this[X2r]||y((z9=this.action(),p(z9.g,Function)?z9.g(1):z9.g=1,z9.callback=function(){return window.open("https://discord.com/invite/nDebDaqCcR","_blank")},z9),this,ELe,"joindiscord",X2r,Qc.prototype)}set joinforum(e){this.joinforum.$set(e,this,jLe,"joinforum")}get joinforum(){return this.joinforum.$get(this,jLe,"joinforum")}get joinforum(){return this[K2r]||y((q9=this.action(),p(q9.g,Function)?q9.g(1):q9.g=1,q9.callback=function(){return window.open("https://forum.scrimba.com/","_blank")},q9),this,jLe,"joinforum",K2r,Qc.prototype)}set gettinghelp(e){this.gettinghelp.$set(e,this,ALe,"gettinghelp")}get gettinghelp(){return this.gettinghelp.$get(this,ALe,"gettinghelp")}get gettinghelp(){return this[J2r]||y((W9=this.action(),p(W9.g,Function)?W9.g(1):W9.g=1,W9.callback=function(){return Xt.go("/help")},W9),this,ALe,"gettinghelp",J2r,Qc.prototype)}set podcast(e){this.podcast.$set(e,this,ULe,"podcast")}get podcast(){return this.podcast.$get(this,ULe,"podcast")}get podcast(){return this[Q2r]||y((Z9=this.action(),p(Z9.g,Function)?Z9.g(1):Z9.g=1,Z9.callback=function(){return window.open("https://podcast.scrimba.com","_blank")},Z9),this,ULe,"podcast",Q2r,Qc.prototype)}set scrimbamerch(e){this.scrimbamerch.$set(e,this,PLe,"scrimbamerch")}get scrimbamerch(){return this.scrimbamerch.$get(this,PLe,"scrimbamerch")}get scrimbamerch(){return this[emr]||y((G9=this.action(),p(G9.g,Function)?G9.g(1):G9.g=1,G9.callback=function(){return window.open("https://swag.scrimba.com/","_blank")},G9),this,PLe,"scrimbamerch",emr,Qc.prototype)}set discordlinkedroles(e){this.discordlinkedroles.$set(e,this,TLe,"discordlinkedroles")}get discordlinkedroles(){return this.discordlinkedroles.$get(this,TLe,"discordlinkedroles")}get discordlinkedroles(){return this[tmr]||y((LLe=this.action(),LLe.callback=function(){return window.open("https://discord.com/channels/684009642984341525/1292835429766270976/1292837172856098847","_blank")},LLe),this,TLe,"discordlinkedroles",tmr,Qc.prototype)}set privacypolicy(e){this.privacypolicy.$set(e,this,OLe,"privacypolicy")}get privacypolicy(){return this.privacypolicy.$get(this,OLe,"privacypolicy")}get privacypolicy(){return this[rmr]||y((Y9=this.action(),p(Y9.g,Function)?Y9.g(1):Y9.g=1,Y9.callback=function(){return Xt.go("/privacy-policy")},Y9),this,OLe,"privacypolicy",rmr,Qc.prototype)}set termsofservice(e){this.termsofservice.$set(e,this,RLe,"termsofservice")}get termsofservice(){return this.termsofservice.$get(this,RLe,"termsofservice")}get termsofservice(){return this[omr]||y((X9=this.action(),p(X9.g,Function)?X9.g(1):X9.g=1,X9.callback=function(){return Xt.go("/terms-of-service")},X9),this,RLe,"termsofservice",omr,Qc.prototype)}set accessibilitystatement(e){this.accessibilitystatement.$set(e,this,MLe,"accessibilitystatement")}get accessibilitystatement(){return this.accessibilitystatement.$get(this,MLe,"accessibilitystatement")}get accessibilitystatement(){return this[nmr]||y((K9=this.action(),p(K9.g,Function)?K9.g(1):K9.g=1,K9.callback=function(){return Xt.go("/accessibility-statement")},K9),this,MLe,"accessibilitystatement",nmr,Qc.prototype)}};E(Qc,_rn,"AppExtras",0);var DLe=Qc;globalThis.AppExtras=DLe;T();oe();ge(),dt(),gf(),$e();var NLe=Symbol("recent"),imr=Symbol(),ILe=Symbol("discover"),smr=Symbol(),FLe=Symbol("started"),lmr=Symbol(),HLe=Symbol("completed"),amr=Symbol(),BLe=Symbol("issues"),umr=Symbol(),VLe=Symbol("join_waitlist"),cmr=Symbol(),zLe=Symbol("waitlist_dismissed"),hmr=Symbol(),qLe=Symbol("hero_title"),pmr=Symbol(),WLe=Symbol("hero_description"),dmr=Symbol(),ZLe=Symbol("hero_image"),fmr=Symbol(),GLe=Symbol("browse_courses"),mmr=Symbol(),YLe=Symbol("watch_demo"),$mr=Symbol(),J9,xrn=le("!&.scribble?",globalThis,l=>!l.scribble),vrn=le("&.recency",globalThis,l=>l.recency),ymr=le("&.recent.any?",globalThis,l=>l.recent.any),Q9,wrn=le("&.discoverable?",globalThis,l=>l.discoverable),Srn=le("&.popularity > 80000",globalThis,l=>l.popularity>8e4),eC,Crn=le("&.started?",globalThis,l=>l.started),tC,Ern=le("&.completed?",globalThis,l=>l.completed),rC,bmr=le("&.issues.any?",globalThis,l=>l.issues.any),oC,qF,WF,ZF,GF,XLe,nC,jrn=le("&.pending?",globalThis,l=>l.pending),KLe=Symbol(),gmr=Symbol(),kmr=Symbol(),_mr=Symbol(),xmr=Symbol(),vmr=Symbol(),wmr=Symbol(),Smr=Symbol(),Cmr=Symbol(),iC=Symbol(),Arn=Symbol(),YF=Symbol(),Urn=Symbol(),Emr=Symbol(),jmr=Symbol(),Amr=Symbol(),Umr=Symbol(),Pmr=Symbol(),Tmr=Symbol(),Omr=Symbol(),Rmr=Symbol(),Mmr=Symbol(),Lmr=Symbol(),Dmr=Symbol(),Nmr=Symbol();var Imr=Symbol(),wae=Symbol(),Sae=Symbol(),XF=Symbol(),Prn=Symbol(),sC=Symbol(),Trn=Symbol(),KF=Symbol.for("##up"),JLe=Symbol.for("##register"),lC=Symbol.for("#placeChild"),Cae=Symbol.for("#getRenderContext"),Eae=Symbol.for("#isRichElement"),c$=Symbol.for("#afterVisit"),Fmr=Symbol.for("#insertInto"),Hmr=Symbol.for("#replaceWith"),Bmr=Symbol.for("#appendChild"),Vmr=Symbol.for("#getSlot"),zmr=Symbol.for("#replaceChild"),Orn=Symbol(),tDe=class tDe extends OPEmbed{};E(tDe,Orn,"AppHomeOverview",0);var QLe=tDe;globalThis.AppHomeOverview=QLe;var Rrn=Symbol(),Ma=class Ma extends OPEmbed{set recent(e){this.recent.$set(e,this,NLe,"recent")}get recent(){return this.recent.$get(this,NLe,"recent")}get recent(){return this[imr]||y((J9=this.coll(),p(J9.tab,Function)?J9.tab(ymr):J9.tab=ymr,J9.callback=function(){return Content.all(xrn,vrn)},J9),this,NLe,"recent",imr,Ma.prototype)}set discover(e){this.discover.$set(e,this,ILe,"discover")}get discover(){return this.discover.$get(this,ILe,"discover")}get discover(){return this[smr]||y((Q9=this.coll({name:"Discover"}),p(Q9.tab,Function)?Q9.tab():Q9.tab=!0,Q9.callback=function(){return Course.all(wrn,Srn)},Q9),this,ILe,"discover",smr,Ma.prototype)}set started(e){this.started.$set(e,this,FLe,"started")}get started(){return this.started.$get(this,FLe,"started")}get started(){return this[lmr]||y((eC=this.coll(),p(eC.tab,Function)?eC.tab():eC.tab=!0,eC.callback=function(){return Course.all(Crn).sorted({visited:-1})},eC),this,FLe,"started",lmr,Ma.prototype)}set completed(e){this.completed.$set(e,this,HLe,"completed")}get completed(){return this.completed.$get(this,HLe,"completed")}get completed(){return this[amr]||y((tC=this.coll(),p(tC.tab,Function)?tC.tab():tC.tab=!0,tC.callback=function(){return Course.all(Ern)},tC),this,HLe,"completed",amr,Ma.prototype)}set issues(e){this.issues.$set(e,this,BLe,"issues")}get issues(){return this.issues.$get(this,BLe,"issues")}get issues(){return this[umr]||y((rC=this.coll({layout:"list"}),p(rC.tab,Function)?rC.tab(bmr):rC.tab=bmr,rC.callback=function(){return Ticket.all()},rC),this,BLe,"issues",umr,Ma.prototype)}set join_waitlist(e){this.join_waitlist.$set(e,this,VLe,"join_waitlist")}get join_waitlist(){return this.join_waitlist.$get(this,VLe,"join_waitlist")}get join_waitlist(){return this[cmr]||y((oC=this.action(),p(oC.icon,Function)?oC.icon("community"):oC.icon="community",oC.callback=function(){return window.open("https://full-stack.scrimba.com")},oC),this,VLe,"join_waitlist",cmr,Ma.prototype)}set waitlist_dismissed(e){this.waitlist_dismissed.$set(e,this,zLe,"waitlist_dismissed")}get waitlist_dismissed(){return this.waitlist_dismissed.$get(this,zLe,"waitlist_dismissed")}get waitlist_dismissed(){return this[hmr]||y((qF=this.bool(),p(qF.local,Function)?qF.local():qF.local=!0,qF),this,zLe,"waitlist_dismissed",hmr,Ma.prototype)}set hero_title(e){this.hero_title.$set(e,this,qLe,"hero_title")}get hero_title(){return this.hero_title.$get(this,qLe,"hero_title")}get hero_title(){return this[pmr]||y((WF=this.string(),p(WF.editable,Function)?WF.editable():WF.editable=!0,WF),this,qLe,"hero_title",pmr,Ma.prototype)}set hero_description(e){this.hero_description.$set(e,this,WLe,"hero_description")}get hero_description(){return this.hero_description.$get(this,WLe,"hero_description")}get hero_description(){return this[dmr]||y((ZF=this.string(),p(ZF.editable,Function)?ZF.editable():ZF.editable=!0,ZF),this,WLe,"hero_description",dmr,Ma.prototype)}set hero_image(e){this.hero_image.$set(e,this,ZLe,"hero_image")}get hero_image(){return this.hero_image.$get(this,ZLe,"hero_image")}get hero_image(){return this[fmr]||y((GF=this.image(),p(GF.editable,Function)?GF.editable():GF.editable=!0,GF),this,ZLe,"hero_image",fmr,Ma.prototype)}get demo_scrim(){return"s0v687325e"}set browse_courses(e){this.browse_courses.$set(e,this,GLe,"browse_courses")}get browse_courses(){return this.browse_courses.$get(this,GLe,"browse_courses")}get browse_courses(){return this[mmr]||y((XLe=this.action(),XLe.callback=function(){return Xt.go("/courses")},XLe),this,GLe,"browse_courses",mmr,Ma.prototype)}set watch_demo(e){this.watch_demo.$set(e,this,YLe,"watch_demo")}get watch_demo(){return this.watch_demo.$get(this,YLe,"watch_demo")}get watch_demo(){return this[$mr]||y((nC=this.action(),p(nC.icon,Function)?nC.icon("play"):nC.icon="play",nC.callback=function(){return Xt.go("/"+this.demo_scrim)},nC),this,YLe,"watch_demo",$mr,Ma.prototype)}opownpagehead(){var xe,Re,Oe,qe,Ne;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je;let ue=(Re=(xe=ME==null?void 0:ME.invites)==null?void 0:xe.only)==null?void 0:Re.call(xe,jrn);if(t.this=this,i=s=1,(n=t[KLe])||(i=s=0,n=t[KLe]=n=w("div",null,"wl-af",null)),i||(n[KF]=t._),i||((Oe=n[JLe])==null||Oe.call(n,t,KLe)),(a=n[gmr])||(n[gmr]=a=w("div",n,"wl-ag %hero",null)),i||(u=w("div",a,"wl-ah %text",null)),(c=n[kmr])||(n[kmr]=c=w("h1",u,"wl-ai xl",null)),h=this.hero_title,h===n[xmr]&&i||(n[_mr]=c[lC](n[xmr]=h,384,n[_mr])),(d=n[vmr])||(n[vmr]=d=w("h2",u,"wl-aj",null)),f=this.hero_description,f===n[Smr]&&i||(n[wmr]=d[lC](n[Smr]=f,384,n[wmr])),$=b=1,(m=n[Cmr])||($=b=0,n[Cmr]=m=w("div",u,"wl-ak",null)),g=m[Cae](Arn),k=_=1,(x=g.run(this.obutton(this.watch_demo)))||(k=_=0,g.cache(x=M(g.value,m,"green",null))),x[Eae]&&((!k||_&2)&&x.flags.reconcile(iC,"green"),k||!x.setup||x.setup(_,g),x[c$](_)),x==m[iC]||!m[iC]&&(m[iC]=x)[Fmr](m)||m[iC][Hmr](m[iC]=x,m),S=m[Cae](Urn),C=j=1,(v=S.run(this.obutton(this.browse_courses)))||(C=j=0,S.cache(v=M(S.value,m,null,null))),v[Eae]&&(C||!v.setup||v.setup(j,S),v[c$](j)),v==m[YF]||!m[YF]&&(m[YF]=v)[Fmr](m)||m[YF][Hmr](m[YF]=v,m),$||!m.setup||m.setup(b,P),m[c$](b),O=L=1,(U=n[Emr])||(O=L=0,n[Emr]=U=w("a",a,"wl-an %vid",null)),I=this.demo_scrim,I===n[jmr]||(U.routeto=n[jmr]=I),N=V=1,(F=n[Amr])||(N=V=0,n[Amr]=F=w("img",U,"wl-ao",null)),W=(qe=this.hero_image)==null?void 0:qe.url,W===n[Umr]||(F.src=n[Umr]=W),N||(F.crossorigin="anonymous"),q=Y=1,(z=n[Pmr])||(q=Y=0,n[Pmr]=z=Ir("svg",U,"wl-ap",null)),K=jJ,K===n[Tmr]||z.set$("src",n[Tmr]=K),O||!U.setup||U.setup(L,X),U[c$](L),r=null,ue!=null&&ue.any){Z=Q=1,(r=n[Omr])||(Z=Q=0,n[Omr]=r=w("div",null,"wl-aq",null)),Z||(r[KF]=n),(ee=r[Rmr])||(r[Rmr]=ee=Jt(384,r)),te=0,ne=ee.$;for(let Ie=0,Ke=B(ue),Te=Ke.length;Ie<Te;Ie++){let Ce=Ke[Ie];J=me=1,(ie=ne[te])||(J=me=0,ne[te]=ie=w("a",ee,"wl-ar",null)),J||(ie[KF]=ee),ce=Ce.asurl,ce===ie[Mmr]||(ie.href=ie[Mmr]=ce),J||ie[lC]("Invited to "),ce=(Ne=Ce==null?void 0:Ce.org)==null?void 0:Ne.aslabel,ce===ie[Dmr]&&J||(ie[Lmr]=ie[lC](ie[Dmr]=ce,256,ie[Lmr])),te++}ee[c$](te)}return n[Nmr]=n[lC](r,0,n[Nmr]),o=null,this.waitlist_dismissed,n[Imr]=n[lC](o,0,n[Imr]),n}oprecentplaceholder(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[wae])||(r=o=0,e=t[wae]=e=R("op",null,null,"Your recently modified, watched and visited content will be listed here.")),r||(e[KF]=t._),r||((i=e[JLe])==null||i.call(e,t,wae)),n=e[Vmr]("__",e),r||t.sym||!e.setup||e.setup(o,t,wae),t.sym||e[c$](o),e}opoverviewbody(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[Sae])||(r=o=0,e=t[Sae]=e=R("op",null,"wl-ax",null)),r||(e[KF]=t._),r||((m=e[JLe])==null||m.call(e,t,Sae)),n=e[Vmr]("__",e),i=e[Cae](Prn),a=u=1,(s=i.run(this.osection(this.recent)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Eae]&&(a||(s.simple=!0),a||!s.setup||s.setup(u,i),s[c$](u)),s==e[XF]||!e[XF]&&n[Bmr](e[XF]=s)||(n[zmr](s,e[XF]),e[XF]=s),c=e[Cae](Trn),d=f=1,(h=c.run(this.osection(this.discover)))||(d=f=0,c.cache(h=M(c.value,n,"wl-az",null))),h[Eae]&&(d||(h.simple=!0),(!d||f&2)&&h.flags.reconcile(sC,"wl-az"),d||!h.setup||h.setup(f,c),h[c$](f)),h==e[sC]||!e[sC]&&n[Bmr](e[sC]=h)||(n[zmr](h,e[sC]),e[sC]=h),r||t.sym||!e.setup||e.setup(o,t,Sae),t.sym||e[c$](o),e}};E(Ma,Rrn,"AppHome",0);var eDe=Ma;globalThis.AppHome=eDe;T();oe();$e();var rDe=Symbol("data"),Wmr=Symbol(),oDe,jae=Symbol(),JF=Symbol(),Mrn=Symbol(),Lrn=Symbol.for("##up"),Drn=Symbol.for("##register"),Nrn=Symbol.for("#getSlot"),Irn=Symbol.for("#getRenderContext"),Frn=Symbol.for("#isRichElement"),Zmr=Symbol.for("#afterVisit"),Hrn=Symbol.for("#appendChild"),Brn=Symbol.for("#replaceChild"),Vrn=Symbol(),Aae=class Aae extends AppCollView{set data(e){this.data.$set(e,this,rDe,"data")}get data(){return this.data.$get(this,rDe,"data")}get data(){return this[Wmr]||y((oDe=this.pub(),oDe.callback=function(e){return e.fetchoftyp(LanguageModel)},oDe),this,rDe,"data",Wmr,Aae.prototype)}get aslabel(){return"AI"}opowncollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[jae])||(r=o=0,e=t[jae]=e=R("op",null,null,null)),r||(e[Lrn]=t._),r||((c=e[Drn])==null||c.call(e,t,jae)),n=e[Nrn]("__",e),i=e[Irn](Mrn),a=u=1,(s=i.run(this.obutton(APP.ai.refreshmodels)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Frn]&&(a||!s.setup||s.setup(u,i),s[Zmr](u)),s==e[JF]||!e[JF]&&n[Hrn](e[JF]=s)||(n[Brn](s,e[JF]),e[JF]=s),r||t.sym||!e.setup||e.setup(o,t,jae),t.sym||e[Zmr](o),e}};E(Aae,Vrn,"AppInspectorAI",0);var nDe=Aae;globalThis.AppInspectorAI=nDe;T();oe();$e();var iDe=Symbol("title"),Gmr=Symbol(),sDe=Symbol("number"),Ymr=Symbol(),lDe=Symbol("email"),Xmr=Symbol(),aDe=Symbol("options"),Kmr=Symbol(),Jmr,Qmr,e$r,t$r,Uae=Symbol(),r$r=Symbol();var uDe=Symbol(),QF=Symbol(),zrn=Symbol(),eH=Symbol(),qrn=Symbol(),tH=Symbol(),Wrn=Symbol(),rH=Symbol(),Zrn=Symbol(),o$r=Symbol(),n$r=Symbol(),i$r=Symbol(),s$r=Symbol(),l$r=Symbol(),a$r=Symbol(),u$r=Symbol(),c$r=Symbol(),h$r=Symbol(),p$r=Symbol(),d$r=Symbol(),f$r=Symbol(),m$r=Symbol.for("##up"),Grn=Symbol.for("##register"),Yrn=Symbol.for("#getSlot"),Pae=Symbol.for("#getRenderContext"),Tae=Symbol.for("#isRichElement"),eh=Symbol.for("#afterVisit"),Oae=Symbol.for("#insertInto"),Rae=Symbol.for("#replaceWith"),aC=Symbol.for("#appendChild"),Xrn=Symbol(),Kx=class Kx extends AppContent{set title(e){this.title.$set(e,this,iDe,"title")}get title(){return this.title.$get(this,iDe,"title")}get title(){return this[Gmr]||y((Jmr=this.string(),Jmr),this,iDe,"title",Gmr,Kx.prototype)}set number(e){this.number.$set(e,this,sDe,"number")}get number(){return this.number.$get(this,sDe,"number")}get number(){return this[Ymr]||y((Qmr=this.int(),Qmr),this,sDe,"number",Ymr,Kx.prototype)}set email(e){this.email.$set(e,this,lDe,"email")}get email(){return this.email.$get(this,lDe,"email")}get email(){return this[Xmr]||y((e$r=this.email(),e$r),this,lDe,"email",Xmr,Kx.prototype)}set options(e){this.options.$set(e,this,aDe,"options")}get options(){return this.options.$get(this,aDe,"options")}get options(){return this[Kmr]||y((t$r=this.enum({one:{icon:"book",default:!0},two:{icon:"book"},three:{icon:"book"}}),t$r),this,aDe,"options",Kmr,Kx.prototype)}opownbody(){var ue;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je;r=o=1,(e=t[Uae])||(r=o=0,e=t[Uae]=e=R("op",null,"wo-af",null)),r||(e[m$r]=t._),r||((ue=e[Grn])==null||ue.call(e,t,Uae)),n=e[Yrn]("__",e),(i=e[r$r])||(e[r$r]=i=Jt(384,n)),s=0,a=i.$;for(let xe=0,Re=["xl","lg","md","sm","xs"],Oe=Re.length;xe<Oe;xe++){let qe=Re[xe];c=h=1,(u=a[s])||(c=h=0,a[s]=u=w("div",i,"wo-ag",null)),c||(u[m$r]=i),d=qe,d===u[uDe]||(h|=2,u[uDe]=d),h&2&&u.flag$("wo-ag "+(u[uDe]||"")),f=u[Pae](zrn),$=b=1,(m=f.run(this.oinput(this.$.title)))||($=b=0,f.cache(m=M(f.value,u,null,null))),m[Tae]&&($||(m.placeholder="Hello there"),$||!m.setup||m.setup(b,f),m[eh](b)),m==u[QF]||!u[QF]&&(u[QF]=m)[Oae](u)||u[QF][Rae](u[QF]=m,u),g=u[Pae](qrn),k=_=1,(x=g.run(this.oinput(this.$.number)))||(k=_=0,g.cache(x=M(g.value,u,null,null))),x[Tae]&&(k||!x.setup||x.setup(_,g),x[eh](_)),x==u[eH]||!u[eH]&&(u[eH]=x)[Oae](u)||u[eH][Rae](u[eH]=x,u),S=u[Pae](Wrn),C=j=1,(v=S.run(this.oinput(this.$.email)))||(C=j=0,S.cache(v=M(S.value,u,null,null))),v[Tae]&&(C||!v.setup||v.setup(j,S),v[eh](j)),v==u[tH]||!u[tH]&&(u[tH]=v)[Oae](u)||u[tH][Rae](u[tH]=v,u),P=u[Pae](Zrn),O=L=1,(U=P.run(this.oinput(this.$.options)))||(O=L=0,P.cache(U=M(P.value,u,null,null))),U[Tae]&&(O||!U.setup||U.setup(L,P),U[eh](L)),U==u[rH]||!u[rH]&&(u[rH]=U)[Oae](u)||u[rH][Rae](u[rH]=U,u),F=N=1,(I=u[o$r])||(F=N=0,u[o$r]=I=R("op-button",u,"secondary",null)),F||(I.opnav="opnav"),V=APP.signin,V===u[n$r]||(I.data=u[n$r]=V),F||(I.label=!1),F||!I.setup||I.setup(N,W),I[eh](N),F||u[aC](I),q=Y=1,(z=u[i$r])||(q=Y=0,u[i$r]=z=R("op-button",u,"secondary",null)),q||(z.opnav="opnav"),K=APP.signin,K===u[s$r]||(z.data=u[s$r]=K),q||(z.icon=!1),q||!z.setup||z.setup(Y,X),z[eh](Y),q||u[aC](z),Q=ee=1,(Z=u[l$r])||(Q=ee=0,u[l$r]=Z=R("op-button",u,"secondary",null)),Q||(Z.opnav="opnav"),te=APP.signin,te===u[a$r]||(Z.data=u[a$r]=te),Q||!Z.setup||Z.setup(ee,ne),Z[eh](ee),Q||u[aC](Z),J=me=1,(ie=u[u$r])||(J=me=0,u[u$r]=ie=R("op-button",u,"secondary min",null)),J||(ie.opnav="opnav"),ce=APP.signin,ce===u[c$r]||(ie.data=u[c$r]=ce),J||!ie.setup||ie.setup(me,ye),ie[eh](me),J||u[aC](ie),ae=be=1,(we=u[h$r])||(ae=be=0,u[h$r]=we=R("op-button",u,"wo-ap secondary",null)),ae||(we.opnav="opnav"),_e=APP.signin,_e===u[p$r]||(we.data=u[p$r]=_e),ae||!we.setup||we.setup(be,Ae),we[eh](be),ae||u[aC](we),Pe=He=1,(ve=u[d$r])||(Pe=He=0,u[d$r]=ve=R("op-button",u,"primary",null)),Pe||(ve.opnav="opnav"),Ue=APP.signin,Ue===u[f$r]||(ve.data=u[f$r]=Ue),Pe||!ve.setup||ve.setup(He,Be),ve[eh](He),Pe||u[aC](ve),c||!u.setup||u.setup(h,je),u[eh](h),s++}return i[eh](s),r||t.sym||!e.setup||e.setup(o,t,Uae),t.sym||e[eh](o),e}};E(Kx,Xrn,"AppInspectorDesign",0);var cDe=Kx;globalThis.AppInspectorDesign=cDe;T();oe();$e();var hDe=Symbol("prompt"),$$r=Symbol(),pDe=Symbol("response"),y$r=Symbol(),dDe=Symbol("model"),b$r=Symbol(),fDe=Symbol("run"),g$r=Symbol(),mDe=Symbol("run-srv"),k$r=Symbol(),oH,nH,_$r,h$,p$,Mae=Symbol(),x$r=Symbol(),iH=Symbol(),Krn=Symbol(),sH=Symbol(),Jrn=Symbol(),v$r=Symbol(),uC=Symbol(),Qrn=Symbol(),cC=Symbol(),eon=Symbol(),ton=Symbol.for("##up"),ron=Symbol.for("##register"),oon=Symbol.for("#getSlot"),Lae=Symbol.for("#getRenderContext"),Dae=Symbol.for("#isRichElement"),Jx=Symbol.for("#afterVisit"),Nae=Symbol.for("#insertInto"),Iae=Symbol.for("#replaceWith"),non=Symbol(),v8=class v8 extends AppContent{set prompt(e){this.prompt.$set(e,this,hDe,"prompt")}get prompt(){return this.prompt.$get(this,hDe,"prompt")}get prompt(){return this[$$r]||y((oH=this.text(),p(oH.local,Function)?oH.local():oH.local=!0,oH),this,hDe,"prompt",$$r,v8.prototype)}set response(e){this.response.$set(e,this,pDe,"response")}get response(){return this.response.$get(this,pDe,"response")}get response(){return this[y$r]||y((nH=this.text(),p(nH.local,Function)?nH.local():nH.local=!0,nH),this,pDe,"response",y$r,v8.prototype)}set model(e){this.model.$set(e,this,dDe,"model")}get model(){return this.model.$get(this,dDe,"model")}get model(){return this[b$r]||y((_$r=this.ref(LanguageModel),_$r),this,dDe,"model",b$r,v8.prototype)}set run(e){this.run.$set(e,this,fDe,"run")}get run(){return this.run.$get(this,fDe,"run")}get run(){return this[g$r]||y((h$=this.action(),p(h$.rx,Function)?h$.rx(ADMIN):h$.rx=ADMIN,p(h$.if,Function)?h$.if(function(){var e,t;return(t=(e=this.prompt)==null?void 0:e.trim)==null?void 0:t.call(e)}):h$.if=function(){var e,t;return(t=(e=this.prompt)==null?void 0:e.trim)==null?void 0:t.call(e)},h$.callback=async function(){return this.response=await this.runsrv(this.model,this.prompt)},h$),this,fDe,"run",g$r,v8.prototype)}set runsrv(e){this.runsrv.$set(e,this,mDe,"runsrv")}get runsrv(){return this.runsrv.$get(this,mDe,"runsrv")}get runsrv(){return this[k$r]||y((p$=this.action(),p(p$.rx,Function)?p$.rx(ADMIN):p$.rx=ADMIN,p(p$.rpc,Function)?p$.rpc():p$.rpc=!0,p$.callback=!1,p$),this,mDe,"runsrv",k$r,v8.prototype)}opownbody(){var F;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I;return r=o=1,(e=t[Mae])||(r=o=0,e=t[Mae]=e=R("op",null,"wz-af",null)),r||(e[ton]=t._),r||((F=e[ron])==null||F.call(e,t,Mae)),n=e[oon]("__",e),s=a=1,(i=e[x$r])||(s=a=0,e[x$r]=i=w("div",n,"wz-ag",null)),u=i[Lae](Krn),h=d=1,(c=u.run(this.ofield(this.$.run)))||(h=d=0,u.cache(c=M(u.value,i,null,null))),c[Dae]&&(h||!c.setup||c.setup(d,u),c[Jx](d)),c==i[iH]||!i[iH]&&(i[iH]=c)[Nae](i)||i[iH][Iae](i[iH]=c,i),f=i[Lae](Jrn),$=b=1,(m=f.run(this.ofield(this.$.model)))||($=b=0,f.cache(m=M(f.value,i,null,null))),m[Dae]&&($||!m.setup||m.setup(b,f),m[Jx](b)),m==i[sH]||!i[sH]&&(i[sH]=m)[Nae](i)||i[sH][Iae](i[sH]=m,i),s||!i.setup||i.setup(a,g),i[Jx](a),k=_=1,(x=e[v$r])||(k=_=0,e[v$r]=x=w("div",n,"wz-aj",null)),S=x[Lae](Qrn),C=j=1,(v=S.run(this.ofield(this.$.response)))||(C=j=0,S.cache(v=M(S.value,x,"wz-ak",null))),v[Dae]&&((!C||j&2)&&v.flags.reconcile(uC,"wz-ak"),C||!v.setup||v.setup(j,S),v[Jx](j)),v==x[uC]||!x[uC]&&(x[uC]=v)[Nae](x)||x[uC][Iae](x[uC]=v,x),P=x[Lae](eon),O=L=1,(U=P.run(this.ofield(this.$.prompt)))||(O=L=0,P.cache(U=M(P.value,x,"wz-al",null))),U[Dae]&&((!O||L&2)&&U.flags.reconcile(cC,"wz-al"),O||!U.setup||U.setup(L,P),U[Jx](L)),U==x[cC]||!x[cC]&&(x[cC]=U)[Nae](x)||x[cC][Iae](x[cC]=U,x),k||!x.setup||x.setup(_,I),x[Jx](_),r||t.sym||!e.setup||e.setup(o,t,Mae),t.sym||e[Jx](o),e}};E(v8,non,"AppInspectorGpt",0);var $De=v8;globalThis.AppInspectorGpt=$De;T();oe();$e();var yDe=Symbol("data"),w$r=Symbol(),bDe=Symbol("new-org"),S$r=Symbol(),gDe,hC,Fae=Symbol(),Hae=Symbol(),lH=Symbol(),ion=Symbol(),C$r=Symbol.for("##up"),E$r=Symbol.for("##register"),kDe=Symbol.for("#afterVisit"),son=Symbol.for("#getSlot"),lon=Symbol.for("#getRenderContext"),aon=Symbol.for("#isRichElement"),uon=Symbol.for("#appendChild"),con=Symbol.for("#replaceChild"),hon=Symbol(),aH=class aH extends AppCollView{set data(e){this.data.$set(e,this,yDe,"data")}get data(){return this.data.$get(this,yDe,"data")}get data(){return this[w$r]||y((gDe=this.pub(),gDe.callback=function(e){return e.fetchoftyp(Org)},gDe),this,yDe,"data",w$r,aH.prototype)}set neworg(e){this.neworg.$set(e,this,bDe,"neworg")}get neworg(){return this.neworg.$get(this,bDe,"neworg")}get neworg(){return this[S$r]||y((hC=this.action(),p(hC.rx,Function)?hC.rx(ADMIN):hC.rx=ADMIN,hC.callback=function(){return OP.dialog(this)},hC),this,bDe,"neworg",S$r,aH.prototype)}opowndialog(){var n;var e,t=H(),r,o;return r=o=1,(e=t[Fae])||(r=o=0,e=t[Fae]=e=R("op-org-dialog",null,null,null)),r||(e[C$r]=t._),r||((n=e[E$r])==null||n.call(e,t,Fae)),r||t.sym||!e.setup||e.setup(o,t,Fae),t.sym||e[kDe](o),e}opowncollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Hae])||(r=o=0,e=t[Hae]=e=R("op",null,null,null)),r||(e[C$r]=t._),r||((c=e[E$r])==null||c.call(e,t,Hae)),n=e[son]("__",e),i=e[lon](ion),a=u=1,(s=i.run(this.obutton(this.neworg)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[aon]&&(a||!s.setup||s.setup(u,i),s[kDe](u)),s==e[lH]||!e[lH]&&n[uon](e[lH]=s)||(n[con](s,e[lH]),e[lH]=s),r||t.sym||!e.setup||e.setup(o,t,Hae),t.sym||e[kDe](o),e}};E(aH,hon,"AppInspectorOrgs",0);var _De=aH;globalThis.AppInspectorOrgs=_De;T();oe();$e();var xDe=Symbol("data"),j$r=Symbol(),vDe,Bae=Symbol(),uH=Symbol(),pon=Symbol(),don=Symbol.for("##up"),fon=Symbol.for("##register"),mon=Symbol.for("#getSlot"),$on=Symbol.for("#getRenderContext"),yon=Symbol.for("#isRichElement"),A$r=Symbol.for("#afterVisit"),bon=Symbol.for("#appendChild"),gon=Symbol.for("#replaceChild"),kon=Symbol(),Vae=class Vae extends AppCollView{set data(e){this.data.$set(e,this,xDe,"data")}get data(){return this.data.$get(this,xDe,"data")}get data(){return this[j$r]||y((vDe=this.pub(),vDe.callback=function(e){return e.fetchoftyp(SharedQuery)},vDe),this,xDe,"data",j$r,Vae.prototype)}opowncollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Bae])||(r=o=0,e=t[Bae]=e=R("op",null,null,null)),r||(e[don]=t._),r||((c=e[fon])==null||c.call(e,t,Bae)),n=e[mon]("__",e),i=e[$on](pon),a=u=1,(s=i.run(this.obutton(SharedQuery)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[yon]&&(a||!s.setup||s.setup(u,i),s[A$r](u)),s==e[uH]||!e[uH]&&n[bon](e[uH]=s)||(n[gon](s,e[uH]),e[uH]=s),r||t.sym||!e.setup||e.setup(o,t,Bae),t.sym||e[A$r](o),e}};E(Vae,kon,"AppInspectorQueries",0);var wDe=Vae;globalThis.AppInspectorQueries=wDe;T();oe();ge(),$e();var SDe=Symbol("data"),U$r=Symbol(),CDe=Symbol("id"),P$r=Symbol(),EDe=Symbol("test_suite_run"),T$r=Symbol(),jDe=Symbol("repeat"),O$r=Symbol(),ADe=Symbol("test_prompt"),R$r=Symbol(),UDe=Symbol("test_model"),M$r=Symbol(),PDe=Symbol("test_temp"),L$r=Symbol(),TDe=Symbol("prod_prompt"),D$r=Symbol(),ODe=Symbol("prod_model"),N$r=Symbol(),RDe=Symbol("prod_temp"),I$r=Symbol(),MDe=Symbol("_exercises"),F$r=Symbol(),LDe=Symbol("prompt_tab"),H$r=Symbol(),DDe=Symbol("run-tests"),B$r=Symbol(),NDe=Symbol("run-tests-srv"),V$r=Symbol(),IDe,cH,z$r,q$r,W$r,Z$r,G$r,hH,pH,dH,pC,w8,FDe=Symbol(),zae=Symbol(),dC=Symbol(),_on=Symbol(),qae=Symbol(),fH=Symbol(),xon=Symbol(),fC,mC,Wae=Symbol(),Y$r=Symbol(),mH=Symbol(),von=Symbol(),$H=Symbol(),won=Symbol(),yH=Symbol(),Son=Symbol(),X$r=Symbol(),K$r=Symbol(),J$r=Symbol(),Q$r=Symbol(),eyr=Symbol(),tyr=Symbol(),ryr=Symbol(),oyr=Symbol(),nyr=Symbol(),iyr=Symbol(),syr=Symbol(),lyr=Symbol(),ayr=Symbol(),Zae=Symbol(),uyr=Symbol(),cyr=Symbol(),$C=Symbol(),Con=Symbol(),yC=Symbol(),Eon=Symbol(),S8=Symbol.for("#getRenderContext"),bH=Symbol.for("##up"),gH=Symbol.for("##register"),C8=Symbol.for("#isRichElement"),$s=Symbol.for("#afterVisit"),E8=Symbol.for("#getSlot"),rc=Symbol.for("#appendChild"),Qx=Symbol.for("#replaceChild"),Gae=Symbol.for("#placeChild"),jon=Symbol.for("#visit"),Yae=Symbol(),Sl=class Sl extends Qe(Yae,AppContent,Editable){constructor(){super(...arguments),super[A]||this[A](),re(this,Yae)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Yae])==null||o.call(this,...arguments)}set data(e){this.data.$set(e,this,SDe,"data")}get data(){return this.data.$get(this,SDe,"data")}get data(){return this[U$r]||y((IDe=this.pub(),IDe.callback=async function(e){if(await ExerciseWrapper.fetchall(),e.add(ExerciseWrapper.all()),await LanguageModel.fetchall(),e.add(LanguageModel.all()),this.test_suite_run)return await OP.preload`select * from _exercisetestresult where test_suite_run = ${this.test_suite_run}`,e.add(ExerciseTestResult.all().filter(t=>t.test_suite_run==this.test_suite_run))},IDe),this,SDe,"data",U$r,Sl.prototype)}set id(e){this.id.$set(e,this,CDe,"id")}get id(){return this.id.$get(this,CDe,"id")}get id(){return this[P$r]||y((cH=this.key(),p(cH.rwxcd,Function)?cH.rwxcd(ADMIN|TEACHER):cH.rwxcd=ADMIN|TEACHER,cH),this,CDe,"id",P$r,Sl.prototype)}set test_suite_run(e){this.test_suite_run.$set(e,this,EDe,"test_suite_run")}get test_suite_run(){return this.test_suite_run.$get(this,EDe,"test_suite_run")}get test_suite_run(){return this[T$r]||y((z$r=this.ref(ExerciseTestSuiteRun),z$r),this,EDe,"test_suite_run",T$r,Sl.prototype)}set repeat(e){this.repeat.$set(e,this,jDe,"repeat")}get repeat(){return this.repeat.$get(this,jDe,"repeat")}get repeat(){return this[O$r]||y((q$r=this.number(),q$r),this,jDe,"repeat",O$r,Sl.prototype)}set test_prompt(e){this.test_prompt.$set(e,this,ADe,"test_prompt")}get test_prompt(){return this.test_prompt.$get(this,ADe,"test_prompt")}get test_prompt(){return this[R$r]||y((W$r=this.text(),W$r),this,ADe,"test_prompt",R$r,Sl.prototype)}set test_model(e){this.test_model.$set(e,this,UDe,"test_model")}get test_model(){return this.test_model.$get(this,UDe,"test_model")}get test_model(){return this[M$r]||y((Z$r=this.ref(LanguageModel),Z$r),this,UDe,"test_model",M$r,Sl.prototype)}set test_temp(e){this.test_temp.$set(e,this,PDe,"test_temp")}get test_temp(){return this.test_temp.$get(this,PDe,"test_temp")}get test_temp(){return this[L$r]||y((G$r=this.float(),G$r),this,PDe,"test_temp",L$r,Sl.prototype)}set prod_prompt(e){this.prod_prompt.$set(e,this,TDe,"prod_prompt")}get prod_prompt(){return this.prod_prompt.$get(this,TDe,"prod_prompt")}get prod_prompt(){return this[D$r]||y((hH=this.text(),p(hH.editable,Function)?hH.editable():hH.editable=!0,hH),this,TDe,"prod_prompt",D$r,Sl.prototype)}set prod_model(e){this.prod_model.$set(e,this,ODe,"prod_model")}get prod_model(){return this.prod_model.$get(this,ODe,"prod_model")}get prod_model(){return this[N$r]||y((pH=this.ref(LanguageModel),p(pH.editable,Function)?pH.editable():pH.editable=!0,pH),this,ODe,"prod_model",N$r,Sl.prototype)}set prod_temp(e){this.prod_temp.$set(e,this,RDe,"prod_temp")}get prod_temp(){return this.prod_temp.$get(this,RDe,"prod_temp")}get prod_temp(){return this[I$r]||y((dH=this.float(),p(dH.editable,Function)?dH.editable():dH.editable=!0,dH),this,RDe,"prod_temp",I$r,Sl.prototype)}set _exercises(e){this._exercises.$set(e,this,MDe,"_exercises")}get _exercises(){return this._exercises.$get(this,MDe,"_exercises")}get _exercises(){return this[F$r]||y((pC=this.coll(ExerciseWrapper,{layout:"list"}),p(pC.tab,Function)?pC.tab():pC.tab=!0,pC.callback=function(){return this.exercises},pC),this,MDe,"_exercises",F$r,Sl.prototype)}set prompt_tab(e){this.prompt_tab.$set(e,this,LDe,"prompt_tab")}get prompt_tab(){return this.prompt_tab.$get(this,LDe,"prompt_tab")}get prompt_tab(){return this[H$r]||y((w8=this.embed(),p(w8.tab,Function)?w8.tab():w8.tab=!0,p(w8.label,Function)?w8.label("Prompt"):w8.label="Prompt",w8),this,LDe,"prompt_tab",H$r,Sl.prototype)}opprompt_tabbody(){var i;var e,t,r=H(),o,n;return e=r[S8](FDe),o=n=1,(t=e.run(this.ofield(this.$.test_prompt)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[bH]=r._),o||((i=t[gH])==null||i.call(t,r,FDe)),t[C8]&&(o||r.sym||!t.setup||t.setup(n,r,FDe),r.sym||t[$s](n)),t}get exercises(){return ExerciseWrapper.all()}op_promptbody(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[zae])||(r=o=0,e=t[zae]=e=R("op",null,null,null)),r||(e[bH]=t._),r||((c=e[gH])==null||c.call(e,t,zae)),n=e[E8]("__",e),i=e[S8](_on),a=u=1,(s=i.run(this.ofield(this.$.prompt)))||(a=u=0,i.cache(s=M(i.value,n,"cbh-ah",null))),s[C8]&&((!a||u&2)&&s.flags.reconcile(dC,"cbh-ah"),a||!s.setup||s.setup(u,i),s[$s](u)),s==e[dC]||!e[dC]&&n[rc](e[dC]=s)||(n[Qx](s,e[dC]),e[dC]=s),r||t.sym||!e.setup||e.setup(o,t,zae),t.sym||e[$s](o),e}op_exercisescollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[qae])||(r=o=0,e=t[qae]=e=R("op",null,null,null)),r||(e[bH]=t._),r||((c=e[gH])==null||c.call(e,t,qae)),n=e[E8]("__",e),i=e[S8](xon),a=u=1,(s=i.run(this.obutton(this.runtests)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[C8]&&(a||!s.setup||s.setup(u,i),s[$s](u)),s==e[fH]||!e[fH]&&n[rc](e[fH]=s)||(n[Qx](s,e[fH]),e[fH]=s),r||t.sym||!e.setup||e.setup(o,t,qae),t.sym||e[$s](o),e}set runtests(e){this.runtests.$set(e,this,DDe,"runtests")}get runtests(){return this.runtests.$get(this,DDe,"runtests")}get runtests(){return this[B$r]||y((fC=this.action(),p(fC.atomic,Function)?fC.atomic():fC.atomic=!0,fC.callback=async function(){return this.test_suite_run=await this.runtestssrv()},fC),this,DDe,"runtests",B$r,Sl.prototype)}set runtestssrv(e){this.runtestssrv.$set(e,this,NDe,"runtestssrv")}get runtestssrv(){return this.runtestssrv.$get(this,NDe,"runtestssrv")}get runtestssrv(){return this[V$r]||y((mC=this.action(),p(mC.rpc,Function)?mC.rpc():mC.rpc=!0,mC.callback=!1,mC),this,NDe,"runtestssrv",V$r,Sl.prototype)}get results(){var e;return(e=this.test_suite_run)==null?void 0:e.$children}get results_count(){var e;return(e=this.results)==null?void 0:e.len}get correct_results_count(){var e;return(e=this.test_suite_run)==null?void 0:e.correct_results_count}get incorrect_results_count(){var e;return(e=this.test_suite_run)==null?void 0:e.incorrect_results_count}get average_duration(){return 0}opownglobalheader(){var ve;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae;return r=o=1,(e=t[Wae])||(r=o=0,e=t[Wae]=e=R("op",null,null,null)),r||(e[bH]=t._),r||((ve=e[gH])==null||ve.call(e,t,Wae)),n=e[E8]("__",e),r||(e.data__={sub:!0}),i=this,i===e[Y$r]||(e.data=e[Y$r]=i),s=e[S8](von),u=c=1,(a=s.run(this.ofield(this.$.repeat)))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[C8]&&(u||!a.setup||a.setup(c,s),a[$s](c)),a==e[mH]||!e[mH]&&n[rc](e[mH]=a)||(n[Qx](a,e[mH]),e[mH]=a),h=e[S8](won),f=m=1,(d=h.run(this.ofield(this.$.test_temp)))||(f=m=0,h.cache(d=M(h.value,n,null,null))),d[C8]&&(f||(d.optip="The temperature, lower is more consistent, higher is more creative."),f||!d.setup||d.setup(m,h),d[$s](m)),d==e[$H]||!e[$H]&&n[rc](e[$H]=d)||(n[Qx](d,e[$H]),e[$H]=d),$=e[S8](Son),g=x=1,(b=$.run(this.ofield(this.$.test_model)))||(g=x=0,$.cache(b=M($.value,n,null,null))),b[C8]&&(g||!b.setup||b.setup(x,$),b[$s](x)),b==e[yH]||!e[yH]&&n[rc](e[yH]=b)||(n[Qx](b,e[yH]),e[yH]=b),_=S=1,(k=e[X$r])||(_=S=0,e[X$r]=k=R("op-stats",n,"cbh-ao",null)),v=k[E8]("__",e),j=P=1,(C=e[K$r])||(j=P=0,e[K$r]=C=R("op-stat",v,null,null)),U=C[E8]("__",e),j||(C.optip="Total number of correct test cases"),L=I=1,(O=e[J$r])||(L=I=0,e[J$r]=O=R("op-icon",U,"cbh-aq",null)),L||(O.data="correct"),L||!O.setup||O.setup(I,F),O[$s](I),L||U[rc](O),N=this.correct_results_count,N===e[eyr]&&j||(e[Q$r]=U[Gae](e[eyr]=N,256,e[Q$r])),j||!C.setup||C.setup(P,V),C[$s](P),j||v[rc](C),z=q=1,(W=e[tyr])||(z=q=0,e[tyr]=W=R("op-stat",v,null,null)),Y=W[E8]("__",e),z||(W.optip="Total number of incorrect test cases"),X=Z=1,(K=e[ryr])||(X=Z=0,e[ryr]=K=R("op-icon",Y,"cbh-as",null)),X||(K.data="incorrect"),X||!K.setup||K.setup(Z,Q),K[$s](Z),X||Y[rc](K),ee=this.incorrect_results_count,ee===e[nyr]&&z||(e[oyr]=Y[Gae](e[nyr]=ee,256,e[oyr])),z||!W.setup||W.setup(q,te),W[$s](q),z||v[rc](W),ie=J=1,(ne=e[iyr])||(ie=J=0,e[iyr]=ne=R("op-stat",v,null,null)),me=ne[E8]("__",e),ie||(ne.optip="Average time it took to call api in milliseconds"),ye=we=1,(ce=e[syr])||(ye=we=0,e[syr]=ce=R("op-icon",me,"cbh-au",null)),ye||(ce.data="duration"),ye||!ce.setup||ce.setup(we,ae),ce[$s](we),ye||me[rc](ce),be=this.average_duration,be===e[ayr]&&ie||(e[lyr]=me[Gae](e[ayr]=be,0,e[lyr])),ie||me[Gae]("ms"),ie||!ne.setup||ne.setup(J,_e),ne[$s](J),ie||v[rc](ne),_||!k.setup||k.setup(S,Ae),k[$s](S),_||n[rc](k),r||t.sym||!e.setup||e.setup(o,t,Wae),t.sym||e[$s](o),e}opownpagebody(){var k,_;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;return r=t[Zae]=t[Zae]||new Map,o=n=1,(e=r.get(i=this))||(o=n=0,r.set(i,e=R("op",null,"cbh-av",null))),o||(e[bH]=t._),o||((k=e[gH])==null||k.call(e,t,Zae)),s=e[E8]("__",e),o||(e.data__={sub:!0}),a=this,a===e[uyr]||(e.data=e[uyr]=a),u=e[cyr]||(e[cyr]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,n|=48),o||e.on$("opmenu",u,this),n&32&&(n^=32,(_=u[jon])==null||_.call(u)),o||(c=w("div",s,"md cbh_av",null)),o||(c.md=`# AI Exercise Review Management
This page is for iterating on exercise reviews.
Here you can view exercise test cases and edit the system instructions
that get passed to the AI models.
You can also enable and disable different AI models.`),h=e[S8](Con),f=m=1,(d=h.run(this.oel(this,"global-header")))||(f=m=0,h.cache(d=M(h.value,s,"cbh_av",null))),d[C8]&&((!f||m&2)&&d.flags.reconcile($C,"cbh_av"),f||!d.setup||d.setup(m,h),d[$s](m)),d==e[$C]||!e[$C]&&s[rc](e[$C]=d)||(s[Qx](d,e[$C]),e[$C]=d),$=e[S8](Eon),g=x=1,(b=$.run(this.oel(this,"page-tabs")))||(g=x=0,$.cache(b=M($.value,s,"cbh_av",null))),b[C8]&&((!g||x&2)&&b.flags.reconcile(yC,"cbh_av"),g||!b.setup||b.setup(x,$),b[$s](x)),b==e[yC]||!e[yC]&&s[rc](e[yC]=b)||(s[Qx](b,e[yC]),e[yC]=b),o||t.sym||!e.setup||e.setup(n,t,Zae),t.sym||e[$s](n),e}};E(Sl,Yae,"AppInspectorExercises",80);var HDe=Sl;globalThis.AppInspectorExercises=HDe;T();oe();ge(),un(),We(),$e();var BDe=Symbol("value"),hyr=Symbol(),VDe=Symbol("select-typ"),pyr=Symbol(),zDe=Symbol("select-field"),dyr=Symbol(),qDe=Symbol("select-operator"),fyr=Symbol(),WDe=Symbol("search"),myr=Symbol(),kH,ZDe,bC,gC,d$,Xae=Symbol(),$yr=Symbol(),_H=Symbol(),Aon=Symbol(),yyr=Symbol(),xH=Symbol(),Uon=Symbol(),byr=Symbol(),vH=Symbol(),Pon=Symbol(),gyr=Symbol(),wH=Symbol(),Ton=Symbol(),kC=Symbol(),Oon=Symbol(),kyr=Symbol(),Ron=Symbol(),_yr=Symbol.for("##up"),Mon=Symbol.for("##register"),Lon=Symbol.for("#getSlot"),SH=Symbol.for("#getRenderContext"),_C=Symbol.for("#isRichElement"),f$=Symbol.for("#afterVisit"),GDe=Symbol.for("#insertInto"),YDe=Symbol.for("#replaceWith"),xyr=Symbol.for("#appendChild"),vyr=Symbol.for("#replaceChild"),Don=Symbol.for("#getDynamicContext"),wyr=Symbol(),Gf=class Gf extends AppContent{constructor(){super(...arguments),super[A]||this[A](),re(this,wyr)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.typ=e?e.typ:void 0,this.field=e?e.field:void 0,this.operator=e&&(o=e.operator)!==void 0?o:OPString.for("eq"),this.results=e&&(o=e.results)!==void 0?o:[]}set value(e){this.value.$set(e,this,BDe,"value")}get value(){return this.value.$get(this,BDe,"value")}get value(){return this[hyr]||y((kH=this.string(),p(kH.memory,Function)?kH.memory():kH.memory=!0,kH),this,BDe,"value",hyr,Gf.prototype)}get operators(){return["gt","gte","lt","lte","lte","like","exists","not","in","nin","has","eq"].map(function(e){return OPString.for(e)})}focusvalue(){var e,t,r,o;return(o=(r=(t=(e=globalThis.document.querySelector("#valuefield"))==null?void 0:e.querySelector)==null?void 0:t.call(e,"input"))==null?void 0:r.focus)==null?void 0:o.call(r)}set selecttyp(e){this.selecttyp.$set(e,this,VDe,"selecttyp")}get selecttyp(){return this.selecttyp.$get(this,VDe,"selecttyp")}get selecttyp(){return this[pyr]||y((ZDe=this.action(),ZDe.callback=async function(){return this.typ=await OP.pick(OP.Object.types),this.selectfield()},ZDe),this,VDe,"selecttyp",pyr,Gf.prototype)}set selectfield(e){this.selectfield.$set(e,this,zDe,"selectfield")}get selectfield(){return this.selectfield.$get(this,zDe,"selectfield")}get selectfield(){return this[dyr]||y((bC=this.action(),p(bC.if,Function)?bC.if(function(){return this.typ}):bC.if=function(){return this.typ},bC.callback=async function(){return this.field=await OP.pick(Object.values(this.typ.$shape.$common)),this.focusvalue()},bC),this,zDe,"selectfield",dyr,Gf.prototype)}set selectoperator(e){this.selectoperator.$set(e,this,qDe,"selectoperator")}get selectoperator(){return this.selectoperator.$get(this,qDe,"selectoperator")}get selectoperator(){return this[fyr]||y((gC=this.action(),p(gC.if,Function)?gC.if(function(){return!0}):gC.if=function(){return!0},gC.callback=async function(){return this.operator=await OP.pick(this.operators),this.focusvalue()},gC),this,qDe,"selectoperator",fyr,Gf.prototype)}set search(e){this.search.$set(e,this,WDe,"search")}get search(){return this.search.$get(this,WDe,"search")}get search(){return this[myr]||y((d$=this.action(),p(d$.rx,Function)?d$.rx(ADMIN):d$.rx=ADMIN,p(d$.if,Function)?d$.if(function(){return this.typ&&this.field}):d$.if=function(){return this.typ&&this.field},d$.callback=async function(){let e=this.operator?this.field.name+""+this.operator:this.field.name;return this.results=await OP.server.richquery50(this.typ.name,{[e]:this.value})},d$),this,WDe,"search",myr,Gf.prototype)}opownbody(){var te,ne,ie;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee;t.this=this,o=n=1,(r=t[Xae])||(o=n=0,r=t[Xae]=r=R("op",null,"vz-af",null)),o||(r[_yr]=t._),o||((te=r[Mon])==null||te.call(r,t,Xae)),i=r[Lon]("__",r),a=u=1,(s=r[$yr])||(a=u=0,r[$yr]=s=w("div",i,"vz-ag",null)),c=s[SH](Aon),d=f=1,(h=c.run(this.obutton(this.selecttyp)))||(d=f=0,c.cache(h=M(c.value,s,null,null))),h[_C]&&(m=((ne=this.typ)==null?void 0:ne.name)||"select type",m===h[yyr]||(h.label=h[yyr]=m),d||(h.icon="model"),d||!h.setup||h.setup(f,c),h[f$](f)),h==s[_H]||!s[_H]&&(s[_H]=h)[GDe](s)||s[_H][YDe](s[_H]=h,s),$=s[SH](Uon),g=x=1,(b=$.run(this.obutton(this.selectfield)))||(g=x=0,$.cache(b=M($.value,s,null,null))),b[_C]&&(k=((ie=this.field)==null?void 0:ie.name)||"select field",k===b[byr]||(b.label=b[byr]=k),g||(b.icon="field"),g||!b.setup||b.setup(x,$),b[f$](x)),b==s[xH]||!s[xH]&&(s[xH]=b)[GDe](s)||s[xH][YDe](s[xH]=b,s),_=s[SH](Pon),v=C=1,(S=_.run(this.obutton(this.selectoperator)))||(v=C=0,_.cache(S=M(_.value,s,null,null))),S[_C]&&(j=this.operator||"select operator",j===S[gyr]||(S.label=S[gyr]=j),v||(S.icon="subtract"),v||!S.setup||S.setup(C,_),S[f$](C)),S==s[vH]||!s[vH]&&(s[vH]=S)[GDe](s)||s[vH][YDe](s[vH]=S,s),a||!s.setup||s.setup(u,P),s[f$](u),U=r[SH](Ton),L=I=1,(O=U.run(this.ofield(this.$.value)))||(L=I=0,U.cache(O=M(U.value,i,null,null))),O[_C]&&(L||(O.id="valuefield"),L||O.on$("keydown",{enter:!0,$_:[function(J,me){return t.this.search(J)}]},this),L||!O.setup||O.setup(I,U),O[f$](I)),O==r[wH]||!r[wH]&&i[xyr](r[wH]=O)||(i[vyr](O,r[wH]),r[wH]=O),F=r[SH](Oon),V=W=1,(N=F.run(this.obutton(this.search)))||(V=W=0,F.cache(N=M(F.value,i,"vz-al",null))),N[_C]&&((!V||W&2)&&N.flags.reconcile(kC,"vz-al"),V||!N.setup||N.setup(W,F),N[f$](W)),N==r[kC]||!r[kC]&&i[xyr](r[kC]=N)||(i[vyr](N,r[kC]),r[kC]=N),(z=r[kyr])||(r[kyr]=z=wt(256,i)),q=0,Y=z.$;for(let J=0,me=B(this.results),ce=me.length;J<ce;J++){let ye=me[J];Z=Q=1,(X=(K=Y[Don](Ron,q)).run(this.oli(ye)))||(Z=Q=0,K.cache(X=M(K.value,z,null,null))),Z||(X[_yr]=z),X[_C]&&(Z||!X.setup||X.setup(Q,K),X[f$](Q)),z.push(X,q++,ee)}return z[f$](q),o||t.sym||!r.setup||r.setup(n,t,Xae),t.sym||r[f$](n),r}};Gf.prototype[Le]=De,se([ke.bind([])],Gf.prototype,"operators",null),E(Gf,wyr,"AppInspectorSearch",272);var XDe=Gf;globalThis.AppInspectorSearch=XDe;T();oe();We(),$e();var KDe=Symbol("data"),Syr=Symbol(),JDe=Symbol("fix-playlist-durations"),Cyr=Symbol(),QDe=Symbol("queries"),Eyr=Symbol(),eNe=Symbol("pages"),jyr=Symbol(),tNe=Symbol("search"),Ayr=Symbol(),rNe=Symbol("design"),Uyr=Symbol(),oNe=Symbol("gpt"),Pyr=Symbol(),nNe=Symbol("ai"),Tyr=Symbol(),iNe=Symbol("orgs"),Oyr=Symbol(),sNe=Symbol("exercises"),Ryr=Symbol(),lNe=Symbol("prices"),Myr=Symbol(),aNe,Nyr=le("&.visible?",globalThis,l=>l.visible),m$,Kae=Symbol(),CH=Symbol(),Non=Symbol(),$$,Ion=le("!&._del",globalThis,l=>!l._del),y$,j8,kd,A8,b$,g$,U8,k$,Fon=Symbol.for("##up"),Hon=Symbol.for("##register"),Bon=Symbol.for("#getSlot"),Von=Symbol.for("#getRenderContext"),zon=Symbol.for("#isRichElement"),Lyr=Symbol.for("#afterVisit"),qon=Symbol.for("#appendChild"),Won=Symbol.for("#replaceChild"),Zon=Symbol(),Qae=class Qae extends AppCollView{set data(e){this.data.$set(e,this,KDe,"data")}get data(){return this.data.$get(this,KDe,"data")}get data(){return this[Syr]||y((aNe=this.pub(),aNe.callback=function(e){return e.add(StripePrice.all(Nyr)),!0},aNe),this,KDe,"data",Syr,Qae.prototype)}};E(Qae,Zon,"AppInspectorPrices",0);var Jae=Qae;globalThis.AppInspectorPrices=Jae;var Dyr=Symbol(),La=class La extends AppContent{constructor(){super(...arguments),re(this,Dyr)}set fixplaylistdurations(e){this.fixplaylistdurations.$set(e,this,JDe,"fixplaylistdurations")}get fixplaylistdurations(){return this.fixplaylistdurations.$get(this,JDe,"fixplaylistdurations")}get fixplaylistdurations(){return this[Cyr]||y((m$=this.action(),p(m$.rx,Function)?m$.rx(ADMIN):m$.rx=ADMIN,p(m$.rpc,Function)?m$.rpc():m$.rpc=!0,m$.callback=!1,m$),this,JDe,"fixplaylistdurations",Cyr,La.prototype)}get fetchable(){let e=Array.from(OPObject.types);return e.push(OPObject),e.delete(OPSyslog),e}opownpageintro(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Kae])||(r=o=0,e=t[Kae]=e=R("op",null,"we-af",null)),r||(e[Fon]=t._),r||((c=e[Hon])==null||c.call(e,t,Kae)),n=e[Bon]("__",e),i=e[Von](Non),a=u=1,(s=i.run(this.obutton(OPObject)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[zon]&&(a||!s.setup||s.setup(u,i),s[Lyr](u)),s==e[CH]||!e[CH]&&n[qon](e[CH]=s)||(n[Won](s,e[CH]),e[CH]=s),r||t.sym||!e.setup||e.setup(o,t,Kae),t.sym||e[Lyr](o),e}set queries(e){this.queries.$set(e,this,QDe,"queries")}get queries(){return this.queries.$get(this,QDe,"queries")}get queries(){return this[Eyr]||y(($$=this.embed(AppInspectorQueries,{layout:"list"}),p($$.r,Function)?$$.r(ADMIN):$$.r=ADMIN,p($$.tab,Function)?$$.tab():$$.tab=!0,$$.callback=function(){return SharedQuery.all(Ion)},$$),this,QDe,"queries",Eyr,La.prototype)}set pages(e){this.pages.$set(e,this,eNe,"pages")}get pages(){return this.pages.$get(this,eNe,"pages")}get pages(){return this[jyr]||y((y$=this.embed(AppPagesPage),p(y$.tab,Function)?y$.tab():y$.tab=!0,p(y$.rx,Function)?y$.rx(ADMIN|TEACHER):y$.rx=ADMIN|TEACHER,y$.callback=function(){return APP.pages},y$),this,eNe,"pages",jyr,La.prototype)}set search(e){this.search.$set(e,this,tNe,"search")}get search(){return this.search.$get(this,tNe,"search")}get search(){return this[Ayr]||y((j8=this.embed(AppInspectorSearch),p(j8.r,Function)?j8.r(ADMIN):j8.r=ADMIN,p(j8.tab,Function)?j8.tab():j8.tab=!0,j8),this,tNe,"search",Ayr,La.prototype)}set design(e){this.design.$set(e,this,rNe,"design")}get design(){return this.design.$get(this,rNe,"design")}get design(){return this[Uyr]||y((kd=this.embed(AppInspectorDesign),p(kd.memory,Function)?kd.memory():kd.memory=!0,p(kd.tab,Function)?kd.tab():kd.tab=!0,p(kd.r,Function)?kd.r(ADMIN):kd.r=ADMIN,kd),this,rNe,"design",Uyr,La.prototype)}set gpt(e){this.gpt.$set(e,this,oNe,"gpt")}get gpt(){return this.gpt.$get(this,oNe,"gpt")}get gpt(){return this[Pyr]||y((A8=this.embed(AppInspectorGpt),p(A8.r,Function)?A8.r(ADMIN):A8.r=ADMIN,p(A8.tab,Function)?A8.tab():A8.tab=!0,A8),this,oNe,"gpt",Pyr,La.prototype)}set ai(e){this.ai.$set(e,this,nNe,"ai")}get ai(){return this.ai.$get(this,nNe,"ai")}get ai(){return this[Tyr]||y((b$=this.embed(AppInspectorAI,{layout:"list"}),p(b$.r,Function)?b$.r(ADMIN):b$.r=ADMIN,p(b$.tab,Function)?b$.tab():b$.tab=!0,b$.callback=function(){return LanguageModel.all()},b$),this,nNe,"ai",Tyr,La.prototype)}set orgs(e){this.orgs.$set(e,this,iNe,"orgs")}get orgs(){return this.orgs.$get(this,iNe,"orgs")}get orgs(){return this[Oyr]||y((g$=this.embed(AppInspectorOrgs,{layout:"list"}),p(g$.tab,Function)?g$.tab():g$.tab=!0,p(g$.r,Function)?g$.r(ADMIN):g$.r=ADMIN,g$.callback=function(){return Org.all()},g$),this,iNe,"orgs",Oyr,La.prototype)}set exercises(e){this.exercises.$set(e,this,sNe,"exercises")}get exercises(){return this.exercises.$get(this,sNe,"exercises")}get exercises(){return this[Ryr]||y((U8=this.embed(AppInspectorExercises),p(U8.tab,Function)?U8.tab():U8.tab=!0,p(U8.rwx,Function)?U8.rwx(ADMIN):U8.rwx=ADMIN,U8),this,sNe,"exercises",Ryr,La.prototype)}set prices(e){this.prices.$set(e,this,lNe,"prices")}get prices(){return this.prices.$get(this,lNe,"prices")}get prices(){return this[Myr]||y((k$=this.embed(Jae,{layout:"list"}),p(k$.r,Function)?k$.r(ADMIN):k$.r=ADMIN,p(k$.tab,Function)?k$.tab():k$.tab=!0,k$.callback=function(){return StripePrice.all(Nyr)},k$),this,lNe,"prices",Myr,La.prototype)}};La.prototype[Le]=De,se([ke.bind([])],La.prototype,"fetchable",null),E(La,Dyr,"AppInspector",272);var uNe=La;globalThis.AppInspector=uNe;T();oe();ge(),dt(),wo(),$e();var cNe=Symbol("overview"),Iyr=Symbol(),hNe=Symbol("subs"),Fyr=Symbol(),pNe=Symbol("campaigns"),Hyr=Symbol(),dNe=Symbol("usage"),Byr=Symbol(),fNe=Symbol("affiliates"),Vyr=Symbol(),mNe=Symbol("system"),zyr=Symbol(),$Ne=Symbol("custom"),qyr=Symbol(),yNe=Symbol("servers"),Wyr=Symbol(),bNe=Symbol("procs"),Zyr=Symbol(),gNe=Symbol("id"),Gyr=Symbol(),kNe=Symbol("name"),Yyr=Symbol(),_Ne=Symbol("description"),Xyr=Symbol(),xNe=Symbol("charts"),Kyr=Symbol(),vNe=Symbol("creator"),Jyr=Symbol(),wNe=Symbol("data"),Qyr=Symbol(),SNe=Symbol("add-item"),ebr=Symbol(),CNe=Symbol("remove-item"),tbr=Symbol(),ENe=Symbol("data"),rbr=Symbol(),jNe=Symbol("visits"),obr=Symbol(),ANe=Symbol("seen_checkout"),nbr=Symbol(),UNe=Symbol("tried_checkout"),ibr=Symbol(),PNe=Symbol("activations"),sbr=Symbol(),TNe=Symbol("incomplete"),lbr=Symbol(),ONe=Symbol("cancellations"),abr=Symbol(),RNe=Symbol("churn"),ubr=Symbol(),MNe=Symbol("student_offers"),cbr=Symbol(),LNe=Symbol("challenge_offers"),hbr=Symbol(),DNe=Symbol("pro_view_offers"),pbr=Symbol(),NNe=Symbol("checkout_offers"),dbr=Symbol(),INe=Symbol("new_subs"),fbr=Symbol(),FNe=Symbol("new_afl_sessions"),mbr=Symbol(),HNe=Symbol("new_afl_users"),$br=Symbol(),BNe=Symbol("new_afl_subs"),ybr=Symbol(),VNe=Symbol("new_afl_payments"),bbr=Symbol(),zNe=Symbol("new_sessions"),gbr=Symbol(),qNe=Symbol("new_users"),kbr=Symbol(),WNe=Symbol("new_scrims"),_br=Symbol(),P8,T8,O8,R8,M8,L8,_$,Gon=le("&.starred",globalThis,l=>l.starred),ZNe,GNe,eue=Symbol(),EH=Symbol(),Yon=Symbol(),jH=Symbol(),Xon=Symbol(),AH,D8,N8,xbr,xC,YNe,XNe,Kon=le("&.chart.raw_query..trim!",globalThis,l=>{var e,t;return(t=(e=l.chart.raw_query)==null?void 0:e.trim)==null?void 0:t.call(e)}),KNe,tue=Symbol(),UH=Symbol(),Jon=Symbol(),vbr=Symbol(),PH=Symbol(),Qon=Symbol(),wbr=Symbol(),rue=Symbol(),Sbr=Symbol(),Cbr=Symbol(),enn=Symbol(),Ebr=Symbol(),oue=Symbol(),jbr=Symbol(),Abr=Symbol(),Ubr=Symbol(),vC=Symbol(),tnn=Symbol(),Pbr=Symbol(),Tbr=Symbol(),Obr=Symbol(),Rbr=Symbol(),Mbr=Symbol(),Lbr=Symbol(),Dbr=Symbol(),Nbr=Symbol(),TH=Symbol(),rnn=Symbol(),Ibr=Symbol(),OH=Symbol(),onn=Symbol(),JNe,nue=Symbol(),RH=Symbol(),nnn=Symbol(),Fbr,Hbr,Bbr,QNe=Symbol(),iue=Symbol(),MH=Symbol(),inn=Symbol(),LH=Symbol(),snn=Symbol(),DH=Symbol(),lnn=Symbol(),Vbr,zbr,qbr,Wbr,sue=Symbol(),NH=Symbol(),ann=Symbol(),IH=Symbol(),unn=Symbol(),FH=Symbol(),cnn=Symbol(),HH=Symbol(),hnn=Symbol(),eIe=Symbol(),Zbr,Gbr,Ybr,Xbr,Kbr,lue=Symbol(),BH=Symbol(),pnn=Symbol(),VH=Symbol(),dnn=Symbol(),zH=Symbol(),fnn=Symbol(),qH=Symbol(),mnn=Symbol(),WH=Symbol(),$nn=Symbol(),Jbr,Qbr,egr,tgr,aue=Symbol(),ZH=Symbol(),ynn=Symbol(),GH=Symbol(),bnn=Symbol(),YH=Symbol(),gnn=Symbol(),XH=Symbol(),knn=Symbol(),rgr,ogr,ngr,uue=Symbol(),KH=Symbol(),_nn=Symbol(),JH=Symbol(),xnn=Symbol(),QH=Symbol(),vnn=Symbol(),th=Symbol.for("##up"),Xh=Symbol.for("##register"),_n=Symbol.for("#getRenderContext"),hn=Symbol.for("#isRichElement"),Fr=Symbol.for("#afterVisit"),qn=Symbol.for("#insertInto"),Wn=Symbol.for("#replaceWith"),tIe=Symbol.for("#getSlot"),hue=Symbol.for("#appendChild"),rIe=Symbol.for("#replaceChild"),wnn=Symbol.for("#getDynamicContext"),igr=Symbol.for("#visit"),sgr=Symbol.for("#placeChild"),Snn=Symbol(),Yf=class Yf extends OPEmbed{set overview(e){this.overview.$set(e,this,cNe,"overview")}get overview(){return this.overview.$get(this,cNe,"overview")}get overview(){return this[Iyr]||y((P8=this.embed(cIe),p(P8.tab,Function)?P8.tab():P8.tab=!0,p(P8.rwx,Function)?P8.rwx(ADMIN):P8.rwx=ADMIN,P8),this,cNe,"overview",Iyr,Yf.prototype)}set subs(e){this.subs.$set(e,this,hNe,"subs")}get subs(){return this.subs.$get(this,hNe,"subs")}get subs(){return this[Fyr]||y((T8=this.embed(lIe),p(T8.tab,Function)?T8.tab():T8.tab=!0,p(T8.rwx,Function)?T8.rwx(ADMIN):T8.rwx=ADMIN,T8),this,hNe,"subs",Fyr,Yf.prototype)}set campaigns(e){this.campaigns.$set(e,this,pNe,"campaigns")}get campaigns(){return this.campaigns.$get(this,pNe,"campaigns")}get campaigns(){return this[Hyr]||y((O8=this.embed(aIe),p(O8.tab,Function)?O8.tab():O8.tab=!0,p(O8.rwx,Function)?O8.rwx(ADMIN):O8.rwx=ADMIN,O8),this,pNe,"campaigns",Hyr,Yf.prototype)}set usage(e){this.usage.$set(e,this,dNe,"usage")}get usage(){return this.usage.$get(this,dNe,"usage")}get usage(){return this[Byr]||y((R8=this.embed(sIe),p(R8.tab,Function)?R8.tab():R8.tab=!0,p(R8.rwx,Function)?R8.rwx(ADMIN):R8.rwx=ADMIN,R8),this,dNe,"usage",Byr,Yf.prototype)}set affiliates(e){this.affiliates.$set(e,this,fNe,"affiliates")}get affiliates(){return this.affiliates.$get(this,fNe,"affiliates")}get affiliates(){return this[Vyr]||y((M8=this.embed(uIe),p(M8.tab,Function)?M8.tab():M8.tab=!0,p(M8.rwx,Function)?M8.rwx(ADMIN):M8.rwx=ADMIN,M8),this,fNe,"affiliates",Vyr,Yf.prototype)}set system(e){this.system.$set(e,this,mNe,"system")}get system(){return this.system.$get(this,mNe,"system")}get system(){return this[zyr]||y((L8=this.embed(nIe),p(L8.tab,Function)?L8.tab():L8.tab=!0,p(L8.rwx,Function)?L8.rwx(ADMIN):L8.rwx=ADMIN,L8),this,mNe,"system",zyr,Yf.prototype)}set custom(e){this.custom.$set(e,this,$Ne,"custom")}get custom(){return this.custom.$get(this,$Ne,"custom")}get custom(){return this[qyr]||y((_$=this.embed(iIe,{layout:"list"}),p(_$.tab,Function)?_$.tab():_$.tab=!0,p(_$.rwx,Function)?_$.rwx(ADMIN):_$.rwx=ADMIN,_$.callback=function(){return CC.all().desc(Gon)},_$),this,$Ne,"custom",qyr,Yf.prototype)}opownpagehead(){return null}};E(Yf,Snn,"AppMetrics",0);var oIe=Yf;globalThis.AppMetrics=oIe;var Cnn=Symbol(),eB=class eB extends OPEmbed{set servers(e){this.servers.$set(e,this,yNe,"servers")}get servers(){return this.servers.$get(this,yNe,"servers")}get servers(){return this[Wyr]||y((ZNe=this.coll({layout:"list"}),ZNe.callback=function(){return OPServer.all().sorted({_cre:-1})},ZNe),this,yNe,"servers",Wyr,eB.prototype)}set procs(e){this.procs.$set(e,this,bNe,"procs")}get procs(){return this.procs.$get(this,bNe,"procs")}get procs(){return this[Zyr]||y((GNe=this.coll({layout:"list"}),GNe.callback=function(){return OPProc.all().sorted({_cre:-1})},GNe),this,bNe,"procs",Zyr,eB.prototype)}opownpagebody(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[eue])||(r=o=0,e=t[eue]=e=w("section",null,"wh-af",null)),r||(e[th]=t._),r||((f=e[Xh])==null||f.call(e,t,eue)),n=e[_n](Yon),s=a=1,(i=n.run(this.oel(this.servers,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[EH]||!e[EH]&&(e[EH]=i)[qn](e)||e[EH][Wn](e[EH]=i,e),u=e[_n](Xon),h=d=1,(c=u.run(this.oel(this.procs,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[jH]||!e[jH]&&(e[jH]=c)[qn](e)||e[jH][Wn](e[jH]=c,e),r||t.sym||!e.setup||e.setup(o,t,eue),t.sym||e[Fr](o),e}};E(eB,Cnn,"AppMetricsHealth",0);var nIe=eB,cue=Symbol(),_d=class _d extends Qe(cue,OPObject,Starrable){constructor(){super(...arguments),super[A]||this[A](),re(this,cue)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[cue])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,gNe,"id")}get id(){return this.id.$get(this,gNe,"id")}get id(){return this[Gyr]||y((AH=this.key(),p(AH.rwxcd,Function)?AH.rwxcd(ADMIN):AH.rwxcd=ADMIN,AH),this,gNe,"id",Gyr,_d.prototype)}set name(e){this.name.$set(e,this,kNe,"name")}get name(){return this.name.$get(this,kNe,"name")}get name(){return this[Yyr]||y((D8=this.string(),p(D8.dialog,Function)?D8.dialog():D8.dialog=!0,p(D8.editable,Function)?D8.editable():D8.editable=!0,D8),this,kNe,"name",Yyr,_d.prototype)}set description(e){this.description.$set(e,this,_Ne,"description")}get description(){return this.description.$get(this,_Ne,"description")}get description(){return this[Xyr]||y((N8=this.string(),p(N8.dialog,Function)?N8.dialog():N8.dialog=!0,p(N8.editable,Function)?N8.editable():N8.editable=!0,N8),this,_Ne,"description",Xyr,_d.prototype)}set charts(e){this.charts.$set(e,this,xNe,"charts")}get charts(){return this.charts.$get(this,xNe,"charts")}get charts(){return this[Kyr]||y((xbr=this.refs(SharedQuery),xbr),this,xNe,"charts",Kyr,_d.prototype)}set creator(e){this.creator.$set(e,this,vNe,"creator")}get creator(){return this.creator.$get(this,vNe,"creator")}get creator(){return this[Jyr]||y((xC=this.ref(User),p(xC.as,Function)?xC.as(OWNER):xC.as=OWNER,xC.default=function(){return OP.user},xC),this,vNe,"creator",Jyr,_d.prototype)}static get aslabel(){return"Custom Chart Page"}static async interactivecreate(){let e;if(e=await super.interactivecreate(...arguments))return APP.open(e)}set data(e){this.data.$set(e,this,wNe,"data")}get data(){return this.data.$get(this,wNe,"data")}get data(){return this[Qyr]||y((YNe=this.pub(),YNe.callback=function(e){let t=SharedQuery.all();return e.add(t)},YNe),this,wNe,"data",Qyr,_d.prototype)}set additem(e){this.additem.$set(e,this,SNe,"additem")}get additem(){return this.additem.$get(this,SNe,"additem")}get additem(){return this[ebr]||y((XNe=this.action(),XNe.callback=async function(){let e=await OP.pick(SharedQuery.all(Kon));if(e)return this.charts.add(e),this.save()},XNe),this,SNe,"additem",ebr,_d.prototype)}set removeitem(e){this.removeitem.$set(e,this,CNe,"removeitem")}get removeitem(){return this.removeitem.$get(this,CNe,"removeitem")}get removeitem(){return this[tbr]||y((KNe=this.action(),KNe.callback=async function(){let e=await OP.pick(this.charts);if(e)return this.charts.remove(e),this.save()},KNe),this,CNe,"removeitem",tbr,_d.prototype)}opownpageintro(){var b;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$;return r=o=1,(e=t[tue])||(r=o=0,e=t[tue]=e=R("op",null,"wh-ai",null)),r||(e[th]=t._),r||((b=e[Xh])==null||b.call(e,t,tue)),n=e[tIe]("__",e),i=e[_n](Jon),a=u=1,(s=i.run(this.obutton(this.additem)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[hn]&&(a||(s.label=!1),c=_R,c===s[vbr]||(s.icon=s[vbr]=c),a||!s.setup||s.setup(u,i),s[Fr](u)),s==e[UH]||!e[UH]&&n[hue](e[UH]=s)||(n[rIe](s,e[UH]),e[UH]=s),h=e[_n](Qon),f=m=1,(d=h.run(this.obutton(this.removeitem)))||(f=m=0,h.cache(d=M(h.value,n,null,null))),d[hn]&&(f||(d.label=!1),$=$J,$===d[wbr]||(d.icon=d[wbr]=$),f||!d.setup||d.setup(m,h),d[Fr](m)),d==e[PH]||!e[PH]&&n[hue](e[PH]=d)||(n[rIe](d,e[PH]),e[PH]=d),r||t.sym||!e.setup||e.setup(o,t,tue),t.sym||e[Fr](o),e}opownbody(){var g,x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;r=o=1,(e=t[rue])||(r=o=0,e=t[rue]=e=R("op",null,"wh-al",null)),r||(e[th]=t._),r||((g=e[Xh])==null||g.call(e,t,rue)),n=e[tIe]("__",e),r||(e.data__={sub:!0}),i=this,i===e[Sbr]||(e.data=e[Sbr]=i),(s=e[Cbr])||(e[Cbr]=s=wt(256,n)),a=0,u=s.$;for(let k=0,_=B(this.charts),S=_.length;k<S;k++){let v=_[k];d=f=1,(h=(c=u[wnn](enn,a)).run(this.oel(v.chart,"body")))||(d=f=0,c.cache(h=M(c.value,s,null,null))),d||(h[th]=s),h[hn]&&(m=h[Ebr]||(h[Ebr]={options:[null]}),$=v,$===m.options[0]||(m.options[0]=$,f|=48),d||h.on$("opmenu",m,this),f&32&&(f^=32,(x=m[igr])==null||x.call(m)),d||!h.setup||h.setup(f,c),h[Fr](f)),s.push(h,a++,b)}return s[Fr](a),r||t.sym||!e.setup||e.setup(o,t,rue),t.sym||e[Fr](o),e}opownli(){var z,q;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;return t.this=this,o=n=1,(r=t[oue])||(o=n=0,r=t[oue]=r=w("section",null,"xli",null)),o||(r[th]=t._),o||((z=r[Xh])==null||z.call(r,t,oue)),i=this,i===r[jbr]||(r.odata=r[jbr]=i),s=r[Abr]||(r[Abr]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,n|=48),o||r.on$("opmenu",s,this),n&32&&(n^=32,(q=s[igr])==null||q.call(s)),s=r[Ubr]||(r[Ubr]={open:[null]}),s.open[0]=this,o||r.on$("click",s,this),o||r.on$("hotkey",{options:["e"],passive:!0,haspointer:!0,trap:!0,$_:[function(Y,K){return t.this.edititem(Y)}]},this),a=r[_n](tnn),c=h=1,(u=a.run(this.oicon(this)))||(c=h=0,a.cache(u=M(a.value,r,"wh-ao bullet",null))),u[hn]&&((!c||h&2)&&u.flags.reconcile(vC,"wh-ao bullet"),c||!u.setup||u.setup(h,a),u[Fr](h)),u==r[vC]||!r[vC]&&(r[vC]=u)[qn](r)||r[vC][Wn](r[vC]=u,r),f=m=1,(d=r[Pbr])||(f=m=0,r[Pbr]=d=w("section",r,null,null)),($=d[Tbr])||(d[Tbr]=$=w("h2",d,"wh-aq",null)),(b=d[Obr])||(d[Obr]=b=w("span",$,"wh-ar wh_aq",null)),g=this.aslabel,g===d[Mbr]&&f||(d[Rbr]=b[sgr](d[Mbr]=g,384,d[Rbr])),(x=d[Lbr])||(d[Lbr]=x=w("span",$,"wh_aq",null)),k=this.description,k===d[Nbr]&&f||(d[Dbr]=x[sgr](d[Nbr]=k,384,d[Dbr])),f||(_=w("hr",d,null,null)),S=d[_n](rnn),C=j=1,(v=S.run(this.ostats(this)))||(C=j=0,S.cache(v=M(S.value,d,null,null))),v[hn]&&(C||!v.setup||v.setup(j,S),v[Fr](j)),v==d[TH]||!d[TH]&&(d[TH]=v)[qn](d)||d[TH][Wn](d[TH]=v,d),f||!d.setup||d.setup(m,P),d[Fr](m),O=L=1,(U=r[Ibr])||(O=L=0,r[Ibr]=U=R("op-button",r,"square",null)),O||U.on$("click",{trap:!0,$_:[function(Y,K){return t.this.edititem(Y)}]},this),O||(U.icon="edit"),O||(U.label="Edit"),O||!U.setup||U.setup(L,I),U[Fr](L),O||r[hue](U),F=r[_n](onn),V=W=1,(N=F.run(this.oel(this,"more")))||(V=W=0,F.cache(N=M(F.value,r,null,null))),N[hn]&&(V||!N.setup||N.setup(W,F),N[Fr](W)),N==r[OH]||!r[OH]&&(r[OH]=N)[qn](r)||r[OH][Wn](r[OH]=N,r),o||t.sym||!r.setup||r.setup(n,t,oue),t.sym||r[Fr](n),r}};E(_d,cue,"SharedQueryPage",88);var CC=_d;globalThis.SharedQueryPage=CC;var Enn=Symbol(),pue=class pue extends AppCollView{set data(e){this.data.$set(e,this,ENe,"data")}get data(){return this.data.$get(this,ENe,"data")}get data(){return this[rbr]||y((JNe=this.pub(),JNe.callback=function(e){let t=CC.all();return e.add(t)},JNe),this,ENe,"data",rbr,pue.prototype)}opowncollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[nue])||(r=o=0,e=t[nue]=e=R("op",null,null,null)),r||(e[th]=t._),r||((c=e[Xh])==null||c.call(e,t,nue)),n=e[tIe]("__",e),i=e[_n](nnn),a=u=1,(s=i.run(this.obutton(CC)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[hn]&&(a||!s.setup||s.setup(u,i),s[Fr](u)),s==e[RH]||!e[RH]&&n[hue](e[RH]=s)||(n[rIe](s,e[RH]),e[RH]=s),r||t.sym||!e.setup||e.setup(o,t,nue),t.sym||e[Fr](o),e}};E(pue,Enn,"MetricsCustom",0);var iIe=pue,jnn=Symbol(),wC=class wC extends OPEmbed{set visits(e){this.visits.$set(e,this,jNe,"visits")}get visits(){return this.visits.$get(this,jNe,"visits")}get visits(){return this[obr]||y((Fbr=this.embed(OPChartView,{sources:OPEvent,query:{name:"visited",target:"app01"}}),Fbr),this,jNe,"visits",obr,wC.prototype)}set seen_checkout(e){this.seen_checkout.$set(e,this,ANe,"seen_checkout")}get seen_checkout(){return this.seen_checkout.$get(this,ANe,"seen_checkout")}get seen_checkout(){return this[nbr]||y((Hbr=this.embed(OPChartView,{sources:OPEvent,query:{name:"seen_checkout",target:"app01"}}),Hbr),this,ANe,"seen_checkout",nbr,wC.prototype)}set tried_checkout(e){this.tried_checkout.$set(e,this,UNe,"tried_checkout")}get tried_checkout(){return this.tried_checkout.$get(this,UNe,"tried_checkout")}get tried_checkout(){return this[ibr]||y((Bbr=this.embed(OPChartView,{sources:OPEvent,query:{name:"tried_checkout",target:"app01"}}),Bbr),this,UNe,"tried_checkout",ibr,wC.prototype)}opownpagehead(){var n;var e,t=H(),r,o;return r=o=1,(e=t[QNe])||(r=o=0,e=t[QNe]=e=w("h1",null,null,"Usage")),r||(e[th]=t._),r||((n=e[Xh])==null||n.call(e,t,QNe)),e}opownpagebody(){var g;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;return r=o=1,(e=t[iue])||(r=o=0,e=t[iue]=e=w("section",null,"wh-ba",null)),r||(e[th]=t._),r||((g=e[Xh])==null||g.call(e,t,iue)),n=e[_n](inn),s=a=1,(i=n.run(this.oel(this.visits,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[MH]||!e[MH]&&(e[MH]=i)[qn](e)||e[MH][Wn](e[MH]=i,e),u=e[_n](snn),h=d=1,(c=u.run(this.oel(this.seen_checkout,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[LH]||!e[LH]&&(e[LH]=c)[qn](e)||e[LH][Wn](e[LH]=c,e),f=e[_n](lnn),$=b=1,(m=f.run(this.oel(this.tried_checkout,"body")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[hn]&&($||!m.setup||m.setup(b,f),m[Fr](b)),m==e[DH]||!e[DH]&&(e[DH]=m)[qn](e)||e[DH][Wn](e[DH]=m,e),r||t.sym||!e.setup||e.setup(o,t,iue),t.sym||e[Fr](o),e}};E(wC,jnn,"MetricsUsage",0);var sIe=wC,Ann=Symbol(),ev=class ev extends OPEmbed{set activations(e){this.activations.$set(e,this,PNe,"activations")}get activations(){return this.activations.$get(this,PNe,"activations")}get activations(){return this[sbr]||y((Vbr=this.embed(OPChartView,{sources:StripeSubscription,x:"start_date",query:{livemode:!0,legacy_id:null,ppid:null,statusnin:["incomplete","incomplete_expired","trialing"]}}),Vbr),this,PNe,"activations",sbr,ev.prototype)}set incomplete(e){this.incomplete.$set(e,this,TNe,"incomplete")}get incomplete(){return this.incomplete.$get(this,TNe,"incomplete")}get incomplete(){return this[lbr]||y((zbr=this.embed(OPChartView,{sources:StripeSubscription,x:"start_date",query:{livemode:!0,legacy_id:null,ppid:null,statusin:["incomplete","incomplete_expired"]}}),zbr),this,TNe,"incomplete",lbr,ev.prototype)}set cancellations(e){this.cancellations.$set(e,this,ONe,"cancellations")}get cancellations(){return this.cancellations.$get(this,ONe,"cancellations")}get cancellations(){return this[abr]||y((qbr=this.embed(OPChartView,{sources:StripeSubscription,x:"canceled_at",query:{livemode:!0,legacy_id:null,ppid:null,statusnin:["trialing"]}}),qbr),this,ONe,"cancellations",abr,ev.prototype)}set churn(e){this.churn.$set(e,this,RNe,"churn")}get churn(){return this.churn.$get(this,RNe,"churn")}get churn(){return this[ubr]||y((Wbr=this.embed(OPChartView,{sources:StripeSubscription,x:"current_period_end",query:{livemode:!0,legacy_id:null,cancel_at_period_end:!0,statusnin:["trialing"]}}),Wbr),this,RNe,"churn",ubr,ev.prototype)}opownpagebody(){var S;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return r=o=1,(e=t[sue])||(r=o=0,e=t[sue]=e=w("section",null,"wh-be",null)),r||(e[th]=t._),r||((S=e[Xh])==null||S.call(e,t,sue)),n=e[_n](ann),s=a=1,(i=n.run(this.oel(this.activations,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[NH]||!e[NH]&&(e[NH]=i)[qn](e)||e[NH][Wn](e[NH]=i,e),u=e[_n](unn),h=d=1,(c=u.run(this.oel(this.incomplete,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[IH]||!e[IH]&&(e[IH]=c)[qn](e)||e[IH][Wn](e[IH]=c,e),f=e[_n](cnn),$=b=1,(m=f.run(this.oel(this.cancellations,"body")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[hn]&&($||!m.setup||m.setup(b,f),m[Fr](b)),m==e[FH]||!e[FH]&&(e[FH]=m)[qn](e)||e[FH][Wn](e[FH]=m,e),g=e[_n](hnn),k=_=1,(x=g.run(this.oel(this.churn,"body")))||(k=_=0,g.cache(x=M(g.value,e,null,null))),x[hn]&&(k||!x.setup||x.setup(_,g),x[Fr](_)),x==e[HH]||!e[HH]&&(e[HH]=x)[qn](e)||e[HH][Wn](e[HH]=x,e),r||t.sym||!e.setup||e.setup(o,t,sue),t.sym||e[Fr](o),e}};E(ev,Ann,"MetricsSubs",0);var lIe=ev,Unn=Symbol(),I8=class I8 extends OPEmbed{opownpagehead(){var n;var e,t=H(),r,o;return r=o=1,(e=t[eIe])||(r=o=0,e=t[eIe]=e=w("h1",null,null,"Campaign offer metrics")),r||(e[th]=t._),r||((n=e[Xh])==null||n.call(e,t,eIe)),e}set student_offers(e){this.student_offers.$set(e,this,MNe,"student_offers")}get student_offers(){return this.student_offers.$get(this,MNe,"student_offers")}get student_offers(){return this[cbr]||y((Zbr=this.embed(OPChartView,{sources:ExclusiveOffer,query:{legacy_id:null,reasonin:["student_email"]}}),Zbr),this,MNe,"student_offers",cbr,I8.prototype)}set challenge_offers(e){this.challenge_offers.$set(e,this,LNe,"challenge_offers")}get challenge_offers(){return this.challenge_offers.$get(this,LNe,"challenge_offers")}get challenge_offers(){return this[hbr]||y((Gbr=this.embed(OPChartView,{sources:ExclusiveOffer,query:{legacy_id:null,reasonin:["User.pro_challenges"]}}),Gbr),this,LNe,"challenge_offers",hbr,I8.prototype)}set pro_view_offers(e){this.pro_view_offers.$set(e,this,DNe,"pro_view_offers")}get pro_view_offers(){return this.pro_view_offers.$get(this,DNe,"pro_view_offers")}get pro_view_offers(){return this[pbr]||y((Ybr=this.embed(OPChartView,{sources:ExclusiveOffer,query:{legacy_id:null,reasonin:["User.pro_views"]}}),Ybr),this,DNe,"pro_view_offers",pbr,I8.prototype)}set checkout_offers(e){this.checkout_offers.$set(e,this,NNe,"checkout_offers")}get checkout_offers(){return this.checkout_offers.$get(this,NNe,"checkout_offers")}get checkout_offers(){return this[dbr]||y((Xbr=this.embed(OPChartView,{sources:ExclusiveOffer,query:{legacy_id:null,reasonin:["payment_flow"]}}),Xbr),this,NNe,"checkout_offers",dbr,I8.prototype)}set new_subs(e){this.new_subs.$set(e,this,INe,"new_subs")}get new_subs(){return this.new_subs.$get(this,INe,"new_subs")}get new_subs(){return this[fbr]||y((Kbr=this.embed(OPChartView,{sources:StripeSubscription,x:"start_date",query:{livemode:!0,legacy_id:null,ppid:null,statusnin:["incomplete","incomplete_expired","trialing"]}}),Kbr),this,INe,"new_subs",fbr,I8.prototype)}opownpagebody(){var P;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;return r=o=1,(e=t[lue])||(r=o=0,e=t[lue]=e=w("section",null,"wh-bk",null)),r||(e[th]=t._),r||((P=e[Xh])==null||P.call(e,t,lue)),n=e[_n](pnn),s=a=1,(i=n.run(this.oel(this.new_subs,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[BH]||!e[BH]&&(e[BH]=i)[qn](e)||e[BH][Wn](e[BH]=i,e),u=e[_n](dnn),h=d=1,(c=u.run(this.oel(this.checkout_offers,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[VH]||!e[VH]&&(e[VH]=c)[qn](e)||e[VH][Wn](e[VH]=c,e),f=e[_n](fnn),$=b=1,(m=f.run(this.oel(this.student_offers,"body")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[hn]&&($||!m.setup||m.setup(b,f),m[Fr](b)),m==e[zH]||!e[zH]&&(e[zH]=m)[qn](e)||e[zH][Wn](e[zH]=m,e),g=e[_n](mnn),k=_=1,(x=g.run(this.oel(this.challenge_offers,"body")))||(k=_=0,g.cache(x=M(g.value,e,null,null))),x[hn]&&(k||!x.setup||x.setup(_,g),x[Fr](_)),x==e[qH]||!e[qH]&&(e[qH]=x)[qn](e)||e[qH][Wn](e[qH]=x,e),S=e[_n]($nn),C=j=1,(v=S.run(this.oel(this.pro_view_offers,"body")))||(C=j=0,S.cache(v=M(S.value,e,null,null))),v[hn]&&(C||!v.setup||v.setup(j,S),v[Fr](j)),v==e[WH]||!e[WH]&&(e[WH]=v)[qn](e)||e[WH][Wn](e[WH]=v,e),r||t.sym||!e.setup||e.setup(o,t,lue),t.sym||e[Fr](o),e}};E(I8,Unn,"MetricsCampaigns",0);var aIe=I8,Pnn=Symbol(),tv=class tv extends OPEmbed{set new_afl_sessions(e){this.new_afl_sessions.$set(e,this,FNe,"new_afl_sessions")}get new_afl_sessions(){return this.new_afl_sessions.$get(this,FNe,"new_afl_sessions")}get new_afl_sessions(){return this[mbr]||y((Jbr=this.embed(OPChartView,{sources:OPSession,query:{via_usernot:null,via_userin:["o0mdn"]}}),Jbr),this,FNe,"new_afl_sessions",mbr,tv.prototype)}set new_afl_users(e){this.new_afl_users.$set(e,this,HNe,"new_afl_users")}get new_afl_users(){return this.new_afl_users.$get(this,HNe,"new_afl_users")}get new_afl_users(){return this[$br]||y((Qbr=this.embed(OPChartView,{sources:User,query:{legacy_id:null,via_usernot:null}}),Qbr),this,HNe,"new_afl_users",$br,tv.prototype)}set new_afl_subs(e){this.new_afl_subs.$set(e,this,BNe,"new_afl_subs")}get new_afl_subs(){return this.new_afl_subs.$get(this,BNe,"new_afl_subs")}get new_afl_subs(){return this[ybr]||y((egr=this.embed(OPChartView,{sources:StripeSubscription,query:{livemode:APP.livemode,legacy_id:null,ppid:null,statusnin:["incomplete","incomplete_expired","trialing"],via_usernot:null}}),egr),this,BNe,"new_afl_subs",ybr,tv.prototype)}set new_afl_payments(e){this.new_afl_payments.$set(e,this,VNe,"new_afl_payments")}get new_afl_payments(){return this.new_afl_payments.$get(this,VNe,"new_afl_payments")}get new_afl_payments(){return this[bbr]||y((tgr=this.embed(OPChartView,{sources:StripeInvoice,query:{via_usernot:null,status:"paid"}}),tgr),this,VNe,"new_afl_payments",bbr,tv.prototype)}opownpagebody(){var S;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return r=o=1,(e=t[aue])||(r=o=0,e=t[aue]=e=w("section",null,"wh-bq",null)),r||(e[th]=t._),r||((S=e[Xh])==null||S.call(e,t,aue)),n=e[_n](ynn),s=a=1,(i=n.run(this.oel(this.new_afl_sessions,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[ZH]||!e[ZH]&&(e[ZH]=i)[qn](e)||e[ZH][Wn](e[ZH]=i,e),u=e[_n](bnn),h=d=1,(c=u.run(this.oel(this.new_afl_users,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[GH]||!e[GH]&&(e[GH]=c)[qn](e)||e[GH][Wn](e[GH]=c,e),f=e[_n](gnn),$=b=1,(m=f.run(this.oel(this.new_afl_subs,"body")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[hn]&&($||!m.setup||m.setup(b,f),m[Fr](b)),m==e[YH]||!e[YH]&&(e[YH]=m)[qn](e)||e[YH][Wn](e[YH]=m,e),g=e[_n](knn),k=_=1,(x=g.run(this.oel(this.new_afl_payments,"body")))||(k=_=0,g.cache(x=M(g.value,e,null,null))),x[hn]&&(k||!x.setup||x.setup(_,g),x[Fr](_)),x==e[XH]||!e[XH]&&(e[XH]=x)[qn](e)||e[XH][Wn](e[XH]=x,e),r||t.sym||!e.setup||e.setup(o,t,aue),t.sym||e[Fr](o),e}};E(tv,Pnn,"MetricsAffiliates",0);var uIe=tv,Tnn=Symbol(),SC=class SC extends OPEmbed{set new_sessions(e){this.new_sessions.$set(e,this,zNe,"new_sessions")}get new_sessions(){return this.new_sessions.$get(this,zNe,"new_sessions")}get new_sessions(){return this[gbr]||y((rgr=this.embed(OPChartView,{sources:OPSession}),rgr),this,zNe,"new_sessions",gbr,SC.prototype)}set new_users(e){this.new_users.$set(e,this,qNe,"new_users")}get new_users(){return this.new_users.$get(this,qNe,"new_users")}get new_users(){return this[kbr]||y((ogr=this.embed(OPChartView,{sources:User,query:{legacy_id:null}}),ogr),this,qNe,"new_users",kbr,SC.prototype)}set new_scrims(e){this.new_scrims.$set(e,this,WNe,"new_scrims")}get new_scrims(){return this.new_scrims.$get(this,WNe,"new_scrims")}get new_scrims(){return this[_br]||y((ngr=this.embed(OPChartView,{sources:Scrim}),ngr),this,WNe,"new_scrims",_br,SC.prototype)}opownpagebody(){var g;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;return r=o=1,(e=t[uue])||(r=o=0,e=t[uue]=e=w("section",null,"wh-bv",null)),r||(e[th]=t._),r||((g=e[Xh])==null||g.call(e,t,uue)),n=e[_n](_nn),s=a=1,(i=n.run(this.oel(this.new_sessions,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[hn]&&(s||!i.setup||i.setup(a,n),i[Fr](a)),i==e[KH]||!e[KH]&&(e[KH]=i)[qn](e)||e[KH][Wn](e[KH]=i,e),u=e[_n](xnn),h=d=1,(c=u.run(this.oel(this.new_users,"body")))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[hn]&&(h||!c.setup||c.setup(d,u),c[Fr](d)),c==e[JH]||!e[JH]&&(e[JH]=c)[qn](e)||e[JH][Wn](e[JH]=c,e),f=e[_n](vnn),$=b=1,(m=f.run(this.oel(this.new_scrims,"body")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[hn]&&($||!m.setup||m.setup(b,f),m[Fr](b)),m==e[QH]||!e[QH]&&(e[QH]=m)[qn](e)||e[QH][Wn](e[QH]=m,e),r||t.sym||!e.setup||e.setup(o,t,uue),t.sym||e[Fr](o),e}};E(SC,Tnn,"MetricsOverview",0);var cIe=SC;T();oe();var hIe=Symbol("data"),lgr=Symbol(),pIe=Symbol("browse"),agr=Symbol(),dIe,EC,Onn=Symbol(),tB=class tB extends AppContent{set data(e){this.data.$set(e,this,hIe,"data")}get data(){return this.data.$get(this,hIe,"data")}get data(){return this[lgr]||y((dIe=this.pub(),dIe.callback=function(e){return e.fetchoftyp(Project)},dIe),this,hIe,"data",lgr,tB.prototype)}get kind(){return Project}set browse(e){this.browse.$set(e,this,pIe,"browse")}get browse(){return this.browse.$get(this,pIe,"browse")}get browse(){return this[agr]||y((EC=this.coll(),p(EC.tab,Function)?EC.tab():EC.tab=!0,EC.callback=function(){return Project.all()},EC),this,pIe,"browse",agr,tB.prototype)}};E(tB,Onn,"AppProjects",0);var fIe=tB;globalThis.AppProjects=fIe;T();oe();ge(),$e();var mIe=Symbol("autoplay_next"),ugr=Symbol(),$Ie=Symbol("autoplay"),cgr=Symbol(),yIe=Symbol("pbr"),hgr=Symbol(),bIe=Symbol("volume"),pgr=Symbol(),gIe=Symbol("muted"),dgr=Symbol(),kIe=Symbol("cc"),fgr=Symbol(),_Ie=Symbol("transcript"),mgr=Symbol(),xIe=Symbol("font_size"),$gr=Symbol(),vIe=Symbol("min_font_size"),ygr=Symbol(),wIe=Symbol("base_font_size"),bgr=Symbol(),SIe=Symbol("max_font_size"),ggr=Symbol(),oc,xd,ti,nc,F8,ic,vd,sc,lc,ac,uc,due=Symbol(),kgr=Symbol(),_gr=Symbol(),xgr=Symbol(),CIe=Symbol(),fue=Symbol(),vgr=Symbol();var EIe=Symbol(),wgr=Symbol(),Sgr=Symbol(),Cgr=Symbol(),mue=Symbol.for("##up"),jIe=Symbol.for("##register"),Rnn=Symbol.for("#visit"),$ue=Symbol.for("#afterVisit"),Mnn=Symbol.for("#getRenderContext"),Lnn=Symbol.for("#isRichElement"),Dnn=Symbol.for("#getSlot"),Nnn=Symbol.for("#placeChild"),Inn=Symbol(),cc=class cc extends OPEmbed{set autoplay_next(e){this.autoplay_next.$set(e,this,mIe,"autoplay_next")}get autoplay_next(){return this.autoplay_next.$get(this,mIe,"autoplay_next")}get autoplay_next(){return this[ugr]||y((oc=this.bool(),p(oc.session,Function)?oc.session():oc.session=!0,p(oc.local,Function)?oc.local():oc.local=!0,p(oc.label,Function)?oc.label("Continue to Next"):oc.label="Continue to Next",p(oc.fallback,Function)?oc.fallback(function(){return!0}):oc.fallback=function(){return!0},oc),this,mIe,"autoplay_next",ugr,cc.prototype)}set autoplay(e){this.autoplay.$set(e,this,$Ie,"autoplay")}get autoplay(){return this.autoplay.$get(this,$Ie,"autoplay")}get autoplay(){return this[cgr]||y((xd=this.bool(),p(xd.session,Function)?xd.session():xd.session=!0,p(xd.local,Function)?xd.local():xd.local=!0,p(xd.fallback,Function)?xd.fallback(function(){return!0}):xd.fallback=function(){return!0},xd),this,$Ie,"autoplay",cgr,cc.prototype)}set pbr(e){this.pbr.$set(e,this,yIe,"pbr")}get pbr(){return this.pbr.$get(this,yIe,"pbr")}get pbr(){return this[hgr]||y((ti=this.number(),p(ti.session,Function)?ti.session():ti.session=!0,p(ti.local,Function)?ti.local():ti.local=!0,p(ti.clamp,Function)?ti.clamp(.5,3):ti.clamp=.5,p(ti.step,Function)?ti.step([.8,1,1.2,1.5,1.7,2,2.5]):ti.step=[.8,1,1.2,1.5,1.7,2,2.5],p(ti.fallback,Function)?ti.fallback(function(){return 1}):ti.fallback=function(){return 1},p(ti.label,Function)?ti.label("Playback speed"):ti.label="Playback speed",p(ti.unit,Function)?ti.unit("x"):ti.unit="x",ti),this,yIe,"pbr",hgr,cc.prototype)}set volume(e){this.volume.$set(e,this,bIe,"volume")}get volume(){return this.volume.$get(this,bIe,"volume")}get volume(){return this[pgr]||y((nc=this.number(),p(nc.session,Function)?nc.session():nc.session=!0,p(nc.local,Function)?nc.local():nc.local=!0,p(nc.clamp,Function)?nc.clamp(0,1):nc.clamp=0,p(nc.fallback,Function)?nc.fallback(function(){return 1}):nc.fallback=function(){return 1},nc),this,bIe,"volume",pgr,cc.prototype)}set muted(e){this.muted.$set(e,this,gIe,"muted")}get muted(){return this.muted.$get(this,gIe,"muted")}get muted(){return this[dgr]||y((F8=this.bool(),p(F8.session,Function)?F8.session():F8.session=!0,p(F8.local,Function)?F8.local():F8.local=!0,F8),this,gIe,"muted",dgr,cc.prototype)}set cc(e){this.cc.$set(e,this,kIe,"cc")}get cc(){return this.cc.$get(this,kIe,"cc")}get cc(){return this[fgr]||y((ic=this.bool(),p(ic.session,Function)?ic.session():ic.session=!0,p(ic.local,Function)?ic.local():ic.local=!0,p(ic.label,Function)?ic.label("Show Captions"):ic.label="Show Captions",p(ic.fallback,Function)?ic.fallback(function(){return!0}):ic.fallback=function(){return!0},ic),this,kIe,"cc",fgr,cc.prototype)}set transcript(e){this.transcript.$set(e,this,_Ie,"transcript")}get transcript(){return this.transcript.$get(this,_Ie,"transcript")}get transcript(){return this[mgr]||y((vd=this.bool(),p(vd.session,Function)?vd.session():vd.session=!0,p(vd.label,Function)?vd.label("Show Transcript"):vd.label="Show Transcript",p(vd.fallback,Function)?vd.fallback(function(){return!1}):vd.fallback=function(){return!1},vd),this,_Ie,"transcript",mgr,cc.prototype)}set font_size(e){this.font_size.$set(e,this,xIe,"font_size")}get font_size(){return this.font_size.$get(this,xIe,"font_size")}get font_size(){return this[$gr]||y((sc=this.int(),p(sc.clamp,Function)?sc.clamp(6,30):sc.clamp=6,p(sc.session,Function)?sc.session():sc.session=!0,p(sc.local,Function)?sc.local():sc.local=!0,p(sc.fallback,Function)?sc.fallback(function(){return 15}):sc.fallback=function(){return 15},sc),this,xIe,"font_size",$gr,cc.prototype)}set min_font_size(e){this.min_font_size.$set(e,this,vIe,"min_font_size")}get min_font_size(){return this.min_font_size.$get(this,vIe,"min_font_size")}get min_font_size(){return this[ygr]||y((lc=this.int(),p(lc.clamp,Function)?lc.clamp(6,30):lc.clamp=6,p(lc.session,Function)?lc.session():lc.session=!0,p(lc.local,Function)?lc.local():lc.local=!0,p(lc.fallback,Function)?lc.fallback(function(){return 10}):lc.fallback=function(){return 10},lc),this,vIe,"min_font_size",ygr,cc.prototype)}set base_font_size(e){this.base_font_size.$set(e,this,wIe,"base_font_size")}get base_font_size(){return this.base_font_size.$get(this,wIe,"base_font_size")}get base_font_size(){return this[bgr]||y((ac=this.int(),p(ac.clamp,Function)?ac.clamp(6,30):ac.clamp=6,p(ac.session,Function)?ac.session():ac.session=!0,p(ac.local,Function)?ac.local():ac.local=!0,p(ac.fallback,Function)?ac.fallback(function(){return 14}):ac.fallback=function(){return 14},ac),this,wIe,"base_font_size",bgr,cc.prototype)}set max_font_size(e){this.max_font_size.$set(e,this,SIe,"max_font_size")}get max_font_size(){return this.max_font_size.$get(this,SIe,"max_font_size")}get max_font_size(){return this[ggr]||y((uc=this.int(),p(uc.clamp,Function)?uc.clamp(6,30):uc.clamp=6,p(uc.session,Function)?uc.session():uc.session=!0,p(uc.local,Function)?uc.local():uc.local=!0,p(uc.fallback,Function)?uc.fallback(function(){return 20}):uc.fallback=function(){return 20},uc),this,SIe,"max_font_size",ggr,cc.prototype)}oppbrbutton(e){var a,u;var t,r=H(),o,n,i,s;return o=n=1,(t=r[due])||(o=n=0,t=r[due]=t=R("op-button",null,"wg-af",null)),o||(t[mue]=r._),o||((a=t[jIe])==null||a.call(t,r,due)),e===t[kgr]||(t.data=t[kgr]=e),o||(t.icon=!1),i=e.value.toFixed(1),i===t[_gr]||(t.label=t[_gr]=i),s=t[xgr]||(t[xgr]={options:[null]}),i=e,i===s.options[0]||(s.options[0]=i,n|=48),o||t.on$("opmenu",s,this),n&32&&(n^=32,(u=s[Rnn])==null||u.call(s)),o||r.sym||!t.setup||t.setup(n,r,due),r.sym||t[$ue](n),t}oppbrtip(e,t){var a;var r,o,n=H(),i,s;return r=n[Mnn](CIe),i=s=1,(o=r.run(this.oppbrmenu(e,t)))||(i=s=0,r.cache(o=M(r.value,null,null,null))),i||(o[mue]=n._),i||((a=o[jIe])==null||a.call(o,n,CIe)),o[Lnn]&&(i||n.sym||!o.setup||o.setup(s,n,CIe),n.sym||o[$ue](s)),o}oppbrmenu2(){var $;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;t.this=this,o=n=1,(r=t[fue])||(o=n=0,r=t[fue]=r=R("op",null,"wg-ah",null)),o||(r[mue]=t._),o||(($=r[jIe])==null||$.call(r,t,fue)),i=r[Dnn]("__",r),(s=r[vgr])||(r[vgr]=s=Jt(384,i)),a=0,u=s.$;for(let b=0,g=[.8,1,1.2,1.5,1.7,2,2.5],x=g.length;b<x;b++){let k=g[b];h=d=1,(c=u[a])||(h=d=0,u[a]=c=w("div",s,"wg-ai",null)),h||(c[mue]=s),f=this.pbr==k||void 0,f===c[EIe]||(d|=2,c[EIe]=f),m=c[wgr]||(c[wgr]={$_:[function(_,S,v){return t.this.pbr=v},null]}),m.$_[1]=k,h||c.on$("press",m,this),d&2&&c.flag$("wg-ai "+(c[EIe]?"checked":"")),f=k,f===c[Cgr]&&h||(c[Sgr]=c[Nnn](c[Cgr]=f,128,c[Sgr])),a++}return s[$ue](a),o||t.sym||!r.setup||r.setup(n,t,fue),t.sym||r[$ue](n),r}};E(cc,Inn,"AppSettings",0);var AIe=cc;globalThis.AppSettings=AIe;T();oe();var Egr="/assets/city.7OUTNP4U.jpg";var yue="/assets/hugging_face.5ZWXKXLU.png";var bue="/assets/langchain.63XIVURZ.png";var gue="/assets/mdn.VIEXS3Y4.png";var kue="/assets/cloudflare.R3AO6GYT.png";var jgr="/assets/mistral.5NNPOQSA.png";var Agr="/assets/laptop.RMOMCIXH.jpg";var Ugr="/assets/office.D6H3X2WG.jpg";var H8="/assets/dots.GUX774KK.png";$e();var UIe=Symbol("signup-for-teams"),Pgr=Symbol(),PIe,_ue=Symbol(),Tgr=Symbol(),Ogr=Symbol(),jC=Symbol(),Ynn=Symbol(),Rgr=Symbol(),Mgr=Symbol(),Lgr=Symbol(),Dgr=Symbol(),Ngr=Symbol(),Igr=Symbol(),Fgr=Symbol(),Hgr=Symbol(),Bgr=Symbol(),Vgr=Symbol(),zgr=Symbol(),qgr=Symbol(),Wgr=Symbol(),Zgr=Symbol(),Ggr=Symbol(),Ygr=Symbol(),Xgr=Symbol(),Kgr=Symbol(),Jgr=Symbol(),Qgr=Symbol(),e6r=Symbol(),AC=Symbol(),Xnn=Symbol(),t6r=Symbol(),r6r=Symbol(),o6r=Symbol(),n6r=Symbol(),i6r=Symbol(),s6r=Symbol(),l6r=Symbol(),Knn=Symbol.for("##up"),Jnn=Symbol.for("##register"),Qnn=Symbol.for("#getSlot"),UC=Symbol.for("#placeChild"),a6r=Symbol.for("#getRenderContext"),u6r=Symbol.for("#isRichElement"),wd=Symbol.for("#afterVisit"),c6r=Symbol.for("#insertInto"),h6r=Symbol.for("#replaceWith"),PC=Symbol.for("#appendChild"),xue=Symbol(),vue=class vue extends Qe(xue,AppContent,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,xue)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[xue])==null||o.call(this,...arguments)}set signupforteams(e){this.signupforteams.$set(e,this,UIe,"signupforteams")}get signupforteams(){return this.signupforteams.$get(this,UIe,"signupforteams")}get signupforteams(){return this[Pgr]||y((PIe=this.action(),PIe.callback=function(){return window.open("https://form.typeform.com/to/vo8eIgBd","_blank")},PIe),this,UIe,"signupforteams",Pgr,vue.prototype)}opownpage(){var Or;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr;return r=o=1,(e=t[_ue])||(r=o=0,e=t[_ue]=e=R("op",null,"wp-af",null)),r||(e[Knn]=t._),r||((Or=e[Jnn])==null||Or.call(e,t,_ue)),n=e[Qnn]("__",e),s=a=1,(i=e[Tgr])||(s=a=0,e[Tgr]=i=w("section",n,"wp-ag wp_af",null)),s||(u=w("h1",i,"wp_af","Scrimba For Teams")),(c=i[Ogr])||(i[Ogr]=c=w("p",i,"wp-ai wp_af",null)),s||c[UC]("Our Team plan is the best choice for companies and learning institutions looking to train and up-skill their people in web development and AI engineering."),h=i[a6r](Ynn),f=m=1,(d=h.run(this.obutton(this.signupforteams)))||(f=m=0,h.cache(d=M(h.value,i,"wp_af",null))),d[u6r]&&(f||(d.icon=!1),(!f||m&2)&&d.flags.reconcile(jC,"wp_af"),f||!d.setup||d.setup(m,h),d[wd](m)),d==i[jC]||!i[jC]&&(i[jC]=d)[c6r](i)||i[jC][h6r](i[jC]=d,i),s||!i.setup||i.setup(a,$),i[wd](a),r||(b=w("section",n,"%lr wp_af",null)),x=k=1,(g=e[Rgr])||(x=k=0,e[Rgr]=g=w("img",b,"wp-al %left %sideimg wp_af",null)),x||(g.src=Egr),r||(_=w("div",b,"%right wp_af",null)),r||(S=w("div",_,"%inner wp_af",null)),r||(v=w("h2",S,"wp_af","Unlimited Content")),(C=e[Mgr])||(e[Mgr]=C=w("p",S,"wp-ap wp_af",null)),r||C[UC]("Our team plans include Scrimba Pro licenses, providing your organization with unrestricted access to a high-quality library of over "),P=U=1,(j=e[Lgr])||(P=U=0,e[Lgr]=j=w("a",C,"wp-aq wp_af",null)),P||(j.newtab="newtab"),P||(j.href="/courses"),P||j[UC]("60 courses"),r||C[UC](". These courses cover topics such as React, AI engineering, HTML & CSS, JavaScript, Web Accessibility, UI design, and more."),(O=e[Dgr])||(e[Dgr]=O=w("p",S,"wp-ar wp_af",null)),r||O[UC]("Created in collaboration with industry partners such as:"),(L=e[Ngr])||(e[Ngr]=L=w("div",S,"wp-as wp_af",null)),r||(I=w("img",L,"wp_af",null)),r||(I.src=yue),r||(F=w("img",L,"wp_af",null)),r||(F.src=bue),r||(N=w("img",L,"wp_af",null)),r||(N.src=gue),r||(V=w("img",L,"wp_af",null)),r||(V.src=kue),r||(W=w("img",L,"wp_af",null)),r||(W.src=jgr),r||(z=w("section",n,"%lr wp_af",null)),r||(q=w("div",z,"%left wp_af",null)),r||(Y=w("div",q,"%inner wp_af",null)),r||(K=w("h2",Y,"wp_af","Adapt Scrimba to Your Needs")),r||(X=w("p",Y,"wp_af","Mix and match our courses with your own templates, scrims, and even full courses to ensure your organization gets the exact learning material it needs. You can also embed the content into your own LMS.")),r||(Z=w("p",Y,"wp_af","The Team plan includes a dashboard that allows you to control access. You only pay for the number of concurrent seats in use and receive bulk discounts when purchasing more seats.")),ee=te=1,(Q=e[Igr])||(ee=te=0,e[Igr]=Q=w("img",z,"wp-be %right %sideimg wp_af",null)),ee||(Q.src=Agr),r||(ne=w("section",n,"%lr wp_af",null)),J=me=1,(ie=e[Fgr])||(J=me=0,e[Fgr]=ie=w("img",ne,"wp-bg %left %sideimg wp_af",null)),J||(ie.src=Ugr),r||(ce=w("div",ne,"%right wp_af",null)),r||(ye=w("div",ce,"%inner wp_af",null)),r||(we=w("h2",ye,"wp_af","Who Chooses Team Plans?")),r||(ae=w("p",ye,"wp_af","Our team plans are used by many different kinds of businesses at different stages of growth including:")),r||(be=w("p",ye,"wp_af","Coding bootcamps / Vocational schools / Colleges / High schools / Universities / Non-profits / Tech startups / Big corporates /  Dev shops / Consultancies")),(_e=e[Hgr])||(e[Hgr]=_e=w("section",n,"wp-bm wp_af",null)),r||(Ae=w("h2",_e,"wp_af","Why Scrimba?")),(ve=e[Bgr])||(e[Bgr]=ve=w("section",n,"wp-bo wp_af",null)),r||(Pe=w("div",ve,"%left wp_af",null)),(He=e[Vgr])||(e[Vgr]=He=w("div",Pe,"wp-bq wp_af",null)),Be=je=1,(Ue=e[zgr])||(Be=je=0,e[zgr]=Ue=R("op-icon",He,"xl wp_af",null)),ue=b6t,ue===e[qgr]||(Ue.data=e[qgr]=ue),Be||!Ue.setup||Ue.setup(je,xe),Ue[wd](je),Be||He[PC](Ue),r||(Re=w("h2",He,"wp_af","Recommended by MDN")),(Oe=e[Wgr])||(e[Wgr]=Oe=w("div",Pe,"wp-bt wp_af",null)),r||(qe=w("p",Oe,"wp_af","We are proud to share that Scrimba is Mozilla MDNs recommended course platform, describing it as ")),r||(Ne=w("a",Oe,"wp-bv wp_af","a truly fantastic learning experience with great content and a fun and innovative platform.")),r||(Ne.newtab="newtab"),r||(Ne.href="https://developer.mozilla.org/en-US/blog/mdn-scrimba-partnership/"),r||(Ie=w("p",Oe,"wp_af"," Our Frontend Developer Career Path adheres to the official MDN Curriculum, ensuring that your team or class will gain skills that are industry-relevant, up-to-date, and not in violation of any best-practices.")),r||(Ke=w("div",ve,"%right wp_af",null)),(Te=e[Zgr])||(e[Zgr]=Te=w("div",Ke,"wp-by wp_af",null)),Ze=et=1,(Ce=e[Ggr])||(Ze=et=0,e[Ggr]=Ce=R("op-icon",Te,"xl wp_af",null)),ft=fJ,ft===e[Ygr]||(Ce.data=e[Ygr]=ft),Ze||!Ce.setup||Ce.setup(et,Ge),Ce[wd](et),Ze||Te[PC](Ce),r||(Je=w("h2",Te,"wp_af","Interactive Learning Experience")),(ct=e[Xgr])||(e[Xgr]=ct=w("div",Ke,"wp-cb wp_af",null)),r||(rt=w("p",ct,"wp_af","Each course incorporates Scrimba's proprietary interactive format known as ")),r||($t=w("a",ct,"wp_af","scrims")),r||($t.href="/s064b4h"),r||($t.newtab="newtab"),r||(it=w("p",ct,"wp_af",", which allows learners to stop the screencast at any point to experiment with the code or solve challenges. This is more engaging than standard videos, as they work step-by-step towards building real-world projects all on their own. Surveys show that 95% of learners prefer scrims over regular videos.")),ze=at=1,(tt=e[Kgr])||(ze=at=0,e[Kgr]=tt=w("section",n,"wp-cf wp_af",null)),yt=vt=1,(st=tt[Jgr])||(yt=vt=0,tt[Jgr]=st=R("op-icon",tt,"xxl wp_af",null)),nt=Kkt,nt===tt[Qgr]||(st.data=tt[Qgr]=nt),yt||!st.setup||st.setup(vt,Ct),st[wd](vt),yt||tt[PC](st),ze||(jt=w("h2",tt,"wp_af","Lets get started")),(bt=tt[e6r])||(tt[e6r]=bt=w("p",tt,"wp-ci wp_af",null)),ze||bt[UC]("Tell us about your needs and well get back to you within 24 hours."),Xe=tt[a6r](Xnn),Dt=mt=1,(ht=Xe.run(this.obutton(this.signupforteams)))||(Dt=mt=0,Xe.cache(ht=M(Xe.value,tt,"wp_af",null))),ht[u6r]&&(Dt||(ht.icon=!1),(!Dt||mt&2)&&ht.flags.reconcile(AC,"wp_af"),Dt||!ht.setup||ht.setup(mt,Xe),ht[wd](mt)),ht==tt[AC]||!tt[AC]&&(tt[AC]=ht)[c6r](tt)||tt[AC][h6r](tt[AC]=ht,tt),ze||!tt.setup||tt.setup(at,At),tt[wd](at),(Ut=e[t6r])||(e[t6r]=Ut=w("section",n,"wp-ck wp_af",null)),r||(kt=w("div",Ut,"%left wp_ck wp_af",null)),r||(_t=w("img",kt,"%dots wp_ck wp_af",null)),r||(_t.src=H8),Mt=Ot=1,(xt=e[r6r])||(Mt=Ot=0,e[r6r]=xt=R("op-icon",kt,"xxl wp_ck wp_af",null)),tr=Ekt,tr===e[o6r]||(xt.data=e[o6r]=tr),Mt||!xt.setup||xt.setup(Ot,lt),xt[wd](Ot),Mt||kt[PC](xt),r||(fe=w("h3",kt,"wp_ck wp_af","Pay by invoice or credit card")),r||(Me=w("p",kt,"wp_ck wp_af","We bill in your local currency and allow for period payments.")),r||(ut=w("div",Ut,"%middle wp_ck wp_af",null)),r||(Rt=w("img",ut,"%dots wp_ck wp_af",null)),r||(Rt.src=H8),Yt=rr=1,(St=e[n6r])||(Yt=rr=0,e[n6r]=St=R("op-icon",ut,"xxl wp_ck wp_af",null)),er=v3,er===e[i6r]||(St.data=e[i6r]=er),Yt||!St.setup||St.setup(rr,Zt),St[wd](rr),Yt||ut[PC](St),r||(Nr=w("h3",ut,"wp_ck wp_af","Bulk discounts")),r||(or=w("p",ut,"wp_ck wp_af","The more seats you buy, the lower the cost. Transfer seats however you want.")),r||(Tr=w("div",Ut,"%right wp_ck wp_af",null)),r||(xo=w("img",Tr,"%dots wp_ck wp_af",null)),r||(xo.src=H8),Wr=to=1,(qr=e[s6r])||(Wr=to=0,e[s6r]=qr=R("op-icon",Tr,"xxl wp_ck wp_af",null)),mr=d6t,mr===e[l6r]||(qr.data=e[l6r]=mr),Wr||!qr.setup||qr.setup(to,Go),qr[wd](to),Wr||Tr[PC](qr),r||(fn=w("h3",Tr,"wp_ck wp_af","Cancel any time")),r||(Yr=w("p",Tr,"wp_ck wp_af","No notice period required, youre free to stop renewals.")),r||t.sym||!e.setup||e.setup(o,t,_ue),t.sym||e[wd](o),e}};E(vue,xue,"AppTeams",80);var TIe=vue;globalThis.AppTeams=TIe;T();oe();var p6r="/assets/three-layers.IX7KOFQN.png";var d6r="/assets/reviews.FSK6VM74.png";ge(),dt(),wo(),$e();var OIe=Symbol("hero_text"),f6r=Symbol(),RIe=Symbol("join-for-free"),m6r=Symbol(),MIe=Symbol("view-demo"),$6r=Symbol(),LIe=Symbol("go-pro"),y6r=Symbol(),B8,DIe,NIe,IIe,wue=Symbol(),b6r=Symbol(),g6r=Symbol(),k6r=Symbol(),_6r=Symbol(),x6r=Symbol(),v6r=Symbol(),rin=Symbol(),oin=Symbol(),nin=Symbol(),iin=Symbol(),w6r=Symbol(),S6r=Symbol(),C6r=Symbol(),E6r=Symbol(),j6r=Symbol(),A6r=Symbol(),U6r=Symbol(),P6r=Symbol(),T6r=Symbol(),O6r=Symbol(),R6r=Symbol(),M6r=Symbol(),TC=Symbol(),sin=Symbol(),L6r=Symbol(),D6r=Symbol(),N6r=Symbol(),I6r=Symbol(),F6r=Symbol(),H6r=Symbol(),B6r=Symbol(),V6r=Symbol(),z6r=Symbol(),q6r=Symbol(),W6r=Symbol(),Z6r=Symbol(),G6r=Symbol(),Y6r=Symbol(),X6r=Symbol(),K6r=Symbol(),J6r=Symbol(),Q6r=Symbol(),ekr=Symbol(),tkr=Symbol(),rkr=Symbol(),okr=Symbol(),nkr=Symbol(),ikr=Symbol(),skr=Symbol(),lkr=Symbol(),akr=Symbol(),ukr=Symbol(),ckr=Symbol(),hkr=Symbol(),pkr=Symbol(),dkr=Symbol(),fkr=Symbol(),OC=Symbol(),lin=Symbol(),mkr=Symbol(),$kr=Symbol(),ykr=Symbol(),ain=Symbol(),uin=Symbol(),bkr=Symbol(),gkr=Symbol(),kkr=Symbol(),_kr=Symbol(),xkr=Symbol(),vkr=Symbol(),wkr=Symbol(),Skr=Symbol(),Ckr=Symbol(),Ekr=Symbol(),jkr=Symbol(),Akr=Symbol(),cin=Symbol(),hin=Symbol(),pin=Symbol(),din=Symbol(),Ukr=Symbol(),Pkr=Symbol(),Tkr=Symbol(),Okr=Symbol(),Rkr=Symbol(),Mkr=Symbol(),Lkr=Symbol(),Dkr=Symbol(),Nkr=Symbol(),fin=Symbol(),min=Symbol(),V8=Symbol.for("##up"),$in=Symbol.for("##register"),yin=Symbol.for("#getSlot"),hc=Symbol.for("#placeChild"),RC=Symbol.for("#getRenderContext"),z8=Symbol.for("#isRichElement"),Lo=Symbol.for("#afterVisit"),Ikr=Symbol.for("#insertInto"),Fkr=Symbol.for("#replaceWith"),pc=Symbol.for("#appendChild"),Hkr=Symbol.for("#getDynamicContext"),Sue=Symbol(),rv=class rv extends Qe(Sue,AppContent,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Sue)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Sue])==null||o.call(this,...arguments)}get astitle(){return"Get Coding Faster | Scrimba"}set hero_text(e){this.hero_text.$set(e,this,OIe,"hero_text")}get hero_text(){return this.hero_text.$get(this,OIe,"hero_text")}get hero_text(){return this[f6r]||y((B8=this.text(),p(B8.editable,Function)?B8.editable():B8.editable=!0,p(B8.fallback,Function)?B8.fallback("Scrimba combines unique learning technology with a practical and industry-tested curriculum to quickly help you level-up and become hireable fullstack developer."):B8.fallback="Scrimba combines unique learning technology with a practical and industry-tested curriculum to quickly help you level-up and become hireable fullstack developer.",B8),this,OIe,"hero_text",f6r,rv.prototype)}set joinforfree(e){this.joinforfree.$set(e,this,RIe,"joinforfree")}get joinforfree(){return this.joinforfree.$get(this,RIe,"joinforfree")}get joinforfree(){return this[m6r]||y((DIe=this.action(),DIe.callback=function(){return APP.signin()},DIe),this,RIe,"joinforfree",m6r,rv.prototype)}set viewdemo(e){this.viewdemo.$set(e,this,MIe,"viewdemo")}get viewdemo(){return this.viewdemo.$get(this,MIe,"viewdemo")}get viewdemo(){return this[$6r]||y((NIe=this.action(),NIe.callback=function(){return APP.open(OP.get("s0fg0h412l"))},NIe),this,MIe,"viewdemo",$6r,rv.prototype)}set gopro(e){this.gopro.$set(e,this,LIe,"gopro")}get gopro(){return this.gopro.$get(this,LIe,"gopro")}get gopro(){return this[y6r]||y((IIe=this.action(),IIe.callback=function(){return APP.upgrade()},IIe),this,LIe,"gopro",y6r,rv.prototype)}get courses(){return["c0fullstack","c0e","c0v","c02v"].map(OP.get)}testimonialmove(e){try{return globalThis.document.getElementById("testimonial").scrollBy({left:e,behavior:"smooth"})}catch{}}opownpage(){var Mgt;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr,Or,Ao,mn,Uo,Xr,Ar,Mi,ul,Li,Yo,vn,Ur,Po,yo,ui,_i,is,gu,ro,$n,ci,hi,Di,To,pi,Fn,Sr,wn,vo,Ni,Kt,cl,Rr,Kr,di,rn,bo,Ii,Nt,Tn,No,hl,ss,yn,Fi,Ml,Mr,Xo,ls,pl,Ll,xi,Hi,Dl,dl,Rc,fl,Mc,oo,Bi,ku,ml,Io,fi,Sn,vi,Ko,on,On,as,_u,co,Rn,js,ca,$h,wi,As,Fo,Vi,$l,yh,nn,Us,xu,O1,Kn,bn,Ps,Nl,yf,R1,ha,sn,Jo,kr,Ho,us,mi,zi,b3,eR,sUo;t.this=this,s=a=1,(i=t[wue])||(s=a=0,i=t[wue]=i=R("op",null,"ced-af",null)),s||(i[V8]=t._),s||((Mgt=i[$in])==null||Mgt.call(i,t,wue)),u=i[yin]("__",i),(c=i[b6r])||(i[b6r]=c=w("section",u,"ced-ag ced_af",null)),d=f=1,(h=i[g6r])||(d=f=0,i[g6r]=h=w("div",c,"ced-ah ced_af",null)),(m=h[k6r])||(h[k6r]=m=w("h1",h,"ced-ai ced_af",null)),d||m[hc]("Get Coding Faster"),($=h[_6r])||(h[_6r]=$=w("p",h,"ced-aj ced_af",null)),b=this.hero_text,b===h[v6r]&&d||(h[x6r]=$[hc](h[v6r]=b,256,h[x6r])),r=null,OP.user?(g=h[RC](oin),x=k=1,(r=g.run(this.obutton(this.gopro)))||(x=k=0,g.cache(r=M(g.value,null,"ced_af",null))),x||(r[V8]=h),r[z8]&&(x||(r.icon=!1),(!x||k&2)&&r.flags.reconcile(rin,"ced_af"),x||!r.setup||r.setup(k,g),r[Lo](k))):(_=h[RC](iin),S=v=1,(r=_.run(this.obutton(this.joinforfree)))||(S=v=0,_.cache(r=M(_.value,null,"ced_af",null))),S||(r[V8]=h),r[z8]&&(S||(r.icon=!1),(!S||v&2)&&r.flags.reconcile(nin,"ced_af"),S||!r.setup||r.setup(v,_),r[Lo](v))),h[w6r]=h[hc](r,0,h[w6r]),d||!h.setup||h.setup(f,C),h[Lo](f),(j=i[S6r])||(i[S6r]=j=w("section",u,"ced-am ced_af",null)),(P=i[C6r])||(i[C6r]=P=w("h2",j,"ced-an ced_af",null)),s||P[hc]("Popular Courses Include"),(U=i[E6r])||(i[E6r]=U=w("div",j,"ced-ao ced_af",null)),(O=i[j6r])||(i[j6r]=O=Jt(256,U)),L=0,I=O.$;for(let Lc=0,bf=B(this.courses),tR=bf.length;Lc<tR;Lc++){let g3=bf[Lc];N=V=1,(F=I[L])||(N=V=0,I[L]=F=R("app-tile",O,"ced-ap ced_af",null)),N||(F[V8]=O),g3===F[A6r]||(F.data=F[A6r]=g3),W=F[U6r]||(F[U6r]={emit:["open",null]}),W.emit[1]=g3,N||F.on$("click",W,this),N||!F.setup||F.setup(V,z),F[Lo](V),L++}O[Lo](L),(q=i[P6r])||(i[P6r]=q=w("section",u,"ced-aq ced_af",null)),(Y=i[T6r])||(i[T6r]=Y=w("div",q,"ced-ar %left ced_af",null)),s||(K=w("img",Y,"ced_af",null)),s||(K.src=p6r),Z=Q=1,(X=i[O6r])||(Z=Q=0,i[O6r]=X=w("div",q,"ced-at %right ced_af",null)),Z||(ee=w("h2",X,"ced_af","The End of Tutorial Hell")),(te=X[R6r])||(X[R6r]=te=w("div",X,"ced-av ced_af",null)),Z||te[hc]("Unlike all other learning platforms which rely on standard video, Scrimba has magically merged the screencast and code editor (IDE) into one."),(ne=X[M6r])||(X[M6r]=ne=w("span",te,"ced-aw ced_af",null)),Z||ne[hc](`

Throughout the courses you'll constantly be prompted by your teacher to take control and edit their code and solve challenges. This not only saves time and complexity as you won't need to try to replicate the codebase on your own device, but is crucial in building valuable muscle memory as you'll be actively writing code from day one.`),ie=X[RC](sin),me=ce=1,(J=ie.run(this.obutton(this.viewdemo)))||(me=ce=0,ie.cache(J=M(ie.value,X,"ced_af",null))),J[z8]&&(me||(J.icon=!1),(!me||ce&2)&&J.flags.reconcile(TC,"ced_af"),me||!J.setup||J.setup(ce,ie),J[Lo](ce)),J==X[TC]||!X[TC]&&(X[TC]=J)[Ikr](X)||X[TC][Fkr](X[TC]=J,X),Z||!X.setup||X.setup(Q,ye),X[Lo](Q),(we=i[L6r])||(i[L6r]=we=w("section",u,"ced-ay ced_af",null)),(ae=i[D6r])||(i[D6r]=ae=w("div",we,"ced-az %left ced_af",null)),s||(be=w("h2",ae,"ced_af","Our Users Are Our Biggest Advocates")),(_e=i[N6r])||(i[N6r]=_e=w("div",ae,"ced-bb %review-card ced_af",null)),(Ae=i[I6r])||(i[I6r]=Ae=w("p",_e,"ced-bc %review-text ced_bb ced_af",null)),s||Ae[hc](`"The best learning experience i've ever had ! I've tried multiple courses (Udemy, private, books, youtube...) and i get bored quickly...here everything finally stick and it's fun (Instructors, projects...) and engaging. Community is awesome, what else can i say, this is the future of learning. I'm loving it so much!"`),s||Ae[hc](`

 Mathieu Lozano`),s||(ve=w("div",we,"%right ced_af",null)),(Pe=i[F6r])||(i[F6r]=Pe=w("div",ve,"ced-be %wrapper ced_af",null)),s||(He=w("img",Pe,"ced_af",null)),s||(He.src=d6r),Be=je=1,(Ue=i[H6r])||(Be=je=0,i[H6r]=Ue=w("a",Pe,"ced-bg ced_af",null)),Be||(Ue.href="https://www.producthunt.com/products/scrimba"),Be||(Ue.target="_blank"),Be||Ue[hc]("View on ProductHunt"),xe=Re=1,(ue=i[B6r])||(xe=Re=0,i[B6r]=ue=w("section",u,"ced-bh ced_af",null)),xe||(Oe=w("h2",ue,"ced_bh ced_af","Pro Advantages and Pricing")),(qe=ue[V6r])||(ue[V6r]=qe=w("div",ue,"ced-bj %top %card ced_bh ced_af",null)),xe||(Ne=w("img",qe,"%dots ced_bh ced_af",null)),xe||(Ne.src=H8),xe||(Ie=w("div",qe,"%left %feature-list ced_bh ced_af",null)),xe||(Ke=w("div",Ie,"%feature-item ced_bh ced_af",null)),Ce=Ze=1,(Te=ue[z6r])||(Ce=Ze=0,ue[z6r]=Te=R("op-icon",Ke,"lg ced_bh ced_af",null)),et=fw,et===ue[q6r]||(Te.data=ue[q6r]=et),Ce||!Te.setup||Te.setup(Ze,ft),Te[Lo](Ze),Ce||Ke[pc](Te),xe||(Ge=w("span",Ke,"ced_bh ced_af","The Fullstack Developer Path")),xe||(Je=w("div",Ie,"%feature-item ced_bh ced_af",null)),rt=$t=1,(ct=ue[W6r])||(rt=$t=0,ue[W6r]=ct=R("op-icon",Je,"lg ced_bh ced_af",null)),it=qkt,it===ue[Z6r]||(ct.data=ue[Z6r]=it),rt||!ct.setup||ct.setup($t,tt),ct[Lo]($t),rt||Je[pc](ct),xe||(ze=w("span",Je,"ced_bh ced_af","Frontend Developer Career Path")),xe||(at=w("div",Ie,"%feature-item ced_bh ced_af",null)),yt=vt=1,(st=ue[G6r])||(yt=vt=0,ue[G6r]=st=R("op-icon",at,"lg ced_bh ced_af",null)),nt=ww,nt===ue[Y6r]||(st.data=ue[Y6r]=nt),yt||!st.setup||st.setup(vt,Ct),st[Lo](vt),yt||at[pc](st),xe||(jt=w("span",at,"ced_bh ced_af","The AI Engineer Path")),xe||(bt=w("div",Ie,"%feature-item ced_bh ced_af",null)),ht=Dt=1,(Xe=ue[X6r])||(ht=Dt=0,ue[X6r]=Xe=R("op-icon",bt,"lg ced_bh ced_af",null)),mt=W6,mt===ue[K6r]||(Xe.data=ue[K6r]=mt),ht||!Xe.setup||Xe.setup(Dt,At),Xe[Lo](Dt),ht||bt[pc](Xe),xe||(Ut=w("span",bt,"ced_bh ced_af","All Pro courses")),xe||(kt=w("div",Ie,"%feature-item ced_bh ced_af",null)),xt=Mt=1,(_t=ue[J6r])||(xt=Mt=0,ue[J6r]=_t=R("op-icon",kt,"lg ced_bh ced_af",null)),Ot=gR,Ot===ue[Q6r]||(_t.data=ue[Q6r]=Ot),xt||!_t.setup||_t.setup(Mt,tr),_t[Lo](Mt),xt||kt[pc](_t),xe||(lt=w("span",kt,"ced_bh ced_af","Course certificates for flex")),xe||(fe=w("div",qe,"%right %feature-list ced_bh ced_af",null)),xe||(Me=w("div",fe,"%feature-item ced_bh ced_af",null)),Rt=St=1,(ut=ue[ekr])||(Rt=St=0,ue[ekr]=ut=R("op-icon",Me,"lg ced_bh ced_af",null)),Yt=E3,Yt===ue[tkr]||(ut.data=ue[tkr]=Yt),Rt||!ut.setup||ut.setup(St,rr),ut[Lo](St),Rt||Me[pc](ut),xe||(er=w("span",Me,"ced_bh ced_af","Unlimited challenges")),xe||(Zt=w("div",fe,"%feature-item ced_bh ced_af",null)),or=Tr=1,(Nr=ue[rkr])||(or=Tr=0,ue[rkr]=Nr=R("op-icon",Zt,"lg ced_bh ced_af",null)),xo=Akt,xo===ue[okr]||(Nr.data=ue[okr]=xo),or||!Nr.setup||Nr.setup(Tr,qr),Nr[Lo](Tr),or||Zt[pc](Nr),xe||(Wr=w("span",Zt,"ced_bh ced_af","AI tutorials and projects")),xe||(to=w("div",fe,"%feature-item ced_bh ced_af",null)),Go=fn=1,(mr=ue[nkr])||(Go=fn=0,ue[nkr]=mr=R("op-icon",to,"lg ced_bh ced_af",null)),Yr=_w,Yr===ue[ikr]||(mr.data=ue[ikr]=Yr),Go||!mr.setup||mr.setup(fn,Or),mr[Lo](fn),Go||to[pc](mr),xe||(Ao=w("span",to,"ced_bh ced_af","AI-powered Instant Feedback")),xe||(mn=w("div",fe,"%feature-item ced_bh ced_af",null)),Xr=Ar=1,(Uo=ue[skr])||(Xr=Ar=0,ue[skr]=Uo=R("op-icon",mn,"lg ced_bh ced_af",null)),Mi=D1,Mi===ue[lkr]||(Uo.data=ue[lkr]=Mi),Xr||!Uo.setup||Uo.setup(Ar,ul),Uo[Lo](Ar),Xr||mn[pc](Uo),xe||(Li=w("span",mn,"ced_bh ced_af","All of the Discord community")),xe||(Yo=w("div",fe,"%feature-item ced_bh ced_af",null)),Ur=Po=1,(vn=ue[akr])||(Ur=Po=0,ue[akr]=vn=R("op-icon",Yo,"lg ced_bh ced_af",null)),yo=xR,yo===ue[ukr]||(vn.data=ue[ukr]=yo),Ur||!vn.setup||vn.setup(Po,ui),vn[Lo](Po),Ur||Yo[pc](vn),xe||(_i=w("span",Yo,"ced_bh ced_af","7-day money-back guarantee")),(is=ue[ckr])||(ue[ckr]=is=w("div",ue,"ced-cr %middle %pricing ced_bh ced_af",null)),xe||(gu=w("div",is,"%left %card ced_cr ced_bh ced_af",null)),xe||(ro=w("img",gu,"%dots ced_cr ced_bh ced_af",null)),xe||(ro.src=H8),ci=hi=1,($n=ue[hkr])||(ci=hi=0,ue[hkr]=$n=R("op-icon",gu,"xxl ced_cr ced_bh ced_af",null)),Di=v3,Di===ue[pkr]||($n.data=ue[pkr]=Di),ci||!$n.setup||$n.setup(hi,To),$n[Lo](hi),ci||gu[pc]($n),xe||(pi=w("h2",gu,"%pricing-title ced_cr ced_bh ced_af","Save 30% with Annual Pro")),xe||(Fn=w("p",gu,"%pricing-copy ced_cr ced_bh ced_af","Choosing the annual plan gets you 12 months for the price of 9.")),xe||(Sr=w("div",is,"%right %card ced_cr ced_bh ced_af",null)),xe||(wn=w("img",Sr,"%dots ced_cr ced_bh ced_af",null)),xe||(wn.src=H8),Ni=Kt=1,(vo=ue[dkr])||(Ni=Kt=0,ue[dkr]=vo=R("op-icon",Sr,"xxl ced_cr ced_bh ced_af",null)),cl=Ukt,cl===ue[fkr]||(vo.data=ue[fkr]=cl),Ni||!vo.setup||vo.setup(Kt,Rr),vo[Lo](Kt),Ni||Sr[pc](vo),xe||(Kr=w("h2",Sr,"%pricing-title ced_cr ced_bh ced_af","Cancel any time")),xe||(di=w("p",Sr,"%pricing-copy ced_cr ced_bh ced_af","No notice period required, you're free to stop renewals.")),rn=ue[RC](lin),Ii=Nt=1,(bo=rn.run(this.obutton(this.gopro)))||(Ii=Nt=0,rn.cache(bo=M(rn.value,ue,"ced_bh ced_af",null))),bo[z8]&&(Ii||(bo.icon=!1),(!Ii||Nt&2)&&bo.flags.reconcile(OC,"ced_bh ced_af"),Ii||!bo.setup||bo.setup(Nt,rn),bo[Lo](Nt)),bo==ue[OC]||!ue[OC]&&(ue[OC]=bo)[Ikr](ue)||ue[OC][Fkr](ue[OC]=bo,ue),xe||!ue.setup||ue.setup(Re,Tn),ue[Lo](Re),(No=i[mkr])||(i[mkr]=No=w("section",u,"ced-dd ced_af",null)),s||(hl=w("h2",No,"ced_af","Scrimba Teachers Include:")),(ss=i[$kr])||(i[$kr]=ss=w("div",No,"ced-df teachers ced_af",null)),(yn=i[ykr])||(i[ykr]=yn=wt(256,ss)),Fi=0,Ml=yn.$;for(let Lc=0,bf=B(OP.get("c0fullstack").teachers.slice(0,6)),tR=bf.length;Lc<tR;Lc++){let g3=bf[Lc];ls=pl=1,(Xo=(Mr=Ml[Hkr](ain,Fi)).run(this.otile(g3)))||(ls=pl=0,Mr.cache(Xo=M(Mr.value,yn,"ced-dg ced_af",null))),ls||(Xo[V8]=yn),Xo[z8]&&((!ls||pl&2)&&Xo.flags.reconcile(uin,"ced-dg ced_af"),ls||!Xo.setup||Xo.setup(pl,Mr),Xo[Lo](pl)),yn.push(Xo,Fi++,Ll)}yn[Lo](Fi),(xi=i[bkr])||(i[bkr]=xi=w("section",u,"ced-dh ced_af",null)),s||(Hi=w("h2",xi,"ced_af","The Industry Approves")),(Dl=i[gkr])||(i[gkr]=Dl=w("div",xi,"ced-dj %middle ced_af",null)),(dl=i[kkr])||(i[kkr]=dl=w("div",Dl,"ced-dk %left ced_af",null)),(Rc=i[_kr])||(i[_kr]=Rc=w("h2",dl,"ced-dl ced_af",null)),s||Rc[hc]('"A truly fantastic learning experience with great content and a fun and innovative platform"'),(fl=i[xkr])||(i[xkr]=fl=w("p",dl,"ced-dm ced_af",null)),s||(Mc=w("span",fl,"ced_af","Scrimba is Mozilla MDN's recommended course platform. Our ")),(oo=i[vkr])||(i[vkr]=oo=w("span",fl,"ced-do ced_af",null)),s||oo[hc]("Frontend Developer Career Path"),s||(Bi=w("span",fl,"ced_af"," adheres to the official MDN Curriculum, ensuring that your team or class will gain skills that are industry-relevant, up-to-date, and not in violation of any best-practices.")),(ku=i[wkr])||(i[wkr]=ku=w("div",Dl,"ced-dq %right ced_af",null)),(ml=i[Skr])||(i[Skr]=ml=w("p",ku,"ced-dr ced_af",null)),s||ml[hc]("Our courses are co-created in collaboration with industry leaders including:"),(Io=i[Ckr])||(i[Ckr]=Io=w("div",ku,"ced-ds ced_af",null)),s||(fi=w("img",Io,"ced_af",null)),s||(fi.src=kue),s||(Sn=w("img",Io,"ced_af",null)),s||(Sn.src=yue),s||(vi=w("img",Io,"ced_af",null)),s||(vi.src=bue),s||(Ko=w("img",Io,"ced_af",null)),s||(Ko.src=gue),On=as=1,(on=i[Ekr])||(On=as=0,i[Ekr]=on=w("section",u,"ced-dx ced_af",null)),On||(_u=w("h2",on,"ced_af","Let's Get Started!")),(co=on[jkr])||(on[jkr]=co=w("p",on,"ced-dz ced_af",null)),o=null,OP.user?o="Get pro access today":o="Signup for your free account today",on[Akr]=co[hc](o,0,on[Akr]),n=null,OP.user?(Rn=on[RC](hin),js=ca=1,(n=Rn.run(this.obutton(this.gopro)))||(js=ca=0,Rn.cache(n=M(Rn.value,null,"ced_af",null))),js||(n[V8]=on),n[z8]&&(js||(n.icon=!1),(!js||ca&2)&&n.flags.reconcile(cin,"ced_af"),js||!n.setup||n.setup(ca,Rn),n[Lo](ca))):($h=on[RC](din),wi=As=1,(n=$h.run(this.obutton(this.joinforfree)))||(wi=As=0,$h.cache(n=M($h.value,null,"ced_af",null))),wi||(n[V8]=on),n[z8]&&(wi||(n.icon=!1),(!wi||As&2)&&n.flags.reconcile(pin,"ced_af"),wi||!n.setup||n.setup(As,$h),n[Lo](As))),on[Ukr]=on[hc](n,0,on[Ukr]),On||!on.setup||on.setup(as,Fo),on[Lo](as),(Vi=i[Pkr])||(i[Pkr]=Vi=w("section",u,"ced-ec ced_af",null)),($l=i[Tkr])||(i[Tkr]=$l=w("div",Vi,"ced-ed %top ced_af",null)),s||(yh=w("h2",$l,"ced_af","Testimonials")),Us=xu=1,(nn=i[Okr])||(Us=xu=0,i[Okr]=nn=R("op-button",$l,"ced_af",null)),O1=cw,O1===i[Rkr]||(nn.icon=i[Rkr]=O1),Us||nn.on$("hotkey",{options:["left"]},this),Us||nn.on$("click",{$_:[function(Lc,bf){return t.this.testimonialmove(-300)}]},this),Us||!nn.setup||nn.setup(xu,Kn),nn[Lo](xu),Us||$l[pc](nn),Ps=Nl=1,(bn=i[Mkr])||(Ps=Nl=0,i[Mkr]=bn=R("op-button",$l,"ced_af",null)),yf=hw,yf===i[Lkr]||(bn.icon=i[Lkr]=yf),Ps||bn.on$("hotkey",{options:["right"]},this),Ps||bn.on$("click",{$_:[function(Lc,bf){return t.this.testimonialmove(300)}]},this),Ps||!bn.setup||bn.setup(Nl,R1),bn[Lo](Nl),Ps||$l[pc](bn),sn=Jo=1,(ha=i[Dkr])||(sn=Jo=0,i[Dkr]=ha=w("div",Vi,"ced-eh ced_af",null)),sn||(ha.id="testimonial"),(kr=i[Nkr])||(i[Nkr]=kr=wt(256,ha)),Ho=0,us=kr.$;for(let Lc=0,bf=B(Testimonial.showing),tR=bf.length;Lc<tR;Lc++){let g3=bf[Lc];b3=eR=1,(zi=(mi=us[Hkr](fin,Ho)).run(this.oel(g3,"entry")))||(b3=eR=0,mi.cache(zi=M(mi.value,kr,"ced-ei ced_af",null))),b3||(zi[V8]=kr),zi[z8]&&((!b3||eR&2)&&zi.flags.reconcile(min,"ced-ei ced_af"),b3||!zi.setup||zi.setup(eR,mi),zi[Lo](eR)),kr.push(zi,Ho++,sUo)}return kr[Lo](Ho),s||t.sym||!i.setup||i.setup(a,t,wue),t.sym||i[Lo](a),i}};E(rv,Sue,"AppLanding",80);var FIe=rv;globalThis.AppLanding=FIe;T();oe();var HIe=Symbol("browse"),Bkr=Symbol(),MC,bin=le("&.template?",globalThis,l=>l.template),gin=le("&.discoverable?",globalThis,l=>l.discoverable),kin=Symbol(),Cue=class Cue extends AppContent{get kind(){return Scrim}set browse(e){this.browse.$set(e,this,HIe,"browse")}get browse(){return this.browse.$get(this,HIe,"browse")}get browse(){return this[Bkr]||y((MC=this.coll(),p(MC.tab,Function)?MC.tab():MC.tab=!0,MC.callback=function(){return Scrim.all(bin,gin)},MC),this,HIe,"browse",Bkr,Cue.prototype)}};E(Cue,kin,"AppTemplates",0);var BIe=Cue;globalThis.AppTemplates=BIe;T();oe();var VIe=Symbol("browse"),Vkr=Symbol(),zIe=Symbol("create-topic"),zkr=Symbol(),LC,DC,qIe=Symbol(),_in=Symbol.for("#getRenderContext"),xin=Symbol.for("##up"),vin=Symbol.for("##register"),win=Symbol.for("#isRichElement"),Sin=Symbol.for("#afterVisit"),Eue=Symbol(),rB=class rB extends Qe(Eue,AppContent,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Eue)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Eue])==null||o.call(this,...arguments)}set browse(e){this.browse.$set(e,this,VIe,"browse")}get browse(){return this.browse.$get(this,VIe,"browse")}get browse(){return this[Vkr]||y((LC=this.coll({name:"All"}),p(LC.tab,Function)?LC.tab():LC.tab=!0,LC.callback=function(){return Topic.all().sorted({name:1})},LC),this,VIe,"browse",Vkr,rB.prototype)}set createtopic(e){this.createtopic.$set(e,this,zIe,"createtopic")}get createtopic(){return this.createtopic.$get(this,zIe,"createtopic")}get createtopic(){return this[zkr]||y((DC=this.action(),p(DC.x,Function)?DC.x(ADMIN):DC.x=ADMIN,DC.callback=async function(){return(await Topic.create()).inspectitem()},DC),this,zIe,"createtopic",zkr,rB.prototype)}opownpageheadbuttons(){var i;var e,t,r=H(),o,n;return e=r[_in](qIe),o=n=1,(t=e.run(this.obuttonif(this.createtopic)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[xin]=r._),o||((i=t[vin])==null||i.call(t,r,qIe)),t[win]&&(o||r.sym||!t.setup||t.setup(n,r,qIe),r.sym||t[Sin](n)),t}};E(rB,Eue,"AppTopics",80);var WIe=rB;globalThis.AppTopics=WIe;T();oe();ge(),dt(),Hl(),We(),$e();var ZIe=Symbol("title"),qkr=Symbol(),GIe=Symbol("hits"),Wkr=Symbol(),YIe=Symbol("active"),Zkr=Symbol(),XIe=Symbol("slug"),Gkr=Symbol(),KIe=Symbol("content"),Ykr=Symbol(),JIe=Symbol("subdomain"),Xkr=Symbol(),oB,ov,ea,q8,W8,Z8,jue=Symbol(),nB=Symbol(),Cin=Symbol(),QIe=Symbol(),Kkr=Symbol(),Jkr=Symbol(),Qkr=Symbol(),e8r=Symbol(),Aue=Symbol(),t8r=Symbol(),NC=Symbol(),Ein=Symbol(),r8r=Symbol(),IC=Symbol(),jin=Symbol(),FC=Symbol(),Ain=Symbol(),HC=Symbol(),Uin=Symbol(),BC=Symbol(),Pin=Symbol(),o8r=Symbol(),VC=Symbol(),Tin=Symbol(),zC=Symbol(),Oin=Symbol(),n8r=Symbol(),i8r=Symbol(),Uue=Symbol(),s8r=Symbol(),l8r=Symbol(),a8r=Symbol(),Pue=Symbol();var Rin=Symbol(),u8r=Symbol(),c8r=Symbol(),h8r=Symbol(),p8r=Symbol(),d8r=Symbol(),f8r=Symbol(),Sd=Symbol.for("##up"),iB=Symbol.for("##register"),m8r=Symbol.for("#getSlot"),x$=Symbol.for("#getRenderContext"),v$=Symbol.for("#isRichElement"),Zs=Symbol.for("#afterVisit"),$8r=Symbol.for("#appendChild"),Min=Symbol.for("#replaceChild"),sB=Symbol.for("#placeChild"),nv=Symbol.for("#insertInto"),iv=Symbol.for("#replaceWith"),Tue=Symbol(),Cd=class Cd extends Qe(Tue,AppContent,Deletable,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Tue)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Tue])==null||o.call(this,...arguments)}set title(e){this.title.$set(e,this,ZIe,"title")}get title(){return this.title.$get(this,ZIe,"title")}get title(){return this[qkr]||y((oB=this.string(),p(oB.editable,Function)?oB.editable():oB.editable=!0,oB),this,ZIe,"title",qkr,Cd.prototype)}set hits(e){this.hits.$set(e,this,GIe,"hits")}get hits(){return this.hits.$get(this,GIe,"hits")}get hits(){return this[Wkr]||y((ov=this.number(),p(ov.tip,Function)?ov.tip("number of hits using the URL"):ov.tip="number of hits using the URL",ov.default=function(){return 0},ov.default.literal=0,ov),this,GIe,"hits",Wkr,Cd.prototype)}set active(e){this.active.$set(e,this,YIe,"active")}get active(){return this.active.$get(this,YIe,"active")}get active(){return this[Zkr]||y((ea=this.bool(),p(ea.editable,Function)?ea.editable():ea.editable=!0,p(ea.f,Function)?ea.f():ea.f=!0,p(ea.g,Function)?ea.g(1):ea.g=1,p(ea.tip,Function)?ea.tip("Inactive pages are hidden. Only admins can see them."):ea.tip="Inactive pages are hidden. Only admins can see them.",ea.default=function(){return!1},ea.default.literal=!1,ea),this,YIe,"active",Zkr,Cd.prototype)}set slug(e){this.slug.$set(e,this,XIe,"slug")}get slug(){return this.slug.$get(this,XIe,"slug")}get slug(){return this[Gkr]||y((q8=this.string(),p(q8.editable,Function)?q8.editable():q8.editable=!0,p(q8.tip,Function)?q8.tip("Pathname that routes to this "+this.constructor.name+". Should be unique."):q8.tip="Pathname that routes to this "+this.constructor.name+". Should be unique.",q8),this,XIe,"slug",Gkr,Cd.prototype)}set content(e){this.content.$set(e,this,KIe,"content")}get content(){return this.content.$get(this,KIe,"content")}get content(){return this[Ykr]||y((W8=this.text(),p(W8.f,Function)?W8.f():W8.f=!0,p(W8.editable,Function)?W8.editable():W8.editable=!0,W8),this,KIe,"content",Ykr,Cd.prototype)}set subdomain(e){this.subdomain.$set(e,this,JIe,"subdomain")}get subdomain(){return this.subdomain.$get(this,JIe,"subdomain")}get subdomain(){return this[Xkr]||y((Z8=this.string(),p(Z8.editable,Function)?Z8.editable():Z8.editable=!0,p(Z8.f,Function)?Z8.f():Z8.f=!0,Z8),this,JIe,"subdomain",Xkr,Cd.prototype)}get host(){return"https://"+"scrimba.com"}get inactive(){return ME.admin?!1:!this.active}pills(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[jue])||(r=o=0,e=t[jue]=e=R("op",null,null,null)),r||(e[Sd]=t._),r||((c=e[iB])==null||c.call(e,t,jue)),n=e[m8r]("__",e),i=e[x$](Cin),a=u=1,(s=i.run(this.obadge(this.$.active)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[v$]&&(a||!s.setup||s.setup(u,i),s[Zs](u)),s==e[nB]||!e[nB]&&n[$8r](e[nB]=s)||(n[Min](s,e[nB]),e[nB]=s),r||t.sym||!e.setup||e.setup(o,t,jue),t.sym||e[Zs](o),e}opownstats(){var d;var e=this,t=H(),r,o,n,i,s,a,u,c,h;if(ME.admin)return t.this=this,o=n=1,(r=t[QIe])||(o=n=0,r=t[QIe]=r=w("div",null,"cbf-ah",null)),o||(r[Sd]=t._),o||((d=r[iB])==null||d.call(r,t,QIe)),o||r.on$("click",{$_:[function(f,m){return OP.copystr(t.this.source)}]},this),(i=r[Kkr])||(r[Kkr]=i=w("span",r,"cbf_ah",null)),s=this.source,s===r[Qkr]&&o||(r[Jkr]=i[sB](r[Qkr]=s,384,r[Jkr])),u=c=1,(a=r[e8r])||(u=c=0,r[e8r]=a=R("op-icon",r,"cbf_ah",null)),u||(a.data="copy"),u||!a.setup||a.setup(c,h),a[Zs](c),u||r[$8r](a),r}opownpageheadbuttons(){var J;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie;return n=i=1,(r=o[Aue])||(n=i=0,r=o[Aue]=r=R("op",null,"cbf-ak",null)),n||(r[Sd]=o._),n||((J=r[iB])==null||J.call(r,o,Aue)),s=r[m8r]("__",r),e=t=null,this.editing?(a=u=1,(e=r[t8r])||(a=u=0,r[t8r]=e=w("div",null,"%container cbf_ak",null)),a||(e[Sd]=s),c=e[x$](Ein),d=f=1,(h=c.run(this.oel(this,"edit-actions")))||(d=f=0,c.cache(h=M(c.value,e,"cbf_ak",null))),h[v$]&&((!d||f&2)&&h.flags.reconcile(NC,"cbf_ak"),d||!h.setup||h.setup(f,c),h[Zs](f)),h==e[NC]||!e[NC]&&(e[NC]=h)[nv](e)||e[NC][iv](e[NC]=h,e),a||!e.setup||e.setup(u,m),e[Zs](u),$=b=1,(t=r[r8r])||($=b=0,r[r8r]=t=w("div",null,"cbf-an %container cbf_ak",null)),$||(t[Sd]=s),g=t[x$](jin),k=_=1,(x=g.run(this.ofield(this.$editing.$.title)))||(k=_=0,g.cache(x=M(g.value,t,"cbf_ak",null))),x[v$]&&((!k||_&2)&&x.flags.reconcile(IC,"cbf_ak"),k||!x.setup||x.setup(_,g),x[Zs](_)),x==t[IC]||!t[IC]&&(t[IC]=x)[nv](t)||t[IC][iv](t[IC]=x,t),S=t[x$](Ain),C=j=1,(v=S.run(this.ofield(this.$editing.$.slug)))||(C=j=0,S.cache(v=M(S.value,t,"cbf_ak",null))),v[v$]&&((!C||j&2)&&v.flags.reconcile(FC,"cbf_ak"),C||!v.setup||v.setup(j,S),v[Zs](j)),v==t[FC]||!t[FC]&&(t[FC]=v)[nv](t)||t[FC][iv](t[FC]=v,t),P=t[x$](Uin),O=L=1,(U=P.run(this.ofield(this.$editing.$.active)))||(O=L=0,P.cache(U=M(P.value,t,"cbf_ak",null))),U[v$]&&((!O||L&2)&&U.flags.reconcile(HC,"cbf_ak"),O||!U.setup||U.setup(L,P),U[Zs](L)),U==t[HC]||!t[HC]&&(t[HC]=U)[nv](t)||t[HC][iv](t[HC]=U,t),I=t[x$](Pin),N=V=1,(F=I.run(this.ofield(this.$editing.$.subdomain)))||(N=V=0,I.cache(F=M(I.value,t,"cbf_ak",null))),F[v$]&&((!N||V&2)&&F.flags.reconcile(BC,"cbf_ak"),N||!F.setup||F.setup(V,I),F[Zs](V)),F==t[BC]||!t[BC]&&(t[BC]=F)[nv](t)||t[BC][iv](t[BC]=F,t),$||!t.setup||t.setup(b,W),t[Zs](b)):ME.admin&&(z=q=1,(e=r[o8r])||(z=q=0,r[o8r]=e=w("div",null,"%container cbf_ak",null)),z||(e[Sd]=s),Y=e[x$](Tin),X=Z=1,(K=Y.run(this.obuttonif(this.edit)))||(X=Z=0,Y.cache(K=M(Y.value,e,"yellow cbf_ak",null))),K[v$]&&(X||K.on$("opnav",{},this),(!X||Z&2)&&K.flags.reconcile(VC,"yellow cbf_ak"),X||!K.setup||K.setup(Z,Y),K[Zs](Z)),K==e[VC]||!e[VC]&&(e[VC]=K)[nv](e)||e[VC][iv](e[VC]=K,e),Q=e[x$](Oin),te=ne=1,(ee=Q.run(this.oel(this,"description",{only:[this.$.title,this.$.slug,this.$.active,this.$.subdomain]})))||(te=ne=0,Q.cache(ee=M(Q.value,e,"cbf_ak",null))),ee[v$]&&((!te||ne&2)&&ee.flags.reconcile(zC,"cbf_ak"),te||!ee.setup||ee.setup(ne,Q),ee[Zs](ne)),ee==e[zC]||!e[zC]&&(e[zC]=ee)[nv](e)||e[zC][iv](e[zC]=ee,e),z||!e.setup||e.setup(q,ie),e[Zs](q)),r[n8r]=s[sB](e,0,r[n8r]),r[i8r]=s[sB](t,0,r[i8r]),n||o.sym||!r.setup||r.setup(i,o,Aue),o.sym||r[Zs](i),r}get asslug(){return this.slug}get synopsis(){return this.content}get source(){return""+this.host+"/pages/"+this.slug}get target(){return""+this.host+"/"+this.slug}opowntile(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[Uue])||(n=i=0,r=o[Uue]=r=R("app-tile",null,"cbf-av",null)),n||(r[Sd]=o._),n||((a=r[iB])==null||a.call(r,o,Uue)),s=this,s===r[s8r]||(r.data=r[s8r]=s),t===r[l8r]||(r.ctx=r[l8r]=t),s=this.pills,s===r[a8r]||(r.pills=r[a8r]=s),n||o.sym||!r.setup||r.setup(i,o,Uue),o.sym||r[Zs](i),r}opownbody(){var g;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b;return n=i=1,(r=o[Pue])||(n=i=0,r=o[Pue]=r=w("section",null,"cbf-aw osection",null)),n||(r[Sd]=o._),n||((g=r[iB])==null||g.call(r,o,Pue)),e=t=null,this.editing?(s=r[x$](Rin),a=u=1,(e=s.run(this.olabel(this.$.content)))||(a=u=0,s.cache(e=M(s.value,null,null,null))),a||(e[Sd]=r),e[v$]&&(a||!e.setup||e.setup(u,s),e[Zs](u)),c=h=1,(t=r[u8r])||(c=h=0,r[u8r]=t=w("textarea",null,"cbf-ay",null)),c||(t[Sd]=r),d=t[c8r]||(t[c8r]=t.bind$("data",[null,"content"])),d[0]=this.$editing,c||!t.setup||t.setup(h,f),t[Zs](h)):(m=$=1,(e=r[h8r])||(m=$=0,r[h8r]=e=w("article",null,null,null)),m||(e[Sd]=r),b=this.content,b===e[p8r]||(e.markdown=e[p8r]=b)),r[d8r]=r[sB](e,0,r[d8r]),r[f8r]=r[sB](t,0,r[f8r]),n||o.sym||!r.setup||r.setup(i,o,Pue),o.sym||r[Zs](i),r}};Cd.prototype[Le]=De,se([Fl.bind([])],Cd.prototype,"pills",null),E(Cd,Tue,"AppPageEmbed",336);var eFe=Cd;globalThis.AppPageEmbed=eFe;T();oe();$e();var tFe=Symbol("create-page"),y8r=Symbol(),w$,Oue=Symbol(),lB=Symbol(),Lin=Symbol(),Din=Symbol.for("##up"),Nin=Symbol.for("##register"),Iin=Symbol.for("#getSlot"),Fin=Symbol.for("#getRenderContext"),Hin=Symbol.for("#isRichElement"),b8r=Symbol.for("#afterVisit"),Bin=Symbol.for("#appendChild"),Vin=Symbol.for("#replaceChild"),zin=Symbol(),Rue=class Rue extends AppCollView{set createpage(e){this.createpage.$set(e,this,tFe,"createpage")}get createpage(){return this.createpage.$get(this,tFe,"createpage")}get createpage(){return this[y8r]||y((w$=this.action(),p(w$.x,Function)?w$.x(ADMIN):w$.x=ADMIN,p(w$.g,Function)?w$.g(1002):w$.g=1002,w$.callback=async function(){let e=APP.pages.add({title:"New page",slug:OPKey.generateshort()});return await APP.pages.save(),Xt.go(e.id),globalThis.location.reload()},w$),this,tFe,"createpage",y8r,Rue.prototype)}opowncollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Oue])||(r=o=0,e=t[Oue]=e=R("op",null,null,null)),r||(e[Din]=t._),r||((c=e[Nin])==null||c.call(e,t,Oue)),n=e[Iin]("__",e),i=e[Fin](Lin),a=u=1,(s=i.run(this.obutton(this.createpage)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Hin]&&(a||!s.setup||s.setup(u,i),s[b8r](u)),s==e[lB]||!e[lB]&&n[Bin](e[lB]=s)||(n[Vin](s,e[lB]),e[lB]=s),r||t.sym||!e.setup||e.setup(o,t,Oue),t.sym||e[b8r](o),e}opownpagestats(){return null}};E(Rue,zin,"AppPagesPage",0);var rFe=Rue;globalThis.AppPagesPage=rFe;T();oe();We(),ge(),dt(),$e();var oFe=Symbol("trunk"),g8r=Symbol(),nFe=Symbol("branch"),k8r=Symbol(),iFe=Symbol("template-filters"),_8r=Symbol(),sFe=Symbol("focus"),x8r=Symbol(),lFe=Symbol("audio"),v8r=Symbol(),aFe=Symbol("webcontainer"),w8r=Symbol(),uFe=Symbol("auth"),S8r=Symbol(),cFe=Symbol("requests"),C8r=Symbol(),hFe=Symbol("webstream"),E8r=Symbol(),pFe=Symbol("text"),j8r=Symbol(),dFe=Symbol("link"),A8r=Symbol(),fFe=Symbol("link_label"),U8r=Symbol(),mFe=Symbol("start"),P8r=Symbol(),$Fe=Symbol("end"),T8r=Symbol(),yFe=Symbol("dismissed"),O8r=Symbol(),bFe=Symbol("dismiss"),R8r=Symbol(),gFe=Symbol("configure"),M8r=Symbol(),kFe=Symbol("clear"),L8r=Symbol(),_Fe=Symbol("id"),D8r=Symbol(),xFe=Symbol("open-in-inspector"),N8r=Symbol(),vFe=Symbol("set-initial-state"),I8r=Symbol(),wFe=Symbol("extract-challenge-description"),F8r=Symbol(),SFe=Symbol("generate-test"),H8r=Symbol(),CFe=Symbol("set-current-state-as-teacher-solution"),B8r=Symbol(),EFe=Symbol("create-passing-snapshot"),V8r=Symbol(),jFe=Symbol("create-failing-snapshot"),z8r=Symbol(),AFe=Symbol("id"),q8r=Symbol(),UFe=Symbol("accent"),W8r=Symbol(),PFe=Symbol("home"),Z8r=Symbol(),TFe=Symbol("courses"),G8r=Symbol(),OFe=Symbol("paths"),Y8r=Symbol(),RFe=Symbol("topics"),X8r=Symbol(),MFe=Symbol("projects"),K8r=Symbol(),LFe=Symbol("templates"),J8r=Symbol(),DFe=Symbol("inspector"),Q8r=Symbol(),NFe=Symbol("feedback"),e_r=Symbol(),IFe=Symbol("metrics"),t_r=Symbol(),FFe=Symbol("extras"),r_r=Symbol(),HFe=Symbol("javascriptmas"),o_r=Symbol(),BFe=Symbol("scrimbassadors"),n_r=Symbol(),VFe=Symbol("ai-exercise-options"),i_r=Symbol(),zFe=Symbol("pages"),s_r=Symbol(),qFe=Symbol("ide"),l_r=Symbol(),WFe=Symbol("teams"),a_r=Symbol(),ZFe=Symbol("landingpage"),u_r=Symbol(),GFe=Symbol("settings"),c_r=Symbol(),YFe=Symbol("auth"),h_r=Symbol(),XFe=Symbol("livemode"),p_r=Symbol(),KFe=Symbol("stripe_prod"),d_r=Symbol(),JFe=Symbol("stripe_test"),f_r=Symbol(),QFe=Symbol("debugging"),m_r=Symbol(),eHe=Symbol("announcement"),$_r=Symbol(),tHe=Symbol("afp"),y_r=Symbol(),rHe=Symbol("pro"),b_r=Symbol(),oHe=Symbol("gift_product"),g_r=Symbol(),nHe=Symbol("data"),k_r=Symbol(),iHe=Symbol("new-scrim-filters"),__r=Symbol(),sHe=Symbol("report-critical-error"),x_r=Symbol(),lHe=Symbol("user-by-alias"),v_r=Symbol(),aHe=Symbol("report-a-bug"),w_r=Symbol(),uHe=Symbol("new-scrim"),S_r=Symbol(),cHe=Symbol("new-scrim-from-github"),C_r=Symbol(),hHe=Symbol("new-asset"),E_r=Symbol(),pHe=Symbol("gift-pro-subscription"),j_r=Symbol(),dHe=Symbol("new-scrim-from-files"),A_r=Symbol(),fHe=Symbol("new-scrim-from-folder"),U_r=Symbol(),mHe=Symbol("sign-in"),P_r=Symbol(),$He=Symbol("ensure-signed-in"),T_r=Symbol(),yHe=Symbol("upgrade"),O_r=Symbol(),bHe=Symbol("sign-out"),R_r=Symbol(),M_r=Symbol(),gHe=Symbol("discord"),L_r=Symbol(),kHe=Symbol("resend"),D_r=Symbol(),_He=Symbol("openai"),N_r=Symbol(),xHe=Symbol("openrouter"),I_r=Symbol(),vHe=Symbol("groq"),F_r=Symbol(),wHe=Symbol("gemini"),H_r=Symbol(),SHe=Symbol("anthropic"),B_r=Symbol(),CHe=Symbol("slack"),V_r=Symbol(),EHe=Symbol("linear"),z_r=Symbol(),jHe=Symbol("github"),q_r=Symbol(),AHe=Symbol("scheduler"),W_r=Symbol(),UHe=Symbol("legacy"),Z_r=Symbol(),PHe=Symbol("ai"),G_r=Symbol(),THe=Symbol("seen_all_tickets"),Y_r=Symbol(),OHe=Symbol("sidebar_collapsed"),X_r=Symbol(),RHe=Symbol("seen_welcome_modal"),K_r=Symbol(),MHe=Symbol("seen_mdn_modal"),J_r=Symbol(),LHe=Symbol("migrate-orgs"),Q_r=Symbol(),DHe=Symbol("create-org"),e4r=Symbol(),NHe=Symbol("upgrade-to-annual"),t4r=Symbol(),IHe=Symbol("purge-cloudflare-cache"),r4r=Symbol(),o4r,aB,uB,qin=le("&.kind.template?",globalThis,l=>l.kind.template),Mue=Symbol(),Lue=Symbol(),n4r=Symbol(),G8,Y8,X8,cB,hB,i4r,pB,dB,fB,mB,$B,yB,FHe,S$,C$,bB,Due=Symbol(),s4r=Symbol(),gB=Symbol(),Win=Symbol(),l4r=Symbol(),a4r=Symbol(),kB=Symbol(),Zin=Symbol(),u4r=Symbol(),_B=Symbol(),Gin=Symbol(),c4r=Symbol(),h4r=Symbol(),xB=Symbol(),Yin=Symbol(),p4r=Symbol(),vB=Symbol(),Xin=Symbol(),wB=Symbol(),Kin=Symbol(),SB=Symbol(),Jin=Symbol(),CB=Symbol(),Qin=Symbol(),EB=Symbol(),esn=Symbol(),E$,j$,A$,U$,P$,T$,O$,K8,jB,AB,UB,PB,TB,d4r,f4r,J8,m4r,Q8,OB,$4r,y4r,RB,b4r,g4r,MB,k4r,_4r,x4r,LB,Ed,jd,Ad,Ud,DB,HHe,BHe,qC,NB,R$,WC,Kh,ZC,Nue=Symbol(),GC,M$,YC,Iue=Symbol(),XC,Jh,Qh,L$,D$,Fue=Symbol(),Hue=Symbol(),v4r=Symbol(),w4r=Symbol(),S4r=Symbol(),C4r=Symbol(),E4r=Symbol(),j4r=Symbol(),A4r=Symbol(),U4r=Symbol(),P4r=Symbol(),T4r=Symbol(),N$,tsn=le("!&.mine?",globalThis,l=>!l.mine),rsn=le("&.visited",globalThis,l=>l.visited),osn=le("&.name..startsWith('Missing icon')",globalThis,l=>{var e,t;return(t=(e=l.name)==null?void 0:e.startsWith)==null?void 0:t.call(e,"Missing icon")}),nsn=le("&.name..slice(17)",globalThis,l=>{var e,t;return(t=(e=l.name)==null?void 0:e.slice)==null?void 0:t.call(e,17)}),O4r,R4r,M4r,L4r,D4r,N4r,I4r,F4r,H4r,B4r,V4r,e_,z4r,IB,Xf,FB,HB,I$,F$,ep,tp,Kf=Symbol.for("##up"),sv=Symbol.for("##register"),lv=Symbol.for("#getSlot"),ji=Symbol.for("#afterVisit"),H$=Symbol.for("#getRenderContext"),B$=Symbol.for("#isRichElement"),rp=Symbol.for("#appendChild"),V$=Symbol.for("#replaceChild"),z$=Symbol.for("#placeChild"),q4r=Symbol(),q$=class q$ extends OPEmbed{constructor(){super(...arguments),re(this,q4r)}set trunk(e){this.trunk.$set(e,this,oFe,"trunk")}get trunk(){return this.trunk.$get(this,oFe,"trunk")}get trunk(){return this[g8r]||y((o4r=this.ref(Scrim),o4r),this,oFe,"trunk",g8r,q$.prototype)}set branch(e){this.branch.$set(e,this,nFe,"branch")}get branch(){return this.branch.$get(this,nFe,"branch")}get branch(){return this[k8r]||y((aB=this.ref(Scrim),p(aB.fallback,Function)?aB.fallback(function(){return this.trunk}):aB.fallback=function(){return this.trunk},aB),this,nFe,"branch",k8r,q$.prototype)}set templatefilters(e){this.templatefilters.$set(e,this,iFe,"templatefilters")}get templatefilters(){return this.templatefilters.$get(this,iFe,"templatefilters")}get templatefilters(){return this[_8r]||y((uB=this.embed(OPFilters),p(uB.local,Function)?uB.local():uB.local=!0,uB),this,iFe,"templatefilters",_8r,q$.prototype)}get templates(){return Scrim.all(qin)}get sheet(){return!0}opmatchedroute(e){return e.renderer=this}opbranchtip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Mue])||(r=o=0,e=t[Mue]=e=R("op",null,null,"Tip for branch here!!")),r||(e[Kf]=t._),r||((i=e[sv])==null||i.call(e,t,Mue)),n=e[lv]("__",e),r||t.sym||!e.setup||e.setup(o,t,Mue),t.sym||e[ji](o),e}opownsheet(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Lue])||(r=o=0,e=t[Lue]=e=R("app-ide",null,null,null)),r||(e[Kf]=t._),r||((i=e[sv])==null||i.call(e,t,Lue)),n=this,n===e[n4r]||(e.data=e[n4r]=n),r||t.sym||!e.setup||e.setup(o,t,Lue),t.sym||e[ji](o),e}};q$.prototype[Le]=De,q$.virtual=!0,se([ke.bind([])],q$.prototype,"templates",null),E(q$,q4r,"AppIDE",272);var Vue=q$;globalThis.AppIDE=Vue;var isn=Symbol(),W$=class W$ extends OPEmbed{set focus(e){this.focus.$set(e,this,sFe,"focus")}get focus(){return this.focus.$get(this,sFe,"focus")}get focus(){return this[x8r]||y((G8=this.bool(),p(G8.g,Function)?G8.g(100):G8.g=100,p(G8.session,Function)?G8.session():G8.session=!0,G8),this,sFe,"focus",x8r,W$.prototype)}set audio(e){this.audio.$set(e,this,lFe,"audio")}get audio(){return this.audio.$get(this,lFe,"audio")}get audio(){return this[v8r]||y((Y8=this.bool(),p(Y8.g,Function)?Y8.g(100):Y8.g=100,p(Y8.session,Function)?Y8.session():Y8.session=!0,Y8),this,lFe,"audio",v8r,W$.prototype)}set webcontainer(e){this.webcontainer.$set(e,this,aFe,"webcontainer")}get webcontainer(){return this.webcontainer.$get(this,aFe,"webcontainer")}get webcontainer(){return this[w8r]||y((X8=this.bool(),p(X8.g,Function)?X8.g(100):X8.g=100,p(X8.session,Function)?X8.session():X8.session=!0,X8),this,aFe,"webcontainer",w8r,W$.prototype)}set auth(e){this.auth.$set(e,this,uFe,"auth")}get auth(){return this.auth.$get(this,uFe,"auth")}get auth(){return this[S8r]||y((cB=this.bool(),p(cB.g,Function)?cB.g(100):cB.g=100,cB),this,uFe,"auth",S8r,W$.prototype)}set requests(e){this.requests.$set(e,this,cFe,"requests")}get requests(){return this.requests.$get(this,cFe,"requests")}get requests(){return this[C8r]||y((hB=this.bool(),p(hB.g,Function)?hB.g(100):hB.g=100,hB),this,cFe,"requests",C8r,W$.prototype)}set webstream(e){this.webstream.$set(e,this,hFe,"webstream")}get webstream(){return this.webstream.$get(this,hFe,"webstream")}get webstream(){return this[E8r]||y((i4r=this.bool(),i4r),this,hFe,"webstream",E8r,W$.prototype)}tick(){if(this.$up.$memo.ticked!=!0&&(this.$up.$memo.ticked=!0,!0))for(let e of B(this.$shape.$bool))globalThis.document.flags.toggle("debug-"+e.name,this[e]);return this}};E(W$,isn,"AppDebug",0);var zue=W$;globalThis.AppDebug=zue;var ssn=Symbol(),op=class op extends OPEmbed{set text(e){this.text.$set(e,this,pFe,"text")}get text(){return this.text.$get(this,pFe,"text")}get text(){return this[j8r]||y((pB=this.string(),p(pB.editable,Function)?pB.editable():pB.editable=!0,pB),this,pFe,"text",j8r,op.prototype)}set link(e){this.link.$set(e,this,dFe,"link")}get link(){return this.link.$get(this,dFe,"link")}get link(){return this[A8r]||y((dB=this.url(),p(dB.editable,Function)?dB.editable():dB.editable=!0,dB),this,dFe,"link",A8r,op.prototype)}set link_label(e){this.link_label.$set(e,this,fFe,"link_label")}get link_label(){return this.link_label.$get(this,fFe,"link_label")}get link_label(){return this[U8r]||y((fB=this.string(),p(fB.editable,Function)?fB.editable():fB.editable=!0,fB),this,fFe,"link_label",U8r,op.prototype)}set start(e){this.start.$set(e,this,mFe,"start")}get start(){return this.start.$get(this,mFe,"start")}get start(){return this[P8r]||y((mB=this.ts(),p(mB.editable,Function)?mB.editable():mB.editable=!0,mB),this,mFe,"start",P8r,op.prototype)}set end(e){this.end.$set(e,this,$Fe,"end")}get end(){return this.end.$get(this,$Fe,"end")}get end(){return this[T8r]||y(($B=this.ts(),p($B.editable,Function)?$B.editable():$B.editable=!0,$B),this,$Fe,"end",T8r,op.prototype)}set dismissed(e){this.dismissed.$set(e,this,yFe,"dismissed")}get dismissed(){return this.dismissed.$get(this,yFe,"dismissed")}get dismissed(){return this[O8r]||y((yB=this.ts(),p(yB.pov,Function)?yB.pov():yB.pov=!0,yB),this,yFe,"dismissed",O8r,op.prototype)}get dismissed(){return this.dismissed>this.start}set dismiss(e){this.dismiss.$set(e,this,bFe,"dismiss")}get dismiss(){return this.dismiss.$get(this,bFe,"dismiss")}get dismiss(){return this[R8r]||y((FHe=this.action(),FHe.callback=function(){return this.dismissed=!0},FHe),this,bFe,"dismiss",R8r,op.prototype)}set configure(e){this.configure.$set(e,this,gFe,"configure")}get configure(){return this.configure.$get(this,gFe,"configure")}get configure(){return this[M8r]||y((S$=this.action(),p(S$.g,Function)?S$.g(500):S$.g=500,p(S$.x,Function)?S$.x(ADMIN):S$.x=ADMIN,S$.callback=function(){return this.inspectitem()},S$),this,gFe,"configure",M8r,op.prototype)}set clear(e){this.clear.$set(e,this,kFe,"clear")}get clear(){return this.clear.$get(this,kFe,"clear")}get clear(){return this[L8r]||y((C$=this.action(),p(C$.g,Function)?C$.g(900):C$.g=900,p(C$.x,Function)?C$.x(ADMIN):C$.x=ADMIN,C$.callback=function(){return this.$clear()},C$),this,kFe,"clear",L8r,op.prototype)}get visible(){var e,t;return((e=this.start)==null?void 0:e.past)&&((t=this.end)==null?void 0:t.future)&&!this.dismissed}};E(op,ssn,"AppAnnouncement",0);var que=op;globalThis.AppAnnouncement=que;var lsn=Symbol(),Pd=class Pd extends OPEmbed{set id(e){this.id.$set(e,this,_Fe,"id")}get id(){return this.id.$get(this,_Fe,"id")}get id(){return this[D8r]||y((bB=this.key(),p(bB.rwxcd,Function)?bB.rwxcd(ADMIN|TEACHER):bB.rwxcd=ADMIN|TEACHER,bB),this,_Fe,"id",D8r,Pd.prototype)}get exercise(){var e,t;return(t=(e=globalThis.ide)==null?void 0:e.view)==null?void 0:t.exercise}get wrapper(){return p(this.exercise,ScrimPractice)&&this.exercise.wrapper}opowndialog(){var Te,Ce,Ze,et,ft;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke;return t.this=this,i=s=1,(n=t[Due])||(i=s=0,n=t[Due]=n=R("op",null,"cb-ah",null)),i||(n[Kf]=t._),i||((Te=n[sv])==null||Te.call(n,t,Due)),a=n[lv]("__",n),i||(u=w("h2",a,null,"Required Data")),h=d=1,(c=n[s4r])||(h=d=0,n[s4r]=c=R("op",a,"cb-aj",null)),f=c[lv]("__",c),h||(c.optip="This will rewind to the beginning of the challenge branch, and set that as the initial code state."),m=c[H$](Win),b=g=1,($=m.run(this.obutton(this.setinitialstate)))||(b=g=0,m.cache($=M(m.value,f,null,null))),$[B$]&&(b||!$.setup||$.setup(g,m),$[ji](g)),$==c[gB]||!c[gB]&&f[rp](c[gB]=$)||(f[V$]($,c[gB]),c[gB]=$),r=null,(Ze=(Ce=this.wrapper.initial_code)==null?void 0:Ce.files)!=null&&Ze.len&&(x=k=1,(r=c[l4r])||(x=k=0,c[l4r]=r=R("op-button",null,null,null)),x||(r[Kf]=f),x||r.on$("click",{$_:[function(Ge,Je){return APP.newtab(t.this.wrapper.initial_code)}]},this),x||(r.label="view initial state"),x||!r.setup||r.setup(k,_),r[ji](k)),c[a4r]=f[z$](r,0,c[a4r]),h||!c.setup||c.setup(d,S),c[ji](d),h||a[rp](c),v=n[H$](Zin),j=P=1,(C=v.run(this.obutton(this.extractchallengedescription)))||(j=P=0,v.cache(C=M(v.value,a,null,null))),C[B$]&&(j||(C.optip="This will rewind to the beginning of the challenge branch, and attempt to use AI to extract the challenge text."),j||!C.setup||C.setup(P,v),C[ji](P)),C==n[kB]||!n[kB]&&a[rp](n[kB]=C)||(a[V$](C,n[kB]),n[kB]=C),O=L=1,(U=n[u4r])||(O=L=0,n[u4r]=U=R("op",a,"cb-an",null)),I=U[lv]("__",U),O||(U.optip="This will set the current state of the scrim as the teacher solution."),F=U[H$](Gin),V=W=1,(N=F.run(this.obutton(this.setcurrentstateasteachersolution)))||(V=W=0,F.cache(N=M(F.value,I,null,null))),N[B$]&&(V||(N.label="set teacher solution"),V||!N.setup||N.setup(W,F),N[ji](W)),N==U[_B]||!U[_B]&&I[rp](U[_B]=N)||(I[V$](N,U[_B]),U[_B]=N),o=null,(ft=(et=this.wrapper.teacher_solution)==null?void 0:et.files)!=null&&ft.len&&(z=q=1,(o=U[c4r])||(z=q=0,U[c4r]=o=R("op-button",null,null,null)),z||(o[Kf]=I),z||o.on$("click",{$_:[function(Ge,Je){return APP.newtab(t.this.wrapper.teacher_solution)}]},this),z||(o.label="view teacher solution"),z||!o.setup||o.setup(q,Y),o[ji](q)),U[h4r]=I[z$](o,0,U[h4r]),O||!U.setup||U.setup(L,K),U[ji](L),O||a[rp](U),X=n[H$](Yin),Q=ee=1,(Z=X.run(this.ofield(this.wrapper.$.description)))||(Q=ee=0,X.cache(Z=M(X.value,a,null,null))),Z[B$]&&(Q||!Z.setup||Z.setup(ee,X),Z[ji](ee)),Z==n[xB]||!n[xB]&&a[rp](n[xB]=Z)||(a[V$](Z,n[xB]),n[xB]=Z),ne=ie=1,(te=n[p4r])||(ne=ie=0,n[p4r]=te=R("op",a,"cb-ar",null)),J=te[lv]("__",te),me=te[H$](Xin),ye=we=1,(ce=me.run(this.ofield(this.wrapper.$.pro_enabled)))||(ye=we=0,me.cache(ce=M(me.value,J,null,null))),ce[B$]&&(ye||(ce.optip="This enables AI on this challenge for pro members."),ye||!ce.setup||ce.setup(we,me),ce[ji](we)),ce==te[vB]||!te[vB]&&J[rp](te[vB]=ce)||(J[V$](ce,te[vB]),te[vB]=ce),ne||!te.setup||te.setup(ie,ae),te[ji](ie),ne||a[rp](te),i||(be=w("h2",a,null,"For Testing")),_e=n[H$](Kin),ve=Pe=1,(Ae=_e.run(this.obutton(this.generatetest)))||(ve=Pe=0,_e.cache(Ae=M(_e.value,a,null,null))),Ae[B$]&&(ve||(Ae.optip="This will use AI to automatically generate a test case using natural language."),ve||!Ae.setup||Ae.setup(Pe,_e),Ae[ji](Pe)),Ae==n[wB]||!n[wB]&&a[rp](n[wB]=Ae)||(a[V$](Ae,n[wB]),n[wB]=Ae),He=n[H$](Jin),Be=je=1,(Ue=He.run(this.obutton(this.createpassingsnapshot)))||(Be=je=0,He.cache(Ue=M(He.value,a,null,null))),Ue[B$]&&(Be||(Ue.label="add passing test"),Be||(Ue.optip="This will add the current state of the scrim to passing tests."),Be||!Ue.setup||Ue.setup(je,He),Ue[ji](je)),Ue==n[SB]||!n[SB]&&a[rp](n[SB]=Ue)||(a[V$](Ue,n[SB]),n[SB]=Ue),ue=n[H$](Qin),Re=Oe=1,(xe=ue.run(this.obutton(this.createfailingsnapshot)))||(Re=Oe=0,ue.cache(xe=M(ue.value,a,null,null))),xe[B$]&&(Re||(xe.label="add failing test"),Re||(xe.optip="This will add the current state of the scrim to failing tests."),Re||!xe.setup||xe.setup(Oe,ue),xe[ji](Oe)),xe==n[CB]||!n[CB]&&a[rp](n[CB]=xe)||(a[V$](xe,n[CB]),n[CB]=xe),qe=n[H$](esn),Ie=Ke=1,(Ne=qe.run(this.obutton(this.openininspector)))||(Ie=Ke=0,qe.cache(Ne=M(qe.value,a,null,null))),Ne[B$]&&(Ie||(Ne.label="view tests"),Ie||!Ne.setup||Ne.setup(Ke,qe),Ne[ji](Ke)),Ne==n[EB]||!n[EB]&&a[rp](n[EB]=Ne)||(a[V$](Ne,n[EB]),n[EB]=Ne),i||t.sym||!n.setup||n.setup(s,t,Due),t.sym||n[ji](s),n}async getexercisedata(){var o,n;let e=(n=(o=globalThis.ide)==null?void 0:o.view)==null?void 0:n.exercise;if(!e)throw new OPError("Failed, not in an exercise?");let t=globalThis.ide.view.get_fs_snapshot();if(!(t!=null&&t.any))throw new OPError("Failed, no code?");let r=await e.wrapper;return{files:t,wrapper:r}}set openininspector(e){this.openininspector.$set(e,this,xFe,"openininspector")}get openininspector(){return this.openininspector.$get(this,xFe,"openininspector")}get openininspector(){return this[N8r]||y((E$=this.action(),p(E$.g,Function)?E$.g(0):E$.g=0,p(E$.editable,Function)?E$.editable():E$.editable=!0,E$.callback=async function(){let{wrapper:e}=await this.getexercisedata();return APP.newtab(e)},E$),this,xFe,"openininspector",N8r,Pd.prototype)}set setinitialstate(e){this.setinitialstate.$set(e,this,vFe,"setinitialstate")}get setinitialstate(){return this.setinitialstate.$get(this,vFe,"setinitialstate")}get setinitialstate(){return this[I8r]||y((j$=this.action(),p(j$.g,Function)?j$.g(0):j$.g=0,p(j$.editable,Function)?j$.editable():j$.editable=!0,j$.callback=async function(){globalThis.ide.view.open(globalThis.ide.view.branch.start);let{files:e,wrapper:t}=await this.getexercisedata();return t.initial_code={files:e},t.save(),OP.toast("Initial state has been set!")},j$),this,vFe,"setinitialstate",I8r,Pd.prototype)}set extractchallengedescription(e){this.extractchallengedescription.$set(e,this,wFe,"extractchallengedescription")}get extractchallengedescription(){return this.extractchallengedescription.$get(this,wFe,"extractchallengedescription")}get extractchallengedescription(){return this[F8r]||y((A$=this.action(),p(A$.g,Function)?A$.g(0):A$.g=0,p(A$.editable,Function)?A$.editable():A$.editable=!0,A$.callback=async function(){var s;globalThis.ide.view.open(globalThis.ide.view.branch.start);let{files:e,wrapper:t}=await this.getexercisedata(),r=t.initial_code.joinedfiles,o=`You will be given various files, sometimes with a challenge clearly embedded as a comment or multiple comments,
which are instructing a student on what to do with the code.
Your job is simply to extract these instructions from the entire code,
then based on your understanding of the code and the instructions,
paraphrase the challenge text as clearly as possible while remaining concise.
You will only extract challenge text which are instructions on the desired code changes,
if there are meta-instructions relating to the coding platform or guidelines not related to code changes, ignore them.
If there are no instructions about code changes, simply output the word FALSE and nothing else.
Be sure to include all instructions given. Do not leave any instructions out.`;OP.toast("Extracting challenge text..."),await APP.ai.gpt_4o;let{text:n}=await APP.ai.gpt_4o.completion(o,r,{ctx:(s=t.exercise)==null?void 0:s.id,purpose:"extracting challenge text"}),i=n.trim().lower;return i&&i!="false"?(t.description=n,t.save(),OP.toast("Challenge description extracted.")):OP.toast("Failed to generate description")},A$),this,wFe,"extractchallengedescription",F8r,Pd.prototype)}set generatetest(e){this.generatetest.$set(e,this,SFe,"generatetest")}get generatetest(){return this.generatetest.$get(this,SFe,"generatetest")}get generatetest(){return this[H8r]||y((U$=this.action(),p(U$.g,Function)?U$.g(0):U$.g=0,p(U$.editable,Function)?U$.editable():U$.editable=!0,U$.callback=async function(){var h,d;globalThis.ide.view.open(globalThis.ide.view.branch.start);let{files:e,wrapper:t}=await this.getexercisedata();if(!t.description)return;let r=globalThis.prompt("Generate a test where...");if(!((h=r==null?void 0:r.trim)!=null&&h.call(r)))return;let o=t.initial_code.joinedfiles,n=`You are a student code generator.

You will be given as input:
- Various files that represent the INITIAL CODE state of a coding challenge given to students.
- A CHALLENGE DESCRIPTION describing what is requested of a student.
- A short description of the TYPE OF EXAMPLE to generate, which is your main requirement.
	The TYPE OF EXAMPLE should be strictly adhered to.
	If the TYPE OF EXAMPLE contains words like "wrong" or "fail",
	it's important to generate a failing example, and vice versa.

Based on that input, you will respond with an example of how a student might solve the challenge,
and whether your output solves the CHALLENGE DESCRIPTION or not.
Again, you are not actually solving the challenge,
you are changing the INITIAL CODE as a student would according to the TYPE OF EXAMPLE.
The CHALLENGE DESCRIPTION is simply for bearing in mind.

To make this clear, here is an example in xml tags.

<example>
INITIAL CODE:
\`\`\`
let message = ''
if (playerGuess === correctAnswer) {
		message = 'Correct!'
}
else {
		message = 'Wrong!'
}
\`\`\`

CHALLENGE DESCRIPTION:
Refactor the if-else statement by using a ternary operator.

TYPE OF EXAMPLE:
Ternary is flipped from what it should be.
</example>

In the above case, your output would indicate that the result is failure, and the code should be as follows:

\`\`\`
let message = playerGuess === correctAnswer ? 'Wrong!' : 'Correct!'
\`\`\`

Again, see how the output does not solve the CHALLENGE DESCRIPTION -- rather it
did what the TYPE OF EXAMPLE requested, based on the CHALLENGE DESCRIPTION.

Here is another example, this time with a passing example, unlike the above where you were requested to produce an
example that intentionally fails to meet the requirements of the CHALLENGE DESCRIPTION.

<example>
INITIAL CODE:
\`\`\`
console.log('What is the capital of Peru?')

setTimeout(function(){
	console.log('Lima!')
}, 3000)

console.log('Ready for next question?')
\`\`\`

CHALLENGE DESCRIPTION:
Make the third console.log fire 3 seconds after the answer appears.

TYPE OF EXAMPLE:
Nested setTimeout
</example>

In this case, you should output:
\`\`\`
console.log('What is the capital of Peru?')

setTimeout(function(){
	console.log('Lima!')
	setTimeout(function(){
		console.log('Ready for next question?')
	}, 3000)
}, 3000)
\`\`\`

And indicate that the code you generated passes the challenge.

As another passing example, in the case where everything is the same as above
except the TYPE OF EXAMPLE is rather \`wait 6000ms\`, you would output:
\`\`\`
console.log('What is the capital of Peru?')

setTimeout(function(){
	console.log('Lima!')
}, 3000)

setTimeout(function(){
	console.log('Ready for next question?')
}, 6000)
\`\`\`

And indicate that the code you generated passes the challenge.

As another failing example, in the case where the TYPE OF EXAMPLE is rather \`incorrectly wait 3000ms again\`,
which would be a common mistake a student would make for this challenge, you would output:
\`\`\`
console.log('What is the capital of Peru?')

setTimeout(function(){
	console.log('Lima!')
}, 3000)

setTimeout(function(){
	console.log('Ready for next question?')
}, 3000)
\`\`\`

And indicate that the code you generated fails the challenge.

The output format, your response, conforms to a json schema and will contain:
	- A 'passing' boolean describing whether the code you generated passes or fails the challenge.
	- An array (file_pairs) of all the file paths and file contents pairs of the example.

Do not add additional comments to the code, a student would not comment the code when attempting to solve a challenge.
Your output should be exactly what someone would use the TYPE OF EXAMPLE text to briefly describe a student's solution.`,i={type:"json_schema",json_schema:{name:"file_paths_content_pairs",strict:!0,schema:{type:"object",properties:{passing:{type:"boolean",description:"Whether the generated code passes or fails the CHALLENGE DESCRIPTION."},file_pairs:{type:"array",description:"A list of file path and content pairs containing the generated example code.",items:{type:"object",properties:{path:{type:"string",description:"The path of the file."},content:{type:"string",description:"The content of the file."}},required:["path","content"],additionalProperties:!1}},debug:{type:"string",description:"If you can't comply with the request for some reason, state the reason why here. Otherwise, leave this blank."}},required:["passing","file_pairs","debug"],additionalProperties:!1}}},s=`INITIAL CODE:
`+o+`

CHALLENGE DESCRIPTION:
`+t.description+`

TYPE OF EXAMPLE:
`+r;OP.toast("Generating test..."),await APP.ai.o1;let{text:a}=await APP.ai.o1.completion(n,s,{ctx:(d=t.exercise)==null?void 0:d.id,purpose:"ai exercise test generation",response_format:i}),u;try{u=JSON.parse(a)}catch(f){OP.toast("Could not parse response JSON"),console.error(f);return}if(e=u.file_pairs,!(e!=null&&e.len)){OP.toast("Response did not have any files"),console.error(u);return}let c="AI generated: "+r;return u.passing?(OP.toast("Generated passing test!"),t.passing_tests.add({title:c,snapshot:{files:e}})):(OP.toast("Generated failing test!"),t.failing_tests.add({title:c,snapshot:{files:e}})),u},U$),this,SFe,"generatetest",H8r,Pd.prototype)}set setcurrentstateasteachersolution(e){this.setcurrentstateasteachersolution.$set(e,this,CFe,"setcurrentstateasteachersolution")}get setcurrentstateasteachersolution(){return this.setcurrentstateasteachersolution.$get(this,CFe,"setcurrentstateasteachersolution")}get setcurrentstateasteachersolution(){return this[B8r]||y((P$=this.action(),p(P$.g,Function)?P$.g(0):P$.g=0,p(P$.editable,Function)?P$.editable():P$.editable=!0,P$.callback=async function(){let{files:e,wrapper:t}=await this.getexercisedata();return t.teacher_solution={files:e},await t.save(),OP.toast("Successfully set current state as teacher solution")},P$),this,CFe,"setcurrentstateasteachersolution",B8r,Pd.prototype)}set createpassingsnapshot(e){this.createpassingsnapshot.$set(e,this,EFe,"createpassingsnapshot")}get createpassingsnapshot(){return this.createpassingsnapshot.$get(this,EFe,"createpassingsnapshot")}get createpassingsnapshot(){return this[V8r]||y((T$=this.action(),p(T$.g,Function)?T$.g(0):T$.g=0,p(T$.editable,Function)?T$.editable():T$.editable=!0,T$.callback=async function(){let{files:e,wrapper:t}=await this.getexercisedata(),r=globalThis.prompt("Name the test case");if(r)return t.passing_tests.add({title:r,snapshot:{files:e}}),await t.save(),OP.toast("Successfully created passing snapshot")},T$),this,EFe,"createpassingsnapshot",V8r,Pd.prototype)}set createfailingsnapshot(e){this.createfailingsnapshot.$set(e,this,jFe,"createfailingsnapshot")}get createfailingsnapshot(){return this.createfailingsnapshot.$get(this,jFe,"createfailingsnapshot")}get createfailingsnapshot(){return this[z8r]||y((O$=this.action(),p(O$.g,Function)?O$.g(0):O$.g=0,p(O$.editable,Function)?O$.editable():O$.editable=!0,O$.callback=async function(){let{files:e,wrapper:t}=await this.getexercisedata(),r=globalThis.prompt("Name the test case");if(r)return t.failing_tests.add({title:r,snapshot:{files:e}}),await t.save(),OP.toast("Successfully created failing snapshot")},O$),this,jFe,"createfailingsnapshot",z8r,Pd.prototype)}};E(Pd,lsn,"AppAIExerciseOptions",0);var Wue=Pd;globalThis.AppAIExerciseOptions=Wue;var Bue=Symbol(),Ht=class Ht extends Qe(Bue,Model,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Bue)}[A](e=null,t=!0,r=!0){var n;var o;t&&super[A]&&super[A](...arguments),(n=this[Bue])==null||n.call(this,...arguments),this.new_view_state=e&&(o=e.new_view_state)!==void 0?o:{},this.url=e&&(o=e.url)!==void 0?o:null,this.view=e&&(o=e.view)!==void 0?o:null}set id(e){this.id.$set(e,this,AFe,"id")}get id(){return this.id.$get(this,AFe,"id")}get id(){return this[q8r]||y((K8=this.key(),p(K8.r,Function)?K8.r(ANYONE):K8.r=ANYONE,p(K8.w,Function)?K8.w(ADMIN):K8.w=ADMIN,K8),this,AFe,"id",q8r,Ht.prototype)}set accent(e){this.accent.$set(e,this,UFe,"accent")}get accent(){return this.accent.$get(this,UFe,"accent")}get accent(){return this[W8r]||y((jB=this.color(),p(jB.fallback,Function)?jB.fallback(function(){return OPColor.of("lch(55% 66 270)")}):jB.fallback=function(){return OPColor.of("lch(55% 66 270)")},jB),this,UFe,"accent",W8r,Ht.prototype)}set home(e){this.home.$set(e,this,PFe,"home")}get home(){return this.home.$get(this,PFe,"home")}get home(){return this[Z8r]||y((AB=this.embed(AppHome),p(AB.nav,Function)?AB.nav():AB.nav=!0,AB),this,PFe,"home",Z8r,Ht.prototype)}set courses(e){this.courses.$set(e,this,TFe,"courses")}get courses(){return this.courses.$get(this,TFe,"courses")}get courses(){return this[G8r]||y((UB=this.embed(AppCourses),p(UB.nav,Function)?UB.nav():UB.nav=!0,UB),this,TFe,"courses",G8r,Ht.prototype)}set paths(e){this.paths.$set(e,this,OFe,"paths")}get paths(){return this.paths.$get(this,OFe,"paths")}get paths(){return this[Y8r]||y((PB=this.embed(AppPaths),p(PB.nav,Function)?PB.nav():PB.nav=!0,PB),this,OFe,"paths",Y8r,Ht.prototype)}set topics(e){this.topics.$set(e,this,RFe,"topics")}get topics(){return this.topics.$get(this,RFe,"topics")}get topics(){return this[X8r]||y((TB=this.embed(AppTopics),p(TB.nav,Function)?TB.nav():TB.nav=!0,TB),this,RFe,"topics",X8r,Ht.prototype)}set projects(e){this.projects.$set(e,this,MFe,"projects")}get projects(){return this.projects.$get(this,MFe,"projects")}get projects(){return this[K8r]||y((d4r=this.embed(AppProjects),d4r),this,MFe,"projects",K8r,Ht.prototype)}set templates(e){this.templates.$set(e,this,LFe,"templates")}get templates(){return this.templates.$get(this,LFe,"templates")}get templates(){return this[J8r]||y((f4r=this.embed(AppTemplates),f4r),this,LFe,"templates",J8r,Ht.prototype)}set inspector(e){this.inspector.$set(e,this,DFe,"inspector")}get inspector(){return this.inspector.$get(this,DFe,"inspector")}get inspector(){return this[Q8r]||y((J8=this.embed(AppInspector),p(J8.nav,Function)?J8.nav():J8.nav=!0,p(J8.rx,Function)?J8.rx(ADMIN|TEACHER):J8.rx=ADMIN|TEACHER,J8),this,DFe,"inspector",Q8r,Ht.prototype)}set feedback(e){this.feedback.$set(e,this,NFe,"feedback")}get feedback(){return this.feedback.$get(this,NFe,"feedback")}get feedback(){return this[e_r]||y((m4r=this.embed(AppFeedback),m4r),this,NFe,"feedback",e_r,Ht.prototype)}set metrics(e){this.metrics.$set(e,this,IFe,"metrics")}get metrics(){return this.metrics.$get(this,IFe,"metrics")}get metrics(){return this[t_r]||y((Q8=this.embed(AppMetrics),p(Q8.nav,Function)?Q8.nav():Q8.nav=!0,p(Q8.rx,Function)?Q8.rx(ADMIN):Q8.rx=ADMIN,Q8),this,IFe,"metrics",t_r,Ht.prototype)}set extras(e){this.extras.$set(e,this,FFe,"extras")}get extras(){return this.extras.$get(this,FFe,"extras")}get extras(){return this[r_r]||y((OB=this.embed(AppExtras),p(OB.nav,Function)?OB.nav(900):OB.nav=900,OB),this,FFe,"extras",r_r,Ht.prototype)}set javascriptmas(e){this.javascriptmas.$set(e,this,HFe,"javascriptmas")}get javascriptmas(){return this.javascriptmas.$get(this,HFe,"javascriptmas")}get javascriptmas(){return this[o_r]||y(($4r=this.embed(AppJavascriptmas),$4r),this,HFe,"javascriptmas",o_r,Ht.prototype)}set scrimbassadors(e){this.scrimbassadors.$set(e,this,BFe,"scrimbassadors")}get scrimbassadors(){return this.scrimbassadors.$get(this,BFe,"scrimbassadors")}get scrimbassadors(){return this[n_r]||y((y4r=this.embed(AppScrimbassadors),y4r),this,BFe,"scrimbassadors",n_r,Ht.prototype)}set aiexerciseoptions(e){this.aiexerciseoptions.$set(e,this,VFe,"aiexerciseoptions")}get aiexerciseoptions(){return this.aiexerciseoptions.$get(this,VFe,"aiexerciseoptions")}get aiexerciseoptions(){return this[i_r]||y((RB=this.embed(Wue),p(RB.rwx,Function)?RB.rwx(ADMIN|TEACHER):RB.rwx=ADMIN|TEACHER,RB),this,VFe,"aiexerciseoptions",i_r,Ht.prototype)}set pages(e){this.pages.$set(e,this,zFe,"pages")}get pages(){return this.pages.$get(this,zFe,"pages")}get pages(){return this[s_r]||y((b4r=this.embeds(AppPageEmbed),b4r),this,zFe,"pages",s_r,Ht.prototype)}set ide(e){this.ide.$set(e,this,qFe,"ide")}get ide(){return this.ide.$get(this,qFe,"ide")}get ide(){return this[l_r]||y((g4r=this.embed(Vue),g4r),this,qFe,"ide",l_r,Ht.prototype)}set teams(e){this.teams.$set(e,this,WFe,"teams")}get teams(){return this.teams.$get(this,WFe,"teams")}get teams(){return this[a_r]||y((MB=this.embed(AppTeams),p(MB.nav,Function)?MB.nav():MB.nav=!0,MB),this,WFe,"teams",a_r,Ht.prototype)}set landingpage(e){this.landingpage.$set(e,this,ZFe,"landingpage")}get landingpage(){return this.landingpage.$get(this,ZFe,"landingpage")}get landingpage(){return this[u_r]||y((k4r=this.embed(AppLanding),k4r),this,ZFe,"landingpage",u_r,Ht.prototype)}set settings(e){this.settings.$set(e,this,GFe,"settings")}get settings(){return this.settings.$get(this,GFe,"settings")}get settings(){return this[c_r]||y((_4r=this.embed(AppSettings),_4r),this,GFe,"settings",c_r,Ht.prototype)}set auth(e){this.auth.$set(e,this,YFe,"auth")}get auth(){return this.auth.$get(this,YFe,"auth")}get auth(){return this[h_r]||y((x4r=this.embed(AuthService),x4r),this,YFe,"auth",h_r,Ht.prototype)}set livemode(e){this.livemode.$set(e,this,XFe,"livemode")}get livemode(){return this.livemode.$get(this,XFe,"livemode")}get livemode(){return this[p_r]||y((LB=this.bool(),p(LB.w,Function)?LB.w(ADMIN):LB.w=ADMIN,LB),this,XFe,"livemode",p_r,Ht.prototype)}set stripe_prod(e){this.stripe_prod.$set(e,this,KFe,"stripe_prod")}get stripe_prod(){return this.stripe_prod.$get(this,KFe,"stripe_prod")}get stripe_prod(){return this[d_r]||y((Ed=this.embed(StripeLiveService),p(Ed.g,Function)?Ed.g(800.5):Ed.g=800.5,p(Ed.gr,Function)?Ed.gr(ADMIN):Ed.gr=ADMIN,p(Ed.x,Function)?Ed.x(ADMIN):Ed.x=ADMIN,Ed),this,KFe,"stripe_prod",d_r,Ht.prototype)}set stripe_test(e){this.stripe_test.$set(e,this,JFe,"stripe_test")}get stripe_test(){return this.stripe_test.$get(this,JFe,"stripe_test")}get stripe_test(){return this[f_r]||y((jd=this.embed(StripeTestService),p(jd.g,Function)?jd.g(800.5):jd.g=800.5,p(jd.gr,Function)?jd.gr(ADMIN):jd.gr=ADMIN,p(jd.x,Function)?jd.x(ADMIN):jd.x=ADMIN,jd),this,JFe,"stripe_test",f_r,Ht.prototype)}set debugging(e){this.debugging.$set(e,this,QFe,"debugging")}get debugging(){return this.debugging.$get(this,QFe,"debugging")}get debugging(){return this[m_r]||y((Ad=this.embed(zue),p(Ad.wx,Function)?Ad.wx(ADMIN):Ad.wx=ADMIN,p(Ad.g,Function)?Ad.g(800):Ad.g=800,p(Ad.gr,Function)?Ad.gr(ADMIN):Ad.gr=ADMIN,Ad),this,QFe,"debugging",m_r,Ht.prototype)}set announcement(e){this.announcement.$set(e,this,eHe,"announcement")}get announcement(){return this.announcement.$get(this,eHe,"announcement")}get announcement(){return this[$_r]||y((Ud=this.embed(que),p(Ud.w,Function)?Ud.w(ADMIN):Ud.w=ADMIN,p(Ud.g,Function)?Ud.g(800.5):Ud.g=800.5,p(Ud.gr,Function)?Ud.gr(ADMIN):Ud.gr=ADMIN,Ud),this,eHe,"announcement",$_r,Ht.prototype)}set afp(e){this.afp.$set(e,this,tHe,"afp")}get afp(){return this.afp.$get(this,tHe,"afp")}get afp(){return this[y_r]||y((DB=this.ref(AffiliateProgram),p(DB.r,Function)?DB.r(ANYONE):DB.r=ANYONE,DB),this,tHe,"afp",y_r,Ht.prototype)}set pro(e){this.pro.$set(e,this,rHe,"pro")}get pro(){return this.pro.$get(this,rHe,"pro")}get pro(){return this[b_r]||y((HHe=this.memo(),HHe.callback=function(){var e;return(e=this.stripe)==null?void 0:e.pro},HHe),this,rHe,"pro",b_r,Ht.prototype)}set gift_product(e){this.gift_product.$set(e,this,oHe,"gift_product")}get gift_product(){return this.gift_product.$get(this,oHe,"gift_product")}get gift_product(){return this[g_r]||y((BHe=this.memo(),BHe.callback=function(){var e;return(e=this.stripe)==null?void 0:e.gift_product},BHe),this,oHe,"gift_product",g_r,Ht.prototype)}get electron(){if(globalThis.OP_ELECTRON)return OPElectronApp.get(1)}set data(e){this.data.$set(e,this,nHe,"data")}get data(){return this.data.$get(this,nHe,"data")}get data(){return this[k_r]||y((qC=this.pub(),p(qC.r,Function)?qC.r(ANYONE):qC.r=ANYONE,qC.callback=function(e,t){},qC),this,nHe,"data",k_r,Ht.prototype)}get stripe(){return this.livemode?this.stripe_prod:this.stripe_test}set newscrimfilters(e){this.newscrimfilters.$set(e,this,iHe,"newscrimfilters")}get newscrimfilters(){return this.newscrimfilters.$get(this,iHe,"newscrimfilters")}get newscrimfilters(){return this[__r]||y((NB=this.embed(OPFilters),p(NB.local,Function)?NB.local():NB.local=!0,NB),this,iHe,"newscrimfilters",__r,Ht.prototype)}set reportcriticalerror(e){this.reportcriticalerror.$set(e,this,sHe,"reportcriticalerror")}get reportcriticalerror(){return this.reportcriticalerror.$get(this,sHe,"reportcriticalerror")}get reportcriticalerror(){return this[x_r]||y((R$=this.action(),p(R$.x,Function)?R$.x(OPANYONE):R$.x=OPANYONE,p(R$.rpc,Function)?R$.rpc():R$.rpc=!0,R$.callback=!1,R$),this,sHe,"reportcriticalerror",x_r,Ht.prototype)}set userbyalias(e){this.userbyalias.$set(e,this,lHe,"userbyalias")}get userbyalias(){return this.userbyalias.$get(this,lHe,"userbyalias")}get userbyalias(){return this[v_r]||y((WC=this.action(),p(WC.rpc,Function)?WC.rpc():WC.rpc=!0,WC.callback=!1,WC),this,lHe,"userbyalias",v_r,Ht.prototype)}set reportabug(e){this.reportabug.$set(e,this,aHe,"reportabug")}get reportabug(){return this.reportabug.$get(this,aHe,"reportabug")}get reportabug(){return this[w_r]||y((Kh=this.action(),p(Kh.x,Function)?Kh.x(OPANYONE):Kh.x=OPANYONE,p(Kh.icon,Function)?Kh.icon(_f):Kh.icon=_f,p(Kh.g,Function)?Kh.g(1001):Kh.g=1001,Kh.callback=function(){return OP.dialog(Ticket.new({uad:!0}))},Kh),this,aHe,"reportabug",w_r,Ht.prototype)}set newscrim(e){this.newscrim.$set(e,this,uHe,"newscrim")}get newscrim(){return this.newscrim.$get(this,uHe,"newscrim")}get newscrim(){return this[S_r]||y((ZC=this.action(),p(ZC.rx,Function)?ZC.rx(OP.ANYONE):ZC.rx=OP.ANYONE,ZC.callback=function(){return Xt.go("/new")},ZC),this,uHe,"newscrim",S_r,Ht.prototype)}opnewscrimtip(){var n;var e,t=H(),r,o;return r=o=1,(e=t[Nue])||(r=o=0,e=t[Nue]=e=R("op",null,null,null)),r||(e[Kf]=t._),r||((n=e[sv])==null||n.call(e,t,Nue)),r||(e.md=`
			## Start writing code and building projects.
			A Scrim is Scrimba's own unique IDE combining
			a code editor and screen recorder and more!
		`),r||t.sym||!e.setup||e.setup(o,t,Nue),t.sym||e[ji](o),e}set newscrimfromgithub(e){this.newscrimfromgithub.$set(e,this,cHe,"newscrimfromgithub")}get newscrimfromgithub(){return this.newscrimfromgithub.$get(this,cHe,"newscrimfromgithub")}get newscrimfromgithub(){return this[C_r]||y((GC=this.action(GitRepo),p(GC.dnd,Function)?GC.dnd():GC.dnd=!0,GC.callback=function(e){Xt.go("/new")},GC),this,cHe,"newscrimfromgithub",C_r,Ht.prototype)}set newasset(e){this.newasset.$set(e,this,hHe,"newasset")}get newasset(){return this.newasset.$get(this,hHe,"newasset")}get newasset(){return this[E_r]||y((M$=this.action([OPFSEntry]),p(M$.rx,Function)?M$.rx(SRV):M$.rx=SRV,p(M$.dnd,Function)?M$.dnd():M$.dnd=!0,M$.callback=async function(e){let t=e[0];if(!t)return;let r=await OPImage.for(t);r.save();let o="/op/assets/"+r.id+"."+r.extension;return OP.copystr(o),o},M$),this,hHe,"newasset",E_r,Ht.prototype)}set giftprosubscription(e){this.giftprosubscription.$set(e,this,pHe,"giftprosubscription")}get giftprosubscription(){return this.giftprosubscription.$get(this,pHe,"giftprosubscription")}get giftprosubscription(){return this[j_r]||y((YC=this.action(),p(YC.g,Function)?YC.g(500):YC.g=500,YC.callback=function(){var n;var e,t=H(),r,o;return Bt((r=o=1,(e=t[Iue])||(r=o=0,e=t[Iue]=e=R("gift-sub-modal",null,null,null)),r||(e[Kf]=t._),r||((n=e[sv])==null||n.call(e,t,Iue)),r||t.sym||!e.setup||e.setup(o,t,Iue),t.sym||e[ji](o),e))},YC),this,pHe,"giftprosubscription",j_r,Ht.prototype)}set newscrimfromfiles(e){this.newscrimfromfiles.$set(e,this,dHe,"newscrimfromfiles")}get newscrimfromfiles(){return this.newscrimfromfiles.$get(this,dHe,"newscrimfromfiles")}get newscrimfromfiles(){return this[A_r]||y((XC=this.action([OPFSEntry]),p(XC.dnd,Function)?XC.dnd():XC.dnd=!0,XC.callback=function(e){let t=Scrim.build({kind:"playground",initial_files:e,origin_snapshot:Scrim.BaseSnapshot});return this.url.open(t)},XC),this,dHe,"newscrimfromfiles",A_r,Ht.prototype)}set newscrimfromfolder(e){this.newscrimfromfolder.$set(e,this,fHe,"newscrimfromfolder")}get newscrimfromfolder(){return this.newscrimfromfolder.$get(this,fHe,"newscrimfromfolder")}get newscrimfromfolder(){return this[U_r]||y((Jh=this.action(),p(Jh.if,Function)?Jh.if(function(){return!!this.electron}):Jh.if=function(){return!!this.electron},p(Jh.rx,Function)?Jh.rx(OPANYONE):Jh.rx=OPANYONE,p(Jh.g,Function)?Jh.g(700):Jh.g=700,Jh.callback=async function(e){e??=await this.electron.dialog.showOpenDialog({properties:["openDirectory"]});let t=LocalWorkspace.new({cwd:e});await t.save();let r=Scrim.build({kind:"playground",remote_workspace:t,origin_snapshot:Scrim.BaseSnapshot,spiv:100});return this.url.open(r)},Jh),this,fHe,"newscrimfromfolder",U_r,Ht.prototype)}set signin(e){this.signin.$set(e,this,mHe,"signin")}get signin(){return this.signin.$get(this,mHe,"signin")}get signin(){return this[P_r]||y((Qh=this.action(),p(Qh.atomic,Function)?Qh.atomic():Qh.atomic=!0,p(Qh.g,Function)?Qh.g(950):Qh.g=950,p(Qh.race,Function)?Qh.race(function(){return OP.user}):Qh.race=function(){return OP.user},Qh.callback=async function(){if(OP.user)return OP.user;let e=await OP.dialog(this.auth),t=new URL(globalThis.location).searchParams.get("from")=="discord";return e&&t&&(globalThis.location="/discord/connect"),OP.user},Qh),this,mHe,"signin",P_r,Ht.prototype)}set ensuresignedin(e){this.ensuresignedin.$set(e,this,$He,"ensuresignedin")}get ensuresignedin(){return this.ensuresignedin.$get(this,$He,"ensuresignedin")}get ensuresignedin(){return this[T_r]||y((L$=this.action(),p(L$.atomic,Function)?L$.atomic():L$.atomic=!0,p(L$.race,Function)?L$.race(function(){return OP.user}):L$.race=function(){return OP.user},L$.callback=async function(){if(!await this.signin())throw new OPError("Must be signed in");return OP.user},L$),this,$He,"ensuresignedin",T_r,Ht.prototype)}set upgrade(e){this.upgrade.$set(e,this,yHe,"upgrade")}get upgrade(){return this.upgrade.$get(this,yHe,"upgrade")}get upgrade(){return this[O_r]||y((D$=this.action(),p(D$.atomic,Function)?D$.atomic():D$.atomic=!0,p(D$.g,Function)?D$.g(950):D$.g=950,D$.callback=async function(){var e;return(e=ME.activesub)!=null&&e.paused?(await ME.activesub.unpause_subscription(),OP.toast("Subscription resumed successfully!")):await OP.dialog(this.stripe.pro.checkout||this.stripe.pro)},D$),this,yHe,"upgrade",O_r,Ht.prototype)}opupgradetip(){var P,U,O;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;if(!this.stripe.pro)return;let S=this.stripe.pro.checkout,{coupon:v,promo:C,offer:j}=S;if((P=ME.activesub)!=null&&P.paused)return n=i=1,(r=o[Fue])||(n=i=0,r=o[Fue]=r=R("op",null,null,null)),n||(r[Kf]=o._),n||((U=r[sv])==null||U.call(r,o,Fue)),s=r[lv]("__",r),n||(a=w("h2",s,null,"Resume your subscription")),n||(u=w("p",s,null,"Unlock access to all courses, projects and much more.")),n||o.sym||!r.setup||r.setup(i,o,Fue),o.sym||r[ji](i),r;if(h=d=1,(c=o[Hue])||(h=d=0,c=o[Hue]=c=R("op",null,null,null)),h||(c[Kf]=o._),h||((O=c[sv])==null||O.call(c,o,Hue)),f=c[lv]("__",c),h||(m=w("h2",f,null,"Upgrade to Scrimba Pro")),h||($=w("p",f,null,"Unlock access to all courses, projects and much more.")),t=null,v){let L=/offer/i.test(v.name)?" ":"coupon ";b=g=1,(t=c[v4r])||(b=g=0,c[v4r]=t=w("p",null,"yellow",null)),b||(t[Kf]=f),e=null,j.countdown?e="Limited time ":e="Applied ",t[w4r]=t[z$](e,0,t[w4r]),x=L,x===t[C4r]&&b||(t[S4r]=t[z$](t[C4r]=x,0,t[S4r])),(k=t[E4r])||(t[E4r]=k=w("em",t,null,null)),_=v.name,_===t[A4r]&&b||(t[j4r]=k[z$](t[A4r]=_,384,t[j4r])),b||t[z$](" for extra "),x=v.percent_off,x===t[P4r]&&b||(t[U4r]=t[z$](t[P4r]=x,0,t[U4r])),b||t[z$]("% off!")}return c[T4r]=f[z$](t,0,c[T4r]),h||o.sym||!c.setup||c.setup(d,o,Hue),o.sym||c[ji](d),c}set signout(e){this.signout.$set(e,this,bHe,"signout")}get signout(){return this.signout.$get(this,bHe,"signout")}get signout(){return this[R_r]||y((N$=this.action(),p(N$.race,Function)?N$.race(function(){return!OP.user}):N$.race=function(){return!OP.user},p(N$.g,Function)?N$.g(1e3):N$.g=1e3,N$.callback=async function(){return await OP.session.logout(),globalThis.location.href="/"},N$),this,bHe,"signout",R_r,Ht.prototype)}async opresolveroute(e,t){var r=gt(this);if(r[M_r]??={},e=="dashboard")return this;if(e[0]=="@"){let n=r[M_r][e]||=await this.userbyalias(e);return t.alias=e,n}else if(e=="new")return t.renderer=APP.ide,APP.ide;let o=await super.opresolveroute(...arguments);return typeof o=="string"?(await this.resolve(),APP.pages.find(function(i){return i.slug==e&&!i.inactive})||e):o}get recents(){return Content.all(tsn,rsn)}get name(){return"Home"}get href(){return""}get asurl(){return""}emit(e,...t){return this.view.emit(e,...t)}open(e,t){return this.url.open(e,t)}newtab(e,t={}){return t.metaKey=!0,this.open(e,t)}opownpage(e,t){return this.opage(this.home,t)}get missing_icons(){var t,r;if(!(ME!=null&&ME.admin))return;let e=new Set;for(let o=0,n=B(OPLog.all()),i=n.length;o<i;o++){let s=n[o];if(!((r=(t=s.name)==null?void 0:t.startsWith)!=null&&r.call(t,"Missing icon")))continue;let a=s.name.slice(17);Icon.closest(a)||e.add(a)}return Array.from(e).join(", ")}async deleteiconlogs(){var e;if(!(ME!=null&&ME.admin)){OP.toast("Must be admin");return}let t=OPLog.all(osn);if(!t.arr.len){OP.toast("No logs to delete");return}if(console.log(t.map(nsn).join(`
`)),!await OP.confirm("delete logs?")){OP.toast("Canceled log deletion");return}return await function(){e=[];for(let r=0,o=B(t),n=o.length;r<n;r++){let i=o[r];e.push(i.delete())}return e}().resolve(),OP.toast("Done"),!0}get golocal(){return window.open("https://local.scrimba.tech:3007"+globalThis.document.location.pathname)}get golive(){return window.open("https://scrimba.com"+globalThis.document.location.pathname)}get origin(){return"https://scrimba.com"}get user(){return OP.user}set discord(e){this.discord.$set(e,this,gHe,"discord")}get discord(){return this.discord.$get(this,gHe,"discord")}get discord(){return this[L_r]||y((O4r=this.embed(DiscordService),O4r),this,gHe,"discord",L_r,Ht.prototype)}set resend(e){this.resend.$set(e,this,kHe,"resend")}get resend(){return this.resend.$get(this,kHe,"resend")}get resend(){return this[D_r]||y((R4r=this.embed(ResendService),R4r),this,kHe,"resend",D_r,Ht.prototype)}set openai(e){this.openai.$set(e,this,_He,"openai")}get openai(){return this.openai.$get(this,_He,"openai")}get openai(){return this[N_r]||y((M4r=this.embed(OpenAIService),M4r),this,_He,"openai",N_r,Ht.prototype)}set openrouter(e){this.openrouter.$set(e,this,xHe,"openrouter")}get openrouter(){return this.openrouter.$get(this,xHe,"openrouter")}get openrouter(){return this[I_r]||y((L4r=this.embed(OpenRouterService),L4r),this,xHe,"openrouter",I_r,Ht.prototype)}set groq(e){this.groq.$set(e,this,vHe,"groq")}get groq(){return this.groq.$get(this,vHe,"groq")}get groq(){return this[F_r]||y((D4r=this.embed(GroqService),D4r),this,vHe,"groq",F_r,Ht.prototype)}set gemini(e){this.gemini.$set(e,this,wHe,"gemini")}get gemini(){return this.gemini.$get(this,wHe,"gemini")}get gemini(){return this[H_r]||y((N4r=this.embed(GeminiService),N4r),this,wHe,"gemini",H_r,Ht.prototype)}set anthropic(e){this.anthropic.$set(e,this,SHe,"anthropic")}get anthropic(){return this.anthropic.$get(this,SHe,"anthropic")}get anthropic(){return this[B_r]||y((I4r=this.embed(AnthropicService),I4r),this,SHe,"anthropic",B_r,Ht.prototype)}set slack(e){this.slack.$set(e,this,CHe,"slack")}get slack(){return this.slack.$get(this,CHe,"slack")}get slack(){return this[V_r]||y((F4r=this.embed(AppSlack),F4r),this,CHe,"slack",V_r,Ht.prototype)}set linear(e){this.linear.$set(e,this,EHe,"linear")}get linear(){return this.linear.$get(this,EHe,"linear")}get linear(){return this[z_r]||y((H4r=this.embed(LinearService,{workspace:"scrimba"}),H4r),this,EHe,"linear",z_r,Ht.prototype)}set github(e){this.github.$set(e,this,jHe,"github")}get github(){return this.github.$get(this,jHe,"github")}get github(){return this[q_r]||y((B4r=this.embed(GitHubService),B4r),this,jHe,"github",q_r,Ht.prototype)}set scheduler(e){this.scheduler.$set(e,this,AHe,"scheduler")}get scheduler(){return this.scheduler.$get(this,AHe,"scheduler")}get scheduler(){return this[W_r]||y((V4r=this.embed(AppScheduler),V4r),this,AHe,"scheduler",W_r,Ht.prototype)}set legacy(e){this.legacy.$set(e,this,UHe,"legacy")}get legacy(){return this.legacy.$get(this,UHe,"legacy")}get legacy(){return this[Z_r]||y((e_=this.embed(LegacyService),p(e_.g,Function)?e_.g(800.5):e_.g=800.5,p(e_.gr,Function)?e_.gr(ADMIN):e_.gr=ADMIN,e_),this,UHe,"legacy",Z_r,Ht.prototype)}set ai(e){this.ai.$set(e,this,PHe,"ai")}get ai(){return this.ai.$get(this,PHe,"ai")}get ai(){return this[G_r]||y((z4r=this.embed(AI),z4r),this,PHe,"ai",G_r,Ht.prototype)}set seen_all_tickets(e){this.seen_all_tickets.$set(e,this,THe,"seen_all_tickets")}get seen_all_tickets(){return this.seen_all_tickets.$get(this,THe,"seen_all_tickets")}get seen_all_tickets(){return this[Y_r]||y((IB=this.ts(),p(IB.pov,Function)?IB.pov():IB.pov=!0,IB),this,THe,"seen_all_tickets",Y_r,Ht.prototype)}set sidebar_collapsed(e){this.sidebar_collapsed.$set(e,this,OHe,"sidebar_collapsed")}get sidebar_collapsed(){return this.sidebar_collapsed.$get(this,OHe,"sidebar_collapsed")}get sidebar_collapsed(){return this[X_r]||y((Xf=this.bool(),p(Xf.session,Function)?Xf.session():Xf.session=!0,p(Xf.local,Function)?Xf.local():Xf.local=!0,Xf.default=function(){return!1},Xf.default.literal=!1,Xf),this,OHe,"sidebar_collapsed",X_r,Ht.prototype)}set seen_welcome_modal(e){this.seen_welcome_modal.$set(e,this,RHe,"seen_welcome_modal")}get seen_welcome_modal(){return this.seen_welcome_modal.$get(this,RHe,"seen_welcome_modal")}get seen_welcome_modal(){return this[K_r]||y((FB=this.bool(),p(FB.local,Function)?FB.local():FB.local=!0,FB),this,RHe,"seen_welcome_modal",K_r,Ht.prototype)}set seen_mdn_modal(e){this.seen_mdn_modal.$set(e,this,MHe,"seen_mdn_modal")}get seen_mdn_modal(){return this.seen_mdn_modal.$get(this,MHe,"seen_mdn_modal")}get seen_mdn_modal(){return this[J_r]||y((HB=this.bool(),p(HB.local,Function)?HB.local():HB.local=!0,HB),this,MHe,"seen_mdn_modal",J_r,Ht.prototype)}set migrateorgs(e){this.migrateorgs.$set(e,this,LHe,"migrateorgs")}get migrateorgs(){return this.migrateorgs.$get(this,LHe,"migrateorgs")}get migrateorgs(){return this[Q_r]||y((I$=this.action(),p(I$.rx,Function)?I$.rx(ADMIN):I$.rx=ADMIN,p(I$.rpc,Function)?I$.rpc():I$.rpc=!0,I$.callback=!1,I$),this,LHe,"migrateorgs",Q_r,Ht.prototype)}set createorg(e){this.createorg.$set(e,this,DHe,"createorg")}get createorg(){return this.createorg.$get(this,DHe,"createorg")}get createorg(){return this[e4r]||y((F$=this.action(),p(F$.rx,Function)?F$.rx(ADMIN):F$.rx=ADMIN,p(F$.rpc,Function)?F$.rpc():F$.rpc=!0,F$.callback=!1,F$),this,DHe,"createorg",e4r,Ht.prototype)}set upgradetoannual(e){this.upgradetoannual.$set(e,this,NHe,"upgradetoannual")}get upgradetoannual(){return this.upgradetoannual.$get(this,NHe,"upgradetoannual")}get upgradetoannual(){return this[t4r]||y((ep=this.action(),p(ep.atomic,Function)?ep.atomic():ep.atomic=!0,p(ep.g,Function)?ep.g(950):ep.g=950,p(ep.if,Function)?ep.if(function(){var e;return ME.onmonthly&&!((e=ME.activesub)!=null&&e.legacy_id)&&!ME.activesub.trialing&&!p(ME.activesub,PaypalSubscription)}):ep.if=function(){var e;return ME.onmonthly&&!((e=ME.activesub)!=null&&e.legacy_id)&&!ME.activesub.trialing&&!p(ME.activesub,PaypalSubscription)},ep.callback=async function(){return await ME.activesub.upgradetoannual()},ep),this,NHe,"upgradetoannual",t4r,Ht.prototype)}set purgecloudflarecache(e){this.purgecloudflarecache.$set(e,this,IHe,"purgecloudflarecache")}get purgecloudflarecache(){return this.purgecloudflarecache.$get(this,IHe,"purgecloudflarecache")}get purgecloudflarecache(){return this[r4r]||y((tp=this.action(OPString),p(tp.x,Function)?tp.x(ADMIN|TEACHER|OPDEV):tp.x=ADMIN|TEACHER|OPDEV,p(tp.g,Function)?tp.g(801.5):tp.g=801.5,p(tp.rpc,Function)?tp.rpc():tp.rpc=!0,tp.callback=!1,tp),this,IHe,"purgecloudflarecache",r4r,Ht.prototype)}};E(Ht,Bue,"App",88);var VHe=Ht;globalThis.App=VHe;T();oe();We();var zHe=Symbol("showOpenDialog"),W4r=Symbol(),qHe=Symbol("openExternal"),Z4r=Symbol(),WHe=Symbol("id"),G4r=Symbol(),ZHe=Symbol("dialog"),Y4r=Symbol(),GHe=Symbol("shell"),X4r=Symbol(),KC,JC,BB,K4r,J4r,asn=Symbol.for("#owner"),usn=Symbol(),Yue=class Yue extends OPEmbed{set showOpenDialog(e){this.showOpenDialog.$set(e,this,zHe,"showOpenDialog")}get showOpenDialog(){return this.showOpenDialog.$get(this,zHe,"showOpenDialog")}get showOpenDialog(){return this[W4r]||y((KC=this.action(),p(KC.rpc,Function)?KC.rpc():KC.rpc=!0,KC.callback=!1,KC),this,zHe,"showOpenDialog",W4r,Yue.prototype)}};E(Yue,usn,"OPElectronDialog",0);var Zue=Yue;globalThis.OPElectronDialog=Zue;var csn=Symbol(),Xue=class Xue extends OPEmbed{set openExternal(e){this.openExternal.$set(e,this,qHe,"openExternal")}get openExternal(){return this.openExternal.$get(this,qHe,"openExternal")}get openExternal(){return this[Z4r]||y((JC=this.action(),p(JC.rpc,Function)?JC.rpc():JC.rpc=!0,JC.callback=!1,JC),this,qHe,"openExternal",Z4r,Xue.prototype)}};E(Xue,csn,"OPElectronShell",0);var Gue=Xue;globalThis.OPElectronShell=Gue;var Q4r=Symbol(),Z$=class Z$ extends OPObject{constructor(){super(...arguments),re(this,Q4r)}set id(e){this.id.$set(e,this,WHe,"id")}get id(){return this.id.$get(this,WHe,"id")}get id(){return this[G4r]||y((BB=this.key(),p(BB.virtual,Function)?BB.virtual():BB.virtual=!0,BB),this,WHe,"id",G4r,Z$.prototype)}set dialog(e){this.dialog.$set(e,this,ZHe,"dialog")}get dialog(){return this.dialog.$get(this,ZHe,"dialog")}get dialog(){return this[Y4r]||y((K4r=this.embed(Zue),K4r),this,ZHe,"dialog",Y4r,Z$.prototype)}set shell(e){this.shell.$set(e,this,GHe,"shell")}get shell(){return this.shell.$get(this,GHe,"shell")}get shell(){return this[X4r]||y((J4r=this.embed(Gue),J4r),this,GHe,"shell",X4r,Z$.prototype)}get port(){return URL.parse(OP_ELECTRON.origin).port}get store(){var e=this;let t=new OPCommonData;return t.$send=function(r){return e.socket.send(r)},t[asn]=this,t}get socket(){return new OPSocket(this,"/op/ws",{origin:OP_ELECTRON.origin,flushDelay:0,sender:this})}$send(e){return this.socket.send(e)}onmessage(e){return OP.$handle(e,this.socket)}};Z$.prototype[Le]=De,se([ke.bind([])],Z$.prototype,"store",null),se([ke.bind([])],Z$.prototype,"socket",null),E(Z$,Q4r,"OPElectronApp",272);var YHe=Z$;globalThis.OPElectronApp=YHe;T();oe();var XHe=Symbol("message"),e5r=Symbol(),G$;var hsn=Symbol(),Kue=class Kue extends OPEmbed{set message(e){this.message.$set(e,this,XHe,"message")}get message(){return this.message.$get(this,XHe,"message")}get message(){return this[e5r]||y((G$=this.action(),p(G$.rx,Function)?G$.rx(ADMIN):G$.rx=ADMIN,p(G$.rpc,Function)?G$.rpc():G$.rpc=!0,G$.callback=!1,G$),this,XHe,"message",e5r,Kue.prototype)}};E(Kue,hsn,"AppSlack",0);var KHe=Kue;globalThis.AppSlack=KHe;T();oe();We();var JHe=Symbol("lookup"),t5r=Symbol(),QHe=Symbol("import-account"),r5r=Symbol(),QC,eE,o5r=Symbol(),av=class av extends OPEmbed{constructor(){super(...arguments),re(this,o5r)}get octokit(){}set lookup(e){this.lookup.$set(e,this,JHe,"lookup")}get lookup(){return this.lookup.$get(this,JHe,"lookup")}get lookup(){return this[t5r]||y((QC=this.action(),p(QC.rpc,Function)?QC.rpc():QC.rpc=!0,QC.callback=!1,QC),this,JHe,"lookup",t5r,av.prototype)}set importaccount(e){this.importaccount.$set(e,this,QHe,"importaccount")}get importaccount(){return this.importaccount.$get(this,QHe,"importaccount")}get importaccount(){return this[r5r]||y((eE=this.action(),p(eE.rpc,Function)?eE.rpc():eE.rpc=!0,eE.callback=!1,eE),this,QHe,"importaccount",r5r,av.prototype)}};av.prototype[Le]=De,se([ke.bind([])],av.prototype,"octokit",null),E(av,o5r,"GitHubService",272);var eBe=av;globalThis.GitHubService=eBe;T();oe();var tBe=Symbol("client_id"),n5r=Symbol(),rBe=Symbol("guild_id"),i5r=Symbol(),oBe=Symbol("client_secret"),s5r=Symbol(),nBe=Symbol("token"),l5r=Symbol(),iBe=Symbol("init"),a5r=Symbol(),sBe=Symbol("on-bot-ready"),u5r=Symbol(),lBe=Symbol("register-metadata"),c5r=Symbol(),aBe=Symbol("register-commands"),h5r=Symbol(),uBe=Symbol("bot-message"),p5r=Symbol(),cBe=Symbol("find-member-by-user"),d5r=Symbol(),hBe=Symbol("role-for"),f5r=Symbol(),pBe=Symbol("grant-role"),m5r=Symbol(),dBe=Symbol("sync-scrimbassadors"),$5r=Symbol(),fBe=Symbol("bot-react"),y5r=Symbol(),mBe=Symbol("bot-thread"),b5r=Symbol(),$Be=Symbol("revoke-role"),g5r=Symbol(),yBe=Symbol("bot-interaction"),k5r=Symbol(),t_,VB,r_,o_,Y$,X$,K$,$Zn=le("&.json!",globalThis,l=>l.json()),J$,Q$,ey,ty,ry,np,oy,ny,iy,sy,_5r=Symbol(),Yi=class Yi extends OPEmbed{constructor(){super(...arguments),super[A]||this[A](),re(this,_5r)}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.guild=e?e.guild:void 0,this.botready=e?e.botready:void 0}set client_id(e){this.client_id.$set(e,this,tBe,"client_id")}get client_id(){return this.client_id.$get(this,tBe,"client_id")}get client_id(){return this[n5r]||y((t_=this.string(),p(t_.encrypted,Function)?t_.encrypted():t_.encrypted=!0,p(t_.rw,Function)?t_.rw(ADMIN):t_.rw=ADMIN,t_),this,tBe,"client_id",n5r,Yi.prototype)}set guild_id(e){this.guild_id.$set(e,this,rBe,"guild_id")}get guild_id(){return this.guild_id.$get(this,rBe,"guild_id")}get guild_id(){return this[i5r]||y((VB=this.string(),p(VB.rw,Function)?VB.rw(ADMIN):VB.rw=ADMIN,VB),this,rBe,"guild_id",i5r,Yi.prototype)}set client_secret(e){this.client_secret.$set(e,this,oBe,"client_secret")}get client_secret(){return this.client_secret.$get(this,oBe,"client_secret")}get client_secret(){return this[s5r]||y((r_=this.string(),p(r_.encrypted,Function)?r_.encrypted():r_.encrypted=!0,p(r_.rw,Function)?r_.rw(ADMIN):r_.rw=ADMIN,r_),this,oBe,"client_secret",s5r,Yi.prototype)}set token(e){this.token.$set(e,this,nBe,"token")}get token(){return this.token.$get(this,nBe,"token")}get token(){return this[l5r]||y((o_=this.string(),p(o_.encrypted,Function)?o_.encrypted():o_.encrypted=!0,p(o_.rw,Function)?o_.rw(ADMIN):o_.rw=ADMIN,o_),this,nBe,"token",l5r,Yi.prototype)}set init(e){this.init.$set(e,this,iBe,"init")}get init(){return this.init.$get(this,iBe,"init")}get init(){return this[a5r]||y((Y$=this.action(),p(Y$.rx,Function)?Y$.rx(ADMIN):Y$.rx=ADMIN,p(Y$.rpc,Function)?Y$.rpc():Y$.rpc=!0,Y$.callback=!1,Y$),this,iBe,"init",a5r,Yi.prototype)}set onbotready(e){this.onbotready.$set(e,this,sBe,"onbotready")}get onbotready(){return this.onbotready.$get(this,sBe,"onbotready")}get onbotready(){return this[u5r]||y((X$=this.action(),p(X$.rx,Function)?X$.rx(ADMIN):X$.rx=ADMIN,p(X$.rpc,Function)?X$.rpc():X$.rpc=!0,X$.callback=!1,X$),this,sBe,"onbotready",u5r,Yi.prototype)}set registermetadata(e){this.registermetadata.$set(e,this,lBe,"registermetadata")}get registermetadata(){return this.registermetadata.$get(this,lBe,"registermetadata")}get registermetadata(){return this[c5r]||y((K$=this.action(),p(K$.rx,Function)?K$.rx(ADMIN):K$.rx=ADMIN,p(K$.rpc,Function)?K$.rpc():K$.rpc=!0,K$.callback=!1,K$),this,lBe,"registermetadata",c5r,Yi.prototype)}set registercommands(e){this.registercommands.$set(e,this,aBe,"registercommands")}get registercommands(){return this.registercommands.$get(this,aBe,"registercommands")}get registercommands(){return this[h5r]||y((J$=this.action(),p(J$.rx,Function)?J$.rx(ADMIN):J$.rx=ADMIN,p(J$.rpc,Function)?J$.rpc():J$.rpc=!0,J$.callback=!1,J$),this,aBe,"registercommands",h5r,Yi.prototype)}set botmessage(e){this.botmessage.$set(e,this,uBe,"botmessage")}get botmessage(){return this.botmessage.$get(this,uBe,"botmessage")}get botmessage(){return this[p5r]||y((Q$=this.action(),p(Q$.rx,Function)?Q$.rx(ADMIN):Q$.rx=ADMIN,p(Q$.rpc,Function)?Q$.rpc():Q$.rpc=!0,Q$.callback=!1,Q$),this,uBe,"botmessage",p5r,Yi.prototype)}set findmemberbyuser(e){this.findmemberbyuser.$set(e,this,cBe,"findmemberbyuser")}get findmemberbyuser(){return this.findmemberbyuser.$get(this,cBe,"findmemberbyuser")}get findmemberbyuser(){return this[d5r]||y((ey=this.action(),p(ey.rx,Function)?ey.rx(ADMIN):ey.rx=ADMIN,p(ey.rpc,Function)?ey.rpc():ey.rpc=!0,ey.callback=!1,ey),this,cBe,"findmemberbyuser",d5r,Yi.prototype)}set rolefor(e){this.rolefor.$set(e,this,hBe,"rolefor")}get rolefor(){return this.rolefor.$get(this,hBe,"rolefor")}get rolefor(){return this[f5r]||y((ty=this.action(),p(ty.rx,Function)?ty.rx(ADMIN):ty.rx=ADMIN,p(ty.rpc,Function)?ty.rpc():ty.rpc=!0,ty.callback=!1,ty),this,hBe,"rolefor",f5r,Yi.prototype)}set grantrole(e){this.grantrole.$set(e,this,pBe,"grantrole")}get grantrole(){return this.grantrole.$get(this,pBe,"grantrole")}get grantrole(){return this[m5r]||y((ry=this.action(),p(ry.rx,Function)?ry.rx(ADMIN):ry.rx=ADMIN,p(ry.rpc,Function)?ry.rpc():ry.rpc=!0,ry.callback=!1,ry),this,pBe,"grantrole",m5r,Yi.prototype)}set syncscrimbassadors(e){this.syncscrimbassadors.$set(e,this,dBe,"syncscrimbassadors")}get syncscrimbassadors(){return this.syncscrimbassadors.$get(this,dBe,"syncscrimbassadors")}get syncscrimbassadors(){return this[$5r]||y((np=this.action(),p(np.atomic,Function)?np.atomic():np.atomic=!0,p(np.rx,Function)?np.rx(ADMIN):np.rx=ADMIN,p(np.rpc,Function)?np.rpc():np.rpc=!0,np.callback=!1,np),this,dBe,"syncscrimbassadors",$5r,Yi.prototype)}set botreact(e){this.botreact.$set(e,this,fBe,"botreact")}get botreact(){return this.botreact.$get(this,fBe,"botreact")}get botreact(){return this[y5r]||y((oy=this.action(),p(oy.rx,Function)?oy.rx(ADMIN):oy.rx=ADMIN,p(oy.rpc,Function)?oy.rpc():oy.rpc=!0,oy.callback=!1,oy),this,fBe,"botreact",y5r,Yi.prototype)}set botthread(e){this.botthread.$set(e,this,mBe,"botthread")}get botthread(){return this.botthread.$get(this,mBe,"botthread")}get botthread(){return this[b5r]||y((ny=this.action(),p(ny.rx,Function)?ny.rx(ADMIN):ny.rx=ADMIN,p(ny.rpc,Function)?ny.rpc():ny.rpc=!0,ny.callback=!1,ny),this,mBe,"botthread",b5r,Yi.prototype)}set revokerole(e){this.revokerole.$set(e,this,$Be,"revokerole")}get revokerole(){return this.revokerole.$get(this,$Be,"revokerole")}get revokerole(){return this[g5r]||y((iy=this.action(),p(iy.rx,Function)?iy.rx(ADMIN):iy.rx=ADMIN,p(iy.rpc,Function)?iy.rpc():iy.rpc=!0,iy.callback=!1,iy),this,$Be,"revokerole",g5r,Yi.prototype)}set botinteraction(e){this.botinteraction.$set(e,this,yBe,"botinteraction")}get botinteraction(){return this.botinteraction.$get(this,yBe,"botinteraction")}get botinteraction(){return this[k5r]||y((sy=this.action(),p(sy.rx,Function)?sy.rx(ADMIN):sy.rx=ADMIN,p(sy.rpc,Function)?sy.rpc():sy.rpc=!0,sy.callback=!1,sy),this,yBe,"botinteraction",k5r,Yi.prototype)}};E(Yi,_5r,"DiscordService",16);var bBe=Yi;globalThis.DiscordService=bBe;T();oe();var gBe=Symbol("api_key"),x5r=Symbol(),n_,psn=Symbol(),Jue=class Jue extends OPEmbed{set api_key(e){this.api_key.$set(e,this,gBe,"api_key")}get api_key(){return this.api_key.$get(this,gBe,"api_key")}get api_key(){return this[x5r]||y((n_=this.string(),p(n_.encrypted,Function)?n_.encrypted():n_.encrypted=!0,p(n_.rw,Function)?n_.rw(ADMIN):n_.rw=ADMIN,n_),this,gBe,"api_key",x5r,Jue.prototype)}get api(){throw new Error("Can't access groq from the client")}};E(Jue,psn,"GroqService",0);var kBe=Jue;globalThis.GroqService=kBe;T();oe();var _Be=Symbol("api_key"),v5r=Symbol(),xBe=Symbol("default_team"),w5r=Symbol(),vBe=Symbol("workspace"),S5r=Symbol(),wBe=Symbol("push"),C5r=Symbol(),SBe=Symbol("ref"),E5r=Symbol(),CBe=Symbol("synced"),j5r=Symbol(),EBe=Symbol("identifier"),A5r=Symbol(),jBe=Symbol("open-in-linear"),U5r=Symbol(),ABe=Symbol("push-to-linear"),P5r=Symbol(),UBe=Symbol("linear"),T5r=Symbol(),i_,O5r,R5r,tE,M5r,L5r,D5r,ip,ly,Td,dsn=Symbol(),uv=class uv extends OPEmbed{set api_key(e){this.api_key.$set(e,this,_Be,"api_key")}get api_key(){return this.api_key.$get(this,_Be,"api_key")}get api_key(){return this[v5r]||y((i_=this.string(),p(i_.encrypted,Function)?i_.encrypted():i_.encrypted=!0,p(i_.rw,Function)?i_.rw(ADMIN):i_.rw=ADMIN,i_),this,_Be,"api_key",v5r,uv.prototype)}set default_team(e){this.default_team.$set(e,this,xBe,"default_team")}get default_team(){return this.default_team.$get(this,xBe,"default_team")}get default_team(){return this[w5r]||y((O5r=this.string(),O5r),this,xBe,"default_team",w5r,uv.prototype)}set workspace(e){this.workspace.$set(e,this,vBe,"workspace")}get workspace(){return this.workspace.$get(this,vBe,"workspace")}get workspace(){return this[S5r]||y((R5r=this.string(),R5r),this,vBe,"workspace",S5r,uv.prototype)}get api(){throw new Error("Can't access linear from the client")}set push(e){this.push.$set(e,this,wBe,"push")}get push(){return this.push.$get(this,wBe,"push")}get push(){return this[C5r]||y((tE=this.action(),p(tE.rpc,Function)?tE.rpc():tE.rpc=!0,tE.callback=!1,tE),this,wBe,"push",C5r,uv.prototype)}};E(uv,dsn,"LinearService",0);var PBe=uv;globalThis.LinearService=PBe;var fsn=Symbol(),s_=class s_ extends OPEmbed{set ref(e){this.ref.$set(e,this,SBe,"ref")}get ref(){return this.ref.$get(this,SBe,"ref")}get ref(){return this[E5r]||y((M5r=this.string(),M5r),this,SBe,"ref",E5r,s_.prototype)}set synced(e){this.synced.$set(e,this,CBe,"synced")}get synced(){return this.synced.$get(this,CBe,"synced")}get synced(){return this[j5r]||y((L5r=this.ts(),L5r),this,CBe,"synced",j5r,s_.prototype)}set identifier(e){this.identifier.$set(e,this,EBe,"identifier")}get identifier(){return this.identifier.$get(this,EBe,"identifier")}get identifier(){return this[A5r]||y((D5r=this.string(),D5r),this,EBe,"identifier",A5r,s_.prototype)}get integration(){return APP.linear}opownstat(){return this.ref?super.opownstat(...arguments):null}get aslinearurl(){return"https://linear.app/"+this.integration.workspace+"/issue/"+this.identifier}set openinlinear(e){this.openinlinear.$set(e,this,jBe,"openinlinear")}get openinlinear(){return this.openinlinear.$get(this,jBe,"openinlinear")}get openinlinear(){return this[U5r]||y((ip=this.action(),p(ip.rx,Function)?ip.rx(ADMIN):ip.rx=ADMIN,p(ip.g,Function)?ip.g(800):ip.g=800,p(ip.if,Function)?ip.if(function(){return this.identifier}):ip.if=function(){return this.identifier},ip.callback=function(){let e=this.aslinearurl;return window.open(e,"_blank")},ip),this,jBe,"openinlinear",U5r,s_.prototype)}set pushtolinear(e){this.pushtolinear.$set(e,this,ABe,"pushtolinear")}get pushtolinear(){return this.pushtolinear.$get(this,ABe,"pushtolinear")}get pushtolinear(){return this[P5r]||y((ly=this.action(),p(ly.rx,Function)?ly.rx(ADMIN):ly.rx=ADMIN,p(ly.g,Function)?ly.g(800):ly.g=800,ly.callback=async function(){return await APP.linear.push(this.$root)},ly),this,ABe,"pushtolinear",P5r,s_.prototype)}};E(s_,fsn,"LinearSync",8);var Que=s_;globalThis.LinearSync=Que;var msn=Symbol(),ece=class ece extends OPMixin{set linear(e){this.linear.$set(e,this,UBe,"linear")}get linear(){return this.linear.$get(this,UBe,"linear")}get linear(){return this[T5r]||y((Td=this.embed(Que),p(Td.stat,Function)?Td.stat(800):Td.stat=800,p(Td.g,Function)?Td.g(800):Td.g=800,p(Td.gr,Function)?Td.gr(ADMIN):Td.gr=ADMIN,Td),this,UBe,"linear",T5r,ece.prototype)}};E(ece,msn,"LinearItem",1024);var TBe=ece;globalThis.LinearItem=TBe;T();oe();var OBe=Symbol("api_key"),N5r=Symbol(),RBe=Symbol("api_key"),I5r=Symbol(),l_,a_,$sn=Symbol(),tce=class tce extends OPEmbed{set api_key(e){this.api_key.$set(e,this,OBe,"api_key")}get api_key(){return this.api_key.$get(this,OBe,"api_key")}get api_key(){return this[N5r]||y((l_=this.string(),p(l_.encrypted,Function)?l_.encrypted():l_.encrypted=!0,p(l_.rw,Function)?l_.rw(ADMIN):l_.rw=ADMIN,l_),this,OBe,"api_key",N5r,tce.prototype)}};E(tce,$sn,"OpenAIService",0);var MBe=tce;globalThis.OpenAIService=MBe;var ysn=Symbol(),rce=class rce extends OPEmbed{set api_key(e){this.api_key.$set(e,this,RBe,"api_key")}get api_key(){return this.api_key.$get(this,RBe,"api_key")}get api_key(){return this[I5r]||y((a_=this.string(),p(a_.encrypted,Function)?a_.encrypted():a_.encrypted=!0,p(a_.rw,Function)?a_.rw(ADMIN):a_.rw=ADMIN,a_),this,RBe,"api_key",I5r,rce.prototype)}};E(rce,ysn,"OpenRouterService",0);var LBe=rce;globalThis.OpenRouterService=LBe;T();oe();var DBe=Symbol("api_key"),F5r=Symbol(),u_,bsn=Symbol(),oce=class oce extends OPEmbed{set api_key(e){this.api_key.$set(e,this,DBe,"api_key")}get api_key(){return this.api_key.$get(this,DBe,"api_key")}get api_key(){return this[F5r]||y((u_=this.string(),p(u_.encrypted,Function)?u_.encrypted():u_.encrypted=!0,p(u_.rw,Function)?u_.rw(ADMIN):u_.rw=ADMIN,u_),this,DBe,"api_key",F5r,oce.prototype)}get api(){throw new Error("Can't access anthropic from the client")}};E(oce,bsn,"AnthropicService",0);var NBe=oce;globalThis.AnthropicService=NBe;T();oe();var IBe=Symbol("api_key"),H5r=Symbol(),c_,gsn=Symbol(),nce=class nce extends OPEmbed{set api_key(e){this.api_key.$set(e,this,IBe,"api_key")}get api_key(){return this.api_key.$get(this,IBe,"api_key")}get api_key(){return this[H5r]||y((c_=this.string(),p(c_.encrypted,Function)?c_.encrypted():c_.encrypted=!0,p(c_.rw,Function)?c_.rw(ADMIN):c_.rw=ADMIN,c_),this,IBe,"api_key",H5r,nce.prototype)}get api(){throw new Error("Can't access gemini from the client")}};E(nce,gsn,"GeminiService",0);var FBe=nce;globalThis.GeminiService=FBe;T();oe();var HBe=Symbol("api_key"),B5r=Symbol(),BBe=Symbol("email"),V5r=Symbol(),h_,ay;var ksn=Symbol(),zB=class zB extends OPEmbed{set api_key(e){this.api_key.$set(e,this,HBe,"api_key")}get api_key(){return this.api_key.$get(this,HBe,"api_key")}get api_key(){return this[B5r]||y((h_=this.string(),p(h_.encrypted,Function)?h_.encrypted():h_.encrypted=!0,p(h_.rw,Function)?h_.rw(ADMIN):h_.rw=ADMIN,h_),this,HBe,"api_key",B5r,zB.prototype)}get api(){throw new Error("Can't access resend from the client")}set email(e){this.email.$set(e,this,BBe,"email")}get email(){return this.email.$get(this,BBe,"email")}get email(){return this[V5r]||y((ay=this.action(),p(ay.rx,Function)?ay.rx(ADMIN):ay.rx=ADMIN,p(ay.rpc,Function)?ay.rpc():ay.rpc=!0,ay.callback=!1,ay),this,BBe,"email",V5r,zB.prototype)}};E(zB,ksn,"ResendService",0);var VBe=zB;globalThis.ResendService=VBe;T();oe();var zBe=Symbol("api_key"),z5r=Symbol(),qBe=Symbol("_fetch"),q5r=Symbol(),WBe=Symbol("fetch"),W5r=Symbol();var ZBe=Symbol("rates-for"),Z5r=Symbol(),GBe=Symbol("currency"),G5r=Symbol(),YBe=Symbol("id"),Y5r=Symbol(),XBe=Symbol("base"),X5r=Symbol(),KBe=Symbol("rates"),K5r=Symbol(),JBe=Symbol("date"),J5r=Symbol(),qB=Symbol(),WB=Symbol(),QBe=Symbol(),p_,uy,IZn=le("&.json!",globalThis,l=>l.json()),cy,hy,Q5r,d_,ZB,e3r,GB,_sn=Symbol(),tVe=class tVe{get roundedutc(){return new Date(this.toISOString().slice(0,10))}};E(tVe,_sn,"Date",1,Date);var t3r=tVe,xsn=Symbol(),cv=class cv extends OPEmbed{set api_key(e){this.api_key.$set(e,this,zBe,"api_key")}get api_key(){return this.api_key.$get(this,zBe,"api_key")}get api_key(){return this[z5r]||y((p_=this.string(),p(p_.encrypted,Function)?p_.encrypted():p_.encrypted=!0,p(p_.rw,Function)?p_.rw(ADMIN):p_.rw=ADMIN,p_),this,zBe,"api_key",z5r,cv.prototype)}set _fetch(e){this._fetch.$set(e,this,qBe,"_fetch")}get _fetch(){return this._fetch.$get(this,qBe,"_fetch")}get _fetch(){return this[q5r]||y((uy=this.action(),p(uy.rx,Function)?uy.rx(ADMIN):uy.rx=ADMIN,p(uy.rpc,Function)?uy.rpc():uy.rpc=!0,uy.callback=!1,uy),this,qBe,"_fetch",q5r,cv.prototype)}set fetch(e){this.fetch.$set(e,this,WBe,"fetch")}get fetch(){return this.fetch.$get(this,WBe,"fetch")}get fetch(){return this[W5r]||y((cy=this.action(),p(cy.rx,Function)?cy.rx(ADMIN):cy.rx=ADMIN,p(cy.rpc,Function)?cy.rpc():cy.rpc=!0,cy.callback=!1,cy),this,WBe,"fetch",W5r,cv.prototype)}set ratesfor(e){this.ratesfor.$set(e,this,ZBe,"ratesfor")}get ratesfor(){return this.ratesfor.$get(this,ZBe,"ratesfor")}get ratesfor(){return this[Z5r]||y((hy=this.action(),p(hy.rx,Function)?hy.rx(ANYONE):hy.rx=ANYONE,p(hy.rpc,Function)?hy.rpc():hy.rpc=!0,hy.callback=!1,hy),this,ZBe,"ratesfor",Z5r,cv.prototype)}};E(cv,xsn,"CurrencyService",0);var ice=cv;globalThis.CurrencyService=ice;var vsn=Symbol(),rVe=class rVe{set currency(e){this.currency.$set(e,this,GBe,"currency")}get currency(){return this.currency.$get(this,GBe,"currency")}get currency(){return this[G5r]||y((Q5r=this.embed(ice),Q5r),this,GBe,"currency",G5r,App.prototype)}};E(rVe,vsn,"App",1,App);var r3r=rVe,wsn=Symbol(),f_=class f_ extends OPObject{set id(e){this.id.$set(e,this,YBe,"id")}get id(){return this.id.$get(this,YBe,"id")}get id(){return this[Y5r]||y((d_=this.key(),p(d_.r,Function)?d_.r(ANYONE):d_.r=ANYONE,p(d_.wxcd,Function)?d_.wxcd(ADMIN):d_.wxcd=ADMIN,d_),this,YBe,"id",Y5r,f_.prototype)}set base(e){this.base.$set(e,this,XBe,"base")}get base(){return this.base.$get(this,XBe,"base")}get base(){return this[X5r]||y((ZB=this.currency(),p(ZB.composite,Function)?ZB.composite():ZB.composite=!0,ZB),this,XBe,"base",X5r,f_.prototype)}set rates(e){this.rates.$set(e,this,KBe,"rates")}get rates(){return this.rates.$get(this,KBe,"rates")}get rates(){return this[K5r]||y((e3r=this.json(),e3r),this,KBe,"rates",K5r,f_.prototype)}set date(e){this.date.$set(e,this,JBe,"date")}get date(){return this.date.$get(this,JBe,"date")}get date(){return this[J5r]||y((GB=this.ts(),p(GB.composite,Function)?GB.composite():GB.composite=!0,GB),this,JBe,"date",J5r,f_.prototype)}};f_.pgfunctions=!1,E(f_,wsn,"ExchangeRatesDate",0);var eVe=f_;globalThis.ExchangeRatesDate=eVe;var Ssn=Symbol(),oVe=class oVe{usd(e){var t=gt(this),r=this;if(t[qB]??={},t[WB]??=OPMoney.getamount(NaN,"usd"),!(this.currency&&this.amount))return t[WB];let o=this.currency.upper;if(o=="USD")return this;if(!p(e,Date))return t[WB];e=e.roundedutc;let n=e.toISOString();return t[qB][n]?t[qB][n]:(t[qB][n]=t[WB],APP.currency.ratesfor(e).then(function(i){let s;try{s=i.rates[o]}catch{}let a=r.mainamount*100/Number(s);return t[qB][n]=OPMoney.getamount(a,"usd"),Cr()}),t[WB])}async tousd(e){var t=gt(this);t[QBe]??=OPMoney.getamount(NaN,"usd");let r=this.currency.upper;if(r=="USD")return this;if(!p(e,Date))return t[QBe];e=e.roundedutc;try{let{rates:o}=await APP.currency.ratesfor(e),n=Number(o[r]),i=this.mainamount*100/n;return OPMoney.getamount(i,"usd")}catch{return t[QBe]}}};E(oVe,Ssn,"OPMoney",1,OPMoney);var o3r=oVe;T();oe();ge(),En(),dt(),$e();var nVe=Symbol("via_link"),n3r=Symbol(),iVe=Symbol("via_user"),i3r=Symbol(),sVe=Symbol("open"),s3r=Symbol(),lVe=Symbol("primary?"),l3r=Symbol(),aVe=Symbol("make-primary"),a3r=Symbol(),uVe=Symbol("remove"),u3r=Symbol(),cVe=Symbol("remove-srv"),c3r=Symbol(),hVe=Symbol("team_marked"),h3r=Symbol(),pVe=Symbol("user"),p3r=Symbol(),dVe=Symbol("github_id"),d3r=Symbol(),fVe=Symbol("github_verified"),f3r=Symbol(),mVe=Symbol("verified"),m3r=Symbol(),$Ve=Symbol("google_id"),$3r=Symbol(),yVe=Symbol("pro"),y3r=Symbol(),bVe=Symbol("google"),b3r=Symbol(),gVe=Symbol("email"),g3r=Symbol(),kVe=Symbol("website"),k3r=Symbol(),_Ve=Symbol("copy"),_3r=Symbol(),xVe,vVe,rE,wVe,sp,Da,py,Od,sce=Symbol();var SVe=Symbol(),x3r=Symbol(),oE=Symbol(),Csn=Symbol(),lce=Symbol();var CVe=Symbol(),v3r=Symbol(),m_,w3r,S3r,C3r,E3r,nE,dy,fy,my,$y,ace=Symbol(),YB=Symbol(),Esn=Symbol(),XB=Symbol(),jsn=Symbol(),KB=Symbol(),Asn=Symbol(),JB=Symbol(),Usn=Symbol(),uce=Symbol(),j3r=Symbol(),Psn=Symbol(),Tsn=Symbol(),Osn=Symbol(),Rsn=Symbol(),A3r=Symbol(),U3r=Symbol(),EVe=Symbol(),jVe=Symbol(),yy=Symbol.for("##up"),iE=Symbol.for("##register"),AVe=Symbol.for("#getSlot"),by=Symbol.for("#getRenderContext"),gy=Symbol.for("#isRichElement"),rh=Symbol.for("#afterVisit"),QB=Symbol.for("#appendChild"),eV=Symbol.for("#replaceChild"),P3r=Symbol.for("#placeChild"),Msn=Symbol(),UVe=class UVe{set via_link(e){this.via_link.$set(e,this,nVe,"via_link")}get via_link(){return this.via_link.$get(this,nVe,"via_link")}get via_link(){return this[n3r]||y((xVe=this.get(),xVe.callback=function(){var e;return OP.get((e=this.user)==null?void 0:e.via)},xVe),this,nVe,"via_link",n3r,OPEmail.prototype)}set via_user(e){this.via_user.$set(e,this,iVe,"via_user")}get via_user(){return this.via_user.$get(this,iVe,"via_user")}get via_user(){return this[i3r]||y((vVe=this.get(),vVe.callback=function(){var e;return OP.get((e=this.user)==null?void 0:e.via_user)},vVe),this,iVe,"via_user",i3r,OPEmail.prototype)}set open(e){this.open.$set(e,this,sVe,"open")}get open(){return this.open.$get(this,sVe,"open")}get open(){return this[s3r]||y((rE=this.action(),p(rE.rx,Function)?rE.rx(OWNER|ADMIN):rE.rx=OWNER|ADMIN,rE.callback=function(e){return((e==null?void 0:e.originalEvent)||e).opmenu(this)},rE),this,sVe,"open",s3r,OPEmail.prototype)}set primary(e){this.primary.$set(e,this,lVe,"primary")}get primary(){return this.primary.$get(this,lVe,"primary")}get primary(){return this[l3r]||y((wVe=this.get(),wVe.callback=function(){var e;return((e=this.user)==null?void 0:e.email)==this},wVe),this,lVe,"primary",l3r,OPEmail.prototype)}set makeprimary(e){this.makeprimary.$set(e,this,aVe,"makeprimary")}get makeprimary(){return this.makeprimary.$get(this,aVe,"makeprimary")}get makeprimary(){return this[a3r]||y((sp=this.action(),p(sp.rx,Function)?sp.rx(OWNER):sp.rx=OWNER,p(sp.g,Function)?sp.g(1):sp.g=1,p(sp.if,Function)?sp.if(function(){return!this.primary}):sp.if=function(){return!this.primary},sp.callback=async function(){if(!this.user)throw new OPError("Error updating email, please create a feedback ticket");return await this.user.update({email:this})},sp),this,aVe,"makeprimary",a3r,OPEmail.prototype)}set remove(e){this.remove.$set(e,this,uVe,"remove")}get remove(){return this.remove.$get(this,uVe,"remove")}get remove(){return this[u3r]||y((Da=this.action(),p(Da.rx,Function)?Da.rx(OWNER):Da.rx=OWNER,p(Da.g,Function)?Da.g(2):Da.g=2,p(Da.if,Function)?Da.if(function(){return!this.primary}):Da.if=function(){return!this.primary},p(Da.confirm,Function)?Da.confirm():Da.confirm=!0,Da.callback=function(){return this.destroy(),!0},Da),this,uVe,"remove",u3r,OPEmail.prototype)}set removesrv(e){this.removesrv.$set(e,this,cVe,"removesrv")}get removesrv(){return this.removesrv.$get(this,cVe,"removesrv")}get removesrv(){return this[c3r]||y((py=this.action(),p(py.rx,Function)?py.rx(OWNER|ADMIN):py.rx=OWNER|ADMIN,p(py.if,Function)?py.if(function(){return!this.primary}):py.if=function(){return!this.primary},py.callback=function(){var e=this;return OP.sudo(function(){return e.realdeletedangerous()})},py),this,cVe,"removesrv",c3r,OPEmail.prototype)}set team_marked(e){this.team_marked.$set(e,this,hVe,"team_marked")}get team_marked(){return this.team_marked.$get(this,hVe,"team_marked")}get team_marked(){return this[h3r]||y((Od=this.bool(),p(Od.f,Function)?Od.f():Od.f=!0,p(Od.hue,Function)?Od.hue("blue"):Od.hue="blue",p(Od.rw,Function)?Od.rw(ADMIN):Od.rw=ADMIN,Od),this,hVe,"team_marked",h3r,OPEmail.prototype)}opteam_markedstat(){var d;var e=this,t=H(),r,o,n,i,s,a,u,c,h;return t.this=this,o=n=1,(r=t[sce])||(o=n=0,r=t[sce]=r=R("op-stat",null,"y-af",null)),o||(r[yy]=t._),o||((d=r[iE])==null||d.call(r,t,sce)),i=r[AVe]("__",r),s=!!this.team_marked||void 0,s===r[SVe]||(n|=2,r[SVe]=s),s=this.$.team_marked,s===r[x3r]||(r.data=r[x3r]=s),o||r.on$("pointerdown",{trap:!0,$_:[function(f,m){return t.this.$.team_marked.toggle(f)}]},this),o||r.on$("click",{trap:!0},this),n&2&&r.flag$("y-af "+(r[SVe]?"on":"")),a=r[by](Csn),c=h=1,(u=a.run(this.oicon(this.$.team_marked)))||(c=h=0,a.cache(u=M(a.value,i,"y_af",null))),u[gy]&&((!c||h&2)&&u.flags.reconcile(oE,"y_af"),c||!u.setup||u.setup(h,a),u[rh](h)),u==r[oE]||!r[oE]&&i[QB](r[oE]=u)||(i[eV](u,r[oE]),r[oE]=u),o||t.sym||!r.setup||r.setup(n,t,sce),t.sym||r[rh](n),r}opteam_markedicon(){var s;var e=this,t=H(),r,o,n,i;return t.this=this,o=n=1,(r=t[lce])||(o=n=0,r=t[lce]=r=R("op-icon",null,"y-ah",null)),o||(r[yy]=t._),o||((s=r[iE])==null||s.call(r,t,lce)),i=this.team_marked||void 0,i===r[CVe]||(n|=2,r[CVe]=i),i=this.team_marked?"mark_on":"mark_off",i===r[v3r]||(r.data=r[v3r]=i),o||r.on$("click",{stop:!0,$_:[function(a,u){return t.this.$.team_marked.toggle(a)}]},this),n&2&&r.flag$("y-ah "+(r[CVe]?"on":"")),o||t.sym||!r.setup||r.setup(n,t,lce),t.sym||r[rh](n),r}get aslabel(){return this.id}set user(e){this.user.$set(e,this,pVe,"user")}get user(){return this.user.$get(this,pVe,"user")}get user(){return this[p3r]||y((m_=this.parent(User),p(m_.as,Function)?m_.as(OPOWNER):m_.as=OPOWNER,p(m_.stat,Function)?m_.stat():m_.stat=!0,m_),this,pVe,"user",p3r,OPEmail.prototype)}set github_id(e){this.github_id.$set(e,this,dVe,"github_id")}get github_id(){return this.github_id.$get(this,dVe,"github_id")}get github_id(){return this[d3r]||y((w3r=this.number(),w3r),this,dVe,"github_id",d3r,OPEmail.prototype)}set github_verified(e){this.github_verified.$set(e,this,fVe,"github_verified")}get github_verified(){return this.github_verified.$get(this,fVe,"github_verified")}get github_verified(){return this[f3r]||y((S3r=this.bool(),S3r),this,fVe,"github_verified",f3r,OPEmail.prototype)}set verified(e){this.verified.$set(e,this,mVe,"verified")}get verified(){return this.verified.$get(this,mVe,"verified")}get verified(){return this[m3r]||y((C3r=this.bool(),C3r),this,mVe,"verified",m3r,OPEmail.prototype)}set google_id(e){this.google_id.$set(e,this,$Ve,"google_id")}get google_id(){return this.google_id.$get(this,$Ve,"google_id")}get google_id(){return this[$3r]||y((E3r=this.string(),E3r),this,$Ve,"google_id",$3r,OPEmail.prototype)}set pro(e){this.pro.$set(e,this,yVe,"pro")}get pro(){return this.pro.$get(this,yVe,"pro")}get pro(){return this[y3r]||y((nE=this.memo(),p(nE.stat,Function)?nE.stat():nE.stat=!0,nE.callback=function(){var e;return(e=this.user)==null?void 0:e.pro},nE),this,yVe,"pro",y3r,OPEmail.prototype)}get academia(){return/^.*@.*\.(edu(\.[a-z]{2,3})?|edu\.[a-z]{2,3}\.[a-z]{2,3}|ac\.[a-z]{2,3}|(school|sch|uni)\.[a-z]{2,3}|.*school.*\.[a-z]{2,3}|.*student.*\.[a-z]{2,3}|uni\.[a-z]{2,3})$/.test(this.id)?!0:/^.*student.*@scrimba\.com/.test(this.id)}set google(e){this.google.$set(e,this,bVe,"google")}get google(){return this.google.$get(this,bVe,"google")}get google(){return this[b3r]||y((dy=this.action(),p(dy.rx,Function)?dy.rx(ADMIN):dy.rx=ADMIN,p(dy.g,Function)?dy.g(0):dy.g=0,dy.callback=async function(){var t,r,o;let e=this.id;return await this.user,(o=(r=(t=this.user)==null?void 0:t.name)==null?void 0:r.trim)!=null&&o.call(r)&&(e+=" "+this.user.name),window.open("https://www.google.com/search?q="+globalThis.encodeURIComponent(e))},dy),this,bVe,"google",b3r,OPEmail.prototype)}set email(e){this.email.$set(e,this,gVe,"email")}get email(){return this.email.$get(this,gVe,"email")}get email(){return this[g3r]||y((fy=this.action(),p(fy.rx,Function)?fy.rx(ADMIN):fy.rx=ADMIN,p(fy.g,Function)?fy.g(1):fy.g=1,fy.callback=function(){return window.open("mailto:"+this.id)},fy),this,gVe,"email",g3r,OPEmail.prototype)}set website(e){this.website.$set(e,this,kVe,"website")}get website(){return this.website.$get(this,kVe,"website")}get website(){return this[k3r]||y((my=this.action(),p(my.rx,Function)?my.rx(ADMIN):my.rx=ADMIN,p(my.g,Function)?my.g(2):my.g=2,my.callback=function(){return window.open("https://"+this.id.split("@")[1])},my),this,kVe,"website",k3r,OPEmail.prototype)}set copy(e){this.copy.$set(e,this,_Ve,"copy")}get copy(){return this.copy.$get(this,_Ve,"copy")}get copy(){return this[_3r]||y(($y=this.action(),p($y.rx,Function)?$y.rx(ADMIN):$y.rx=ADMIN,p($y.g,Function)?$y.g(2):$y.g=2,$y.callback=function(){return OP.copystr(this.id)},$y),this,_Ve,"copy",_3r,OPEmail.prototype)}opownlibuttons(e,t){var X,Z;var r,o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;return p(t,SharedQuery)?(s=a=1,(n=i[ace])||(s=a=0,n=i[ace]=n=R("op",null,"y-ai actions",null)),s||(n[yy]=i._),s||((X=n[iE])==null||X.call(n,i,ace)),u=n[AVe]("__",n),c=n[by](Esn),d=f=1,(h=c.run(this.obutton(this.google)))||(d=f=0,c.cache(h=M(c.value,u,null,null))),h[gy]&&(d||!h.setup||h.setup(f,c),h[rh](f)),h==n[YB]||!n[YB]&&u[QB](n[YB]=h)||(u[eV](h,n[YB]),n[YB]=h),m=n[by](jsn),b=g=1,($=m.run(this.obutton(this.email)))||(b=g=0,m.cache($=M(m.value,u,null,null))),$[gy]&&(b||!$.setup||$.setup(g,m),$[rh](g)),$==n[XB]||!n[XB]&&u[QB](n[XB]=$)||(u[eV]($,n[XB]),n[XB]=$),x=n[by](Asn),_=S=1,(k=x.run(this.obutton(this.website)))||(_=S=0,x.cache(k=M(x.value,u,null,null))),k[gy]&&(_||!k.setup||k.setup(S,x),k[rh](S)),k==n[KB]||!n[KB]&&u[QB](n[KB]=k)||(u[eV](k,n[KB]),n[KB]=k),v=n[by](Usn),j=P=1,(C=v.run(this.obutton(this.copy)))||(j=P=0,v.cache(C=M(v.value,u,null,null))),C[gy]&&(j||!C.setup||C.setup(P,v),C[rh](P)),C==n[JB]||!n[JB]&&u[QB](n[JB]=C)||(u[eV](C,n[JB]),n[JB]=C),s||i.sym||!n.setup||n.setup(a,i,ace),i.sym||n[rh](a),n):(O=L=1,(U=i[uce])||(O=L=0,U=i[uce]=U=R("op",null,"y-an actions",null)),O||(U[yy]=i._),O||((Z=U[iE])==null||Z.call(U,i,uce)),I=U[AVe]("__",U),r=o=null,this.primary?(F=N=1,(r=U[j3r])||(F=N=0,U[j3r]=r=w("div",null,"y-ao","primary")),F||(r[yy]=I)):(V=U[by](Tsn),W=z=1,(r=V.run(this.obutton(this.makeprimary)))||(W=z=0,V.cache(r=M(V.value,null,"sm",null))),W||(r[yy]=I),r[gy]&&(W||(r.label=!1),W||(r.icon="crown"),W||(r.optip="Make this email primary"),(!W||z&2)&&r.flags.reconcile(Psn,"sm"),W||!r.setup||r.setup(z,V),r[rh](z)),q=U[by](Rsn),Y=K=1,(o=q.run(this.obutton(this.remove)))||(Y=K=0,q.cache(o=M(q.value,null,"sm",null))),Y||(o[yy]=I),o[gy]&&(Y||(o.label=!1),Y||(o.optip="Remove this email, will ask for confirmation"),(!Y||K&2)&&o.flags.reconcile(Osn,"sm"),Y||!o.setup||o.setup(K,q),o[rh](K))),U[A3r]=I[P3r](r,0,U[A3r]),U[U3r]=I[P3r](o,0,U[U3r]),O||i.sym||!U.setup||U.setup(L,i,uce),i.sym||U[rh](L),U)}opownlistats(e,t){var d,f;var r,o,n=H(),i,s,a,u,c,h;return p(t,SharedQuery)?(r=n[by](EVe),i=s=1,(o=r.run(this.ostats(this)))||(i=s=0,r.cache(o=M(r.value,null,null,null))),i||(o[yy]=n._),i||((d=o[iE])==null||d.call(o,n,EVe)),o[gy]&&(i||(o.include="_cre|team_marked|via_link|via_user"),i||n.sym||!o.setup||o.setup(s,n,EVe),n.sym||o[rh](s)),o):(a=n[by](jVe),c=h=1,(u=a.run(this.ostats(this)))||(c=h=0,a.cache(u=M(a.value,null,null,null))),c||(u[yy]=n._),c||((f=u[iE])==null||f.call(u,n,jVe)),u[gy]&&(c||(u.only="_cre|verified"),c||n.sym||!u.setup||u.setup(h,n,jVe),n.sym||u[rh](h)),u)}};E(UVe,Msn,"OPEmail",1,OPEmail);var T3r=UVe;T();oe();var PVe=Symbol("id"),O3r=Symbol(),TVe=Symbol("name"),R3r=Symbol(),OVe=Symbol("color"),M3r=Symbol(),RVe=Symbol("icon"),L3r=Symbol(),D3r,N3r,I3r,F3r,Lsn=Symbol(),hv=class hv extends OPObject{set id(e){this.id.$set(e,this,PVe,"id")}get id(){return this.id.$get(this,PVe,"id")}get id(){return this[O3r]||y((D3r=this.key(),D3r),this,PVe,"id",O3r,hv.prototype)}set name(e){this.name.$set(e,this,TVe,"name")}get name(){return this.name.$get(this,TVe,"name")}get name(){return this[R3r]||y((N3r=this.string(),N3r),this,TVe,"name",R3r,hv.prototype)}set color(e){this.color.$set(e,this,OVe,"color")}get color(){return this.color.$get(this,OVe,"color")}get color(){return this[M3r]||y((I3r=this.color(),I3r),this,OVe,"color",M3r,hv.prototype)}set icon(e){this.icon.$set(e,this,RVe,"icon")}get icon(){return this.icon.$get(this,RVe,"icon")}get icon(){return this[L3r]||y((F3r=this.text(),F3r),this,RVe,"icon",L3r,hv.prototype)}};E(hv,Lsn,"Beacon",0);var MVe=hv;globalThis.Beacon=MVe;T();oe();ge(),dt(),$e();var LVe=Symbol("created_at"),H3r=Symbol(),DVe=Symbol("name"),B3r=Symbol(),NVe=Symbol("login"),V3r=Symbol(),IVe=Symbol("company"),z3r=Symbol(),FVe=Symbol("location"),q3r=Symbol(),HVe=Symbol("email"),W3r=Symbol(),BVe=Symbol("type"),Z3r=Symbol(),VVe=Symbol("bio"),G3r=Symbol(),zVe=Symbol("student"),Y3r=Symbol(),qVe=Symbol("used_student_offer"),X3r=Symbol(),WVe=Symbol("show_student_offer"),K3r=Symbol(),ZVe=Symbol("reset"),J3r=Symbol(),GVe=Symbol("view-on-github"),Q3r=Symbol(),YVe=Symbol("open"),exr=Symbol(),XVe=Symbol("claim_student_offer"),txr=Symbol(),KVe=Symbol("claim"),rxr=Symbol(),oxr,nxr,ixr,sxr,lxr,tV,axr,uxr,rV,oV,nV,sE,cce=Symbol(),lE=Symbol(),Dsn=Symbol(),aE=Symbol(),Nsn=Symbol(),ky,uE,hce=Symbol(),cxr=Symbol(),hxr=Symbol(),pxr=Symbol(),dxr=Symbol(),fxr=Symbol(),mxr=Symbol(),$xr=Symbol(),yxr=Symbol(),bxr=Symbol(),gxr=Symbol(),kxr=Symbol(),_xr=Symbol(),xxr=Symbol(),cE,vxr=Symbol(),wxr=Symbol(),JVe,pce=Symbol(),Sxr=Symbol(),Cxr=Symbol(),Exr=Symbol(),jxr=Symbol(),Axr=Symbol(),Uxr=Symbol(),Pxr=Symbol(),Txr=Symbol(),Oxr=Symbol(),Rxr=Symbol(),Mxr=Symbol(),Lxr=Symbol(),Dxr=Symbol(),Nxr=Symbol(),Ixr=Symbol(),hE=Symbol(),Isn=Symbol(),pE=Symbol(),Fsn=Symbol(),dce=Symbol(),Fxr=Symbol(),Hxr=Symbol(),dE=Symbol(),Hsn=Symbol(),Bxr=Symbol(),fE=Symbol(),Bsn=Symbol(),Vxr=Symbol(),mE=Symbol(),Vsn=Symbol(),zxr=Symbol(),qxr=Symbol(),$E=Symbol(),zsn=Symbol(),iV=Symbol.for("##up"),sV=Symbol.for("##register"),pv=Symbol.for("#getSlot"),$_=Symbol.for("#getRenderContext"),y_=Symbol.for("#isRichElement"),tn=Symbol.for("#afterVisit"),dc=Symbol.for("#appendChild"),Wxr=Symbol.for("#replaceChild"),oh=Symbol.for("#placeChild"),yE=Symbol.for("#insertInto"),bE=Symbol.for("#replaceWith"),qsn=Symbol(),Gs=class Gs extends OPEmbed{set created_at(e){this.created_at.$set(e,this,LVe,"created_at")}get created_at(){return this.created_at.$get(this,LVe,"created_at")}get created_at(){return this[H3r]||y((oxr=this.ts(),oxr),this,LVe,"created_at",H3r,Gs.prototype)}set name(e){this.name.$set(e,this,DVe,"name")}get name(){return this.name.$get(this,DVe,"name")}get name(){return this[B3r]||y((nxr=this.string(),nxr),this,DVe,"name",B3r,Gs.prototype)}set login(e){this.login.$set(e,this,NVe,"login")}get login(){return this.login.$get(this,NVe,"login")}get login(){return this[V3r]||y((ixr=this.string(),ixr),this,NVe,"login",V3r,Gs.prototype)}set company(e){this.company.$set(e,this,IVe,"company")}get company(){return this.company.$get(this,IVe,"company")}get company(){return this[z3r]||y((sxr=this.string(),sxr),this,IVe,"company",z3r,Gs.prototype)}set location(e){this.location.$set(e,this,FVe,"location")}get location(){return this.location.$get(this,FVe,"location")}get location(){return this[q3r]||y((lxr=this.string(),lxr),this,FVe,"location",q3r,Gs.prototype)}set email(e){this.email.$set(e,this,HVe,"email")}get email(){return this.email.$get(this,HVe,"email")}get email(){return this[W3r]||y((tV=this.email(),p(tV.hidden,Function)?tV.hidden():tV.hidden=!0,tV),this,HVe,"email",W3r,Gs.prototype)}set type(e){this.type.$set(e,this,BVe,"type")}get type(){return this.type.$get(this,BVe,"type")}get type(){return this[Z3r]||y((axr=this.string(),axr),this,BVe,"type",Z3r,Gs.prototype)}set bio(e){this.bio.$set(e,this,VVe,"bio")}get bio(){return this.bio.$get(this,VVe,"bio")}get bio(){return this[G3r]||y((uxr=this.text(),uxr),this,VVe,"bio",G3r,Gs.prototype)}set student(e){this.student.$set(e,this,zVe,"student")}get student(){return this.student.$get(this,zVe,"student")}get student(){return this[Y3r]||y((rV=this.bool(),p(rV.w,Function)?rV.w(ADMIN|OPDEV):rV.w=ADMIN|OPDEV,rV),this,zVe,"student",Y3r,Gs.prototype)}set used_student_offer(e){this.used_student_offer.$set(e,this,qVe,"used_student_offer")}get used_student_offer(){return this.used_student_offer.$get(this,qVe,"used_student_offer")}get used_student_offer(){return this[X3r]||y((oV=this.bool(),p(oV.w,Function)?oV.w(ADMIN|OPDEV):oV.w=ADMIN|OPDEV,oV),this,qVe,"used_student_offer",X3r,Gs.prototype)}set show_student_offer(e){this.show_student_offer.$set(e,this,WVe,"show_student_offer")}get show_student_offer(){return this.show_student_offer.$get(this,WVe,"show_student_offer")}get show_student_offer(){return this[K3r]||y((nV=this.bool(),p(nV.w,Function)?nV.w(ADMIN|OPDEV):nV.w=ADMIN|OPDEV,nV),this,WVe,"show_student_offer",K3r,Gs.prototype)}set reset(e){this.reset.$set(e,this,ZVe,"reset")}get reset(){return this.reset.$get(this,ZVe,"reset")}get reset(){return this[J3r]||y((sE=this.action(),p(sE.rx,Function)?sE.rx(ADMIN|OPDEV):sE.rx=ADMIN|OPDEV,sE.callback=async function(){return this.student=!0,this.used_student_offer=!1,await this.save()},sE),this,ZVe,"reset",J3r,Gs.prototype)}opownlibuttons(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[cce])||(r=o=0,e=t[cce]=e=R("op",null,"wv-af actions",null)),r||(e[iV]=t._),r||((m=e[sV])==null||m.call(e,t,cce)),n=e[pv]("__",e),i=e[$_](Dsn),a=u=1,(s=i.run(this.obuttonif(this.reset)))||(a=u=0,i.cache(s=M(i.value,n,"sm",null))),s[y_]&&(a||(s.label=!1),a||(s.optip="Reset offer usage"),(!a||u&2)&&s.flags.reconcile(lE,"sm"),a||!s.setup||s.setup(u,i),s[tn](u)),s==e[lE]||!e[lE]&&n[dc](e[lE]=s)||(n[Wxr](s,e[lE]),e[lE]=s),c=e[$_](Nsn),d=f=1,(h=c.run(this.obutton(this.viewongithub)))||(d=f=0,c.cache(h=M(c.value,n,"sm",null))),h[y_]&&(d||(h.optip="Open GitHub application settings"),d||(h.label=!1),(!d||f&2)&&h.flags.reconcile(aE,"sm"),d||!h.setup||h.setup(f,c),h[tn](f)),h==e[aE]||!e[aE]&&n[dc](e[aE]=h)||(n[Wxr](h,e[aE]),e[aE]=h),r||t.sym||!e.setup||e.setup(o,t,cce),t.sym||e[tn](o),e}set viewongithub(e){this.viewongithub.$set(e,this,GVe,"viewongithub")}get viewongithub(){return this.viewongithub.$get(this,GVe,"viewongithub")}get viewongithub(){return this[Q3r]||y((ky=this.action(),p(ky.rx,Function)?ky.rx(OWNER|ADMIN):ky.rx=OWNER|ADMIN,p(ky.g,Function)?ky.g(0):ky.g=0,ky.callback=function(){return window.open("https://github.com/settings/applications","_blank")},ky),this,GVe,"viewongithub",Q3r,Gs.prototype)}set open(e){this.open.$set(e,this,YVe,"open")}get open(){return this.open.$get(this,YVe,"open")}get open(){return this[exr]||y((uE=this.action(),p(uE.rx,Function)?uE.rx(OWNER|ADMIN):uE.rx=OWNER|ADMIN,uE.callback=function(e){return((e==null?void 0:e.originalEvent)||e).opmenu(this)},uE),this,YVe,"open",exr,Gs.prototype)}get aslabel(){return"Github"}opownstats(){var Z;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X;return n=i=1,(r=o[hce])||(n=i=0,r=o[hce]=r=R("op-stats",null,null,null)),n||(r[iV]=o._),n||((Z=r[sV])==null||Z.call(r,o,hce)),s=r[pv]("__",r),u=c=1,(a=r[cxr])||(u=c=0,r[cxr]=a=R("op-stat",s,null,null)),h=a[pv]("__",r),f=m=1,(d=r[hxr])||(f=m=0,r[hxr]=d=R("op-icon",h,null,null)),f||(d.data="username"),f||!d.setup||d.setup(m,$),d[tn](m),f||h[dc](d),(b=r[pxr])||(r[pxr]=b=w("div",h,null,null)),g=this.login,g===r[fxr]&&u||(r[dxr]=b[oh](r[fxr]=g,384,r[dxr])),u||!a.setup||a.setup(c,x),a[tn](c),u||s[dc](a),_=S=1,(k=r[mxr])||(_=S=0,r[mxr]=k=R("op-stat",s,"wv-am",null)),v=k[pv]("__",r),j=P=1,(C=r[$xr])||(j=P=0,r[$xr]=C=R("op-icon",v,null,null)),j||(C.data="student"),j||!C.setup||C.setup(P,U),C[tn](P),j||v[dc](C),(O=r[yxr])||(r[yxr]=O=w("div",v,null,null)),_||O[oh]("student: "),e=null,this.student?e="Yes":e="No",r[bxr]=O[oh](e,0,r[bxr]),_||!k.setup||k.setup(S,L),k[tn](S),_||s[dc](k),F=N=1,(I=r[gxr])||(F=N=0,r[gxr]=I=R("op-stat",s,"wv-ap",null)),V=I[pv]("__",r),z=q=1,(W=r[kxr])||(z=q=0,r[kxr]=W=R("op-icon",V,null,null)),z||(W.data="used"),z||!W.setup||W.setup(q,Y),W[tn](q),z||V[dc](W),(K=r[_xr])||(r[_xr]=K=w("div",V,null,null)),F||K[oh]("used free month: "),t=null,this.used_student_offer?t="Yes":t="No",r[xxr]=K[oh](t,0,r[xxr]),F||!I.setup||I.setup(N,X),I[tn](N),F||s[dc](I),n||o.sym||!r.setup||r.setup(i,o,hce),o.sym||r[tn](i),r}get loaded(){return!!this.login}set claim_student_offer(e){this.claim_student_offer.$set(e,this,XVe,"claim_student_offer")}get claim_student_offer(){return this.claim_student_offer.$get(this,XVe,"claim_student_offer")}get claim_student_offer(){return this[txr]||y((cE=this.action(),p(cE.rx,Function)?cE.rx(OWNER):cE.rx=OWNER,cE.callback=async function(){var s;var e,t,r={},o,n,i;return e=await Bt((o=n=0,t=t=R(eze,null,null,null),o||(t[iV]=r._),o||((s=t[sV])==null||s.call(t,r,vxr)),i=this,i===t[wxr]||(t.data=t[wxr]=i),o||r.sym||!t.setup||t.setup(n,r,vxr),r.sym||t[tn](n),t))},cE),this,XVe,"claim_student_offer",txr,Gs.prototype)}get url(){return"https://github.com/"+this.login}};E(Gs,qsn,"GitHubProfile",0);var QVe=Gs;globalThis.GitHubProfile=QVe;var Wsn=Symbol(),lV=class lV extends Ve("op-stack-modal","OpStackModalComponent",de){set claim(e){this.claim.$set(e,this,KVe,"claim")}get claim(){return this.claim.$get(this,KVe,"claim")}get claim(){return this[rxr]||y((JVe=this.action(),JVe.callback=async function(){if(await APP.stripe.claim_free_month())return this.go("pro")},JVe),this,KVe,"claim",rxr,lV.prototype)}body(){var kt,_t;var e=H(),t=this._ns_||"",r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt;let At=OP.get("c0j"),Ut=OP.get("t0ai");if(this.state){if(this.state=="pro")return e.this=this,Pe=He=1,(ve=e[dce])||(Pe=He=0,ve=e[dce]=ve=R("op-sheet",null,`${t}`,null)),Pe||(ve[iV]=e._),Pe||((_t=ve[sV])==null||_t.call(ve,e,dce)),Ue=ve[pv]("__",ve),Pe||(Be=w("div",Ue,`%head ${t}`,"You're Pro Now!")),(je=ve[Fxr])||(ve[Fxr]=je=w("div",Ue,`wv-br %body ${t}`,null)),xe=Re=1,(ue=ve[Hxr])||(xe=Re=0,ve[Hxr]=ue=w("div",je,`%discord ${t}`,null)),xe||(Oe=w("h4",ue,`${t}`,"Get the Pro Member linked role on Discord to access exclusive channels")),qe=ue[$_](Hsn),Ie=Ke=1,(Ne=qe.run(this.obutton(APP.extras.discordlinkedroles)))||(Ie=Ke=0,qe.cache(Ne=M(qe.value,ue,`${t}`,null))),Ne[y_]&&(Ie||(Ne.label="open discord"),(!Ie||Ke&2)&&Ne.flags.reconcile(dE,`${t}`),Ie||!Ne.setup||Ne.setup(Ke,qe),Ne[tn](Ke)),Ne==ue[dE]||!ue[dE]&&(ue[dE]=Ne)[yE](ue)||ue[dE][bE](ue[dE]=Ne,ue),xe||!ue.setup||ue.setup(Re,Te),ue[tn](Re),Ze=et=1,(Ce=ve[Bxr])||(Ze=et=0,ve[Bxr]=Ce=w("div",je,`%fdcp ${t}`,null)),Ze||(ft=w("h4",Ce,`${t}`,"Start our most popular course")),Ge=Ce[$_](Bsn),ct=rt=1,(Je=Ge.run(this.obutton(At)))||(ct=rt=0,Ge.cache(Je=M(Ge.value,Ce,`${t}`,null))),Je[y_]&&($t=Je[Vxr]||(Je[Vxr]={$_:[function(xt,Mt,Ot){return APP.open(Ot)},null]}),$t.$_[1]=At,ct||Je.on$("click",$t,this),(!ct||rt&2)&&Je.flags.reconcile(fE,`${t}`),ct||!Je.setup||Je.setup(rt,Ge),Je[tn](rt)),Je==Ce[fE]||!Ce[fE]&&(Ce[fE]=Je)[yE](Ce)||Ce[fE][bE](Ce[fE]=Je,Ce),Ze||(it=w("h4",Ce,`${t}`,"Or our new AI courses")),tt=Ce[$_](Vsn),at=st=1,(ze=tt.run(this.obutton(Ut)))||(at=st=0,tt.cache(ze=M(tt.value,Ce,`${t}`,null))),ze[y_]&&(yt=ze[zxr]||(ze[zxr]={$_:[function(xt,Mt,Ot){return APP.open(Ot)},null]}),yt.$_[1]=Ut,at||ze.on$("click",yt,this),(!at||st&2)&&ze.flags.reconcile(mE,`${t}`),at||!ze.setup||ze.setup(st,tt),ze[tn](st)),ze==Ce[mE]||!Ce[mE]&&(Ce[mE]=ze)[yE](Ce)||Ce[mE][bE](Ce[mE]=ze,Ce),Ze||!Ce.setup||Ce.setup(et,vt),Ce[tn](et),Ct=jt=1,(nt=ve[qxr])||(Ct=jt=0,ve[qxr]=nt=w("div",Ue,`%foot ${t}`,null)),bt=nt[$_](zsn),ht=Dt=1,(Xe=bt.run(this.obutton(this.end)))||(ht=Dt=0,bt.cache(Xe=M(bt.value,nt,`${t}`,null))),Xe[y_]&&(ht||(Xe.label="done"),(!ht||Dt&2)&&Xe.flags.reconcile($E,`${t}`),ht||!Xe.setup||Xe.setup(Dt,bt),Xe[tn](Dt)),Xe==nt[$E]||!nt[$E]&&(nt[$E]=Xe)[yE](nt)||nt[$E][bE](nt[$E]=Xe,nt),Ct||!nt.setup||nt.setup(jt,mt),nt[tn](jt),Pe||e.sym||!ve.setup||ve.setup(He,e,dce),e.sym||ve[tn](He),ve}else return o=n=1,(r=e[pce])||(o=n=0,r=e[pce]=r=R("op-sheet",null,`${t}`,null)),o||(r[iV]=e._),o||((kt=r[sV])==null||kt.call(r,e,pce)),i=r[pv]("__",r),o||(s=w("div",i,`%head ${t}`,"Github Student Developer Offer")),o||(a=w("div",i,`%body ${t}`,null)),(u=r[Sxr])||(r[Sxr]=u=w("h4",a,`${t}`,null)),o||u[oh]("As a Github student developer, we offer you one free month at Scrimba."),o||u[oh](" Your free one month Pro Plan includes:"),(c=r[Cxr])||(r[Cxr]=c=w("ul",a,`wv-ay ${t}`,null)),(h=r[Exr])||(r[Exr]=h=w("li",c,`${t}`,null)),f=m=1,(d=r[jxr])||(f=m=0,r[jxr]=d=R("op-icon",h,`${t}`,null)),f||(d.data="fullstack"),f||!d.setup||d.setup(m,$),d[tn](m),f||h[dc](d),o||h[oh]("Fullstack Developer Path"),(b=r[Axr])||(r[Axr]=b=w("li",c,`${t}`,null)),x=k=1,(g=r[Uxr])||(x=k=0,r[Uxr]=g=R("op-icon",b,`${t}`,null)),x||(g.data="robot"),x||!g.setup||g.setup(k,_),g[tn](k),x||b[dc](g),o||b[oh]("AI Engineer Path"),(S=r[Pxr])||(r[Pxr]=S=w("li",c,`${t}`,null)),C=j=1,(v=r[Txr])||(C=j=0,r[Txr]=v=R("op-icon",S,`${t}`,null)),C||(v.data="graduation_cap"),C||!v.setup||v.setup(j,P),v[tn](j),C||S[dc](v),o||S[oh]("All 70+ courses"),(U=r[Oxr])||(r[Oxr]=U=w("li",c,`${t}`,null)),L=I=1,(O=r[Rxr])||(L=I=0,r[Rxr]=O=R("op-icon",U,`${t}`,null)),L||(O.data="medal"),L||!O.setup||O.setup(I,F),O[tn](I),L||U[dc](O),o||U[oh]("Course certificates"),(N=r[Mxr])||(r[Mxr]=N=w("li",c,`${t}`,null)),W=z=1,(V=r[Lxr])||(W=z=0,r[Lxr]=V=R("op-icon",N,`${t}`,null)),W||(V.data="challenge"),W||!V.setup||V.setup(z,q),V[tn](z),W||N[dc](V),o||N[oh]("Unlimited Challenges incl. Instant Feedback"),(Y=r[Dxr])||(r[Dxr]=Y=w("li",c,`${t}`,null)),X=Z=1,(K=r[Nxr])||(X=Z=0,r[Nxr]=K=R("op-icon",Y,`${t}`,null)),X||(K.data="users"),X||!K.setup||K.setup(Z,Q),K[tn](Z),X||Y[dc](K),o||Y[oh]("Full access to Discord community"),o||(ee=w("h4",a,`${t}`,"Press the claim button below to claim your free month!")),ne=ie=1,(te=r[Ixr])||(ne=ie=0,r[Ixr]=te=w("div",i,`%foot ${t}`,null)),J=te[$_](Isn),ce=ye=1,(me=J.run(this.obutton(this.cancel)))||(ce=ye=0,J.cache(me=M(J.value,te,`${t}`,null))),me[y_]&&((!ce||ye&2)&&me.flags.reconcile(hE,`${t}`),ce||!me.setup||me.setup(ye,J),me[tn](ye)),me==te[hE]||!te[hE]&&(te[hE]=me)[yE](te)||te[hE][bE](te[hE]=me,te),we=te[$_](Fsn),be=_e=1,(ae=we.run(this.obutton(this.claim)))||(be=_e=0,we.cache(ae=M(we.value,te,`${t}`,null))),ae[y_]&&((!be||_e&2)&&ae.flags.reconcile(pE,`${t}`),be||!ae.setup||ae.setup(_e,we),ae[tn](_e)),ae==te[pE]||!te[pE]&&(te[pE]=ae)[yE](te)||te[pE][bE](te[pE]=ae,te),ne||!te.setup||te.setup(ie,Ae),te[tn](ie),o||e.sym||!r.setup||r.setup(n,e,pce),e.sym||r[tn](n),r}};E(lV,Wsn,"GithubStudentModal",2),pe("github-student-modal-wv-cc",lV,{cssns:"wv_at",cssid:"wv-at",name:"GithubStudentModal"});var eze=lV;T();oe();$e();var tze=Symbol("uid"),Zxr=Symbol(),rze=Symbol("username"),Gxr=Symbol(),oze=Symbol("refresh_token"),Yxr=Symbol(),nze=Symbol("view-on-discord"),Xxr=Symbol(),ize=Symbol("open"),Kxr=Symbol(),sze=Symbol("update-metadata"),Jxr=Symbol(),lze=Symbol("fetch-token"),Qxr=Symbol(),aV,uV,b_,fce=Symbol(),gE=Symbol(),Zsn=Symbol(),_y,mce=Symbol(),evr=Symbol(),tvr=Symbol(),rvr=Symbol(),ovr=Symbol(),nvr=Symbol(),ivr=Symbol(),svr=Symbol(),lvr=Symbol(),avr=Symbol(),uvr=Symbol(),kE,xy,vy,sGn=le("&.json!",globalThis,l=>l.json()),cvr=Symbol.for("##up"),hvr=Symbol.for("##register"),$ce=Symbol.for("#getSlot"),Gsn=Symbol.for("#getRenderContext"),Ysn=Symbol.for("#isRichElement"),dv=Symbol.for("#afterVisit"),cV=Symbol.for("#appendChild"),Xsn=Symbol.for("#replaceChild"),pvr=Symbol.for("#placeChild"),Ksn=Symbol(),Jf=class Jf extends OPEmbed{set uid(e){this.uid.$set(e,this,tze,"uid")}get uid(){return this.uid.$get(this,tze,"uid")}get uid(){return this[Zxr]||y((aV=this.string(),p(aV.rw,Function)?aV.rw(ADMIN):aV.rw=ADMIN,aV),this,tze,"uid",Zxr,Jf.prototype)}set username(e){this.username.$set(e,this,rze,"username")}get username(){return this.username.$get(this,rze,"username")}get username(){return this[Gxr]||y((uV=this.string(),p(uV.rw,Function)?uV.rw(ADMIN):uV.rw=ADMIN,uV),this,rze,"username",Gxr,Jf.prototype)}set refresh_token(e){this.refresh_token.$set(e,this,oze,"refresh_token")}get refresh_token(){return this.refresh_token.$get(this,oze,"refresh_token")}get refresh_token(){return this[Yxr]||y((b_=this.string(),p(b_.rw,Function)?b_.rw(ADMIN):b_.rw=ADMIN,p(b_.encrypted,Function)?b_.encrypted():b_.encrypted=!0,b_),this,oze,"refresh_token",Yxr,Jf.prototype)}get loaded(){return!!this.uid}get aslabel(){return"Discord"}opownlibuttons(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[fce])||(r=o=0,e=t[fce]=e=R("op",null,"xs-af actions",null)),r||(e[cvr]=t._),r||((c=e[hvr])==null||c.call(e,t,fce)),n=e[$ce]("__",e),i=e[Gsn](Zsn),a=u=1,(s=i.run(this.obutton(this.viewondiscord)))||(a=u=0,i.cache(s=M(i.value,n,"sm",null))),s[Ysn]&&(a||(s.label=!1),a||(s.optip="Open Discord"),(!a||u&2)&&s.flags.reconcile(gE,"sm"),a||!s.setup||s.setup(u,i),s[dv](u)),s==e[gE]||!e[gE]&&n[cV](e[gE]=s)||(n[Xsn](s,e[gE]),e[gE]=s),r||t.sym||!e.setup||e.setup(o,t,fce),t.sym||e[dv](o),e}set viewondiscord(e){this.viewondiscord.$set(e,this,nze,"viewondiscord")}get viewondiscord(){return this.viewondiscord.$get(this,nze,"viewondiscord")}get viewondiscord(){return this[Xxr]||y((_y=this.action(),p(_y.rx,Function)?_y.rx(OWNER|ADMIN):_y.rx=OWNER|ADMIN,p(_y.g,Function)?_y.g(0):_y.g=0,_y.callback=function(){return APP.extras.discordlinkedroles()},_y),this,nze,"viewondiscord",Xxr,Jf.prototype)}opownstats(){var L;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return r=o=1,(e=t[mce])||(r=o=0,e=t[mce]=e=R("op-stats",null,null,null)),r||(e[cvr]=t._),r||((L=e[hvr])==null||L.call(e,t,mce)),n=e[$ce]("__",e),s=a=1,(i=e[evr])||(s=a=0,e[evr]=i=R("op-stat",n,null,null)),u=i[$ce]("__",e),h=d=1,(c=e[tvr])||(h=d=0,e[tvr]=c=R("op-icon",u,null,null)),h||(c.data="id"),h||!c.setup||c.setup(d,f),c[dv](d),h||u[cV](c),(m=e[rvr])||(e[rvr]=m=w("div",u,null,null)),$=this.username,$===e[nvr]&&s||(e[ovr]=m[pvr](e[nvr]=$,384,e[ovr])),s||!i.setup||i.setup(a,b),i[dv](a),s||n[cV](i),x=k=1,(g=e[ivr])||(x=k=0,e[ivr]=g=R("op-stat",n,null,null)),_=g[$ce]("__",e),v=C=1,(S=e[svr])||(v=C=0,e[svr]=S=R("op-icon",_,null,null)),v||(S.data="id"),v||!S.setup||S.setup(C,j),S[dv](C),v||_[cV](S),(P=e[lvr])||(e[lvr]=P=w("div",_,null,null)),U=this.uid,U===e[uvr]&&x||(e[avr]=P[pvr](e[uvr]=U,384,e[avr])),x||!g.setup||g.setup(k,O),g[dv](k),x||n[cV](g),r||t.sym||!e.setup||e.setup(o,t,mce),t.sym||e[dv](o),e}set open(e){this.open.$set(e,this,ize,"open")}get open(){return this.open.$get(this,ize,"open")}get open(){return this[Kxr]||y((kE=this.action(),p(kE.rx,Function)?kE.rx(OWNER|ADMIN):kE.rx=OWNER|ADMIN,kE.callback=function(e){return((e==null?void 0:e.originalEvent)||e).opmenu(this)},kE),this,ize,"open",Kxr,Jf.prototype)}set updatemetadata(e){this.updatemetadata.$set(e,this,sze,"updatemetadata")}get updatemetadata(){return this.updatemetadata.$get(this,sze,"updatemetadata")}get updatemetadata(){return this[Jxr]||y((xy=this.action(),p(xy.rx,Function)?xy.rx(ADMIN):xy.rx=ADMIN,p(xy.rpc,Function)?xy.rpc():xy.rpc=!0,xy.callback=!1,xy),this,sze,"updatemetadata",Jxr,Jf.prototype)}set fetchtoken(e){this.fetchtoken.$set(e,this,lze,"fetchtoken")}get fetchtoken(){return this.fetchtoken.$get(this,lze,"fetchtoken")}get fetchtoken(){return this[Qxr]||y((vy=this.action(),p(vy.rx,Function)?vy.rx(ADMIN):vy.rx=ADMIN,p(vy.rpc,Function)?vy.rpc():vy.rpc=!0,vy.callback=!1,vy),this,lze,"fetchtoken",Qxr,Jf.prototype)}};E(Jf,Ksn,"DiscordProfile",0);var aze=Jf;globalThis.DiscordProfile=aze;T();oe();$e();var uze=Symbol("customers"),dvr=Symbol(),wy,yce=Symbol(),fvr=Symbol(),hV=Symbol(),Jsn=Symbol(),mvr=Symbol(),pV=Symbol(),Qsn=Symbol(),dV=Symbol(),eln=Symbol();var tln=Symbol(),$vr=Symbol(),yvr=Symbol(),fV=Symbol(),rln=Symbol(),mV=Symbol(),oln=Symbol(),bvr=Symbol(),$V=Symbol(),nln=Symbol(),yV=Symbol(),iln=Symbol(),bV=Symbol(),sln=Symbol(),gvr=Symbol(),_E=Symbol(),lln=Symbol(),gV=Symbol(),aln=Symbol(),kV=Symbol(),uln=Symbol(),_V=Symbol(),cln=Symbol(),xV=Symbol(),hln=Symbol(),kvr=Symbol(),pln=Symbol(),dln=Symbol(),_vr=Symbol(),cze=Symbol.for("##up"),fln=Symbol.for("##register"),mln=Symbol.for("#getSlot"),Na=Symbol.for("#getRenderContext"),Ia=Symbol.for("#isRichElement"),yi=Symbol.for("#afterVisit"),nh=Symbol.for("#insertInto"),ih=Symbol.for("#replaceWith"),xvr=Symbol.for("#placeChild"),$ln=Symbol(),bce=class bce extends OPEmbed{get user(){return this.$up}get aslabel(){return"Admin"}set customers(e){this.customers.$set(e,this,uze,"customers")}get customers(){return this.customers.$get(this,uze,"customers")}get customers(){return this[dvr]||y((wy=this.coll(StripeCustomer,{layout:"list"}),p(wy.r,Function)?wy.r(OWNER|ADMIN):wy.r=OWNER|ADMIN,p(wy.nofilter,Function)?wy.nofilter():wy.nofilter=!0,wy.callback=function(){var e;return(e=this.user)==null?void 0:e.stripe_accounts},wy),this,uze,"customers",dvr,bce.prototype)}opownbody(){var Ot,tr,lt;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt;return n=i=1,(r=o[yce])||(n=i=0,r=o[yce]=r=R("op",null,"wx-af",null)),n||(r[cze]=o._),n||((Ot=r[fln])==null||Ot.call(r,o,yce)),s=r[mln]("__",r),u=c=1,(a=r[fvr])||(u=c=0,r[fvr]=a=w("section",s,null,null)),u||(h=w("h2",a,null,"Info")),d=a[Na](Jsn),m=$=1,(f=d.run(this.ostats(this.user)))||(m=$=0,d.cache(f=M(d.value,a,null,null))),f[Ia]&&(m||(f.include="legacy_id"),m||!f.setup||f.setup($,d),f[yi]($)),f==a[hV]||!a[hV]&&(a[hV]=f)[nh](a)||a[hV][ih](a[hV]=f,a),u||!a.setup||a.setup(c,b),a[yi](c),n||(g=w("section",s,null,null)),n||(x=w("h2",g,null,"Account Actions")),_=S=1,(k=r[mvr])||(_=S=0,r[mvr]=k=w("div",g,"wx-al",null)),v=k[Na](Qsn),j=P=1,(C=v.run(this.obutton(this.user.grantcertificate)))||(j=P=0,v.cache(C=M(v.value,k,null,null))),C[Ia]&&(j||!C.setup||C.setup(P,v),C[yi](P)),C==k[pV]||!k[pV]&&(k[pV]=C)[nh](k)||k[pV][ih](k[pV]=C,k),U=k[Na](eln),L=I=1,(O=U.run(this.obutton(this.user.migrateavatar)))||(L=I=0,U.cache(O=M(U.value,k,null,null))),O[Ia]&&(L||!O.setup||O.setup(I,U),O[yi](I)),O==k[dV]||!k[dV]&&(k[dV]=O)[nh](k)||k[dV][ih](k[dV]=O,k),e=null,this.user.scrimbassador&&(F=k[Na](tln),N=V=1,(e=F.run(this.obutton(this.user.leavescrimbassadors)))||(N=V=0,F.cache(e=M(F.value,null,null,null))),N||(e[cze]=k),e[Ia]&&(N||!e.setup||e.setup(V,F),e[yi](V))),k[$vr]=k[xvr](e,0,k[$vr]),_||!k.setup||k.setup(S,W),k[yi](S),n||(z=w("section",s,null,null)),n||(q=w("h2",z,null,"Affiliate Actions")),K=X=1,(Y=r[yvr])||(K=X=0,r[yvr]=Y=w("div",z,"wx-ar",null)),Z=Y[Na](rln),ee=te=1,(Q=Z.run(this.obutton(this.user.setaffiliation)))||(ee=te=0,Z.cache(Q=M(Z.value,Y,null,null))),Q[Ia]&&(ee||!Q.setup||Q.setup(te,Z),Q[yi](te)),Q==Y[fV]||!Y[fV]&&(Y[fV]=Q)[nh](Y)||Y[fV][ih](Y[fV]=Q,Y),ne=Y[Na](oln),J=me=1,(ie=ne.run(this.obutton(this.user.create_affiliate_link)))||(J=me=0,ne.cache(ie=M(ne.value,Y,null,null))),ie[Ia]&&(J||!ie.setup||ie.setup(me,ne),ie[yi](me)),ie==Y[mV]||!Y[mV]&&(Y[mV]=ie)[nh](Y)||Y[mV][ih](Y[mV]=ie,Y),K||!Y.setup||Y.setup(X,ce),Y[yi](X),n||(ye=w("section",s,null,null)),n||(we=w("h2",ye,null,"Legacy Actions")),be=_e=1,(ae=r[bvr])||(be=_e=0,r[bvr]=ae=w("div",ye,"wx-aw",null)),Ae=ae[Na](nln),Pe=He=1,(ve=Ae.run(this.obutton(this.user.legacy.import_stripe_subscriptions)))||(Pe=He=0,Ae.cache(ve=M(Ae.value,ae,null,null))),ve[Ia]&&(Pe||!ve.setup||ve.setup(He,Ae),ve[yi](He)),ve==ae[$V]||!ae[$V]&&(ae[$V]=ve)[nh](ae)||ae[$V][ih](ae[$V]=ve,ae),Ue=ae[Na](iln),je=ue=1,(Be=Ue.run(this.obutton(this.user.importsubscriptions)))||(je=ue=0,Ue.cache(Be=M(Ue.value,ae,null,null))),Be[Ia]&&(je||!Be.setup||Be.setup(ue,Ue),Be[yi](ue)),Be==ae[yV]||!ae[yV]&&(ae[yV]=Be)[nh](ae)||ae[yV][ih](ae[yV]=Be,ae),xe=ae[Na](sln),Oe=qe=1,(Re=xe.run(this.obutton(this.user.syncprogress)))||(Oe=qe=0,xe.cache(Re=M(xe.value,ae,null,null))),Re[Ia]&&(Oe||!Re.setup||Re.setup(qe,xe),Re[yi](qe)),Re==ae[bV]||!ae[bV]&&(ae[bV]=Re)[nh](ae)||ae[bV][ih](ae[bV]=Re,ae),be||!ae.setup||ae.setup(_e,Ne),ae[yi](_e),n||(Ie=w("section",s,null,null)),n||(Ke=w("h2",Ie,null,"Stripe Actions")),Ce=Ze=1,(Te=r[gvr])||(Ce=Ze=0,r[gvr]=Te=w("div",Ie,"wx-bc",null)),et=Te[Na](lln),Ge=Je=1,(ft=et.run(this.obuttonif(this.user.deleteallmyproandstripestuff)))||(Ge=Je=0,et.cache(ft=M(et.value,Te,"red",null))),ft[Ia]&&((!Ge||Je&2)&&ft.flags.reconcile(_E,"red"),Ge||!ft.setup||ft.setup(Je,et),ft[yi](Je)),ft==Te[_E]||!Te[_E]&&(Te[_E]=ft)[nh](Te)||Te[_E][ih](Te[_E]=ft,Te),ct=Te[Na](aln),$t=it=1,(rt=ct.run(this.obutton(this.user.syncstripe)))||($t=it=0,ct.cache(rt=M(ct.value,Te,null,null))),rt[Ia]&&($t||!rt.setup||rt.setup(it,ct),rt[yi](it)),rt==Te[gV]||!Te[gV]&&(Te[gV]=rt)[nh](Te)||Te[gV][ih](Te[gV]=rt,Te),tt=Te[Na](uln),at=st=1,(ze=tt.run(this.obutton(this.user.createnewcustomer)))||(at=st=0,tt.cache(ze=M(tt.value,Te,null,null))),ze[Ia]&&(at||!ze.setup||ze.setup(st,tt),ze[yi](st)),ze==Te[kV]||!Te[kV]&&(Te[kV]=ze)[nh](Te)||Te[kV][ih](Te[kV]=ze,Te),yt=Te[Na](cln),nt=Ct=1,(vt=yt.run(this.obutton(this.user.grantfreedays)))||(nt=Ct=0,yt.cache(vt=M(yt.value,Te,null,null))),vt[Ia]&&(nt||!vt.setup||vt.setup(Ct,yt),vt[yi](Ct)),vt==Te[_V]||!Te[_V]&&(Te[_V]=vt)[nh](Te)||Te[_V][ih](Te[_V]=vt,Te),jt=Te[Na](hln),Xe=ht=1,(bt=jt.run(this.obutton(this.user.grantdevcoupon)))||(Xe=ht=0,jt.cache(bt=M(jt.value,Te,null,null))),bt[Ia]&&(Xe||!bt.setup||bt.setup(ht,jt),bt[yi](ht)),bt==Te[xV]||!Te[xV]&&(Te[xV]=bt)[nh](Te)||Te[xV][ih](Te[xV]=bt,Te),Ce||!Te.setup||Te.setup(Ze,Dt),Te[yi](Ze),At=Ut=1,(mt=r[kvr])||(At=Ut=0,r[kvr]=mt=w("section",s,null,null)),t=null,(lt=(tr=this.user)==null?void 0:tr.stripe_accounts)!=null&&lt.len?(kt=mt[Na](dln),_t=xt=1,(t=kt.run(this.oel(this.customers,"settings-section")))||(_t=xt=0,kt.cache(t=M(kt.value,null,"wx-bj compact",null))),_t||(t[cze]=mt),t[Ia]&&((!_t||xt&2)&&t.flags.reconcile(pln,"wx-bj compact"),_t||!t.setup||t.setup(xt,kt),t[yi](xt))):t="User has no stripe customers",mt[_vr]=mt[xvr](t,0,mt[_vr]),At||!mt.setup||mt.setup(Ut,Mt),mt[yi](Ut),n||o.sym||!r.setup||r.setup(i,o,yce),o.sym||r[yi](i),r}};E(bce,$ln,"UserAdminTab",0);var hze=bce;globalThis.UserAdminTab=hze;T();oe();$e();var pze=Symbol("overview"),vvr=Symbol(),dze=Symbol("visitors"),wvr=Symbol(),fze=Symbol("signups"),Svr=Symbol(),mze=Symbol("subscribers"),Cvr=Symbol(),$ze=Symbol("transactions"),Evr=Symbol(),yze=Symbol("payouts"),jvr=Symbol(),bze=Symbol("currency"),Avr=Symbol(),gze=Symbol("total_visitors"),Uvr=Symbol(),kze=Symbol("total_signups"),Pvr=Symbol(),_ze=Symbol("total_subs"),Tvr=Symbol(),xze=Symbol("total_sales"),Ovr=Symbol(),vze=Symbol("total_commission"),Rvr=Symbol(),wze=Symbol("paid_out"),Mvr=Symbol(),Sze=Symbol("due"),Lvr=Symbol(),Cze=Symbol("maturing"),Dvr=Symbol(),Eze=Symbol("update_stats"),Nvr=Symbol(),jze=Symbol("fetch_stat_total_sales"),Ivr=Symbol(),Aze=Symbol("fetch_stat_total_commission"),Fvr=Symbol(),Uze=Symbol("fetch_stat_paid_out"),Hvr=Symbol(),Pze=Symbol("fetch_stat_due"),Bvr=Symbol(),Tze=Symbol("fetch_stat_maturing"),Vvr=Symbol(),Oze=Symbol("fetch_stat_total_visitors"),zvr=Symbol(),Rze=Symbol("fetch_stat_total_signups"),qvr=Symbol(),Mze=Symbol("fetch_stat_total_subs"),Wvr=Symbol(),Lze=Symbol("create_payout_srv"),Zvr=Symbol(),Dze=Symbol("edit-payout-details"),Gvr=Symbol(),Nze=Symbol("create_payout"),Yvr=Symbol(),Ize=Symbol("fetch_table_visitors"),Xvr=Symbol(),Fze=Symbol("fetch_table_signups"),Kvr=Symbol(),Hze=Symbol("fetch_table_subscriptions"),Jvr=Symbol(),Bze=Symbol("fetch_table_transactions"),Qvr=Symbol(),Vze=Symbol("fetch_tables"),ewr=Symbol(),zze=Symbol("fetch_all"),twr=Symbol(),vV,wV,SV,CV,EV,jV,g_,k_,__,x_,v_,w_,S_,C_,E_,Sy,Cy,Ey,jy,Ay,Uy,Py,Ty,Oy,Ry,gGn=le("&.id",globalThis,l=>l.id),xE,My,gce=Symbol(),rwr=Symbol(),vE=Symbol(),yln=Symbol(),wE=Symbol(),bln=Symbol(),AV=Symbol(),gln=Symbol(),UV=Symbol(),kln=Symbol(),Ly,Dy,Ny,Iy,SE,CE,kce=Symbol(),owr=Symbol(),_ce=Symbol(),nwr=Symbol(),xce=Symbol(),iwr=Symbol(),vce=Symbol(),swr=Symbol(),wce=Symbol(),lwr=Symbol(),awr=Symbol(),uwr=Symbol(),cwr=Symbol(),hwr=Symbol(),pwr=Symbol(),dwr=Symbol(),fwr=Symbol(),mwr=Symbol(),$wr=Symbol(),ywr=Symbol(),bwr=Symbol(),gwr=Symbol(),EE=Symbol(),_ln=Symbol(),kwr=Symbol(),PV=Symbol(),xln=Symbol(),TV=Symbol(),vln=Symbol(),Sce=Symbol(),wln=le("&.ref",globalThis,l=>l.ref),Cce=Symbol(),_wr=Symbol(),xwr=Symbol(),vwr=Symbol(),wwr=Symbol(),Swr=Symbol(),Cwr=Symbol(),Ewr=Symbol(),jwr=Symbol(),Awr=Symbol(),Uwr=Symbol(),Pwr=Symbol(),Twr=Symbol(),Owr=Symbol(),Rwr=Symbol(),Sln=Symbol(),OV=Symbol(),Cln=Symbol(),sh=Symbol.for("##up"),j_=Symbol.for("##register"),qze=Symbol.for("#getSlot"),A_=Symbol.for("#getRenderContext"),Fy=Symbol.for("#isRichElement"),Xi=Symbol.for("#afterVisit"),RV=Symbol.for("#insertInto"),MV=Symbol.for("#replaceWith"),Wze=Symbol.for("#appendChild"),Zze=Symbol.for("#replaceChild"),bi=Symbol.for("#placeChild"),Eln=Symbol.for("#fetch_all_promise"),jln=Symbol.for("#getDynamicContext"),Mwr=OPMoney.from(1e4,"usd"),Lwr=Symbol(),so=class so extends OPEmbed{constructor(){super(...arguments),super[A]||this[A](),re(this,Lwr)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this._visitors=e&&(o=e._visitors)!==void 0?o:[],this._signups=e&&(o=e._signups)!==void 0?o:[],this._subscribers=e&&(o=e._subscribers)!==void 0?o:[],this._transactions=e&&(o=e._transactions)!==void 0?o:[]}set overview(e){this.overview.$set(e,this,pze,"overview")}get overview(){return this.overview.$get(this,pze,"overview")}get overview(){return this[vvr]||y((vV=this.embed(),p(vV.tab,Function)?vV.tab():vV.tab=!0,vV),this,pze,"overview",vvr,so.prototype)}set visitors(e){this.visitors.$set(e,this,dze,"visitors")}get visitors(){return this.visitors.$get(this,dze,"visitors")}get visitors(){return this[wvr]||y((wV=this.embed(),p(wV.tab,Function)?wV.tab():wV.tab=!0,wV),this,dze,"visitors",wvr,so.prototype)}set signups(e){this.signups.$set(e,this,fze,"signups")}get signups(){return this.signups.$get(this,fze,"signups")}get signups(){return this[Svr]||y((SV=this.embed(),p(SV.tab,Function)?SV.tab():SV.tab=!0,SV),this,fze,"signups",Svr,so.prototype)}set subscribers(e){this.subscribers.$set(e,this,mze,"subscribers")}get subscribers(){return this.subscribers.$get(this,mze,"subscribers")}get subscribers(){return this[Cvr]||y((CV=this.embed(),p(CV.tab,Function)?CV.tab():CV.tab=!0,CV),this,mze,"subscribers",Cvr,so.prototype)}set transactions(e){this.transactions.$set(e,this,$ze,"transactions")}get transactions(){return this.transactions.$get(this,$ze,"transactions")}get transactions(){return this[Evr]||y((EV=this.embed(),p(EV.tab,Function)?EV.tab():EV.tab=!0,EV),this,$ze,"transactions",Evr,so.prototype)}set payouts(e){this.payouts.$set(e,this,yze,"payouts")}get payouts(){return this.payouts.$get(this,yze,"payouts")}get payouts(){return this[jvr]||y((jV=this.embed(),p(jV.tab,Function)?jV.tab():jV.tab=!0,jV),this,yze,"payouts",jvr,so.prototype)}set currency(e){this.currency.$set(e,this,bze,"currency")}get currency(){return this.currency.$get(this,bze,"currency")}get currency(){return this[Avr]||y((g_=this.currency(),p(g_.w,Function)?g_.w(SRV):g_.w=SRV,p(g_.fallback,Function)?g_.fallback(function(){return OPCurrency.USD}):g_.fallback=function(){return OPCurrency.USD},g_),this,bze,"currency",Avr,so.prototype)}set total_visitors(e){this.total_visitors.$set(e,this,gze,"total_visitors")}get total_visitors(){return this.total_visitors.$get(this,gze,"total_visitors")}get total_visitors(){return this[Uvr]||y((k_=this.number(),p(k_.w,Function)?k_.w(ADMIN):k_.w=ADMIN,p(k_.stat,Function)?k_.stat():k_.stat=!0,k_),this,gze,"total_visitors",Uvr,so.prototype)}set total_signups(e){this.total_signups.$set(e,this,kze,"total_signups")}get total_signups(){return this.total_signups.$get(this,kze,"total_signups")}get total_signups(){return this[Pvr]||y((__=this.number(),p(__.w,Function)?__.w(ADMIN):__.w=ADMIN,p(__.stat,Function)?__.stat():__.stat=!0,__),this,kze,"total_signups",Pvr,so.prototype)}set total_subs(e){this.total_subs.$set(e,this,_ze,"total_subs")}get total_subs(){return this.total_subs.$get(this,_ze,"total_subs")}get total_subs(){return this[Tvr]||y((x_=this.number(),p(x_.w,Function)?x_.w(ADMIN):x_.w=ADMIN,p(x_.stat,Function)?x_.stat():x_.stat=!0,x_),this,_ze,"total_subs",Tvr,so.prototype)}set total_sales(e){this.total_sales.$set(e,this,xze,"total_sales")}get total_sales(){return this.total_sales.$get(this,xze,"total_sales")}get total_sales(){return this[Ovr]||y((v_=this.money(),p(v_.w,Function)?v_.w(ADMIN):v_.w=ADMIN,p(v_.stat,Function)?v_.stat():v_.stat=!0,v_),this,xze,"total_sales",Ovr,so.prototype)}set total_commission(e){this.total_commission.$set(e,this,vze,"total_commission")}get total_commission(){return this.total_commission.$get(this,vze,"total_commission")}get total_commission(){return this[Rvr]||y((w_=this.money(),p(w_.w,Function)?w_.w(ADMIN):w_.w=ADMIN,p(w_.stat,Function)?w_.stat():w_.stat=!0,w_),this,vze,"total_commission",Rvr,so.prototype)}set paid_out(e){this.paid_out.$set(e,this,wze,"paid_out")}get paid_out(){return this.paid_out.$get(this,wze,"paid_out")}get paid_out(){return this[Mvr]||y((S_=this.money(),p(S_.w,Function)?S_.w(ADMIN):S_.w=ADMIN,p(S_.stat,Function)?S_.stat():S_.stat=!0,S_),this,wze,"paid_out",Mvr,so.prototype)}set due(e){this.due.$set(e,this,Sze,"due")}get due(){return this.due.$get(this,Sze,"due")}get due(){return this[Lvr]||y((C_=this.money(),p(C_.w,Function)?C_.w(ADMIN):C_.w=ADMIN,p(C_.stat,Function)?C_.stat():C_.stat=!0,C_),this,Sze,"due",Lvr,so.prototype)}set maturing(e){this.maturing.$set(e,this,Cze,"maturing")}get maturing(){return this.maturing.$get(this,Cze,"maturing")}get maturing(){return this[Dvr]||y((E_=this.money(),p(E_.w,Function)?E_.w(ADMIN):E_.w=ADMIN,p(E_.stat,Function)?E_.stat():E_.stat=!0,E_),this,Cze,"maturing",Dvr,so.prototype)}set update_stats(e){this.update_stats.$set(e,this,Eze,"update_stats")}get update_stats(){return this.update_stats.$get(this,Eze,"update_stats")}get update_stats(){return this[Nvr]||y((Sy=this.action(),p(Sy.x,Function)?Sy.x(OWNER|ADMIN):Sy.x=OWNER|ADMIN,p(Sy.rpc,Function)?Sy.rpc():Sy.rpc=!0,Sy.callback=!1,Sy),this,Eze,"update_stats",Nvr,so.prototype)}set fetch_stat_total_sales(e){this.fetch_stat_total_sales.$set(e,this,jze,"fetch_stat_total_sales")}get fetch_stat_total_sales(){return this.fetch_stat_total_sales.$get(this,jze,"fetch_stat_total_sales")}get fetch_stat_total_sales(){return this[Ivr]||y((Cy=this.action(),p(Cy.x,Function)?Cy.x(OWNER|ADMIN):Cy.x=OWNER|ADMIN,p(Cy.rpc,Function)?Cy.rpc():Cy.rpc=!0,Cy.callback=!1,Cy),this,jze,"fetch_stat_total_sales",Ivr,so.prototype)}set fetch_stat_total_commission(e){this.fetch_stat_total_commission.$set(e,this,Aze,"fetch_stat_total_commission")}get fetch_stat_total_commission(){return this.fetch_stat_total_commission.$get(this,Aze,"fetch_stat_total_commission")}get fetch_stat_total_commission(){return this[Fvr]||y((Ey=this.action(),p(Ey.x,Function)?Ey.x(OWNER|ADMIN):Ey.x=OWNER|ADMIN,p(Ey.rpc,Function)?Ey.rpc():Ey.rpc=!0,Ey.callback=!1,Ey),this,Aze,"fetch_stat_total_commission",Fvr,so.prototype)}set fetch_stat_paid_out(e){this.fetch_stat_paid_out.$set(e,this,Uze,"fetch_stat_paid_out")}get fetch_stat_paid_out(){return this.fetch_stat_paid_out.$get(this,Uze,"fetch_stat_paid_out")}get fetch_stat_paid_out(){return this[Hvr]||y((jy=this.action(),p(jy.x,Function)?jy.x(OWNER|ADMIN):jy.x=OWNER|ADMIN,p(jy.rpc,Function)?jy.rpc():jy.rpc=!0,jy.callback=!1,jy),this,Uze,"fetch_stat_paid_out",Hvr,so.prototype)}set fetch_stat_due(e){this.fetch_stat_due.$set(e,this,Pze,"fetch_stat_due")}get fetch_stat_due(){return this.fetch_stat_due.$get(this,Pze,"fetch_stat_due")}get fetch_stat_due(){return this[Bvr]||y((Ay=this.action(),p(Ay.x,Function)?Ay.x(OWNER|ADMIN):Ay.x=OWNER|ADMIN,p(Ay.rpc,Function)?Ay.rpc():Ay.rpc=!0,Ay.callback=!1,Ay),this,Pze,"fetch_stat_due",Bvr,so.prototype)}set fetch_stat_maturing(e){this.fetch_stat_maturing.$set(e,this,Tze,"fetch_stat_maturing")}get fetch_stat_maturing(){return this.fetch_stat_maturing.$get(this,Tze,"fetch_stat_maturing")}get fetch_stat_maturing(){return this[Vvr]||y((Uy=this.action(),p(Uy.x,Function)?Uy.x(OWNER|ADMIN):Uy.x=OWNER|ADMIN,p(Uy.rpc,Function)?Uy.rpc():Uy.rpc=!0,Uy.callback=!1,Uy),this,Tze,"fetch_stat_maturing",Vvr,so.prototype)}set fetch_stat_total_visitors(e){this.fetch_stat_total_visitors.$set(e,this,Oze,"fetch_stat_total_visitors")}get fetch_stat_total_visitors(){return this.fetch_stat_total_visitors.$get(this,Oze,"fetch_stat_total_visitors")}get fetch_stat_total_visitors(){return this[zvr]||y((Py=this.action(),p(Py.x,Function)?Py.x(OWNER|ADMIN):Py.x=OWNER|ADMIN,p(Py.rpc,Function)?Py.rpc():Py.rpc=!0,Py.callback=!1,Py),this,Oze,"fetch_stat_total_visitors",zvr,so.prototype)}set fetch_stat_total_signups(e){this.fetch_stat_total_signups.$set(e,this,Rze,"fetch_stat_total_signups")}get fetch_stat_total_signups(){return this.fetch_stat_total_signups.$get(this,Rze,"fetch_stat_total_signups")}get fetch_stat_total_signups(){return this[qvr]||y((Ty=this.action(),p(Ty.x,Function)?Ty.x(OWNER|ADMIN):Ty.x=OWNER|ADMIN,p(Ty.rpc,Function)?Ty.rpc():Ty.rpc=!0,Ty.callback=!1,Ty),this,Rze,"fetch_stat_total_signups",qvr,so.prototype)}set fetch_stat_total_subs(e){this.fetch_stat_total_subs.$set(e,this,Mze,"fetch_stat_total_subs")}get fetch_stat_total_subs(){return this.fetch_stat_total_subs.$get(this,Mze,"fetch_stat_total_subs")}get fetch_stat_total_subs(){return this[Wvr]||y((Oy=this.action(),p(Oy.x,Function)?Oy.x(OWNER|ADMIN):Oy.x=OWNER|ADMIN,p(Oy.rpc,Function)?Oy.rpc():Oy.rpc=!0,Oy.callback=!1,Oy),this,Mze,"fetch_stat_total_subs",Wvr,so.prototype)}set create_payout_srv(e){this.create_payout_srv.$set(e,this,Lze,"create_payout_srv")}get create_payout_srv(){return this.create_payout_srv.$get(this,Lze,"create_payout_srv")}get create_payout_srv(){return this[Zvr]||y((Ry=this.action(),p(Ry.rx,Function)?Ry.rx(ADMIN):Ry.rx=ADMIN,p(Ry.rpc,Function)?Ry.rpc():Ry.rpc=!0,Ry.callback=!1,Ry),this,Lze,"create_payout_srv",Zvr,so.prototype)}set editpayoutdetails(e){this.editpayoutdetails.$set(e,this,Dze,"editpayoutdetails")}get editpayoutdetails(){return this.editpayoutdetails.$get(this,Dze,"editpayoutdetails")}get editpayoutdetails(){return this[Gvr]||y((xE=this.action(),p(xE.rx,Function)?xE.rx(OWNER|ADMIN):xE.rx=OWNER|ADMIN,xE.callback=function(){let e=this.user.afl_payout_details.$checkout();return OP.dialog(e,"editor")},xE),this,Dze,"editpayoutdetails",Gvr,so.prototype)}set create_payout(e){this.create_payout.$set(e,this,Nze,"create_payout")}get create_payout(){return this.create_payout.$get(this,Nze,"create_payout")}get create_payout(){return this[Yvr]||y((My=this.action(),p(My.rx,Function)?My.rx(ADMIN):My.rx=ADMIN,p(My.if,Function)?My.if(function(){return this.payout_available}):My.if=function(){return this.payout_available},My.callback=async function(){let e=await this.create_payout_srv();if(e)return APP.open(e)},My),this,Nze,"create_payout",Yvr,so.prototype)}tourl(){return this.$up.asurl+"affiliate"}get user(){return this.$up}get tab(){return!!this.$up.afp}get payout_available(){return this.due.amount>Mwr}opoverviewbody(){var L;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return r=t[gce]=t[gce]||new Map,o=n=1,(e=r.get(i=this))||(o=n=0,r.set(i,e=R("op",null,"cdj-af",null))),o||(e[sh]=t._),o||((L=e[j_])==null||L.call(e,t,gce)),s=e[qze]("__",e),u=c=1,(a=e[rwr])||(u=c=0,e[rwr]=a=w("div",s,"cdj-ag",null)),h=a[A_](yln),f=m=1,(d=h.run(this.ostats(this)))||(f=m=0,h.cache(d=M(h.value,a,"cdj_ag",null))),d[Fy]&&(f||(d.only="total_visitors|total_signups|total_subs|total_sales"),(!f||m&2)&&d.flags.reconcile(vE,"cdj_ag"),f||!d.setup||d.setup(m,h),d[Xi](m)),d==a[vE]||!a[vE]&&(a[vE]=d)[RV](a)||a[vE][MV](a[vE]=d,a),$=a[A_](bln),g=x=1,(b=$.run(this.ostats(this)))||(g=x=0,$.cache(b=M($.value,a,"cdj_ag",null))),b[Fy]&&(g||(b.only="total_commission|paid_out|due|maturing"),(!g||x&2)&&b.flags.reconcile(wE,"cdj_ag"),g||!b.setup||b.setup(x,$),b[Xi](x)),b==a[wE]||!a[wE]&&(a[wE]=b)[RV](a)||a[wE][MV](a[wE]=b,a),u||!a.setup||a.setup(c,k),a[Xi](c),_=e[A_](gln),v=C=1,(S=_.run(this.oel(this.user.afl_visitors.chart,"body")))||(v=C=0,_.cache(S=M(_.value,s,null,null))),S[Fy]&&(v||!S.setup||S.setup(C,_),S[Xi](C)),S==e[AV]||!e[AV]&&s[Wze](e[AV]=S)||(s[Zze](S,e[AV]),e[AV]=S),j=e[A_](kln),U=O=1,(P=j.run(this.oel(this.user.afl_signups.chart,"body")))||(U=O=0,j.cache(P=M(j.value,s,null,null))),P[Fy]&&(U||!P.setup||P.setup(O,j),P[Xi](O)),P==e[UV]||!e[UV]&&s[Wze](e[UV]=P)||(s[Zze](P,e[UV]),e[UV]=P),o||t.sym||!e.setup||e.setup(n,t,gce),t.sym||e[Xi](n),e}set fetch_table_visitors(e){this.fetch_table_visitors.$set(e,this,Ize,"fetch_table_visitors")}get fetch_table_visitors(){return this.fetch_table_visitors.$get(this,Ize,"fetch_table_visitors")}get fetch_table_visitors(){return this[Xvr]||y((Ly=this.action(),p(Ly.x,Function)?Ly.x(OWNER|ADMIN):Ly.x=OWNER|ADMIN,p(Ly.rpc,Function)?Ly.rpc():Ly.rpc=!0,Ly.callback=!1,Ly),this,Ize,"fetch_table_visitors",Xvr,so.prototype)}set fetch_table_signups(e){this.fetch_table_signups.$set(e,this,Fze,"fetch_table_signups")}get fetch_table_signups(){return this.fetch_table_signups.$get(this,Fze,"fetch_table_signups")}get fetch_table_signups(){return this[Kvr]||y((Dy=this.action(),p(Dy.x,Function)?Dy.x(OWNER|ADMIN):Dy.x=OWNER|ADMIN,p(Dy.rpc,Function)?Dy.rpc():Dy.rpc=!0,Dy.callback=!1,Dy),this,Fze,"fetch_table_signups",Kvr,so.prototype)}set fetch_table_subscriptions(e){this.fetch_table_subscriptions.$set(e,this,Hze,"fetch_table_subscriptions")}get fetch_table_subscriptions(){return this.fetch_table_subscriptions.$get(this,Hze,"fetch_table_subscriptions")}get fetch_table_subscriptions(){return this[Jvr]||y((Ny=this.action(),p(Ny.x,Function)?Ny.x(OWNER|ADMIN):Ny.x=OWNER|ADMIN,p(Ny.rpc,Function)?Ny.rpc():Ny.rpc=!0,Ny.callback=!1,Ny),this,Hze,"fetch_table_subscriptions",Jvr,so.prototype)}set fetch_table_transactions(e){this.fetch_table_transactions.$set(e,this,Bze,"fetch_table_transactions")}get fetch_table_transactions(){return this.fetch_table_transactions.$get(this,Bze,"fetch_table_transactions")}get fetch_table_transactions(){return this[Qvr]||y((Iy=this.action(),p(Iy.x,Function)?Iy.x(OWNER|ADMIN):Iy.x=OWNER|ADMIN,p(Iy.rpc,Function)?Iy.rpc():Iy.rpc=!0,Iy.callback=!1,Iy),this,Bze,"fetch_table_transactions",Qvr,so.prototype)}set fetch_tables(e){this.fetch_tables.$set(e,this,Vze,"fetch_tables")}get fetch_tables(){return this.fetch_tables.$get(this,Vze,"fetch_tables")}get fetch_tables(){return this[ewr]||y((SE=this.action(),p(SE.rx,Function)?SE.rx(OWNER|ADMIN):SE.rx=OWNER|ADMIN,SE.callback=async function(){var e=this;let t=[];return t.push(this.fetch_table_visitors().then(function(r){return e._visitors=r})),t.push(this.fetch_table_signups().then(function(r){return e._signups=r})),t.push(this.fetch_table_subscriptions().then(function(r){return e._subscribers=r})),t.push(this.fetch_table_transactions().then(function(r){return e._transactions=r})),await Promise.all(t),Cr()},SE),this,Vze,"fetch_tables",ewr,so.prototype)}set fetch_all(e){this.fetch_all.$set(e,this,zze,"fetch_all")}get fetch_all(){return this.fetch_all.$get(this,zze,"fetch_all")}get fetch_all(){return this[twr]||y((CE=this.action(),p(CE.rx,Function)?CE.rx(OWNER|ADMIN):CE.rx=OWNER|ADMIN,CE.callback=async function(){return await Promise.all([this.update_stats(),this.fetch_tables()]),OP.toast("Stats and tables have been updated"),Cr()},CE),this,zze,"fetch_all",twr,so.prototype)}opvisitorsbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[kce])||(r=o=0,e=t[kce]=e=R("op-dynamic-table",null,null,null)),r||(e[sh]=t._),r||((i=e[j_])==null||i.call(e,t,kce)),n=this._visitors,n===e[owr]||(e.data=e[owr]=n),r||t.sym||!e.setup||e.setup(o,t,kce),t.sym||e[Xi](o),e}opsignupsbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[_ce])||(r=o=0,e=t[_ce]=e=R("op-dynamic-table",null,null,null)),r||(e[sh]=t._),r||((i=e[j_])==null||i.call(e,t,_ce)),n=this._signups,n===e[nwr]||(e.data=e[nwr]=n),r||t.sym||!e.setup||e.setup(o,t,_ce),t.sym||e[Xi](o),e}opsubscribersbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[xce])||(r=o=0,e=t[xce]=e=R("op-dynamic-table",null,null,null)),r||(e[sh]=t._),r||((i=e[j_])==null||i.call(e,t,xce)),n=this._subscribers,n===e[iwr]||(e.data=e[iwr]=n),r||t.sym||!e.setup||e.setup(o,t,xce),t.sym||e[Xi](o),e}optransactionsbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[vce])||(r=o=0,e=t[vce]=e=R("op-dynamic-table",null,null,null)),r||(e[sh]=t._),r||((i=e[j_])==null||i.call(e,t,vce)),n=this._transactions,n===e[swr]||(e.data=e[swr]=n),r||t.sym||!e.setup||e.setup(o,t,vce),t.sym||e[Xi](o),e}oppayoutsbody(){var N;var e,t,r,o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F;return s=a=1,(n=i[wce])||(s=a=0,n=i[wce]=n=w("div",null,"cdj-ap",null)),s||(n[sh]=i._),s||((N=n[j_])==null||N.call(n,i,wce)),o=null,ME.admin&&(u=c=1,(o=n[lwr])||(u=c=0,n[lwr]=o=w("div",null,"cdj-aq",null)),u||(o[sh]=n),(h=o[awr])||(o[awr]=h=w("h1",o,null,null)),e=null,this.payout_available?e="Create a new payout":e="Payout unavailable",o[uwr]=h[bi](e,0,o[uwr]),t=null,this.payout_available&&(d=f=1,(t=o[cwr])||(d=f=0,o[cwr]=t=w("p",null,null,null)),d||(t[sh]=o),m=this.due,m===t[pwr]&&d||(t[hwr]=t[bi](t[pwr]=m,128,t[hwr])),d||t[bi](" is available for payout.")),o[dwr]=o[bi](t,0,o[dwr]),r=null,this.payout_available||($=b=1,(r=o[fwr])||($=b=0,o[fwr]=r=w("p",null,null,null)),$||(r[sh]=o),$||r[bi]("You have "),g=this.due,g===r[$wr]&&$||(r[mwr]=r[bi](r[$wr]=g,0,r[mwr])),$||r[bi](" commission due. You need a minimum of "),g=Mwr,g===r[bwr]&&$||(r[ywr]=r[bi](r[bwr]=g,0,r[ywr])),$||r[bi](" for a payout.")),o[gwr]=o[bi](r,0,o[gwr]),x=o[A_](_ln),_=S=1,(k=x.run(this.obutton(this.create_payout)))||(_=S=0,x.cache(k=M(x.value,o,"blue",null))),k[Fy]&&(_||(k.label="Create New Payout"),(!_||S&2)&&k.flags.reconcile(EE,"blue"),_||!k.setup||k.setup(S,x),k[Xi](S)),k==o[EE]||!o[EE]&&(o[EE]=k)[RV](o)||o[EE][MV](o[EE]=k,o),u||!o.setup||o.setup(c,v),o[Xi](c)),n[kwr]=n[bi](o,0,n[kwr]),C=n[A_](xln),P=U=1,(j=C.run(this.obutton(this.editpayoutdetails)))||(P=U=0,C.cache(j=M(C.value,n,null,null))),j[Fy]&&(P||(j.label="Edit Payout Details"),P||(j.icon="edit"),P||!j.setup||j.setup(U,C),j[Xi](U)),j==n[PV]||!n[PV]&&(n[PV]=j)[RV](n)||n[PV][MV](n[PV]=j,n),O=n[A_](vln),I=F=1,(L=O.run(this.oel(this.user.afl_payouts.table,"payouts-section")))||(I=F=0,O.cache(L=M(O.value,n,null,null))),L[Fy]&&(I||!L.setup||L.setup(F,O),L[Xi](F)),L==n[TV]||!n[TV]&&(n[TV]=L)[RV](n)||n[TV][MV](n[TV]=L,n),s||i.sym||!n.setup||n.setup(a,i,wce),i.sym||n[Xi](a),n}opstatsbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Sce])||(r=o=0,e=t[Sce]=e=R("op",null,null,"Welcome to the affiliate program")),r||(e[sh]=t._),r||((i=e[j_])==null||i.call(e,t,Sce)),n=e[qze]("__",e),r||t.sym||!e.setup||e.setup(o,t,Sce),t.sym||e[Xi](o),e}get scrimbassadorsdiscordchannel(){return"https://discord.gg/QykAMmz6cm"}opownpagebody(){var K,X;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z;this[Eln]??=this.fetch_all();let Y=this.user.afls.slice(0).map(wln);o=r[Cce]=r[Cce]||new Map,n=i=1,(t=o.get(s=this))||(n=i=0,o.set(s,t=R("op",null,"cdj-ay",null))),n||(t[sh]=r._),n||((K=t[j_])==null||K.call(t,r,Cce)),a=t[qze]("__",t),(u=t[_wr])||(t[_wr]=u=w("div",a,"markdown",null)),(c=t[xwr])||(t[xwr]=c=w("h2",u,"cdj-ba",null)),n||c[bi]("You have joined the "),h=(X=this.user.afp)==null?void 0:X.name,h===t[wwr]&&n||(t[vwr]=c[bi](t[wwr]=h,0,t[vwr])),n||c[bi](" Affiliate Program."),(d=t[Swr])||(t[Swr]=d=w("p",u,"cdj-bb",null)),n||d[bi]("To promote any page on Scrimba add a "),n||(f=w("i",d,null,"via")),n||d[bi](" url parameter with your affiliate ID as value to the url, "),n||(m=w("i",d,null,null)),($=t[Cwr])||(t[Cwr]=$=w("strong",m,null,null)),n||$[bi]("?via="),pt.context=t[jwr]||(t[jwr]={_:$}),b=Y.join(" or "),pt.context=null,b===t[Awr]&&n||(t[Ewr]=$[bi](t[Awr]=b,256,t[Ewr])),n||d[bi](". Reach out to us if you need additional affiliate links. Your current links:"),e=null,this.user.scrimbassador&&(g=x=1,(e=t[Uwr])||(g=x=0,t[Uwr]=e=w("p",null,"cdj-bf",null)),g||(e[sh]=u),g||e[bi]("Make sure you join the "),_=S=1,(k=e[Pwr])||(_=S=0,e[Pwr]=k=w("a",e,"cdj-bg","Scrimbassador's channel on Discord")),v=this.scrimbassadorsdiscordchannel,v===e[Twr]||(k.href=e[Twr]=v),_||(k.target="_blank"),g||e[bi](" so that you can connect with other Scrimbassadors and get ideas for how to succeed with the program.")),t[Owr]=u[bi](e,0,t[Owr]),(C=t[Rwr])||(t[Rwr]=C=wt(256,u)),j=0,P=C.$;for(let Z=0,Q=B(this.user.afls),ee=Q.length;Z<ee;Z++){let te=Q[Z];L=I=1,(O=(U=P[jln](Sln,j)).run(this.oel(te,"li")))||(L=I=0,U.cache(O=M(U.value,C,null,null))),L||(O[sh]=C),O[Fy]&&(L||!O.setup||O.setup(I,U),O[Xi](I)),C.push(O,j++,F)}return C[Xi](j),N=t[A_](Cln),W=z=1,(V=N.run(this.oel(this,"page-tabs")))||(W=z=0,N.cache(V=M(N.value,a,null,null))),V[Fy]&&(W||!V.setup||V.setup(z,N),V[Xi](z)),V==t[OV]||!t[OV]&&a[Wze](t[OV]=V)||(a[Zze](V,t[OV]),t[OV]=V),n||r.sym||!t.setup||t.setup(i,r,Cce),r.sym||t[Xi](i),t}};E(so,Lwr,"UserAffiliate",16);var Gze=so;globalThis.UserAffiliate=Gze;T();oe();ge(),dt(),$e();var Yze=Symbol("id"),Dwr=Symbol(),Xze=Symbol("affiliate"),Nwr=Symbol(),Kze=Symbol("livemode"),Iwr=Symbol(),Jze=Symbol("paid_at"),Fwr=Symbol(),Qze=Symbol("paid_amount"),Hwr=Symbol(),eqe=Symbol("currency"),Bwr=Symbol(),tqe=Symbol("manual_amount"),Vwr=Symbol(),rqe=Symbol("note"),zwr=Symbol(),oqe=Symbol("invoices"),qwr=Symbol(),nqe=Symbol("pay_date"),Wwr=Symbol(),iqe=Symbol("cre_date"),Zwr=Symbol(),sqe=Symbol("paid?"),Gwr=Symbol(),lqe=Symbol("status"),Ywr=Symbol(),aqe=Symbol("total_usd"),Xwr=Symbol(),uqe=Symbol("edit-item"),Kwr=Symbol(),cqe=Symbol("open_payout"),Jwr=Symbol(),hqe=Symbol("calculate_paid_amount"),Qwr=Symbol(),pqe=Symbol("add_manual_amount"),eSr=Symbol(),dqe=Symbol("mark_as_paid"),tSr=Symbol(),fqe=Symbol("remove-payout"),rSr=Symbol(),U_,P_,oSr,LV,nSr,Ece,Rd,DV,NV,mqe,$qe,yqe,bqe,gqe,Hy,jce=Symbol(),iSr=Symbol(),sSr=Symbol(),lSr=Symbol(),aSr=Symbol(),Ace=Symbol(),uSr=Symbol(),cSr=Symbol(),hSr=Symbol(),pSr=Symbol(),dSr=Symbol(),fSr=Symbol(),mSr=Symbol(),$Sr=Symbol(),ySr=Symbol(),bSr=Symbol(),gSr=Symbol(),kSr=Symbol(),_Sr=Symbol(),xSr=Symbol(),vSr=Symbol(),wSr=Symbol(),SSr=Symbol(),CSr=Symbol(),ESr=Symbol(),jSr=Symbol(),ASr=Symbol(),USr=Symbol(),PSr=Symbol(),TSr=Symbol(),OSr=Symbol(),RSr=Symbol(),MSr=Symbol(),LSr=Symbol(),DSr=Symbol(),NSr=Symbol(),ISr=Symbol(),FSr=Symbol(),HSr=Symbol(),lp,By,Vy,ap,up,Uce=Symbol.for("##up"),BSr=Symbol.for("##register"),VSr=Symbol.for("#getSlot"),IV=Symbol.for("#afterVisit"),zSr=Symbol.for("#appendChild"),Qf=Symbol.for("#placeChild"),Aln=Symbol(),ri=class ri extends OPObject{set id(e){this.id.$set(e,this,Yze,"id")}get id(){return this.id.$get(this,Yze,"id")}get id(){return this[Dwr]||y((U_=this.key(),p(U_.r,Function)?U_.r(REFERRER|OWNER|ADMIN):U_.r=REFERRER|OWNER|ADMIN,p(U_.wxcd,Function)?U_.wxcd(ADMIN):U_.wxcd=ADMIN,U_),this,Yze,"id",Dwr,ri.prototype)}set affiliate(e){this.affiliate.$set(e,this,Xze,"affiliate")}get affiliate(){return this.affiliate.$get(this,Xze,"affiliate")}get affiliate(){return this[Nwr]||y((P_=this.ref(User),p(P_.as,Function)?P_.as(OWNER):P_.as=OWNER,p(P_.vias,Function)?P_.vias(OWNER):P_.vias=OWNER,P_),this,Xze,"affiliate",Nwr,ri.prototype)}set livemode(e){this.livemode.$set(e,this,Kze,"livemode")}get livemode(){return this.livemode.$get(this,Kze,"livemode")}get livemode(){return this[Iwr]||y((oSr=this.bool(),oSr),this,Kze,"livemode",Iwr,ri.prototype)}set paid_at(e){this.paid_at.$set(e,this,Jze,"paid_at")}get paid_at(){return this.paid_at.$get(this,Jze,"paid_at")}get paid_at(){return this[Fwr]||y((LV=this.ts(),p(LV.editable,Function)?LV.editable():LV.editable=!0,LV),this,Jze,"paid_at",Fwr,ri.prototype)}set paid_amount(e){this.paid_amount.$set(e,this,Qze,"paid_amount")}get paid_amount(){return this.paid_amount.$get(this,Qze,"paid_amount")}get paid_amount(){return this[Hwr]||y((nSr=this.money(),nSr),this,Qze,"paid_amount",Hwr,ri.prototype)}set currency(e){this.currency.$set(e,this,eqe,"currency")}get currency(){return this.currency.$get(this,eqe,"currency")}get currency(){return this[Bwr]||y((Ece=this.string(),Ece.default=function(){return"usd"},Ece.default.literal="usd",Ece),this,eqe,"currency",Bwr,ri.prototype)}set manual_amount(e){this.manual_amount.$set(e,this,tqe,"manual_amount")}get manual_amount(){return this.manual_amount.$get(this,tqe,"manual_amount")}get manual_amount(){return this[Vwr]||y((Rd=this.int(),p(Rd.editable,Function)?Rd.editable():Rd.editable=!0,p(Rd.label,Function)?Rd.label("Manual payout adjustment in US cents"):Rd.label="Manual payout adjustment in US cents",p(Rd.fallback,Function)?Rd.fallback(function(){return 0}):Rd.fallback=function(){return 0},Rd),this,tqe,"manual_amount",Vwr,ri.prototype)}set note(e){this.note.$set(e,this,rqe,"note")}get note(){return this.note.$get(this,rqe,"note")}get note(){return this[zwr]||y((DV=this.string(),p(DV.editable,Function)?DV.editable():DV.editable=!0,DV),this,rqe,"note",zwr,ri.prototype)}set invoices(e){this.invoices.$set(e,this,oqe,"invoices")}get invoices(){return this.invoices.$get(this,oqe,"invoices")}get invoices(){return this[qwr]||y((NV=this.children(StripeInvoice),p(NV.r,Function)?NV.r(REFERRER|OWNER|ADMIN):NV.r=REFERRER|OWNER|ADMIN,NV),this,oqe,"invoices",qwr,ri.prototype)}set pay_date(e){this.pay_date.$set(e,this,nqe,"pay_date")}get pay_date(){return this.pay_date.$get(this,nqe,"pay_date")}get pay_date(){return this[Wwr]||y((mqe=this.get(),mqe.callback=function(){return this.paid_at?new Date(this.paid_at).toISOString().substring(0,10):""},mqe),this,nqe,"pay_date",Wwr,ri.prototype)}set cre_date(e){this.cre_date.$set(e,this,iqe,"cre_date")}get cre_date(){return this.cre_date.$get(this,iqe,"cre_date")}get cre_date(){return this[Zwr]||y(($qe=this.get(),$qe.callback=function(){return new Date(this._cre).toISOString().substring(0,10)},$qe),this,iqe,"cre_date",Zwr,ri.prototype)}set paid(e){this.paid.$set(e,this,sqe,"paid")}get paid(){return this.paid.$get(this,sqe,"paid")}get paid(){return this[Gwr]||y((yqe=this.get(),yqe.callback=function(){return!!this.paid_at},yqe),this,sqe,"paid",Gwr,ri.prototype)}set status(e){this.status.$set(e,this,lqe,"status")}get status(){return this.status.$get(this,lqe,"status")}get status(){return this[Ywr]||y((bqe=this.get(),bqe.callback=function(){return this.paid_at?"Paid":"Created"},bqe),this,lqe,"status",Ywr,ri.prototype)}set total_usd(e){this.total_usd.$set(e,this,aqe,"total_usd")}get total_usd(){return this.total_usd.$get(this,aqe,"total_usd")}get total_usd(){return this[Xwr]||y((gqe=this.get(),gqe.callback=function(){let e=this.invoices.reduce(function(r,o){return r+(o.aflcut_usd.amount||0)},0),t=Number(e)+Number(this.manual_amount);return OPMoney.from(t,"usd")},gqe),this,aqe,"total_usd",Xwr,ri.prototype)}set edititem(e){this.edititem.$set(e,this,uqe,"edititem")}get edititem(){return this.edititem.$get(this,uqe,"edititem")}get edititem(){return this[Kwr]||y((Hy=this.action(),p(Hy.g,Function)?Hy.g(500):Hy.g=500,p(Hy.rx,Function)?Hy.rx(OPADMIN):Hy.rx=OPADMIN,Hy.callback=function(){let e=this.$checkout();OP.dialog(e,"editor")},Hy),this,uqe,"edititem",Kwr,ri.prototype)}opinvoicesstat(e){var d;var t,r=H(),o,n,i,s,a,u,c,h;return o=n=1,(t=r[jce])||(o=n=0,t=r[jce]=t=R("op-stat",null,"cdl-af",null)),o||(t[Uce]=r._),o||((d=t[BSr])==null||d.call(t,r,jce)),i=t[VSr]("__",t),e===t[iSr]||(t.data=t[iSr]=e),o||t.on$("optip",{},this),a=u=1,(s=t[sSr])||(a=u=0,t[sSr]=s=R("op-icon",i,null,null)),a||(s.data="invoice"),a||!s.setup||s.setup(u,c),s[IV](u),a||i[zSr](s),h=e.size,h===t[aSr]&&o||(t[lSr]=i[Qf](t[aSr]=h,256,t[lSr])),o||r.sym||!t.setup||t.setup(n,r,jce),r.sym||t[IV](n),t}opownpagebody(){var je,ue,xe,Re,Oe,qe,Ne;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be;t.this=this,n=i=1,(o=t[Ace])||(n=i=0,o=t[Ace]=o=R("op",null,"cdl-ah",null)),n||(o[Uce]=t._),n||((je=o[BSr])==null||je.call(o,t,Ace)),s=o[VSr]("__",o),n||(a=w("div",s,"cdl-ai",null)),c=h=1,(u=o[uSr])||(c=h=0,o[uSr]=u=R("op-button",a,null,null)),c||(u.icon="back"),c||u.on$("click",{$_:[function(Ie,Ke){var Te;return Xt.go(""+((Te=t.this.affiliate)==null?void 0:Te.asurl)+":affiliate:payouts")}]},this),c||(u.label="Back to Affiliate overview"),c||!u.setup||u.setup(h,d),u[IV](h),c||a[zSr](u),n||(f=w("div",s,"cdl-ak",null)),n||(f.id="details"),n||(m=w("h2",f,null,"Payout Details")),($=o[cSr])||(o[cSr]=$=w("h4",f,null,null)),n||$[Qf]("Affiliate name: "),b=(ue=this.affiliate)==null?void 0:ue.name,b===o[pSr]&&n||(o[hSr]=$[Qf](o[pSr]=b,256,o[hSr])),(g=o[dSr])||(o[dSr]=g=w("div",f,"cdl-an",null)),n||(x=w("div",g,"cdl-ao",null)),n||(k=w("label",x,null,"Date of payment")),(_=o[fSr])||(o[fSr]=_=w("div",x,null,null)),pt.context=o[$Sr]||(o[$Sr]={_}),S=(Re=(xe=this.paid_at)==null?void 0:xe.toLocaleDateString)==null?void 0:Re.call(xe),pt.context=null,S===o[ySr]&&n||(o[mSr]=_[Qf](o[ySr]=S,384,o[mSr])),n||(v=w("div",g,"cdl-ar",null)),n||(C=w("label",v,null,"Amount paid")),(j=o[bSr])||(o[bSr]=j=w("div",v,null,null)),P=this.paid_amount,P===o[kSr]&&n||(o[gSr]=j[Qf](o[kSr]=P,384,o[gSr])),r=null,this.manual_amount&&(U=O=1,(r=o[_Sr])||(U=O=0,o[_Sr]=r=w("div",null,"cdl-au",null)),U||(r[Uce]=g),U||(L=w("label",r,null,"Manual adjustment")),(I=r[xSr])||(r[xSr]=I=w("div",r,null,null)),F=OPMoney.from(this.manual_amount,"usd"),F===r[vSr]||I.text$(String(r[vSr]=F))),o[wSr]=g[Qf](r,0,o[wSr]),n||(N=w("div",g,"cdl-ax",null)),n||(V=w("label",N,null,"Transactions")),(W=o[SSr])||(o[SSr]=W=w("div",N,null,null)),z=(Oe=this.invoices)==null?void 0:Oe.size,z===o[CSr]||W.text$(String(o[CSr]=z)),n||(q=w("div",s,"cdl-ba",null)),n||(Y=w("h2",q,null,"Included Invoices")),n||(K=w("table",q,"xtable",null)),n||(X=w("thead",K,"cdl-bd thead",null)),n||(Z=w("tr",X,"tr",null)),n||(Q=w("th",Z,null,"Date")),n||(ee=w("th",Z,null,"Amount")),n||(te=w("th",Z,null,"Commission")),n||(ne=w("th",Z,null,"ID")),(ie=o[ESr])||(o[ESr]=ie=w("tbody",K,"cdl-bj tbody",null)),(J=o[jSr])||(o[jSr]=J=Jt(384,ie)),me=0,ce=J.$;for(let Ie=0,Ke=B(this.invoices),Te=Ke.length;Ie<Te;Ie++){let Ce=Ke[Ie];we=ae=1,(ye=ce[me])||(we=ae=0,ce[me]=ye=w("tr",J,"tr",null)),we||(ye[Uce]=J),(be=ye[ASr])||(ye[ASr]=be=w("td",ye,null,null)),pt.context=ye[PSr]||(ye[PSr]={_:be}),_e=(Ne=(qe=Ce._cre)==null?void 0:qe.toLocaleDateString)==null?void 0:Ne.call(qe),pt.context=null,_e===ye[TSr]&&we||(ye[USr]=be[Qf](ye[TSr]=_e,384,ye[USr])),(Ae=ye[OSr])||(ye[OSr]=Ae=w("td",ye,null,null)),ve=Ce.total_usd,ve===ye[MSr]&&we||(ye[RSr]=Ae[Qf](ye[MSr]=ve,384,ye[RSr])),(Pe=ye[LSr])||(ye[LSr]=Pe=w("td",ye,null,null)),He=Ce.aflcut_usd,He===ye[NSr]&&we||(ye[DSr]=Pe[Qf](ye[NSr]=He,384,ye[DSr])),(Ue=ye[ISr])||(ye[ISr]=Ue=w("td",ye,null,null)),Be=Ce.id,Be===ye[HSr]&&we||(ye[FSr]=Ue[Qf](ye[HSr]=Be,384,ye[FSr])),me++}return J[IV](me),n||t.sym||!o.setup||o.setup(i,t,Ace),t.sym||o[IV](i),o}set open_payout(e){this.open_payout.$set(e,this,cqe,"open_payout")}get open_payout(){return this.open_payout.$get(this,cqe,"open_payout")}get open_payout(){return this[Jwr]||y((lp=this.action(),p(lp.rx,Function)?lp.rx(ADMIN):lp.rx=ADMIN,p(lp.if,Function)?lp.if(function(){var e,t,r;return((r=(t=(e=APP==null?void 0:APP.url)==null?void 0:e.page)==null?void 0:t.main)==null?void 0:r.object)!=this}):lp.if=function(){var e,t,r;return((r=(t=(e=APP==null?void 0:APP.url)==null?void 0:e.page)==null?void 0:t.main)==null?void 0:r.object)!=this},p(lp.g,Function)?lp.g(100):lp.g=100,lp.callback=function(){return APP.open(this)},lp),this,cqe,"open_payout",Jwr,ri.prototype)}set calculate_paid_amount(e){this.calculate_paid_amount.$set(e,this,hqe,"calculate_paid_amount")}get calculate_paid_amount(){return this.calculate_paid_amount.$get(this,hqe,"calculate_paid_amount")}get calculate_paid_amount(){return this[Qwr]||y((By=this.action(),p(By.rx,Function)?By.rx(ADMIN):By.rx=ADMIN,p(By.rpc,Function)?By.rpc():By.rpc=!0,By.callback=!1,By),this,hqe,"calculate_paid_amount",Qwr,ri.prototype)}set add_manual_amount(e){this.add_manual_amount.$set(e,this,pqe,"add_manual_amount")}get add_manual_amount(){return this.add_manual_amount.$get(this,pqe,"add_manual_amount")}get add_manual_amount(){return this[eSr]||y((Vy=this.action(),p(Vy.rx,Function)?Vy.rx(ADMIN):Vy.rx=ADMIN,p(Vy.g,Function)?Vy.g(100):Vy.g=100,Vy.callback=async function(){let e=parseInt(globalThis.prompt("How many cents to add (100 = $1)? Currently "+this.manual_amount),10);if(!isNaN(e))return await this.update({manual_amount:e}),this.paid_amount=await this.calculate_paid_amount()},Vy),this,pqe,"add_manual_amount",eSr,ri.prototype)}set mark_as_paid(e){this.mark_as_paid.$set(e,this,dqe,"mark_as_paid")}get mark_as_paid(){return this.mark_as_paid.$get(this,dqe,"mark_as_paid")}get mark_as_paid(){return this[tSr]||y((ap=this.action(),p(ap.rx,Function)?ap.rx(ADMIN):ap.rx=ADMIN,p(ap.if,Function)?ap.if(function(){return!this.paid_at}):ap.if=function(){return!this.paid_at},p(ap.g,Function)?ap.g(100):ap.g=100,ap.callback=async function(){let e=await this.calculate_paid_amount();return await this.update({paid_at:Date.now(),paid_amount:e})},ap),this,dqe,"mark_as_paid",tSr,ri.prototype)}openinvoice(e){return APP.open(e)}get removable(){return Date.now()-this._cre<1e3*60*60*24*3}set removepayout(e){this.removepayout.$set(e,this,fqe,"removepayout")}get removepayout(){return this.removepayout.$get(this,fqe,"removepayout")}get removepayout(){return this[rSr]||y((up=this.action(),p(up.rx,Function)?up.rx(ADMIN):up.rx=ADMIN,p(up.g,Function)?up.g(100):up.g=100,p(up.if,Function)?up.if(function(){return this.removable}):up.if=function(){return this.removable},up.callback=async function(){let e=this.invoices.map(function(t){return t.update({payout:null})});return await Promise.all(e),await this.delete(),Cr()},up),this,fqe,"removepayout",rSr,ri.prototype)}};E(ri,Aln,"AffiliatePayout",0);var kqe=ri;globalThis.AffiliatePayout=kqe;T();oe();T();var qSr="/assets/social-avatar.AK3RN3IF.jpg";var fv={url:qSr,type:"image",width:800,height:800,toString:function(){return this.url}};ge(),dt(),We(),$e();var _qe=Symbol("pro"),WSr=Symbol(),xqe=Symbol("bootcamp"),ZSr=Symbol(),vqe=Symbol("survey"),GSr=Symbol(),wqe=Symbol("seen_survey"),YSr=Symbol(),Sqe=Symbol("id"),XSr=Symbol(),Cqe=Symbol("admin"),KSr=Symbol(),Eqe=Symbol("teacher"),JSr=Symbol(),jqe=Symbol("ticket_email_notifications"),QSr=Symbol(),Aqe=Symbol("name"),e7r=Symbol(),Uqe=Symbol("bio"),t7r=Symbol(),Pqe=Symbol("alias"),r7r=Symbol(),Tqe=Symbol("following"),o7r=Symbol(),Oqe=Symbol("custom_avatar"),n7r=Symbol(),Rqe=Symbol("country"),i7r=Symbol(),Mqe=Symbol("email"),s7r=Symbol(),Lqe=Symbol("legacy_id"),l7r=Symbol(),Dqe=Symbol("legacy_di"),a7r=Symbol(),Nqe=Symbol("synced_progress"),u7r=Symbol(),Iqe=Symbol("discord"),c7r=Symbol(),Fqe=Symbol("discord_id"),h7r=Symbol(),Hqe=Symbol("twitter_handle"),p7r=Symbol(),Bqe=Symbol("google_id"),d7r=Symbol(),Vqe=Symbol("email_verified"),f7r=Symbol(),zqe=Symbol("github_id"),m7r=Symbol(),qqe=Symbol("pins"),$7r=Symbol(),Wqe=Symbol("beacons"),y7r=Symbol(),Zqe=Symbol("email_addresses"),b7r=Symbol(),Gqe=Symbol("subs"),g7r=Symbol(),Yqe=Symbol("_emails"),k7r=Symbol(),Xqe=Symbol("_apps"),_7r=Symbol(),Kqe=Symbol("_subscriptions"),x7r=Symbol(),Jqe=Symbol("active_subs"),v7r=Symbol(),Qqe=Symbol("_gifts"),w7r=Symbol(),eWe=Symbol("stripe_accounts"),S7r=Symbol(),tWe=Symbol("referrer"),C7r=Symbol(),rWe=Symbol("pending_invites"),E7r=Symbol(),oWe=Symbol("github"),j7r=Symbol(),nWe=Symbol("delete_helpscout_data"),A7r=Symbol(),iWe=Symbol("grant-dev-coupon"),U7r=Symbol(),sWe=Symbol("delete-all-my-pro-and-stripe-stuff"),P7r=Symbol(),lWe=Symbol("features"),T7r=Symbol(),aWe=Symbol("env"),O7r=Symbol(),uWe=Symbol("courses"),R7r=Symbol(),cWe=Symbol("scrims"),M7r=Symbol(),hWe=Symbol("templates"),L7r=Symbol(),pWe=Symbol("solutions"),D7r=Symbol(),dWe=Symbol("scribbles"),N7r=Symbol(),fWe=Symbol("playlists"),I7r=Symbol(),mWe=Symbol("certs"),F7r=Symbol(),$We=Symbol("grant-certificate"),H7r=Symbol(),yWe=Symbol("settings"),B7r=Symbol(),bWe=Symbol("feedback"),V7r=Symbol(),gWe=Symbol("affiliate"),z7r=Symbol(),kWe=Symbol("logs"),q7r=Symbol(),_We=Symbol("admin_tab"),W7r=Symbol(),xWe=Symbol("_invoices"),Z7r=Symbol(),vWe=Symbol("get-ms-paid"),G7r=Symbol(),wWe=Symbol("migrate-avatar"),Y7r=Symbol(),SWe=Symbol("remove-custom-avatar"),X7r=Symbol(),CWe=Symbol("set-avatar"),K7r=Symbol(),EWe=Symbol("set-affiliation"),J7r=Symbol(),jWe=Symbol("toggle-teacher"),Q7r=Symbol(),AWe=Symbol("new-playlist"),e9r=Symbol(),UWe=Symbol("new-template"),t9r=Symbol(),PWe=Symbol("go-to-google"),r9r=Symbol(),TWe=Symbol("sync-progress"),o9r=Symbol(),OWe=Symbol("import-subscriptions"),n9r=Symbol(),RWe=Symbol("sync-stripe"),i9r=Symbol(),MWe=Symbol("create-new-customer"),s9r=Symbol(),LWe=Symbol("pro"),l9r=Symbol(),DWe=Symbol("grant-free-days"),a9r=Symbol(),NWe=Symbol("grant-free-days-srv"),u9r=Symbol(),IWe=Symbol("open-user-github"),c9r=Symbol(),FWe=Symbol("new-email"),h9r=Symbol(),HWe=Symbol("new-email-srv"),p9r=Symbol(),BWe=Symbol("open-billing-portals"),d9r=Symbol(),VWe=Symbol("edit-notifications"),f9r=Symbol(),FV,m9r,Pce=Symbol(),$9r=Symbol(),Pln=Symbol(),y9r,HV,fc,Md,T_,mv,O_,BV,Ld,b9r,g9r,Dd,mc,VV,zV,qV,WV,Nd,ZV,GV,YV,R_,XV,KV,JV,M_,Tln=le("&.exists?",globalThis,l=>l.exists),L_,zy,Oln=le("&.loaded?",globalThis,l=>l.loaded),qy,Rln=le("&.items",globalThis,l=>l.items),Mln=le("!&.incomplete?",globalThis,l=>!l.incomplete),Wy,Lln=le("!&.incomplete? and !&.ended?",globalThis,l=>!l.incomplete&&!l.ended),Zy,Dln=le("&._cre",globalThis,l=>l._cre),QV,Nln=le("&.thismode?",globalThis,l=>l.thismode),D_,ez,Iln=le("&.pending?",globalThis,l=>l.pending),tz,Fln=le("&.academia?",globalThis,l=>l.academia),Gy,Yy,cp,Tce=Symbol(),k9r=Symbol(),_9r=Symbol(),N_,I_,jE,x9r=le("&.courses.size",globalThis,l=>l.courses.size),AE,Hln=le("!&.scribble? and !&.template? and !&.solution?)",globalThis,l=>!l.scribble&&!l.template&&!l.solution),Oce=le("&.modified",globalThis,l=>l.modified),UE,Bln=le("&.template?",globalThis,l=>l.template),v9r=le("&.templates.size",globalThis,l=>l.templates.size),Xy,Vln=le("&.solution?",globalThis,l=>l.solution),w9r=le("&.solutions.size",globalThis,l=>l.solutions.size),Ky,zln=le("&.scribble?",globalThis,l=>l.scribble),S9r=le("&.scribbles.size",globalThis,l=>l.scribbles.size),Jy,C9r=le("&.playlists.size",globalThis,l=>l.playlists.size),PE,qln=le("&.issued",globalThis,l=>l.issued),E9r=le("&.certs.size",globalThis,l=>l.certs.size),TE,F_,H_,j9r=le("&.feedback.size",globalThis,l=>l.feedback.size),B_,Id,$c,OE,A9r=le("& isa StripeInvoice",globalThis,l=>p(l,StripeInvoice)),zWe,Rce=Symbol(),U9r=Symbol(),rz=Symbol(),Wln=Symbol(),P9r=Symbol(),Mce=Symbol(),T9r=Symbol(),Lce=Symbol(),O9r=Symbol(),Dce=Symbol(),R9r=Symbol(),qWe=Symbol(),M9r=Symbol(),L9r=Symbol(),WWe=Symbol(),D9r=Symbol(),N9r=Symbol(),RE,LE,hp,DE,Qy,pp,dp,NE,eb,fp,tb,mp,ZWe,rb,$p,DGn=le("&.active_or_trialing?",globalThis,l=>l.active_or_trialing),Nce=Symbol(),I9r=Symbol(),Ice=Symbol(),Fce=Symbol(),F9r=Symbol(),H9r=Symbol(),Hce=Symbol(),Bce=Symbol(),B9r=Symbol(),V9r=Symbol(),Zln=le("&.workspace?",globalThis,l=>l.workspace),ob,Gln=le("&.listed?",globalThis,l=>l.listed),GWe=Symbol(),z9r=Symbol(),q9r=Symbol(),W9r=Symbol(),Z9r=Symbol(),G9r=Symbol(),Y9r=Symbol(),X9r=Symbol(),Vce=Symbol(),K9r=Symbol(),J9r=Symbol(),Q9r=Symbol(),eCr=Symbol(),tCr=Symbol(),rCr=Symbol(),oCr=Symbol(),nCr=Symbol(),iCr=Symbol(),sCr=Symbol(),oz=Symbol(),Yln=Symbol(),lCr=Symbol(),zce=Symbol(),IE=Symbol(),Xln=Symbol(),aCr=Symbol(),uCr=Symbol(),cCr=Symbol(),hCr=Symbol(),pCr=Symbol(),nz=Symbol(),Kln=Symbol(),dCr=Symbol(),fCr=Symbol(),mCr=Symbol(),$Cr=Symbol(),yCr=Symbol(),bCr=Symbol(),gCr=Symbol(),iz=Symbol(),Jln=Symbol(),qce=Symbol(),kCr=Symbol(),sz=Symbol(),Qln=Symbol(),lz=Symbol(),ean=Symbol();var tan=Symbol(),_Cr=Symbol(),xCr=Symbol(),vCr=Symbol(),wCr=Symbol(),ran=Symbol(),oan=Symbol(),SCr=Symbol(),Wce=Symbol(),CCr=Symbol(),ECr=Symbol(),jCr=Symbol(),YWe=Symbol(),ACr=Symbol(),UCr=Symbol(),PCr=Symbol(),Zce=Symbol(),TCr=Symbol(),FE=Symbol(),nan=Symbol(),OCr=Symbol(),RCr=Symbol(),MCr=Symbol(),LCr=Symbol(),az=Symbol(),ian=Symbol(),uz=Symbol(),san=Symbol(),Gce=Symbol(),HE=Symbol(),lan=Symbol(),Yce=Symbol(),DCr=Symbol(),NCr=Symbol(),ICr=Symbol(),BE=Symbol(),aan=Symbol(),FCr=Symbol(),HCr=Symbol(),BCr=Symbol(),VCr=Symbol(),zCr=Symbol(),qCr=Symbol(),WCr=Symbol(),ZCr=Symbol(),GCr=Symbol(),YCr=Symbol(),cz=Symbol(),uan=Symbol(),hz=Symbol(),can=Symbol(),VE=Symbol(),han=Symbol(),pz=Symbol(),pan=Symbol(),XCr=Symbol();var dan=Symbol(),KCr=Symbol(),JCr=Symbol(),XWe=Symbol(),QCr=Symbol(),eEr=Symbol(),zE=Symbol(),fan=Symbol(),tEr=Symbol(),rEr=Symbol(),oEr=Symbol(),nEr=Symbol(),iEr=Symbol(),sEr=Symbol(),lEr=Symbol(),aEr=Symbol(),uEr=Symbol(),cEr=Symbol(),hEr=Symbol(),pEr=Symbol(),dEr=Symbol(),fEr=Symbol(),qE=Symbol(),man=Symbol(),WE=Symbol(),$an=Symbol(),ZE,nb,GE,Xce=Symbol(),dz=Symbol(),yan=Symbol(),Kce=Symbol(),fz=Symbol(),ban=Symbol(),YE,Jce=Symbol(),mEr=Symbol(),$Er=Symbol(),yEr=Symbol(),bEr=Symbol(),gEr=Symbol(),XE=Symbol(),gan=Symbol(),KE=Symbol(),kan=Symbol(),kEr=Symbol(),_Er=Symbol(),JE=Symbol(),_an=Symbol(),xEr=Symbol(),vEr=Symbol(),wEr=Symbol(),QE=Symbol(),xan=Symbol(),SEr=Symbol(),van=Symbol(),wan=Symbol(),CEr=Symbol(),EEr=Symbol(),jEr=Symbol(),ej=Symbol(),San=Symbol(),AEr=Symbol(),Can=Symbol(),Ean=Symbol(),jan=Symbol(),Aan=Symbol(),Uan=Symbol(),Pan=Symbol(),Tan=Symbol(),Oan=Symbol(),Ran=Symbol(),Man=Symbol(),UEr=Symbol(),PEr=Symbol(),TEr=Symbol(),OEr=Symbol(),REr=Symbol(),MEr=Symbol(),LEr=Symbol(),DEr=Symbol(),NEr=Symbol(),tj=Symbol(),Lan=Symbol(),IEr=Symbol(),Dan=Symbol.for("#matcher"),Qt=Symbol.for("##up"),Un=Symbol.for("##register"),Ys=Symbol.for("#getSlot"),Nan=Symbol.for("#getDynamicContext"),Qr=Symbol.for("#isRichElement"),Lt=Symbol.for("#afterVisit"),KWe=Symbol.for("#visit"),ur=Symbol.for("#placeChild"),lo=Symbol.for("#getRenderContext"),Ki=Symbol.for("#insertInto"),Ji=Symbol.for("#replaceWith"),e2=Symbol.for("#appendChild"),$v=Symbol.for("#replaceChild"),Ian=Symbol(),mz=class mz extends OPEmbed{set pro(e){this.pro.$set(e,this,_qe,"pro")}get pro(){return this.pro.$get(this,_qe,"pro")}get pro(){return this[WSr]||y((FV=this.number(),p(FV.su,Function)?FV.su(PRO):FV.su=PRO,FV),this,_qe,"pro",WSr,mz.prototype)}set bootcamp(e){this.bootcamp.$set(e,this,xqe,"bootcamp")}get bootcamp(){return this.bootcamp.$get(this,xqe,"bootcamp")}get bootcamp(){return this[ZSr]||y((m9r=this.number(),m9r),this,xqe,"bootcamp",ZSr,mz.prototype)}};E(mz,Ian,"UserFeatures",0);var ehe=mz;globalThis.UserFeatures=ehe;var Fan=Symbol(),eZe=class eZe extends OPEmbed{get name(){return"Settings"}};E(eZe,Fan,"UserSettings",0);var the=eZe;globalThis.UserSettings=the;var Han=Symbol(),tZe=class tZe extends OPEmbed{get aslabel(){return"Overview"}get astab(){return"Overview"}opownbody(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;r=o=1,(e=t[Pce])||(r=o=0,e=t[Pce]=e=R("op",null,"cv-af",null)),r||(e[Qt]=t._),r||((m=e[Un])==null||m.call(e,t,Pce)),n=e[Ys]("__",e),(i=e[$9r])||(e[$9r]=i=wt(256,n)),s=0,a=i.$;for(let $=0,b=B(this.entries),g=b.length;$<g;$++){let x=b[$];h=d=1,(c=(u=a[Nan](Pln,s)).run(this.osection(x)))||(h=d=0,u.cache(c=M(u.value,i,null,null))),h||(c[Qt]=i),c[Qr]&&(h||!c.setup||c.setup(d,u),c[Lt](d)),i.push(c,s++,f)}return i[Lt](s),r||t.sym||!e.setup||e.setup(o,t,Pce),t.sym||e[Lt](o),e}};E(tZe,Han,"UserOverview",0);var JWe=tZe;globalThis.UserOverview=JWe;var Qce=Symbol(),Pt=class Pt extends Qe(Qce,OPUser,Linkable,Followable,Publisher){constructor(){super(...arguments),super[A]||this[A](),re(this,Qce)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Qce])==null||o.call(this,...arguments)}static pick(){return OP.pick(this.all())}get new_survey(){return NewUserSurvey.for({user:this})}set survey(e){this.survey.$set(e,this,vqe,"survey")}get survey(){return this.survey.$get(this,vqe,"survey")}get survey(){return this[GSr]||y((y9r=this.ref(UserSurvey),y9r),this,vqe,"survey",GSr,Pt.prototype)}set seen_survey(e){this.seen_survey.$set(e,this,wqe,"seen_survey")}get seen_survey(){return this.seen_survey.$get(this,wqe,"seen_survey")}get seen_survey(){return this[YSr]||y((HV=this.bool(),p(HV.local,Function)?HV.local():HV.local=!0,HV),this,wqe,"seen_survey",YSr,Pt.prototype)}set id(e){this.id.$set(e,this,Sqe,"id")}get id(){return this.id.$get(this,Sqe,"id")}get id(){return this[XSr]||y((fc=this.key(),p(fc.r,Function)?fc.r(ANYONE):fc.r=ANYONE,p(fc.wx,Function)?fc.wx(OWNER|ADMIN):fc.wx=OWNER|ADMIN,p(fc.cd,Function)?fc.cd(OPSRV):fc.cd=OPSRV,p(fc.as,Function)?fc.as(OWNER):fc.as=OWNER,fc),this,Sqe,"id",XSr,Pt.prototype)}set admin(e){this.admin.$set(e,this,Cqe,"admin")}get admin(){return this.admin.$get(this,Cqe,"admin")}get admin(){return this[KSr]||y((Md=this.bool(),p(Md.r,Function)?Md.r(ADMIN):Md.r=ADMIN,p(Md.w,Function)?Md.w(OPSRV):Md.w=OPSRV,p(Md.su,Function)?Md.su(OPADMIN):Md.su=OPADMIN,Md),this,Cqe,"admin",KSr,Pt.prototype)}set teacher(e){this.teacher.$set(e,this,Eqe,"teacher")}get teacher(){return this.teacher.$get(this,Eqe,"teacher")}get teacher(){return this[JSr]||y((T_=this.bool(),p(T_.w,Function)?T_.w(ADMIN):T_.w=ADMIN,p(T_.su,Function)?T_.su(TEACHER):T_.su=TEACHER,T_),this,Eqe,"teacher",JSr,Pt.prototype)}set ticket_email_notifications(e){this.ticket_email_notifications.$set(e,this,jqe,"ticket_email_notifications")}get ticket_email_notifications(){return this.ticket_email_notifications.$get(this,jqe,"ticket_email_notifications")}get ticket_email_notifications(){return this[QSr]||y((mv=this.bool(),p(mv.r,Function)?mv.r(OWNER|ADMIN):mv.r=OWNER|ADMIN,mv.default=function(){return!0},mv.default.literal=!0,mv),this,jqe,"ticket_email_notifications",QSr,Pt.prototype)}set name(e){this.name.$set(e,this,Aqe,"name")}get name(){return this.name.$get(this,Aqe,"name")}get name(){return this[e7r]||y((O_=this.string(),p(O_.s,Function)?O_.s():O_.s=!0,p(O_.editable,Function)?O_.editable():O_.editable=!0,O_),this,Aqe,"name",e7r,Pt.prototype)}set bio(e){this.bio.$set(e,this,Uqe,"bio")}get bio(){return this.bio.$get(this,Uqe,"bio")}get bio(){return this[t7r]||y((BV=this.text(),p(BV.editable,Function)?BV.editable():BV.editable=!0,BV),this,Uqe,"bio",t7r,Pt.prototype)}set alias(e){this.alias.$set(e,this,Pqe,"alias")}get alias(){return this.alias.$get(this,Pqe,"alias")}get alias(){return this[r7r]||y((Ld=this.string(),p(Ld.unique,Function)?Ld.unique():Ld.unique=!0,p(Ld.ci,Function)?Ld.ci():Ld.ci=!0,p(Ld.s,Function)?Ld.s():Ld.s=!0,Ld),this,Pqe,"alias",r7r,Pt.prototype)}set following(e){this.following.$set(e,this,Tqe,"following")}get following(){return this.following.$get(this,Tqe,"following")}get following(){return this[o7r]||y((b9r=this.refs(Followable),b9r),this,Tqe,"following",o7r,Pt.prototype)}set custom_avatar(e){this.custom_avatar.$set(e,this,Oqe,"custom_avatar")}get custom_avatar(){return this.custom_avatar.$get(this,Oqe,"custom_avatar")}get custom_avatar(){return this[n7r]||y((g9r=this.image(),g9r),this,Oqe,"custom_avatar",n7r,Pt.prototype)}set country(e){this.country.$set(e,this,Rqe,"country")}get country(){return this.country.$get(this,Rqe,"country")}get country(){return this[i7r]||y((Dd=this.country(),p(Dd.r,Function)?Dd.r(USER):Dd.r=USER,p(Dd.stat,Function)?Dd.stat(100):Dd.stat=100,p(Dd.lazy,Function)?Dd.lazy():Dd.lazy=!0,Dd),this,Rqe,"country",i7r,Pt.prototype)}set email(e){this.email.$set(e,this,Mqe,"email")}get email(){return this.email.$get(this,Mqe,"email")}get email(){return this[s7r]||y((mc=this.email(),p(mc.unique,Function)?mc.unique():mc.unique=!0,p(mc.r,Function)?mc.r(OWNER|ADMIN):mc.r=OWNER|ADMIN,p(mc.stat,Function)?mc.stat(200):mc.stat=200,p(mc.s,Function)?mc.s():mc.s=!0,mc),this,Mqe,"email",s7r,Pt.prototype)}set legacy_id(e){this.legacy_id.$set(e,this,Lqe,"legacy_id")}get legacy_id(){return this.legacy_id.$get(this,Lqe,"legacy_id")}get legacy_id(){return this[l7r]||y((VV=this.text(),p(VV.r,Function)?VV.r(OWNER|ADMIN):VV.r=OWNER|ADMIN,VV),this,Lqe,"legacy_id",l7r,Pt.prototype)}set legacy_di(e){this.legacy_di.$set(e,this,Dqe,"legacy_di")}get legacy_di(){return this.legacy_di.$get(this,Dqe,"legacy_di")}get legacy_di(){return this[a7r]||y((zV=this.int(),p(zV.r,Function)?zV.r(OWNER|ADMIN):zV.r=OWNER|ADMIN,zV),this,Dqe,"legacy_di",a7r,Pt.prototype)}set synced_progress(e){this.synced_progress.$set(e,this,Nqe,"synced_progress")}get synced_progress(){return this.synced_progress.$get(this,Nqe,"synced_progress")}get synced_progress(){return this[u7r]||y((qV=this.bool(),p(qV.r,Function)?qV.r(OWNER|ADMIN):qV.r=OWNER|ADMIN,qV),this,Nqe,"synced_progress",u7r,Pt.prototype)}set discord(e){this.discord.$set(e,this,Iqe,"discord")}get discord(){return this.discord.$get(this,Iqe,"discord")}get discord(){return this[c7r]||y((WV=this.embed(DiscordProfile),p(WV.r,Function)?WV.r(OWNER|ADMIN):WV.r=OWNER|ADMIN,WV),this,Iqe,"discord",c7r,Pt.prototype)}set discord_id(e){this.discord_id.$set(e,this,Fqe,"discord_id")}get discord_id(){return this.discord_id.$get(this,Fqe,"discord_id")}get discord_id(){return this[h7r]||y((Nd=this.text(),p(Nd.r,Function)?Nd.r(OWNER|ADMIN):Nd.r=OWNER|ADMIN,p(Nd.w,Function)?Nd.w(ADMIN):Nd.w=ADMIN,p(Nd.deprecated,Function)?Nd.deprecated():Nd.deprecated=!0,Nd),this,Fqe,"discord_id",h7r,Pt.prototype)}set twitter_handle(e){this.twitter_handle.$set(e,this,Hqe,"twitter_handle")}get twitter_handle(){return this.twitter_handle.$get(this,Hqe,"twitter_handle")}get twitter_handle(){return this[p7r]||y((ZV=this.text(),p(ZV.r,Function)?ZV.r(OWNER|ADMIN):ZV.r=OWNER|ADMIN,ZV),this,Hqe,"twitter_handle",p7r,Pt.prototype)}set google_id(e){this.google_id.$set(e,this,Bqe,"google_id")}get google_id(){return this.google_id.$get(this,Bqe,"google_id")}get google_id(){return this[d7r]||y((GV=this.text(),p(GV.r,Function)?GV.r(OWNER|ADMIN):GV.r=OWNER|ADMIN,GV),this,Bqe,"google_id",d7r,Pt.prototype)}set email_verified(e){this.email_verified.$set(e,this,Vqe,"email_verified")}get email_verified(){return this.email_verified.$get(this,Vqe,"email_verified")}get email_verified(){return this[f7r]||y((YV=this.bool(),p(YV.r,Function)?YV.r(OWNER|ADMIN):YV.r=OWNER|ADMIN,YV),this,Vqe,"email_verified",f7r,Pt.prototype)}set github_id(e){this.github_id.$set(e,this,zqe,"github_id")}get github_id(){return this.github_id.$get(this,zqe,"github_id")}get github_id(){return this[m7r]||y((R_=this.number(),p(R_.index,Function)?R_.index():R_.index=!0,p(R_.r,Function)?R_.r(OWNER|ADMIN):R_.r=OWNER|ADMIN,R_),this,zqe,"github_id",m7r,Pt.prototype)}set pins(e){this.pins.$set(e,this,qqe,"pins")}get pins(){return this.pins.$get(this,qqe,"pins")}get pins(){return this[$7r]||y((XV=this.refs(Followable),p(XV.r,Function)?XV.r(OWNER|ADMIN):XV.r=OWNER|ADMIN,XV),this,qqe,"pins",$7r,Pt.prototype)}set beacons(e){this.beacons.$set(e,this,Wqe,"beacons")}get beacons(){return this.beacons.$get(this,Wqe,"beacons")}get beacons(){return this[y7r]||y((KV=this.refs(Beacon),p(KV.rw,Function)?KV.rw(ADMIN):KV.rw=ADMIN,KV),this,Wqe,"beacons",y7r,Pt.prototype)}set email_addresses(e){this.email_addresses.$set(e,this,Zqe,"email_addresses")}get email_addresses(){return this.email_addresses.$get(this,Zqe,"email_addresses")}get email_addresses(){return this[b7r]||y((JV=this.children(OPEmail),p(JV.r,Function)?JV.r(OWNER|ADMIN):JV.r=OWNER|ADMIN,JV),this,Zqe,"email_addresses",b7r,Pt.prototype)}set subs(e){this.subs.$set(e,this,Gqe,"subs")}get subs(){return this.subs.$get(this,Gqe,"subs")}get subs(){return this[g7r]||y((M_=this.children(StripeSubscription,Tln),p(M_.sorted,Function)?M_.sorted({_cre:-1}):M_.sorted={_cre:-1},p(M_.r,Function)?M_.r(OWNER|ADMIN):M_.r=OWNER|ADMIN,M_),this,Gqe,"subs",g7r,Pt.prototype)}set _emails(e){this._emails.$set(e,this,Yqe,"_emails")}get _emails(){return this._emails.$get(this,Yqe,"_emails")}get _emails(){return this[k7r]||y((L_=this.coll(OPEmail,{layout:"list"}),p(L_.r,Function)?L_.r(OWNER|ADMIN):L_.r=OWNER|ADMIN,p(L_.nofilter,Function)?L_.nofilter():L_.nofilter=!0,L_),this,Yqe,"_emails",k7r,Pt.prototype)}set _apps(e){this._apps.$set(e,this,Xqe,"_apps")}get _apps(){return this._apps.$get(this,Xqe,"_apps")}get _apps(){return this[_7r]||y((zy=this.coll(OPEmbed,{layout:"list"}),p(zy.r,Function)?zy.r(OWNER|ADMIN):zy.r=OWNER|ADMIN,p(zy.nofilter,Function)?zy.nofilter():zy.nofilter=!0,zy.callback=function(){return[this.github,this.discord].filter(Oln)},zy),this,Xqe,"_apps",_7r,Pt.prototype)}set _subscriptions(e){this._subscriptions.$set(e,this,Kqe,"_subscriptions")}get _subscriptions(){return this._subscriptions.$get(this,Kqe,"_subscriptions")}get _subscriptions(){return this[x7r]||y((qy=this.coll(OPEmbed,{layout:"list"}),p(qy.r,Function)?qy.r(OWNER|ADMIN):qy.r=OWNER|ADMIN,p(qy.nofilter,Function)?qy.nofilter():qy.nofilter=!0,qy.callback=function(){return this.subs.only(Mln).flatMap(Rln)},qy),this,Kqe,"_subscriptions",x7r,Pt.prototype)}set active_subs(e){this.active_subs.$set(e,this,Jqe,"active_subs")}get active_subs(){return this.active_subs.$get(this,Jqe,"active_subs")}get active_subs(){return this[v7r]||y((Wy=this.coll(OPEmbed,{layout:"list"}),p(Wy.r,Function)?Wy.r(OWNER|ADMIN):Wy.r=OWNER|ADMIN,p(Wy.nofilter,Function)?Wy.nofilter():Wy.nofilter=!0,Wy.callback=function(){return this.subs.only(Lln)},Wy),this,Jqe,"active_subs",v7r,Pt.prototype)}set _gifts(e){this._gifts.$set(e,this,Qqe,"_gifts")}get _gifts(){return this._gifts.$get(this,Qqe,"_gifts")}get _gifts(){return this[w7r]||y((Zy=this.coll(OPEmbed,{layout:"list"}),p(Zy.r,Function)?Zy.r(OWNER|ADMIN):Zy.r=OWNER|ADMIN,p(Zy.nofilter,Function)?Zy.nofilter():Zy.nofilter=!0,Zy.callback=function(){var e=this;return Gift.all().only(function(t){return t.giver==e}).desc(Dln)},Zy),this,Qqe,"_gifts",w7r,Pt.prototype)}set stripe_accounts(e){this.stripe_accounts.$set(e,this,eWe,"stripe_accounts")}get stripe_accounts(){return this.stripe_accounts.$get(this,eWe,"stripe_accounts")}get stripe_accounts(){return this[S7r]||y((QV=this.children(StripeCustomer,Nln),p(QV.r,Function)?QV.r(OWNER|ADMIN):QV.r=OWNER|ADMIN,QV),this,eWe,"stripe_accounts",S7r,Pt.prototype)}set referrer(e){this.referrer.$set(e,this,tWe,"referrer")}get referrer(){return this.referrer.$get(this,tWe,"referrer")}get referrer(){return this[C7r]||y((D_=this.url(),p(D_.icon,Function)?D_.icon("url"):D_.icon="url",p(D_.rw,Function)?D_.rw(ADMIN):D_.rw=ADMIN,D_),this,tWe,"referrer",C7r,Pt.prototype)}set pending_invites(e){this.pending_invites.$set(e,this,rWe,"pending_invites")}get pending_invites(){return this.pending_invites.$get(this,rWe,"pending_invites")}get pending_invites(){return this[E7r]||y((ez=this.coll(OrgInvite,Iln,{layout:"list"}),p(ez.r,Function)?ez.r(OWNER|ADMIN):ez.r=OWNER|ADMIN,ez),this,rWe,"pending_invites",E7r,Pt.prototype)}set github(e){this.github.$set(e,this,oWe,"github")}get github(){return this.github.$get(this,oWe,"github")}get github(){return this[j7r]||y((tz=this.embed(GitHubProfile),p(tz.r,Function)?tz.r(OWNER|ADMIN):tz.r=OWNER|ADMIN,tz),this,oWe,"github",j7r,Pt.prototype)}get academia(){return!!this.email_addresses.find(Fln)}set delete_helpscout_data(e){this.delete_helpscout_data.$set(e,this,nWe,"delete_helpscout_data")}get delete_helpscout_data(){return this.delete_helpscout_data.$get(this,nWe,"delete_helpscout_data")}get delete_helpscout_data(){return this[A7r]||y((Gy=this.action(),p(Gy.rx,Function)?Gy.rx(OWNER|ADMIN):Gy.rx=OWNER|ADMIN,p(Gy.rpc,Function)?Gy.rpc():Gy.rpc=!0,Gy.callback=!1,Gy),this,nWe,"delete_helpscout_data",A7r,Pt.prototype)}set grantdevcoupon(e){this.grantdevcoupon.$set(e,this,iWe,"grantdevcoupon")}get grantdevcoupon(){return this.grantdevcoupon.$get(this,iWe,"grantdevcoupon")}get grantdevcoupon(){return this[U7r]||y((Yy=this.action(),p(Yy.rx,Function)?Yy.rx(OPDEV):Yy.rx=OPDEV,p(Yy.rpc,Function)?Yy.rpc():Yy.rpc=!0,Yy.callback=!1,Yy),this,iWe,"grantdevcoupon",U7r,Pt.prototype)}set deleteallmyproandstripestuff(e){this.deleteallmyproandstripestuff.$set(e,this,sWe,"deleteallmyproandstripestuff")}get deleteallmyproandstripestuff(){return this.deleteallmyproandstripestuff.$get(this,sWe,"deleteallmyproandstripestuff")}get deleteallmyproandstripestuff(){return this[P7r]||y((cp=this.action(),p(cp.rx,Function)?cp.rx(ADMIN):cp.rx=ADMIN,p(cp.if,Function)?cp.if(function(){return this.admin&&this.me}):cp.if=function(){return this.admin&&this.me},p(cp.rpc,Function)?cp.rpc():cp.rpc=!0,cp.callback=!1,cp),this,sWe,"deleteallmyproandstripestuff",P7r,Pt.prototype)}opgithubchip(e){var a,u;var t,r=H(),o,n,i,s;if(this.github_id)return o=n=1,(t=r[Tce])||(o=n=0,t=r[Tce]=t=R("op-icon",null,null,null)),o||(t[Qt]=r._),o||((a=t[Un])==null||a.call(t,r,Tce)),o||(t.data="github"),i=t[k9r]||(t[k9r]={options:[null]}),s=this.github,s===i.options[0]||(i.options[0]=s,n|=48),o||t.on$("optip",i,this),n&32&&(n^=32,(u=i[KWe])==null||u.call(i)),i=t[_9r]||(t[_9r]={emit:["open",null]}),i.emit[1]=this.github.url,o||t.on$("click",i,this),o||r.sym||!t.setup||t.setup(n,r,Tce),r.sym||t[Lt](n),t}get slackdebuginfo(){return""+(ME.country.flag||"")+" <https://scrimba.com/"+ME.id+"|"+ME.id+">: "+this._cre.ago+", pro: "+ME.monthspro+" months"}set features(e){this.features.$set(e,this,lWe,"features")}get features(){return this.features.$get(this,lWe,"features")}get features(){return this[T7r]||y((N_=this.embed(ehe),p(N_.r,Function)?N_.r(OWNER|ADMIN):N_.r=OWNER|ADMIN,p(N_.derived,Function)?N_.derived(!1):N_.derived=!1,N_),this,lWe,"features",T7r,Pt.prototype)}set env(e){this.env.$set(e,this,aWe,"env")}get env(){return this.env.$get(this,aWe,"env")}get env(){return this[O7r]||y((I_=this.embed(ScrimEnv),p(I_.r,Function)?I_.r(OPOWNER|ADMIN):I_.r=OPOWNER|ADMIN,p(I_.w,Function)?I_.w(OPOWNER):I_.w=OPOWNER,I_),this,aWe,"env",O7r,Pt.prototype)}set courses(e){this.courses.$set(e,this,uWe,"courses")}get courses(){return this.courses.$get(this,uWe,"courses")}get courses(){return this[R7r]||y((jE=this.coll({name:"Courses"}),p(jE.tab,Function)?jE.tab(x9r):jE.tab=x9r,jE.callback=function(){return this.content.only(Course)},jE),this,uWe,"courses",R7r,Pt.prototype)}set scrims(e){this.scrims.$set(e,this,cWe,"scrims")}get scrims(){return this.scrims.$get(this,cWe,"scrims")}get scrims(){return this[M7r]||y((AE=this.coll({name:"Scrims"}),p(AE.tab,Function)?AE.tab(e=>e.courses.size==0||ME.admin||this.mine):AE.tab=e=>e.courses.size==0||ME.admin||this.mine,AE.callback=function(){return this.content.only(Scrim,Hln,Oce)},AE),this,cWe,"scrims",M7r,Pt.prototype)}set templates(e){this.templates.$set(e,this,hWe,"templates")}get templates(){return this.templates.$get(this,hWe,"templates")}get templates(){return this[L7r]||y((UE=this.coll({name:"Templates"}),p(UE.tab,Function)?UE.tab(v9r):UE.tab=v9r,UE.callback=function(){return this.content.only(Scrim,Bln,Oce)},UE),this,hWe,"templates",L7r,Pt.prototype)}set solutions(e){this.solutions.$set(e,this,pWe,"solutions")}get solutions(){return this.solutions.$get(this,pWe,"solutions")}get solutions(){return this[D7r]||y((Xy=this.coll(),p(Xy.r,Function)?Xy.r(OPOWNER|OPADMIN):Xy.r=OPOWNER|OPADMIN,p(Xy.tab,Function)?Xy.tab(w9r):Xy.tab=w9r,Xy.callback=function(){return this.content.only(Scrim,Vln,Oce)},Xy),this,pWe,"solutions",D7r,Pt.prototype)}set scribbles(e){this.scribbles.$set(e,this,dWe,"scribbles")}get scribbles(){return this.scribbles.$get(this,dWe,"scribbles")}get scribbles(){return this[N7r]||y((Ky=this.coll(),p(Ky.r,Function)?Ky.r(OPOWNER|OPADMIN):Ky.r=OPOWNER|OPADMIN,p(Ky.tab,Function)?Ky.tab(S9r):Ky.tab=S9r,Ky.callback=function(){return this.content.only(Scrim,zln,Oce)},Ky),this,dWe,"scribbles",N7r,Pt.prototype)}set playlists(e){this.playlists.$set(e,this,fWe,"playlists")}get playlists(){return this.playlists.$get(this,fWe,"playlists")}get playlists(){return this[I7r]||y((Jy=this.coll({name:"Playlists"}),p(Jy.r,Function)?Jy.r(OPOWNER|OPADMIN):Jy.r=OPOWNER|OPADMIN,p(Jy.tab,Function)?Jy.tab(C9r):Jy.tab=C9r,Jy.callback=function(){return this.content.only(Playlist)},Jy),this,fWe,"playlists",I7r,Pt.prototype)}set certs(e){this.certs.$set(e,this,mWe,"certs")}get certs(){return this.certs.$get(this,mWe,"certs")}get certs(){return this[F7r]||y((PE=this.coll(Certificate),p(PE.tab,Function)?PE.tab(E9r):PE.tab=E9r,PE.callback=function(){return this.$children.only(Certificate,qln)},PE),this,mWe,"certs",F7r,Pt.prototype)}set grantcertificate(e){this.grantcertificate.$set(e,this,$We,"grantcertificate")}get grantcertificate(){return this.grantcertificate.$get(this,$We,"grantcertificate")}get grantcertificate(){return this[H7r]||y((TE=this.action(),p(TE.rx,Function)?TE.rx(ADMIN):TE.rx=ADMIN,TE.callback=async function(){var o;let e=await OP.pick(Course.all());if(!e)return;let t=(o=e.certs)==null?void 0:o.value[0];if(!t)return;let r=await Certificate.for({user:this,value:t});if(!r.exists)return r.issued=new Date,await r.save(),OP.toast("Cert for "+e.aslabel+" has been granted!")},TE),this,$We,"grantcertificate",H7r,Pt.prototype)}set settings(e){this.settings.$set(e,this,yWe,"settings")}get settings(){return this.settings.$get(this,yWe,"settings")}get settings(){return this[B7r]||y((F_=this.embed(the),p(F_.tab,Function)?F_.tab():F_.tab=!0,p(F_.r,Function)?F_.r(OWNER|ADMIN):F_.r=OWNER|ADMIN,F_),this,yWe,"settings",B7r,Pt.prototype)}set feedback(e){this.feedback.$set(e,this,bWe,"feedback")}get feedback(){return this.feedback.$get(this,bWe,"feedback")}get feedback(){return this[V7r]||y((H_=this.coll(Ticket,{layout:"list"}),p(H_.tab,Function)?H_.tab(j9r):H_.tab=j9r,p(H_.r,Function)?H_.r(ADMIN):H_.r=ADMIN,H_),this,bWe,"feedback",V7r,Pt.prototype)}set affiliate(e){this.affiliate.$set(e,this,gWe,"affiliate")}get affiliate(){return this.affiliate.$get(this,gWe,"affiliate")}get affiliate(){return this[z7r]||y((B_=this.embed(UserAffiliate),p(B_.tab,Function)?B_.tab():B_.tab=!0,p(B_.r,Function)?B_.r(OWNER|ADMIN):B_.r=OWNER|ADMIN,B_),this,gWe,"affiliate",z7r,Pt.prototype)}set logs(e){this.logs.$set(e,this,kWe,"logs")}get logs(){return this.logs.$get(this,kWe,"logs")}get logs(){return this[q7r]||y((Id=this.coll2(OPLogInstance.$.agent),p(Id.tab,Function)?Id.tab():Id.tab=!0,p(Id.r,Function)?Id.r(ADMIN):Id.r=ADMIN,p(Id.list,Function)?Id.list():Id.list=!0,Id),this,kWe,"logs",q7r,Pt.prototype)}set admin_tab(e){this.admin_tab.$set(e,this,_We,"admin_tab")}get admin_tab(){return this.admin_tab.$get(this,_We,"admin_tab")}get admin_tab(){return this[W7r]||y(($c=this.embed(UserAdminTab),p($c.tab,Function)?$c.tab():$c.tab=!0,p($c.r,Function)?$c.r(ADMIN):$c.r=ADMIN,p($c.list,Function)?$c.list():$c.list=!0,p($c.label,Function)?$c.label("admin"):$c.label="admin",$c),this,_We,"admin_tab",W7r,Pt.prototype)}set _invoices(e){this._invoices.$set(e,this,xWe,"_invoices")}get _invoices(){return this._invoices.$get(this,xWe,"_invoices")}get _invoices(){return this[Z7r]||y((OE=this.pub(),p(OE.r,Function)?OE.r(OWNER):OE.r=OWNER,OE.callback=function(e){var t;t=[];for(let r=0,o=B(this.stripe_accounts),n=o.length;r<n;r++){let i=o[r];t.push(e.add(i.$children.filter(A9r)))}return t},OE),this,xWe,"_invoices",Z7r,Pt.prototype)}get invoices(){this._invoices;let e=[];for(let t=0,r=B(this.stripe_accounts),o=r.length;t<o;t++){let n=r[t];for(let i=0,s=B(n.$children.filter(A9r)),a=s.length;i<a;i++){let u=s[i];e.push(u)}}return e}set getmspaid(e){this.getmspaid.$set(e,this,vWe,"getmspaid")}get getmspaid(){return this.getmspaid.$get(this,vWe,"getmspaid")}get getmspaid(){return this[G7r]||y((zWe=this.action(),zWe.callback=async function(){await this.invoices;let e=this.invoices.map(async function(r){await r;let o=0,n=await r.charge;if(!n.paid||n.refunded||n.disputed)return 0;for(let i=0,s=B(r.lines),a=s.length;i<a;i++){let u=s[i],c=new Date,h=new Date(u.period.end*1e3),d=new Date(u.period.start*1e3),f=Math.min(+h,+c),m=Math.min(+d,+c);o+=f-m}return o});return(await Promise.all(e)).sum()},zWe),this,vWe,"getmspaid",G7r,Pt.prototype)}get monthspro(){return this.invoices.reduce(function(e,t){var r;return t.paid&&(((r=t.subscription)==null?void 0:r.interval_type)=="Annual"?e+=12:e+=1),e},0)}get orgs(){return this.$affiliations.only(Org)}optemplatesplaceholder(){var m;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f;return o=n=1,(t=r[Rce])||(o=n=0,t=r[Rce]=t=R("op",null,null,null)),o||(t[Qt]=r._),o||((m=t[Un])==null||m.call(t,r,Rce)),i=t[Ys]("__",t),e=null,this.me?(s=a=1,(e=t[U9r])||(s=a=0,t[U9r]=e=w("span",null,null,null)),s||(e[Qt]=i),s||e[ur]("You have no templates. "),u=e[lo](Wln),h=d=1,(c=u.run(this.olink(this.newtemplate)))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[Qr]&&(h||!c.setup||c.setup(d,u),c[Lt](d)),c==e[rz]||!e[rz]&&(e[rz]=c)[Ki](e)||e[rz][Ji](e[rz]=c,e),s||!e.setup||e.setup(a,f),e[Lt](a)):e=""+this.aslabel+" has no public templates.",t[P9r]=i[ur](e,0,t[P9r]),o||r.sym||!t.setup||t.setup(n,r,Rce),r.sym||t[Lt](n),t}opcoursesplaceholder(){var s;var e,t,r=H(),o,n,i;return o=n=1,(t=r[Mce])||(o=n=0,t=r[Mce]=t=R("op",null,null,null)),o||(t[Qt]=r._),o||((s=t[Un])==null||s.call(t,r,Mce)),i=t[Ys]("__",t),e=null,this.me?e="You have no courses.":e=""+this.aslabel+" has no public courses.",t[T9r]=i[ur](e,0,t[T9r]),o||r.sym||!t.setup||t.setup(n,r,Mce),r.sym||t[Lt](n),t}opscrimsplaceholder(){var s;var e,t,r=H(),o,n,i;return o=n=1,(t=r[Lce])||(o=n=0,t=r[Lce]=t=R("op",null,null,null)),o||(t[Qt]=r._),o||((s=t[Un])==null||s.call(t,r,Lce)),i=t[Ys]("__",t),e=null,this.me?e="You have no scrims.":e=""+this.aslabel+" has no public scrims.",t[O9r]=i[ur](e,0,t[O9r]),o||r.sym||!t.setup||t.setup(n,r,Lce),r.sym||t[Lt](n),t}opplaylistsplaceholder(){var s;var e,t,r=H(),o,n,i;return o=n=1,(t=r[Dce])||(o=n=0,t=r[Dce]=t=R("op",null,null,null)),o||(t[Qt]=r._),o||((s=t[Un])==null||s.call(t,r,Dce)),i=t[Ys]("__",t),e=null,this.me?e="You have no playlists.":e=""+this.aslabel+" has no public playlists.",t[R9r]=i[ur](e,0,t[R9r]),o||r.sym||!t.setup||t.setup(n,r,Dce),r.sym||t[Lt](n),t}op_crestatlabel(e){var s,a;var t,r=H(),o,n,i;return o=n=1,(t=r[qWe])||(o=n=0,t=r[qWe]=t=w("span",null,null,null)),o||(t[Qt]=r._),o||((s=t[Un])==null||s.call(t,r,qWe)),o||t[ur]("Joined "),i=(a=this._cre)==null?void 0:a.ago,i===t[L9r]&&o||(t[M9r]=t[ur](t[L9r]=i,256,t[M9r])),t}opownspan(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[WWe])||(r=o=0,e=t[WWe]=e=w("span",null,null,null)),r||(e[Qt]=t._),r||((i=e[Un])==null||i.call(e,t,WWe)),n=this.aslabel,n===e[N9r]&&r||(e[D9r]=e[ur](e[N9r]=n,384,e[D9r])),e}set migrateavatar(e){this.migrateavatar.$set(e,this,wWe,"migrateavatar")}get migrateavatar(){return this.migrateavatar.$get(this,wWe,"migrateavatar")}get migrateavatar(){return this[Y7r]||y((RE=this.action(),p(RE.rx,Function)?RE.rx(ADMIN):RE.rx=ADMIN,RE.callback=async function(e){let t=window.prompt("Url for avatar",this.githubavatarurl),r=await OPImage.create(t);return this.update({custom_avatar:r})},RE),this,wWe,"migrateavatar",Y7r,Pt.prototype)}set removecustomavatar(e){this.removecustomavatar.$set(e,this,SWe,"removecustomavatar")}get removecustomavatar(){return this.removecustomavatar.$get(this,SWe,"removecustomavatar")}get removecustomavatar(){return this[X7r]||y((LE=this.action(),p(LE.if,Function)?LE.if(function(){return this.custom_avatar&&this.me}):LE.if=function(){return this.custom_avatar&&this.me},LE.callback=function(){return this.custom_avatar=""},LE),this,SWe,"removecustomavatar",X7r,Pt.prototype)}set setavatar(e){this.setavatar.$set(e,this,CWe,"setavatar")}get setavatar(){return this.setavatar.$get(this,CWe,"setavatar")}get setavatar(){return this[K7r]||y((hp=this.action(OPImage),p(hp.rx,Function)?hp.rx(OWNER|ADMIN):hp.rx=OWNER|ADMIN,p(hp.g,Function)?hp.g(502):hp.g=502,p(hp.editable,Function)?hp.editable():hp.editable=!0,hp.callback=async function(e){if(e){this.custom_avatar=e;try{await e.save()}catch{}return this.save()}},hp),this,CWe,"setavatar",K7r,Pt.prototype)}set setaffiliation(e){this.setaffiliation.$set(e,this,EWe,"setaffiliation")}get setaffiliation(){return this.setaffiliation.$get(this,EWe,"setaffiliation")}get setaffiliation(){return this[J7r]||y((DE=this.action(),p(DE.x,Function)?DE.x(OPADMIN):DE.x=OPADMIN,DE.callback=async function(){var e;let t=window.prompt("?via=REF of the affiliate link");if(!t)return;if(!t.match(/^[a-zA-Z0-9\_\-]+$/))throw"Affiliate link REF can only contain letters and numbers";let r=await AffiliateLink.for({ref:t});r.offer&&this.offers.add(r.offer),await this.update({via:r.id,via_user:r.owner,via_ts:Date.now()}),e=[];for(let o=0,n=B(this.subs),i=n.length;o<i;o++){let s=n[o];e.push(await s.setaffiliation(r))}return e},DE),this,EWe,"setaffiliation",J7r,Pt.prototype)}set toggleteacher(e){this.toggleteacher.$set(e,this,jWe,"toggleteacher")}get toggleteacher(){return this.toggleteacher.$get(this,jWe,"toggleteacher")}get toggleteacher(){return this[Q7r]||y((Qy=this.action(),p(Qy.rx,Function)?Qy.rx(OPADMIN):Qy.rx=OPADMIN,p(Qy.g,Function)?Qy.g(200):Qy.g=200,Qy.callback=function(){return this.teacher=!this.teacher},Qy),this,jWe,"toggleteacher",Q7r,Pt.prototype)}set newplaylist(e){this.newplaylist.$set(e,this,AWe,"newplaylist")}get newplaylist(){return this.newplaylist.$get(this,AWe,"newplaylist")}get newplaylist(){return this[e9r]||y((pp=this.action(),p(pp.g,Function)?pp.g(600.5):pp.g=600.5,p(pp.rx,Function)?pp.rx(OWNER):pp.rx=OWNER,p(pp.cooldown,Function)?pp.cooldown(5*1e3):pp.cooldown=5*1e3,pp.callback=async function(){return await Playlist.create({profiles:[this]})},pp),this,AWe,"newplaylist",e9r,Pt.prototype)}set newtemplate(e){this.newtemplate.$set(e,this,UWe,"newtemplate")}get newtemplate(){return this.newtemplate.$get(this,UWe,"newtemplate")}get newtemplate(){return this[t9r]||y((dp=this.action(),p(dp.g,Function)?dp.g(600.5):dp.g=600.5,p(dp.rx,Function)?dp.rx(OWNER):dp.rx=OWNER,p(dp.cooldown,Function)?dp.cooldown(5*1e3):dp.cooldown=5*1e3,dp.callback=function(){return APP.newscrim()},dp),this,UWe,"newtemplate",t9r,Pt.prototype)}set gotogoogle(e){this.gotogoogle.$set(e,this,PWe,"gotogoogle")}get gotogoogle(){return this.gotogoogle.$get(this,PWe,"gotogoogle")}get gotogoogle(){return this[r9r]||y((NE=this.action(),p(NE.label,Function)?NE.label("Go To Google (Connected)"):NE.label="Go To Google (Connected)",NE.callback=function(){return window.open("https://myaccount.google.com/connections","_blank")},NE),this,PWe,"gotogoogle",r9r,Pt.prototype)}set syncprogress(e){this.syncprogress.$set(e,this,TWe,"syncprogress")}get syncprogress(){return this.syncprogress.$get(this,TWe,"syncprogress")}get syncprogress(){return this[o9r]||y((eb=this.action(),p(eb.rx,Function)?eb.rx(OPOWNER|OPADMIN):eb.rx=OPOWNER|OPADMIN,p(eb.if,Function)?eb.if(function(){return this.legacy_id}):eb.if=function(){return this.legacy_id},eb.callback=async function(){return await this.legacy.import_viewings()},eb),this,TWe,"syncprogress",o9r,Pt.prototype)}set importsubscriptions(e){this.importsubscriptions.$set(e,this,OWe,"importsubscriptions")}get importsubscriptions(){return this.importsubscriptions.$get(this,OWe,"importsubscriptions")}get importsubscriptions(){return this[n9r]||y((fp=this.action(),p(fp.rx,Function)?fp.rx(ADMIN):fp.rx=ADMIN,p(fp.if,Function)?fp.if(function(){return this.legacy_id}):fp.if=function(){return this.legacy_id},p(fp.rpc,Function)?fp.rpc():fp.rpc=!0,fp.callback=!1,fp),this,OWe,"importsubscriptions",n9r,Pt.prototype)}set syncstripe(e){this.syncstripe.$set(e,this,RWe,"syncstripe")}get syncstripe(){return this.syncstripe.$get(this,RWe,"syncstripe")}get syncstripe(){return this[i9r]||y((tb=this.action(),p(tb.rx,Function)?tb.rx(ADMIN):tb.rx=ADMIN,p(tb.rpc,Function)?tb.rpc():tb.rpc=!0,tb.callback=!1,tb),this,RWe,"syncstripe",i9r,Pt.prototype)}set createnewcustomer(e){this.createnewcustomer.$set(e,this,MWe,"createnewcustomer")}get createnewcustomer(){return this.createnewcustomer.$get(this,MWe,"createnewcustomer")}get createnewcustomer(){return this[s9r]||y((mp=this.action(),p(mp.rx,Function)?mp.rx(ADMIN):mp.rx=ADMIN,p(mp.confirm,Function)?mp.confirm():mp.confirm=!0,p(mp.rpc,Function)?mp.rpc():mp.rpc=!0,mp.callback=!1,mp),this,MWe,"createnewcustomer",s9r,Pt.prototype)}get admin(){return!!(this.$roles&ADMIN)}get teacher(){return!!(this.$roles&TEACHER)}get pro(){return!!(this.$roles&PRO)}get org(){return p(this,Org)}get via(){return!!this.via}set pro(e){this.pro.$set(e,this,LWe,"pro")}get pro(){return this.pro.$get(this,LWe,"pro")}get pro(){return this[l9r]||y((ZWe=this.get(),ZWe.callback=function(){return!!(this.$roles&PRO)},ZWe),this,LWe,"pro",l9r,Pt.prototype)}set grantfreedays(e){this.grantfreedays.$set(e,this,DWe,"grantfreedays")}get grantfreedays(){return this.grantfreedays.$get(this,DWe,"grantfreedays")}get grantfreedays(){return this[a9r]||y((rb=this.action(),p(rb.rx,Function)?rb.rx(ADMIN):rb.rx=ADMIN,p(rb.if,Function)?rb.if(function(){return!this.org}):rb.if=function(){return!this.org},rb.callback=function(){let e=parseInt(globalThis.prompt("Input the number of days to grant "+this.aslabel));if(!e){OP.toast("Invalid number");return}return this.grantfreedayssrv(e)},rb),this,DWe,"grantfreedays",a9r,Pt.prototype)}set grantfreedayssrv(e){this.grantfreedayssrv.$set(e,this,NWe,"grantfreedayssrv")}get grantfreedayssrv(){return this.grantfreedayssrv.$get(this,NWe,"grantfreedayssrv")}get grantfreedayssrv(){return this[u9r]||y(($p=this.action(),p($p.rx,Function)?$p.rx(ADMIN):$p.rx=ADMIN,p($p.if,Function)?$p.if(function(){return!this.org}):$p.if=function(){return!this.org},p($p.rpc,Function)?$p.rpc():$p.rpc=!0,$p.callback=!1,$p),this,NWe,"grantfreedayssrv",u9r,Pt.prototype)}opprochip(){var s,a;var e,t=H(),r,o,n,i;if(this.pro)return r=o=1,(e=t[Nce])||(r=o=0,e=t[Nce]=e=R("op-icon",null,"cv-aq oicon",null)),r||(e[Qt]=t._),r||((s=e[Un])==null||s.call(e,t,Nce)),r||(e.data="pro"),n=e[I9r]||(e[I9r]={options:[null]}),i=this.$.pro,i===n.options[0]||(n.options[0]=i,o|=48),r||e.on$("optip",n,this),o&32&&(o^=32,(a=n[KWe])==null||a.call(n)),r||t.sym||!e.setup||e.setup(o,t,Nce),t.sym||e[Lt](o),e}opprotip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Ice])||(r=o=0,e=t[Ice]=e=R("op",null,null,"User is an active Scrimba Subscriber.")),r||(e[Qt]=t._),r||((i=e[Un])==null||i.call(e,t,Ice)),n=e[Ys]("__",e),r||t.sym||!e.setup||e.setup(o,t,Ice),t.sym||e[Lt](o),e}opgithubtip(){var h,d,f;var e,t=H(),r,o,n,i,s,a,u,c;return this.github_id?(r=o=1,(e=t[Fce])||(r=o=0,e=t[Fce]=e=R("op",null,null,null)),r||(e[Qt]=t._),r||((h=e[Un])==null||h.call(e,t,Fce)),n=e[Ys]("__",e),r||n[ur]("User is available on GitHub as @"),i=(d=this.github)==null?void 0:d.login,i===e[H9r]&&r||(e[F9r]=n[ur](e[H9r]=i,256,e[F9r])),r||t.sym||!e.setup||e.setup(o,t,Fce),t.sym||e[Lt](o),e):(a=u=1,(s=t[Hce])||(a=u=0,s=t[Hce]=s=R("op",null,null,"User has not connected their account with GitHub")),a||(s[Qt]=t._),a||((f=s[Un])==null||f.call(s,t,Hce)),c=s[Ys]("__",s),a||t.sym||!s.setup||s.setup(u,t,Hce),t.sym||s[Lt](u),s)}op_cretip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Bce])||(r=o=0,e=t[Bce]=e=R("op",null,null,null)),r||(e[Qt]=t._),r||((s=e[Un])==null||s.call(e,t,Bce)),n=e[Ys]("__",e),r||n[ur]("User joined scrimba at "),i=this._cre,i===e[V9r]&&r||(e[B9r]=n[ur](e[V9r]=i,256,e[B9r])),r||t.sym||!e.setup||e.setup(o,t,Bce),t.sym||e[Lt](o),e}get workspace(){return!0}get discord(){return!!this.discord.uid}get github(){return!!this.github_id}get google(){return!!this.google_id}get me(){return this==ME}get mine(){return this.me}get creations(){return this.$affiliations.only(Content)}get icon(){return"https://avatars.githubusercontent.com/u/8467?v=4"}get githubavatarurl(){if(this.github.login||this.github_id)return"https://avatars.githubusercontent.com/"+(this.github.login||"u/"+this.github_id)+"?v=4"}get avatar_url(){var e;return((e=this.custom_avatar)==null?void 0:e.url)||this.githubavatarurl||fv.url}get avatar_full_url(){return"https://scrimba.com"+this.avatar_url}get url(){return this.alias?"/@"+this.alias:"/user/"+this.id}get workspaces(){return this.$affiliations.all(Zln)}set openusergithub(e){this.openusergithub.$set(e,this,IWe,"openusergithub")}get openusergithub(){return this.openusergithub.$get(this,IWe,"openusergithub")}get openusergithub(){return this[c9r]||y((ob=this.action(),p(ob.if,Function)?ob.if(function(){return this.github_id}):ob.if=function(){return this.github_id},p(ob.rx,Function)?ob.rx(ADMIN):ob.rx=ADMIN,ob.callback=async function(){var t;let e;try{let o=await(await globalThis.fetch("https://api.github.com/user/"+this.github_id)).json();e=o==null?void 0:o.login}catch{}return window.open("https://github.com/"+(e||((t=this.github)==null?void 0:t.login)))},ob),this,IWe,"openusergithub",c9r,Pt.prototype)}get content(){return this.me?this.creations:this.$children.only(Content,Gln)}get initial(){return this.name?this.name[0]:this.alias?this.alias[0]:""}[Dan](e){var r,o;let t=this.$rolemap&&this.$rolemap[e];return(e==null?void 0:e.creator)==this||((o=(r=e==null?void 0:e.owners)==null?void 0:r.has)==null?void 0:o.call(r,this))||t>0}get asslug(){return this.alias?"@"+this.alias:this.id}get asicon(){return this.custom_avatar||"user"}get astip(){return"User: "+this.name}get aspidetail(){return this.alias?"@"+this.alias:""}get aslabel(){return this.name||"@"+(this.alias||this.id)}get aspovlabel(){return this.me?"You":this.aslabel}get aslinklabel(){return this.name||"@"+(this.alias||this.id)}get asnavlabel(){return this.aslabel}get asidentifier(){return this.alias?"@"+this.alias:this.id}opowntitle(){var h;var e,t,r=H(),o,n,i,s,a,u,c;return o=n=1,(t=r[GWe])||(o=n=0,t=r[GWe]=t=w("h2",null,null,null)),o||(t[Qt]=r._),o||((h=t[Un])==null||h.call(t,r,GWe)),(i=t[z9r])||(t[z9r]=i=w("b",t,null,null)),s=this.aslabel,s===t[W9r]&&o||(t[q9r]=i[ur](t[W9r]=s,384,t[q9r])),e=null,this.name&&(a=u=1,(e=t[Z9r])||(a=u=0,t[Z9r]=e=w("small",null,null,null)),a||(e[Qt]=t),c=this.asidentifier,c===e[Y9r]&&a||(e[G9r]=e[ur](e[Y9r]=c,384,e[G9r]))),t[X9r]=t[ur](e,0,t[X9r]),t}opownpageheadbadges(){var L;var e,t,r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return a=u=1,(i=s[Vce])||(a=u=0,i=s[Vce]=i=R("op",null,null,null)),a||(i[Qt]=s._),a||((L=i[Un])==null||L.call(i,s,Vce)),c=i[Ys]("__",i),e=null,this.pro&&(h=d=1,(e=i[K9r])||(h=d=0,i[K9r]=e=w("span",null,"cv-az xs op badge","Pro")),h||(e[Qt]=c)),i[J9r]=c[ur](e,0,i[J9r]),t=null,this.admin&&(f=m=1,(t=i[Q9r])||(f=m=0,i[Q9r]=t=w("span",null,"cv-ba xs op badge","Admin")),f||(t[Qt]=c)),i[eCr]=c[ur](t,0,i[eCr]),r=null,this.joined&&($=b=1,(r=i[tCr])||($=b=0,i[tCr]=r=w("span",null,"cv-bb xs op badge","Joined")),$||(r[Qt]=c)),i[rCr]=c[ur](r,0,i[rCr]),o=null,this.teacher&&(g=x=1,(o=i[oCr])||(g=x=0,i[oCr]=o=w("span",null,"cv-bc xs op badge","Teacher")),g||(o[Qt]=c)),i[nCr]=c[ur](o,0,i[nCr]),n=null,this.via&&(ME!=null&&ME.admin)&&(k=_=1,(n=i[iCr])||(k=_=0,i[iCr]=n=w("span",null,"cv-bd xs op badge",null)),k||(n[Qt]=c),S=""+this.via.ref,S===n[sCr]||(n.optip=n[sCr]=S),k||(v=w("span",n,"cv-be","Referred by")),C=n[lo](Yln),P=U=1,(j=C.run(this.olink(this.via_user)))||(P=U=0,C.cache(j=M(C.value,n,null,null))),j[Qr]&&(P||!j.setup||j.setup(U,C),j[Lt](U)),j==n[oz]||!n[oz]&&(n[oz]=j)[Ki](n)||n[oz][Ji](n[oz]=j,n),k||!n.setup||n.setup(_,O),n[Lt](_)),i[lCr]=c[ur](n,0,i[lCr]),a||s.sym||!i.setup||i.setup(u,s,Vce),s.sym||i[Lt](u),i}opownpagehead(){var X;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;return n=i=1,(r=o[zce])||(n=i=0,r=o[zce]=r=R("op",null,"cv-bg",null)),n||(r[Qt]=o._),n||((X=r[Un])==null||X.call(r,o,zce)),s=r[Ys]("__",r),a=r[lo](Xln),c=h=1,(u=a.run(this.oel(this,"page-icon",{size:100})))||(c=h=0,a.cache(u=M(a.value,s,"cv-bh",null))),u[Qr]&&(c||u.on$("opdrop",{},this),(!c||h&2)&&u.flags.reconcile(IE,"cv-bh"),c||!u.setup||u.setup(h,a),u[Lt](h)),u==r[IE]||!r[IE]&&s[e2](r[IE]=u)||(s[$v](u,r[IE]),r[IE]=u),f=m=1,(d=r[aCr])||(f=m=0,r[aCr]=d=w("div",s,"cv-bi",null)),b=g=1,($=d[uCr])||(b=g=0,d[uCr]=$=w("h1",d,"cv-bj",null)),(x=$[cCr])||($[cCr]=x=w("span",$,null,null)),k=this.name,k===$[pCr]&&b||($[hCr]=x[ur]($[pCr]=k,384,$[hCr])),_=$[lo](Kln),v=C=1,(S=_.run(this.oel(this,"page-head-badges")))||(v=C=0,_.cache(S=M(_.value,$,null,null))),S[Qr]&&(v||!S.setup||S.setup(C,_),S[Lt](C)),S==$[nz]||!$[nz]&&($[nz]=S)[Ki]($)||$[nz][Ji]($[nz]=S,$),b||!$.setup||$.setup(g,j),$[Lt](g),e=null,this.alias&&(P=U=1,(e=d[dCr])||(P=U=0,d[dCr]=e=w("h2",null,"cv-bm",null)),P||(e[Qt]=d),(O=e[fCr])||(e[fCr]=O=w("span",e,null,null)),L="@"+this.alias,L===e[$Cr]&&P||(e[mCr]=O[ur](e[$Cr]=L,384,e[mCr]))),d[yCr]=d[ur](e,0,d[yCr]),F=N=1,(I=d[bCr])||(F=N=0,d[bCr]=I=w("div",d,"%bio",null)),V=this.bio,V===d[gCr]||(I.md=d[gCr]=V),t=null,this.bio&&(t="cv-bp"),I.flags.toggle("cv-bp",!!t),W=d[lo](Jln),q=Y=1,(z=W.run(this.oel(this,"page-head-buttons")))||(q=Y=0,W.cache(z=M(W.value,d,null,null))),z[Qr]&&(q||!z.setup||z.setup(Y,W),z[Lt](Y)),z==d[iz]||!d[iz]&&(d[iz]=z)[Ki](d)||d[iz][Ji](d[iz]=z,d),f||!d.setup||d.setup(m,K),d[Lt](m),n||o.sym||!r.setup||r.setup(i,o,zce),o.sym||r[Lt](i),r}opownpageheadbuttons(){var W,z;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return i=s=1,(o=n[qce])||(i=s=0,o=n[qce]=o=R("op",null,null,null)),i||(o[Qt]=n._),i||((W=o[Un])==null||W.call(o,n,qce)),a=o[Ys]("__",o),r=null,this.me?(u=c=1,(r=o[kCr])||(u=c=0,o[kCr]=r=R("op",null,"cv-bs",null)),u||(r[Qt]=a),h=r[Ys]("__",r),d=r[lo](Qln),m=$=1,(f=d.run(this.obutton(APP.signout)))||(m=$=0,d.cache(f=M(d.value,h,null,null))),f[Qr]&&(m||(f.opnav="opnav"),m||!f.setup||f.setup($,d),f[Lt]($)),f==r[sz]||!r[sz]&&h[e2](r[sz]=f)||(h[$v](f,r[sz]),r[sz]=f),b=r[lo](ean),x=k=1,(g=b.run(this.obutton(this.edititem)))||(x=k=0,b.cache(g=M(b.value,h,null,null))),g[Qr]&&(x||(g.label="edit profile"),x||!g.setup||g.setup(k,b),g[Lt](k)),g==r[lz]||!r[lz]&&h[e2](r[lz]=g)||(h[$v](g,r[lz]),r[lz]=g),e=t=null,APP.upgradetoannual.runnable&&((z=this.activesub)!=null&&z.upgradeable)&&(_=r[lo](tan),S=v=1,(e=_.run(this.obuttonif(APP.upgradetoannual)))||(S=v=0,_.cache(e=M(_.value,null,null,null))),S||(e[Qt]=h),e[Qr]&&(S||(e.opnav="opnav"),S||!e.setup||e.setup(v,_),e[Lt](v)),C=j=1,(t=r[_Cr])||(C=j=0,r[_Cr]=t=w("span",null,"cv-bw",null)),C||(t[Qt]=h),U=O=1,(P=t[xCr])||(U=O=0,t[xCr]=P=R("op-icon",t,null,null)),U||(P.data="gift"),U||!P.setup||P.setup(O,L),P[Lt](O),U||t[e2](P),C||t[ur]("Save 50%")),r[vCr]=h[ur](e,0,r[vCr]),r[wCr]=h[ur](t,0,r[wCr]),u||!r.setup||r.setup(c,I),r[Lt](c)):(F=o[lo](oan),N=V=1,(r=F.run(this.obutton(this.followed?this.unfollow:this.follow)))||(N=V=0,F.cache(r=M(F.value,null,"blue",null))),N||(r[Qt]=a),r[Qr]&&(N||(r.opnav="opnav"),(!N||V&2)&&r.flags.reconcile(ran,"blue"),N||!r.setup||r.setup(V,F),r[Lt](V))),o[SCr]=a[ur](r,0,o[SCr]),i||n.sym||!o.setup||o.setup(s,n,qce),n.sym||o[Lt](s),o}opownicon(e,t){var $,b;var r,o=H(),n,i,s,a,u,c,h,d,f,m;if(this.custom_avatar)return n=i=1,(r=o[Wce])||(n=i=0,r=o[Wce]=r=R("op-image",null,"cv-bz icon",null)),n||(r[Qt]=o._),n||(($=r[Un])==null||$.call(r,o,Wce)),s="Avatar of "+this.aslabel,s===r[CCr]||(r.alt=r[CCr]=s),s=(t==null?void 0:t.size)||48,s===r[ECr]||(r.size=r[ECr]=s),n||(r.effect=!1),s=this.custom_avatar,s===r[jCr]||(r.data=r[jCr]=s),n||o.sym||!r.setup||r.setup(i,o,Wce),o.sym||r[Lt](i),r;if(this.avatar_url)return u=c=1,(a=o[YWe])||(u=c=0,a=o[YWe]=a=w("div",null,"cv-ca",null)),u||(a[Qt]=o._),u||((b=a[Un])==null||b.call(a,o,YWe)),d=f=1,(h=a[ACr])||(d=f=0,a[ACr]=h=w("img",a,"cv-cb",null)),m="Avatar of "+this.aslabel,m===a[UCr]||(h.alt=a[UCr]=m),m=this.avatar_url,m===a[PCr]||(h.src=a[PCr]=m),a}opowntip(){var O;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;return o=n=1,(t=r[Zce])||(o=n=0,t=r[Zce]=t=R("op",null,"cv-cc",null)),o||(t[Qt]=r._),o||((O=t[Un])==null||O.call(t,r,Zce)),i=t[Ys]("__",t),s=this,s===t[TCr]||(t.data=t[TCr]=s),a=t[lo](nan),c=h=1,(u=a.run(this.oli(this)))||(c=h=0,a.cache(u=M(a.value,i,"cv-cd inline",null))),u[Qr]&&((!c||h&2)&&u.flags.reconcile(FE,"cv-cd inline"),c||!u.setup||u.setup(h,a),u[Lt](h)),u==t[FE]||!t[FE]&&i[e2](t[FE]=u)||(i[$v](u,t[FE]),t[FE]=u),e=null,this.bio&&(d=f=1,(e=t[OCr])||(d=f=0,t[OCr]=e=w("div",null,"cv-ce articlep",null)),d||(e[Qt]=i),m=this.bio,m===e[RCr]||(e.md=e[RCr]=m)),t[MCr]=i[ur](e,0,t[MCr]),b=g=1,($=t[LCr])||(b=g=0,t[LCr]=$=w("div",i,"cv-cf sm",null)),x=$[lo](ian),_=S=1,(k=x.run(this.obutton(this.openitem)))||(_=S=0,x.cache(k=M(x.value,$,null,null))),k[Qr]&&(_||(k.label="Visit profile"),_||!k.setup||k.setup(S,x),k[Lt](S)),k==$[az]||!$[az]&&($[az]=k)[Ki]($)||$[az][Ji]($[az]=k,$),v=$[lo](san),j=P=1,(C=v.run(this.obutton(this.$.followed)))||(j=P=0,v.cache(C=M(v.value,$,null,null))),C[Qr]&&(j||!C.setup||C.setup(P,v),C[Lt](P)),C==$[uz]||!$[uz]&&($[uz]=C)[Ki]($)||$[uz][Ji]($[uz]=C,$),b||!$.setup||$.setup(g,U),$[Lt](g),o||r.sym||!t.setup||t.setup(n,r,Zce),r.sym||t[Lt](n),t}opcountrytip(e){var h;var t,r=H(),o,n,i,s,a,u,c;return o=n=1,(t=r[Gce])||(o=n=0,t=r[Gce]=t=R("op",null,null,null)),o||(t[Qt]=r._),o||((h=t[Un])==null||h.call(t,r,Gce)),i=t[Ys]("__",t),o||i[ur]("User is located in "),s=t[lo](lan),u=c=1,(a=s.run(this.ovalue(e)))||(u=c=0,s.cache(a=M(s.value,i,"cv-cj",null))),a[Qr]&&(u||a.on$("optip",{},this),(!u||c&2)&&a.flags.reconcile(HE,"cv-cj"),u||!a.setup||a.setup(c,s),a[Lt](c)),a==t[HE]||!t[HE]&&i[e2](t[HE]=a)||(i[$v](a,t[HE]),t[HE]=a),o||r.sym||!t.setup||t.setup(n,r,Gce),r.sym||t[Lt](n),t}opownli(){var ye,we;var e,t,r,o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce;return s=a=1,(n=i[Yce])||(s=a=0,n=i[Yce]=n=w("section",null,"xli",null)),s||(n[Qt]=i._),s||((ye=n[Un])==null||ye.call(n,i,Yce)),u=this,u===n[DCr]||(n.odata=n[DCr]=u),c=n[NCr]||(n[NCr]={options:[null]}),u=this,u===c.options[0]||(c.options[0]=u,a|=48),s||n.on$("opmenu",c,this),a&32&&(a^=32,(we=c[KWe])==null||we.call(c)),c=n[ICr]||(n[ICr]={open:[null]}),c.open[0]=this,s||n.on$("click",c,this),h=n[lo](aan),f=m=1,(d=h.run(this.oicon(this)))||(f=m=0,h.cache(d=M(h.value,n,"bullet",null))),d[Qr]&&((!f||m&2)&&d.flags.reconcile(BE,"bullet"),f||!d.setup||d.setup(m,h),d[Lt](m)),d==n[BE]||!n[BE]&&(n[BE]=d)[Ki](n)||n[BE][Ji](n[BE]=d,n),b=g=1,($=n[FCr])||(b=g=0,n[FCr]=$=w("section",n,null,null)),(x=$[HCr])||($[HCr]=x=w("h2",$,"cv-cn",null)),e=null,this.alias&&(k=_=1,(e=$[BCr])||(k=_=0,$[BCr]=e=w("span",null,"alias cv_cn",null)),k||(e[Qt]=x),k||e[ur]("@"),S=this.alias,S===e[zCr]&&k||(e[VCr]=e[ur](e[zCr]=S,256,e[VCr]))),$[qCr]=x[ur](e,0,$[qCr]),t=null,this.name&&(v=C=1,(t=$[WCr])||(v=C=0,$[WCr]=t=w("span",null,"name cv_cn",null)),v||(t[Qt]=x),j=this.name,j===t[GCr]&&v||(t[ZCr]=t[ur](t[GCr]=j,384,t[ZCr]))),$[YCr]=x[ur](t,0,$[YCr]),b||(P=w("hr",$,null,null)),U=$[lo](uan),L=I=1,(O=U.run(this.ochip(this.$.country)))||(L=I=0,U.cache(O=M(U.value,$,null,null))),O[Qr]&&(L||!O.setup||O.setup(I,U),O[Lt](I)),O==$[cz]||!$[cz]&&($[cz]=O)[Ki]($)||$[cz][Ji]($[cz]=O,$),F=$[lo](can),V=W=1,(N=F.run(this.ochip(this.$.pro)))||(V=W=0,F.cache(N=M(F.value,$,null,null))),N[Qr]&&(V||!N.setup||N.setup(W,F),N[Lt](W)),N==$[hz]||!$[hz]&&($[hz]=N)[Ki]($)||$[hz][Ji]($[hz]=N,$),z=$[lo](han),Y=K=1,(q=z.run(this.ochip(this.$.github)))||(Y=K=0,z.cache(q=M(z.value,$,"cv-ct",null))),q[Qr]&&((!Y||K&2)&&q.flags.reconcile(VE,"cv-ct"),Y||!q.setup||q.setup(K,z),q[Lt](K)),q==$[VE]||!$[VE]&&($[VE]=q)[Ki]($)||$[VE][Ji]($[VE]=q,$),X=$[lo](pan),Q=ee=1,(Z=X.run(this.ochip(this.$._cre)))||(Q=ee=0,X.cache(Z=M(X.value,$,null,null))),Z[Qr]&&(Q||Z.on$("optip",{},this),Q||!Z.setup||Z.setup(ee,X),Z[Lt](ee)),Z==$[pz]||!$[pz]&&($[pz]=Z)[Ki]($)||$[pz][Ji]($[pz]=Z,$),r=o=null,ME.admin&&(te=ne=1,(r=$[XCr])||(te=ne=0,$[XCr]=r=w("span",null,"cv-cv","via")),te||(r[Qt]=$),ie=$[lo](dan),J=me=1,(o=ie.run(this.ochip(this.$.via_user)))||(J=me=0,ie.cache(o=M(ie.value,null,null,null))),J||(o[Qt]=$),o[Qr]&&(J||o.on$("optip",{},this),J||!o.setup||o.setup(me,ie),o[Lt](me))),$[KCr]=$[ur](r,0,$[KCr]),$[JCr]=$[ur](o,0,$[JCr]),b||!$.setup||$.setup(g,ce),$[Lt](g),s||i.sym||!n.setup||n.setup(a,i,Yce),i.sym||n[Lt](a),n}opowntile(){var Z;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X;return n=i=1,(r=o[XWe])||(n=i=0,r=o[XWe]=r=w("div",null,"tile",null)),n||(r[Qt]=o._),n||((Z=r[Un])==null||Z.call(r,o,XWe)),(s=r[QCr])||(r[QCr]=s=w("div",r,"cv-cy %tilecontent",null)),u=c=1,(a=r[eEr])||(u=c=0,r[eEr]=a=w("div",s,"cv-cz user cv_cy",null)),h=a[lo](fan),f=m=1,(d=h.run(this.oicon(this)))||(f=m=0,h.cache(d=M(h.value,a,"cv-da cv_cy",null))),d[Qr]&&((!f||m&2)&&d.flags.reconcile(zE,"cv-da cv_cy"),f||!d.setup||d.setup(m,h),d[Lt](m)),d==a[zE]||!a[zE]&&(a[zE]=d)[Ki](a)||a[zE][Ji](a[zE]=d,a),($=a[tEr])||(a[tEr]=$=w("div",a,"cv-db cv_cy",null)),u||(b=w("h2",$,"cv_cy",null)),(g=a[rEr])||(a[rEr]=g=w("span",b,"cv_cy",null)),x=this.name,x===a[nEr]&&u||(a[oEr]=g[ur](a[nEr]=x,384,a[oEr])),e=null,this.alias&&(k=_=1,(e=a[iEr])||(k=_=0,a[iEr]=e=w("h2",null,"cv-de cv_cy",null)),k||(e[Qt]=$),(S=e[sEr])||(e[sEr]=S=w("span",e,"cv_cy",null)),v="@"+this.alias,v===e[aEr]&&k||(e[lEr]=S[ur](e[aEr]=v,384,e[lEr]))),a[uEr]=$[ur](e,0,a[uEr]),u||!a.setup||a.setup(c,C),a[Lt](c),t=null,this.bio&&(j=P=1,(t=r[cEr])||(j=P=0,r[cEr]=t=w("div",null,"%usertilebio cv_cy",null)),j||(t[Qt]=s),U=this.bio,U===t[pEr]&&j||(t[hEr]=t[ur](t[pEr]=U,384,t[hEr]))),r[dEr]=s[ur](t,0,r[dEr]),L=I=1,(O=r[fEr])||(L=I=0,r[fEr]=O=w("div",s,"cv-dh %erglinks cv_cy",null)),F=O[lo](man),V=W=1,(N=F.run(this.obutton(this.openitem)))||(V=W=0,F.cache(N=M(F.value,O,"cv_cy",null))),N[Qr]&&(V||(N.label="Visit profile"),(!V||W&2)&&N.flags.reconcile(qE,"cv_cy"),V||!N.setup||N.setup(W,F),N[Lt](W)),N==O[qE]||!O[qE]&&(O[qE]=N)[Ki](O)||O[qE][Ji](O[qE]=N,O),z=O[lo]($an),Y=K=1,(q=z.run(this.opfollowedbutton(this)))||(Y=K=0,z.cache(q=M(z.value,O,"cv_cy",null))),q[Qr]&&((!Y||K&2)&&q.flags.reconcile(WE,"cv_cy"),Y||!q.setup||q.setup(K,z),q[Lt](K)),q==O[WE]||!O[WE]&&(O[WE]=q)[Ki](O)||O[WE][Ji](O[WE]=q,O),L||!O.setup||O.setup(I,X),O[Lt](I),r}set newemail(e){this.newemail.$set(e,this,FWe,"newemail")}get newemail(){return this.newemail.$get(this,FWe,"newemail")}get newemail(){return this[h9r]||y((ZE=this.action(),p(ZE.rx,Function)?ZE.rx(OWNER):ZE.rx=OWNER,ZE.callback=async function(){let e=await globalThis.window.prompt("Please enter the email you'd like to add:");if(!(e!=null&&e.email)){OP.toast("Email is invalid",!1);return}return this.newemailsrv(e)},ZE),this,FWe,"newemail",h9r,Pt.prototype)}set newemailsrv(e){this.newemailsrv.$set(e,this,HWe,"newemailsrv")}get newemailsrv(){return this.newemailsrv.$get(this,HWe,"newemailsrv")}get newemailsrv(){return this[p9r]||y((nb=this.action(),p(nb.rx,Function)?nb.rx(OWNER):nb.rx=OWNER,p(nb.rpc,Function)?nb.rpc():nb.rpc=!0,nb.callback=!1,nb),this,HWe,"newemailsrv",p9r,Pt.prototype)}set openbillingportals(e){this.openbillingportals.$set(e,this,BWe,"openbillingportals")}get openbillingportals(){return this.openbillingportals.$get(this,BWe,"openbillingportals")}get openbillingportals(){return this[d9r]||y((GE=this.action(),p(GE.rx,Function)?GE.rx(OWNER|ADMIN):GE.rx=OWNER|ADMIN,GE.callback=function(){var e;if(p(ME.activesub,PaypalSubscription))return ME.activesub.manageonpaypal();e=[];for(let t=0,r=B(this.stripe_accounts),o=r.length;t<o;t++){let n=r[t];e.push(n.openportal())}return e},GE),this,BWe,"openbillingportals",d9r,Pt.prototype)}opactive_subscollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Xce])||(r=o=0,e=t[Xce]=e=R("op",null,null,null)),r||(e[Qt]=t._),r||((c=e[Un])==null||c.call(e,t,Xce)),n=e[Ys]("__",e),i=e[lo](yan),a=u=1,(s=i.run(this.obutton(this.openbillingportals)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Qr]&&(a||(s.icon="view"),a||(s.label="view billing"),a||!s.setup||s.setup(u,i),s[Lt](u)),s==e[dz]||!e[dz]&&n[e2](e[dz]=s)||(n[$v](s,e[dz]),e[dz]=s),r||t.sym||!e.setup||e.setup(o,t,Xce),t.sym||e[Lt](o),e}op_emailscollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Kce])||(r=o=0,e=t[Kce]=e=R("op",null,null,null)),r||(e[Qt]=t._),r||((c=e[Un])==null||c.call(e,t,Kce)),n=e[Ys]("__",e),i=e[lo](ban),a=u=1,(s=i.run(this.obutton(this.newemail)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Qr]&&(a||(s.icon="plus"),a||(s.label="new"),a||!s.setup||s.setup(u,i),s[Lt](u)),s==e[fz]||!e[fz]&&n[e2](e[fz]=s)||(n[$v](s,e[fz]),e[fz]=s),r||t.sym||!e.setup||e.setup(o,t,Kce),t.sym||e[Lt](o),e}set editnotifications(e){this.editnotifications.$set(e,this,VWe,"editnotifications")}get editnotifications(){return this.editnotifications.$get(this,VWe,"editnotifications")}get editnotifications(){return this[f9r]||y((YE=this.action(),p(YE.rx,Function)?YE.rx(OWNER|ADMIN):YE.rx=OWNER|ADMIN,YE.callback=function(){return this.editfields([this.$.ticket_email_notifications])},YE),this,VWe,"editnotifications",f9r,Pt.prototype)}opsettingsbody(){var Me;var e=H(),t=this,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe;return e.this=this,g=x=1,(b=e[Jce])||(g=x=0,b=e[Jce]=b=R("op",null,"cv-do",null)),g||(b[Qt]=e._),g||((Me=b[Un])==null||Me.call(b,e,Jce)),k=b[Ys]("__",b),r=null,ME.afp||(_=S=1,(r=b[mEr])||(_=S=0,b[mEr]=r=w("section",null,"cv_do",null)),_||(r[Qt]=k),_||(v=w("h2",r,"cv_do","Affiliate Program")),j=P=1,(C=r[$Er])||(j=P=0,r[$Er]=C=R("op-button",r,"cv_do",null)),j||(C.label="Join Scrimbassadors"),j||C.on$("click",{$_:[function(ut,Rt){return Xt.go("/scrimbassadors")}]},this),j||!C.setup||C.setup(P,U),C[Lt](P),j||r[e2](C)),b[yEr]=k[ur](r,0,b[yEr]),o=null,this.me&&(O=L=1,(o=b[bEr])||(O=L=0,b[bEr]=o=w("section",null,"cv_do",null)),O||(o[Qt]=k),O||(I=w("h2",o,"cv_do","Account")),N=V=1,(F=o[gEr])||(N=V=0,o[gEr]=F=w("div",o,"cv-du cv_do",null)),W=F[lo](gan),q=Y=1,(z=W.run(this.obutton(this.env.open)))||(q=Y=0,W.cache(z=M(W.value,F,"cv_do",null))),z[Qr]&&(q||(z.label="scrim environment"),(!q||Y&2)&&z.flags.reconcile(XE,"cv_do"),q||!z.setup||z.setup(Y,W),z[Lt](Y)),z==F[XE]||!F[XE]&&(F[XE]=z)[Ki](F)||F[XE][Ji](F[XE]=z,F),K=F[lo](kan),Z=Q=1,(X=K.run(this.obutton(this.editnotifications)))||(Z=Q=0,K.cache(X=M(K.value,F,"cv_do",null))),X[Qr]&&(Z||(X.label="notifications"),(!Z||Q&2)&&X.flags.reconcile(KE,"cv_do"),Z||!X.setup||X.setup(Q,K),X[Lt](Q)),X==F[KE]||!F[KE]&&(F[KE]=X)[Ki](F)||F[KE][Ji](F[KE]=X,F),N||!F.setup||F.setup(V,ee),F[Lt](V)),b[kEr]=k[ur](o,0,b[kEr]),n=null,this._emails.any&&(te=ne=1,(n=b[_Er])||(te=ne=0,b[_Er]=n=w("section",null,"cv_do",null)),te||(n[Qt]=k),ie=n[lo](_an),me=ce=1,(J=ie.run(this.oel(this._emails,"settings-section")))||(me=ce=0,ie.cache(J=M(ie.value,n,"cv-dy compact cv_do",null))),J[Qr]&&((!me||ce&2)&&J.flags.reconcile(JE,"cv-dy compact cv_do"),me||!J.setup||J.setup(ce,ie),J[Lt](ce)),J==n[JE]||!n[JE]&&(n[JE]=J)[Ki](n)||n[JE][Ji](n[JE]=J,n),te||!n.setup||n.setup(ne,ye),n[Lt](ne)),b[xEr]=k[ur](n,0,b[xEr]),s=null,(this.me||ME.admin)&&!this.org&&(we=ae=1,(s=b[vEr])||(we=ae=0,b[vEr]=s=fa(0,null)),we||(s[Qt]=k),_e=Ae=1,(be=s[wEr])||(_e=Ae=0,s[wEr]=be=w("section",s,"cv_do",null)),ve=be[lo](xan),He=Ue=1,(Pe=ve.run(this.oel(this.active_subs,"settings-section")))||(He=Ue=0,ve.cache(Pe=M(ve.value,be,"cv-eb compact cv_do",null))),Pe[Qr]&&((!He||Ue&2)&&Pe.flags.reconcile(QE,"cv-eb compact cv_do"),He||!Pe.setup||Pe.setup(Ue,ve),Pe[Lt](Ue)),Pe==be[QE]||!be[QE]&&(be[QE]=Pe)[Ki](be)||be[QE][Ji](be[QE]=Pe,be),_e||!be.setup||be.setup(Ae,Be),be[Lt](Ae),ue=xe=1,(je=s[SEr])||(ue=xe=0,s[SEr]=je=w("section",s,"cv_do",null)),i=null,this._gifts.size&&(Re=je[lo](wan),Oe=qe=1,(i=Re.run(this.oel(this._gifts,"settings-section")))||(Oe=qe=0,Re.cache(i=M(Re.value,null,"cv-ed compact cv_do",null))),Oe||(i[Qt]=je),i[Qr]&&((!Oe||qe&2)&&i.flags.reconcile(van,"cv-ed compact cv_do"),Oe||!i.setup||i.setup(qe,Re),i[Lt](qe))),je[CEr]=je[ur](i,0,je[CEr]),ue||!je.setup||je.setup(xe,Ne),je[Lt](xe)),b[EEr]=k[ur](s,0,b[EEr]),a=null,this._apps.any&&(Ie=Ke=1,(a=b[jEr])||(Ie=Ke=0,b[jEr]=a=w("section",null,"cv_do",null)),Ie||(a[Qt]=k),Te=a[lo](San),Ze=et=1,(Ce=Te.run(this.oel(this._apps,"settings-section")))||(Ze=et=0,Te.cache(Ce=M(Te.value,a,"cv-ef compact cv_do",null))),Ce[Qr]&&((!Ze||et&2)&&Ce.flags.reconcile(ej,"cv-ef compact cv_do"),Ze||!Ce.setup||Ce.setup(et,Te),Ce[Lt](et)),Ce==a[ej]||!a[ej]&&(a[ej]=Ce)[Ki](a)||a[ej][Ji](a[ej]=Ce,a),Ie||!a.setup||a.setup(Ke,ft),a[Lt](Ke)),b[AEr]=k[ur](a,0,b[AEr]),u=c=h=d=f=null,this.org&&(Ge=b[lo](Ean),Je=ct=1,(u=Ge.run(this.obuttonif(this.grantpro)))||(Je=ct=0,Ge.cache(u=M(Ge.value,null,"cv-eg cv_do",null))),Je||(u[Qt]=k),u[Qr]&&((!Je||ct&2)&&u.flags.reconcile(Can,"cv-eg cv_do"),Je||!u.setup||u.setup(ct,Ge),u[Lt](ct)),rt=b[lo](Aan),$t=it=1,(c=rt.run(this.obuttonif(this.revokepro)))||($t=it=0,rt.cache(c=M(rt.value,null,"cv-eh cv_do",null))),$t||(c[Qt]=k),c[Qr]&&((!$t||it&2)&&c.flags.reconcile(jan,"cv-eh cv_do"),$t||!c.setup||c.setup(it,rt),c[Lt](it)),tt=b[lo](Pan),ze=at=1,(h=tt.run(this.oel(this.people,"settings-section")))||(ze=at=0,tt.cache(h=M(tt.value,null,"compact cv_do",null))),ze||(h[Qt]=k),h[Qr]&&((!ze||at&2)&&h.flags.reconcile(Uan,"compact cv_do"),ze||!h.setup||h.setup(at,tt),h[Lt](at)),st=b[lo](Oan),yt=vt=1,(d=st.run(this.oel(this.removed_people,"settings-section")))||(yt=vt=0,st.cache(d=M(st.value,null,"compact cv_do",null))),yt||(d[Qt]=k),d[Qr]&&((!yt||vt&2)&&d.flags.reconcile(Tan,"compact cv_do"),yt||!d.setup||d.setup(vt,st),d[Lt](vt)),nt=b[lo](Man),Ct=jt=1,(f=nt.run(this.oel(this.pending_invites,"settings-section")))||(Ct=jt=0,nt.cache(f=M(nt.value,null,"compact fixed cv_do",null))),Ct||(f[Qt]=k),f[Qr]&&((!Ct||jt&2)&&f.flags.reconcile(Ran,"compact fixed cv_do"),Ct||!f.setup||f.setup(jt,nt),f[Lt](jt))),b[UEr]=k[ur](u,0,b[UEr]),b[PEr]=k[ur](c,0,b[PEr]),b[TEr]=k[ur](h,0,b[TEr]),b[OEr]=k[ur](d,0,b[OEr]),b[REr]=k[ur](f,0,b[REr]),m=null,this.afls.size&&(bt=Xe=1,(m=b[MEr])||(bt=Xe=0,b[MEr]=m=w("section",null,"cv_do",null)),bt||(m[Qt]=k),bt||(ht=w("h2",m,"cv_do","Affiliate Links")),mt=At=1,(Dt=m[LEr])||(mt=At=0,m[LEr]=Dt=R("op-button",m,"cv_do",null)),mt||(Dt.label="Go to Affiliate tab"),mt||Dt.on$("click",{$_:[function(ut,Rt){return Xt.go(""+e.this.url+":affiliate")}]},this),mt||!Dt.setup||Dt.setup(At,Ut),Dt[Lt](At),mt||m[e2](Dt)),b[DEr]=k[ur](m,0,b[DEr]),$=null,this.me&&(kt=_t=1,($=b[NEr])||(kt=_t=0,b[NEr]=$=w("section",null,"cv_do",null)),kt||($[Qt]=k),kt||(xt=w("h2",$,"cv_do","Delete Account")),Mt=$[lo](Lan),tr=lt=1,(Ot=Mt.run(this.obutton(this.deleteaccount)))||(tr=lt=0,Mt.cache(Ot=M(Mt.value,$,"cv-eq red cv_do",null))),Ot[Qr]&&((!tr||lt&2)&&Ot.flags.reconcile(tj,"cv-eq red cv_do"),tr||!Ot.setup||Ot.setup(lt,Mt),Ot[Lt](lt)),Ot==$[tj]||!$[tj]&&($[tj]=Ot)[Ki]($)||$[tj][Ji]($[tj]=Ot,$),kt||!$.setup||$.setup(_t,fe),$[Lt](_t)),b[IEr]=k[ur]($,0,b[IEr]),g||e.sym||!b.setup||b.setup(x,e,Jce),e.sym||b[Lt](x),b}get onmonthly(){if(this.pro){for(let e=0,t=B(this.subs),r=t.length;e<r;e++){let o=t[e];if(o.status=="active"){for(let n=0,i=B(o.items),s=i.length;n<s;n++)if(!i[n].price.monthly)return!1}}return!0}}get activesub(){var e;e=[];for(let t=0,r=B(this.subs),o=r.length;t<o;t++){let n=r[t];if(n.status=="active")return n}return e}};Pt.prototype[Le]=De,Pt.alias="u",Pt.pgafter=!1,se([ke.bind([])],Pt.prototype,"new_survey",null),E(Pt,Qce,"User",336);var QWe=Pt;globalThis.User=QWe;T();oe();ge(),dt(),$e();var rZe=Symbol("emails"),FEr=Symbol(),oZe=Symbol("admin"),HEr=Symbol(),nZe=Symbol("name"),BEr=Symbol(),iZe=Symbol("org_alias"),VEr=Symbol(),sZe=Symbol("pro"),zEr=Symbol(),lZe=Symbol("submit"),qEr=Symbol(),aZe=Symbol("id"),WEr=Symbol(),uZe=Symbol("org"),ZEr=Symbol(),cZe=Symbol("open-user"),GEr=Symbol(),hZe=Symbol("copy-email"),YEr=Symbol(),pZe=Symbol("remove-user"),XEr=Symbol(),dZe=Symbol("user"),KEr=Symbol(),fZe=Symbol("roles"),JEr=Symbol(),mZe=Symbol("pro"),QEr=Symbol(),$Ze=Symbol("grant-pro"),ejr=Symbol(),yZe=Symbol("revoke-pro"),tjr=Symbol(),bZe=Symbol("people"),rjr=Symbol(),gZe=Symbol("removed_people"),ojr=Symbol(),kZe=Symbol("_content"),njr=Symbol(),_Ze=Symbol("add-member"),ijr=Symbol(),xZe=Symbol("add-member-srv"),sjr=Symbol(),vZe=Symbol("add-invite"),ljr=Symbol(),wZe=Symbol("add-invite-srv"),ajr=Symbol(),ujr,cjr,hjr,pjr,djr,rj,V_,$z,oj,nj,ib,z_,Fd,rhe=Symbol(),fjr=Symbol(),mjr=Symbol(),ohe=Symbol(),$jr=Symbol(),yjr=Symbol(),yz=Symbol(),Ban=Symbol(),bjr=Symbol(),gjr=Symbol(),kjr=Symbol(),_jr=Symbol(),xjr=Symbol(),vjr=Symbol(),wjr=Symbol(),bz=Symbol(),Van=Symbol(),gz=Symbol(),zan=Symbol(),kz=Symbol(),qan=Symbol(),Hd,Xs,Ks,_z,Wan=le("!&.roles.removed?",globalThis,l=>!l.roles.removed),xz,Zan=le("&.roles.removed?",globalThis,l=>l.roles.removed),ij,Gan=le("&.pending?",globalThis,l=>l.pending),yp,sb,lb,nhe=Symbol(),ab,WGn=le("&.status != 'canceled' && !&.deleted?",globalThis,l=>l.status!="canceled"&&!l.deleted),ihe=Symbol(),Sjr=Symbol(),Cjr=Symbol(),Ejr=Symbol(),SZe=Symbol(),jjr=Symbol(),Ajr=Symbol(),Ujr=Symbol(),she=Symbol(),Yan=Symbol(),Xan=Symbol(),Pjr=Symbol(),sj=Symbol(),Kan=Symbol(),lhe=Symbol(),vz=Symbol(),Jan=Symbol(),ahe=Symbol(),wz=Symbol(),Qan=Symbol(),ub=Symbol.for("##up"),q_=Symbol.for("##register"),hhe=Symbol.for("#getSlot"),Cl=Symbol.for("#afterVisit"),phe=Symbol.for("#appendChild"),eun=Symbol.for("#visit"),Z_=Symbol.for("#getRenderContext"),G_=Symbol.for("#isRichElement"),uhe=Symbol.for("#insertInto"),che=Symbol.for("#replaceWith"),EZe=Symbol.for("#placeChild"),CZe=Symbol.for("#replaceChild"),tun=Symbol(),lj=class lj extends Ve("op-submit-dialog","OpSubmitDialogComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.typ=e&&(o=e.typ)!==void 0?o:OrgInvite}set emails(e){this.emails.$set(e,this,rZe,"emails")}get emails(){return this.emails.$get(this,rZe,"emails")}get emails(){return this[FEr]||y((ujr=this.text(),ujr),this,rZe,"emails",FEr,lj.prototype)}set admin(e){this.admin.$set(e,this,oZe,"admin")}get admin(){return this.admin.$get(this,oZe,"admin")}get admin(){return this[HEr]||y((cjr=this.bool(),cjr),this,oZe,"admin",HEr,lj.prototype)}};E(lj,tun,"op-org-invite-dialog",2),pe("op-org-invite-dialog",lj,{});var Tjr=lj,run=Symbol(),W_=class W_ extends Ve("op-submit-dialog","OpSubmitDialogComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.typ=e&&(o=e.typ)!==void 0?o:Cz}set name(e){this.name.$set(e,this,nZe,"name")}get name(){return this.name.$get(this,nZe,"name")}get name(){return this[BEr]||y((hjr=this.string(),hjr),this,nZe,"name",BEr,W_.prototype)}set org_alias(e){this.org_alias.$set(e,this,iZe,"org_alias")}get org_alias(){return this.org_alias.$get(this,iZe,"org_alias")}get org_alias(){return this[VEr]||y((pjr=this.string(),pjr),this,iZe,"org_alias",VEr,W_.prototype)}set pro(e){this.pro.$set(e,this,sZe,"pro")}get pro(){return this.pro.$get(this,sZe,"pro")}get pro(){return this[zEr]||y((djr=this.bool(),djr),this,sZe,"pro",zEr,W_.prototype)}set submit(e){this.submit.$set(e,this,lZe,"submit")}get submit(){return this.submit.$get(this,lZe,"submit")}get submit(){return this[qEr]||y((rj=this.action(),p(rj.if,Function)?rj.if(function(){var e,t,r,o;return((t=(e=this.org_alias)==null?void 0:e.trim)==null?void 0:t.call(e))&&!/\s/.test((o=(r=this.org_alias)==null?void 0:r.trim)==null?void 0:o.call(r))}):rj.if=function(){var e,t,r,o;return((t=(e=this.org_alias)==null?void 0:e.trim)==null?void 0:t.call(e))&&!/\s/.test((o=(r=this.org_alias)==null?void 0:r.trim)==null?void 0:o.call(r))},rj.callback=async function(){let e=await APP.createorg(this.org_alias,this.pro,this.name);if(e)return this.emit("resolve",e),this.emit("open",e)},rj),this,lZe,"submit",qEr,W_.prototype)}};E(W_,run,"op-org-dialog",2),pe("op-org-dialog",W_,{});var Ojr=W_,oun=Symbol(),bp=class bp extends OPObject{set id(e){this.id.$set(e,this,aZe,"id")}get id(){return this.id.$get(this,aZe,"id")}get id(){return this[WEr]||y((V_=this.key(this.org,this.user),p(V_.r,Function)?V_.r(OWNER|MEMBER|ADMIN):V_.r=OWNER|MEMBER|ADMIN,p(V_.wx,Function)?V_.wx(OWNER|ADMIN):V_.wx=OWNER|ADMIN,V_),this,aZe,"id",WEr,bp.prototype)}set org(e){this.org.$set(e,this,uZe,"org")}get org(){return this.org.$get(this,uZe,"org")}get org(){return this[ZEr]||y(($z=this.target(Cz),p($z.vias,Function)?$z.vias({[OPOWNER]:OPOWNER,[OPTEAM]:OPMEMBER}):$z.vias={[OPOWNER]:OPOWNER,[OPTEAM]:OPMEMBER},$z),this,uZe,"org",ZEr,bp.prototype)}set openuser(e){this.openuser.$set(e,this,cZe,"openuser")}get openuser(){return this.openuser.$get(this,cZe,"openuser")}get openuser(){return this[GEr]||y((oj=this.action(),p(oj.g,Function)?oj.g(100):oj.g=100,oj.callback=function(){return APP.url.open(this.user,{metaKey:!0})},oj),this,cZe,"openuser",GEr,bp.prototype)}set copyemail(e){this.copyemail.$set(e,this,hZe,"copyemail")}get copyemail(){return this.copyemail.$get(this,hZe,"copyemail")}get copyemail(){return this[YEr]||y((nj=this.action(),p(nj.g,Function)?nj.g(101):nj.g=101,nj.callback=function(){return OP.copystr(this.user.email)},nj),this,hZe,"copyemail",YEr,bp.prototype)}set removeuser(e){this.removeuser.$set(e,this,pZe,"removeuser")}get removeuser(){return this.removeuser.$get(this,pZe,"removeuser")}get removeuser(){return this[XEr]||y((ib=this.action(),p(ib.g,Function)?ib.g(101):ib.g=101,p(ib.rx,Function)?ib.rx(OPOWNER|ADMIN):ib.rx=OPOWNER|ADMIN,ib.callback=function(){return this.roles="removed",OP.toast("User removed successfully!")},ib),this,pZe,"removeuser",XEr,bp.prototype)}set user(e){this.user.$set(e,this,dZe,"user")}get user(){return this.user.$get(this,dZe,"user")}get user(){return this[KEr]||y((z_=this.actor(OPUser),p(z_.as,Function)?z_.as(OPMEMBER):z_.as=OPMEMBER,p(z_.s,Function)?z_.s():z_.s=!0,z_),this,dZe,"user",KEr,bp.prototype)}set roles(e){this.roles.$set(e,this,fZe,"roles")}get roles(){return this.roles.$get(this,fZe,"roles")}get roles(){return this[JEr]||y((Fd=this.enum({member:{grants:OPMEMBER,default:!0},admin:{grants:OPMEMBER|OPOWNER},removed:{icon:"x"}}),p(Fd.g,Function)?Fd.g(100):Fd.g=100,p(Fd.stat,Function)?Fd.stat():Fd.stat=!0,p(Fd.f,Function)?Fd.f():Fd.f=!0,Fd),this,fZe,"roles",JEr,bp.prototype)}get aslabel(){var e;return((e=this.user)==null?void 0:e.aslabel)||"Unknown"}get asicon(){var e;return(e=this.user)==null?void 0:e.asicon}opownbuttons(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[rhe])||(r=o=0,e=t[rhe]=e=R("op",null,"tz-af actions",null)),r||(e[ub]=t._),r||((h=e[q_])==null||h.call(e,t,rhe)),n=e[hhe]("__",e),s=a=1,(i=e[fjr])||(s=a=0,e[fjr]=i=R("op-button",n,"square",null)),s||i.on$("click",{emit:["contextmenu"]},this),u=this,u===e[mjr]||(i.data=e[mjr]=u),s||(i.icon="more"),s||(i.label="More"),s||!i.setup||i.setup(a,c),i[Cl](a),s||n[phe](i),r||t.sym||!e.setup||e.setup(o,t,rhe),t.sym||e[Cl](o),e}opownli(){var V,W;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N;return r=o=1,(e=t[ohe])||(r=o=0,e=t[ohe]=e=w("section",null,"xli",null)),r||(e[ub]=t._),r||((V=e[q_])==null||V.call(e,t,ohe)),n=this,n===e[$jr]||(e.odata=e[$jr]=n),i=e[yjr]||(e[yjr]={options:[null]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(W=i[eun])==null||W.call(i)),r||e.on$("click",{emit:["contextmenu"]},this),s=e[Z_](Ban),u=c=1,(a=s.run(this.oicon(this.user)))||(u=c=0,s.cache(a=M(s.value,e,null,null))),a[G_]&&(u||!a.setup||a.setup(c,s),a[Cl](c)),a==e[yz]||!e[yz]&&(e[yz]=a)[uhe](e)||e[yz][che](e[yz]=a,e),d=f=1,(h=e[bjr])||(d=f=0,e[bjr]=h=w("section",e,null,null)),(m=h[gjr])||(h[gjr]=m=w("h2",h,null,null)),$=this.user.email,$===h[_jr]&&d||(h[kjr]=m[EZe](h[_jr]=$,384,h[kjr])),(b=h[xjr])||(h[xjr]=b=w("div",h,"tz-al",null)),g=this.user.name||this.user.alias,g===h[wjr]&&d||(h[vjr]=b[EZe](h[wjr]=g,384,h[vjr])),x=h[Z_](Van),_=S=1,(k=x.run(this.ochip(this.$._cre)))||(_=S=0,x.cache(k=M(x.value,h,null,null))),k[G_]&&(_||!k.setup||k.setup(S,x),k[Cl](S)),k==h[bz]||!h[bz]&&(h[bz]=k)[uhe](h)||h[bz][che](h[bz]=k,h),d||(v=w("hr",h,null,null)),C=h[Z_](zan),P=U=1,(j=C.run(this.ochip(this.$.roles)))||(P=U=0,C.cache(j=M(C.value,h,null,null))),j[G_]&&(P||!j.setup||j.setup(U,C),j[Cl](U)),j==h[gz]||!h[gz]&&(h[gz]=j)[uhe](h)||h[gz][che](h[gz]=j,h),d||!h.setup||h.setup(f,O),h[Cl](f),L=e[Z_](qan),F=N=1,(I=L.run(this.oel(this,"more")))||(F=N=0,L.cache(I=M(L.value,e,null,null))),I[G_]&&(F||!I.setup||I.setup(N,L),I[Cl](N)),I==e[kz]||!e[kz]&&(e[kz]=I)[uhe](e)||e[kz][che](e[kz]=I,e),r||t.sym||!e.setup||e.setup(o,t,ohe),t.sym||e[Cl](o),e}};bp.alias="om",bp.pgafter=!1,E(bp,oun,"OrgMember",0);var Sz=bp;globalThis.OrgMember=Sz;var nun=Symbol(),yc=class yc extends User{set pro(e){this.pro.$set(e,this,mZe,"pro")}get pro(){return this.pro.$get(this,mZe,"pro")}get pro(){return this[QEr]||y((Hd=this.bool(),p(Hd.w,Function)?Hd.w(ADMIN):Hd.w=ADMIN,p(Hd.stat,Function)?Hd.stat():Hd.stat=!0,p(Hd.f,Function)?Hd.f():Hd.f=!0,Hd),this,mZe,"pro",QEr,yc.prototype)}set grantpro(e){this.grantpro.$set(e,this,$Ze,"grantpro")}get grantpro(){return this.grantpro.$get(this,$Ze,"grantpro")}get grantpro(){return this[ejr]||y((Xs=this.action(),p(Xs.rx,Function)?Xs.rx(ADMIN):Xs.rx=ADMIN,p(Xs.g,Function)?Xs.g(900):Xs.g=900,p(Xs.if,Function)?Xs.if(function(){return!this.pro}):Xs.if=function(){return!this.pro},p(Xs.confirm,Function)?Xs.confirm("This will grant pro status to all users in the org."):Xs.confirm="This will grant pro status to all users in the org.",p(Xs.rpc,Function)?Xs.rpc():Xs.rpc=!0,Xs.callback=!1,Xs),this,$Ze,"grantpro",ejr,yc.prototype)}set revokepro(e){this.revokepro.$set(e,this,yZe,"revokepro")}get revokepro(){return this.revokepro.$get(this,yZe,"revokepro")}get revokepro(){return this[tjr]||y((Ks=this.action(),p(Ks.rx,Function)?Ks.rx(ADMIN):Ks.rx=ADMIN,p(Ks.g,Function)?Ks.g(900):Ks.g=900,p(Ks.if,Function)?Ks.if(function(){return this.pro}):Ks.if=function(){return this.pro},p(Ks.confirm,Function)?Ks.confirm("This will revoke pro status from all users in the org."):Ks.confirm="This will revoke pro status from all users in the org.",p(Ks.rpc,Function)?Ks.rpc():Ks.rpc=!0,Ks.callback=!1,Ks),this,yZe,"revokepro",tjr,yc.prototype)}set people(e){this.people.$set(e,this,bZe,"people")}get people(){return this.people.$get(this,bZe,"people")}get people(){return this[rjr]||y((_z=this.coll(Sz,Wan,{layout:"list",name:"Members"}),p(_z.r,Function)?_z.r(OWNER|MEMBER|ADMIN):_z.r=OWNER|MEMBER|ADMIN,_z),this,bZe,"people",rjr,yc.prototype)}set removed_people(e){this.removed_people.$set(e,this,gZe,"removed_people")}get removed_people(){return this.removed_people.$get(this,gZe,"removed_people")}get removed_people(){return this[ojr]||y((xz=this.coll(Sz,Zan,{layout:"list",name:"Past Members"}),p(xz.r,Function)?xz.r(OWNER|MEMBER|ADMIN):xz.r=OWNER|MEMBER|ADMIN,xz),this,gZe,"removed_people",ojr,yc.prototype)}set _content(e){this._content.$set(e,this,kZe,"_content")}get _content(){return this._content.$get(this,kZe,"_content")}get _content(){return this[njr]||y((ij=this.coll(),p(ij.tab,Function)?ij.tab():ij.tab=!0,ij.callback=function(){return this.content.all()},ij),this,kZe,"_content",njr,yc.prototype)}get joined(){return this.rolesfor(ME)&OPTEAM}get invitation(){var t,r,o,n;var e=this;return(n=(o=(r=(t=ME==null?void 0:ME.invites)==null?void 0:t.only)==null?void 0:r.call(t,Gan))==null?void 0:o.find)==null?void 0:n.call(o,function(i){return i.org==e})}set addmember(e){this.addmember.$set(e,this,_Ze,"addmember")}get addmember(){return this.addmember.$get(this,_Ze,"addmember")}get addmember(){return this[ijr]||y((yp=this.action(User),p(yp.label,Function)?yp.label("Add Scrimba User"):yp.label="Add Scrimba User",p(yp.g,Function)?yp.g(900):yp.g=900,p(yp.rx,Function)?yp.rx(ADMIN):yp.rx=ADMIN,yp.callback=function(e){if(e)return this.addmembersrv(e)},yp),this,_Ze,"addmember",ijr,yc.prototype)}set addmembersrv(e){this.addmembersrv.$set(e,this,xZe,"addmembersrv")}get addmembersrv(){return this.addmembersrv.$get(this,xZe,"addmembersrv")}get addmembersrv(){return this[sjr]||y((sb=this.action(),p(sb.rx,Function)?sb.rx(ADMIN):sb.rx=ADMIN,p(sb.rpc,Function)?sb.rpc():sb.rpc=!0,sb.callback=!1,sb),this,xZe,"addmembersrv",sjr,yc.prototype)}set addinvite(e){this.addinvite.$set(e,this,vZe,"addinvite")}get addinvite(){return this.addinvite.$get(this,vZe,"addinvite")}get addinvite(){return this[ljr]||y((lb=this.action(),p(lb.rx,Function)?lb.rx(OWNER|ADMIN):lb.rx=OWNER|ADMIN,p(lb.label,Function)?lb.label("Invite Via Email"):lb.label="Invite Via Email",lb.callback=async function(){var a,u;var e,t=H(),r,o;let n=await(r=o=1,(e=t[nhe])||(r=o=0,e=t[nhe]=e=R("op-org-invite-dialog",null,null,null)),r||(e[ub]=t._),r||((a=e[q_])==null||a.call(e,t,nhe)),r||t.sym||!e.setup||e.setup(o,t,nhe),t.sym||e[Cl](o),e);if(!n)return;let{emails:i,admin:s}=n;return(u=i==null?void 0:i.trim)!=null&&u.call(i)?this.addinvitesrv(i,s):OP.toast("No emails provided")},lb),this,vZe,"addinvite",ljr,yc.prototype)}set addinvitesrv(e){this.addinvitesrv.$set(e,this,wZe,"addinvitesrv")}get addinvitesrv(){return this.addinvitesrv.$get(this,wZe,"addinvitesrv")}get addinvitesrv(){return this[ajr]||y((ab=this.action(),p(ab.rx,Function)?ab.rx(OWNER|ADMIN):ab.rx=OWNER|ADMIN,p(ab.rpc,Function)?ab.rpc():ab.rpc=!0,ab.callback=!1,ab),this,wZe,"addinvitesrv",ajr,yc.prototype)}opownicon(e,t){var $,b;var r,o=H(),n,i,s,a,u,c,h,d,f,m;if(this.custom_avatar)return n=i=1,(r=o[ihe])||(n=i=0,r=o[ihe]=r=R("op-image",null,"tz-ar icon",null)),n||(r[ub]=o._),n||(($=r[q_])==null||$.call(r,o,ihe)),s="Avatar of "+this.aslabel,s===r[Sjr]||(r.alt=r[Sjr]=s),s=(t==null?void 0:t.size)||48,s===r[Cjr]||(r.size=r[Cjr]=s),n||(r.effect=!1),s=this.custom_avatar,s===r[Ejr]||(r.data=r[Ejr]=s),n||o.sym||!r.setup||r.setup(i,o,ihe),o.sym||r[Cl](i),r;if(this.avatar_url)return u=c=1,(a=o[SZe])||(u=c=0,a=o[SZe]=a=w("div",null,"tz-as",null)),u||(a[ub]=o._),u||((b=a[q_])==null||b.call(a,o,SZe)),d=f=1,(h=a[jjr])||(d=f=0,a[jjr]=h=w("img",a,"tz-at",null)),m="Avatar of "+this.aslabel,m===a[Ajr]||(h.alt=a[Ajr]=m),m=this.avatar_url,m===a[Ujr]||(h.src=a[Ujr]=m),a}opownpageheadbuttons(){var $;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f;let m=this.invitation;return o=n=1,(t=r[she])||(o=n=0,t=r[she]=t=R("op",null,"tz-au",null)),o||(t[ub]=r._),o||(($=t[q_])==null||$.call(t,r,she)),i=t[hhe]("__",t),e=null,m&&(s=t[Z_](Xan),a=u=1,(e=s.run(this.obuttonif(m.accept)))||(a=u=0,s.cache(e=M(s.value,null,"pri red",null))),a||(e[ub]=i),e[G_]&&(a||(e.label="Accept invitation"),(!a||u&2)&&e.flags.reconcile(Yan,"pri red"),a||!e.setup||e.setup(u,s),e[Cl](u))),t[Pjr]=i[EZe](e,0,t[Pjr]),c=t[Z_](Kan),d=f=1,(h=c.run(this.obutton(this.followed?this.unfollow:this.follow)))||(d=f=0,c.cache(h=M(c.value,i,"blue",null))),h[G_]&&(d||(h.opnav="opnav"),(!d||f&2)&&h.flags.reconcile(sj,"blue"),d||!h.setup||h.setup(f,c),h[Cl](f)),h==t[sj]||!t[sj]&&i[phe](t[sj]=h)||(i[CZe](h,t[sj]),t[sj]=h),o||r.sym||!t.setup||t.setup(n,r,she),r.sym||t[Cl](n),t}oppending_invitescollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[lhe])||(r=o=0,e=t[lhe]=e=R("op",null,null,null)),r||(e[ub]=t._),r||((c=e[q_])==null||c.call(e,t,lhe)),n=e[hhe]("__",e),i=e[Z_](Jan),a=u=1,(s=i.run(this.obuttonif(this.addinvite)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[G_]&&(a||!s.setup||s.setup(u,i),s[Cl](u)),s==e[vz]||!e[vz]&&n[phe](e[vz]=s)||(n[CZe](s,e[vz]),e[vz]=s),r||t.sym||!e.setup||e.setup(o,t,lhe),t.sym||e[Cl](o),e}oppeoplecollactions(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[ahe])||(r=o=0,e=t[ahe]=e=R("op",null,null,null)),r||(e[ub]=t._),r||((c=e[q_])==null||c.call(e,t,ahe)),n=e[hhe]("__",e),i=e[Z_](Qan),a=u=1,(s=i.run(this.obuttonif(this.addmember)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[G_]&&(a||!s.setup||s.setup(u,i),s[Cl](u)),s==e[wz]||!e[wz]&&n[phe](e[wz]=s)||(n[CZe](s,e[wz]),e[wz]=s),r||t.sym||!e.setup||e.setup(o,t,ahe),t.sym||e[Cl](o),e}};yc.alias="o",E(yc,nun,"Org",0);var Cz=yc;globalThis.Org=Cz;T();oe();ge(),dt(),$e();var jZe=Symbol("id"),Rjr=Symbol(),AZe=Symbol("org"),Mjr=Symbol(),UZe=Symbol("token"),Ljr=Symbol(),PZe=Symbol("sender"),Djr=Symbol(),TZe=Symbol("user"),Njr=Symbol(),OZe=Symbol("email"),Ijr=Symbol(),RZe=Symbol("sessions"),Fjr=Symbol(),MZe=Symbol("admin"),Hjr=Symbol(),LZe=Symbol("status"),Bjr=Symbol(),DZe=Symbol("copy-email"),Vjr=Symbol(),NZe=Symbol("accept"),zjr=Symbol(),IZe=Symbol("decline"),qjr=Symbol(),FZe=Symbol("send"),Wjr=Symbol(),HZe=Symbol("cancel"),Zjr=Symbol(),Ez,dhe=Symbol(),Bd,aj,BZe,Y_,Gjr,Yjr,jz,X_,uj,Fa,Ha,Ai;var Ba,fhe=Symbol(),Xjr=Symbol(),Az=Symbol(),iun=Symbol(),Kjr=Symbol(),Jjr=Symbol(),Qjr=Symbol(),eAr=Symbol(),Uz=Symbol(),sun=Symbol(),Pz=Symbol(),lun=Symbol(),Tz=Symbol(),aun=Symbol(),Oz=Symbol(),uun=Symbol(),mhe=Symbol(),cj=Symbol(),cun=Symbol(),tAr=Symbol(),rAr=Symbol(),$he=Symbol(),oAr=Symbol();var VZe=Symbol(),nAr=Symbol(),iAr=Symbol(),sAr=Symbol(),Rz=Symbol(),hun=Symbol(),lAr=Symbol(),aAr=Symbol(),Mz=Symbol(),pun=Symbol(),uAr=Symbol(),cAr=Symbol(),Lz=Symbol(),dun=Symbol(),hAr=Symbol(),pAr=Symbol(),Dz=Symbol(),fun=Symbol(),dAr=Symbol(),fAr=Symbol(),mAr=Symbol(),$Ar=Symbol(),yAr=Symbol(),Nz=Symbol(),mun=Symbol(),hj=Symbol(),$un=Symbol(),bAr=Symbol(),gAr=Symbol(),kAr=Symbol(),_Ar=Symbol(),ta=Symbol.for("##up"),yhe=Symbol.for("##register"),oi=Symbol.for("#afterVisit"),Va=Symbol.for("#placeChild"),gp=Symbol.for("#getRenderContext"),kp=Symbol.for("#isRichElement"),Vd=Symbol.for("#insertInto"),zd=Symbol.for("#replaceWith"),xAr=Symbol.for("#getSlot"),vAr=Symbol.for("#appendChild"),yun=Symbol.for("#replaceChild"),bhe=Symbol(),ys=class ys extends Qe(bhe,OPObject,Linkable){constructor(){super(...arguments),super[A]||this[A](),re(this,bhe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[bhe])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,jZe,"id")}get id(){return this.id.$get(this,jZe,"id")}get id(){return this[Rjr]||y((Ez=this.key(),p(Ez.r,Function)?Ez.r(OPOWNER|OPMEMBER|OPADMIN):Ez.r=OPOWNER|OPMEMBER|OPADMIN,Ez),this,jZe,"id",Rjr,ys.prototype)}opowndialog(){var n;var e,t=H(),r,o;return r=o=1,(e=t[dhe])||(r=o=0,e=t[dhe]=e=R("org-invite-dialog",null,null,null)),r||(e[ta]=t._),r||((n=e[yhe])==null||n.call(e,t,dhe)),r||t.sym||!e.setup||e.setup(o,t,dhe),t.sym||e[oi](o),e}set org(e){this.org.$set(e,this,AZe,"org")}get org(){return this.org.$get(this,AZe,"org")}get org(){return this[Mjr]||y((Bd=this.parent(Org),p(Bd.required,Function)?Bd.required():Bd.required=!0,p(Bd.stat,Function)?Bd.stat(1):Bd.stat=1,p(Bd.vias,Function)?Bd.vias({[OPOWNER]:OPOWNER}):Bd.vias={[OPOWNER]:OPOWNER},Bd),this,AZe,"org",Mjr,ys.prototype)}set token(e){this.token.$set(e,this,UZe,"token")}get token(){return this.token.$get(this,UZe,"token")}get token(){return this[Ljr]||y((aj=this.string(),p(aj.r,Function)?aj.r(OPOWNER):aj.r=OPOWNER,aj.default=function(){return OPKey.random()},aj),this,UZe,"token",Ljr,ys.prototype)}set sender(e){this.sender.$set(e,this,PZe,"sender")}get sender(){return this.sender.$get(this,PZe,"sender")}get sender(){return this[Djr]||y((BZe=this.ref(User),BZe.default=function(){return OP.user},BZe),this,PZe,"sender",Djr,ys.prototype)}set user(e){this.user.$set(e,this,TZe,"user")}get user(){return this.user.$get(this,TZe,"user")}get user(){return this[Njr]||y((Y_=this.parent(User),p(Y_.as,Function)?Y_.as(OPMEMBER):Y_.as=OPMEMBER,p(Y_.stat,Function)?Y_.stat(2):Y_.stat=2,Y_),this,TZe,"user",Njr,ys.prototype)}set email(e){this.email.$set(e,this,OZe,"email")}get email(){return this.email.$get(this,OZe,"email")}get email(){return this[Ijr]||y((Gjr=this.email(),Gjr),this,OZe,"email",Ijr,ys.prototype)}set sessions(e){this.sessions.$set(e,this,RZe,"sessions")}get sessions(){return this.sessions.$get(this,RZe,"sessions")}get sessions(){return this[Fjr]||y((Yjr=this.refs(OPSession),Yjr),this,RZe,"sessions",Fjr,ys.prototype)}set admin(e){this.admin.$set(e,this,MZe,"admin")}get admin(){return this.admin.$get(this,MZe,"admin")}get admin(){return this[Hjr]||y((jz=this.bool(),p(jz.rw,Function)?jz.rw(OPOWNER):jz.rw=OPOWNER,jz),this,MZe,"admin",Hjr,ys.prototype)}get aslilabel(){return this.email}get aslabel(){return"Invite"}get asurl(){return"/"+this.org.id+":"+this.id}get pending(){return this.status.pending}get accepted(){return this.status.accepted}set status(e){this.status.$set(e,this,LZe,"status")}get status(){return this.status.$get(this,LZe,"status")}get status(){return this[Bjr]||y((X_=this.enum({pending:{default:!0,hue:"blue"},accepted:{hue:"green"},declined:{hue:"red"},expired:{hue:"red"},canceled:{hue:"gray"}}),p(X_.w,Function)?X_.w(ADMIN):X_.w=ADMIN,p(X_.stat,Function)?X_.stat(100):X_.stat=100,X_),this,LZe,"status",Bjr,ys.prototype)}get membership(){return this.user?Membership.from(this.org,this.user):null}get mine(){return this.user==ME}set copyemail(e){this.copyemail.$set(e,this,DZe,"copyemail")}get copyemail(){return this.copyemail.$get(this,DZe,"copyemail")}get copyemail(){return this[Vjr]||y((uj=this.action(),p(uj.g,Function)?uj.g(0):uj.g=0,uj.callback=function(){return OP.copystr(this.email)},uj),this,DZe,"copyemail",Vjr,ys.prototype)}set accept(e){this.accept.$set(e,this,NZe,"accept")}get accept(){return this.accept.$get(this,NZe,"accept")}get accept(){return this[zjr]||y((Fa=this.action(),p(Fa.rx,Function)?Fa.rx(MEMBER|ADMIN):Fa.rx=MEMBER|ADMIN,p(Fa.if,Function)?Fa.if(function(){var e;return this.status.pending&&((e=this.user)==null?void 0:e.me)}):Fa.if=function(){var e;return this.status.pending&&((e=this.user)==null?void 0:e.me)},p(Fa.g,Function)?Fa.g(0):Fa.g=0,p(Fa.rpc,Function)?Fa.rpc():Fa.rpc=!0,Fa.callback=!1,Fa),this,NZe,"accept",zjr,ys.prototype)}set decline(e){this.decline.$set(e,this,IZe,"decline")}get decline(){return this.decline.$get(this,IZe,"decline")}get decline(){return this[qjr]||y((Ha=this.action(),p(Ha.rx,Function)?Ha.rx(OPMEMBER):Ha.rx=OPMEMBER,p(Ha.confirm,Function)?Ha.confirm():Ha.confirm=!0,p(Ha.if,Function)?Ha.if(function(){return this.status.pending&&this.mine}):Ha.if=function(){return this.status.pending&&this.mine},p(Ha.rpc,Function)?Ha.rpc():Ha.rpc=!0,Ha.callback=!1,Ha),this,IZe,"decline",qjr,ys.prototype)}set send(e){this.send.$set(e,this,FZe,"send")}get send(){return this.send.$get(this,FZe,"send")}get send(){return this[Wjr]||y((Ai=this.action(),p(Ai.rx,Function)?Ai.rx(OPOWNER|ADMIN):Ai.rx=OPOWNER|ADMIN,p(Ai.icon,Function)?Ai.icon("email"):Ai.icon="email",p(Ai.label,Function)?Ai.label("Send again"):Ai.label="Send again",p(Ai.g,Function)?Ai.g(0):Ai.g=0,p(Ai.if,Function)?Ai.if(function(){return!this.status.accepted}):Ai.if=function(){return!this.status.accepted},p(Ai.rpc,Function)?Ai.rpc():Ai.rpc=!0,Ai.callback=!1,Ai),this,FZe,"send",Wjr,ys.prototype)}set cancel(e){this.cancel.$set(e,this,HZe,"cancel")}get cancel(){return this.cancel.$get(this,HZe,"cancel")}get cancel(){return this[Zjr]||y((Ba=this.action(),p(Ba.rx,Function)?Ba.rx(OPOWNER|ADMIN):Ba.rx=OPOWNER|ADMIN,p(Ba.g,Function)?Ba.g(0):Ba.g=0,p(Ba.if,Function)?Ba.if(function(){return this.status.pending}):Ba.if=function(){return this.status.pending},p(Ba.rpc,Function)?Ba.rpc():Ba.rpc=!0,Ba.callback=!1,Ba),this,HZe,"cancel",Zjr,ys.prototype)}opownli(){var W;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return r=o=1,(e=t[fhe])||(r=o=0,e=t[fhe]=e=w("section",null,"xli",null)),r||(e[ta]=t._),r||((W=e[yhe])==null||W.call(e,t,fhe)),n=this,n===e[Xjr]||(e.data=e[Xjr]=n),i=e[gp](iun),a=u=1,(s=i.run(this.oicon(this.user)))||(a=u=0,i.cache(s=M(i.value,e,null,null))),s[kp]&&(a||!s.setup||s.setup(u,i),s[oi](u)),s==e[Az]||!e[Az]&&(e[Az]=s)[Vd](e)||e[Az][zd](e[Az]=s,e),h=d=1,(c=e[Kjr])||(h=d=0,e[Kjr]=c=w("section",e,null,null)),(f=c[Jjr])||(c[Jjr]=f=w("h2",c,null,null)),m=this.email,m===c[eAr]&&h||(c[Qjr]=f[Va](c[eAr]=m,384,c[Qjr])),h||($=w("hr",c,null,null)),b=c[gp](sun),x=k=1,(g=b.run(this.ochip(this.user)))||(x=k=0,b.cache(g=M(b.value,c,null,null))),g[kp]&&(x||!g.setup||g.setup(k,b),g[oi](k)),g==c[Uz]||!c[Uz]&&(c[Uz]=g)[Vd](c)||c[Uz][zd](c[Uz]=g,c),_=c[gp](lun),v=C=1,(S=_.run(this.ochip(this.org)))||(v=C=0,_.cache(S=M(_.value,c,null,null))),S[kp]&&(v||!S.setup||S.setup(C,_),S[oi](C)),S==c[Pz]||!c[Pz]&&(c[Pz]=S)[Vd](c)||c[Pz][zd](c[Pz]=S,c),j=c[gp](aun),U=O=1,(P=j.run(this.ostat(this.$.status)))||(U=O=0,j.cache(P=M(j.value,c,null,null))),P[kp]&&(U||!P.setup||P.setup(O,j),P[oi](O)),P==c[Tz]||!c[Tz]&&(c[Tz]=P)[Vd](c)||c[Tz][zd](c[Tz]=P,c),h||!c.setup||c.setup(d,L),c[oi](d),I=e[gp](uun),N=V=1,(F=I.run(this.oel(this,"more")))||(N=V=0,I.cache(F=M(I.value,e,null,null))),F[kp]&&(N||!F.setup||F.setup(V,I),F[oi](V)),F==e[Oz]||!e[Oz]&&(e[Oz]=F)[Vd](e)||e[Oz][zd](e[Oz]=F,e),r||t.sym||!e.setup||e.setup(o,t,fhe),t.sym||e[oi](o),e}opownbuttons(){var $;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return r=o=1,(e=t[mhe])||(r=o=0,e=t[mhe]=e=R("op",null,"xx-ar actions",null)),r||(e[ta]=t._),r||(($=e[yhe])==null||$.call(e,t,mhe)),n=e[xAr]("__",e),i=e[gp](cun),a=u=1,(s=i.run(this.obuttonif(this.accept)))||(a=u=0,i.cache(s=M(i.value,n,"min",null))),s[kp]&&((!a||u&2)&&s.flags.reconcile(cj,"min"),a||!s.setup||s.setup(u,i),s[oi](u)),s==e[cj]||!e[cj]&&n[vAr](e[cj]=s)||(n[yun](s,e[cj]),e[cj]=s),h=d=1,(c=e[tAr])||(h=d=0,e[tAr]=c=R("op-button",n,"square",null)),h||c.on$("click",{emit:["contextmenu"]},this),f=this,f===e[rAr]||(c.data=e[rAr]=f),h||(c.icon="more"),h||(c.label="More"),h||!c.setup||c.setup(d,m),c[oi](d),h||n[vAr](c),r||t.sym||!e.setup||e.setup(o,t,mhe),t.sym||e[oi](o),e}opownbody(e,t){var Te;var r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie;let Ke=this.status;return a=u=1,(i=s[$he])||(a=u=0,i=s[$he]=i=R("op",null,"callout colored",null)),a||(i[ta]=s._),a||((Te=i[yhe])==null||Te.call(i,s,$he)),c=i[xAr]("__",i),h=this,h===i[oAr]||(i.data=i[oAr]=h),h=Ke.hue,h===i[VZe]||(u|=2,i[VZe]=h),u&2&&i.flag$("callout colored "+(i[VZe]||"")),(d=i[nAr])||(i[nAr]=d=w("div",c,"body",null)),r=o=n=null,this.mine?Ke.accepted?(f=m=1,(r=i[iAr])||(f=m=0,i[iAr]=r=w("h1",null,null,"Invitation accepted")),f||(r[ta]=d),$=b=1,(o=i[sAr])||($=b=0,i[sAr]=o=w("p",null,null,null)),$||(o[ta]=d),$||o[Va]("Congratulations, you are now a part of "),g=o[gp](hun),k=_=1,(x=g.run(this.olink(this.org)))||(k=_=0,g.cache(x=M(g.value,o,null,null))),x[kp]&&(k||!x.setup||x.setup(_,g),x[oi](_)),x==o[Rz]||!o[Rz]&&(o[Rz]=x)[Vd](o)||o[Rz][zd](o[Rz]=x,o),$||o[Va]("."),$||!o.setup||o.setup(b,S),o[oi](b)):Ke.declined?(v=C=1,(r=i[lAr])||(v=C=0,i[lAr]=r=w("h1",null,null,"Invitation declined")),v||(r[ta]=d),j=P=1,(o=i[aAr])||(j=P=0,i[aAr]=o=w("p",null,null,null)),j||(o[ta]=d),j||o[Va]("You declined this invitation. If this was a mistake, ask "),U=o[gp](pun),L=I=1,(O=U.run(this.olink(this.org)))||(L=I=0,U.cache(O=M(U.value,o,null,null))),O[kp]&&(L||!O.setup||O.setup(I,U),O[oi](I)),O==o[Mz]||!o[Mz]&&(o[Mz]=O)[Vd](o)||o[Mz][zd](o[Mz]=O,o),j||o[Va](" to send you another invitation."),j||!o.setup||o.setup(P,F),o[oi](P)):Ke.expired?(N=V=1,(r=i[uAr])||(N=V=0,i[uAr]=r=w("h1",null,null,"Invitation expired")),N||(r[ta]=d),W=z=1,(o=i[cAr])||(W=z=0,i[cAr]=o=w("p",null,null,null)),W||(o[ta]=d),W||o[Va]("This invitation has expired. If this was a mistake, ask "),q=o[gp](dun),K=X=1,(Y=q.run(this.olink(this.org)))||(K=X=0,q.cache(Y=M(q.value,o,null,null))),Y[kp]&&(K||!Y.setup||Y.setup(X,q),Y[oi](X)),Y==o[Lz]||!o[Lz]&&(o[Lz]=Y)[Vd](o)||o[Lz][zd](o[Lz]=Y,o),W||o[Va](" to send you another invitation."),W||!o.setup||o.setup(z,Z),o[oi](z)):Ke.canceled?(Q=ee=1,(r=i[hAr])||(Q=ee=0,i[hAr]=r=w("h1",null,null,"Invitation canceled")),Q||(r[ta]=d),te=ne=1,(o=i[pAr])||(te=ne=0,i[pAr]=o=w("p",null,null,null)),te||(o[ta]=d),te||o[Va]("This invitation has been canceled. If this was a mistake, ask "),ie=o[gp](fun),me=ce=1,(J=ie.run(this.olink(this.org)))||(me=ce=0,ie.cache(J=M(ie.value,o,null,null))),J[kp]&&(me||!J.setup||J.setup(ce,ie),J[oi](ce)),J==o[Dz]||!o[Dz]&&(o[Dz]=J)[Vd](o)||o[Dz][zd](o[Dz]=J,o),te||o[Va](" to send you another invitation."),te||!o.setup||o.setup(ne,ye),o[oi](ne)):Ke.pending&&(we=ae=1,(r=i[dAr])||(we=ae=0,i[dAr]=r=w("h1",null,null,"You're invited!")),we||(r[ta]=d),be=_e=1,(o=i[fAr])||(be=_e=0,i[fAr]=o=w("p",null,null,null)),be||(o[ta]=d),be||o[Va]("You've been invited to join "),Ae=this.org.name,Ae===o[$Ar]&&be||(o[mAr]=o[Va](o[$Ar]=Ae,0,o[mAr])),be||o[Va](". Would you like to accept this invitation?"),ve=Pe=1,(n=i[yAr])||(ve=Pe=0,i[yAr]=n=w("footer",null,"xx-bk",null)),ve||(n[ta]=d),He=n[gp](mun),Be=je=1,(Ue=He.run(this.obuttonif(this.accept)))||(Be=je=0,He.cache(Ue=M(He.value,n,null,null))),Ue[kp]&&(Be||!Ue.setup||Ue.setup(je,He),Ue[oi](je)),Ue==n[Nz]||!n[Nz]&&(n[Nz]=Ue)[Vd](n)||n[Nz][zd](n[Nz]=Ue,n),ue=n[gp]($un),Re=Oe=1,(xe=ue.run(this.obuttonif(this.decline)))||(Re=Oe=0,ue.cache(xe=M(ue.value,n,"outline",null))),xe[kp]&&((!Re||Oe&2)&&xe.flags.reconcile(hj,"outline"),Re||!xe.setup||xe.setup(Oe,ue),xe[oi](Oe)),xe==n[hj]||!n[hj]&&(n[hj]=xe)[Vd](n)||n[hj][zd](n[hj]=xe,n),ve||!n.setup||n.setup(Pe,qe),n[oi](Pe)):(Ne=Ie=1,(r=i[bAr])||(Ne=Ie=0,i[bAr]=r=w("h1",null,null,"This invitation is not for you.")),Ne||(r[ta]=d)),i[gAr]=d[Va](r,0,i[gAr]),i[kAr]=d[Va](o,0,i[kAr]),i[_Ar]=d[Va](n,0,i[_Ar]),a||s.sym||!i.setup||i.setup(u,s,$he),s.sym||i[oi](u),i}};ys.alias="oin",ys.pgafter=!1,E(ys,bhe,"OrgInvite",80);var zZe=ys;globalThis.OrgInvite=zZe;T();oe();ge(),$e();var qZe=Symbol("oauth_state"),wAr=Symbol(),WZe=Symbol("houdini"),SAr=Symbol(),ZZe=Symbol("landing_page"),CAr=Symbol(),GZe=Symbol("referrer"),EAr=Symbol(),YZe=Symbol("logs"),jAr=Symbol(),XZe=Symbol("landing_path"),AAr=Symbol(),Iz,yv,K_,J_,qd,ghe=Symbol(),pj=Symbol(),bun=Symbol(),KZe,gun=Symbol.for("##up"),kun=Symbol.for("##register"),_un=Symbol.for("#getSlot"),xun=Symbol.for("#placeChild"),vun=Symbol.for("#getRenderContext"),wun=Symbol.for("#isRichElement"),UAr=Symbol.for("#afterVisit"),Sun=Symbol.for("#appendChild"),Cun=Symbol.for("#replaceChild"),Eun=Symbol(),khe=class khe{set oauth_state(e){this.oauth_state.$set(e,this,qZe,"oauth_state")}get oauth_state(){return this.oauth_state.$get(this,qZe,"oauth_state")}get oauth_state(){return this[wAr]||y((Iz=this.string(),p(Iz.rw,Function)?Iz.rw(ADMIN):Iz.rw=ADMIN,Iz),this,qZe,"oauth_state",wAr,OPSession.prototype)}set houdini(e){this.houdini.$set(e,this,WZe,"houdini")}get houdini(){return this.houdini.$get(this,WZe,"houdini")}get houdini(){return this[SAr]||y((yv=this.bool(),p(yv.rw,Function)?yv.rw(ADMIN):yv.rw=ADMIN,yv.default=function(){return!1},yv.default.literal=!1,yv),this,WZe,"houdini",SAr,OPSession.prototype)}set landing_page(e){this.landing_page.$set(e,this,ZZe,"landing_page")}get landing_page(){return this.landing_page.$get(this,ZZe,"landing_page")}get landing_page(){return this[CAr]||y((K_=this.url(),p(K_.icon,Function)?K_.icon("url"):K_.icon="url",p(K_.r,Function)?K_.r(ADMIN|REFERRER):K_.r=ADMIN|REFERRER,K_),this,ZZe,"landing_page",CAr,OPSession.prototype)}set referrer(e){this.referrer.$set(e,this,GZe,"referrer")}get referrer(){return this.referrer.$get(this,GZe,"referrer")}get referrer(){return this[EAr]||y((J_=this.url(),p(J_.icon,Function)?J_.icon("url"):J_.icon="url",p(J_.r,Function)?J_.r(ADMIN|OWNER|REFERRER):J_.r=ADMIN|OWNER|REFERRER,J_),this,GZe,"referrer",EAr,OPSession.prototype)}set logs(e){this.logs.$set(e,this,YZe,"logs")}get logs(){return this.logs.$get(this,YZe,"logs")}get logs(){return this[jAr]||y((qd=this.coll2(OPLogInstance.$.agent),p(qd.r,Function)?qd.r(ADMIN):qd.r=ADMIN,p(qd.tab,Function)?qd.tab():qd.tab=!0,p(qd.list,Function)?qd.list():qd.list=!0,qd),this,YZe,"logs",jAr,OPSession.prototype)}get aspovlabel(){return OP.session==this?"You":this.aslabel}get creations(){return this.$affiliations.all()}opcountrytip(e){var h;var t,r=H(),o,n,i,s,a,u,c;return o=n=1,(t=r[ghe])||(o=n=0,t=r[ghe]=t=R("op",null,null,null)),o||(t[gun]=r._),o||((h=t[kun])==null||h.call(t,r,ghe)),i=t[_un]("__",t),o||i[xun]("User is located in "),s=t[vun](bun),u=c=1,(a=s.run(this.ovalue(e)))||(u=c=0,s.cache(a=M(s.value,i,"cp-ag",null))),a[wun]&&(u||a.on$("optip",{},this),(!u||c&2)&&a.flags.reconcile(pj,"cp-ag"),u||!a.setup||a.setup(c,s),a[UAr](c)),a==t[pj]||!t[pj]&&i[Sun](t[pj]=a)||(i[Cun](a,t[pj]),t[pj]=a),o||r.sym||!t.setup||t.setup(n,r,ghe),r.sym||t[UAr](n),t}set landing_path(e){this.landing_path.$set(e,this,XZe,"landing_path")}get landing_path(){return this.landing_path.$get(this,XZe,"landing_path")}get landing_path(){return this[AAr]||y((KZe=this.get(),KZe.callback=function(){return this.landing_page?this.landing_page.split("?")[0]:""},KZe),this,XZe,"landing_path",AAr,OPSession.prototype)}};khe.alias="S",E(khe,Eun,"OPSession",1,OPSession);var PAr=khe;Object.defineProperty(globalThis,"Session",{get:function(){return console.warn("accessing Session instead of OPSession"),OPSession}});T();oe();$e();var JZe=Symbol("name"),TAr=Symbol(),QZe=Symbol("color"),OAr=Symbol(),eGe=Symbol("level"),RAr=Symbol(),MAr,LAr,_he=Symbol(),DAr=Symbol(),NAr=Symbol(),Q_,tGe=Symbol(),IAr=Symbol(),FAr=Symbol(),xhe=Symbol(),HAr=Symbol(),BAr=Symbol(),rGe=Symbol.for("##up"),oGe=Symbol.for("##register"),VAr=Symbol.for("#getSlot"),nGe=Symbol.for("#placeChild"),zAr=Symbol.for("#afterVisit"),jun=Symbol(),Fz=class Fz extends OPEnumValue{set name(e){this.name.$set(e,this,JZe,"name")}get name(){return this.name.$get(this,JZe,"name")}get name(){return this[TAr]||y((MAr=this.text(),MAr),this,JZe,"name",TAr,Fz.prototype)}set color(e){this.color.$set(e,this,QZe,"color")}get color(){return this.color.$get(this,QZe,"color")}get color(){return this[OAr]||y((LAr=this.color(),LAr),this,QZe,"color",OAr,Fz.prototype)}get aschiplabel(){return""}get astip(){return"Level: "+this.name}opowntip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[_he])||(r=o=0,e=t[_he]=e=R("op",null,null,null)),r||(e[rGe]=t._),r||((s=e[oGe])==null||s.call(e,t,_he)),n=e[VAr]("__",e),i=this.astip,i===e[NAr]&&r||(e[DAr]=n[nGe](e[NAr]=i,384,e[DAr])),r||t.sym||!e.setup||e.setup(o,t,_he),t.sym||e[zAr](o),e}};E(Fz,jun,"LevelOption",0);var vhe=Fz;globalThis.LevelOption=vhe;var Aun=Symbol(),whe=class whe extends OPMixin{set level(e){this.level.$set(e,this,eGe,"level")}get level(){return this.level.$get(this,eGe,"level")}get level(){return this[RAr]||y((Q_=this.enum(vhe,{newbie:{detail:"Level",color:"107",icon:hR},beginner:{detail:"Level",color:"100",icon:Q8t},intermediate:{detail:"Level",color:"80",default:!0,icon:nJ},advanced:{detail:"Level",color:"50",icon:cJ},expert:{detail:"Level",color:"25",icon:Vkt}}),p(Q_.g,Function)?Q_.g(500.5):Q_.g=500.5,p(Q_.f,Function)?Q_.f():Q_.f=!0,Q_),this,eGe,"level",RAr,whe.prototype)}oplevelstatlabel(){var i,s;var e,t=H(),r,o,n;return r=o=1,(e=t[tGe])||(r=o=0,e=t[tGe]=e=w("span",null,null,null)),r||(e[rGe]=t._),r||((i=e[oGe])==null||i.call(e,t,tGe)),n=(s=this.level)==null?void 0:s.aslabel,n===e[FAr]&&r||(e[IAr]=e[nGe](e[FAr]=n,384,e[IAr])),e}opleveltip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[xhe])||(r=o=0,e=t[xhe]=e=R("op",null,null,null)),r||(e[rGe]=t._),r||((s=e[oGe])==null||s.call(e,t,xhe)),n=e[VAr]("__",e),i=this.level.aslabel,i===e[BAr]&&r||(e[HAr]=n[nGe](e[BAr]=i,384,e[HAr])),r||t.sym||!e.setup||e.setup(o,t,xhe),t.sym||e[zAr](o),e}};E(whe,Aun,"HasLevel",1024);var iGe=whe;globalThis.HasLevel=iGe;T();oe();ge(),$e();var sGe=Symbol("id"),qAr=Symbol(),lGe=Symbol("name"),WAr=Symbol(),aGe=Symbol("short_name"),ZAr=Symbol(),uGe=Symbol("synopsis"),GAr=Symbol(),cGe=Symbol("creator"),YAr=Symbol(),hGe=Symbol("labels"),XAr=Symbol(),pGe=Symbol("legacy_id"),KAr=Symbol(),dGe=Symbol("owners"),JAr=Symbol(),fGe=Symbol("published"),QAr=Symbol(),mGe=Symbol("modified"),eUr=Symbol(),$Ge=Symbol("interacted"),tUr=Symbol(),yGe=Symbol("pinned"),rUr=Symbol(),bGe=Symbol("started"),oUr=Symbol(),gGe=Symbol("completed"),nUr=Symbol(),kGe=Symbol("featured"),iUr=Symbol(),_Ge=Symbol("mark-visited"),sUr=Symbol(),xGe=Symbol("mark-edited"),lUr=Symbol(),vGe=Symbol("recency"),aUr=Symbol(),e4,_p,t4,Hz,cb,bc,uUr=le("&.name",globalThis,l=>l.name),cUr,r4,hUr,gc,She=Symbol(),pUr=Symbol(),dUr=Symbol(),fUr=Symbol(),mUr=Symbol(),$Ur=Symbol(),Wd,Bz,o4,n4,i4,wGe,dj,fj,Che=Symbol(),yUr=Symbol(),bUr=Symbol(),gUr=Symbol(),kUr=Symbol(),Ehe=Symbol(),_Ur=Symbol(),Uun=Symbol(),jhe=Symbol(),xUr=Symbol(),vUr=Symbol(),wUr=Symbol(),SUr=Symbol(),CUr=Symbol(),EUr=Symbol(),jUr=Symbol(),Vz=Symbol(),Pun=Symbol(),zz=Symbol(),Tun=Symbol(),Ahe=Symbol(),AUr=Symbol(),SGe=Symbol(),UUr=Symbol(),PUr=Symbol(),Uhe=Symbol(),TUr=Symbol(),CGe=Symbol(),OUr=Symbol(),Phe=Symbol();var Oun=Symbol(),RUr=Symbol(),xp=Symbol.for("##up"),hb=Symbol.for("##register"),The=Symbol.for("#getSlot"),ra=Symbol.for("#afterVisit"),Run=Symbol.for("#appendChild"),qz=Symbol.for("#placeChild"),Mun=Symbol.for("#visit"),Lun=Symbol.for("#getDynamicContext"),Ohe=Symbol.for("#isRichElement"),EGe=Symbol.for("#getRenderContext"),MUr=Symbol.for("#insertInto"),LUr=Symbol.for("#replaceWith"),Rhe=Symbol(),gi=class gi extends Qe(Rhe,Model,Linkable,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Rhe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Rhe])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,sGe,"id")}get id(){return this.id.$get(this,sGe,"id")}get id(){return this[qAr]||y((e4=this.key(),p(e4.w,Function)?e4.w(OWNER|ADMIN):e4.w=OWNER|ADMIN,p(e4.r,Function)?e4.r(ANYONE):e4.r=ANYONE,e4),this,sGe,"id",qAr,gi.prototype)}set name(e){this.name.$set(e,this,lGe,"name")}get name(){return this.name.$get(this,lGe,"name")}get name(){return this[WAr]||y((_p=this.string(),p(_p.s,Function)?_p.s(1.1):_p.s=1.1,p(_p.order,Function)?_p.order("asc"):_p.order="asc",p(_p.editable,Function)?_p.editable():_p.editable=!0,_p.default=function(){return OP.random.ref()},_p),this,lGe,"name",WAr,gi.prototype)}set short_name(e){this.short_name.$set(e,this,aGe,"short_name")}get short_name(){return this.short_name.$get(this,aGe,"short_name")}get short_name(){return this[ZAr]||y((t4=this.string(),p(t4.fallback,Function)?t4.fallback(function(){return this.name}):t4.fallback=function(){return this.name},p(t4.s,Function)?t4.s(1.1):t4.s=1.1,t4),this,aGe,"short_name",ZAr,gi.prototype)}set synopsis(e){this.synopsis.$set(e,this,uGe,"synopsis")}get synopsis(){return this.synopsis.$get(this,uGe,"synopsis")}get synopsis(){return this[GAr]||y((Hz=this.text(),p(Hz.editable,Function)?Hz.editable():Hz.editable=!0,Hz),this,uGe,"synopsis",GAr,gi.prototype)}set creator(e){this.creator.$set(e,this,cGe,"creator")}get creator(){return this.creator.$get(this,cGe,"creator")}get creator(){return this[YAr]||y((cb=this.parent(OPAgent),p(cb.as,Function)?cb.as(OWNER):cb.as=OWNER,p(cb.weak,Function)?cb.weak():cb.weak=!0,cb.default=function(){return OP.pov},cb),this,cGe,"creator",YAr,gi.prototype)}set labels(e){this.labels.$set(e,this,hGe,"labels")}get labels(){return this.labels.$get(this,hGe,"labels")}get labels(){return this[XAr]||y((bc=this.refs(Label),p(bc.w,Function)?bc.w(ADMIN):bc.w=ADMIN,p(bc.f,Function)?bc.f():bc.f=!0,p(bc.g,Function)?bc.g(500.5):bc.g=500.5,p(bc.options,Function)?bc.options(Label.all(uUr)):bc.options=Label.all(uUr),bc),this,hGe,"labels",XAr,gi.prototype)}set legacy_id(e){this.legacy_id.$set(e,this,pGe,"legacy_id")}get legacy_id(){return this.legacy_id.$get(this,pGe,"legacy_id")}get legacy_id(){return this[KAr]||y((cUr=this.string(),cUr),this,pGe,"legacy_id",KAr,gi.prototype)}set owners(e){this.owners.$set(e,this,dGe,"owners")}get owners(){return this.owners.$get(this,dGe,"owners")}get owners(){return this[JAr]||y((r4=this.refs(User),p(r4.as,Function)?r4.as(OWNER):r4.as=OWNER,p(r4.index,Function)?r4.index():r4.index=!0,r4),this,dGe,"owners",JAr,gi.prototype)}set published(e){this.published.$set(e,this,fGe,"published")}get published(){return this.published.$get(this,fGe,"published")}get published(){return this[QAr]||y((hUr=this.toggle(),hUr),this,fGe,"published",QAr,gi.prototype)}set modified(e){this.modified.$set(e,this,mGe,"modified")}get modified(){return this.modified.$get(this,mGe,"modified")}get modified(){return this[eUr]||y((gc=this.event(),p(gc.throttle,Function)?gc.throttle(10*1e3):gc.throttle=10*1e3,p(gc.order,Function)?gc.order("desc"):gc.order="desc",p(gc.icon,Function)?gc.icon("clock"):gc.icon="clock",p(gc.fallback,Function)?gc.fallback(function(){return this._cre}):gc.fallback=function(){return this._cre},gc),this,mGe,"modified",eUr,gi.prototype)}opmodifiedstat(){var f,m;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[She])||(r=o=0,e=t[She]=e=R("op-stat",null,null,null)),r||(e[xp]=t._),r||((f=e[hb])==null||f.call(e,t,She)),n=e[The]("__",e),i=this,i===e[pUr]||(e.data=e[pUr]=i),a=u=1,(s=e[dUr])||(a=u=0,e[dUr]=s=R("op-icon",n,null,null)),a||(s.data="edit"),a||!s.setup||s.setup(u,c),s[ra](u),a||n[Run](s),(h=e[fUr])||(e[fUr]=h=w("span",n,null,null)),d=(m=this.modified)==null?void 0:m.ago,d===e[$Ur]&&r||(e[mUr]=h[qz](e[$Ur]=d,384,e[mUr])),r||t.sym||!e.setup||e.setup(o,t,She),t.sym||e[ra](o),e}set interacted(e){this.interacted.$set(e,this,$Ge,"interacted")}get interacted(){return this.interacted.$get(this,$Ge,"interacted")}get interacted(){return this[tUr]||y((Wd=this.event(),p(Wd.pov,Function)?Wd.pov():Wd.pov=!0,p(Wd.throttle,Function)?Wd.throttle(10*1e3):Wd.throttle=10*1e3,p(Wd.order,Function)?Wd.order("desc"):Wd.order="desc",Wd),this,$Ge,"interacted",tUr,gi.prototype)}set pinned(e){this.pinned.$set(e,this,yGe,"pinned")}get pinned(){return this.pinned.$get(this,yGe,"pinned")}get pinned(){return this[rUr]||y((Bz=this.toggle(),p(Bz.pov,Function)?Bz.pov():Bz.pov=!0,Bz),this,yGe,"pinned",rUr,gi.prototype)}set started(e){this.started.$set(e,this,bGe,"started")}get started(){return this.started.$get(this,bGe,"started")}get started(){return this[oUr]||y((o4=this.toggle(),p(o4.pov,Function)?o4.pov():o4.pov=!0,p(o4.deprecated,Function)?o4.deprecated():o4.deprecated=!0,o4),this,bGe,"started",oUr,gi.prototype)}set completed(e){this.completed.$set(e,this,gGe,"completed")}get completed(){return this.completed.$get(this,gGe,"completed")}get completed(){return this[nUr]||y((n4=this.toggle(),p(n4.pov,Function)?n4.pov():n4.pov=!0,p(n4.deprecated,Function)?n4.deprecated():n4.deprecated=!0,n4),this,gGe,"completed",nUr,gi.prototype)}set featured(e){this.featured.$set(e,this,kGe,"featured")}get featured(){return this.featured.$get(this,kGe,"featured")}get featured(){return this[iUr]||y((i4=this.event(),p(i4.order,Function)?i4.order("desc"):i4.order="desc",p(i4.w,Function)?i4.w(ADMIN):i4.w=ADMIN,i4),this,kGe,"featured",iUr,gi.prototype)}set markvisited(e){this.markvisited.$set(e,this,_Ge,"markvisited")}get markvisited(){return this.markvisited.$get(this,_Ge,"markvisited")}get markvisited(){return this[sUr]||y((wGe=this.action(),wGe.callback=function(){return this.visited=!0},wGe),this,_Ge,"markvisited",sUr,gi.prototype)}set markedited(e){this.markedited.$set(e,this,xGe,"markedited")}get markedited(){return this.markedited.$get(this,xGe,"markedited")}get markedited(){return this[lUr]||y((dj=this.action(),p(dj.cooldown,Function)?dj.cooldown(10*1e3):dj.cooldown=10*1e3,dj.callback=function(){return this.visited=!0,this.interacted=!0,this.modified=!0,this.autosave()},dj),this,xGe,"markedited",lUr,gi.prototype)}get interaction(){return this.interacted??this.visited}set recency(e){this.recency.$set(e,this,vGe,"recency")}get recency(){return this.recency.$get(this,vGe,"recency")}get recency(){return this[aUr]||y((fj=this.memo(),p(fj.order,Function)?fj.order("desc"):fj.order="desc",fj.callback=function(){let e=this.interacted,t=this.visited;return e?+e:t?+t-4*24*60*60*1e3:null},fj),this,vGe,"recency",aUr,gi.prototype)}get item(){return this}get new(){return this._cre.age<2*24*60*60*1e3}get mine(){return this.creator==OP.pov}get editable(){return this.mine}get hue(){var e;return((e=this.kind)==null?void 0:e.hue)||this.$type.hue||""}get icon(){var e;return((e=this.kind)==null?void 0:e.icon)||this.$type.ref}get cssflags(){return"content "+this.$type.ref+" "+this.oid+" "+(this.deleted?"deleted":"")}get asshortlabel(){return this.short_name||this.name}readablefor(e){return this.private?e&(OWNER|MEMBER|ADMIN):!0}optopicsstat(e){var b,g;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$;o=n=1,(t=r[Che])||(o=n=0,t=r[Che]=t=R("op-stat",null,"stacked",null)),o||(t[xp]=r._),o||((b=t[hb])==null||b.call(t,r,Che)),i=t[The]("__",t),e===t[yUr]||(t.data=t[yUr]=e),(s=t[bUr])||(t[bUr]=s=Jt(384,i)),a=0,u=s.$;for(let x=0,k=B(e),_=k.length;x<_;x++){let S=k[x];h=d=1,(c=u[a])||(h=d=0,u[a]=c=R("op-icon",s,"cj-aj",null)),h||(c[xp]=s),h||(c.data__={rich:!0}),S===c[gUr]||(c.data=c[gUr]=S),f=c[kUr]||(c[kUr]={options:[null]}),m=S,m===f.options[0]||(f.options[0]=m,d|=48),h||c.on$("opmenu",f,this),d&32&&(d^=32,(g=f[Mun])==null||g.call(f)),h||!c.setup||c.setup(d,$),c[ra](d),a++}return s[ra](a),o||r.sym||!t.setup||t.setup(n,r,Che),r.sym||t[ra](n),t}oplabelsstat(e){var $;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m;o=n=1,(t=r[Ehe])||(o=n=0,t=r[Ehe]=t=R("op-stat",null,null,null)),o||(t[xp]=r._),o||(($=t[hb])==null||$.call(t,r,Ehe)),i=t[The]("__",t),(s=t[_Ur])||(t[_Ur]=s=wt(384,i)),a=0,u=s.$;for(let b of B(e))d=f=1,(h=(c=u[Lun](Uun,a)).run(this.ostat(b)))||(d=f=0,c.cache(h=M(c.value,s,null,null))),d||(h[xp]=s),h[Ohe]&&(d||!h.setup||h.setup(f,c),h[ra](f)),s.push(h,a++,m);return s[ra](a),o||r.sym||!t.setup||t.setup(n,r,Ehe),r.sym||t[ra](n),t}opownhead(){var C;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return r=o=1,(e=t[jhe])||(r=o=0,e=t[jhe]=e=w("div",null,"cj-am",null)),r||(e[xp]=t._),r||((C=e[hb])==null||C.call(e,t,jhe)),r||(n=w("div",e,"cj-an",null)),r||(i=w("h1",n,null,null)),(s=e[xUr])||(e[xUr]=s=w("span",i,null,null)),a=this.name,a===e[wUr]&&r||(e[vUr]=s[qz](e[wUr]=a,384,e[vUr])),(u=e[SUr])||(e[SUr]=u=w("p",n,"cj-aq xl",null)),c=this.synopsis,c===e[EUr]&&r||(e[CUr]=u[qz](e[EUr]=c,384,e[CUr])),d=f=1,(h=e[jUr])||(d=f=0,e[jUr]=h=w("div",e,"cj-ar lg",null)),m=h[EGe](Pun),b=g=1,($=m.run(this.oel(this,"page-head-buttons")))||(b=g=0,m.cache($=M(m.value,h,null,null))),$[Ohe]&&(b||!$.setup||$.setup(g,m),$[ra](g)),$==h[Vz]||!h[Vz]&&(h[Vz]=$)[MUr](h)||h[Vz][LUr](h[Vz]=$,h),d||!h.setup||h.setup(f,x),h[ra](f),k=e[EGe](Tun),S=v=1,(_=k.run(this.opagestats(this)))||(S=v=0,k.cache(_=M(k.value,e,null,null))),_[Ohe]&&(S||!_.setup||_.setup(v,k),_[ra](v)),_==e[zz]||!e[zz]&&(e[zz]=_)[MUr](e)||e[zz][LUr](e[zz]=_,e),r||t.sym||!e.setup||e.setup(o,t,jhe),t.sym||e[ra](o),e}opownpagetitle(){var c,h;var e,t=H(),r,o,n,i,s,a,u;return this.editing?(r=o=1,(e=t[Ahe])||(r=o=0,e=t[Ahe]=e=R("op-text",null,null,null)),r||(e[xp]=t._),r||((c=e[hb])==null||c.call(e,t,Ahe)),n=this.$.name,n===e[AUr]||(e.data=e[AUr]=n),r||(e.placeholder="Untitled"),r||t.sym||!e.setup||e.setup(o,t,Ahe),t.sym||e[ra](o),e):(s=a=1,(i=t[SGe])||(s=a=0,i=t[SGe]=i=w("span",null,null,null)),s||(i[xp]=t._),s||((h=i[hb])==null||h.call(i,t,SGe)),u=this.astitle,u===i[PUr]&&s||(i[UUr]=i[qz](i[PUr]=u,384,i[UUr])),i)}opownpageintro(){var c,h;var e,t=H(),r,o,n,i,s,a,u;return this.editing?(r=o=1,(e=t[Uhe])||(r=o=0,e=t[Uhe]=e=R("op-text",null,"p xl",null)),r||(e[xp]=t._),r||((c=e[hb])==null||c.call(e,t,Uhe)),n=this.$.synopsis,n===e[TUr]||(e.data=e[TUr]=n),r||(e.placeholder="No description"),r||t.sym||!e.setup||e.setup(o,t,Uhe),t.sym||e[ra](o),e):(s=a=1,(i=t[CGe])||(s=a=0,i=t[CGe]=i=w("p",null,"xl",null)),s||(i[xp]=t._),s||((h=i[hb])==null||h.call(i,t,CGe)),u=this.synopsis,u===i[OUr]||(i.md=i[OUr]=u),i)}opownpageheadbuttons(){var c;var e,t,r=H(),o,n,i,s,a,u;return o=n=1,(t=r[Phe])||(o=n=0,t=r[Phe]=t=R("op",null,null,null)),o||(t[xp]=r._),o||((c=t[hb])==null||c.call(t,r,Phe)),i=t[The]("__",t),e=null,p(this,Followable)&&(s=t[EGe](Oun),a=u=1,(e=s.run(this.obutton(this.$.followed)))||(a=u=0,s.cache(e=M(s.value,null,null,null))),a||(e[xp]=i),e[Ohe]&&(a||e.on$("optip",{},this),a||!e.setup||e.setup(u,s),e[ra](u))),t[RUr]=i[qz](e,0,t[RUr]),o||r.sym||!t.setup||t.setup(n,r,Phe),r.sym||t[ra](n),t}};gi.abstract=!0,E(gi,Rhe,"Content",80);var jGe=gi;globalThis.Content=jGe;T();oe();ge(),$e();var AGe=Symbol("gated"),DUr=Symbol(),UGe,Mhe=Symbol(),NUr=Symbol(),IUr=Symbol(),FUr=Symbol(),HUr=Symbol(),BUr=Symbol(),Lhe=Symbol(),VUr=Symbol(),zUr=Symbol(),qUr=Symbol(),WUr=Symbol(),ZUr=Symbol(),GUr=Symbol(),YUr=Symbol(),XUr=Symbol(),KUr=Symbol(),JUr=Symbol(),QUr=Symbol(),ePr=Symbol(),tPr=Symbol(),Dhe=Symbol();var PGe=Symbol(),rPr=Symbol(),Nhe=Symbol();var TGe=Symbol(),oPr=Symbol(),t2=Symbol.for("##up"),Ihe=Symbol.for("##register"),nPr=Symbol.for("#getSlot"),oa=Symbol.for("#placeChild"),Fhe=Symbol.for("#afterVisit"),iPr=Symbol.for("#visit"),Dun=Symbol(),Hhe=class Hhe extends OPMixin{set gated(e){this.gated.$set(e,this,AGe,"gated")}get gated(){return this.gated.$get(this,AGe,"gated")}get gated(){return this[DUr]||y((UGe=this.get(),UGe.callback=function(){return!1},UGe),this,AGe,"gated",DUr,Hhe.prototype)}get gated(){return!!this.gated}get proonly(){return!!this.proonly}get usersonly(){return!!this.usersonly}get signupgated(){return(this.usersonly||this.proonly)&&!OP.user}get gatedcontent(){return this}get credit(){return!1}opgatedtip(){var F,N,V,W;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I;if(this.usersonly&&!OP.user){let z=(F=ME.credits)==null?void 0:F.anon_views;return n=i=1,(r=o[Mhe])||(n=i=0,r=o[Mhe]=r=R("op",null,"uk_",null)),n||(r[t2]=o._),n||((N=r[Ihe])==null||N.call(r,o,Mhe)),s=r[nPr]("__",r),n||(a=w("h2",s,"uk_","Only available to signed in users")),e=null,z!=null&&z.remaining?(u=c=1,(e=r[NUr])||(u=c=0,r[NUr]=e=w("p",null,"uk_",null)),u||(e[t2]=s),u||e[oa]("You can access "),h=z==null?void 0:z.remaining,h===e[FUr]&&u||(e[IUr]=e[oa](e[FUr]=h,0,e[IUr])),u||e[oa](" more locked scrims before signing in.")):(d=f=1,(e=r[HUr])||(d=f=0,r[HUr]=e=w("p",null,"uk_","Sign in to continue watching")),d||(e[t2]=s)),r[BUr]=s[oa](e,0,r[BUr]),n||o.sym||!r.setup||r.setup(i,o,Mhe),o.sym||r[Fhe](i),r}else if(this.proonly&&!(ME!=null&&ME.pro)){$=b=1,(m=o[Lhe])||($=b=0,m=o[Lhe]=m=R("op",null,"uk_",null)),$||(m[t2]=o._),$||((V=m[Ihe])==null||V.call(m,o,Lhe)),g=m[nPr]("__",m);let z=(W=ME==null?void 0:ME.credits)==null?void 0:W.pro_views;return $||(x=w("h2",g,"uk_","Only available to subscribers")),t=null,z!=null&&z.remaining&&this.creditsdisabled?(k=_=1,(t=m[VUr])||(k=_=0,m[VUr]=t=w("p",null,"uk_",null)),k||(t[t2]=g),k||t[oa]("You still have "),S=z==null?void 0:z.remaining,S===t[qUr]&&k||(t[zUr]=t[oa](t[qUr]=S,0,t[zUr])),k||t[oa](" pro scrim credits, but this scrim is locked to subscribers only.")):z!=null&&z.remaining?(v=C=1,(t=m[WUr])||(v=C=0,m[WUr]=t=w("p",null,"uk_",null)),v||(t[t2]=g),v||t[oa]("You can still watch "),j=z==null?void 0:z.remaining,j===t[GUr]&&v||(t[ZUr]=t[oa](t[GUr]=j,0,t[ZUr])),v||t[oa](" scrims before subscribing.")):z!=null&&z.limit?(P=U=1,(t=m[YUr])||(P=U=0,m[YUr]=t=w("p",null,"uk_",null)),P||(t[t2]=g),P||t[oa]("You have used all your free credits ("),O=z.used,O===t[KUr]&&P||(t[XUr]=t[oa](t[KUr]=O,0,t[XUr])),P||t[oa]("/"),O=z.limit,O===t[QUr]&&P||(t[JUr]=t[oa](t[QUr]=O,0,t[JUr])),P||t[oa](")")):OP.user||(L=I=1,(t=m[ePr])||(L=I=0,m[ePr]=t=w("p",null,"uk_","Sign in to get free credits for subscribers-only content.")),L||(t[t2]=g)),m[tPr]=g[oa](t,0,m[tPr]),$||o.sym||!m.setup||m.setup(b,o,Lhe),o.sym||m[Fhe](b),m}}opgatedicon(){var d,f,m,$,b,g;var e,t=H(),r,o,n,i,s,a,u,c,h;if(this.usersonly&&!OP.user){let x=(d=ME.credits)==null?void 0:d.anon_views;return r=o=1,(e=t[Dhe])||(r=o=0,e=t[Dhe]=e=R("op-icon",null,"uk_",null)),r||(e[t2]=t._),r||((f=e[Ihe])==null||f.call(e,t,Dhe)),n=(x==null?void 0:x.remaining)||void 0,n===e[PGe]||(o|=2,e[PGe]=n),r||(e.data="fingerprint"),i=e[rPr]||(e[rPr]={options:[null]}),n=this.$.gated,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("optip",i,this),o&32&&(o^=32,(m=i[iPr])==null||m.call(i)),o&2&&e.flag$("uk_ "+(e[PGe]?"credits":"")),r||t.sym||!e.setup||e.setup(o,t,Dhe),t.sym||e[Fhe](o),e}else if(this.proonly&&!(ME!=null&&ME.pro)){let x=($=ME==null?void 0:ME.credits)==null?void 0:$.pro_views;return a=u=1,(s=t[Nhe])||(a=u=0,s=t[Nhe]=s=R("op-icon",null,"uk_",null)),a||(s[t2]=t._),a||((b=s[Ihe])==null||b.call(s,t,Nhe)),a||(s.data="lock"),c=!this.creditsdisabled&&(x==null?void 0:x.remaining)||void 0,c===s[TGe]||(u|=2,s[TGe]=c),h=s[oPr]||(s[oPr]={options:[null]}),c=this.$.gated,c===h.options[0]||(h.options[0]=c,u|=48),a||s.on$("optip",h,this),u&32&&(u^=32,(g=h[iPr])==null||g.call(h)),u&2&&s.flag$("uk_ "+(s[TGe]?"credits":"")),a||t.sym||!s.setup||s.setup(u,t,Nhe),t.sym||s[Fhe](u),s}}};E(Hhe,Dun,"Gated",1024);var OGe=Hhe;globalThis.Gated=OGe;T();oe();T();var sPr="/assets/per_harald_borgen_signature.ADEAPHWW.svg";var Bhe=Object.assign({url:sPr,type:"svg",toString:function(){return this.url}},{attributes:{width:"143",height:"37",viewBox:"0 0 143 37",fill:"none"},flags:[],content:`
<path fill-rule="evenodd" clip-rule="evenodd" d="M24.1512 0.208086C23.3695 0.477558 22.1183 1.5612 19.3383 4.3764C14.6062 9.16835 14.5745 9.17593 17.2111 4.88059C18.0707 3.48043 18.5579 2.36726 18.6408 1.61347C18.8183 0.00578623 18.4404 0.523559 15.6612 5.69737C13.1904 10.2967 9.03563 16.6237 5.97676 20.4451C4.89218 21.7998 3.87282 23.3288 3.71147 23.8429C3.55011 24.3568 3.0024 25.3066 2.49431 25.9535C1.98622 26.6004 1.2143 27.5884 0.779097 28.149C-0.063853 29.2347 -0.253464 30.1354 0.361319 30.1354C0.908497 30.1354 2.38577 28.1947 6.99586 21.42C14.1784 10.8652 13.0917 11.9982 16.0467 11.982C20.6819 11.9566 24.9133 8.91169 27.1778 3.97128C28.3656 1.38033 26.7125 -0.675081 24.1512 0.208086ZM26.1666 1.75095C27.1157 5.26349 21.1618 10.7073 16.0306 11.0188C14.0347 11.1399 14.907 9.84582 20.2705 4.72952C24.1818 0.998467 25.7494 0.206518 26.1666 1.75095ZM41.5262 6.14274C36.1981 14.7389 31.5441 26.4762 33.464 26.4762C34.0651 26.4762 34.4551 25.6519 34.7012 23.8625C35.0266 21.4951 35.9422 19.1302 36.6341 18.8699C37.0175 18.7256 37.2211 18.4843 37.139 18.2721C36.9187 17.7039 42.283 10.5327 42.9282 10.5327C42.9879 10.5327 42.2585 12.0698 41.3073 13.9488C40.356 15.8275 39.3494 17.9381 39.0705 18.6388C38.7913 19.3395 38.0128 20.4781 37.3407 21.1689C36.1009 22.443 34.8961 24.3853 35.3459 24.3853C35.6572 24.3853 36.9362 22.8916 37.2982 22.1054C37.6996 21.2332 38.2307 21.3793 38.4272 22.4156C38.7414 24.0737 39.2456 24.0455 39.4008 22.3615C39.6713 19.4268 44.0878 9.76663 46.4946 6.8453C47.7833 5.281 48.1644 4.52931 47.834 4.20233C47.4213 3.79381 47.251 3.97128 42.7917 9.45141C36.5094 17.172 36.3061 16.7488 41.8803 7.55335C43.1004 5.54081 44.0593 3.77813 44.0112 3.63595C43.759 2.88712 43.1862 3.46501 41.5262 6.14274ZM80.3317 3.79381C80.1775 3.97834 79.8144 4.74703 79.5247 5.50238C79.235 6.25774 78.5848 7.49271 78.0796 8.24676C75.0187 12.8165 72.8743 17.845 72.8743 20.4532C72.8743 22.4075 72.3496 23.8774 71.214 25.104C69.9866 26.43 69.9084 25.4067 71.0257 22.6448C72.3649 19.3346 71.9154 17.7682 70.4939 20.7914C68.9097 24.16 68.6345 27.0298 69.878 27.2086C70.5161 27.3003 71.6054 26.1393 72.4 24.5204C72.9192 23.4629 72.9192 23.4629 73.9388 24.4229C75.3007 25.7052 76.254 25.8908 77.7635 25.1676C79.5619 24.3058 79.1666 23.9096 77.1374 24.5403C75.5297 25.04 73.5913 23.2133 74.1961 21.7684C74.4007 21.2792 74.4181 20.8746 74.2483 20.5539C73.6621 19.4467 78.1 8.31498 78.9263 8.82021C79.165 8.96657 77.763 12.982 76.3201 16.2828C74.4836 20.4849 74.4329 21.4485 76.1973 18.6265C78.8988 14.3048 82.5778 1.10641 80.3317 3.79381ZM73.4896 4.06381C70.215 9.2039 66.0082 20.4679 66.0082 24.0959C66.0082 26.4548 67.369 26.9169 68.5098 24.9454C68.672 24.6649 68.5423 24.6284 67.8898 24.7703C67.1997 24.92 67.0648 24.8712 67.0666 24.4713C67.0756 22.2896 68.7834 16.0797 70.5044 11.9702C72.9607 6.1051 72.4528 9.15345 69.8588 15.8437C68.9292 18.2421 69.5305 17.7742 70.7693 15.1354C73.2559 9.83929 75.419 1.03532 73.4896 4.06381ZM94.8718 6.10432C91.1887 7.08393 88.7193 8.2465 88.7193 9.00107C88.7193 9.3223 89.3842 9.13071 91.6685 8.1511C94.2446 7.04655 94.2679 7.0902 92.5202 9.76401C85.8159 20.0215 86.253 27.6631 93.3037 23.4595C97.589 20.9046 98.0202 20.0735 96.0129 18.2392C94.3252 16.6966 94.252 16.3772 95.0585 14.0575C95.7272 12.1338 96.591 10.6404 98.4198 8.24546C100.551 5.45455 99.5611 4.85706 94.8718 6.10432ZM97.9621 6.68456C97.9621 6.86804 97.4778 7.65607 96.886 8.43599C93.0689 13.4634 92.3591 17.5343 95.0612 18.8984C96.4254 19.5873 96.3879 19.9995 94.8592 21.1072C90.1149 24.5452 87.8982 24.5343 88.9556 21.0784C89.2126 20.2379 89.4463 19.4629 89.4745 19.3565C89.5028 19.2504 89.5796 19.0152 89.6454 18.8338C89.7109 18.6527 90.1701 17.3571 90.6655 15.9548C92.2028 11.6027 94.983 7.30609 96.6417 6.71827C97.848 6.29067 97.9621 6.2878 97.9621 6.68456ZM127.447 12.9548C127.195 13.137 126.844 13.5745 126.666 13.9271C126.302 14.6498 124.688 15.8236 124.346 15.6142C124.223 15.539 124.504 15.1391 124.972 14.7256C125.44 14.3121 125.725 13.8777 125.607 13.7601C125.388 13.5437 122.575 16.2828 121.539 17.7204C120.974 18.5045 120.974 18.5045 120.085 17.655C119.126 16.7392 118.711 16.6582 117.158 17.0852C115.724 17.4791 116.08 17.9587 117.921 18.1124C120.051 18.2904 119.959 18.6438 117.24 20.7146C108.775 27.1626 102.574 35.018 104.552 36.7896C106.658 38.6759 117.69 27.4315 120.117 20.925C120.919 18.7734 121.465 18.3429 121.465 19.862C121.465 23.2339 124.487 22.7473 129.923 18.4995C132.829 16.2282 133.085 16.1545 133.085 17.5897C133.085 18.7572 133.476 18.9185 134.67 18.2431C136.158 17.4007 137.156 18.1176 138.959 21.3233C140.328 23.7596 141.469 24.908 142.521 24.908C143.2 24.908 143.199 24.9062 142.247 23.9903C141.722 23.4856 140.73 22.074 140.043 20.8531C138.037 17.2873 137.578 16.8458 135.783 16.753C134.355 16.6791 134.269 16.6359 134.19 15.9561C134.016 14.464 132.541 15.0526 128.2 18.3458C124.721 20.9843 122.752 21.6678 122.418 20.3521C122.075 18.9998 123.082 17.8142 126.483 15.5664C128.701 14.1007 129.523 13.3131 129.266 12.9015C129.029 12.5217 128.004 12.5515 127.447 12.9548ZM113.929 16.1135C112.326 16.8803 110.574 17.8913 110.034 18.3599C109.054 19.212 109.054 19.212 109.054 18.2703C109.054 17.1237 104.763 16.8354 102.543 17.8327C100.557 18.7253 99.1827 21.9342 100.309 23.0489C101.434 24.1626 102.209 23.8184 105.488 20.7452C107.696 18.6764 108.418 18.6571 107.353 20.6955C106.412 22.4961 107.417 22.9242 108.422 21.1508C108.904 20.3003 112.184 17.6333 112.79 17.5993C112.884 17.5941 112.943 17.9721 112.922 18.4391C112.867 19.6297 113.533 19.5484 114.201 18.2828C114.557 17.6074 115.208 17.0005 116.184 16.4349C119.595 14.4564 117.9 14.2146 113.929 16.1135ZM61.0746 16.0429C60.9172 16.1987 59.7471 16.5557 58.4742 16.8364C55.2648 17.5442 53.754 18.247 52.5627 19.5863C51.1496 21.1754 50.1041 21.1534 50.8763 19.551C51.743 17.7517 50.313 16.0842 48.9722 17.3307C48.6107 17.667 48.3147 18.0912 48.3147 18.2732C48.3147 18.8887 47.749 18.9553 47.2277 18.4015C45.9918 17.0886 43.7027 18.4127 42.2133 21.3022C41.5217 22.644 41.6086 24.2546 42.3728 24.2546C42.8072 24.2546 42.8867 24.1069 42.8204 23.4229C42.6768 21.9378 44.4493 19.3408 45.8431 18.9945C46.5741 18.8131 46.5783 18.8189 46.1687 19.4417C45.9406 19.7888 45.6136 20.4964 45.4423 21.0144C45.2706 21.5324 44.8367 22.2292 44.4778 22.5627C43.8475 23.149 43.6042 23.8625 44.0347 23.8625C44.1498 23.8625 45.4732 22.5609 46.975 20.9702C49.9118 17.8597 50.3265 17.712 49.9018 19.9281C49.2952 23.0933 49.3729 23.086 54.3954 19.4898C56.6285 17.8913 57.0988 17.9305 55.9258 19.6179C54.6785 21.4122 54.509 23.6012 55.6176 23.6012C56.4925 23.6012 57.1044 23.2279 59.1288 21.4603C60.8216 19.9817 61.4897 19.8944 62.7476 20.9875C63.8155 21.9156 63.7907 21.9125 64.8858 21.2517C66.0346 20.5586 66.1027 19.8552 64.9627 20.459C64.5972 20.6524 64.2512 20.5609 63.5369 20.081C61.3057 18.5824 61.1977 18.6033 58.2183 21.1093C55.6958 23.2311 55.2658 23.0884 56.5342 20.5497C57.4255 18.7658 57.4255 18.7658 59.4333 17.9817C61.7224 17.0878 62.3411 16.6644 62.1352 16.1331C61.9632 15.6903 61.4731 15.6485 61.0746 16.0429ZM26.1167 18.9007C23.7284 20.4843 21.1208 22.2457 20.322 22.8147C18.6289 24.0207 18.2093 24.1014 18.2093 23.2214C18.2093 21.9527 18.7459 21.3236 20.4345 20.6135C23.6655 19.2543 25.105 17.3139 23.0288 17.1158C22.2094 17.0374 21.8748 17.378 22.4346 17.7204C22.8669 17.9849 22.742 18.2115 21.8222 18.8312C20.656 19.6169 20.1849 19.608 20.7128 18.8103C21.4388 17.7138 20.7934 17.832 19.4957 19.0335C18.0239 20.396 17.289 20.7261 15.7275 20.7261C14.4451 20.7261 14.1232 20.9156 14.5468 21.4208C14.8972 21.8385 15.9303 21.8782 16.6422 21.5011C17.1229 21.2465 17.153 21.3307 17.153 22.9336C17.153 25.7109 18.1731 25.5612 23.2269 22.0421C24.6067 21.081 26.2342 20.0097 26.8435 19.661C28.5817 18.6665 31.1179 16.7083 31.1343 16.3482C31.1649 15.6788 30.3529 16.092 26.1167 18.9007ZM106.288 18.1237C106.499 18.4619 102.141 22.8171 101.592 22.8171C100.984 22.8171 100.895 21.9917 101.366 20.7337C101.99 19.0709 105.663 17.1229 106.288 18.1237ZM119.089 21.1116C119.089 22.8957 110.068 33.3019 106.75 35.3463C102.016 38.2624 108.369 29.6244 115.667 23.2224C118.569 20.6767 119.089 20.3563 119.089 21.1116Z" fill="white"/>

`});ge(),dt(),$e();var RGe=Symbol("user"),lPr=Symbol(),MGe=Symbol("value"),aPr=Symbol(),LGe=Symbol("issued"),uPr=Symbol(),DGe=Symbol("completed"),cPr=Symbol(),NGe=Symbol("export-to-pdf"),hPr=Symbol(),IGe=Symbol("claim"),pPr=Symbol(),s4,Wz,Zz,dPr,mj,pb,UYn=le("&.item.finished",globalThis,l=>l.item.finished),PYn=le("&.lesson?",globalThis,l=>l.lesson),TYn=le("&.visible?",globalThis,l=>l.visible),Vhe=Symbol(),fPr=Symbol(),Gz=Symbol(),Iun=Symbol(),zhe=Symbol();var FGe=Symbol(),mPr=Symbol(),$Pr=Symbol(),$j=Symbol(),Fun=Symbol(),qhe=Symbol(),yPr=Symbol();var HGe=Symbol(),bPr=Symbol(),gPr=Symbol(),kPr=Symbol(),_Pr=Symbol(),xPr=Symbol(),vPr=Symbol(),wPr=Symbol(),SPr=Symbol(),CPr=Symbol(),EPr=Symbol(),jPr=Symbol(),APr=Symbol(),UPr=Symbol(),PPr=Symbol(),TPr=Symbol(),OPr=Symbol(),RPr=Symbol(),MPr=Symbol(),LPr=Symbol(),DPr=Symbol(),NPr=Symbol(),IPr=Symbol(),FPr=Symbol(),HPr=Symbol(),BPr=Symbol(),VPr=Symbol(),zPr=Symbol(),qPr=Symbol(),WPr=Symbol(),ZPr=Symbol(),Hun=Symbol(),Bun=Symbol(),GPr=Symbol(),YPr=Symbol(),XPr=Symbol(),KPr=Symbol(),JPr=Symbol();var BGe=Symbol(),QPr=Symbol();var VGe=Symbol(),yj=Symbol(),Vun=Symbol(),zun=Symbol(),qun=Symbol(),eTr=Symbol(),tTr=Symbol(),kc=Symbol.for("##up"),zGe=Symbol.for("##register"),bj=Symbol.for("#getSlot"),Yz=Symbol.for("#getRenderContext"),Xz=Symbol.for("#isRichElement"),za=Symbol.for("#afterVisit"),Kz=Symbol.for("#appendChild"),rTr=Symbol.for("#replaceChild"),Wun=Symbol.for("#visit"),qa=Symbol.for("#placeChild"),Zun=Symbol.for("#insertInto"),Gun=Symbol.for("#replaceWith"),Yun=Symbol(),r2=class r2 extends OPObject{set user(e){this.user.$set(e,this,RGe,"user")}get user(){return this.user.$get(this,RGe,"user")}get user(){return this[lPr]||y((s4=this.parent(User),p(s4.composite,Function)?s4.composite():s4.composite=!0,p(s4.eager,Function)?s4.eager():s4.eager=!0,s4),this,RGe,"user",lPr,r2.prototype)}set value(e){this.value.$set(e,this,MGe,"value")}get value(){return this.value.$get(this,MGe,"value")}get value(){return this[aPr]||y((Wz=this.ref(CourseEntry),p(Wz.composite,Function)?Wz.composite():Wz.composite=!0,Wz),this,MGe,"value",aPr,r2.prototype)}set issued(e){this.issued.$set(e,this,LGe,"issued")}get issued(){return this.issued.$get(this,LGe,"issued")}get issued(){return this[uPr]||y((Zz=this.ts(),p(Zz.editable,Function)?Zz.editable():Zz.editable=!0,Zz),this,LGe,"issued",uPr,r2.prototype)}set completed(e){this.completed.$set(e,this,DGe,"completed")}get completed(){return this.completed.$get(this,DGe,"completed")}get completed(){return this[cPr]||y((dPr=this.ts(),dPr),this,DGe,"completed",cPr,r2.prototype)}set exporttopdf(e){this.exporttopdf.$set(e,this,NGe,"exporttopdf")}get exporttopdf(){return this.exporttopdf.$get(this,NGe,"exporttopdf")}get exporttopdf(){return this[hPr]||y((mj=this.action(),p(mj.g,Function)?mj.g(0):mj.g=0,mj.callback=function(){return window.print()},mj),this,NGe,"exporttopdf",hPr,r2.prototype)}set claim(e){this.claim.$set(e,this,IGe,"claim")}get claim(){return this.claim.$get(this,IGe,"claim")}get claim(){return this[pPr]||y((pb=this.action(),p(pb.pov,Function)?pb.pov():pb.pov=!0,p(pb.rpc,Function)?pb.rpc():pb.rpc=!0,pb.callback=!1,pb),this,IGe,"claim",pPr,r2.prototype)}get modal(){return!0}get dialog(){return!1}get sheet(){return!0}get me(){return this.user==OP.user}get astitle(){var e;return(e=this.module)==null?void 0:e.astitle}get module(){return p(this.value,CourseEntry)?this.value.parent:this.value}get issued(){return this.resolved&&this.saved&&this.issued}get claimable(){var e;return this.me&&(ME==null?void 0:ME.pro)&&!((e=this.value)!=null&&e.locked)}get unclaimed(){return!this.issued}get locked(){var e;return this.me&&((e=this.value)==null?void 0:e.locked)}opowndialog(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[Vhe])||(r=o=0,e=t[Vhe]=e=R("op",null,"vb-af ocontainer",null)),r||(e[kc]=t._),r||((h=e[zGe])==null||h.call(e,t,Vhe)),n=e[bj]("__",e),i=this,i===e[fPr]||(e.data=e[fPr]=i),r||(e.popup__={modal:!0,dialog:!0}),r||(e.popup="popup"),r||e.on$("opnav",{deep:!0,stack:!0},this),s=e[Yz](Iun),u=c=1,(a=s.run(this.obody(this)))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[Xz]&&(u||!a.setup||a.setup(c,s),a[za](c)),a==e[Gz]||!e[Gz]&&n[Kz](e[Gz]=a)||(n[rTr](a,e[Gz]),e[Gz]=a),r||t.sym||!e.setup||e.setup(o,t,Vhe),t.sym||e[za](o),e}opownsheet(e,t){var m,$,b;var r,o=H(),n,i,s,a,u,c,h,d,f;return n=i=1,(r=o[zhe])||(n=i=0,r=o[zhe]=r=R("op-layer",null,"xsheet",null)),n||(r[kc]=o._),n||((m=r[zGe])==null||m.call(r,o,zhe)),s=r[bj]("__",r),a=($=this.$type)==null?void 0:$.name,a===r[FGe]||(i|=2,r[FGe]=a),n||(r.data__={sub:!0,rich:!0}),a=this,a===r[mPr]||(r.data=r[mPr]=a),n||r.on$("opnav",{deep:!0,stack:!0},this),n||(r.contour="contour"),u=r[$Pr]||(r[$Pr]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,i|=48),n||r.on$("opmenu",u,this),i&32&&(i^=32,(b=u[Wun])==null||b.call(u)),i&2&&r.flag$("xsheet "+(r[FGe]||"")),c=r[Yz](Fun),d=f=1,(h=c.run(this.oel(this,"sheet-page")))||(d=f=0,c.cache(h=M(c.value,s,"xsheet-body",null))),h[Xz]&&((!d||f&2)&&h.flags.reconcile($j,"xsheet-body"),d||!h.setup||h.setup(f,c),h[za](f)),h==r[$j]||!r[$j]&&s[Kz](r[$j]=h)||(s[rTr](h,r[$j]),r[$j]=h),n||o.sym||!r.setup||r.setup(i,o,zhe),o.sym||r[za](i),r}opownbody(){var Ot,tr;var e=H(),t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt;let Mt=this.module;if(e.this=this,d=f=1,(h=e[qhe])||(d=f=0,h=e[qhe]=h=R("op",null,"vb-aj",null)),d||(h[kc]=e._),d||((Ot=h[zGe])==null||Ot.call(h,e,qhe)),m=h[bj]("__",h),$=this,$===h[yPr]||(h.data=h[yPr]=$),$=this.unclaimed||void 0,$===h[HGe]||(f|=2,h[HGe]=$),f&2&&h.flag$("vb-aj "+(h[HGe]?"incomplete":"")),g=x=1,(b=h[bPr])||(g=x=0,h[bPr]=b=R("app-bg",m,"vb-ak vb_aj",null)),k=b[bj]("__",h),S=v=1,(_=h[gPr])||(S=v=0,h[gPr]=_=R("app-cubes",k,"vb-al vb_aj",null)),S||!_.setup||_.setup(v,C),_[za](v),S||k[Kz](_),g||!b.setup||b.setup(x,j),b[za](x),g||m[Kz](b),(P=h[kPr])||(h[kPr]=P=w("header",m,"vb-am vb_aj",null)),a=null,this.resolved){if(U=O=1,(a=h[_Pr])||(U=O=0,h[_Pr]=a=w("section",null,"vb-an vb_aj",null)),U||(a[kc]=m),U||(L=w("div",a,"vb-ao vb_aj","Certificate of Completion")),(I=a[xPr])||(a[xPr]=I=w("div",a,"vb-ap display vb_aj",null)),t=null,this.issued?t=this.user.name||this.user.alias:t="Your Name",a[vPr]=I[qa](t,0,a[vPr]),o=n=i=null,p(Mt,Course)){F=N=1,(o=a[wPr])||(F=N=0,a[wPr]=o=w("div",null,"vb-aq vb_aj","Completed the Scrimba course")),F||(o[kc]=a),V=W=1,(n=a[SPr])||(V=W=0,a[SPr]=n=w("h1",null,"display vb_aj",null)),V||(n[kc]=a),z=Mt.astitle,z===n[EPr]&&V||(n[CPr]=n[qa](n[EPr]=z,384,n[CPr]));{q=Y=1,(i=a[jPr])||(q=Y=0,a[jPr]=i=w("div",null,"vb-as stats vb_aj",null)),q||(i[kc]=a);let ut=(+Mt.duration/1e3).round()/60/60;r=null,ut>1&&(K=X=1,(r=i[APr])||(K=X=0,i[APr]=r=R("app-hexagon",null,"vb_as vb_aj",null)),K||(r[kc]=i),Z=r[bj]("__",r),(Q=r[UPr])||(r[UPr]=Q=w("em",Z,"vb_as vb_aj",null)),pt.context=r[TPr]||(r[TPr]={_:Q}),ee=ut.round(.1),pt.context=null,ee===r[OPr]&&K||(r[PPr]=Q[qa](r[OPr]=ee,384,r[PPr])),K||(te=w("span",Z,"vb_as vb_aj","HOURS")),K||!r.setup||r.setup(X,ne),r[za](X)),i[RPr]=i[qa](r,0,i[RPr]),J=me=1,(ie=i[MPr])||(J=me=0,i[MPr]=ie=R("app-hexagon",i,"vb_as vb_aj",null)),ce=ie[bj]("__",i),(ye=i[LPr])||(i[LPr]=ye=w("em",ce,"vb_as vb_aj",null)),we=Mt.lessons.size,we===i[NPr]&&J||(i[DPr]=ye[qa](i[NPr]=we,384,i[DPr])),J||(ae=w("span",ce,"vb_as vb_aj","LESSONS")),J||!ie.setup||ie.setup(me,be),ie[za](me),J||i[Kz](ie)}}else p(Mt,CourseEntry)&&(_e=Ae=1,(o=a[IPr])||(_e=Ae=0,a[IPr]=o=w("div",null,"vb-az vb_aj","Completed the Scrimba course module")),_e||(o[kc]=a),ve=Pe=1,(n=a[FPr])||(ve=Pe=0,a[FPr]=n=w("h1",null,"display vb_aj",null)),ve||(n[kc]=a),He=Mt.astitle,He===n[BPr]&&ve||(n[HPr]=n[qa](n[BPr]=He,384,n[HPr])));a[VPr]=a[qa](o,0,a[VPr]),a[zPr]=a[qa](n,0,a[zPr]),a[qPr]=a[qa](i,0,a[qPr]),(Ue=a[WPr])||(a[WPr]=Ue=w("div",a,"vb-bb signatures roboto-condensed-400 vb_aj",null)),U||(Be=w("dl",Ue,"vb_bb vb_aj",null)),U||(je=w("dt",Be,"vb_bb vb_aj",null)),U||(ue=Ir("svg",je,"vb_bb vb_aj",null)),U||ue.set$("src",Bhe),U||(xe=w("dd",Be,"vb_bb vb_aj",null)),U||(Re=w("em",xe,"vb_bb vb_aj","Per Harald Borgen")),U||(Oe=w("span",xe,"vb_bb vb_aj","CEO, Scrimba")),U||(qe=w("dl",Ue,"vb-bi vb_bb vb_aj",null)),Ie=Ke=1,(Ne=a[ZPr])||(Ie=Ke=0,a[ZPr]=Ne=w("dt",qe,"vb-bj vb_bb vb_aj",null)),s=null,this.issued||this.completed?(Te=Ne[Yz](Bun),Ce=Ze=1,(s=Te.run(this.ofmt(this.issued||this.completed,"date")))||(Ce=Ze=0,Te.cache(s=M(Te.value,null,"vb_bb vb_aj",null))),Ce||(s[kc]=Ne),s[Xz]&&((!Ce||Ze&2)&&s.flags.reconcile(Hun,"vb_bb vb_aj"),Ce||!s.setup||s.setup(Ze,Te),s[za](Ze))):(et=ft=1,(s=Ne[GPr])||(et=ft=0,Ne[GPr]=s=w("span",null,"vb-bl vb_bb vb_aj","Not yet completed")),et||(s[kc]=Ne)),Ne[YPr]=Ne[qa](s,0,Ne[YPr]),Ie||!Ne.setup||Ne.setup(Ke,Ge),Ne[za](Ke),U||(Je=w("dd",qe,"vb-bm vb_bb vb_aj",null)),U||(ct=w("em",Je,"vb_bb vb_aj","Completion date"))}return h[XPr]=m[qa](a,0,h[XPr]),c=null,this.resolved&&this.me&&this.unclaimed&&(rt=$t=1,(c=h[KPr])||(rt=$t=0,h[KPr]=c=w("section",null,"vb-bo vb_aj",null)),rt||(c[kc]=m),rt||(it=w("h2",c,"vb_aj","To receive this certificate you need to")),rt||(tt=w("ul",c,"vb-bq vb_aj",null)),at=st=1,(ze=c[JPr])||(at=st=0,c[JPr]=ze=w("li",tt,"vb_aj",null)),yt=(ME==null?void 0:ME.pro)||void 0,yt===c[BGe]||(st|=2,c[BGe]=yt),at||ze.on$("click",{$_:[function(lt,fe){return APP.upgrade(lt)}]},this),st&2&&ze.flag$("vb_aj "+(c[BGe]?"done":"")),at||(vt=w("a",ze,"vb_aj","Upgrade")),at||ze[qa](" to Scrimba Pro"),Ct=jt=1,(nt=c[QPr])||(Ct=jt=0,c[QPr]=nt=w("li",tt,"vb_aj",null)),bt=!((tr=this.value)!=null&&tr.locked)||void 0,bt===nt[VGe]||(jt|=2,nt[VGe]=bt),jt&2&&nt.flag$("vb_aj "+(nt[VGe]?"done":"")),Ct||nt[qa]("Complete the mandatory lessons in "),Xe=nt[Yz](Vun),Dt=mt=1,(ht=Xe.run(this.olink(Mt)))||(Dt=mt=0,Xe.cache(ht=M(Xe.value,nt,"vb_aj",null))),ht[Xz]&&((!Dt||mt&2)&&ht.flags.reconcile(yj,"vb_aj"),Dt||!ht.setup||ht.setup(mt,Xe),ht[za](mt)),ht==nt[yj]||!nt[yj]&&(nt[yj]=ht)[Zun](nt)||nt[yj][Gun](nt[yj]=ht,nt),Ct||!nt.setup||nt.setup(jt,At),nt[za](jt),u=null,this.claimable&&(Ut=c[Yz](qun),kt=_t=1,(u=Ut.run(this.obutton(this.claim)))||(kt=_t=0,Ut.cache(u=M(Ut.value,null,"xl blue vb_aj",null))),kt||(u[kc]=c),u[Xz]&&(kt||(u.label="Claim Certificate"),(!kt||_t&2)&&u.flags.reconcile(zun,"xl blue vb_aj"),kt||!u.setup||u.setup(_t,Ut),u[za](_t))),c[eTr]=c[qa](u,0,c[eTr]),rt||!c.setup||c.setup($t,xt),c[za]($t)),h[tTr]=m[qa](c,0,h[tTr]),d||e.sym||!h.setup||h.setup(f,e,qhe),e.sym||h[za](f),h}};r2.alias="cert",E(r2,Yun,"Certificate",0);var qGe=r2;globalThis.Certificate=qGe;T();oe();var oTr="/assets/cube-stack.MB3RK5TE.webp";We(),ge(),dt(),$e(),ln();var WGe=Symbol("remove-lesson"),nTr=Symbol(),ZGe=Symbol("remove-module"),iTr=Symbol(),GGe=Symbol("name"),sTr=Symbol(),YGe=Symbol("desc"),lTr=Symbol(),XGe=Symbol("item"),aTr=Symbol(),KGe=Symbol("kind"),uTr=Symbol(),JGe=Symbol("mark-done"),cTr=Symbol(),QGe=Symbol("mark-not-done"),hTr=Symbol(),eYe=Symbol("mark-module-done"),pTr=Symbol(),tYe=Symbol("mark-module-done-srv"),dTr=Symbol(),rYe=Symbol("mark-module-not-done"),fTr=Symbol(),oYe=Symbol("mark-module-not-done-srv"),mTr=Symbol(),nYe=Symbol("mark-done-until"),$Tr=Symbol(),iYe=Symbol("mark-done-until-srv"),yTr=Symbol(),sYe=Symbol("edit-captions"),bTr=Symbol(),lYe=Symbol("group"),gTr=Symbol(),aYe=Symbol("optional"),kTr=Symbol(),uYe=Symbol("skippable"),_Tr=Symbol(),cYe=Symbol("promotional"),xTr=Symbol(),hYe=Symbol("aside"),vTr=Symbol(),pYe=Symbol("pro-only"),wTr=Symbol(),dYe=Symbol("unlockable"),STr=Symbol(),fYe=Symbol("free-sample"),CTr=Symbol(),mYe=Symbol("hidden"),ETr=Symbol(),$Ye=Symbol("users-only"),jTr=Symbol(),yYe=Symbol("credits-disabled"),ATr=Symbol(),bYe=Symbol("challenges-unlocked"),UTr=Symbol(),gYe=Symbol("expanded"),PTr=Symbol(),kYe=Symbol("visited"),TTr=Symbol(),_Ye=Symbol("interacted"),OTr=Symbol(),xYe=Symbol("gen_names"),RTr=Symbol(),vYe=Symbol("mark-interacted"),MTr=Symbol(),wYe=Symbol("mark-visited"),LTr=Symbol(),SYe=Symbol("transfer-to-scrimba-and-publish"),DTr=Symbol(),CYe=Symbol("entries"),NTr=Symbol(),EYe=Symbol("entries-deep"),ITr=Symbol(),jYe=Symbol("path"),FTr=Symbol(),AYe=Symbol("locked?"),HTr=Symbol(),UYe=Symbol("gated"),BTr=Symbol(),PYe=Symbol("duration"),VTr=Symbol(),TYe=Symbol("lessons"),zTr=Symbol(),OYe=Symbol("refs"),qTr=Symbol(),RYe=Symbol("exercises"),WTr=Symbol(),MYe=Symbol("progress"),ZTr=Symbol(),LYe=Symbol("name"),GTr=Symbol(),DYe=Symbol("toc"),YTr=Symbol(),NYe=Symbol("about"),XTr=Symbol(),IYe=Symbol("description"),KTr=Symbol(),FYe=Symbol("prerequisites"),JTr=Symbol(),HYe=Symbol("scratchpad"),QTr=Symbol(),BYe=Symbol("teachers"),eOr=Symbol(),VYe=Symbol("preview"),tOr=Symbol(),zYe=Symbol("joined_at"),rOr=Symbol(),qYe=Symbol("kind"),oOr=Symbol(),WYe=Symbol("add-section"),nOr=Symbol(),ZYe=Symbol("add-certificate"),iOr=Symbol(),GYe=Symbol("enable-all-instant-feedback"),sOr=Symbol(),YYe=Symbol("add-scrim"),lOr=Symbol(),XYe=Symbol("popularity"),aOr=Symbol(),KYe=Symbol("thumbnail"),uOr=Symbol(),JYe=Symbol("status"),cOr=Symbol(),QYe=Symbol("rewarded"),hOr=Symbol(),eXe=Symbol("sources"),pOr=Symbol(),tXe=Symbol("show_hidden"),dOr=Symbol(),rXe=Symbol("progress"),fOr=Symbol(),oXe=Symbol("check_completed"),mOr=Symbol(),nXe=Symbol("mark_completed"),$Or=Symbol(),iXe=Symbol("items"),yOr=Symbol(),sXe=Symbol("items-deep"),bOr=Symbol(),lXe=Symbol("history"),gOr=Symbol(),aXe=Symbol("resumable"),kOr=Symbol(),uXe=Symbol("gen_names"),_Or=Symbol(),cXe=Symbol("resume"),xOr=Symbol(),hXe=Symbol("watch_preview"),vOr=Symbol(),pXe=Symbol("modules"),wOr=Symbol(),dXe=Symbol("lessons"),SOr=Symbol(),fXe=Symbol("samples"),COr=Symbol(),mXe=Symbol("certs"),EOr=Symbol(),$Xe=Symbol("exercises"),jOr=Symbol(),yXe=Symbol("duration"),AOr=Symbol(),bXe=Symbol("lesson_count"),UOr=Symbol(),gXe=Symbol("sync-metadata"),POr=Symbol(),kXe=Symbol("sync-duration"),TOr=Symbol(),_Xe=Symbol("generate_captions"),OOr=Symbol(),xXe=Symbol("reset-progress"),ROr=Symbol(),vXe=Symbol("reset-progress-srv"),MOr=Symbol(),wXe=Symbol("start-editing"),LOr=Symbol(),SXe=Symbol("text"),DOr=Symbol(),CXe=Symbol("courses"),NOr=Symbol(),vp,wp,l4,IOr,a4,FOr,Sp,Cp,Ep,o2=le("&.lesson?",globalThis,l=>l.lesson),xb=le("&.visible?",globalThis,l=>l.visible),jp,BYn=le("!&.item.finished",globalThis,l=>!l.item.finished),Ap,Up,VYn=le("&.item.finished",globalThis,l=>l.item.finished),Pp,db,Tp,Jz,QXe=le("&.module?",globalThis,l=>l.module),Qz,eq,tq,rq,oq,nq,iq,sq,lq,aq,uq,u4,c4,h4,EXe,jXe,AXe,fb,cq,Kun=le("!&.self-hidden?",globalThis,l=>!l.selfhidden),UXe,PXe,Jun=le("&.started?",globalThis,l=>l.started),Qun=le("&.completed?",globalThis,l=>l.completed),gj,TXe,OXe,jq=le("&.duration",globalThis,l=>l.duration),RXe,MXe,EMr=le("&.item",globalThis,l=>l.item),LXe,jMr=le("&.item..exercises",globalThis,l=>{var e;return(e=l.item)==null?void 0:e.exercises}),kj,AMr=le("&.mandatory?",globalThis,l=>l.mandatory),ecn=le("&.finished?",globalThis,l=>l.finished),DXe=Symbol(),HOr=Symbol(),BOr=Symbol(),VOr=Symbol(),NXe=Symbol(),zOr=Symbol(),qOr=Symbol(),WOr=Symbol(),Whe=Symbol(),ZOr=Symbol(),GOr=Symbol(),YOr=Symbol(),XOr=Symbol(),Zhe=Symbol(),hq=Symbol(),tcn=Symbol(),Wa,pq,p4,Zd,dq,mb,El,d4,fq,Gd,Op,Rp,Mp,$b,mq,KOr,f4,$q,JOr,m4,_j,rcn=le("&.item..finished",globalThis,l=>{var e;return(e=l.item)==null?void 0:e.finished}),yb,Lp,IXe,ocn=le("&._pos",globalThis,l=>l._pos),ncn=le("&.top? && &.visible?",globalThis,l=>l.top&&l.visible),FXe,xj,vj,HXe,Za,wj,BXe=Symbol(),QOr=Symbol(),eRr=Symbol(),Ghe=Symbol(),tRr=Symbol(),rRr=Symbol(),oRr=Symbol(),nRr=Symbol(),Sj=Symbol(),icn=Symbol(),Cj=Symbol(),scn=Symbol(),Ej=Symbol(),lcn=Symbol(),Yhe=Symbol(),iRr=Symbol(),sRr=Symbol(),VXe,zXe,qXe,acn=le("&.free-sample",globalThis,l=>l.freesample),WXe,ucn=le("&.cert?",globalThis,l=>l.cert),ZXe,$4,Xhe=Symbol(),lRr=Symbol(),aRr=Symbol(),uRr=Symbol(),cRr=Symbol(),hRr,jj,bb,gb,GXe=Symbol(),pRr=Symbol(),dRr=Symbol(),kb,_b,Khe=Symbol(),ccn=Symbol(),hcn=Symbol(),pcn=Symbol(),dcn=Symbol(),fcn=Symbol(),mcn=Symbol();var $cn=Symbol(),fRr=Symbol(),mRr=Symbol(),$Rr=Symbol(),ycn=Symbol(),bcn=Symbol(),gcn=Symbol(),kcn=Symbol(),yRr=Symbol(),bRr=Symbol(),Jhe=Symbol(),gRr=Symbol(),kRr=Symbol(),Qhe=Symbol(),_Rr=Symbol(),xRr=Symbol(),yq=Symbol(),_cn=Symbol(),Aj=Symbol(),xcn=Symbol(),vRr=Symbol(),wRr=Symbol(),SRr=Symbol(),Uj=Symbol(),vcn=Symbol(),YXe,epe=Symbol(),CRr=Symbol(),tpe=Symbol(),ERr=Symbol(),rpe=Symbol(),jRr=Symbol(),XXe=Symbol(),ope=Symbol(),ARr=Symbol(),URr=Symbol(),npe=Symbol(),PRr=Symbol();var wcn=Symbol(),TRr=Symbol(),ORr=Symbol(),RRr=Symbol(),MRr=Symbol(),LRr=Symbol(),ipe=Symbol(),DRr=Symbol(),spe=Symbol(),bq=Symbol(),Scn=Symbol(),gq=Symbol(),Ccn=Symbol(),kq=Symbol(),Ecn=Symbol(),_q=Symbol(),jcn=Symbol(),Pj=Symbol(),Acn=Symbol(),xq=Symbol(),Ucn=Symbol(),Tj=Symbol(),Pcn=Symbol(),NRr=Symbol(),IRr=Symbol(),Tcn=Symbol(),FRr=Symbol(),Ocn=Symbol(),lpe=Symbol(),HRr=Symbol(),BRr=Symbol(),VRr=Symbol(),zRr=Symbol(),qRr=Symbol(),WRr=Symbol();var ZRr=Symbol(),GRr=Symbol(),ape=Symbol(),YRr=Symbol();var Rcn=Symbol();var Mcn=Symbol(),XRr=Symbol();var Lcn=Symbol();var Dcn=Symbol(),KRr=Symbol(),Oj=Symbol(),Ncn=Symbol(),Icn=Symbol(),Fcn=Symbol(),JRr=Symbol(),upe=Symbol(),QRr=Symbol(),eMr=Symbol(),vq=Symbol(),Hcn=Symbol(),tMr=Symbol(),rMr=Symbol(),oMr=Symbol(),nMr=Symbol(),wq=Symbol(),Bcn=Symbol(),Rj=Symbol(),Vcn=Symbol(),Mj=Symbol(),zcn=Symbol(),Sq=Symbol(),qcn=Symbol(),KXe=Symbol(),iMr=Symbol();var JXe=Symbol(),sMr=Symbol(),lMr=Symbol(),aMr=Symbol(),cpe=Symbol(),uMr=Symbol(),cMr=Symbol(),hMr=Symbol(),hpe=Symbol(),pMr=Symbol(),dMr=Symbol(),fMr=Symbol(),mMr=Symbol(),$Mr=Symbol(),yMr=Symbol(),Wcn=Symbol(),Zcn=Symbol();var Gcn=Symbol(),bMr=Symbol(),Cq=Symbol(),Ycn=Symbol(),gMr,Eq,kMr=le("&.name",globalThis,l=>l.name),ppe=Symbol(),_Mr=Symbol(),xMr=Symbol(),vMr=Symbol(),wMr=Symbol(),SMr=Symbol(),Xcn=Symbol(),UMr=Symbol.for("#has"),dr=Symbol.for("##up"),xn=Symbol.for("##register"),Eo=Symbol.for("#placeChild"),Ft=Symbol.for("#afterVisit"),Yd=Symbol.for("#getSlot"),ao=Symbol.for("#getRenderContext"),Zr=Symbol.for("#isRichElement"),na=Symbol.for("#insertInto"),ia=Symbol.for("#replaceWith"),CMr=Symbol.for("#visit"),bv=Symbol.for("#appendChild"),Aq=Symbol.for("#replaceChild"),Kcn=Symbol.for("#getFunctionalSlot"),tKe=Symbol.for("#getDynamicContext"),Jcn=Symbol.for("#registerFunctionalSlot"),Qcn=Symbol(),rKe=class rKe extends OPMixin{};E(rKe,Qcn,"CourseModule",1024);var Lj=rKe,dpe=Symbol(),$r=class $r extends Qe(dpe,OPEmbed,Linkable,Lj,Gated){constructor(){super(...arguments),super[A]||this[A](),re(this,dpe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[dpe])==null||o.call(this,...arguments)}get askindlabel(){return this.item?"Lesson":"Section"}get asicon(){return"courseentry"}get transcript(){var e;return(e=this.scrim)==null?void 0:e.transcript}set removelesson(e){this.removelesson.$set(e,this,WGe,"removelesson")}get removelesson(){return this.removelesson.$get(this,WGe,"removelesson")}get removelesson(){return this[nTr]||y((vp=this.action(),p(vp.g,Function)?vp.g(999):vp.g=999,p(vp.if,Function)?vp.if(function(){return this.lesson}):vp.if=function(){return this.lesson},p(vp.rx,Function)?vp.rx(ADMIN):vp.rx=ADMIN,vp.callback=function(){if(globalThis.confirm("Are you sure you want to delete `"+this.aslabel+"`? The associated scrim will not be deleted.")&&globalThis.confirm("Are you really sure?"))return this.$up.delete(this)},vp),this,WGe,"removelesson",nTr,$r.prototype)}set removemodule(e){this.removemodule.$set(e,this,ZGe,"removemodule")}get removemodule(){return this.removemodule.$get(this,ZGe,"removemodule")}get removemodule(){return this[iTr]||y((wp=this.action(),p(wp.g,Function)?wp.g(999):wp.g=999,p(wp.if,Function)?wp.if(function(){return this.module}):wp.if=function(){return this.module},p(wp.rx,Function)?wp.rx(ADMIN):wp.rx=ADMIN,wp.callback=function(){if(globalThis.confirm("Are you sure you want to delete `"+this.aslabel+"` and the "+this.entriesdeep.len+" entries it contains?")&&globalThis.confirm("Are you really sure?"))return this.$up.delete(this)},wp),this,ZGe,"removemodule",iTr,$r.prototype)}set name(e){this.name.$set(e,this,GGe,"name")}get name(){return this.name.$get(this,GGe,"name")}get name(){return this[sTr]||y((l4=this.string(),p(l4.fallback,Function)?l4.fallback(function(){var e;return((e=this.item)==null?void 0:e.name)||"Entry"}):l4.fallback=function(){var e;return((e=this.item)==null?void 0:e.name)||"Entry"},p(l4.s,Function)?l4.s():l4.s=!0,l4),this,GGe,"name",sTr,$r.prototype)}set desc(e){this.desc.$set(e,this,YGe,"desc")}get desc(){return this.desc.$get(this,YGe,"desc")}get desc(){return this[lTr]||y((IOr=this.text(),IOr),this,YGe,"desc",lTr,$r.prototype)}set item(e){this.item.$set(e,this,XGe,"item")}get item(){return this.item.$get(this,XGe,"item")}get item(){return this[aTr]||y((a4=this.ref(CourseEntryContent),p(a4.lazy,Function)?a4.lazy():a4.lazy=!0,p(a4.parent,Function)?a4.parent(!0):a4.parent=!0,a4),this,XGe,"item",aTr,$r.prototype)}set kind(e){this.kind.$set(e,this,KGe,"kind")}get kind(){return this.kind.$get(this,KGe,"kind")}get kind(){return this[uTr]||y((FOr=this.enum({section:{},lesson:{},certificate:{}}),FOr),this,KGe,"kind",uTr,$r.prototype)}set markdone(e){this.markdone.$set(e,this,JGe,"markdone")}get markdone(){return this.markdone.$get(this,JGe,"markdone")}get markdone(){return this[cTr]||y((Sp=this.action(),p(Sp.if,Function)?Sp.if(function(){return!this.done&&this.lesson}):Sp.if=function(){return!this.done&&this.lesson},p(Sp.rx,Function)?Sp.rx(ANYONE):Sp.rx=ANYONE,p(Sp.g,Function)?Sp.g(100):Sp.g=100,Sp.callback=function(){if(globalThis.confirm('Mark "'+this.name+'" as done?'))return this.item.finished=!0,this.item.manually_finished=!0},Sp),this,JGe,"markdone",cTr,$r.prototype)}set marknotdone(e){this.marknotdone.$set(e,this,QGe,"marknotdone")}get marknotdone(){return this.marknotdone.$get(this,QGe,"marknotdone")}get marknotdone(){return this[hTr]||y((Cp=this.action(),p(Cp.if,Function)?Cp.if(function(){return this.done&&this.lesson}):Cp.if=function(){return this.done&&this.lesson},p(Cp.rx,Function)?Cp.rx(ANYONE):Cp.rx=ANYONE,p(Cp.g,Function)?Cp.g(100):Cp.g=100,Cp.callback=function(){if(globalThis.confirm('Mark "'+this.name+'" as not done?'))return this.item.finished=!1,this.item.manually_finished=!1},Cp),this,QGe,"marknotdone",hTr,$r.prototype)}set markmoduledone(e){this.markmoduledone.$set(e,this,eYe,"markmoduledone")}get markmoduledone(){return this.markmoduledone.$get(this,eYe,"markmoduledone")}get markmoduledone(){return this[pTr]||y((Ep=this.action(),p(Ep.if,Function)?Ep.if(function(){return!this.done&&this.module}):Ep.if=function(){return!this.done&&this.module},p(Ep.rx,Function)?Ep.rx(ANYONE):Ep.rx=ANYONE,p(Ep.g,Function)?Ep.g(100):Ep.g=100,Ep.callback=function(){let e=this.entriesdeep.filter(xb).filter(o2).length;if(globalThis.confirm("Mark "+e+' lessons as done in module "'+this.name+'"?'))return this.markmoduledonesrv()},Ep),this,eYe,"markmoduledone",pTr,$r.prototype)}set markmoduledonesrv(e){this.markmoduledonesrv.$set(e,this,tYe,"markmoduledonesrv")}get markmoduledonesrv(){return this.markmoduledonesrv.$get(this,tYe,"markmoduledonesrv")}get markmoduledonesrv(){return this[dTr]||y((jp=this.action(),p(jp.if,Function)?jp.if(function(){return!this.done&&this.module}):jp.if=function(){return!this.done&&this.module},p(jp.rx,Function)?jp.rx(ANYONE):jp.rx=ANYONE,p(jp.rpc,Function)?jp.rpc():jp.rpc=!0,jp.callback=!1,jp),this,tYe,"markmoduledonesrv",dTr,$r.prototype)}set markmodulenotdone(e){this.markmodulenotdone.$set(e,this,rYe,"markmodulenotdone")}get markmodulenotdone(){return this.markmodulenotdone.$get(this,rYe,"markmodulenotdone")}get markmodulenotdone(){return this[fTr]||y((Ap=this.action(),p(Ap.rx,Function)?Ap.rx(OPANYONE):Ap.rx=OPANYONE,p(Ap.if,Function)?Ap.if(function(){return this.done&&this.module}):Ap.if=function(){return this.done&&this.module},p(Ap.g,Function)?Ap.g(500):Ap.g=500,Ap.callback=function(){if(globalThis.confirm('This will delete all your progress in "'+this.name+`". Your solutions will not be deleted.

This is irreversible. Are you sure?`))return this.markmodulenotdonesrv()},Ap),this,rYe,"markmodulenotdone",fTr,$r.prototype)}set markmodulenotdonesrv(e){this.markmodulenotdonesrv.$set(e,this,oYe,"markmodulenotdonesrv")}get markmodulenotdonesrv(){return this.markmodulenotdonesrv.$get(this,oYe,"markmodulenotdonesrv")}get markmodulenotdonesrv(){return this[mTr]||y((Up=this.action(),p(Up.rx,Function)?Up.rx(OPANYONE):Up.rx=OPANYONE,p(Up.if,Function)?Up.if(function(){return this.done&&this.module}):Up.if=function(){return this.done&&this.module},p(Up.rpc,Function)?Up.rpc():Up.rpc=!0,Up.callback=!1,Up),this,oYe,"markmodulenotdonesrv",mTr,$r.prototype)}set markdoneuntil(e){this.markdoneuntil.$set(e,this,nYe,"markdoneuntil")}get markdoneuntil(){return this.markdoneuntil.$get(this,nYe,"markdoneuntil")}get markdoneuntil(){return this[$Tr]||y((Pp=this.action(),p(Pp.rx,Function)?Pp.rx(ANYONE):Pp.rx=ANYONE,p(Pp.if,Function)?Pp.if(function(){return this.lesson}):Pp.if=function(){return this.lesson},p(Pp.label,Function)?Pp.label("Mark All Lessons Done Until Here"):Pp.label="Mark All Lessons Done Until Here",Pp.callback=function(){let e=1+this.$root.itemsdeep.filter(xb).filter(o2).indexOf(this);if(globalThis.confirm("Mark "+e+' lessons as done until "'+this.name+'"?'))return this.markdoneuntilsrv()},Pp),this,nYe,"markdoneuntil",$Tr,$r.prototype)}set markdoneuntilsrv(e){this.markdoneuntilsrv.$set(e,this,iYe,"markdoneuntilsrv")}get markdoneuntilsrv(){return this.markdoneuntilsrv.$get(this,iYe,"markdoneuntilsrv")}get markdoneuntilsrv(){return this[yTr]||y((db=this.action(),p(db.rx,Function)?db.rx(ANYONE):db.rx=ANYONE,p(db.rpc,Function)?db.rpc():db.rpc=!0,db.callback=!1,db),this,iYe,"markdoneuntilsrv",yTr,$r.prototype)}set editcaptions(e){this.editcaptions.$set(e,this,sYe,"editcaptions")}get editcaptions(){return this.editcaptions.$get(this,sYe,"editcaptions")}get editcaptions(){return this[bTr]||y((Tp=this.action(),p(Tp.rx,Function)?Tp.rx(ADMIN):Tp.rx=ADMIN,p(Tp.g,Function)?Tp.g(700):Tp.g=700,p(Tp.if,Function)?Tp.if(function(){return this.lesson}):Tp.if=function(){return this.lesson},Tp.callback=function(){return this.item.editcaptions()},Tp),this,sYe,"editcaptions",bTr,$r.prototype)}set group(e){this.group.$set(e,this,lYe,"group")}get group(){return this.group.$get(this,lYe,"group")}get group(){return this[gTr]||y((Jz=this.parent(Lj),p(Jz.options,Function)?Jz.options(function(){var e;return((e=this.course)==null?void 0:e.toc.filter(QXe))||[]}):Jz.options=function(){var e;return((e=this.course)==null?void 0:e.toc.filter(QXe))||[]},Jz),this,lYe,"group",gTr,$r.prototype)}set optional(e){this.optional.$set(e,this,aYe,"optional")}get optional(){return this.optional.$get(this,aYe,"optional")}get optional(){return this[kTr]||y((Qz=this.bit(1),p(Qz.g,Function)?Qz.g(400.5):Qz.g=400.5,Qz),this,aYe,"optional",kTr,$r.prototype)}set skippable(e){this.skippable.$set(e,this,uYe,"skippable")}get skippable(){return this.skippable.$get(this,uYe,"skippable")}get skippable(){return this[_Tr]||y((eq=this.bit(2),p(eq.g,Function)?eq.g(400.5):eq.g=400.5,eq),this,uYe,"skippable",_Tr,$r.prototype)}set promotional(e){this.promotional.$set(e,this,cYe,"promotional")}get promotional(){return this.promotional.$get(this,cYe,"promotional")}get promotional(){return this[xTr]||y((tq=this.bit(3),p(tq.g,Function)?tq.g(400.5):tq.g=400.5,tq),this,cYe,"promotional",xTr,$r.prototype)}set aside(e){this.aside.$set(e,this,hYe,"aside")}get aside(){return this.aside.$get(this,hYe,"aside")}get aside(){return this[vTr]||y((rq=this.bit(4),p(rq.g,Function)?rq.g(400.5):rq.g=400.5,rq),this,hYe,"aside",vTr,$r.prototype)}set proonly(e){this.proonly.$set(e,this,pYe,"proonly")}get proonly(){return this.proonly.$get(this,pYe,"proonly")}get proonly(){return this[wTr]||y((oq=this.bit(5),p(oq.g,Function)?oq.g(400.5):oq.g=400.5,oq),this,pYe,"proonly",wTr,$r.prototype)}set unlockable(e){this.unlockable.$set(e,this,dYe,"unlockable")}get unlockable(){return this.unlockable.$get(this,dYe,"unlockable")}get unlockable(){return this[STr]||y((nq=this.bit(6),p(nq.g,Function)?nq.g(400.5):nq.g=400.5,nq),this,dYe,"unlockable",STr,$r.prototype)}set freesample(e){this.freesample.$set(e,this,fYe,"freesample")}get freesample(){return this.freesample.$get(this,fYe,"freesample")}get freesample(){return this[CTr]||y((iq=this.bit(7),p(iq.g,Function)?iq.g(400.5):iq.g=400.5,iq),this,fYe,"freesample",CTr,$r.prototype)}set hidden(e){this.hidden.$set(e,this,mYe,"hidden")}get hidden(){return this.hidden.$get(this,mYe,"hidden")}get hidden(){return this[ETr]||y((sq=this.bit(8),p(sq.g,Function)?sq.g(400.5):sq.g=400.5,sq),this,mYe,"hidden",ETr,$r.prototype)}set usersonly(e){this.usersonly.$set(e,this,$Ye,"usersonly")}get usersonly(){return this.usersonly.$get(this,$Ye,"usersonly")}get usersonly(){return this[jTr]||y((lq=this.bit(9),p(lq.g,Function)?lq.g(400.5):lq.g=400.5,lq),this,$Ye,"usersonly",jTr,$r.prototype)}set creditsdisabled(e){this.creditsdisabled.$set(e,this,yYe,"creditsdisabled")}get creditsdisabled(){return this.creditsdisabled.$get(this,yYe,"creditsdisabled")}get creditsdisabled(){return this[ATr]||y((aq=this.bit(10),p(aq.g,Function)?aq.g(400.5):aq.g=400.5,aq),this,yYe,"creditsdisabled",ATr,$r.prototype)}set challengesunlocked(e){this.challengesunlocked.$set(e,this,bYe,"challengesunlocked")}get challengesunlocked(){return this.challengesunlocked.$get(this,bYe,"challengesunlocked")}get challengesunlocked(){return this[UTr]||y((uq=this.bit(11),p(uq.g,Function)?uq.g(400.5):uq.g=400.5,uq),this,bYe,"challengesunlocked",UTr,$r.prototype)}set expanded(e){this.expanded.$set(e,this,gYe,"expanded")}get expanded(){return this.expanded.$get(this,gYe,"expanded")}get expanded(){return this[PTr]||y((u4=this.bool(),p(u4.session,Function)?u4.session():u4.session=!0,p(u4.local,Function)?u4.local():u4.local=!0,u4),this,gYe,"expanded",PTr,$r.prototype)}set visited(e){this.visited.$set(e,this,kYe,"visited")}get visited(){return this.visited.$get(this,kYe,"visited")}get visited(){return this[TTr]||y((c4=this.event(),p(c4.pov,Function)?c4.pov():c4.pov=!0,p(c4.throttle,Function)?c4.throttle(10*1e3):c4.throttle=10*1e3,c4),this,kYe,"visited",TTr,$r.prototype)}set interacted(e){this.interacted.$set(e,this,_Ye,"interacted")}get interacted(){return this.interacted.$get(this,_Ye,"interacted")}get interacted(){return this[OTr]||y((h4=this.event(),p(h4.pov,Function)?h4.pov():h4.pov=!0,p(h4.throttle,Function)?h4.throttle(10*1e3):h4.throttle=10*1e3,h4),this,_Ye,"interacted",OTr,$r.prototype)}set gen_names(e){this.gen_names.$set(e,this,xYe,"gen_names")}get gen_names(){return this.gen_names.$get(this,xYe,"gen_names")}get gen_names(){return this[RTr]||y((EXe=this.action(),EXe.callback=function(){let e=this.path,t="",r=[];for(let n=0,i=B(this.path),s=i.length;n<s;n++){let a=i[n];r.push(t+("- "+a.name)),t+="  "}for(let n=0,i=B(this.items),s=i.length;n<s;n++){let a=i[n];r.push(t+("- "+a.name))}let o=r.join(`
`);return OP.copystr(o),o},EXe),this,xYe,"gen_names",RTr,$r.prototype)}set markinteracted(e){this.markinteracted.$set(e,this,vYe,"markinteracted")}get markinteracted(){return this.markinteracted.$get(this,vYe,"markinteracted")}get markinteracted(){return this[MTr]||y((jXe=this.action(),jXe.callback=function(){return this.interacted=!0,this.$root.interacted=!0},jXe),this,vYe,"markinteracted",MTr,$r.prototype)}set markvisited(e){this.markvisited.$set(e,this,wYe,"markvisited")}get markvisited(){return this.markvisited.$get(this,wYe,"markvisited")}get markvisited(){return this[LTr]||y((AXe=this.action(),AXe.callback=function(){return this.visited=!0,this.$root.visited=!0},AXe),this,wYe,"markvisited",LTr,$r.prototype)}set transfertoscrimbaandpublish(e){this.transfertoscrimbaandpublish.$set(e,this,SYe,"transfertoscrimbaandpublish")}get transfertoscrimbaandpublish(){return this.transfertoscrimbaandpublish.$get(this,SYe,"transfertoscrimbaandpublish")}get transfertoscrimbaandpublish(){return this[DTr]||y((fb=this.action(),p(fb.rx,Function)?fb.rx(ADMIN):fb.rx=ADMIN,p(fb.g,Function)?fb.g(900.5):fb.g=900.5,fb.callback=async function(){let e=Org.get("o01");if(await this.item,this.item.topics=this.course.topics,await this.item.update({owner:e}),await this.item.publish(),this.item.dirty)return await this.item.save()},fb),this,SYe,"transfertoscrimbaandpublish",DTr,$r.prototype)}set entries(e){this.entries.$set(e,this,CYe,"entries")}get entries(){return this.entries.$get(this,CYe,"entries")}get entries(){return this[NTr]||y((cq=this.children(Kun),p(cq.sorted,Function)?cq.sorted({_pos:1}):cq.sorted={_pos:1},cq),this,CYe,"entries",NTr,$r.prototype)}set entriesdeep(e){this.entriesdeep.$set(e,this,EYe,"entriesdeep")}get entriesdeep(){return this.entriesdeep.$get(this,EYe,"entriesdeep")}get entriesdeep(){return this[ITr]||y((UXe=this.memo(),UXe.callback=function(){return this.lesson?[]:this.entries.flatMap(function(e){return[e].concat(e.entriesdeep)})},UXe),this,EYe,"entriesdeep",ITr,$r.prototype)}get items(){return this.entries}get course(){return this.$root}get first(){var e;return((e=this.entries.at(0))==null?void 0:e.first)||this}get last(){var e;return((e=this.entries.at(-1))==null?void 0:e.last)||this}get prev(){var r,o,n;if(this.root)return null;let e=this.parent.items,t=e.indexOf(this);for(;e[--t];)if(e[t].visible)return e[t].last;return(o=(r=this.parent)==null?void 0:r.prev)==null?void 0:o.last}get next(){var r,o;if(this.root)return this.course;let e=this.parent.items,t=e.indexOf(this);for(;e[++t];)if(e[t].visible)return e[t].first;return(o=(r=this.parent)==null?void 0:r.next)==null?void 0:o.first}set path(e){this.path.$set(e,this,jYe,"path")}get path(){return this.path.$get(this,jYe,"path")}get path(){return this[FTr]||y((PXe=this.memo(),PXe.callback=function(){return this.parents.concat([this])},PXe),this,jYe,"path",FTr,$r.prototype)}get parents(){return p(this.group,y4)?[this.$root]:p(this.group,Lj)?this.group.path:[this.$root]}get parent(){return this.group||this.$root}get index(){return this.$up.indexOf(this)}get module(){return!this.cert&&(!this.item||p(this.item,y4))}get lesson(){return p(this.item,Scrim)}get cert(){var e;return(e=this.kind)==null?void 0:e.certificate}get hidden(){var e;return this.hidden||((e=this.group)==null?void 0:e.hidden)}get selfhidden(){return this.hidden&&!this.course.show_hidden&&!this.editing}get cert(){var e;if((e=this.kind)!=null&&e.certificate)return Certificate.for({user:OP.user,value:this})}get nested(){return!this.top}get top(){return!this.group||this.group==this.course}get modal(){return this.lesson}get root(){return this.$up==this.$root}get page(){return!1}get editing(){return this.course.editing}get current(){let e=this.course.resumable;return e&&(this.lesson?e==this:this.lessons.has(e))}get started(){return this.lesson?this.item.progress>0:!!this.visited}get finished(){return this.item?this.item.finished:this.progress>=1}get done(){return!!this.finished}get completed(){return this.finished}get exercisesstarted(){var e,t,r;return(r=(t=(e=this.scrim)==null?void 0:e.exercises)==null?void 0:t.some)==null?void 0:r.call(t,Jun)}get exercisescompleted(){var e,t,r;return(r=(t=(e=this.scrim)==null?void 0:e.exercises)==null?void 0:t.every)==null?void 0:r.call(t,Qun)}get mandatory(){return!this.optional&&!this.promotional&&!this.hidden}get visible(){return this.course.show_hidden||this.editing||!this.hidden}set locked(e){this.locked.$set(e,this,AYe,"locked")}get locked(){return this.locked.$get(this,AYe,"locked")}get locked(){return this[HTr]||y((gj=this.memo(),p(gj.pov,Function)?gj.pov():gj.pov=!0,gj.callback=function(){if(!this.unlockable)return!1;if(this.parent.locked)return!0;let e=this.parent.items;for(let t=0,r=B(e||[]),o=r.length;t<o;t++){let n=r[t];if(n==this)return!1;if(n.mandatory&&!n.finished)return!0}return!1},gj),this,AYe,"locked",HTr,$r.prototype)}set gated(e){this.gated.$set(e,this,UYe,"gated")}get gated(){return this.gated.$get(this,UYe,"gated")}get gated(){return this[BTr]||y((TXe=this.get(),TXe.callback=function(){var e;return globalThis.embed||ME!=null&&ME.pro||ME!=null&&ME.teacher||ME!=null&&ME.admin||this.freesample?!1:!!(this.usersonly&&!OP.user||this.proonly&&!((e=this.scrim)!=null&&e.spent_credit))},TXe),this,UYe,"gated",BTr,$r.prototype)}get gatedcontent(){return this.item||this}get gate(){return this.course.gate?!this.freesample:!!this.proonly}get proonly(){return this.course.tier.paid?!this.freesample:!!this.proonly}get usersonly(){return!this.proonly&&(!!this.usersonly||this.course.tier.users)}get gated(){return this.gated}get url(){return""+this.$root.asurl+"/"+this.$key}get asurl(){return this.lesson?""+this.course.asurl+"/"+this.$key:this.course.asurl}tourl(){return this.asurl}get aslegacyurl(){var t;let e=this.course.aslegacyurl;if(e&&((t=this.item)!=null&&t.legacy_id))return e+("/"+this.item.legacy_id)}opresolveroute(e,t){var r,o;return(o=(r=this.item)==null?void 0:r.opresolveroute)==null?void 0:o.call(r,e,t)}get scrim(){return this.item}[UMr](e){return e.path.includes(this)}set duration(e){this.duration.$set(e,this,PYe,"duration")}get duration(){return this.duration.$get(this,PYe,"duration")}get duration(){return this[VTr]||y((OXe=this.memo(),OXe.callback=function(){var e;return this.lesson?((e=this.item)==null?void 0:e.duration)||0:this.entries.sum(jq)},OXe),this,PYe,"duration",VTr,$r.prototype)}set lessons(e){this.lessons.$set(e,this,TYe,"lessons")}get lessons(){return this.lessons.$get(this,TYe,"lessons")}get lessons(){return this[zTr]||y((RXe=this.memo(),RXe.callback=function(){return this.entriesdeep.only(o2)},RXe),this,TYe,"lessons",zTr,$r.prototype)}set refs(e){this.refs.$set(e,this,OYe,"refs")}get refs(){return this.refs.$get(this,OYe,"refs")}get refs(){return this[qTr]||y((MXe=this.memo(),MXe.callback=function(){return this.entriesdeep.map(EMr).compact()},MXe),this,OYe,"refs",qTr,$r.prototype)}set exercises(e){this.exercises.$set(e,this,RYe,"exercises")}get exercises(){return this.exercises.$get(this,RYe,"exercises")}get exercises(){return this[WTr]||y((LXe=this.memo(),LXe.callback=function(){return this.item?this.item.exercises:this.lessons.flatMap(jMr)},LXe),this,RYe,"exercises",WTr,$r.prototype)}get resumable(){return this.lessons.desc("visited",!0).at(0)}set progress(e){this.progress.$set(e,this,MYe,"progress")}get progress(){return this.progress.$get(this,MYe,"progress")}get progress(){return this[ZTr]||y((kj=this.memo(),p(kj.pov,Function)?kj.pov():kj.pov=!0,kj.callback=function(){if(this.item)return this.item.progress||0;let e=0,t=0,r=function(i){var s;s=[];for(let a=0,u=B(i.entries),c=u.length;a<c;a++){let h=u[a];s.push(h.item?h.mandatory&&(e+=1,h.finished&&(t+=1)):h.module&&r(h))}return s};return r(this),e===0?0:t/e},kj),this,MYe,"progress",ZTr,$r.prototype)}opbreadcrumbs(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;r=o=1,(e=t[DXe])||(r=o=0,e=t[DXe]=e=w("div",null,null,null)),r||(e[dr]=t._),r||((d=e[xn])==null||d.call(e,t,DXe)),(n=e[HOr])||(e[HOr]=n=Jt(256,e)),i=0,s=n.$;for(let f=0,m=B(this.path.slice(1)),$=m.length;f<$;f++){let b=m[f];u=c=1,(a=s[i])||(u=c=0,s[i]=a=w("span",n,"cn_af",null)),u||(a[dr]=n),h=b.name,h===a[VOr]&&u||(a[BOr]=a[Eo](a[VOr]=h,384,a[BOr])),i++}return n[Ft](i),e}opownpath(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;r=o=1,(e=t[NXe])||(r=o=0,e=t[NXe]=e=w("div",null,null,null)),r||(e[dr]=t._),r||((d=e[xn])==null||d.call(e,t,NXe)),(n=e[zOr])||(e[zOr]=n=Jt(256,e)),i=0,s=n.$;for(let f=0,m=B(this.path.slice(1)),$=m.length;f<$;f++){let b=m[f];u=c=1,(a=s[i])||(u=c=0,s[i]=a=w("span",n,"cn_ah",null)),u||(a[dr]=n),h=b.name,h===a[WOr]&&u||(a[qOr]=a[Eo](a[WOr]=h,384,a[qOr])),i++}return n[Ft](i),e}opownstats(){var d;var e,t,r=H(),o,n,i,s,a,u;let h=this.exercises.filter(function(f){return f.completed});return o=n=1,(t=r[Whe])||(o=n=0,t=r[Whe]=t=R("op",null,null,null)),o||(t[dr]=r._),o||((d=t[xn])==null||d.call(t,r,Whe)),i=t[Yd]("__",t),e=null,this.progress&&!this.lesson&&(s=a=1,(e=t[ZOr])||(s=a=0,t[ZOr]=e=w("div",null,"cn-ak %stat green box",null)),s||(e[dr]=i),u=this.progress.aspercentstr,u===e[YOr]&&s||(e[GOr]=e[Eo](e[YOr]=u,384,e[GOr]))),t[XOr]=i[Eo](e,0,t[XOr]),o||r.sym||!t.setup||t.setup(n,r,Whe),r.sym||t[Ft](n),t}oppi(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[Zhe])||(r=o=0,e=t[Zhe]=e=w("div",null,null,null)),r||(e[dr]=t._),r||((u=e[xn])==null||u.call(e,t,Zhe)),n=e[ao](tcn),s=a=1,(i=n.run(this.opbreadcrumbs()))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[Zr]&&(s||!i.setup||i.setup(a,n),i[Ft](a)),i==e[hq]||!e[hq]&&(e[hq]=i)[na](e)||e[hq][ia](e[hq]=i,e),r||t.sym||!e.setup||e.setup(o,t,Zhe),t.sym||e[Ft](o),e}};$r.prototype[Le]=De,$r.alias="ce",se([uw.bind([])],$r.prototype,"resumable",null),E($r,dpe,"CourseEntry",336);var Pq=$r;globalThis.CourseEntry=Pq;var fpe=Symbol(),xr=class xr extends Qe(fpe,Content,Followable,HasLevel,Tiered,Publisher,Publishable,Taggable,Editable,Lj){constructor(){super(...arguments),super[A]||this[A](),re(this,fpe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[fpe])==null||o.call(this,...arguments)}set name(e){this.name.$set(e,this,LYe,"name")}get name(){return this.name.$get(this,LYe,"name")}get name(){return this[GTr]||y((Wa=this.string(),p(Wa.s,Function)?Wa.s(1.1):Wa.s=1.1,p(Wa.order,Function)?Wa.order("asc"):Wa.order="asc",p(Wa.editable,Function)?Wa.editable():Wa.editable=!0,p(Wa.dialog,Function)?Wa.dialog():Wa.dialog=!0,Wa.default=function(){return OP.random.ref()},Wa),this,LYe,"name",GTr,xr.prototype)}get gate(){return this.tier.paid}get course(){return this}set toc(e){this.toc.$set(e,this,DYe,"toc")}get toc(){return this.toc.$get(this,DYe,"toc")}get toc(){return this[YTr]||y((pq=this.embeds(Pq),p(pq.tab,Function)?pq.tab():pq.tab=!0,pq),this,DYe,"toc",YTr,xr.prototype)}set about(e){this.about.$set(e,this,NYe,"about")}get about(){return this.about.$get(this,NYe,"about")}get about(){return this[XTr]||y((p4=this.embed(mpe),p(p4.tab,Function)?p4.tab():p4.tab=!0,p(p4.r,Function)?p4.r(OPANYONE):p4.r=OPANYONE,p4),this,NYe,"about",XTr,xr.prototype)}set description(e){this.description.$set(e,this,IYe,"description")}get description(){return this.description.$get(this,IYe,"description")}get description(){return this[KTr]||y((Zd=this.text(),p(Zd.r,Function)?Zd.r(ANYONE):Zd.r=ANYONE,p(Zd.w,Function)?Zd.w(ADMIN):Zd.w=ADMIN,p(Zd.editable,Function)?Zd.editable():Zd.editable=!0,Zd),this,IYe,"description",KTr,xr.prototype)}set prerequisites(e){this.prerequisites.$set(e,this,FYe,"prerequisites")}get prerequisites(){return this.prerequisites.$get(this,FYe,"prerequisites")}get prerequisites(){return this[JTr]||y((dq=this.embed(eKe),p(dq.r,Function)?dq.r(ANYONE):dq.r=ANYONE,dq),this,FYe,"prerequisites",JTr,xr.prototype)}set scratchpad(e){this.scratchpad.$set(e,this,HYe,"scratchpad")}get scratchpad(){return this.scratchpad.$get(this,HYe,"scratchpad")}get scratchpad(){return this[QTr]||y((mb=this.embed(AppCollView),p(mb.r,Function)?mb.r(OWNER|ADMIN):mb.r=OWNER|ADMIN,p(mb.tab,Function)?mb.tab():mb.tab=!0,mb.callback=function(){return this.sources},mb),this,HYe,"scratchpad",QTr,xr.prototype)}set teachers(e){this.teachers.$set(e,this,BYe,"teachers")}get teachers(){return this.teachers.$get(this,BYe,"teachers")}get teachers(){return this[eOr]||y((El=this.parents(User),p(El.as,Function)?El.as(TEACHER):El.as=TEACHER,p(El.w,Function)?El.w(OWNER|ADMIN):El.w=OWNER|ADMIN,p(El.g,Function)?El.g(500.5):El.g=500.5,p(El.s,Function)?El.s(.9):El.s=.9,p(El.f,Function)?El.f():El.f=!0,El),this,BYe,"teachers",eOr,xr.prototype)}set preview(e){this.preview.$set(e,this,VYe,"preview")}get preview(){return this.preview.$get(this,VYe,"preview")}get preview(){return this[tOr]||y((d4=this.ref(Pq),p(d4.g,Function)?d4.g(500):d4.g=500,p(d4.options,Function)?d4.options(function(){return this.samples}):d4.options=function(){return this.samples},d4),this,VYe,"preview",tOr,xr.prototype)}set joined_at(e){this.joined_at.$set(e,this,zYe,"joined_at")}get joined_at(){return this.joined_at.$get(this,zYe,"joined_at")}get joined_at(){return this[rOr]||y((fq=this.ts(),p(fq.pov,Function)?fq.pov():fq.pov=!0,fq),this,zYe,"joined_at",rOr,xr.prototype)}set kind(e){this.kind.$set(e,this,qYe,"kind")}get kind(){return this.kind.$get(this,qYe,"kind")}get kind(){return this[oOr]||y((Gd=this.enum({course:{name:"Course"},path:{name:"Career Path"}}),p(Gd.f,Function)?Gd.f():Gd.f=!0,p(Gd.g,Function)?Gd.g(500.5):Gd.g=500.5,p(Gd.editable,Function)?Gd.editable():Gd.editable=!0,Gd),this,qYe,"kind",oOr,xr.prototype)}set addsection(e){this.addsection.$set(e,this,WYe,"addsection")}get addsection(){return this.addsection.$get(this,WYe,"addsection")}get addsection(){return this[nOr]||y((Op=this.action(),p(Op.rx,Function)?Op.rx(OWNER|OPADMIN):Op.rx=OWNER|OPADMIN,p(Op.g,Function)?Op.g(610.5):Op.g=610.5,p(Op.if,Function)?Op.if(function(){return this.editing}):Op.if=function(){return this.editing},Op.callback=function(){let e;return e=this.toc.add({name:"Some section"})},Op),this,WYe,"addsection",nOr,xr.prototype)}set addcertificate(e){this.addcertificate.$set(e,this,ZYe,"addcertificate")}get addcertificate(){return this.addcertificate.$get(this,ZYe,"addcertificate")}get addcertificate(){return this[iOr]||y((Rp=this.action(),p(Rp.rx,Function)?Rp.rx(ADMIN):Rp.rx=ADMIN,p(Rp.g,Function)?Rp.g(610.5):Rp.g=610.5,p(Rp.if,Function)?Rp.if(function(){return this.editing}):Rp.if=function(){return this.editing},Rp.callback=async function(){if(this.certs.size){OP.toast("Certificate already exists in course");return}let e=this.toc.add({name:"Certificate of Completion",kind:"certificate",hidden:!1,optional:!0,unlockable:!0});return await this.save()},Rp),this,ZYe,"addcertificate",iOr,xr.prototype)}set enableallinstantfeedback(e){this.enableallinstantfeedback.$set(e,this,GYe,"enableallinstantfeedback")}get enableallinstantfeedback(){return this.enableallinstantfeedback.$get(this,GYe,"enableallinstantfeedback")}get enableallinstantfeedback(){return this[sOr]||y((Mp=this.action(),p(Mp.rx,Function)?Mp.rx(ADMIN):Mp.rx=ADMIN,p(Mp.g,Function)?Mp.g(900.5):Mp.g=900.5,p(Mp.rpc,Function)?Mp.rpc():Mp.rpc=!0,Mp.callback=!1,Mp),this,GYe,"enableallinstantfeedback",sOr,xr.prototype)}set addscrim(e){this.addscrim.$set(e,this,YYe,"addscrim")}get addscrim(){return this.addscrim.$get(this,YYe,"addscrim")}get addscrim(){return this[lOr]||y(($b=this.action(),p($b.rx,Function)?$b.rx(OWNER):$b.rx=OWNER,p($b.g,Function)?$b.g(610.5):$b.g=610.5,$b.callback=function(){return Xt.go("/new?c="+this.id)},$b),this,YYe,"addscrim",lOr,xr.prototype)}set popularity(e){this.popularity.$set(e,this,XYe,"popularity")}get popularity(){return this.popularity.$get(this,XYe,"popularity")}get popularity(){return this[aOr]||y((mq=this.number(),p(mq.order,Function)?mq.order("desc"):mq.order="desc",mq),this,XYe,"popularity",aOr,xr.prototype)}set thumbnail(e){this.thumbnail.$set(e,this,KYe,"thumbnail")}get thumbnail(){return this.thumbnail.$get(this,KYe,"thumbnail")}get thumbnail(){return this[uOr]||y((KOr=this.image(),KOr),this,KYe,"thumbnail",uOr,xr.prototype)}set status(e){this.status.$set(e,this,JYe,"status")}get status(){return this.status.$get(this,JYe,"status")}get status(){return this[cOr]||y((f4=this.enum({not_started:{default:!0,hue:"blue",color:"#3e84f6"},started:{color:"#facc14"},completed:{hue:"emerald",color:"#12b77f"}}),p(f4.pov,Function)?f4.pov():f4.pov=!0,p(f4.f,Function)?f4.f():f4.f=!0,f4),this,JYe,"status",cOr,xr.prototype)}set rewarded(e){this.rewarded.$set(e,this,QYe,"rewarded")}get rewarded(){return this.rewarded.$get(this,QYe,"rewarded")}get rewarded(){return this[hOr]||y(($q=this.ts(),p($q.pov,Function)?$q.pov():$q.pov=!0,$q),this,QYe,"rewarded",hOr,xr.prototype)}set sources(e){this.sources.$set(e,this,eXe,"sources")}get sources(){return this.sources.$get(this,eXe,"sources")}get sources(){return this[pOr]||y((JOr=this.children(Scrim),JOr),this,eXe,"sources",pOr,xr.prototype)}set show_hidden(e){this.show_hidden.$set(e,this,tXe,"show_hidden")}get show_hidden(){return this.show_hidden.$get(this,tXe,"show_hidden")}get show_hidden(){return this[dOr]||y((m4=this.bool(),p(m4.session,Function)?m4.session():m4.session=!0,p(m4.w,Function)?m4.w(OPOWNER|OPADMIN):m4.w=OPOWNER|OPADMIN,m4),this,tXe,"show_hidden",dOr,xr.prototype)}get upcoming(){return this.published_at>new Date}get stats(){return this.upcoming?"teachers|level|tier|labels":"teachers|duration|level|tier|labels|followed|progress"}static[UMr](e){return p(e,Topic)?!0:p(e,Status)?Cn(e,this.$shape.status):p(e,Topic)}get topic(){return this.topics.at(0)}get $score(){return this.popularity}set progress(e){this.progress.$set(e,this,rXe,"progress")}get progress(){return this.progress.$get(this,rXe,"progress")}get progress(){return this[fOr]||y((_j=this.memo(),p(_j.pov,Function)?_j.pov():_j.pov=!0,_j.callback=function(){var n;let e=this.toc.only(xb,o2,AMr),t=e.size,o=e.filter(rcn).size/t;if(o==1&&!((n=this.status)!=null&&n.completed)){this.status="completed";try{this.completed=!0}catch{}this.mark_completed()}return o},_j),this,rXe,"progress",fOr,xr.prototype)}set check_completed(e){this.check_completed.$set(e,this,oXe,"check_completed")}get check_completed(){return this.check_completed.$get(this,oXe,"check_completed")}get check_completed(){return this[mOr]||y((yb=this.action(),p(yb.pov,Function)?yb.pov():yb.pov=!0,p(yb.rpc,Function)?yb.rpc():yb.rpc=!0,yb.callback=!1,yb),this,oXe,"check_completed",mOr,xr.prototype)}set mark_completed(e){this.mark_completed.$set(e,this,nXe,"mark_completed")}get mark_completed(){return this.mark_completed.$get(this,nXe,"mark_completed")}get mark_completed(){return this[$Or]||y((Lp=this.action(),p(Lp.pov,Function)?Lp.pov():Lp.pov=!0,p(Lp.if,Function)?Lp.if(function(){return this.progress==1}):Lp.if=function(){return this.progress==1},p(Lp.rpc,Function)?Lp.rpc():Lp.rpc=!0,Lp.callback=!1,Lp),this,nXe,"mark_completed",$Or,xr.prototype)}set items(e){this.items.$set(e,this,iXe,"items")}get items(){return this.items.$get(this,iXe,"items")}get items(){return this[yOr]||y((IXe=this.memo(),IXe.callback=function(){return this.toc.filter(ncn).asc(ocn)},IXe),this,iXe,"items",yOr,xr.prototype)}set itemsdeep(e){this.itemsdeep.$set(e,this,sXe,"itemsdeep")}get itemsdeep(){return this.itemsdeep.$get(this,sXe,"itemsdeep")}get itemsdeep(){return this[bOr]||y((FXe=this.memo(),FXe.callback=function(){let e=[],t=Array.from(this.items);for(;t.len;){let r=t.shift();e.push(r),t.unshift(...r.items)}return e},FXe),this,sXe,"itemsdeep",bOr,xr.prototype)}set history(e){this.history.$set(e,this,lXe,"history")}get history(){return this.history.$get(this,lXe,"history")}get history(){return this[gOr]||y((xj=this.memo(),p(xj.pov,Function)?xj.pov():xj.pov=!0,xj.callback=function(){return this.toc.desc("visited",!0)},xj),this,lXe,"history",gOr,xr.prototype)}set resumable(e){this.resumable.$set(e,this,aXe,"resumable")}get resumable(){return this.resumable.$get(this,aXe,"resumable")}get resumable(){return this[kOr]||y((vj=this.memo(),p(vj.pov,Function)?vj.pov():vj.pov=!0,vj.callback=function(){var e;return this.history.at(0)||((e=this.items.at(0))==null?void 0:e.first)},vj),this,aXe,"resumable",kOr,xr.prototype)}set gen_names(e){this.gen_names.$set(e,this,uXe,"gen_names")}get gen_names(){return this.gen_names.$get(this,uXe,"gen_names")}get gen_names(){return this[_Or]||y((HXe=this.action(),HXe.callback=function(e){let t=[],r=[],o=[],n=function(s,a,u){if(s.lesson)return;let c={level:a.level+1,id:s.$key,name:s.name,path:a.path?a.path+(" > "+s.name):s.name};if(r.push(c),!s.lesson){let h=s.items;u&&(h=h.slice(u,1)),c.children=h.map(function(d){return n(d,c)})}return c},i=n(this,{level:-1});return r.map(function(s){return"  ".repeat(s.level)+("- "+s.name)}).join(`
`)},HXe),this,uXe,"gen_names",_Or,xr.prototype)}set resume(e){this.resume.$set(e,this,cXe,"resume")}get resume(){return this.resume.$get(this,cXe,"resume")}get resume(){return this[xOr]||y((Za=this.action(),p(Za.atomic,Function)?Za.atomic():Za.atomic=!0,p(Za.g,Function)?Za.g(100.1):Za.g=100.1,p(Za.icon,Function)?Za.icon("course"):Za.icon="course",p(Za.if,Function)?Za.if(function(){return!this.upcoming}):Za.if=function(){return!this.upcoming},Za.callback=async function(){var t;let e;if(await(async()=>{try{return await APP.ensuresignedin()}catch(r){return r}})(),!OP.user)throw new OPNotAllowed("Must be signed in to start/resume course");if(!this.started){try{this.enrolled=!0}catch{}this.status="started",this.followed=!0,OPAnalytics.capture("course_started")}try{if(e=this.toc.desc("visited",!0).find(o2)){let r=e.progress>=.99?e.next:e;return APP.open(r)}else{let r=(t=this.items.at(0))==null?void 0:t.first;return APP.open(r)}}catch{}},Za),this,cXe,"resume",xOr,xr.prototype)}set watch_preview(e){this.watch_preview.$set(e,this,hXe,"watch_preview")}get watch_preview(){return this.watch_preview.$get(this,hXe,"watch_preview")}get watch_preview(){return this[vOr]||y((wj=this.action(),p(wj.atomic,Function)?wj.atomic():wj.atomic=!0,wj.callback=function(){let e=this.preview||this.samples.at(0);if(e)return APP.open(e)},wj),this,hXe,"watch_preview",vOr,xr.prototype)}opownpage(){var N,V,W,z,q;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F;if(this==((N=APP.javascriptmas)==null?void 0:N.course)&&(!(ME!=null&&ME.admin)||!((V=APP.javascriptmas)!=null&&V.toc_view)))return o=t[ao](BXe),i=s=1,(n=o.run(this.opage(APP.javascriptmas)))||(i=s=0,o.cache(n=M(o.value,null,null,null))),i||(n[dr]=t._),i||((W=n[xn])==null||W.call(n,t,BXe)),n[Zr]&&(a=APP.javascriptmas,a===n[QOr]||(n.data=n[QOr]=a),u=n[eRr]||(n[eRr]={options:[null]}),a=APP.javascriptmas,a===u.options[0]||(u.options[0]=a,s|=48),i||n.on$("opmenu",u,this),s&32&&(s^=32,(z=u[CMr])==null||z.call(u)),i||t.sym||!n.setup||n.setup(s,t,BXe),t.sym||n[Ft](s)),n;if(this.x||!this.$up&&this.r)return t.this=this,h=d=1,(c=t[Ghe])||(h=d=0,c=t[Ghe]=c=R("op",null,"cn-ao",null)),h||(c[dr]=t._),h||((q=c[xn])==null||q.call(c,t,Ghe)),f=c[Yd]("__",c),h||(c.data__={sub:!0,rich:!0}),m=this.data,m===c[tRr]||(c.data=c[tRr]=m),r=null,this.markvisited&&($=b=1,(r=c[rRr])||($=b=0,c[rRr]=r=R("op-timeout",null,"cn_ao",null)),$||(r[dr]=f),g=3*1e3,g===r[oRr]||(r.timeout=r[oRr]=g),$||r.on$("step",{$_:[function(Y,K){return t.this.markvisited(Y)}]},this),$||!r.setup||r.setup(b,x),r[Ft](b)),c[nRr]=f[Eo](r,0,c[nRr]),k=c[ao](icn),S=v=1,(_=k.run(this.oel(this,"page-head",this.ctx)))||(S=v=0,k.cache(_=M(k.value,f,"ohead cn_ao",null))),_[Zr]&&((!S||v&2)&&_.flags.reconcile(Sj,"ohead cn_ao"),S||!_.setup||_.setup(v,k),_[Ft](v)),_==c[Sj]||!c[Sj]&&f[bv](c[Sj]=_)||(f[Aq](_,c[Sj]),c[Sj]=_),C=c[ao](scn),P=U=1,(j=C.run(this.oel(this,"page-body",this.ctx)))||(P=U=0,C.cache(j=M(C.value,f,"obody cn_ao",null))),j[Zr]&&((!P||U&2)&&j.flags.reconcile(Cj,"obody cn_ao"),P||!j.setup||j.setup(U,C),j[Ft](U)),j==c[Cj]||!c[Cj]&&f[bv](c[Cj]=j)||(f[Aq](j,c[Cj]),c[Cj]=j),O=c[ao](lcn),I=F=1,(L=O.run(this.oel(this,"page-foot",this.ctx)))||(I=F=0,O.cache(L=M(O.value,f,"ofoot cn_ao",null))),L[Zr]&&((!I||F&2)&&L.flags.reconcile(Ej,"ofoot cn_ao"),I||!L.setup||L.setup(F,O),L[Ft](F)),L==c[Ej]||!c[Ej]&&f[bv](c[Ej]=L)||(f[Aq](L,c[Ej]),c[Ej]=L),h||t.sym||!c.setup||c.setup(d,t,Ghe),t.sym||c[Ft](d),c}opprogressstat(){var s;var e,t=H(),r,o,n,i;if(this.started||this.completed)return r=o=1,(e=t[Yhe])||(r=o=0,e=t[Yhe]=e=R("op-stat",null,"cn-at green box",null)),r||(e[dr]=t._),r||((s=e[xn])==null||s.call(e,t,Yhe)),n=e[Yd]("__",e),i=(this.progress*100).aspercentstr,i===e[sRr]&&r||(e[iRr]=n[Eo](e[sRr]=i,384,e[iRr])),r||t.sym||!e.setup||e.setup(o,t,Yhe),t.sym||e[Ft](o),e}opresolveroute(e,t){return typeof e=="string"&&e.match(/^(~|0|c[el]0)/)?(t.route&&(t.route.main||=t,t.renderer=APP.ide),this.toc.$sub(e)):super.opresolveroute(...arguments)}get started(){return this.status.started}get completed(){return this.status.completed}set modules(e){this.modules.$set(e,this,pXe,"modules")}get modules(){return this.modules.$get(this,pXe,"modules")}get modules(){return this[wOr]||y((VXe=this.stat(),VXe.callback=function(){return this.toc.filter(QXe,xb)},VXe),this,pXe,"modules",wOr,xr.prototype)}get lessons2(){return this.toc.only(xb,o2)}set lessons(e){this.lessons.$set(e,this,dXe,"lessons")}get lessons(){return this.lessons.$get(this,dXe,"lessons")}get lessons(){return this[SOr]||y((zXe=this.stat(),zXe.callback=function(){return this.toc.filter(o2,xb)},zXe),this,dXe,"lessons",SOr,xr.prototype)}set samples(e){this.samples.$set(e,this,fXe,"samples")}get samples(){return this.samples.$get(this,fXe,"samples")}get samples(){return this[COr]||y((qXe=this.get(),qXe.callback=function(){return this.toc.only(xb,o2,acn)},qXe),this,fXe,"samples",COr,xr.prototype)}set certs(e){this.certs.$set(e,this,mXe,"certs")}get certs(){return this.certs.$get(this,mXe,"certs")}get certs(){return this[EOr]||y((WXe=this.stat(),WXe.callback=function(){return this.toc.filter(ucn)},WXe),this,mXe,"certs",EOr,xr.prototype)}set exercises(e){this.exercises.$set(e,this,$Xe,"exercises")}get exercises(){return this.exercises.$get(this,$Xe,"exercises")}get exercises(){return this[jOr]||y((ZXe=this.memo(),ZXe.callback=function(){return this.toc.filter(o2,xb).map(jMr).flat().compact()},ZXe),this,$Xe,"exercises",jOr,xr.prototype)}set duration(e){this.duration.$set(e,this,yXe,"duration")}get duration(){return this.duration.$get(this,yXe,"duration")}get duration(){return this[AOr]||y(($4=this.ms(),p($4.format,Function)?$4.format("hrs"):$4.format="hrs",p($4.fallback,Function)?$4.fallback(function(){return this.items.sum(jq)}):$4.fallback=function(){return this.items.sum(jq)},$4),this,yXe,"duration",AOr,xr.prototype)}opdurationtip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Xhe])||(r=o=0,e=t[Xhe]=e=R("op",null,null,null)),r||(e[dr]=t._),r||((s=e[xn])==null||s.call(e,t,Xhe)),n=e[Yd]("__",e),r||n[Eo]("The total duration of all lessons in "),i=this.aslabel,i===e[aRr]&&r||(e[lRr]=n[Eo](e[aRr]=i,0,e[lRr])),r||n[Eo](" is "),i=this.duration.asdurationstr,i===e[cRr]&&r||(e[uRr]=n[Eo](e[cRr]=i,256,e[uRr])),r||t.sym||!e.setup||e.setup(o,t,Xhe),t.sym||e[Ft](o),e}set lesson_count(e){this.lesson_count.$set(e,this,bXe,"lesson_count")}get lesson_count(){return this.lesson_count.$get(this,bXe,"lesson_count")}get lesson_count(){return this[UOr]||y((hRr=this.int(),hRr),this,bXe,"lesson_count",UOr,xr.prototype)}set syncmetadata(e){this.syncmetadata.$set(e,this,gXe,"syncmetadata")}get syncmetadata(){return this.syncmetadata.$get(this,gXe,"syncmetadata")}get syncmetadata(){return this[POr]||y((jj=this.action(),p(jj.x,Function)?jj.x(OPADMIN):jj.x=OPADMIN,jj.callback=async function(){let e=this.lessons2.map(EMr).filter(function(t){return p(t,Scrim)});return await Promise.all(e),this.duration=e.sum(jq),this.lesson_count=e.size,this.save()},jj),this,gXe,"syncmetadata",POr,xr.prototype)}set syncduration(e){this.syncduration.$set(e,this,kXe,"syncduration")}get syncduration(){return this.syncduration.$get(this,kXe,"syncduration")}get syncduration(){return this[TOr]||y((bb=this.action(),p(bb.rx,Function)?bb.rx(OPADMIN|OPOWNER):bb.rx=OPADMIN|OPOWNER,p(bb.g,Function)?bb.g(600):bb.g=600,bb.callback=async function(){await this.data;let e=this.items.sum(jq);return this.update({duration:e})},bb),this,kXe,"syncduration",TOr,xr.prototype)}set generate_captions(e){this.generate_captions.$set(e,this,_Xe,"generate_captions")}get generate_captions(){return this.generate_captions.$get(this,_Xe,"generate_captions")}get generate_captions(){return this[OOr]||y((gb=this.action(),p(gb.rx,Function)?gb.rx(OPADMIN|OPOWNER):gb.rx=OPADMIN|OPOWNER,p(gb.g,Function)?gb.g(600):gb.g=600,gb.callback=async function(){if(await this.data,!globalThis.confirm("Are you sure? generating captions will overwrite existing edits (if any)."))return;let e=this.toc.filter(o2,xb);for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t],s=(await n.item).recs.at(0);try{await s.generate_captions(),OP.toast("Generated captions for "+n.name)}catch{}}},gb),this,_Xe,"generate_captions",OOr,xr.prototype)}opdurationstatvaluelabel(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[GXe])||(r=o=0,e=t[GXe]=e=w("div",null,null,null)),r||(e[dr]=t._),r||((i=e[xn])==null||i.call(e,t,GXe)),n=this.duration.asdurationstr,n===e[dRr]&&r||(e[pRr]=e[Eo](e[dRr]=n,384,e[pRr])),e}get url(){return"/"+this.asurlpart}get asurl(){return"/"+this.asurlpart}get asurlpart(){var e;return""+((e=this.short_name)==null?void 0:e.slug)+"-"+this.id}get aslegacyurl(){return this.legacy_id?"https://v1.scrimba.com/learn/"+this.legacy_id.slice(1):null}get aspilldetail(){return this.$type.name}get asicon(){var e;return((e=this.topics.at(0))==null?void 0:e.asicon)||this.$type.name}set resetprogress(e){this.resetprogress.$set(e,this,xXe,"resetprogress")}get resetprogress(){return this.resetprogress.$get(this,xXe,"resetprogress")}get resetprogress(){return this[ROr]||y((kb=this.action(),p(kb.g,Function)?kb.g(500):kb.g=500,p(kb.rx,Function)?kb.rx(OPANYONE):kb.rx=OPANYONE,kb.callback=function(){if(globalThis.confirm(`This will delete all your progress on this course, and it unsubmit all exercise solutions. Your solutions will not be deleted.

This is irreversible. Are you sure?`))return this.resetprogresssrv()},kb),this,xXe,"resetprogress",ROr,xr.prototype)}set resetprogresssrv(e){this.resetprogresssrv.$set(e,this,vXe,"resetprogresssrv")}get resetprogresssrv(){return this.resetprogresssrv.$get(this,vXe,"resetprogresssrv")}get resetprogresssrv(){return this[MOr]||y((_b=this.action(),p(_b.rx,Function)?_b.rx(OPANYONE):_b.rx=OPANYONE,p(_b.rpc,Function)?_b.rpc():_b.rpc=!0,_b.callback=!1,_b),this,vXe,"resetprogresssrv",MOr,xr.prototype)}opownpageheadbuttons(){var I,F;var e,t,r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L;return a=u=1,(i=s[Khe])||(a=u=0,i=s[Khe]=i=R("op",null,null,null)),a||(i[dr]=s._),a||((I=i[xn])==null||I.call(i,s,Khe)),c=i[Yd]("__",i),e=t=r=null,this.editing?(_=i[ao]($cn),S=v=1,(e=_.run(this.oel(this,"edit-actions")))||(S=v=0,_.cache(e=M(_.value,null,null,null))),S||(e[dr]=c),e[Zr]&&(S||!e.setup||e.setup(v,_),e[Ft](v))):(h=i[ao](hcn),d=f=1,(e=h.run(this.obuttonif(this.$.resume)))||(d=f=0,h.cache(e=M(h.value,null,"green",null))),d||(e[dr]=c),e[Zr]&&(d||e.on$("optip",{},this),d||e.on$("opnav",{},this),(!d||f&2)&&e.flags.reconcile(ccn,"green"),d||!e.setup||e.setup(f,h),e[Ft](f)),this.samples.size&&((F=this.status)!=null&&F.not_started)&&(m=i[ao](dcn),$=b=1,(t=m.run(this.obuttonif(this.$.watch_preview)))||($=b=0,m.cache(t=M(m.value,null,"blue",null))),$||(t[dr]=c),t[Zr]&&($||t.on$("optip",{},this),$||t.on$("opnav",{},this),$||(t.icon=!1),(!$||b&2)&&t.flags.reconcile(pcn,"blue"),$||!t.setup||t.setup(b,m),t[Ft](b))),g=i[ao](mcn),x=k=1,(r=g.run(this.obuttonif(this.edit)))||(x=k=0,g.cache(r=M(g.value,null,"yellow",null))),x||(r[dr]=c),r[Zr]&&(x||r.on$("opnav",{},this),(!x||k&2)&&r.flags.reconcile(fcn,"yellow"),x||!r.setup||r.setup(k,g),r[Ft](k))),i[fRr]=c[Eo](e,0,i[fRr]),i[mRr]=c[Eo](t,0,i[mRr]),i[$Rr]=c[Eo](r,0,i[$Rr]),o=n=null,this.upcoming&&(C=i[ao](bcn),j=P=1,(o=C.run(this.obuttonif(this.follow)))||(j=P=0,C.cache(o=M(C.value,null,"green",null))),j||(o[dr]=c),o[Zr]&&(j||o.on$("optip",{},this),j||o.on$("opnav",{},this),j||(o.label="Notify me on launch"),(!j||P&2)&&o.flags.reconcile(ycn,"green"),j||!o.setup||o.setup(P,C),o[Ft](P)),U=i[ao](kcn),O=L=1,(n=U.run(this.obuttonif(this.unfollow)))||(O=L=0,U.cache(n=M(U.value,null,"yellow",null))),O||(n[dr]=c),n[Zr]&&(O||n.on$("optip",{},this),O||n.on$("opnav",{},this),O||(n.label="Stop notifications"),(!O||L&2)&&n.flags.reconcile(gcn,"yellow"),O||!n.setup||n.setup(L,U),n[Ft](L))),i[yRr]=c[Eo](o,0,i[yRr]),i[bRr]=c[Eo](n,0,i[bRr]),a||s.sym||!i.setup||i.setup(u,s,Khe),s.sym||i[Ft](u),i}opunfollowtip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Jhe])||(r=o=0,e=t[Jhe]=e=R("op",null,null,null)),r||(e[dr]=t._),r||((s=e[xn])==null||s.call(e,t,Jhe)),n=e[Yd]("__",e),r||n[Eo]("Stop notifications about this "),i=this.kind,i===e[kRr]&&r||(e[gRr]=n[Eo](e[kRr]=i,0,e[gRr])),r||n[Eo]("."),r||t.sym||!e.setup||e.setup(o,t,Jhe),t.sym||e[Ft](o),e}opownpagehead(){var F;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I;return r=o=1,(e=t[Qhe])||(r=o=0,e=t[Qhe]=e=w("div",null,"cn-be",null)),r||(e[dr]=t._),r||((F=e[xn])==null||F.call(e,t,Qhe)),i=s=1,(n=e[_Rr])||(i=s=0,e[_Rr]=n=w("div",e,"cn-bf",null)),u=c=1,(a=n[xRr])||(u=c=0,n[xRr]=a=w("h1",n,null,null)),h=a[ao](_cn),f=m=1,(d=h.run(this.oel(this,"page-title")))||(f=m=0,h.cache(d=M(h.value,a,null,null))),d[Zr]&&(f||!d.setup||d.setup(m,h),d[Ft](m)),d==a[yq]||!a[yq]&&(a[yq]=d)[na](a)||a[yq][ia](a[yq]=d,a),u||!a.setup||a.setup(c,$),a[Ft](c),b=n[ao](xcn),x=k=1,(g=b.run(this.oel(this,"page-intro")))||(x=k=0,b.cache(g=M(b.value,n,"cn-bi",null))),g[Zr]&&((!x||k&2)&&g.flags.reconcile(Aj,"cn-bi"),x||!g.setup||g.setup(k,b),g[Ft](k)),g==n[Aj]||!n[Aj]&&(n[Aj]=g)[na](n)||n[Aj][ia](n[Aj]=g,n),S=v=1,(_=n[vRr])||(S=v=0,n[vRr]=_=R("op-stats",n,"cn-bj sm compact boxed",null)),C=this,C===n[wRr]||(_.data=n[wRr]=C),C=this.stats,C===n[SRr]||(_.only=n[SRr]=C),S||!_.setup||_.setup(v,j),_[Ft](v),S||n[bv](_),i||!n.setup||n.setup(s,P),n[Ft](s),U=e[ao](vcn),L=I=1,(O=U.run(this.oel(this,"page-head-buttons")))||(L=I=0,U.cache(O=M(U.value,e,"cn-bk lg",null))),O[Zr]&&((!L||I&2)&&O.flags.reconcile(Uj,"cn-bk lg"),L||!O.setup||O.setup(I,U),O[Ft](I)),O==e[Uj]||!e[Uj]&&(e[Uj]=O)[na](e)||e[Uj][ia](e[Uj]=O,e),r||t.sym||!e.setup||e.setup(o,t,Qhe),t.sym||e[Ft](o),e}set startediting(e){this.startediting.$set(e,this,wXe,"startediting")}get startediting(){return this.startediting.$get(this,wXe,"startediting")}get startediting(){return this[LOr]||y((YXe=this.action(),YXe.callback=function(){return this.$editing=this.$checkout(),Xt.go(this.$editing.url)},YXe),this,wXe,"startediting",LOr,xr.prototype)}optoctab(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[epe])||(r=o=0,e=t[epe]=e=R("op-tab",null,null,null)),r||(e[dr]=t._),r||((i=e[xn])==null||i.call(e,t,epe)),r||(e.name="Content"),r||(e.badge=""),n=this.url,n===e[CRr]||(e.href=e[CRr]=n),r||t.sym||!e.setup||e.setup(o,t,epe),t.sym||e[Ft](o),e}optocbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[tpe])||(r=o=0,e=t[tpe]=e=R("toc-root",null,null,null)),r||(e[dr]=t._),r||((i=e[xn])==null||i.call(e,t,tpe)),n=this,n===e[ERr]||(e.data=e[ERr]=n),r||e.on$("tapped",{stop:!0},this),r||t.sym||!e.setup||e.setup(o,t,tpe),t.sym||e[Ft](o),e}opabouttab(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[rpe])||(r=o=0,e=t[rpe]=e=R("op-tab",null,null,null)),r||(e[dr]=t._),r||((i=e[xn])==null||i.call(e,t,rpe)),r||(e.name="About"),r||(e.badge=""),n=this.url,n===e[jRr]||(e.href=e[jRr]=n),r||t.sym||!e.setup||e.setup(o,t,rpe),t.sym||e[Ft](o),e}opaboutbody(){var i;var e,t,r=H(),o,n;return e=r[ao](XXe),o=n=1,(t=e.run(this.oel(this.about,"content")))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[dr]=r._),o||((i=t[xn])==null||i.call(t,r,XXe)),t[Zr]&&(o||r.sym||!t.setup||t.setup(n,r,XXe),r.sym||t[Ft](n)),t}opresumebutton(){var s;var e,t=H(),r,o,n;if(this.status.completed)return null;let i=this.status.started?"Resume Course":"Start Course";return r=o=1,(e=t[ope])||(r=o=0,e=t[ope]=e=R("op-button",null,null,null)),r||(e[dr]=t._),r||((s=e[xn])==null||s.call(e,t,ope)),i===e[ARr]||(e.label=e[ARr]=i),n=this.resume,n===e[URr]||(e.data=e[URr]=n),r||t.sym||!e.setup||e.setup(o,t,ope),t.sym||e[Ft](o),e}opresumetip(){var _;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k;return n=i=1,(r=o[npe])||(n=i=0,r=o[npe]=r=R("op",null,"rich",null)),n||(r[dr]=o._),n||((_=r[xn])==null||_.call(r,o,npe)),s=r[Yd]("__",r),e=t=null,this.started?(a=u=1,(e=r[PRr])||(a=u=0,r[PRr]=e=w("header",null,null,null)),a||(e[dr]=s),a||(c=w("span",e,null,"Resume Course")),this.resumable&&(h=r[ao](wcn),d=f=1,(t=h.run(this.resumable.opownpath()))||(d=f=0,h.cache(t=M(h.value,null,null,null))),d||(t[dr]=s),t[Zr]&&(d||!t.setup||t.setup(f,h),t[Ft](f)))):this.completed?(m=$=1,(e=r[TRr])||(m=$=0,r[TRr]=e=w("header",null,null,"Course Completed")),m||(e[dr]=s)):(b=g=1,(e=r[ORr])||(b=g=0,r[ORr]=e=w("header",null,null,"Start Course")),b||(e[dr]=s),x=k=1,(t=r[RRr])||(x=k=0,r[RRr]=t=w("p",null,null,"This will register the course as started, add it to your shortcuts.")),x||(t[dr]=s)),r[MRr]=s[Eo](e,0,r[MRr]),r[LRr]=s[Eo](t,0,r[LRr]),n||o.sym||!r.setup||r.setup(i,o,npe),o.sym||r[Ft](i),r}opownpagestats(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[ipe])||(r=o=0,e=t[ipe]=e=R("op-stats",null,"sm compact",null)),r||(e[dr]=t._),r||((i=e[xn])==null||i.call(e,t,ipe)),n=this,n===e[DRr]||(e.data=e[DRr]=n),r||(e.only="privacy|duration|level|_cre|labels|teachers"),r||t.sym||!e.setup||e.setup(o,t,ipe),t.sym||e[Ft](o),e}opownpagestatsoff(){var J,me;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie;if(r=o=1,(e=t[spe])||(r=o=0,e=t[spe]=e=w("div",null,"cn-by %stats",null)),r||(e[dr]=t._),r||((J=e[xn])==null||J.call(e,t,spe)),n=e[ao](Scn),s=a=1,(i=n.run(this.pagestat("difficulty",this.level)))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[Zr]&&(s||!i.setup||i.setup(a,n),i[Ft](a)),i==e[bq]||!e[bq]&&(e[bq]=i)[na](e)||e[bq][ia](e[bq]=i,e),u=e[ao](Ccn),h=d=1,(c=u.run(this.pagestat("lessons",this.lessons.size)))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[Zr]&&(h||!c.setup||c.setup(d,u),c[Ft](d)),c==e[gq]||!e[gq]&&(e[gq]=c)[na](e)||e[gq][ia](e[gq]=c,e),f=e[ao](Ecn),$=b=1,(m=f.run(this.pagestat("challenges",this.exercisescount)))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[Zr]&&($||!m.setup||m.setup(b,f),m[Ft](b)),m==e[kq]||!e[kq]&&(e[kq]=m)[na](e)||e[kq][ia](e[kq]=m,e),g=e[ao](jcn),k=_=1,(x=g.run(this.pagestat("projects",this.projectcount)))||(k=_=0,g.cache(x=M(g.value,e,null,null))),x[Zr]&&(k||!x.setup||x.setup(_,g),x[Ft](_)),x==e[_q]||!e[_q]&&(e[_q]=x)[na](e)||e[_q][ia](e[_q]=x,e),S=e[ao](Acn),C=j=1,(v=S.run(this.pagestat("runtime",this.duration.asdurationstr)))||(C=j=0,S.cache(v=M(S.value,e,"cn-cd",null))),v[Zr]&&((!C||j&2)&&v.flags.reconcile(Pj,"cn-cd"),C||!v.setup||v.setup(j,S),v[Ft](j)),v==e[Pj]||!e[Pj]&&(e[Pj]=v)[na](e)||e[Pj][ia](e[Pj]=v,e),P=e[ao](Ucn),O=L=1,(U=P.run(this.pagestat("students","120.9k")))||(O=L=0,P.cache(U=M(P.value,e,null,null))),U[Zr]&&(O||!U.setup||U.setup(L,P),U[Ft](L)),U==e[xq]||!e[xq]&&(e[xq]=U)[na](e)||e[xq][ia](e[xq]=U,e),I=e[ao](Pcn),N=V=1,(F=I.run(this.pagestat("created by")))||(N=V=0,I.cache(F=M(I.value,e,"cn-cf",null))),F[Zr]){W=F[Kcn]("__",F),(!N||V&2)&&F.flags.reconcile(Tj,"cn-cf"),(z=F[NRr])||(F[NRr]=z=w("div",W,"cn-cg teachers",null)),(q=F[IRr])||(F[IRr]=q=wt(384,z)),Y=0,K=q.$;for(let ce=0,ye=B(this.teachers),we=ye.length;ce<we;ce++){let ae=ye[ce];Q=ee=1,(Z=(X=K[tKe](Tcn,Y)).run(this.oicon(ae)))||(Q=ee=0,X.cache(Z=M(X.value,q,"cn-ch",null))),Q||(Z[dr]=q),Z[Zr]&&(te=Z[FRr]||(Z[FRr]={options:[null]}),ne=ae,ne===te.options[0]||(te.options[0]=ne,ee|=48),Q||Z.on$("optip",te,this),ee&32&&(ee^=32,(me=te[CMr])==null||me.call(te)),(!Q||ee&2)&&Z.flags.reconcile(Ocn,"cn-ch"),Q||!Z.setup||Z.setup(ee,X),Z[Ft](ee)),q.push(Z,Y++,ie)}q[Ft](Y),N||!F.setup||F.setup(V,I),F[Ft](V)}return F==e[Tj]||!e[Tj]&&(e[Tj]=F)[na](e)||e[Tj][ia](e[Tj]=F,e),r||t.sym||!e.setup||e.setup(o,t,spe),t.sym||e[Ft](o),e}pagestat(e,t){var f;var r,o=H(),n,i,s,a,u,c,h,d;return n=i=1,(r=o[lpe])||(n=i=0,r=o[lpe]=r=w("div",null,"cn-ci %stat",null)),n||(r[dr]=o._),n||((f=r[xn])==null||f.call(r,o,lpe)),(s=r[HRr])||(r[HRr]=s=w("div",r,"%label cn_ci",null)),a=e,a===r[VRr]&&n||(r[BRr]=s[Eo](r[VRr]=a,384,r[BRr])),u=r[Jcn]("__"),(!u||!u.hasChildNodes())&&(c=h=1,(u=r[zRr])||(c=h=0,r[zRr]=u=w("div",null,"%value cn_ci",null)),c||(u[dr]=r),d=t,d===r[WRr]&&c||(r[qRr]=u[Eo](r[WRr]=d,384,r[qRr]))),u===r[GRr]||(r[ZRr]=r[Eo](r[GRr]=u,256,r[ZRr])),n||o.sym||!r.setup||r.setup(i,o,lpe),o.sym||r[Ft](i),r}opownstats(){var I,F;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L;return i=s=1,(o=n[ape])||(i=s=0,o=n[ape]=o=R("op-stats",null,"cn-cm",null)),i||(o[dr]=n._),i||((I=o[xn])==null||I.call(o,n,ape)),a=o[Yd]("__",o),u=this,u===o[YRr]||(o.data=o[YRr]=u),e=null,(F=this.status)!=null&&F.default?(c=o[ao](Rcn),h=d=1,(e=c.run(this.ostat(this.topic)))||(h=d=0,c.cache(e=M(c.value,null,null,null))),h||(e[dr]=a),e[Zr]&&(h||!e.setup||e.setup(d,c),e[Ft](d))):(f=o[ao](Mcn),m=$=1,(e=f.run(this.ostat(this.status)))||(m=$=0,f.cache(e=M(f.value,null,null,null))),m||(e[dr]=a),e[Zr]&&(m||!e.setup||e.setup($,f),e[Ft]($))),o[XRr]=a[Eo](e,0,o[XRr]),t=null,this.upcoming?t="":this.modules.size>3?(b=o[ao](Lcn),g=x=1,(t=b.run(this.ostat(this.modules)))||(g=x=0,b.cache(t=M(b.value,null,null,null))),g||(t[dr]=a),t[Zr]&&(g||!t.setup||t.setup(x,b),t[Ft](x))):(k=o[ao](Dcn),_=S=1,(t=k.run(this.ostat(this.lessons)))||(_=S=0,k.cache(t=M(k.value,null,null,null))),_||(t[dr]=a),t[Zr]&&(_||!t.setup||t.setup(S,k),t[Ft](S))),o[KRr]=a[Eo](t,0,o[KRr]),v=o[ao](Ncn),j=P=1,(C=v.run(this.ostat(this.$.level)))||(j=P=0,v.cache(C=M(v.value,a,"compact",null))),C[Zr]&&((!j||P&2)&&C.flags.reconcile(Oj,"compact"),j||!C.setup||C.setup(P,v),C[Ft](P)),C==o[Oj]||!o[Oj]&&a[bv](o[Oj]=C)||(a[Aq](C,o[Oj]),o[Oj]=C),r=null,this.upcoming||(U=o[ao](Fcn),O=L=1,(r=U.run(this.ostat(this.$.duration)))||(O=L=0,U.cache(r=M(U.value,null,"compact",null))),O||(r[dr]=a),r[Zr]&&((!O||L&2)&&r.flags.reconcile(Icn,"compact"),O||!r.setup||r.setup(L,U),r[Ft](L))),o[JRr]=a[Eo](r,0,o[JRr]),i||n.sym||!o.setup||o.setup(s,n,ape),n.sym||o[Ft](s),o}opownli(){var W;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return r=o=1,(e=t[upe])||(r=o=0,e=t[upe]=e=w("section",null,"xli",null)),r||(e[dr]=t._),r||((W=e[xn])==null||W.call(e,t,upe)),n=this,n===e[QRr]||(e.data=e[QRr]=n),i=e[eMr]||(e[eMr]={"!closest":["a,op-button"],emit:["open",null]}),i.emit[1]=this,r||e.on$("click",i,this),s=e[ao](Hcn),u=c=1,(a=s.run(this.oicon(this)))||(u=c=0,s.cache(a=M(s.value,e,null,null))),a[Zr]&&(u||!a.setup||a.setup(c,s),a[Ft](c)),a==e[vq]||!e[vq]&&(e[vq]=a)[na](e)||e[vq][ia](e[vq]=a,e),d=f=1,(h=e[tMr])||(d=f=0,e[tMr]=h=w("section",e,null,null)),(m=h[rMr])||(h[rMr]=m=w("h2",h,null,null)),$=this.name,$===h[nMr]&&d||(h[oMr]=m[Eo](h[nMr]=$,384,h[oMr])),b=h[ao](Bcn),x=k=1,(g=b.run(this.ostat(this.modules.size>3?this.modules:this.lessons)))||(x=k=0,b.cache(g=M(b.value,h,null,null))),g[Zr]&&(x||!g.setup||g.setup(k,b),g[Ft](k)),g==h[wq]||!h[wq]&&(h[wq]=g)[na](h)||h[wq][ia](h[wq]=g,h),_=h[ao](Vcn),v=C=1,(S=_.run(this.ochip(this.$.level)))||(v=C=0,_.cache(S=M(_.value,h,"compact",null))),S[Zr]&&((!v||C&2)&&S.flags.reconcile(Rj,"compact"),v||!S.setup||S.setup(C,_),S[Ft](C)),S==h[Rj]||!h[Rj]&&(h[Rj]=S)[na](h)||h[Rj][ia](h[Rj]=S,h),j=h[ao](zcn),U=O=1,(P=j.run(this.ochip(this.$.duration)))||(U=O=0,j.cache(P=M(j.value,h,"compact",null))),P[Zr]&&((!U||O&2)&&P.flags.reconcile(Mj,"compact"),U||!P.setup||P.setup(O,j),P[Ft](O)),P==h[Mj]||!h[Mj]&&(h[Mj]=P)[na](h)||h[Mj][ia](h[Mj]=P,h),L=h[ao](qcn),F=N=1,(I=L.run(this.ochip(this.topic)))||(F=N=0,L.cache(I=M(L.value,h,null,null))),I[Zr]&&(F||!I.setup||I.setup(N,L),I[Ft](N)),I==h[Sq]||!h[Sq]&&(h[Sq]=I)[na](h)||h[Sq][ia](h[Sq]=I,h),d||!h.setup||h.setup(f,V),h[Ft](f),r||t.sym||!e.setup||e.setup(o,t,upe),t.sym||e[Ft](o),e}opownicon(){var b;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;let $=this.progress;return r=o=1,(e=t[KXe])||(r=o=0,e=t[KXe]=e=w("div",null,"cn-db",null)),r||(e[dr]=t._),r||((b=e[xn])==null||b.call(e,t,KXe)),n=$*100,n===e[iMr]||e.css$var("--cn_dc",e[iMr]=n,null,"--progress"),n=this.completed||void 0,n===e[JXe]||(o|=2,e[JXe]=n),o&2&&e.flag$("cn-db "+(e[JXe]?"completed":"")),s=a=1,(i=e[sMr])||(s=a=0,e[sMr]=i=Ir("svg",e,"cn-dd",null)),s||i.set$("viewBox","0 0 256 256"),c=h=1,(u=e[lMr])||(c=h=0,e[lMr]=u=Ir("path",i,"cn-de cn_dd",null)),c||u.set$("d","M72,56h96a32,32,0,0,1,0,64H72a40,40,0,0,0,0,80H176"),c||u.set$("fill","none"),c||u.set$("pathLength",100),f=m=1,(d=e[aMr])||(f=m=0,e[aMr]=d=Ir("path",i,"cn-df cn_dd",null)),f||d.set$("d","M72,56h96a32,32,0,0,1,0,64H72a40,40,0,0,0,0,80H176"),f||d.set$("fill","none"),f||d.set$("pathLength",100),e}opteachersstat(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;return r=o=1,(e=t[cpe])||(r=o=0,e=t[cpe]=e=R("op-stat",null,null,null)),r||(e[dr]=t._),r||((d=e[xn])==null||d.call(e,t,cpe)),n=e[Yd]("__",e),i=this.$.teachers,i===e[uMr]||(e.data=e[uMr]=i),a=u=1,(s=e[cMr])||(a=u=0,e[cMr]=s=R("op-stack",n,null,null)),c=this.teachers,c===e[hMr]||(s.data=e[hMr]=c),a||!s.setup||s.setup(u,h),s[Ft](u),a||n[bv](s),r||t.sym||!e.setup||e.setup(o,t,cpe),t.sym||e[Ft](o),e}};xr.alias="c",E(xr,fpe,"Course",88);var y4=xr;globalThis.Course=y4;var ehn=Symbol(),oKe=class oKe extends OPEmbed{get name(){return"About the course"}opowncontent(){var W,z,q,Y,K;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;n=i=1,(r=o[hpe])||(n=i=0,r=o[hpe]=r=R("op",null,"cn-di",null)),n||(r[dr]=o._),n||((W=r[xn])==null||W.call(r,o,hpe)),s=r[Yd]("__",r),n||(a=w("section",s,"osection",null)),n||(u=w("div",a,"cn-dk",null)),h=d=1,(c=r[pMr])||(h=d=0,r[pMr]=c=w("article",u,null,null)),f=this.$up.description,f===r[dMr]||(c.markdown=r[dMr]=f),n||(m=w("img",u,"cn-dm",null)),n||(m.src=oTr),n||($=w("section",s,"cn-dn",null)),(b=r[fMr])||(r[fMr]=b=w("h2",s,null,null)),n||b[Eo]("Meet your teacher"),e=null,((z=this.$up)==null?void 0:z.teachers.length)>1?e="s":e="",r[mMr]=b[Eo](e,0,r[mMr]),(g=r[$Mr])||(r[$Mr]=g=w("div",s,"cn-dp teachers",null)),(x=r[yMr])||(r[yMr]=x=wt(384,g)),k=0,_=x.$;for(let X=0,Z=B((q=this.$up)==null?void 0:q.teachers),Q=Z.length;X<Q;X++){let ee=Z[X];C=j=1,(v=(S=_[tKe](Wcn,k)).run(this.otile(ee)))||(C=j=0,S.cache(v=M(S.value,x,"cn-dq",null))),C||(v[dr]=x),v[Zr]&&((!C||j&2)&&v.flags.reconcile(Zcn,"cn-dq"),C||!v.setup||v.setup(j,S),v[Ft](j)),x.push(v,k++,P)}return x[Ft](k),t=null,(K=(Y=this.$up)==null?void 0:Y.prerequisites)!=null&&K.text&&(U=r[ao](Gcn),O=L=1,(t=U.run(this.oel(this.$up.prerequisites,"body")))||(O=L=0,U.cache(t=M(U.value,null,null,null))),O||(t[dr]=s),t[Zr]&&(O||!t.setup||t.setup(L,U),t[Ft](L))),r[bMr]=s[Eo](t,0,r[bMr]),I=r[ao](Ycn),N=V=1,(F=I.run(this.oel(Testimonial,"course-footer",this.$up)))||(N=V=0,I.cache(F=M(I.value,s,null,null))),F[Zr]&&(N||!F.setup||F.setup(V,I),F[Ft](V)),F==r[Cq]||!r[Cq]&&s[bv](r[Cq]=F)||(s[Aq](F,r[Cq]),r[Cq]=F),n||o.sym||!r.setup||r.setup(i,o,hpe),o.sym||r[Ft](i),r}};E(oKe,ehn,"CourseDetails",0);var mpe=oKe;globalThis.CourseDetails=mpe;var thn=Symbol(),Uq=class Uq extends OPEmbed{set text(e){this.text.$set(e,this,SXe,"text")}get text(){return this.text.$get(this,SXe,"text")}get text(){return this[DOr]||y((gMr=this.string(),gMr),this,SXe,"text",DOr,Uq.prototype)}set courses(e){this.courses.$set(e,this,CXe,"courses")}get courses(){return this.courses.$get(this,CXe,"courses")}get courses(){return this[NOr]||y((Eq=this.refs(y4),p(Eq.options,Function)?Eq.options(y4.all(kMr)):Eq.options=y4.all(kMr),Eq),this,CXe,"courses",NOr,Uq.prototype)}opownbody(){var k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;r=o=1,(e=t[ppe])||(r=o=0,e=t[ppe]=e=R("op",null,null,null)),r||(e[dr]=t._),r||((k=e[xn])==null||k.call(e,t,ppe)),n=e[Yd]("__",e),r||(i=w("section",n,"cn-du",null)),r||(s=w("h2",i,null,"Prerequisites")),(a=e[_Mr])||(e[_Mr]=a=w("p",i,"cn-dw",null)),u=this.text,u===e[vMr]&&r||(e[xMr]=a[Eo](e[vMr]=u,384,e[xMr])),(c=e[wMr])||(e[wMr]=c=w("div",i,"cn-dx courses collection",null)),(h=e[SMr])||(e[SMr]=h=wt(384,c)),d=0,f=h.$;for(let _=0,S=B(this.courses),v=S.length;_<v;_++){let C=S[_];b=g=1,($=(m=f[tKe](Xcn,d)).run(this.otile(C)))||(b=g=0,m.cache($=M(m.value,h,null,null))),b||($[dr]=h),$[Zr]&&(b||!$.setup||$.setup(g,m),$[Ft](g)),h.push($,d++,x)}return h[Ft](d),r||t.sym||!e.setup||e.setup(o,t,ppe),t.sym||e[Ft](o),e}};E(Uq,thn,"CoursePrerequisites",0);var eKe=Uq;T();oe();ge(),dt(),an(),$e();var nKe=Symbol("submitted"),PMr=Symbol(),iKe=Symbol("submit"),TMr=Symbol(),sKe=Symbol("student"),OMr=Symbol(),lKe=Symbol("pro"),RMr=Symbol(),aKe=Symbol("other"),MMr=Symbol(),uKe=Symbol("student_detail"),LMr=Symbol(),cKe=Symbol("pro_detail"),DMr=Symbol(),hKe=Symbol("other_detail"),NMr=Symbol(),pKe=Symbol("referrer"),IMr=Symbol(),dKe=Symbol("detail"),FMr=Symbol(),fKe=Symbol("id"),HMr=Symbol(),mKe=Symbol("user"),BMr=Symbol(),$Ke=Symbol("referrer"),VMr=Symbol(),yKe=Symbol("persona"),zMr=Symbol(),bKe=Symbol("id"),qMr=Symbol(),gKe=Symbol("user"),WMr=Symbol(),kKe=Symbol("referrer"),ZMr=Symbol(),_Ke=Symbol("company_name"),GMr=Symbol(),xKe=Symbol("school_name"),YMr=Symbol(),vKe=Symbol("subject"),XMr=Symbol(),wKe=Symbol("pro_developer"),KMr=Symbol(),SKe=Symbol("student"),JMr=Symbol(),CKe=Symbol("finished"),QMr=Symbol(),EKe=Symbol("was_hidden"),eLr=Symbol(),jKe=Symbol("open-user"),tLr=Symbol(),AKe=Symbol("set-affiliation"),rLr=Symbol(),oLr,UKe,Tq,Oq,nLr,Rq,Mq,Lq,$pe=Symbol(),iLr=Symbol(),Dj=Symbol(),rhn=Symbol();var PKe=Symbol(),Nj=Symbol(),ohn=Symbol();var TKe=Symbol(),Ij=Symbol(),nhn=Symbol();var OKe=Symbol(),ihn=Symbol(),shn=Symbol(),sLr=Symbol(),lhn=Symbol(),ahn=Symbol(),lLr=Symbol(),uhn=Symbol(),chn=Symbol(),aLr=Symbol(),hhn=Symbol(),phn=Symbol(),uLr=Symbol(),Dq,cLr,ype=Symbol(),hLr=Symbol(),pLr=Symbol(),dLr=Symbol();var RKe=Symbol(),bpe=Symbol(),fLr=Symbol(),mLr=Symbol(),gpe=Symbol(),Fj=Symbol(),dhn=Symbol(),fhn=Symbol(),mhn=Symbol(),$hn=Symbol(),yhn=Symbol(),$Lr=Symbol(),yLr=Symbol(),Nq,Xd,bLr,gLr,bhn=le("&.done?",globalThis,l=>l.done),ghn=le("&.submitted",globalThis,l=>l.submitted),khn=le("&.$clear!",globalThis,l=>l.$clear()),kLr=le("!&.done?",globalThis,l=>!l.done),kpe=Symbol(),_Lr=Symbol();var MKe=Symbol(),xLr=Symbol(),vLr=Symbol(),wLr=Symbol(),SLr=Symbol(),CLr=Symbol(),ELr=Symbol(),_hn=Symbol(),xhn=Symbol(),jLr=Symbol(),ALr=Symbol(),Iq,b4,g4,k4,_4,x4,v4,w4,Fq,Hq,Hj,Bj,LKe=Symbol(),ULr=Symbol(),PLr=Symbol(),TLr=Symbol(),OLr=Symbol(),Vj=Symbol(),vhn=Symbol(),RLr=Symbol(),MLr=Symbol(),LLr=Symbol(),DLr=Symbol(),NLr=Symbol(),whn=Symbol(),Shn=Symbol(),ILr=Symbol(),Chn=Symbol(),Ehn=Symbol(),FLr=Symbol(),jhn=Symbol(),Ahn=Symbol(),HLr=Symbol(),Uhn=Symbol(),Phn=Symbol(),BLr=Symbol(),Thn=Symbol(),Ohn=Symbol(),VLr=Symbol(),Rhn=Symbol(),Mhn=Symbol(),zLr=Symbol(),Lhn=Symbol(),Dhn=Symbol(),qLr=Symbol(),Nhn=Symbol(),Ihn=Symbol(),WLr=Symbol(),Zn=Symbol.for("##up"),zj=Symbol.for("##register"),Bq=Symbol.for("#getSlot"),Qi=Symbol.for("#getRenderContext"),es=Symbol.for("#isRichElement"),zo=Symbol.for("#afterVisit"),_pe=Symbol.for("#insertInto"),xpe=Symbol.for("#replaceWith"),ni=Symbol.for("#placeChild"),Fhn=Symbol.for("#appendChild"),Hhn=Symbol.for("#replaceChild"),ZLr=Symbol.for("#visit");no.addSelectors([".vo-bb",".vo-bc",".vo-bd",".vo-bd .ofield",".vo-be"],"transition");no.addSelectors([".vo-bb",".vo-bd",".vo-bd .ofield",".vo-be"],"_off_sized");var Bhn=Symbol(),Vq=class Vq extends OPEmbed{get user(){return this.$root.user}set submitted(e){this.submitted.$set(e,this,nKe,"submitted")}get submitted(){return this.submitted.$get(this,nKe,"submitted")}get submitted(){return this[PMr]||y((oLr=this.ts(),oLr),this,nKe,"submitted",PMr,Vq.prototype)}set submit(e){this.submit.$set(e,this,iKe,"submit")}get submit(){return this.submit.$get(this,iKe,"submit")}get submit(){return this[TMr]||y((UKe=this.action(),UKe.callback=function(){return this.submitted=OP.now,this.$root.save()},UKe),this,iKe,"submit",TMr,Vq.prototype)}get done(){return this.submitted}get submitted(){return!!this.submitted}};E(Vq,Bhn,"SurveyQuestion",0);var qq=Vq;globalThis.SurveyQuestion=qq;var Vhn=Symbol(),vb=class vb extends qq{set student(e){this.student.$set(e,this,sKe,"student")}get student(){return this.student.$get(this,sKe,"student")}get student(){return this[OMr]||y((Tq=this.bool(),p(Tq.label,Function)?Tq.label("I am a student"):Tq.label="I am a student",Tq),this,sKe,"student",OMr,vb.prototype)}set pro(e){this.pro.$set(e,this,lKe,"pro")}get pro(){return this.pro.$get(this,lKe,"pro")}get pro(){return this[RMr]||y((Oq=this.bool(),p(Oq.label,Function)?Oq.label("I get paid to code"):Oq.label="I get paid to code",Oq),this,lKe,"pro",RMr,vb.prototype)}set other(e){this.other.$set(e,this,aKe,"other")}get other(){return this.other.$get(this,aKe,"other")}get other(){return this[MMr]||y((nLr=this.bool(),nLr),this,aKe,"other",MMr,vb.prototype)}get referrerschool(){var e,t,r,o;return((e=this.$root.referrer)==null?void 0:e.referrer)=="school"&&((o=(r=(t=this.$root.referrer)==null?void 0:t.detail)==null?void 0:r.trim)==null?void 0:o.call(r))}get done(){var t,r,o,n,i,s,a,u;if(this.submitted)return!0;if(!((t=this.user)!=null&&t.survey))return!1;let e=(r=this.user)==null?void 0:r.survey;return e.student||e.pro_developer||((n=(o=e.school_name)==null?void 0:o.trim)==null?void 0:n.call(o))||((s=(i=e.company_name)==null?void 0:i.trim)==null?void 0:s.call(i))||((u=(a=e.subject)==null?void 0:a.trim)==null?void 0:u.call(a))}set student_detail(e){this.student_detail.$set(e,this,uKe,"student_detail")}get student_detail(){return this.student_detail.$get(this,uKe,"student_detail")}get student_detail(){return this[LMr]||y((Rq=this.string(),p(Rq.label,Function)?Rq.label("Which school?"):Rq.label="Which school?",Rq),this,uKe,"student_detail",LMr,vb.prototype)}set pro_detail(e){this.pro_detail.$set(e,this,cKe,"pro_detail")}get pro_detail(){return this.pro_detail.$get(this,cKe,"pro_detail")}get pro_detail(){return this[DMr]||y((Mq=this.string(),p(Mq.label,Function)?Mq.label("Which company?"):Mq.label="Which company?",Mq),this,cKe,"pro_detail",DMr,vb.prototype)}set other_detail(e){this.other_detail.$set(e,this,hKe,"other_detail")}get other_detail(){return this.other_detail.$get(this,hKe,"other_detail")}get other_detail(){return this[NMr]||y((Lq=this.string(),p(Lq.label,Function)?Lq.label("Please specify:"):Lq.label="Please specify:",Lq),this,hKe,"other_detail",NMr,vb.prototype)}opownfield(e,t){var me;var r=this,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J;return o.this=this,c=h=1,(u=o[$pe])||(c=h=0,u=o[$pe]=u=R("op",null,"vo_",null)),c||(u[Zn]=o._),c||((me=u[zj])==null||me.call(u,o,$pe)),d=u[Bq]("__",u),c||(f=w("div",d,"ofield vo_",null)),c||(m=w("div",f,"olabel vo_","What best describes you? Click all that apply:")),b=g=1,($=u[iLr])||(b=g=0,u[iLr]=$=w("div",f,"oinput %buttons vo_",null)),x=$[Qi](rhn),_=S=1,(k=x.run(this.obutton(this.$.student)))||(_=S=0,x.cache(k=M(x.value,$,"vo_",null))),k[es]&&(_||k.on$("click",{$_:[function(ce,ye){return o.this.student^=!0}]},this),v=this.student||void 0,v===k[PKe]||(S|=2,k[PKe]=v),(!_||S&2)&&k.flags.reconcile(Dj,"vo_ "+(k[PKe]?"vo-ak":"")),_||!k.setup||k.setup(S,x),k[zo](S)),k==$[Dj]||!$[Dj]&&($[Dj]=k)[_pe]($)||$[Dj][xpe]($[Dj]=k,$),C=$[Qi](ohn),P=U=1,(j=C.run(this.obutton(this.$.pro)))||(P=U=0,C.cache(j=M(C.value,$,"vo_",null))),j[es]&&(P||j.on$("click",{$_:[function(ce,ye){return o.this.pro^=!0}]},this),O=this.pro||void 0,O===j[TKe]||(U|=2,j[TKe]=O),(!P||U&2)&&j.flags.reconcile(Nj,"vo_ "+(j[TKe]?"vo-am":"")),P||!j.setup||j.setup(U,C),j[zo](U)),j==$[Nj]||!$[Nj]&&($[Nj]=j)[_pe]($)||$[Nj][xpe]($[Nj]=j,$),L=$[Qi](nhn),F=N=1,(I=L.run(this.obutton(this.$.other)))||(F=N=0,L.cache(I=M(L.value,$,"vo_",null))),I[es]&&(F||I.on$("click",{$_:[function(ce,ye){return o.this.other^=!0}]},this),V=this.other||void 0,V===I[OKe]||(N|=2,I[OKe]=V),(!F||N&2)&&I.flags.reconcile(Ij,"vo_ "+(I[OKe]?"vo-ao":"")),F||!I.setup||I.setup(N,L),I[zo](N)),I==$[Ij]||!$[Ij]&&($[Ij]=I)[_pe]($)||$[Ij][xpe]($[Ij]=I,$),b||!$.setup||$.setup(g,W),$[zo](g),n=null,this.student&&!this.referrerschool&&(z=u[Qi](shn),q=Y=1,(n=z.run(this.ofield(this.$.student_detail)))||(q=Y=0,z.cache(n=M(z.value,null,"vo_",null))),q||(n[Zn]=d),n[es]&&(q||(n.ease="ease"),(!q||Y&2)&&n.flags.reconcile(ihn,"vo_"),q||!n.setup||n.setup(Y,z),n[zo](Y))),u[sLr]=d[ni](n,0,u[sLr]),i=null,this.pro&&(K=u[Qi](ahn),X=Z=1,(i=K.run(this.ofield(this.$.pro_detail)))||(X=Z=0,K.cache(i=M(K.value,null,"vo_",null))),X||(i[Zn]=d),i[es]&&(X||(i.ease="ease"),(!X||Z&2)&&i.flags.reconcile(lhn,"vo_"),X||!i.setup||i.setup(Z,K),i[zo](Z))),u[lLr]=d[ni](i,0,u[lLr]),s=null,this.other&&(Q=u[Qi](chn),ee=te=1,(s=Q.run(this.ofield(this.$.other_detail)))||(ee=te=0,Q.cache(s=M(Q.value,null,"vo_",null))),ee||(s[Zn]=d),s[es]&&(ee||(s.ease="ease"),(!ee||te&2)&&s.flags.reconcile(uhn,"vo_"),ee||!s.setup||s.setup(te,Q),s[zo](te))),u[aLr]=d[ni](s,0,u[aLr]),a=null,(this.student||this.pro||this.other)&&(ne=u[Qi](phn),ie=J=1,(a=ne.run(this.ofield(this.submit)))||(ie=J=0,ne.cache(a=M(ne.value,null,"vo-as vo_",null))),ie||(a[Zn]=d),a[es]&&(ie||(a.ease="ease"),(!ie||J&2)&&a.flags.reconcile(hhn,"vo-as vo_"),ie||!a.setup||a.setup(J,ne),a[zo](J))),u[uLr]=d[ni](a,0,u[uLr]),c||o.sym||!u.setup||u.setup(h,o,$pe),o.sym||u[zo](h),u}};E(vb,Vhn,"QuestionPersona",0);var vpe=vb;globalThis.QuestionPersona=vpe;var zhn=Symbol(),zq=class zq extends qq{set referrer(e){this.referrer.$set(e,this,pKe,"referrer")}get referrer(){return this.referrer.$get(this,pKe,"referrer")}get referrer(){return this[IMr]||y((Dq=this.enum({mdn:{},friend:{},school:{detail:"Which school?"},youtube:{detail:"Which YouTube channel?"},search_engine:{detail:"What were you searching for?"},social_media:{detail:"Which social media platform?"},other:{detail:"Please specify:"}}),p(Dq.label,Function)?Dq.label("How did you find us?"):Dq.label="How did you find us?",Dq),this,pKe,"referrer",IMr,zq.prototype)}set detail(e){this.detail.$set(e,this,dKe,"detail")}get detail(){return this.detail.$get(this,dKe,"detail")}get detail(){return this[FMr]||y((cLr=this.string(),cLr),this,dKe,"detail",FMr,zq.prototype)}get done(){var e,t,r,o,n;return this.submitted?!0:(e=this.user)!=null&&e.survey?(n=(o=(r=(t=this.user)==null?void 0:t.survey)==null?void 0:r.referrer)==null?void 0:o.trim)==null?void 0:n.call(o):!1}optclick(e){if(this.referrer=e,!e.detail)return this.submit()}opreferrerinput(e,t){var x,k;var r=this,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g;o.this=this,i=s=1,(n=o[ype])||(i=s=0,n=o[ype]=n=R("op",null,"%buttons vo_",null)),i||(n[Zn]=o._),i||((x=n[zj])==null||x.call(n,o,ype)),a=n[Bq]("__",n),(u=n[hLr])||(n[hLr]=u=Jt(384,a)),c=0,h=u.$;for(let _=0,S=B(e),v=S.length;_<v;_++){let C=S[_];f=m=1,(d=h[c])||(f=m=0,h[c]=d=R("op-button",u,"obutton vo_",null)),f||(d[Zn]=u),$=d[pLr]||(d[pLr]={$_:[function(j,P,U){return o.this.optclick(U)},null]}),$.$_[1]=C,f||d.on$("click",$,this),b=(k=C.name)==null?void 0:k.az,b===d[dLr]||(d.label=d[dLr]=b),b=this.referrer==C||void 0,b===d[RKe]||(m|=2,d[RKe]=b),m&2&&d.flag$("obutton vo_ "+(d[RKe]?"vo-av":"")),f||!d.setup||d.setup(m,g),d[zo](m),c++}return u[zo](c),i||o.sym||!n.setup||n.setup(s,o,ype),o.sym||n[zo](s),n}opdetaillabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[bpe])||(r=o=0,e=t[bpe]=e=R("op",null,"vo_",null)),r||(e[Zn]=t._),r||((s=e[zj])==null||s.call(e,t,bpe)),n=e[Bq]("__",e),i=this.referrer.detail,i===e[mLr]&&r||(e[fLr]=n[ni](e[mLr]=i,384,e[fLr])),r||t.sym||!e.setup||e.setup(o,t,bpe),t.sym||e[zo](o),e}opownfield(e,t){var _,S;var r,o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k;return s=a=1,(n=i[gpe])||(s=a=0,n=i[gpe]=n=R("op",null,"vo_",null)),s||(n[Zn]=i._),s||((_=n[zj])==null||_.call(n,i,gpe)),u=n[Bq]("__",n),c=n[Qi](dhn),d=f=1,(h=c.run(this.ofield(this.$.referrer)))||(d=f=0,c.cache(h=M(c.value,u,"vo_",null))),h[es]&&((!d||f&2)&&h.flags.reconcile(Fj,"vo_"),d||!h.setup||h.setup(f,c),h[zo](f)),h==n[Fj]||!n[Fj]&&u[Fhn](n[Fj]=h)||(u[Hhn](h,n[Fj]),n[Fj]=h),r=o=null,(S=this.referrer)!=null&&S.detail&&(m=n[Qi](mhn),$=b=1,(r=m.run(this.ofield(this.$.detail)))||($=b=0,m.cache(r=M(m.value,null,"vo_",null))),$||(r[Zn]=u),r[es]&&($||(r.ease="ease"),(!$||b&2)&&r.flags.reconcile(fhn,"vo_"),$||!r.setup||r.setup(b,m),r[zo](b)),g=n[Qi](yhn),x=k=1,(o=g.run(this.ofield(this.submit)))||(x=k=0,g.cache(o=M(g.value,null,"vo-ba vo_",null))),x||(o[Zn]=u),o[es]&&(x||(o.ease="ease"),(!x||k&2)&&o.flags.reconcile($hn,"vo-ba vo_"),x||!o.setup||o.setup(k,g),o[zo](k))),n[$Lr]=u[ni](r,0,n[$Lr]),n[yLr]=u[ni](o,0,n[yLr]),s||i.sym||!n.setup||n.setup(a,i,gpe),i.sym||n[zo](a),n}};E(zq,zhn,"QuestionReferrer",0);var wpe=zq;globalThis.QuestionReferrer=wpe;var qhn=Symbol(),gv=class gv extends OPObject{set id(e){this.id.$set(e,this,fKe,"id")}get id(){return this.id.$get(this,fKe,"id")}get id(){return this[HMr]||y((Nq=this.key(),p(Nq.rw,Function)?Nq.rw(OWNER|ADMIN):Nq.rw=OWNER|ADMIN,Nq),this,fKe,"id",HMr,gv.prototype)}set user(e){this.user.$set(e,this,mKe,"user")}get user(){return this.user.$get(this,mKe,"user")}get user(){return this[BMr]||y((Xd=this.parent(User),p(Xd.as,Function)?Xd.as(OWNER):Xd.as=OWNER,p(Xd.composite,Function)?Xd.composite():Xd.composite=!0,p(Xd.stat,Function)?Xd.stat():Xd.stat=!0,Xd),this,mKe,"user",BMr,gv.prototype)}set referrer(e){this.referrer.$set(e,this,$Ke,"referrer")}get referrer(){return this.referrer.$get(this,$Ke,"referrer")}get referrer(){return this[VMr]||y((bLr=this.embed(wpe),bLr),this,$Ke,"referrer",VMr,gv.prototype)}set persona(e){this.persona.$set(e,this,yKe,"persona")}get persona(){return this.persona.$get(this,yKe,"persona")}get persona(){return this[zMr]||y((gLr=this.embed(vpe),gLr),this,yKe,"persona",zMr,gv.prototype)}get questions(){return[this.$.referrer,this.$.persona]}get done(){return!!this.questions.every(bhn)}get show(){var e,t,r;return(e=this.user)!=null&&e.survey&&!((r=(t=this.user)==null?void 0:t.survey)!=null&&r.resolved)||!this.resolved?!1:!this.done||new Date-this.lastsubmitted<3*1e3}get lastsubmitted(){return Math.max(...this.questions.map(ghn))}reset(){return this.questions.forEach(khn)}get total(){return this.questions.len}get currentidx(){return this.questions.findIndex(kLr)}get nextquestion(){return this.questions.find(kLr)}opownsection(){var g;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b;return n=i=1,(r=o[kpe])||(n=i=0,r=o[kpe]=r=R("op",null,"vo-bb vo_",null)),n||(r[Zn]=o._),n||((g=r[zj])==null||g.call(r,o,kpe)),s=r[Bq]("__",r),n||(r.ease="ease"),a=this,a===r[_Lr]||(r.data=r[_Lr]=a),a=this.done||void 0,a===r[MKe]||(i|=2,r[MKe]=a),i&2&&r.flag$("vo-bb vo_ "+(r[MKe]?"success":"")),e=null,this.done||(u=c=1,(e=r[xLr])||(u=c=0,r[xLr]=e=w("div",null,"vo-bc vo_",null)),u||(e[Zn]=s),u||(e.ease="ease"),u||e[ni]("Step "),h=this.currentidx+1,h===e[wLr]&&u||(e[vLr]=e[ni](e[wLr]=h,0,e[vLr])),u||e[ni](" of "),h=this.total,h===e[CLr]&&u||(e[SLr]=e[ni](e[CLr]=h,256,e[SLr]))),r[ELr]=s[ni](e,0,r[ELr]),t=null,this.nextquestion?(d=r[Qi](xhn),f=m=1,(t=d.run(this.ofield(this.nextquestion)))||(f=m=0,d.cache(t=M(d.value,null,"vo-bd vo_",null))),f||(t[Zn]=s),t[es]&&(f||(t.ease="ease"),(!f||m&2)&&t.flags.reconcile(_hn,"vo-bd vo_"),f||!t.setup||t.setup(m,d),t[zo](m))):($=b=1,(t=r[jLr])||($=b=0,r[jLr]=t=w("div",null,"vo-be vo_",null)),$||(t[Zn]=s),$||(t.ease="ease"),$||t[ni]("Thank you, this helps us make Scrimba better for everyone!")),r[ALr]=s[ni](t,0,r[ALr]),n||o.sym||!r.setup||r.setup(i,o,kpe),o.sym||r[zo](i),r}};E(gv,qhn,"NewUserSurvey",0);var DKe=gv;globalThis.NewUserSurvey=DKe;var Whn=Symbol(),Ga=class Ga extends OPObject{set id(e){this.id.$set(e,this,bKe,"id")}get id(){return this.id.$get(this,bKe,"id")}get id(){return this[qMr]||y((Iq=this.key(),p(Iq.rw,Function)?Iq.rw(OWNER|ADMIN):Iq.rw=OWNER|ADMIN,Iq),this,bKe,"id",qMr,Ga.prototype)}set user(e){this.user.$set(e,this,gKe,"user")}get user(){return this.user.$get(this,gKe,"user")}get user(){return this[WMr]||y((b4=this.parent(User),p(b4.as,Function)?b4.as(OWNER):b4.as=OWNER,p(b4.stat,Function)?b4.stat():b4.stat=!0,b4),this,gKe,"user",WMr,Ga.prototype)}set referrer(e){this.referrer.$set(e,this,kKe,"referrer")}get referrer(){return this.referrer.$get(this,kKe,"referrer")}get referrer(){return this[ZMr]||y((g4=this.string(),p(g4.stat,Function)?g4.stat():g4.stat=!0,p(g4.label,Function)?g4.label("How did you find out about Scrimba?"):g4.label="How did you find out about Scrimba?",g4),this,kKe,"referrer",ZMr,Ga.prototype)}set company_name(e){this.company_name.$set(e,this,_Ke,"company_name")}get company_name(){return this.company_name.$get(this,_Ke,"company_name")}get company_name(){return this[GMr]||y((k4=this.string(),p(k4.stat,Function)?k4.stat():k4.stat=!0,p(k4.label,Function)?k4.label("If so, which company do you work for?"):k4.label="If so, which company do you work for?",k4),this,_Ke,"company_name",GMr,Ga.prototype)}set school_name(e){this.school_name.$set(e,this,xKe,"school_name")}get school_name(){return this.school_name.$get(this,xKe,"school_name")}get school_name(){return this[YMr]||y((_4=this.string(),p(_4.stat,Function)?_4.stat():_4.stat=!0,p(_4.label,Function)?_4.label("If so, what's the name of the school?"):_4.label="If so, what's the name of the school?",_4),this,xKe,"school_name",YMr,Ga.prototype)}set subject(e){this.subject.$set(e,this,vKe,"subject")}get subject(){return this.subject.$get(this,vKe,"subject")}get subject(){return this[XMr]||y((x4=this.string(),p(x4.stat,Function)?x4.stat():x4.stat=!0,p(x4.label,Function)?x4.label("Which subject or degree are you taking?"):x4.label="Which subject or degree are you taking?",x4),this,vKe,"subject",XMr,Ga.prototype)}set pro_developer(e){this.pro_developer.$set(e,this,wKe,"pro_developer")}get pro_developer(){return this.pro_developer.$get(this,wKe,"pro_developer")}get pro_developer(){return this[KMr]||y((v4=this.bool(),p(v4.stat,Function)?v4.stat():v4.stat=!0,p(v4.label,Function)?v4.label("Are you currently getting paid to write code?"):v4.label="Are you currently getting paid to write code?",v4),this,wKe,"pro_developer",KMr,Ga.prototype)}set student(e){this.student.$set(e,this,SKe,"student")}get student(){return this.student.$get(this,SKe,"student")}get student(){return this[JMr]||y((w4=this.bool(),p(w4.stat,Function)?w4.stat():w4.stat=!0,p(w4.label,Function)?w4.label("Are you a student? Including school, university, bootcamps, and more."):w4.label="Are you a student? Including school, university, bootcamps, and more.",w4),this,SKe,"student",JMr,Ga.prototype)}set finished(e){this.finished.$set(e,this,CKe,"finished")}get finished(){return this.finished.$get(this,CKe,"finished")}get finished(){return this[QMr]||y((Fq=this.bool(),p(Fq.stat,Function)?Fq.stat():Fq.stat=!0,Fq),this,CKe,"finished",QMr,Ga.prototype)}set was_hidden(e){this.was_hidden.$set(e,this,EKe,"was_hidden")}get was_hidden(){return this.was_hidden.$get(this,EKe,"was_hidden")}get was_hidden(){return this[eLr]||y((Hq=this.bool(),p(Hq.stat,Function)?Hq.stat():Hq.stat=!0,Hq),this,EKe,"was_hidden",eLr,Ga.prototype)}set openuser(e){this.openuser.$set(e,this,jKe,"openuser")}get openuser(){return this.openuser.$get(this,jKe,"openuser")}get openuser(){return this[tLr]||y((Hj=this.action(),p(Hj.g,Function)?Hj.g(100):Hj.g=100,Hj.callback=function(){return APP.url.open(this.user,{metaKey:!0})},Hj),this,jKe,"openuser",tLr,Ga.prototype)}set setaffiliation(e){this.setaffiliation.$set(e,this,AKe,"setaffiliation")}get setaffiliation(){return this.setaffiliation.$get(this,AKe,"setaffiliation")}get setaffiliation(){return this[rLr]||y((Bj=this.action(),p(Bj.g,Function)?Bj.g(100):Bj.g=100,Bj.callback=async function(){return await this.user.setaffiliation()},Bj),this,AKe,"setaffiliation",rLr,Ga.prototype)}get aslabel(){var e;return(e=this.user)==null?void 0:e.email}opownli(){var He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie;var e,t,r,o,n,i,s,a,u,c=H(),h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe;return h=d=1,(u=c[LKe])||(h=d=0,u=c[LKe]=u=w("section",null,"vo-bf xli vo_",null)),h||(u[Zn]=c._),h||((He=u[zj])==null||He.call(u,c,LKe)),f=this,f===u[ULr]||(u.odata=u[ULr]=f),m=u[PLr]||(u[PLr]={options:[null]}),f=this,f===m.options[0]||(m.options[0]=f,d|=48),h||u.on$("opmenu",m,this),d&32&&(d^=32,(Ue=m[ZLr])==null||Ue.call(m)),m=u[TLr]||(u[TLr]={open:[null]}),m.open[0]=this,h||u.on$("click",m,this),b=g=1,($=u[OLr])||(b=g=0,u[OLr]=$=w("div",u,"vo-bg bullet vo_",null)),x=$[Qi](vhn),_=S=1,(k=x.run(this.oicon(this.user)))||(_=S=0,x.cache(k=M(x.value,$,"vo-bh vo_",null))),k[es]&&(v=k[RLr]||(k[RLr]={options:[null]}),C=this.user,C===v.options[0]||(v.options[0]=C,S|=48),_||k.on$("optip",v,this),S&32&&(S^=32,(Be=v[ZLr])==null||Be.call(v)),(!_||S&2)&&k.flags.reconcile(Vj,"vo-bh vo_"),_||!k.setup||k.setup(S,x),k[zo](S)),k==$[Vj]||!$[Vj]&&($[Vj]=k)[_pe]($)||$[Vj][xpe]($[Vj]=k,$),b||!$.setup||$.setup(g,j),$[zo](g),U=O=1,(P=u[MLr])||(U=O=0,u[MLr]=P=w("section",u,"vo_",null)),(L=P[LLr])||(P[LLr]=L=w("h2",P,"vo-bj vo_",null)),I=this.aslabel,I===P[NLr]&&U||(P[DLr]=L[ni](P[NLr]=I,128,P[DLr])),U||(F=w("hr",P,"vo_",null)),e=null,this.finished&&(N=P[Qi](Shn),V=W=1,(e=N.run(this.ochip(this.$.finished)))||(V=W=0,N.cache(e=M(N.value,null,"vo-bl vo_",null))),V||(e[Zn]=P),e[es]&&((!V||W&2)&&e.flags.reconcile(whn,"vo-bl vo_"),V||!e.setup||e.setup(W,N),e[zo](W))),P[ILr]=P[ni](e,0,P[ILr]),t=null,this.was_hidden&&(z=P[Qi](Ehn),q=Y=1,(t=z.run(this.ochip(this.$.was_hidden)))||(q=Y=0,z.cache(t=M(z.value,null,"vo-bm vo_",null))),q||(t[Zn]=P),t[es]&&((!q||Y&2)&&t.flags.reconcile(Chn,"vo-bm vo_"),q||!t.setup||t.setup(Y,z),t[zo](Y))),P[FLr]=P[ni](t,0,P[FLr]),r=null,this.pro_developer&&(K=P[Qi](Ahn),X=Z=1,(r=K.run(this.ochip(this.$.pro_developer)))||(X=Z=0,K.cache(r=M(K.value,null,"vo-bn vo_",null))),X||(r[Zn]=P),r[es]&&((!X||Z&2)&&r.flags.reconcile(jhn,"vo-bn vo_"),X||!r.setup||r.setup(Z,K),r[zo](Z))),P[HLr]=P[ni](r,0,P[HLr]),o=null,this.student&&(Q=P[Qi](Phn),ee=te=1,(o=Q.run(this.ochip(this.$.student)))||(ee=te=0,Q.cache(o=M(Q.value,null,"vo-bo vo_",null))),ee||(o[Zn]=P),o[es]&&((!ee||te&2)&&o.flags.reconcile(Uhn,"vo-bo vo_"),ee||!o.setup||o.setup(te,Q),o[zo](te))),P[BLr]=P[ni](o,0,P[BLr]),n=null,(ue=(je=this.referrer)==null?void 0:je.trim)!=null&&ue.call(je)&&(ne=P[Qi](Ohn),ie=J=1,(n=ne.run(this.ochip(this.$.referrer)))||(ie=J=0,ne.cache(n=M(ne.value,null,"vo_",null))),ie||(n[Zn]=P),n[es]&&((!ie||J&2)&&n.flags.reconcile(Thn,"vo_"),ie||!n.setup||n.setup(J,ne),n[zo](J))),P[VLr]=P[ni](n,0,P[VLr]),i=null,(Re=(xe=this.school_name)==null?void 0:xe.trim)!=null&&Re.call(xe)&&(me=P[Qi](Mhn),ce=ye=1,(i=me.run(this.ochip(this.$.school_name)))||(ce=ye=0,me.cache(i=M(me.value,null,"vo_",null))),ce||(i[Zn]=P),i[es]&&((!ce||ye&2)&&i.flags.reconcile(Rhn,"vo_"),ce||!i.setup||i.setup(ye,me),i[zo](ye))),P[zLr]=P[ni](i,0,P[zLr]),s=null,(qe=(Oe=this.subject)==null?void 0:Oe.trim)!=null&&qe.call(Oe)&&(we=P[Qi](Dhn),ae=be=1,(s=we.run(this.ochip(this.$.subject)))||(ae=be=0,we.cache(s=M(we.value,null,"vo_",null))),ae||(s[Zn]=P),s[es]&&((!ae||be&2)&&s.flags.reconcile(Lhn,"vo_"),ae||!s.setup||s.setup(be,we),s[zo](be))),P[qLr]=P[ni](s,0,P[qLr]),a=null,(Ie=(Ne=this.company_name)==null?void 0:Ne.trim)!=null&&Ie.call(Ne)&&(_e=P[Qi](Ihn),Ae=ve=1,(a=_e.run(this.ochip(this.$.company_name)))||(Ae=ve=0,_e.cache(a=M(_e.value,null,"vo_",null))),Ae||(a[Zn]=P),a[es]&&((!Ae||ve&2)&&a.flags.reconcile(Nhn,"vo_"),Ae||!a.setup||a.setup(ve,_e),a[zo](ve))),P[WLr]=P[ni](a,0,P[WLr]),U||!P.setup||P.setup(O,Pe),P[zo](O),u}};E(Ga,Whn,"UserSurvey",0);var NKe=Ga;globalThis.UserSurvey=NKe;T();oe();var IKe="/assets/jsmas-snowflake.2STQHNCZ.png";var GLr="/assets/jsmas-header.2OLFGEXP.svg";var YLr="/assets/FolderSimpleStar.XBBKDUHD.svg";var XLr="/assets/FolderNotchOpen.FG6RSXX5.svg";var KLr="/assets/FolderNotchPlus.JAW4LQT7.svg";var JLr="/assets/FolderSimpleLock.GISFWSYK.svg";var QLr="/assets/jsmas-prizes.GXOD6B5R.png";ge(),dt(),$e();var FKe=Symbol("id"),eDr=Symbol(),HKe=Symbol("data"),tDr=Symbol(),BKe=Symbol("course"),rDr=Symbol(),VKe=Symbol("about_text"),oDr=Symbol(),zKe=Symbol("prizes_text"),nDr=Symbol(),qKe=Symbol("how_it_works_text"),iDr=Symbol(),WKe=Symbol("color"),sDr=Symbol(),ZKe=Symbol("calendar"),lDr=Symbol(),GKe=Symbol("how_it_works"),aDr=Symbol(),YKe=Symbol("toc_view"),uDr=Symbol(),XKe=Symbol("pick-course"),cDr=Symbol(),KKe=Symbol("toggle-view"),hDr=Symbol(),JKe=Symbol("watch-intro-scrim"),pDr=Symbol(),S4,QKe,dDr,Wq,Zq,C4,Gq,Yq,Xq,E4,wb,Sb,Cb,eJe=Symbol(),Spe=Symbol(),fDr=Symbol(),mDr=Symbol(),$Dr=Symbol(),yDr=Symbol(),bDr=Symbol(),qj=Symbol(),epn=Symbol(),Wj=Symbol(),tpn=Symbol(),Zj=Symbol(),rpn=Symbol(),Cpe=Symbol(),gDr=Symbol(),kDr=Symbol(),_Dr=Symbol(),xDr=Symbol(),vDr=Symbol(),wDr=Symbol(),SDr=Symbol(),Kq=Symbol(),opn=Symbol(),Epe=Symbol(),CDr=Symbol(),EDr=Symbol(),jDr=Symbol(),ADr=Symbol(),Gj=Symbol(),npn=Symbol(),Yj=Symbol(),ipn=Symbol(),jpe=Symbol(),UDr=Symbol(),Xj=Symbol(),spn=Symbol(),Kj=Symbol(),lpn=Symbol(),Ape=Symbol(),PDr=Symbol(),TDr=Symbol(),apn=le("!&.cert?",globalThis,l=>!l.cert),ODr=Symbol();var tJe=Symbol(),RDr=Symbol(),MDr=Symbol(),LDr=Symbol(),DDr=Symbol(),NDr=Symbol(),IDr=Symbol(),FDr=Symbol(),HDr=Symbol(),BDr=Symbol(),VDr=Symbol(),zDr=Symbol(),qDr=Symbol(),WDr=Symbol(),ZDr=Symbol(),GDr=Symbol(),YDr=Symbol(),XDr=Symbol(),KDr=Symbol(),JDr=Symbol(),QDr=Symbol(),eNr=Symbol(),tNr=Symbol(),rNr=Symbol(),oNr=Symbol(),Upe=Symbol(),nNr=Symbol(),iNr=Symbol(),sNr=Symbol(),Eb=Symbol.for("#getRenderContext"),jl=Symbol.for("##up"),kv=Symbol.for("##register"),jb=Symbol.for("#isRichElement"),ts=Symbol.for("#afterVisit"),Jj=Symbol.for("#getSlot"),Ab=Symbol.for("#placeChild"),Ppe=Symbol.for("#appendChild"),Tpe=Symbol.for("#replaceChild"),Ope=Symbol.for("#insertInto"),Rpe=Symbol.for("#replaceWith"),Mpe=Symbol(),sa=class sa extends Qe(Mpe,AppContent,WithOpenGraph,Editable){constructor(){super(...arguments),super[A]||this[A](),re(this,Mpe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Mpe])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,FKe,"id")}get id(){return this.id.$get(this,FKe,"id")}get id(){return this[eDr]||y((S4=this.key(),p(S4.r,Function)?S4.r(ANYONE):S4.r=ANYONE,p(S4.wxcd,Function)?S4.wxcd(ADMIN):S4.wxcd=ADMIN,S4),this,FKe,"id",eDr,sa.prototype)}set data(e){this.data.$set(e,this,HKe,"data")}get data(){return this.data.$get(this,HKe,"data")}get data(){return this[tDr]||y((QKe=this.pub(),QKe.callback=function(e){return e.add(this.course)},QKe),this,HKe,"data",tDr,sa.prototype)}set course(e){this.course.$set(e,this,BKe,"course")}get course(){return this.course.$get(this,BKe,"course")}get course(){return this[rDr]||y((dDr=this.ref(Course),dDr),this,BKe,"course",rDr,sa.prototype)}set about_text(e){this.about_text.$set(e,this,VKe,"about_text")}get about_text(){return this.about_text.$get(this,VKe,"about_text")}get about_text(){return this[oDr]||y((Wq=this.text(),p(Wq.editable,Function)?Wq.editable():Wq.editable=!0,Wq),this,VKe,"about_text",oDr,sa.prototype)}set prizes_text(e){this.prizes_text.$set(e,this,zKe,"prizes_text")}get prizes_text(){return this.prizes_text.$get(this,zKe,"prizes_text")}get prizes_text(){return this[nDr]||y((Zq=this.text(),p(Zq.editable,Function)?Zq.editable():Zq.editable=!0,Zq),this,zKe,"prizes_text",nDr,sa.prototype)}set how_it_works_text(e){this.how_it_works_text.$set(e,this,qKe,"how_it_works_text")}get how_it_works_text(){return this.how_it_works_text.$get(this,qKe,"how_it_works_text")}get how_it_works_text(){return this[iDr]||y((C4=this.text(),p(C4.md,Function)?C4.md():C4.md=!0,p(C4.editable,Function)?C4.editable():C4.editable=!0,C4),this,qKe,"how_it_works_text",iDr,sa.prototype)}set color(e){this.color.$set(e,this,WKe,"color")}get color(){return this.color.$get(this,WKe,"color")}get color(){return this[sDr]||y((Gq=this.color(),p(Gq.editable,Function)?Gq.editable():Gq.editable=!0,Gq),this,WKe,"color",sDr,sa.prototype)}set calendar(e){this.calendar.$set(e,this,ZKe,"calendar")}get calendar(){return this.calendar.$get(this,ZKe,"calendar")}get calendar(){return this[lDr]||y((Yq=this.embed(),p(Yq.tab,Function)?Yq.tab():Yq.tab=!0,Yq),this,ZKe,"calendar",lDr,sa.prototype)}set how_it_works(e){this.how_it_works.$set(e,this,GKe,"how_it_works")}get how_it_works(){return this.how_it_works.$get(this,GKe,"how_it_works")}get how_it_works(){return this[aDr]||y((Xq=this.embed(),p(Xq.tab,Function)?Xq.tab():Xq.tab=!0,Xq),this,GKe,"how_it_works",aDr,sa.prototype)}set toc_view(e){this.toc_view.$set(e,this,YKe,"toc_view")}get toc_view(){return this.toc_view.$get(this,YKe,"toc_view")}get toc_view(){return this[uDr]||y((E4=this.bool(),p(E4.rw,Function)?E4.rw(ADMIN):E4.rw=ADMIN,p(E4.local,Function)?E4.local():E4.local=!0,E4),this,YKe,"toc_view",uDr,sa.prototype)}set pickcourse(e){this.pickcourse.$set(e,this,XKe,"pickcourse")}get pickcourse(){return this.pickcourse.$get(this,XKe,"pickcourse")}get pickcourse(){return this[cDr]||y((wb=this.action(),p(wb.g,Function)?wb.g(0):wb.g=0,p(wb.rx,Function)?wb.rx(ADMIN):wb.rx=ADMIN,wb.callback=async function(){let e=await OP.pick(Course.all());if(p(e,Course))return this.course=e,this.save()},wb),this,XKe,"pickcourse",cDr,sa.prototype)}set toggleview(e){this.toggleview.$set(e,this,KKe,"toggleview")}get toggleview(){return this.toggleview.$get(this,KKe,"toggleview")}get toggleview(){return this[hDr]||y((Sb=this.action(),p(Sb.g,Function)?Sb.g(0):Sb.g=0,p(Sb.rx,Function)?Sb.rx(ADMIN):Sb.rx=ADMIN,Sb.callback=function(){return this.toc_view=!this.toc_view},Sb),this,KKe,"toggleview",hDr,sa.prototype)}set watchintroscrim(e){this.watchintroscrim.$set(e,this,JKe,"watchintroscrim")}get watchintroscrim(){return this.watchintroscrim.$get(this,JKe,"watchintroscrim")}get watchintroscrim(){return this[pDr]||y((Cb=this.action(),p(Cb.atomic,Function)?Cb.atomic():Cb.atomic=!0,p(Cb.icon,Function)?Cb.icon(!1):Cb.icon=!1,Cb.callback=function(){return APP.open(this.intro)},Cb),this,JKe,"watchintroscrim",pDr,sa.prototype)}get asicon(){return"gift"}get lessons(){var e;return(e=this.course)==null?void 0:e.itemsdeep}get intro(){return this.lessons[0]}opownpage(){var I,F;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L;return ME.admin&&this.toc_view?(o=t[Eb](eJe),i=s=1,(n=o.run(this.opage(this.course)))||(i=s=0,o.cache(n=M(o.value,null,null,null))),i||(n[jl]=t._),i||((I=n[kv])==null||I.call(n,t,eJe)),n[jb]&&(i||t.sym||!n.setup||n.setup(s,t,eJe),t.sym||n[ts](s)),n):(t.this=this,u=c=1,(a=t[Spe])||(u=c=0,a=t[Spe]=a=R("op",null,"zz-ag",null)),u||(a[jl]=t._),u||((F=a[kv])==null||F.call(a,t,Spe)),h=a[Jj]("__",a),u||(a.data__={sub:!0,rich:!0}),d=this.data,d===a[fDr]||(a.data=a[fDr]=d),d=this.color,d===a[mDr]||(a.opaccent=a[mDr]=d),r=null,this.markvisited&&(f=m=1,(r=a[$Dr])||(f=m=0,a[$Dr]=r=R("op-timeout",null,"zz_ag",null)),f||(r[jl]=h),$=3*1e3,$===r[yDr]||(r.timeout=r[yDr]=$),f||r.on$("step",{$_:[function(N,V){return t.this.markvisited(N)}]},this),f||!r.setup||r.setup(m,b),r[ts](m)),a[bDr]=h[Ab](r,0,a[bDr]),g=a[Eb](epn),k=_=1,(x=g.run(this.oel(this,"page-head",this.ctx)))||(k=_=0,g.cache(x=M(g.value,h,"ohead zz_ag",null))),x[jb]&&((!k||_&2)&&x.flags.reconcile(qj,"ohead zz_ag"),k||!x.setup||x.setup(_,g),x[ts](_)),x==a[qj]||!a[qj]&&h[Ppe](a[qj]=x)||(h[Tpe](x,a[qj]),a[qj]=x),S=a[Eb](tpn),C=j=1,(v=S.run(this.oel(this,"page-body",this.ctx)))||(C=j=0,S.cache(v=M(S.value,h,"obody zz_ag",null))),v[jb]&&((!C||j&2)&&v.flags.reconcile(Wj,"obody zz_ag"),C||!v.setup||v.setup(j,S),v[ts](j)),v==a[Wj]||!a[Wj]&&h[Ppe](a[Wj]=v)||(h[Tpe](v,a[Wj]),a[Wj]=v),P=a[Eb](rpn),O=L=1,(U=P.run(this.oel(this,"page-foot",this.ctx)))||(O=L=0,P.cache(U=M(P.value,h,"ofoot zz_ag",null))),U[jb]&&((!O||L&2)&&U.flags.reconcile(Zj,"ofoot zz_ag"),O||!U.setup||U.setup(L,P),U[ts](L)),U==a[Zj]||!a[Zj]&&h[Ppe](a[Zj]=U)||(h[Tpe](U,a[Zj]),a[Zj]=U),u||t.sym||!a.setup||a.setup(c,t,Spe),t.sym||a[ts](c),a)}opownpagehead(){var v;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;return r=o=1,(e=t[Cpe])||(r=o=0,e=t[Cpe]=e=R("op",null,"zz-al",null)),r||(e[jl]=t._),r||((v=e[kv])==null||v.call(e,t,Cpe)),n=e[Jj]("__",e),s=a=1,(i=e[gDr])||(s=a=0,e[gDr]=i=w("img",n,"zz-am",null)),s||(i.src=IKe),c=h=1,(u=e[kDr])||(c=h=0,e[kDr]=u=w("img",n,"zz-an",null)),c||(u.src=IKe),(d=e[_Dr])||(e[_Dr]=d=w("div",n,"zz-ao %text",null)),m=$=1,(f=e[xDr])||(m=$=0,e[xDr]=f=w("img",d,"zz-ap",null)),m||(f.src=GLr),(b=e[vDr])||(e[vDr]=b=w("div",n,"zz-aq %text",null)),g=this.about_text,g===e[SDr]&&r||(e[wDr]=b[Ab](e[SDr]=g,384,e[wDr])),x=e[Eb](opn),_=S=1,(k=x.run(this.obutton(this.watchintroscrim)))||(_=S=0,x.cache(k=M(x.value,n,null,null))),k[jb]&&(_||!k.setup||k.setup(S,x),k[ts](S)),k==e[Kq]||!e[Kq]&&n[Ppe](e[Kq]=k)||(n[Tpe](k,e[Kq]),e[Kq]=k),r||t.sym||!e.setup||e.setup(o,t,Cpe),t.sym||e[ts](o),e}ophow_it_worksbody(){var L;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return t.this=this,o=n=1,(r=t[Epe])||(o=n=0,r=t[Epe]=r=R("op",null,"zz-as",null)),o||(r[jl]=t._),o||((L=r[kv])==null||L.call(r,t,Epe)),i=r[Jj]("__",r),o||(s=w("div",i,"zz-at",null)),u=c=1,(a=r[CDr])||(u=c=0,r[CDr]=a=w("section",s,"zz-au",null)),d=f=1,(h=a[EDr])||(d=f=0,a[EDr]=h=w("div",a,"zz-av %left zz_au",null)),$=b=1,(m=h[jDr])||($=b=0,h[jDr]=m=w("div",h,"zz-aw zz_au",null)),g=this.how_it_works_text,g===h[ADr]||(m.md=h[ADr]=g),x=h[Eb](npn),_=S=1,(k=x.run(this.otile(this.intro)))||(_=S=0,x.cache(k=M(x.value,h,"zz_au",null))),k[jb]&&(_||k.on$("click",{trap:!0,$_:[function(I,F){return APP.open(t.this.intro)}]},this),(!_||S&2)&&k.flags.reconcile(Gj,"zz_au"),_||!k.setup||k.setup(S,x),k[ts](S)),k==h[Gj]||!h[Gj]&&(h[Gj]=k)[Ope](h)||h[Gj][Rpe](h[Gj]=k,h),d||!h.setup||h.setup(f,v),h[ts](f),C=a[Eb](ipn),P=U=1,(j=C.run(this.prizes()))||(P=U=0,C.cache(j=M(C.value,a,"%right zz_au",null))),j[jb]&&((!P||U&2)&&j.flags.reconcile(Yj,"%right zz_au"),P||!j.setup||j.setup(U,C),j[ts](U)),j==a[Yj]||!a[Yj]&&(a[Yj]=j)[Ope](a)||a[Yj][Rpe](a[Yj]=j,a),u||!a.setup||a.setup(c,O),a[ts](c),o||t.sym||!r.setup||r.setup(n,t,Epe),t.sym||r[ts](n),r}opcalendarbody(){var k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;return r=o=1,(e=t[jpe])||(r=o=0,e=t[jpe]=e=R("op",null,"zz-az",null)),r||(e[jl]=t._),r||((k=e[kv])==null||k.call(e,t,jpe)),n=e[Jj]("__",e),r||(i=w("div",n,"zz-ba",null)),a=u=1,(s=e[UDr])||(a=u=0,e[UDr]=s=w("section",i,"zz-bb",null)),c=s[Eb](spn),d=f=1,(h=c.run(this.adventcalendar()))||(d=f=0,c.cache(h=M(c.value,s,"%left zz_bb",null))),h[jb]&&((!d||f&2)&&h.flags.reconcile(Xj,"%left zz_bb"),d||!h.setup||h.setup(f,c),h[ts](f)),h==s[Xj]||!s[Xj]&&(s[Xj]=h)[Ope](s)||s[Xj][Rpe](s[Xj]=h,s),m=s[Eb](lpn),b=g=1,($=m.run(this.prizes()))||(b=g=0,m.cache($=M(m.value,s,"%right zz_bb",null))),$[jb]&&((!b||g&2)&&$.flags.reconcile(Kj,"%right zz_bb"),b||!$.setup||$.setup(g,m),$[ts](g)),$==s[Kj]||!s[Kj]&&(s[Kj]=$)[Ope](s)||s[Kj][Rpe](s[Kj]=$,s),a||!s.setup||s.setup(u,x),s[ts](u),r||t.sym||!e.setup||e.setup(o,t,jpe),t.sym||e[ts](o),e}adventcalendar(){var X,Z,Q;var e=H(),t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;e.this=this,n=i=1,(o=e[Ape])||(n=i=0,o=e[Ape]=o=R("op",null,"zz-be",null)),n||(o[jl]=e._),n||((X=o[kv])==null||X.call(o,e,Ape)),s=o[Jj]("__",o),(a=o[PDr])||(o[PDr]=a=w("div",s,"zz-bf",null)),(u=o[TDr])||(o[TDr]=u=Jt(256,a)),c=0,h=u.$;for(let ee=1;ee<=24;ee++){let te=(Q=(Z=this.lessons)==null?void 0:Z.filter)==null?void 0:Q.call(Z,apn)[ee];f=m=1,(d=h[c])||(f=m=0,h[c]=d=w("div",u,"zz-bg",null)),f||(d[jl]=u),$=d[ODr]||(d[ODr]={if:[null],$_:[function(ne,ie,J){return APP.open(J)},null]}),$.if[0]=te,$.$_[1]=te,f||d.on$("click",$,this),b=te||void 0,b===d[tJe]||(m|=2,d[tJe]=b),te===d[RDr]||(d.data=d[RDr]=te),m&2&&d.flag$("zz-bg "+(d[tJe]?"zz-bh":"")),t=r=null,te!=null&&te.exercisescompleted?(g=x=1,(t=d[MDr])||(g=x=0,d[MDr]=t=w("img",null,"zz_bg",null)),g||(t[jl]=d),g||(t.src=YLr),k=_=1,(r=d[LDr])||(k=_=0,d[LDr]=r=w("div",null,"zz-bj zz_bg",null)),k||(r[jl]=d),pt.context=r[NDr]||(r[NDr]={_:r}),S=String(ee).padStart(2,"0"),pt.context=null,S===r[IDr]&&k||(r[DDr]=r[Ab](r[IDr]=S,384,r[DDr]))):te!=null&&te.exercisesstarted?(v=C=1,(t=d[FDr])||(v=C=0,d[FDr]=t=w("img",null,"zz_bg",null)),v||(t[jl]=d),v||(t.src=XLr),j=P=1,(r=d[HDr])||(j=P=0,d[HDr]=r=w("div",null,"zz-bl zz_bg",null)),j||(r[jl]=d),pt.context=r[VDr]||(r[VDr]={_:r}),U=String(ee).padStart(2,"0"),pt.context=null,U===r[zDr]&&j||(r[BDr]=r[Ab](r[zDr]=U,384,r[BDr]))):te?(O=L=1,(t=d[qDr])||(O=L=0,d[qDr]=t=w("img",null,"zz_bg",null)),O||(t[jl]=d),O||(t.src=KLr),I=F=1,(r=d[WDr])||(I=F=0,d[WDr]=r=w("div",null,"zz-bn zz_bg",null)),I||(r[jl]=d),pt.context=r[GDr]||(r[GDr]={_:r}),N=String(ee).padStart(2,"0"),pt.context=null,N===r[YDr]&&I||(r[ZDr]=r[Ab](r[YDr]=N,384,r[ZDr]))):(V=W=1,(t=d[XDr])||(V=W=0,d[XDr]=t=w("img",null,"zz_bg",null)),V||(t[jl]=d),V||(t.src=JLr),z=q=1,(r=d[KDr])||(z=q=0,d[KDr]=r=w("div",null,"zz-bp zz_bg",null)),z||(r[jl]=d),pt.context=r[QDr]||(r[QDr]={_:r}),Y=String(ee).padStart(2,"0"),pt.context=null,Y===r[eNr]&&z||(r[JDr]=r[Ab](r[eNr]=Y,384,r[JDr]))),d[tNr]=d[Ab](t,0,d[tNr]),d[rNr]=d[Ab](r,0,d[rNr]),(K=d[oNr])||(d[oNr]=K=w("div",d,"zz-bq zz_bg",null)),c++}return u[ts](c),n||e.sym||!o.setup||o.setup(i,e,Ape),e.sym||o[ts](i),o}prizes(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[Upe])||(r=o=0,e=t[Upe]=e=R("op",null,"zz-br",null)),r||(e[jl]=t._),r||((u=e[kv])==null||u.call(e,t,Upe)),n=e[Jj]("__",e),r||(i=w("img",n,null,null)),r||(i.src=QLr),(s=e[nNr])||(e[nNr]=s=w("div",n,"zz-bt",null)),a=this.prizes_text,a===e[sNr]&&r||(e[iNr]=s[Ab](e[sNr]=a,256,e[iNr])),r||t.sym||!e.setup||e.setup(o,t,Upe),t.sym||e[ts](o),e}};E(sa,Mpe,"AppJavascriptmas",80);var rJe=sa;globalThis.AppJavascriptmas=rJe;T();oe();ge(),dt(),an(),$e();var oJe=Symbol("unlock-discord-channel"),lNr=Symbol(),nJe=Symbol("header_image"),aNr=Symbol(),iJe=Symbol("program_text"),uNr=Symbol(),sJe=Symbol("terms_agreed"),cNr=Symbol(),lJe=Symbol("pick-public-afp"),hNr=Symbol(),aJe=Symbol("create-public-afp"),pNr=Symbol(),uJe=Symbol("create-afl"),dNr=Symbol(),cJe=Symbol("scrimbassador"),fNr=Symbol(),hJe=Symbol("join-scrimbassadors"),mNr=Symbol(),pJe=Symbol("_join-scrimbassadors"),$Nr=Symbol(),dJe=Symbol("leave-scrimbassadors"),yNr=Symbol(),bNr=Symbol(),gNr=Symbol(),kNr=Symbol(),_Nr=Symbol(),xNr=Symbol(),vNr=Symbol(),wNr=Symbol(),SNr=Symbol(),CNr=Symbol(),ENr=Symbol(),jNr=Symbol(),ANr=Symbol(),UNr=Symbol(),fJe,j4,Kd,A4,Qj,PNr=Symbol(),TNr=Symbol(),eA,Ub,Lpe=Symbol(),ONr=Symbol(),RNr=Symbol(),MNr=Symbol(),LNr=Symbol(),DNr=Symbol(),NNr=Symbol(),INr=Symbol(),FNr=Symbol(),HNr=Symbol(),BNr=Symbol(),VNr=Symbol(),zNr=Symbol(),qNr=Symbol(),WNr=Symbol(),ZNr=Symbol(),GNr=Symbol(),tA=Symbol(),upn=Symbol(),YNr=Symbol(),rA=Symbol(),cpn=Symbol(),XNr=Symbol(),KNr=Symbol(),JNr=Symbol(),QNr=Symbol(),eIr=Symbol(),tIr=Symbol(),oA=Symbol(),hpn=Symbol(),rIr=Symbol(),nA=Symbol(),ppn=Symbol(),iA=Symbol(),dpn=Symbol(),oIr=Symbol(),U4,Ya,Xa,Ui,fpn=Symbol.for("#beforeReconcile"),s2=Symbol.for("#placeChild"),i2=Symbol.for("##up"),bs=Symbol.for("#afterVisit"),mpn=Symbol.for("#afterReconcile"),nIr=Symbol.for("##register"),$pn=Symbol.for("#getSlot"),Dpe=Symbol.for("#appendChild"),Jq=Symbol.for("#getRenderContext"),Qq=Symbol.for("#isRichElement"),eW=Symbol.for("#insertInto"),tW=Symbol.for("#replaceWith");no.addSelectors([".cdd-al"],"transition");no.addSelectors([".cdd-al"],"_off_sized");var ypn=[{question:"How do I create an affiliate link?",answer:`It's nice and simple to create a Scrimba affiliate link. Just follow these two steps:

1. Find your unique referral ID by opening your Profile page and clicking the Affiliate tab (this tab is only available once you join the program). From this tab, you will see your dashboard with your affiliate link ID at the top.

2. Add the ID to the end of any Scrimba link that you wish to share. It will be tracked back to your account.`},{question:"How does the referral process work?",answer:`When a new user signs up from your link we connect the action to your account. Once they upgrade to a learning subscription, you get the sales commission.

Unlike most affiliate programs, our system is not cookie-based to track conversions, so it's adblock-proof! This means you'll get more attribution back to you.`},{question:"Is there a time limit from when they click my link?",answer:"No, there's no time limit. Once someone clicks your link and creates an account, you'll earn commission whenever they upgrade to a paid learning subscription, whether that's immediately, next week, or even months later."},{question:"What if the user subscribes but cancels in the refund period?",answer:"If the user cancels their subscription during the free refund period you will see this indicated in the dashboard besides their subscription and sales commission will not be earned."},{question:"How do I know when a user I referred has subscribed?",answer:"You can track all clicks of your links, free account signups, and converted subscribers in the new Affiliate tab on your profile page."},{question:"When do I get paid?",answer:`To allow for user refunds, you will be paid your commission a month in arrears of the subscriber's payment. For example, if the subscription begins in June, you can expect commission payment by the end of July (as long as your total commission for all subscriber sales exceeds $50).

If the referred subscriber is on a monthly plan, you will continue to earn 30% from their next 11 payments. To manage transfer fees, commission payment will not be paid until the total sum for the transaction is at least $50. If, by the end of the calendar year, your sales commission is still under the payment threshold of $50, the outstanding amount will be paid.`},{question:"How do I get paid?",answer:"We support Paypal or Wise.com accounts for payouts. We do not support any other bank or payment method at this time. You can add your payout preference in the dashboard."},{question:"Can I share my link on Discord?",answer:"You are not permitted to share your affiliate link indiscriminately on Discord servers, Slack workspaces, or similar community platforms where such promotion would be considered spam or unwelcome. Sharing your affiliate link in private, one-on-one conversations is acceptable, but mass posting or spamming in public channels is prohibited."},{question:"Do I need a Scrimba Pro subscription to join the affiliate program?",answer:"No, any Scrimba user can join the program and start sharing affiliate links. Please remember that self-referral is not permitted."}],bpn=Symbol(),Ipe=class Ipe extends de{render(){var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return o=this,o[fpn](),n=i=1,o[bNr]===1||(n=i=0,o[bNr]=1),(!n||i&2)&&o.flagSelf$("cdd-af"),a=u=1,(s=o[gNr])||(a=u=0,o[gNr]=s=w("div",o,"cdd-ag %top cdd_af",null)),a||s.on$("click",{$_:[function(C,j){return e.active^=1}]},this),(c=o[kNr])||(o[kNr]=c=w("h3",s,"cdd-ah cdd_af",null)),h=this.data.question,h===o[xNr]&&a||(o[_Nr]=c[s2](o[xNr]=h,256,o[_Nr])),a||(d=w("div",s,"cdd-ai cdd_af",null)),t=null,this.active?(f=m=1,(t=o[vNr])||(f=m=0,o[vNr]=t=R("op-icon",null,"xl cdd_af",null)),f||(t[i2]=s),f||(t.data="minus"),f||!t.setup||t.setup(m,$),t[bs](m)):(b=g=1,(t=o[wNr])||(b=g=0,o[wNr]=t=R("op-icon",null,"xl cdd_af",null)),b||(t[i2]=s),b||(t.data="plus"),b||!t.setup||t.setup(g,x),t[bs](g)),o[SNr]=s[s2](t,0,o[SNr]),r=null,this.active&&(k=_=1,(r=o[CNr])||(k=_=0,o[CNr]=r=w("div",null,"cdd-al %answer cdd_af",null)),k||(r[i2]=o),k||(r.ease="ease"),(S=r[ENr])||(r[ENr]=S=w("p",r,"cdd-am cdd_af",null)),v=this.data.answer,v===r[ANr]&&k||(r[jNr]=S[s2](r[ANr]=v,256,r[jNr]))),o[UNr]=o[s2](r,0,o[UNr]),o[mpn](i),o}};E(Ipe,bpn,"Faq",2),pe("faq-cdd-an",Ipe,{name:"Faq"});var mJe=Ipe,Npe=Symbol(),n2=class n2 extends Qe(Npe,AppContent,Editable,WithOpenGraph){constructor(){super(...arguments),super[A]||this[A](),re(this,Npe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Npe])==null||o.call(this,...arguments)}set unlockdiscordchannel(e){this.unlockdiscordchannel.$set(e,this,oJe,"unlockdiscordchannel")}get unlockdiscordchannel(){return this.unlockdiscordchannel.$get(this,oJe,"unlockdiscordchannel")}get unlockdiscordchannel(){return this[lNr]||y((fJe=this.action(),fJe.callback=function(){return window.open("https://discord.com/channels/684009642984341525/1292835429766270976/1292837172856098847","_blank")},fJe),this,oJe,"unlockdiscordchannel",lNr,n2.prototype)}set header_image(e){this.header_image.$set(e,this,nJe,"header_image")}get header_image(){return this.header_image.$get(this,nJe,"header_image")}get header_image(){return this[aNr]||y((j4=this.image(),p(j4.editable,Function)?j4.editable():j4.editable=!0,p(j4.rw,Function)?j4.rw(ADMIN):j4.rw=ADMIN,j4),this,nJe,"header_image",aNr,n2.prototype)}set program_text(e){this.program_text.$set(e,this,iJe,"program_text")}get program_text(){return this.program_text.$get(this,iJe,"program_text")}get program_text(){return this[uNr]||y((Kd=this.text(),p(Kd.md,Function)?Kd.md():Kd.md=!0,p(Kd.editable,Function)?Kd.editable():Kd.editable=!0,p(Kd.rw,Function)?Kd.rw(ADMIN):Kd.rw=ADMIN,Kd),this,iJe,"program_text",uNr,n2.prototype)}set terms_agreed(e){this.terms_agreed.$set(e,this,sJe,"terms_agreed")}get terms_agreed(){return this.terms_agreed.$get(this,sJe,"terms_agreed")}get terms_agreed(){return this[cNr]||y((A4=this.bool(),p(A4.session,Function)?A4.session():A4.session=!0,p(A4.rw,Function)?A4.rw(ADMIN):A4.rw=ADMIN,A4),this,sJe,"terms_agreed",cNr,n2.prototype)}set pickpublicafp(e){this.pickpublicafp.$set(e,this,lJe,"pickpublicafp")}get pickpublicafp(){return this.pickpublicafp.$get(this,lJe,"pickpublicafp")}get pickpublicafp(){return this[hNr]||y((Qj=this.action(),p(Qj.rx,Function)?Qj.rx(ADMIN):Qj.rx=ADMIN,Qj.callback=async function(){var s;var e,t={},r,o;await APP.afp;let n=await AffiliateProgram.all(),i=await(r=o=0,e=e=R("op-palette",null,null,null),r||(e[i2]=t._),r||((s=e[nIr])==null||s.call(e,t,PNr)),r||(e.popup__={picker:!0,autofocus:!0}),r||(e.popup="popup"),n===e[TNr]||(e.items=e[TNr]=n),r||t.sym||!e.setup||e.setup(o,t,PNr),t.sym||e[bs](o),e);if(i)return APP.afp=i,await APP.save(),OP.toast("Public affiliate program set to "+i.name)},Qj),this,lJe,"pickpublicafp",hNr,n2.prototype)}set createpublicafp(e){this.createpublicafp.$set(e,this,aJe,"createpublicafp")}get createpublicafp(){return this.createpublicafp.$get(this,aJe,"createpublicafp")}get createpublicafp(){return this[pNr]||y((eA=this.action(),p(eA.rx,Function)?eA.rx(ADMIN):eA.rx=ADMIN,eA.callback=async function(){let e=await AffiliateProgram.create({owner:ME,name:"Scrimbassadors Affiliate Program",duration:"once",revshare:30});return await APP.update({afp:e}),OP.toast("Created and set public affiliate program")},eA),this,aJe,"createpublicafp",pNr,n2.prototype)}set createafl(e){this.createafl.$set(e,this,uJe,"createafl")}get createafl(){return this.createafl.$get(this,uJe,"createafl")}get createafl(){return this[dNr]||y((Ub=this.action(),p(Ub.if,Function)?Ub.if(function(){return APP.afp}):Ub.if=function(){return APP.afp},p(Ub.rx,Function)?Ub.rx(ADMIN):Ub.rx=ADMIN,Ub.callback=async function(){let e=await AffiliateLink.create({owner:ME,ref:String(ME.id),duration:"repeating",revshare:APP.afp.revshare});return await APP.afp.create_affiliate_link(ME,ME.id)},Ub),this,uJe,"createafl",dNr,n2.prototype)}get title(){return"Scrimbassadors Affiliate Program"}opownpagebody(){var At;var e=H(),t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt;e.this=this,n=i=1,(o=e[Lpe])||(n=i=0,o=e[Lpe]=o=R("op",null,null,null)),n||(o[i2]=e._),n||((At=o[nIr])==null||At.call(o,e,Lpe)),s=o[$pn]("__",o),n||(a=w("section",s,"osection",null)),(u=o[ONr])||(o[ONr]=u=w("article",a,"cdd-ar",null)),(c=o[RNr])||(o[RNr]=c=w("div",u,"cdd-as %intro cdd_ar",null)),(h=o[MNr])||(o[MNr]=h=w("div",c,"cdd-at cdd_ar",null)),f=m=1,(d=o[LNr])||(f=m=0,o[LNr]=d=R("op-icon",h,"xxl cdd_ar",null)),f||(d.data="heart"),f||!d.setup||d.setup(m,$),d[bs](m),f||h[Dpe](d),n||(b=w("h3",h,"cdd_ar","Refer friends and earn")),n||(g=w("p",c,"cdd_ar","Love Scrimba and think it can be useful for someone you know? Great! With our new Scrimbassadors Affiliate Program, you can invite your friends through a unique link that rewards you both. Win Win!")),(x=o[DNr])||(o[DNr]=x=w("div",u,"cdd-ax %cards cdd_ar",null)),n||(k=w("div",x,"%left cdd_ax cdd_ar",null)),S=v=1,(_=o[NNr])||(S=v=0,o[NNr]=_=R("op-icon",k,"xl cdd_ax cdd_ar",null)),S||(_.data="ticketcontext"),S||!_.setup||_.setup(v,C),_[bs](v),S||k[Dpe](_),n||(j=w("p",k,"cdd_ax cdd_ar","They get an extra 20% off the learner subscription plan (Currently called Pro)")),n||(P=w("div",x,"%right cdd_ax cdd_ar",null)),O=L=1,(U=o[INr])||(O=L=0,o[INr]=U=R("op-icon",P,"xl cdd_ax cdd_ar",null)),O||(U.data="subs"),O||!U.setup||U.setup(L,I),U[bs](L),O||P[Dpe](U),n||(F=w("p",P,"cdd_ax cdd_ar","You get 30% sales commission from every payment during their first 12 months as a subscriber. ")),t=null,ME.afp?(N=V=1,(t=o[FNr])||(N=V=0,o[FNr]=t=w("div",null,"%registered cdd_ar",null)),N||(t[i2]=u),(W=t[HNr])||(t[HNr]=W=w("span",t,"cdd-bf cdd_ar",null)),N||W[s2]("By participating you accept the "),N||(z=w("a",W,"cdd_ar","Affiliate Terms")),N||(z.href="/affiliate"),N||(z.target="_blank"),N||(q=w("div",t,"cdd-bh %linkbox cdd_ar",null)),N||(Y=w("label",q,"cdd-bi cdd_ar","Your affiliate link")),N||(K=w("div",q,"cdd-bj cdd_ar",null)),Z=Q=1,(X=t[BNr])||(Z=Q=0,t[BNr]=X=w("span",K,"cdd-bk cdd_ar",null)),Z||X.on$("press",{stop:!0,trap:!0,prevent:!0,$_:[function(Ut,kt){return OP.copystr(OP.origin+("/?via="+OP.user.id))}]},this),ee=OP.origin,ee===t[zNr]&&Z||(t[VNr]=X[s2](t[zNr]=ee,128,t[VNr])),Z||X[s2]("?via="),ee=OP.user.id,ee===t[WNr]&&Z||(t[qNr]=X[s2](t[WNr]=ee,256,t[qNr])),ne=ie=1,(te=t[ZNr])||(ne=ie=0,t[ZNr]=te=R("op-button",K,"square cdd_ar",null)),ne||(te.label="Copy"),ne||(te.icon="clipboard"),ne||te.on$("click",{$_:[function(Ut,kt){return OP.copystr(OP.origin+("/?via="+OP.user.id))}]},this),ne||!te.setup||te.setup(ie,J),te[bs](ie),ne||K[Dpe](te)):OP.user?(ve=Pe=1,(t=o[YNr])||(ve=Pe=0,o[YNr]=t=w("div",null,"cdd-bp %join cdd_ar",null)),ve||(t[i2]=u),ve||(He=w("p",t,"cdd_ar","By clicking the button below, you agree to abide by the Programs Terms of Service listed on this page.")),Ue=t[Jq](cpn),je=ue=1,(Be=Ue.run(this.obutton(ME.joinscrimbassadors)))||(je=ue=0,Ue.cache(Be=M(Ue.value,t,"cdd_ar",null))),Be[Qq]&&(je||(Be.label="Join Program Now"),je||(Be.icon=!1),(!je||ue&2)&&Be.flags.reconcile(rA,"cdd_ar"),je||!Be.setup||Be.setup(ue,Ue),Be[bs](ue)),Be==t[rA]||!t[rA]&&(t[rA]=Be)[eW](t)||t[rA][tW](t[rA]=Be,t),ve||!t.setup||t.setup(Pe,xe),t[bs](Pe)):(me=ce=1,(t=o[GNr])||(me=ce=0,o[GNr]=t=w("div",null,"cdd-bm %sign-in cdd_ar",null)),me||(t[i2]=u),me||(ye=w("p",t,"cdd_ar","Sign in to join the scrimbassadors program!")),we=t[Jq](upn),be=_e=1,(ae=we.run(this.obutton(APP.signin)))||(be=_e=0,we.cache(ae=M(we.value,t,"cdd_ar",null))),ae[Qq]&&(be||(ae.icon=!1),(!be||_e&2)&&ae.flags.reconcile(tA,"cdd_ar"),be||!ae.setup||ae.setup(_e,we),ae[bs](_e)),ae==t[tA]||!t[tA]&&(t[tA]=ae)[eW](t)||t[tA][tW](t[tA]=ae,t),me||!t.setup||t.setup(ce,Ae),t[bs](ce)),o[XNr]=u[s2](t,0,o[XNr]),n||(Re=w("hr",u,"cdd_ar",null)),(Oe=o[KNr])||(o[KNr]=Oe=w("div",u,"cdd-bt %faqs cdd_ar",null)),n||(qe=w("h3",Oe,"cdd_ar","Frequently Asked Questions")),(Ne=o[JNr])||(o[JNr]=Ne=w("div",Oe,"cdd-bv %items cdd_ar",null)),(Ie=o[QNr])||(o[QNr]=Ie=Jt(256,Ne)),Ke=0,Te=Ie.$;for(let Ut=0,kt=B(ypn),_t=kt.length;Ut<_t;Ut++){let xt=kt[Ut];Ze=et=1,(Ce=Te[Ke])||(Ze=et=0,Te[Ke]=Ce=R(mJe,Ie,"cdd_ar",null)),Ze||(Ce[i2]=Ie),xt===Ce[eIr]||(Ce.data=Ce[eIr]=xt),Ze||!Ce.setup||Ce.setup(et,ft),Ce[bs](et),Ke++}return Ie[bs](Ke),r=null,ME!=null&&ME.admin&&(Ge=Je=1,(r=o[tIr])||(Ge=Je=0,o[tIr]=r=w("div",null,"cdd-bx box cdd_ar",null)),Ge||(r[i2]=u),Ge||(ct=w("h4",r,"cdd_ar","Admin actions")),rt=r[Jq](hpn),it=tt=1,($t=rt.run(this.ostats(APP.afp)))||(it=tt=0,rt.cache($t=M(rt.value,r,"cdd_ar",null))),$t[Qq]&&((!it||tt&2)&&$t.flags.reconcile(oA,"cdd_ar"),it||!$t.setup||$t.setup(tt,rt),$t[bs](tt)),$t==r[oA]||!r[oA]&&(r[oA]=$t)[eW](r)||r[oA][tW](r[oA]=$t,r),at=st=1,(ze=r[rIr])||(at=st=0,r[rIr]=ze=w("div",r,"cdd-ca cdd_ar",null)),yt=ze[Jq](ppn),nt=Ct=1,(vt=yt.run(this.obutton(this.pickpublicafp)))||(nt=Ct=0,yt.cache(vt=M(yt.value,ze,"cdd_ar",null))),vt[Qq]&&(nt||(vt.label="Pick Public Program"),(!nt||Ct&2)&&vt.flags.reconcile(nA,"cdd_ar"),nt||!vt.setup||vt.setup(Ct,yt),vt[bs](Ct)),vt==ze[nA]||!ze[nA]&&(ze[nA]=vt)[eW](ze)||ze[nA][tW](ze[nA]=vt,ze),jt=ze[Jq](dpn),Xe=ht=1,(bt=jt.run(this.obutton(this.createpublicafp)))||(Xe=ht=0,jt.cache(bt=M(jt.value,ze,"cdd_ar",null))),bt[Qq]&&(Xe||(bt.label="Create and set Program"),(!Xe||ht&2)&&bt.flags.reconcile(iA,"cdd_ar"),Xe||!bt.setup||bt.setup(ht,jt),bt[bs](ht)),bt==ze[iA]||!ze[iA]&&(ze[iA]=bt)[eW](ze)||ze[iA][tW](ze[iA]=bt,ze),at||!ze.setup||ze.setup(st,Dt),ze[bs](st),Ge||!r.setup||r.setup(Je,mt),r[bs](Je)),o[oIr]=u[s2](r,0,o[oIr]),n||e.sym||!o.setup||o.setup(i,e,Lpe),e.sym||o[bs](i),o}};E(n2,Npe,"AppScrimbassadors",80);var $Je=n2;globalThis.AppScrimbassadors=$Je;var gpn=Symbol(),yJe=class yJe{get scrimbassador(){return!!this.scrimbassador}set scrimbassador(e){this.scrimbassador.$set(e,this,cJe,"scrimbassador")}get scrimbassador(){return this.scrimbassador.$get(this,cJe,"scrimbassador")}get scrimbassador(){return this[fNr]||y((U4=this.bool(),p(U4.editable,Function)?U4.editable():U4.editable=!0,p(U4.w,Function)?U4.w(ADMIN):U4.w=ADMIN,U4),this,cJe,"scrimbassador",fNr,User.prototype)}set joinscrimbassadors(e){this.joinscrimbassadors.$set(e,this,hJe,"joinscrimbassadors")}get joinscrimbassadors(){return this.joinscrimbassadors.$get(this,hJe,"joinscrimbassadors")}get joinscrimbassadors(){return this[mNr]||y((Ya=this.action(),p(Ya.if,Function)?Ya.if(function(){return APP.afp&&!OP.user.afp}):Ya.if=function(){return APP.afp&&!OP.user.afp},p(Ya.label,Function)?Ya.label("Join Affiliate Program"):Ya.label="Join Affiliate Program",p(Ya.icon,Function)?Ya.icon("joinscrimbassador"):Ya.icon="joinscrimbassador",p(Ya.rx,Function)?Ya.rx(OWNER|ADMIN):Ya.rx=OWNER|ADMIN,Ya.callback=async function(){return await this._joinscrimbassadors(),Xt.go("/"+OP.user+":affiliate"),OP.toast("Congratulations on joining our affiliate program!")},Ya),this,hJe,"joinscrimbassadors",mNr,User.prototype)}set _joinscrimbassadors(e){this._joinscrimbassadors.$set(e,this,pJe,"_joinscrimbassadors")}get _joinscrimbassadors(){return this._joinscrimbassadors.$get(this,pJe,"_joinscrimbassadors")}get _joinscrimbassadors(){return this[$Nr]||y((Xa=this.action(),p(Xa.label,Function)?Xa.label("Join Affiliate Program"):Xa.label="Join Affiliate Program",p(Xa.icon,Function)?Xa.icon("joinscrimbassador"):Xa.icon="joinscrimbassador",p(Xa.rx,Function)?Xa.rx(OWNER|ADMIN):Xa.rx=OWNER|ADMIN,p(Xa.rpc,Function)?Xa.rpc():Xa.rpc=!0,Xa.callback=!1,Xa),this,pJe,"_joinscrimbassadors",$Nr,User.prototype)}set leavescrimbassadors(e){this.leavescrimbassadors.$set(e,this,dJe,"leavescrimbassadors")}get leavescrimbassadors(){return this.leavescrimbassadors.$get(this,dJe,"leavescrimbassadors")}get leavescrimbassadors(){return this[yNr]||y((Ui=this.action(),p(Ui.rx,Function)?Ui.rx(ADMIN):Ui.rx=ADMIN,p(Ui.label,Function)?Ui.label("Leave Program"):Ui.label="Leave Program",p(Ui.if,Function)?Ui.if(function(){return this.scrimbassador}):Ui.if=function(){return this.scrimbassador},p(Ui.icon,Function)?Ui.icon("leavescrimbassador"):Ui.icon="leavescrimbassador",p(Ui.rx,Function)?Ui.rx(OWNER|ADMIN):Ui.rx=OWNER|ADMIN,p(Ui.rpc,Function)?Ui.rpc():Ui.rpc=!0,Ui.callback=!1,Ui),this,dJe,"leavescrimbassadors",yNr,User.prototype)}};E(yJe,gpn,"User",1,User);var iIr=yJe;T();oe();$e();var bJe=Symbol("start"),sIr=Symbol(),gJe=Symbol("span"),lIr=Symbol(),kJe=Symbol("dur"),aIr=Symbol(),_Je=Symbol("rollback"),uIr=Symbol(),xJe=Symbol("remove"),cIr=Symbol(),vJe=Symbol("src"),hIr=Symbol(),wJe=Symbol("overlaid"),pIr=Symbol(),SJe=Symbol("o0"),dIr=Symbol(),CJe=Symbol("o1"),fIr=Symbol(),EJe=Symbol("t0"),mIr=Symbol(),jJe=Symbol("t1"),$Ir=Symbol(),AJe=Symbol("skip"),yIr=Symbol(),UJe=Symbol("cue"),bIr=Symbol(),PJe=Symbol("trim"),gIr=Symbol(),TJe=Symbol("s0"),kIr=Symbol(),OJe=Symbol("s1"),_Ir=Symbol(),RJe=Symbol("timeBased"),xIr=Symbol(),MJe=Symbol("cut"),vIr=Symbol(),LJe=Symbol("speedup"),wIr=Symbol(),DJe=Symbol("mute"),SIr=Symbol(),rW,oW,nW,iW,sA,sW,lW,aW,uW,cW,hW,pW,dW,fW,mW,$W,yW,lA,aA,uA,Fpe=Symbol(),CIr=Symbol(),EIr=Symbol(),bW=Symbol.for("#anchor"),kpn=Symbol.for("#focus"),_pn=Symbol.for("#recording"),xpn=Symbol.for("#studio"),vpn=Symbol.for("##up"),wpn=Symbol.for("##register"),Spn=Symbol.for("#getSlot"),jIr=Symbol.for("#placeChild"),Cpn=Symbol.for("#afterVisit"),Epn=Symbol(),P4=class P4 extends OPTuple{set start(e){this.start.$set(e,this,bJe,"start")}get start(){return this.start.$get(this,bJe,"start")}get start(){return this[sIr]||y((rW=this.int(),p(rW.at,Function)?rW.at(0):rW.at=0,rW),this,bJe,"start",sIr,P4.prototype)}set span(e){this.span.$set(e,this,gJe,"span")}get span(){return this.span.$get(this,gJe,"span")}get span(){return this[lIr]||y((oW=this.int(),p(oW.at,Function)?oW.at(1):oW.at=1,oW),this,gJe,"span",lIr,P4.prototype)}set dur(e){this.dur.$set(e,this,kJe,"dur")}get dur(){return this.dur.$get(this,kJe,"dur")}get dur(){return this[aIr]||y((nW=this.int(),p(nW.at,Function)?nW.at(2):nW.at=2,nW),this,kJe,"dur",aIr,P4.prototype)}get kind(){return this.constructor.name}get data(){return this}get offset(){return this.start}get end(){return this.start+this.span}get startOffset(){return this.start}get endOffset(){return this.end}get startTime(){return this.start}get endTime(){return this.end}get duration(){return this.dur||0}set duration(e){this.dur=e}anchor(e){return this[bW]=e,this}focus(e){return this[kpn]=e,this[bW]&&(e>this[bW]?(this.left=this[bW],this.right=e):(this.left=e,this.right=this[bW])),this}moveBy(e=0){return this.start=Math.round(this.start+e),this}moveTo(e,t=0){return this.start=Math.round(e-this.span*t),this}resizeBy(e,t=0){let r=this.start,o=this.span*t,n=this.span,i=n+e,s=(i-n)*t;return this.start=this.start-s,this.span=i,this}resizeTo(e,t){let r=e-this.span;return r!=0&&this.resizeBy(r,t),this}ensureInside(e,t,r=!1){return this.span>t-e?(this.left=e,this.right=t,this):(this.start<e?this.start=e:this.end>t&&(this.start=t-this.span),this)}get left(){return this.start}get right(){return this.end}set left(e){if(this.start!=e){let t=this.start-e;this.start=e,this.span+=t}}set right(e){this.span=Math.max(0,e-this.start)}contains(e){return typeof e=="number"?e>=this.start&&this.end>=e:p(e,P4)?e.start>=this.start&&this.end>=e.end:!1}containsOffset(e){return typeof e=="number"?e>=this.startOffset&&this.endOffset>=e:p(e,P4)?e.startOffset>=this.startOffset&&this.endOffset>=e.endOffset:!1}};E(P4,Epn,"Cue",0);var hA=P4;globalThis.Cue=hA;var jpn=Symbol(),gW=class gW extends hA{set rollback(e){this.rollback.$set(e,this,_Je,"rollback")}get rollback(){return this.rollback.$get(this,_Je,"rollback")}get rollback(){return this[uIr]||y((iW=this.bit(0),p(iW.at,Function)?iW.at(3):iW.at=3,iW),this,_Je,"rollback",uIr,gW.prototype)}get kind(){return this.cut?"cut":this.speedup?"speedup":"mute"}get cut(){return this.duration==0}get speedup(){return this.duration>0}get mute(){return this.duration==-1}set remove(e){this.remove.$set(e,this,xJe,"remove")}get remove(){return this.remove.$get(this,xJe,"remove")}get remove(){return this[cIr]||y((sA=this.action(),p(sA.g,Function)?sA.g(0):sA.g=0,sA.callback=function(){return this.$remove()},sA),this,xJe,"remove",cIr,gW.prototype)}};E(gW,jpn,"TimeCue",0);var _v=gW;globalThis.TimeCue=_v;var Apn=Symbol(),kW=class kW extends hA{set src(e){this.src.$set(e,this,vJe,"src")}get src(){return this.src.$get(this,vJe,"src")}get src(){return this[hIr]||y((sW=this.ref([MediaStreamRecording,ScrimAudio]),p(sW.at,Function)?sW.at(3):sW.at=3,sW),this,vJe,"src",hIr,kW.prototype)}set overlaid(e){this.overlaid.$set(e,this,wJe,"overlaid")}get overlaid(){return this.overlaid.$get(this,wJe,"overlaid")}get overlaid(){return this[pIr]||y((lW=this.int(),p(lW.at,Function)?lW.at(4):lW.at=4,lW),this,wJe,"overlaid",pIr,kW.prototype)}async stop(){var t;let e=(t=this.src)==null?void 0:t[_pn];if(e){let r=await e.stop();return p(r,Error)?(console.log("error stopping recording!",r),OP.toast("Recording broken. Sorry for the inconvenience, check error in the logs",!1)):this.span=this.dur=e.duration}}};E(kW,Apn,"AudioCue",0);var Hpe=kW;globalThis.AudioCue=Hpe;var Upn=Symbol(),Dp=class Dp extends OPTuple{set o0(e){this.o0.$set(e,this,SJe,"o0")}get o0(){return this.o0.$get(this,SJe,"o0")}get o0(){return this[dIr]||y((aW=this.int(),p(aW.at,Function)?aW.at(0):aW.at=0,aW),this,SJe,"o0",dIr,Dp.prototype)}set o1(e){this.o1.$set(e,this,CJe,"o1")}get o1(){return this.o1.$get(this,CJe,"o1")}get o1(){return this[fIr]||y((uW=this.int(),p(uW.at,Function)?uW.at(1):uW.at=1,uW),this,CJe,"o1",fIr,Dp.prototype)}set t0(e){this.t0.$set(e,this,EJe,"t0")}get t0(){return this.t0.$get(this,EJe,"t0")}get t0(){return this[mIr]||y((cW=this.int(),p(cW.at,Function)?cW.at(2):cW.at=2,cW),this,EJe,"t0",mIr,Dp.prototype)}set t1(e){this.t1.$set(e,this,jJe,"t1")}get t1(){return this.t1.$get(this,jJe,"t1")}get t1(){return this[$Ir]||y((hW=this.int(),p(hW.at,Function)?hW.at(3):hW.at=3,hW),this,jJe,"t1",$Ir,Dp.prototype)}set skip(e){this.skip.$set(e,this,AJe,"skip")}get skip(){return this.skip.$get(this,AJe,"skip")}get skip(){return this[yIr]||y((pW=this.int(),p(pW.at,Function)?pW.at(4):pW.at=4,pW),this,AJe,"skip",yIr,Dp.prototype)}set cue(e){this.cue.$set(e,this,UJe,"cue")}get cue(){return this.cue.$get(this,UJe,"cue")}get cue(){return this[bIr]||y((dW=this.any(Hpe),p(dW.at,Function)?dW.at(5):dW.at=5,dW),this,UJe,"cue",bIr,Dp.prototype)}set trim(e){this.trim.$set(e,this,PJe,"trim")}get trim(){return this.trim.$get(this,PJe,"trim")}get trim(){return this[gIr]||y((fW=this.any(_v),p(fW.at,Function)?fW.at(6):fW.at=6,fW),this,PJe,"trim",gIr,Dp.prototype)}set s0(e){this.s0.$set(e,this,TJe,"s0")}get s0(){return this.s0.$get(this,TJe,"s0")}get s0(){return this[kIr]||y((mW=this.int(),p(mW.at,Function)?mW.at(7):mW.at=7,mW),this,TJe,"s0",kIr,Dp.prototype)}set s1(e){this.s1.$set(e,this,OJe,"s1")}get s1(){return this.s1.$get(this,OJe,"s1")}get s1(){return this[_Ir]||y(($W=this.int(),p($W.at,Function)?$W.at(8):$W.at=8,$W),this,OJe,"s1",_Ir,Dp.prototype)}get dur(){return this.t1-this.t0}get src(){return this.cue.src}get pbr(){return(this.o1-this.o0)/(this.t1-this.t0)}};E(Dp,Upn,"AudioSlice",0);var NJe=Dp;globalThis.AudioSlice=NJe;var Ppn=Symbol(),Bpe=class Bpe extends hA{get studio(){return this[xpn]||this.$up}get cues(){return this.studio.cues}get tl(){return this.cues.tl}get timed(){return!0}get startOffset(){return this.timed?this.tl.valToOffset(this.start):this.start}get endOffset(){return this.timed?this.tl.valToOffset(this.end):this.end}get startTime(){return this.tl.offsetToTime(this.startOffset)}get endTime(){return this.tl.offsetToTime(this.endOffset)}set startTime(e){let t=this.tl.timeToOffset(e);this.start=this.timed?this.tl.offsetToVal(t):this.tl.timeToOffset(e)}set endTime(e){let t=this.tl.timeToOffset(e);this.end=this.timed?this.tl.offsetToVal(t):this.tl.timeToOffset(e)}get spanTime(){return this.endTime-this.startTime}get spanOffset(){return this.endOffset-this.startOffset}set startOffset(e){this.start=this.timed?this.tl.offsetToVal(e):e}set endOffset(e){this.end=this.timed?this.tl.offsetToVal(e):e}set leftOffset(e){this.left=this.timed?this.tl.offsetToVal(e):e}set rightOffset(e){this.right=this.timed?this.tl.offsetToVal(e):e}set timeBased(e){this.timeBased.$set(e,this,RJe,"timeBased")}get timeBased(){return this.timeBased.$get(this,RJe,"timeBased")}get timeBased(){return this[xIr]||y((yW=this.int(),p(yW.at,Function)?yW.at(3):yW.at=3,yW),this,RJe,"timeBased",xIr,Bpe.prototype)}};E(Bpe,Ppn,"StudioCue",0);var _W=Bpe;globalThis.StudioCue=_W;var Tpn=Symbol(),HJe=class HJe extends _W{};E(HJe,Tpn,"ViewRangeCue",0);var IJe=HJe;globalThis.ViewRangeCue=IJe;var Opn=Symbol(),cA=class cA extends _W{set cut(e){this.cut.$set(e,this,MJe,"cut")}get cut(){return this.cut.$get(this,MJe,"cut")}get cut(){return this[vIr]||y((lA=this.action(),p(lA.g,Function)?lA.g(100):lA.g=100,lA.callback=function(){let e=_v.of(this.startOffset,this.spanOffset,0);return e=this.cues.cuts.add(e),this.studio.selectSegment(e)},lA),this,MJe,"cut",vIr,cA.prototype)}set speedup(e){this.speedup.$set(e,this,LJe,"speedup")}get speedup(){return this.speedup.$get(this,LJe,"speedup")}get speedup(){return this[wIr]||y((aA=this.action(),p(aA.g,Function)?aA.g(100):aA.g=100,aA.callback=function(){let e=this.spanOffset,t=1+Math.min(e*.1,199).round(1),r=_v.of(this.startOffset,this.spanOffset,t);return r=this.cues.cuts.add(r),this.studio.selectSegment(r)},aA),this,LJe,"speedup",wIr,cA.prototype)}set mute(e){this.mute.$set(e,this,DJe,"mute")}get mute(){return this.mute.$get(this,DJe,"mute")}get mute(){return this[SIr]||y((uA=this.action(),p(uA.g,Function)?uA.g(100):uA.g=100,uA.callback=function(){let e=_v.of(this.startOffset,this.spanOffset,-1);return e=this.cues.cuts.add(e),this.studio.selectSegment(e)},uA),this,DJe,"mute",SIr,cA.prototype)}opsilencetip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Fpe])||(r=o=0,e=t[Fpe]=e=R("op",null,null,null)),r||(e[vpn]=t._),r||((s=e[wpn])==null||s.call(e,t,Fpe)),n=e[Spn]("__",e),r||n[jIr]("Silence this region "),i=this[0],i===e[EIr]&&r||(e[CIr]=n[jIr](e[EIr]=i,256,e[CIr])),r||t.sym||!e.setup||e.setup(o,t,Fpe),t.sym||e[Cpn](o),e}};E(cA,Opn,"SelectedRangeCue",0);var FJe=cA;globalThis.SelectedRangeCue=FJe;T();oe();var Rpn=Symbol(),VJe=class VJe{get marker_offset(){return this.origin_offset??this.offset}get marker(){return typeof this.marker_offset=="number"}};E(VJe,Rpn,"ScrimMarker",0);var BJe=VJe;globalThis.ScrimMarker=BJe;T();oe();ge(),dt(),$e();var zJe=Symbol("name"),AIr=Symbol(),qJe=Symbol("value"),UIr=Symbol(),WJe=Symbol("secret"),PIr=Symbol(),ZJe=Symbol("delete-item"),TIr=Symbol(),GJe=Symbol("entries"),OIr=Symbol(),YJe=Symbol("open"),RIr=Symbol(),XJe=Symbol("new-key"),MIr=Symbol(),KJe=Symbol("reset"),LIr=Symbol(),JJe=Symbol("redactions"),DIr=Symbol(),QJe=Symbol("jsbody"),NIr=Symbol(),xW,vW,Vpe,pA,IIr,dA,eQe,tQe,zpe=Symbol(),FIr=Symbol(),HIr=Symbol(),wW=Symbol(),Mpn=Symbol(),BIr=Symbol(),SW=Symbol(),Lpn=Symbol(),CW=Symbol(),Dpn=Symbol(),VIr=Symbol(),fA=Symbol(),Npn=Symbol(),zIr=Symbol(),qpe=Symbol(),Wpe=Symbol(),qIr=Symbol(),WIr=Symbol(),ZIr=Symbol(),GIr=Symbol(),YIr=Symbol(),rQe=Symbol(),XIr=Symbol(),KIr=Symbol(),EW=Symbol(),Ipn=Symbol(),jW=Symbol(),Fpn=Symbol(),mA=Symbol(),Hpn=Symbol();var oQe=Symbol();var nQe=Symbol(),JIr=Symbol(),QIr=Symbol(),eFr=Symbol(),tFr=Symbol(),AW=Symbol(),Bpn=Symbol(),Zpe=Symbol(),rFr=Symbol(),UW=Symbol(),Vpn=Symbol(),$A=Symbol(),zpn=Symbol(),oFr=Symbol(),nFr=Symbol(),yA=Symbol(),qpn=Symbol(),Gpe=Symbol(),PW=Symbol(),Wpn=Symbol(),TW=Symbol(),Zpn=Symbol(),iFr=Symbol(),bA=Symbol(),Gpn=Symbol(),Ype=Symbol(),iQe,Ypn=le("&.len",globalThis,l=>l.len),Xpn=le("&.value ?? ''",globalThis,l=>l.value??""),Kpn=le("&.secret",globalThis,l=>l.secret),sQe,T4=Symbol.for("##up"),xv=Symbol.for("##register"),Xpe=Symbol.for("#getSlot"),sFr=Symbol.for("#visit"),Ka=Symbol.for("#getRenderContext"),Ja=Symbol.for("#isRichElement"),pn=Symbol.for("#afterVisit"),gA=Symbol.for("#appendChild"),OW=Symbol.for("#replaceChild"),Pb=Symbol.for("#insertInto"),Tb=Symbol.for("#replaceWith"),lQe=Symbol.for("#placeChild"),Jpn=Symbol(),vv=class vv extends OPEmbed{get $c(){return OWNER}get $d(){return OWNER}set name(e){this.name.$set(e,this,zJe,"name")}get name(){return this.name.$get(this,zJe,"name")}get name(){return this[AIr]||y((xW=this.string(),p(xW.pattern,Function)?xW.pattern(/^[\w_]+$/):xW.pattern=/^[\w_]+$/,xW),this,zJe,"name",AIr,vv.prototype)}set value(e){this.value.$set(e,this,qJe,"value")}get value(){return this.value.$get(this,qJe,"value")}get value(){return this[UIr]||y((vW=this.string(),p(vW.encrypted,Function)?vW.encrypted():vW.encrypted=!0,vW),this,qJe,"value",UIr,vv.prototype)}set secret(e){this.secret.$set(e,this,WJe,"secret")}get secret(){return this.secret.$get(this,WJe,"secret")}get secret(){return this[PIr]||y((Vpe=this.bool(),Vpe.default=function(){return!0},Vpe.default.literal=!0,Vpe),this,WJe,"secret",PIr,vv.prototype)}static from(e,t){return{}}set deleteitem(e){this.deleteitem.$set(e,this,ZJe,"deleteitem")}get deleteitem(){return this.deleteitem.$get(this,ZJe,"deleteitem")}get deleteitem(){return this[TIr]||y((pA=this.action(),p(pA.rx,Function)?pA.rx(OWNER):pA.rx=OWNER,pA.callback=function(){return this.delete()},pA),this,ZJe,"deleteitem",TIr,vv.prototype)}};E(vv,Jpn,"ScrimKey",0);var Kpe=vv;globalThis.ScrimKey=Kpe;var Qpn=Symbol(),Ob=class Ob extends OPEmbed{set entries(e){this.entries.$set(e,this,GJe,"entries")}get entries(){return this.entries.$get(this,GJe,"entries")}get entries(){return this[OIr]||y((IIr=this.embeds(Kpe),IIr),this,GJe,"entries",OIr,Ob.prototype)}set open(e){this.open.$set(e,this,YJe,"open")}get open(){return this.open.$get(this,YJe,"open")}get open(){return this[RIr]||y((dA=this.action(),p(dA.label,Function)?dA.label("Edit Environment"):dA.label="Edit Environment",dA.callback=function(){return OP.dialog(this.$checkout())},dA),this,YJe,"open",RIr,Ob.prototype)}set newkey(e){this.newkey.$set(e,this,XJe,"newkey")}get newkey(){return this.newkey.$get(this,XJe,"newkey")}get newkey(){return this[MIr]||y((eQe=this.action(),eQe.callback=function(){return this.entries.build({})},eQe),this,XJe,"newkey",MIr,Ob.prototype)}set reset(e){this.reset.$set(e,this,KJe,"reset")}get reset(){return this.reset.$get(this,KJe,"reset")}get reset(){return this[LIr]||y((tQe=this.action(),tQe.callback=function(){return this.$reset()},tQe),this,KJe,"reset",LIr,Ob.prototype)}get dialog(){return!0}get asobject(){return this.entries.reduce(function(e,t){return Object.assign(e,{[t.name]:t.value})},{})}opownli(){var z,q,Y;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;return r=o=1,(e=t[zpe])||(r=o=0,e=t[zpe]=e=R("op",null,null,null)),r||(e[T4]=t._),r||((z=e[xv])==null||z.call(e,t,zpe)),n=e[Xpe]("__",e),i=e[FIr]||(e[FIr]={options:[null]}),s=this,s===i.options[0]||(i.options[0]=s,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(q=i[sFr])==null||q.call(i)),i=e[HIr]||(e[HIr]={emit:["open",null]}),i.emit[1]=this,r||e.on$("click",i,this),a=e[Ka](Mpn),c=h=1,(u=a.run(this.oicon(this)))||(c=h=0,a.cache(u=M(a.value,n,null,null))),u[Ja]&&(c||!u.setup||u.setup(h,a),u[pn](h)),u==e[wW]||!e[wW]&&n[gA](e[wW]=u)||(n[OW](u,e[wW]),e[wW]=u),f=m=1,(d=e[BIr])||(f=m=0,e[BIr]=d=w("div",n,"main",null)),$=d[Ka](Lpn),g=x=1,(b=$.run(this.olabel(this)))||(g=x=0,$.cache(b=M($.value,d,null,null))),b[Ja]&&(g||!b.setup||b.setup(x,$),b[pn](x)),b==d[SW]||!d[SW]&&(d[SW]=b)[Pb](d)||d[SW][Tb](d[SW]=b,d),k=d[Ka](Dpn),S=v=1,(_=k.run(this.ostats(this)))||(S=v=0,k.cache(_=M(k.value,d,null,null))),_[Ja]&&(S||!_.setup||_.setup(v,k),_[pn](v)),_==d[CW]||!d[CW]&&(d[CW]=_)[Pb](d)||d[CW][Tb](d[CW]=_,d),f||!d.setup||d.setup(m,C),d[pn](m),P=U=1,(j=e[VIr])||(P=U=0,e[VIr]=j=w("footer",n,null,null)),P||j.on$("click",{stop:!0},this),O=j[Ka](Npn),I=F=1,(L=O.run(this.obutton(this)))||(I=F=0,O.cache(L=M(O.value,j,"secondary",null))),L[Ja]&&(I||(L.icon="more"),I||(L.label=!1),N=L[zIr]||(L[zIr]={options:[null]}),V=this,V===N.options[0]||(N.options[0]=V,F|=48),I||L.on$("opmenu",N,this),F&32&&(F^=32,(Y=N[sFr])==null||Y.call(N)),(!I||F&2)&&L.flags.reconcile(fA,"secondary"),I||!L.setup||L.setup(F,O),L[pn](F)),L==j[fA]||!j[fA]&&(j[fA]=L)[Pb](j)||j[fA][Tb](j[fA]=L,j),P||!j.setup||j.setup(U,W),j[pn](U),r||t.sym||!e.setup||e.setup(o,t,zpe),t.sym||e[pn](o),e}opownicon(){var n;var e,t=H(),r,o;return r=o=1,(e=t[qpe])||(r=o=0,e=t[qpe]=e=R("op-icon",null,null,null)),r||(e[T4]=t._),r||((n=e[xv])==null||n.call(e,t,qpe)),r||(e.data="key"),r||t.sym||!e.setup||e.setup(o,t,qpe),t.sym||e[pn](o),e}opentriesstat(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Wpe])||(r=o=0,e=t[Wpe]=e=R("op-stat",null,null,null)),r||(e[T4]=t._),r||((s=e[xv])==null||s.call(e,t,Wpe)),n=e[Xpe]("__",e),i=this.entries.size,i===e[WIr]&&r||(e[qIr]=n[lQe](e[WIr]=i,128,e[qIr])),r||n[lQe](" "),pt.context=e[GIr]||(e[GIr]={_:n}),i="Variables".pluralize(this.entries.size),pt.context=null,i===e[YIr]&&r||(e[ZIr]=n[lQe](e[YIr]=i,256,e[ZIr])),r||t.sym||!e.setup||e.setup(o,t,Wpe),t.sym||e[pn](o),e}opentriesinput(){var V;var e=H(),t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N;e.this=this,r=o=1,(t=e[rQe])||(r=o=0,t=e[rQe]=t=w("div",null,"ww-ao",null)),r||(t[T4]=e._),r||((V=t[xv])==null||V.call(t,e,rQe)),(n=t[XIr])||(t[XIr]=n=wt(384,t)),i=0,s=n.$;for(let W=0,z=B(this.entries),q=z.length;W<q;W++){let Y=z[W];u=h=1,(a=s.get(c=Y))||(u=h=0,s.set(c,a=R("op",null,"ww-ap",null))),u||(a[T4]=n),d=a[Xpe]("__",a),Y===a[KIr]||(a.data=a[KIr]=Y),f=a[Ka](Ipn),$=b=1,(m=f.run(this.oinput(Y.$.name)))||($=b=0,f.cache(m=M(f.value,d,null,null))),m[Ja]&&($||!m.setup||m.setup(b,f),m[pn](b)),m==a[EW]||!a[EW]&&d[gA](a[EW]=m)||(d[OW](m,a[EW]),a[EW]=m),g=a[Ka](Fpn),k=_=1,(x=g.run(this.oinput(Y.$.value)))||(k=_=0,g.cache(x=M(g.value,d,null,null))),x[Ja]&&(k||!x.setup||x.setup(_,g),x[pn](_)),x==a[jW]||!a[jW]&&d[gA](a[jW]=x)||(d[OW](x,a[jW]),a[jW]=x),S=a[Ka](Hpn),C=j=1,(v=S.run(this.obutton(Y.$.secret)))||(C=j=0,S.cache(v=M(S.value,d,null,null))),v[Ja]&&(P=Y.secret||void 0,P===v[oQe]||(j|=2,v[oQe]=P),P=!Y.secret||void 0,P===v[nQe]||(j|=2,v[nQe]=P),P="This key will be "+(Y.secret?"obfuscated":"apparent")+" in the playback logs",P===v[JIr]||(v.optip=v[JIr]=P),P=Y.secret?"secret":"lock_open",P===v[QIr]||(v.icon=v[QIr]=P),U=v[eFr]||(v[eFr]={$_:[function(K,X,Z){return Z.secret=!Z.secret},null]}),U.$_[1]=Y,C||v.on$("click",U,this),P=Y.secret?"secret":"public",P===v[tFr]||(v.label=v[tFr]=P),(!C||j&2)&&v.flags.reconcile(mA,(v[oQe]?"green":"")+" "+(v[nQe]?"red":"")),C||!v.setup||v.setup(j,S),v[pn](j)),v==a[mA]||!a[mA]&&d[gA](a[mA]=v)||(d[OW](v,a[mA]),a[mA]=v),O=a[Ka](Bpn),I=F=1,(L=O.run(this.obuttonif(Y.deleteitem)))||(I=F=0,O.cache(L=M(O.value,d,null,null))),L[Ja]&&(I||(L.label=!1),I||!L.setup||L.setup(F,O),L[pn](F)),L==a[AW]||!a[AW]&&d[gA](a[AW]=L)||(d[OW](L,a[AW]),a[AW]=L),u||!a.setup||a.setup(h,N),a[pn](h),n.push(a,i++,c)}return n[pn](i),t}opownsection(){var W;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return t.this=this,o=n=1,(r=t[Zpe])||(o=n=0,r=t[Zpe]=r=R("op",null,null,null)),o||(r[T4]=t._),o||((W=r[xv])==null||W.call(r,t,Zpe)),i=r[Xpe]("__",r),o||(s=w("header",i,null,"Environment")),u=c=1,(a=r[rFr])||(u=c=0,r[rFr]=a=w("main",i,null,null)),h=a[Ka](Vpn),f=m=1,(d=h.run(this.ofield(this.entries)))||(f=m=0,h.cache(d=M(h.value,a,null,null))),d[Ja]&&(f||!d.setup||d.setup(m,h),d[pn](m)),d==a[UW]||!a[UW]&&(a[UW]=d)[Pb](a)||a[UW][Tb](a[UW]=d,a),$=a[Ka](zpn),g=x=1,(b=$.run(this.obutton(this.newkey)))||(g=x=0,$.cache(b=M($.value,a,"ww-ay sm primary green",null))),b[Ja]&&((!g||x&2)&&b.flags.reconcile($A,"ww-ay sm primary green"),g||!b.setup||b.setup(x,$),b[pn](x)),b==a[$A]||!a[$A]&&(a[$A]=b)[Pb](a)||a[$A][Tb](a[$A]=b,a),u||!a.setup||a.setup(c,k),a[pn](c),S=v=1,(_=r[oFr])||(S=v=0,r[oFr]=_=w("footer",i,"ww-az",null)),S||(C=w("div",_,"ww-ba",null)),P=U=1,(j=_[nFr])||(P=U=0,_[nFr]=j=R("op-button",_,"secondary",null)),P||(j.label="Reset"),P||j.on$("click",{$_:[function(z,q){return t.this.reset()}]},this),P||!j.setup||j.setup(U,O),j[pn](U),P||_[gA](j),L=_[Ka](qpn),F=N=1,(I=L.run(this.obutton(this.savewithtoast)))||(F=N=0,L.cache(I=M(L.value,_,"primary",null))),I[Ja]&&(F||(I.label="save"),(!F||N&2)&&I.flags.reconcile(yA,"primary"),F||!I.setup||I.setup(N,L),I[pn](N)),I==_[yA]||!_[yA]&&(_[yA]=I)[Pb](_)||_[yA][Tb](_[yA]=I,_),S||!_.setup||_.setup(v,V),_[pn](v),o||t.sym||!r.setup||r.setup(n,t,Zpe),t.sym||r[pn](n),r}opownfields(){var S;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return r=o=1,(e=t[Gpe])||(r=o=0,e=t[Gpe]=e=w("div",null,"ww-bd",null)),r||(e[T4]=t._),r||((S=e[xv])==null||S.call(e,t,Gpe)),n=e[Ka](Wpn),s=a=1,(i=n.run(this.ofield(this.$.name)))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[Ja]&&(s||!i.setup||i.setup(a,n),i[pn](a)),i==e[PW]||!e[PW]&&(e[PW]=i)[Pb](e)||e[PW][Tb](e[PW]=i,e),u=e[Ka](Zpn),h=d=1,(c=u.run(this.ofield(this.entries)))||(h=d=0,u.cache(c=M(u.value,e,null,null))),c[Ja]&&(h||!c.setup||c.setup(d,u),c[pn](d)),c==e[TW]||!e[TW]&&(e[TW]=c)[Pb](e)||e[TW][Tb](e[TW]=c,e),m=$=1,(f=e[iFr])||(m=$=0,e[iFr]=f=w("fieldset",e,null,null)),b=f[Ka](Gpn),x=k=1,(g=b.run(this.obutton(this.newkey)))||(x=k=0,b.cache(g=M(b.value,f,"ww-bh primary green",null))),g[Ja]&&((!x||k&2)&&g.flags.reconcile(bA,"ww-bh primary green"),x||!g.setup||g.setup(k,b),g[pn](k)),g==f[bA]||!f[bA]&&(f[bA]=g)[Pb](f)||f[bA][Tb](f[bA]=g,f),m||!f.setup||f.setup($,_),f[pn]($),r||t.sym||!e.setup||e.setup(o,t,Gpe),t.sym||e[pn](o),e}opowndialog(){var i;var e,t,r=H(),o,n;return e=r[Ka](Ype),o=n=1,(t=e.run(this.osection(this)))||(o=n=0,e.cache(t=M(e.value,null,"ww-bi",null))),o||(t[T4]=r._),o||((i=t[xv])==null||i.call(t,r,Ype)),t[Ja]&&(o||(t.popup__={modal:!0}),o||(t.popup="popup"),(!o||n&2)&&t.flags.reconcile(Ype,"ww-bi"),o||r.sym||!t.setup||t.setup(n,r,Ype),r.sym||t[pn](n)),t}set redactions(e){this.redactions.$set(e,this,JJe,"redactions")}get redactions(){return this.redactions.$get(this,JJe,"redactions")}get redactions(){return this[DIr]||y((iQe=this.memo(),iQe.callback=function(){return this.entries.filter(Kpn).map(Xpn).desc(Ypn)},iQe),this,JJe,"redactions",DIr,Ob.prototype)}redact(e){var t=this;if(typeof e=="string")return this.redactstring(e);if(Array.isArray(e))return e.map(function(r){return t.redact(r)});if(Object.isPlain(e)){let r={};for(let o=0,n=Object.keys(e),i=n.length,s,a;o<i;o++)s=n[o],a=e[s],r[s]=this.redact(a);return r}else return e}redactstring(e){for(let t=0,r=B(this.redactions),o=r.length;t<o;t++){let n=r[t];n.length<5||(e=e.replaceAll(n,"*".repeat(n.length)))}return e}set jsbody(e){this.jsbody.$set(e,this,QJe,"jsbody")}get jsbody(){return this.jsbody.$get(this,QJe,"jsbody")}get jsbody(){return this[NIr]||y((sQe=this.memo(),sQe.callback=function(){let e=["globalThis.process ??= {}","globalThis.process.env ??= {}",'globalThis.process.release = { name: "scrimba" }'];for(let t of B(this.entries))e.push("globalThis.process.env."+t.name+" = "+JSON.stringify(t.value));return e.join(`;
`)},sQe),this,QJe,"jsbody",NIr,Ob.prototype)}};E(Ob,Qpn,"ScrimEnv",0);var aQe=Ob;globalThis.ScrimEnv=aQe;T();oe();$e();var uQe=Symbol("load_from_prod"),lFr=Symbol(),cQe=Symbol("load_from_prod"),aFr=Symbol(),hQe=Symbol("previewState"),uFr=Symbol(),kA,Jpe=Symbol(),cFr=Symbol(),hFr=Symbol(),pFr=Symbol(),dFr=Symbol(),fFr=Symbol(),_A,xA,e1n=Symbol.for("##up"),t1n=Symbol.for("##register"),r1n=Symbol.for("#getSlot"),RW=Symbol.for("#placeChild"),o1n=Symbol.for("#afterVisit"),n1n=Symbol(),Qpe=class Qpe extends OPDataStream{set load_from_prod(e){this.load_from_prod.$set(e,this,uQe,"load_from_prod")}get load_from_prod(){return this.load_from_prod.$get(this,uQe,"load_from_prod")}get load_from_prod(){return this[lFr]||y((kA=this.action(),p(kA.rpc,Function)?kA.rpc():kA.rpc=!0,kA.callback=!1,kA),this,uQe,"load_from_prod",lFr,Qpe.prototype)}};E(Qpe,n1n,"WebViewStream",0);var pQe=Qpe;globalThis.WebViewStream=pQe;var i1n=Symbol(),MW=class MW extends OPDataStream{get httpUrl(){return""+globalThis.location.origin+"/legacy/files/"+this.id}trim(e){if(this.saved)return super.trim(...arguments);if(this.buffer.trim(e),this.socket.clear(),e>0)return this.socket.send(this.buffer.chunk(0,e))}opowntip(){var a;var e,t=H(),r,o,n,i,s;return r=o=1,(e=t[Jpe])||(r=o=0,e=t[Jpe]=e=R("op",null,null,null)),r||(e[e1n]=t._),r||((a=e[t1n])==null||a.call(e,t,Jpe)),n=e[r1n]("__",e),(i=e[cFr])||(e[cFr]=i=w("p",n,null,null)),r||i[RW]("Received "),s=this.readableSize,s===e[pFr]&&r||(e[hFr]=i[RW](e[pFr]=s,0,e[hFr])),r||i[RW]("b / "),s=this.verifiedSize,s===e[fFr]&&r||(e[dFr]=i[RW](e[fFr]=s,0,e[dFr])),r||i[RW]("b"),r||t.sym||!e.setup||e.setup(o,t,Jpe),t.sym||e[o1n](o),e}set load_from_prod(e){this.load_from_prod.$set(e,this,cQe,"load_from_prod")}get load_from_prod(){return this.load_from_prod.$get(this,cQe,"load_from_prod")}get load_from_prod(){return this[aFr]||y((_A=this.action(),p(_A.rpc,Function)?_A.rpc():_A.rpc=!0,_A.callback=!1,_A),this,cQe,"load_from_prod",aFr,MW.prototype)}set previewState(e){this.previewState.$set(e,this,hQe,"previewState")}get previewState(){return this.previewState.$get(this,hQe,"previewState")}get previewState(){return this[uFr]||y((xA=this.route(),p(xA.get,Function)?xA.get():xA.get=!0,xA.callback=!1,xA),this,hQe,"previewState",uFr,MW.prototype)}async getStateAtIndex(e){let t=Date.now();await this;let r=await this.parseDiffStream();return console.log("generating state took",Date.now()-t),r}};E(MW,i1n,"ScrimStream",8);var dQe=MW;globalThis.ScrimStream=dQe;T();oe();$e();var fQe=Symbol("name"),mFr=Symbol(),mQe=Symbol("toast"),$Fr=Symbol(),$Qe=Symbol("hidden"),yFr=Symbol(),yQe=Symbol("autopause"),bFr=Symbol(),bQe=Symbol("assessable"),gFr=Symbol(),gQe=Symbol("skippable"),kFr=Symbol(),kQe=Symbol("autoskip"),_Fr=Symbol(),_Qe=Symbol("delete-item"),xFr=Symbol(),xQe=Symbol("status"),vFr=Symbol(),vQe=Symbol("offset"),wFr=Symbol(),wQe=Symbol("intro_offset"),SFr=Symbol(),SQe=Symbol("skip_offset"),CFr=Symbol(),CQe=Symbol("resume_offset"),EFr=Symbol(),EQe=Symbol("started"),jFr=Symbol(),jQe=Symbol("skipped"),AFr=Symbol(),AQe=Symbol("passed"),UFr=Symbol(),UQe=Symbol("completed"),PFr=Symbol(),PQe=Symbol("progress"),TFr=Symbol(),TQe=Symbol("mark-started"),OFr=Symbol(),OQe=Symbol("set_resume_offset"),RFr=Symbol(),RQe=Symbol("reset-solution"),MFr=Symbol(),O4,LW,l2,a2,wv,DW,NW,Qa,_c,LFr,DFr,NFr,IFr,IW,FW,HW,BW,VW,MQe,Rb,vA,s1n=le("&.mine?",globalThis,l=>l.mine),l1n=le("&.kind.solution?",globalThis,l=>l.kind.solution),e1e=Symbol(),FFr=Symbol(),t1e=Symbol(),HFr=Symbol();var LQe=Symbol();var DQe=Symbol(),r1e=Symbol(),BFr=Symbol(),VFr=Symbol(),zFr=Symbol(),qFr=Symbol(),wA=Symbol(),a1n=Symbol(),WFr=Symbol.for("#branch"),NQe=Symbol.for("##up"),IQe=Symbol.for("##register"),ZFr=Symbol.for("#getSlot"),GFr=Symbol.for("#placeChild"),o1e=Symbol.for("#afterVisit"),u1n=Symbol.for("#getRenderContext"),c1n=Symbol.for("#isRichElement"),h1n=Symbol.for("#appendChild"),p1n=Symbol.for("#replaceChild"),n1e=Symbol(),Dn=class Dn extends Qe(n1e,OPEmbed,ScrimMarker,Editable){constructor(){super(...arguments),super[A]||this[A](),re(this,n1e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[n1e])==null||o.call(this,...arguments)}get scrim(){return this.$root}get wrapper(){return ExerciseWrapper.for({exercise:this})}set name(e){this.name.$set(e,this,fQe,"name")}get name(){return this.name.$get(this,fQe,"name")}get name(){return this[mFr]||y((O4=this.string(),p(O4.w,Function)?O4.w(OPOWNER|OPADMIN):O4.w=OPOWNER|OPADMIN,p(O4.fallback,Function)?O4.fallback(function(){return this.scrim.name}):O4.fallback=function(){return this.scrim.name},O4),this,fQe,"name",mFr,Dn.prototype)}set toast(e){this.toast.$set(e,this,mQe,"toast")}get toast(){return this.toast.$get(this,mQe,"toast")}get toast(){return this[$Fr]||y((LW=this.string(),p(LW.fallback,Function)?LW.fallback(function(){return"Exercise time!"}):LW.fallback=function(){return"Exercise time!"},LW),this,mQe,"toast",$Fr,Dn.prototype)}set hidden(e){this.hidden.$set(e,this,$Qe,"hidden")}get hidden(){return this.hidden.$get(this,$Qe,"hidden")}get hidden(){return this[yFr]||y((l2=this.bool(),p(l2.w,Function)?l2.w(OPOWNER|OPADMIN|TEACHER):l2.w=OPOWNER|OPADMIN|TEACHER,p(l2.g,Function)?l2.g(100):l2.g=100,l2.default=function(){return!1},l2.default.literal=!1,l2),this,$Qe,"hidden",yFr,Dn.prototype)}set autopause(e){this.autopause.$set(e,this,yQe,"autopause")}get autopause(){return this.autopause.$get(this,yQe,"autopause")}get autopause(){return this[bFr]||y((a2=this.bool(),p(a2.w,Function)?a2.w(OWNER|OPADMIN|TEACHER):a2.w=OWNER|OPADMIN|TEACHER,p(a2.g,Function)?a2.g(100):a2.g=100,a2.default=function(){return!0},a2.default.literal=!0,a2),this,yQe,"autopause",bFr,Dn.prototype)}set assessable(e){this.assessable.$set(e,this,bQe,"assessable")}get assessable(){return this.assessable.$get(this,bQe,"assessable")}get assessable(){return this[gFr]||y((wv=this.bool(),p(wv.w,Function)?wv.w(OWNER|OPADMIN|TEACHER):wv.w=OWNER|OPADMIN|TEACHER,wv.default=function(){return!0},wv.default.literal=!0,wv),this,bQe,"assessable",gFr,Dn.prototype)}set skippable(e){this.skippable.$set(e,this,gQe,"skippable")}get skippable(){return this.skippable.$get(this,gQe,"skippable")}get skippable(){return this[kFr]||y((DW=this.bool(),p(DW.w,Function)?DW.w(OWNER|OPADMIN):DW.w=OWNER|OPADMIN,DW),this,gQe,"skippable",kFr,Dn.prototype)}set autoskip(e){this.autoskip.$set(e,this,kQe,"autoskip")}get autoskip(){return this.autoskip.$get(this,kQe,"autoskip")}get autoskip(){return this[_Fr]||y((NW=this.ms(),p(NW.w,Function)?NW.w(OWNER|OPADMIN):NW.w=OWNER|OPADMIN,NW),this,kQe,"autoskip",_Fr,Dn.prototype)}set deleteitem(e){this.deleteitem.$set(e,this,_Qe,"deleteitem")}get deleteitem(){return this.deleteitem.$get(this,_Qe,"deleteitem")}get deleteitem(){return this[xFr]||y((Qa=this.action(),p(Qa.rx,Function)?Qa.rx(OPOWNER|OPADMIN):Qa.rx=OPOWNER|OPADMIN,p(Qa.g,Function)?Qa.g(800):Qa.g=800,p(Qa.if,Function)?Qa.if(function(){return this.d}):Qa.if=function(){return this.d},p(Qa.confirm,Function)?Qa.confirm():Qa.confirm=!0,Qa.callback=async function(){return await this.$up.delete(this)},Qa),this,_Qe,"deleteitem",xFr,Dn.prototype)}set status(e){this.status.$set(e,this,xQe,"status")}get status(){return this.status.$get(this,xQe,"status")}get status(){return this[vFr]||y((_c=this.enum({not_started:{default:!0,hue:"blue"},started:{hue:"yellow"},skipped:{hue:"yellow"},completed:{hue:"green"},failed:{hue:"red"}}),p(_c.pov,Function)?_c.pov():_c.pov=!0,p(_c.f,Function)?_c.f():_c.f=!0,p(_c.g,Function)?_c.g(1e3):_c.g=1e3,p(_c.stat,Function)?_c.stat():_c.stat=!0,_c),this,xQe,"status",vFr,Dn.prototype)}set offset(e){this.offset.$set(e,this,vQe,"offset")}get offset(){return this.offset.$get(this,vQe,"offset")}get offset(){return this[wFr]||y((LFr=this.number(),LFr),this,vQe,"offset",wFr,Dn.prototype)}set intro_offset(e){this.intro_offset.$set(e,this,wQe,"intro_offset")}get intro_offset(){return this.intro_offset.$get(this,wQe,"intro_offset")}get intro_offset(){return this[SFr]||y((DFr=this.number(),DFr),this,wQe,"intro_offset",SFr,Dn.prototype)}set skip_offset(e){this.skip_offset.$set(e,this,SQe,"skip_offset")}get skip_offset(){return this.skip_offset.$get(this,SQe,"skip_offset")}get skip_offset(){return this[CFr]||y((NFr=this.number(),NFr),this,SQe,"skip_offset",CFr,Dn.prototype)}set resume_offset(e){this.resume_offset.$set(e,this,CQe,"resume_offset")}get resume_offset(){return this.resume_offset.$get(this,CQe,"resume_offset")}get resume_offset(){return this[EFr]||y((IFr=this.number(),IFr),this,CQe,"resume_offset",EFr,Dn.prototype)}set started(e){this.started.$set(e,this,EQe,"started")}get started(){return this.started.$get(this,EQe,"started")}get started(){return this[jFr]||y((IW=this.toggle(),p(IW.pov,Function)?IW.pov():IW.pov=!0,IW),this,EQe,"started",jFr,Dn.prototype)}set skipped(e){this.skipped.$set(e,this,jQe,"skipped")}get skipped(){return this.skipped.$get(this,jQe,"skipped")}get skipped(){return this[AFr]||y((FW=this.toggle(),p(FW.pov,Function)?FW.pov():FW.pov=!0,FW),this,jQe,"skipped",AFr,Dn.prototype)}set passed(e){this.passed.$set(e,this,AQe,"passed")}get passed(){return this.passed.$get(this,AQe,"passed")}get passed(){return this[UFr]||y((HW=this.toggle(),p(HW.pov,Function)?HW.pov():HW.pov=!0,HW),this,AQe,"passed",UFr,Dn.prototype)}set completed(e){this.completed.$set(e,this,UQe,"completed")}get completed(){return this.completed.$get(this,UQe,"completed")}get completed(){return this[PFr]||y((BW=this.toggle(),p(BW.pov,Function)?BW.pov():BW.pov=!0,BW),this,UQe,"completed",PFr,Dn.prototype)}set progress(e){this.progress.$set(e,this,PQe,"progress")}get progress(){return this.progress.$get(this,PQe,"progress")}get progress(){return this[TFr]||y((VW=this.int(),p(VW.pov,Function)?VW.pov():VW.pov=!0,VW),this,PQe,"progress",TFr,Dn.prototype)}set markstarted(e){this.markstarted.$set(e,this,TQe,"markstarted")}get markstarted(){return this.markstarted.$get(this,TQe,"markstarted")}get markstarted(){return this[OFr]||y((MQe=this.action(),MQe.callback=function(){return this.started||=!0,this.status=="not_started"&&(this.status="started"),this},MQe),this,TQe,"markstarted",OFr,Dn.prototype)}set set_resume_offset(e){this.set_resume_offset.$set(e,this,OQe,"set_resume_offset")}get set_resume_offset(){return this.set_resume_offset.$get(this,OQe,"set_resume_offset")}get set_resume_offset(){return this[RFr]||y((Rb=this.action(),p(Rb.g,Function)?Rb.g(100):Rb.g=100,p(Rb.rx,Function)?Rb.rx(ADMIN):Rb.rx=ADMIN,Rb.callback=function(){let e=this.scrim[WFr].timeline.currentOffset;if(typeof e=="number"&&e>this.offset)return this.resume_offset=e},Rb),this,OQe,"set_resume_offset",RFr,Dn.prototype)}get cssflags(){var t,r;let e=(t=this.wrapper)!=null&&t.enabled?"exercise ai-enabled":"exercise";return this.completed?e+=" completed green":this.status.failed?e+=" failed red":this.status.not_started?(r=this.wrapper)!=null&&r.enabled?e+=" purple":e+=" cooler":e+=" skipped yellow",e}get pause(){return!(!this.autopause||(this.skipped||this.completed)&&this.solutions.any)}get branch(){var e;return(e=this.scrim)==null?void 0:e[WFr]}get scrimview(){return this.branch.view}set resetsolution(e){this.resetsolution.$set(e,this,RQe,"resetsolution")}get resetsolution(){return this.resetsolution.$get(this,RQe,"resetsolution")}get resetsolution(){return this[MFr]||y((vA=this.action(),p(vA.g,Function)?vA.g(0):vA.g=0,vA.callback=async function(){let e,t=this.branch.actionAtOffset(this.offset);this.branch.timeline.seekToOffset(this.offset).focus(),await Cr(),await globalThis.sleep(400);let r={exercise:this,kind:"solution"};try{e=""+this.scrimview.data.name+" #"+(1+this.$up.filter(function(n){return p(n,Dn)}).indexOf(this))}catch{}e&&(r.name=e);let o=this.branch.createBranch(r);await o.load(),o=o.scrim,await o.save(),this.scrimview.open(o),globalThis.location.reload()},vA),this,RQe,"resetsolution",MFr,Dn.prototype)}get solutions(){return this.$children.only(Scrim,s1n,l1n)}get solution(){return this.solutions.desc("_cre").at(0)}get skipped(){return!this.completed&&(!!this.skipped||this.status.skipped)}get passed(){return!!this.passed}get completed(){return!!this.completed||this.status.completed}get started(){return!!this.started||this.status.started}get submitted(){return this.completed||this.skipped}get marker(){return!this.hidden&&!this.deleted}get icon(){return Icon.enum("challenge")}get aslabel(){let e=this.$index+1;return"#"+e+" "+this.name||"Exercise "+e}get aspathlabel(){return"Exercise #"+(this.$index+1)}opowntip(){var s,a;var e,t,r=H(),o,n,i;return o=n=1,(t=r[e1e])||(o=n=0,t=r[e1e]=t=R("op",null,null,null)),o||(t[NQe]=r._),o||((s=t[IQe])==null||s.call(t,r,e1e)),i=t[ZFr]("__",t),e=null,this.status.completed?e="Challenge completed":this.status.failed?e="Challenge failed":this.status.not_started?(a=this.wrapper)!=null&&a.enabled?e="Challenge with Instant Feedback":e="Challenge":e="Challenge in progress",t[FFr]=i[GFr](e,0,t[FFr]),o||r.sym||!t.setup||t.setup(n,r,e1e),r.sym||t[o1e](n),t}opownstat(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[t1e])||(r=o=0,e=t[t1e]=e=R("op-icon",null,"wi-ag",null)),r||(e[NQe]=t._),r||((i=e[IQe])==null||i.call(e,t,t1e)),n=this.icon,n===e[HFr]||(e.data=e[HFr]=n),n=this.skipped||void 0,n===e[LQe]||(o|=2,e[LQe]=n),n=this.completed||void 0,n===e[DQe]||(o|=2,e[DQe]=n),o&2&&e.flag$("wi-ag "+(e[LQe]?"skipped":"")+" "+(e[DQe]?"completed":"")),r||t.sym||!e.setup||e.setup(o,t,t1e),t.sym||e[o1e](o),e}opownli(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[r1e])||(r=o=0,e=t[r1e]=e=R("op-xli",null,null,null)),r||(e[NQe]=t._),r||((f=e[IQe])==null||f.call(e,t,r1e)),n=e[ZFr]("__",e),i=this,i===e[BFr]||(e.data=e[BFr]=i),(s=e[VFr])||(e[VFr]=s=w("h2",n,"shrink",null)),a=this.name,a===e[qFr]&&r||(e[zFr]=s[GFr](e[qFr]=a,384,e[zFr])),u=e[u1n](a1n),h=d=1,(c=u.run(this.ochip(this.$.status)))||(h=d=0,u.cache(c=M(u.value,n,"compact",null))),c[c1n]&&((!h||d&2)&&c.flags.reconcile(wA,"compact"),h||!c.setup||c.setup(d,u),c[o1e](d)),c==e[wA]||!e[wA]&&n[h1n](e[wA]=c)||(n[p1n](c,e[wA]),e[wA]=c),r||t.sym||!e.setup||e.setup(o,t,r1e),t.sym||e[o1e](o),e}tourl(e){return((e==null?void 0:e.scrim)==this.scrim?e.tourl(e):this.scrim.tourl(e))+this.id.replace(this.scrim.id,"")}};E(Dn,n1e,"ScrimPractice",80);var FQe=Dn;globalThis.ScrimPractice=FQe;T();oe();T();function Jd(){}Jd.prototype={diff:function(e,t){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=o.callback;typeof o=="function"&&(n=o,o={});var i=this;function s(_){return _=i.postProcess(_,o),n?(setTimeout(function(){n(_)},0),!0):_}e=this.castInput(e,o),t=this.castInput(t,o),e=this.removeEmpty(this.tokenize(e,o)),t=this.removeEmpty(this.tokenize(t,o));var a=t.length,u=e.length,c=1,h=a+u;o.maxEditLength!=null&&(h=Math.min(h,o.maxEditLength));var d=(r=o.timeout)!==null&&r!==void 0?r:1/0,f=Date.now()+d,m=[{oldPos:-1,lastComponent:void 0}],$=this.extractCommon(m[0],t,e,0,o);if(m[0].oldPos+1>=u&&$+1>=a)return s(YFr(i,m[0].lastComponent,t,e,i.useLongestToken));var b=-1/0,g=1/0;function x(){for(var _=Math.max(b,-c);_<=Math.min(g,c);_+=2){var S=void 0,v=m[_-1],C=m[_+1];v&&(m[_-1]=void 0);var j=!1;if(C){var P=C.oldPos-_;j=C&&0<=P&&P<a}var U=v&&v.oldPos+1<u;if(!j&&!U){m[_]=void 0;continue}if(!U||j&&v.oldPos<C.oldPos?S=i.addToPath(C,!0,!1,0,o):S=i.addToPath(v,!1,!0,1,o),$=i.extractCommon(S,t,e,_,o),S.oldPos+1>=u&&$+1>=a)return s(YFr(i,S.lastComponent,t,e,i.useLongestToken));m[_]=S,S.oldPos+1>=u&&(g=Math.min(g,_-1)),$+1>=a&&(b=Math.max(b,_+1))}c++}if(n)(function _(){setTimeout(function(){if(c>h||Date.now()>f)return n();x()||_()},0)})();else for(;c<=h&&Date.now()<=f;){var k=x();if(k)return k}},addToPath:function(e,t,r,o,n){var i=e.lastComponent;return i&&!n.oneChangePerToken&&i.added===t&&i.removed===r?{oldPos:e.oldPos+o,lastComponent:{count:i.count+1,added:t,removed:r,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:t,removed:r,previousComponent:i}}},extractCommon:function(e,t,r,o,n){for(var i=t.length,s=r.length,a=e.oldPos,u=a-o,c=0;u+1<i&&a+1<s&&this.equals(r[a+1],t[u+1],n);)u++,a++,c++,n.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!n.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,u},equals:function(e,t,r){return r.comparator?r.comparator(e,t):e===t||r.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function YFr(l,e,t,r,o){for(var n=[],i;e;)n.push(e),i=e.previousComponent,delete e.previousComponent,e=i;n.reverse();for(var s=0,a=n.length,u=0,c=0;s<a;s++){var h=n[s];if(h.removed)h.value=l.join(r.slice(c,c+h.count)),c+=h.count;else{if(!h.added&&o){var d=t.slice(u,u+h.count);d=d.map(function(f,m){var $=r[c+m];return $.length>f.length?$:f}),h.value=l.join(d)}else h.value=l.join(t.slice(u,u+h.count));u+=h.count,h.added||(c+=h.count)}}return n}var qXn=new Jd;function XFr(l,e){var t;for(t=0;t<l.length&&t<e.length;t++)if(l[t]!=e[t])return l.slice(0,t);return l.slice(0,t)}function KFr(l,e){var t;if(!l||!e||l[l.length-1]!=e[e.length-1])return"";for(t=0;t<l.length&&t<e.length;t++)if(l[l.length-(t+1)]!=e[e.length-(t+1)])return l.slice(-t);return l.slice(-t)}function HQe(l,e,t){if(l.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(l)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return t+l.slice(e.length)}function BQe(l,e,t){if(!e)return l+t;if(l.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(l)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return l.slice(0,-e.length)+t}function zW(l,e){return HQe(l,e,"")}function i1e(l,e){return BQe(l,e,"")}function JFr(l,e){return e.slice(0,d1n(l,e))}function d1n(l,e){var t=0;l.length>e.length&&(t=l.length-e.length);var r=e.length;l.length<e.length&&(r=l.length);var o=Array(r),n=0;o[0]=0;for(var i=1;i<r;i++){for(e[i]==e[n]?o[i]=o[n]:o[i]=n;n>0&&e[i]!=e[n];)n=o[n];e[i]==e[n]&&n++}n=0;for(var s=t;s<l.length;s++){for(;n>0&&l[s]!=e[n];)n=o[n];l[s]==e[n]&&n++}return n}var s1e="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",f1n=new RegExp("[".concat(s1e,"]+|\\s+|[^").concat(s1e,"]"),"ug"),l1e=new Jd;l1e.equals=function(l,e,t){return t.ignoreCase&&(l=l.toLowerCase(),e=e.toLowerCase()),l.trim()===e.trim()};l1e.tokenize=function(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');t=Array.from(e.intlSegmenter.segment(l),function(n){return n.segment})}else t=l.match(f1n)||[];var r=[],o=null;return t.forEach(function(n){/\s/.test(n)?o==null?r.push(n):r.push(r.pop()+n):/\s/.test(o)?r[r.length-1]==o?r.push(r.pop()+n):r.push(o+n):r.push(n),o=n}),r};l1e.join=function(l){return l.map(function(e,t){return t==0?e:e.replace(/^\s+/,"")}).join("")};l1e.postProcess=function(l,e){if(!l||e.oneChangePerToken)return l;var t=null,r=null,o=null;return l.forEach(function(n){n.added?r=n:n.removed?o=n:((r||o)&&QFr(t,o,r,n),t=n,r=null,o=null)}),(r||o)&&QFr(t,o,r,null),l};function QFr(l,e,t,r){if(e&&t){var o=e.value.match(/^\s*/)[0],n=e.value.match(/\s*$/)[0],i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0];if(l){var a=XFr(o,i);l.value=BQe(l.value,i,a),e.value=zW(e.value,a),t.value=zW(t.value,a)}if(r){var u=KFr(n,s);r.value=HQe(r.value,s,u),e.value=i1e(e.value,u),t.value=i1e(t.value,u)}}else if(t)l&&(t.value=t.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(l&&r){var c=r.value.match(/^\s*/)[0],h=e.value.match(/^\s*/)[0],d=e.value.match(/\s*$/)[0],f=XFr(c,h);e.value=zW(e.value,f);var m=KFr(zW(c,f),d);e.value=i1e(e.value,m),r.value=HQe(r.value,c,m),l.value=BQe(l.value,c,c.slice(0,c.length-m.length))}else if(r){var $=r.value.match(/^\s*/)[0],b=e.value.match(/\s*$/)[0],g=JFr(b,$);e.value=i1e(e.value,g)}else if(l){var x=l.value.match(/\s*$/)[0],k=e.value.match(/^\s*/)[0],_=JFr(x,k);e.value=zW(e.value,_)}}var m1n=new Jd;m1n.tokenize=function(l){var e=new RegExp("(\\r?\\n)|[".concat(s1e,"]+|[^\\S\\n\\r]+|[^").concat(s1e,"]"),"ug");return l.match(e)||[]};var a1e=new Jd;a1e.tokenize=function(l,e){e.stripTrailingCr&&(l=l.replace(/\r\n/g,`
`));var t=[],r=l.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var o=0;o<r.length;o++){var n=r[o];o%2&&!e.newlineIsToken?t[t.length-1]+=n:t.push(n)}return t};a1e.equals=function(l,e,t){return t.ignoreWhitespace?((!t.newlineIsToken||!l.includes(`
`))&&(l=l.trim()),(!t.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):t.ignoreNewlineAtEof&&!t.newlineIsToken&&(l.endsWith(`
`)&&(l=l.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),Jd.prototype.equals.call(this,l,e,t)};function eHr(l,e,t){return a1e.diff(l,e,t)}var $1n=new Jd;$1n.tokenize=function(l){return l.split(/(\S.+?[.!?])(?=\s+|$)/)};var y1n=new Jd;y1n.tokenize=function(l){return l.split(/([{}:;,]|\s+)/)};function VQe(l){"@babel/helpers - typeof";return VQe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VQe(l)}var qW=new Jd;qW.useLongestToken=!0;qW.tokenize=a1e.tokenize;qW.castInput=function(l,e){var t=e.undefinedReplacement,r=e.stringifyReplacer,o=r===void 0?function(n,i){return typeof i>"u"?t:i}:r;return typeof l=="string"?l:JSON.stringify(zQe(l,null,null,o),o,"  ")};qW.equals=function(l,e,t){return Jd.prototype.equals.call(qW,l.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),t)};function zQe(l,e,t,r,o){e=e||[],t=t||[],r&&(l=r(o,l));var n;for(n=0;n<e.length;n+=1)if(e[n]===l)return t[n];var i;if(Object.prototype.toString.call(l)==="[object Array]"){for(e.push(l),i=new Array(l.length),t.push(i),n=0;n<l.length;n+=1)i[n]=zQe(l[n],e,t,r,o);return e.pop(),t.pop(),i}if(l&&l.toJSON&&(l=l.toJSON()),VQe(l)==="object"&&l!==null){e.push(l),i={},t.push(i);var s=[],a;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&s.push(a);for(s.sort(),n=0;n<s.length;n+=1)a=s[n],i[a]=zQe(l[a],e,t,r,a);e.pop(),t.pop()}else i=l;return i}var qQe=new Jd;qQe.tokenize=function(l){return l.slice()};qQe.join=qQe.removeEmpty=function(l){return l};ge(),dt(),$e(),ln();var WQe=Symbol("id"),tHr=Symbol(),ZQe=Symbol("path"),rHr=Symbol(),GQe=Symbol("content"),oHr=Symbol(),YQe=Symbol("id"),nHr=Symbol(),XQe=Symbol("files"),iHr=Symbol(),KQe=Symbol("id"),sHr=Symbol(),JQe=Symbol("system_prompt"),lHr=Symbol(),QQe=Symbol("temp"),aHr=Symbol(),eet=Symbol("id"),uHr=Symbol(),tet=Symbol("test_suite_run"),cHr=Symbol(),ret=Symbol("test_case"),hHr=Symbol(),oet=Symbol("model"),pHr=Symbol(),net=Symbol("did_pass"),dHr=Symbol(),iet=Symbol("should_pass"),fHr=Symbol(),set=Symbol("text"),mHr=Symbol(),aet=Symbol("duration"),$Hr=Symbol(),uet=Symbol("raw"),yHr=Symbol(),cet=Symbol("id"),bHr=Symbol(),het=Symbol("title"),gHr=Symbol(),pet=Symbol("disabled"),kHr=Symbol(),det=Symbol("_results"),_Hr=Symbol(),fet=Symbol("snapshot"),xHr=Symbol(),met=Symbol("did_pass"),vHr=Symbol(),$et=Symbol("view-exercise"),wHr=Symbol(),yet=Symbol("disable-test"),SHr=Symbol(),bet=Symbol("run-test"),CHr=Symbol(),get=Symbol("run-test-srv"),EHr=Symbol(),WW,jHr,AHr,u1e=Symbol(),UHr=Symbol(),PHr=Symbol(),ZW,THr,c1e=Symbol(),OHr=Symbol(),RHr=Symbol(),MHr=Symbol(),LHr=Symbol(),DHr=Symbol(),NHr=Symbol(),IHr=Symbol(),FHr=Symbol(),HHr=Symbol(),BHr=Symbol(),GW=Symbol(),b1n=Symbol(),h1e=Symbol(),VHr=Symbol(),zHr=Symbol(),qHr=Symbol(),WHr=Symbol(),ZHr=Symbol(),GHr=Symbol(),YHr=Symbol(),XHr=Symbol(),g1n=Symbol(),KHr=Symbol(),JHr=Symbol(),QHr=Symbol(),eBr=Symbol(),tBr=Symbol(),rBr=Symbol(),k1n=Symbol(),oBr=Symbol(),nBr=Symbol(),iBr=Symbol(),sBr=Symbol(),lBr=Symbol(),_1n=Symbol(),aBr=Symbol(),uBr=Symbol(),x1n=Symbol(),cBr=Symbol(),hBr=Symbol(),v1n=Symbol(),pBr=Symbol(),dBr=Symbol(),w1n=Symbol(),fBr=Symbol(),mBr=Symbol(),$Br=Symbol(),yBr=Symbol(),bBr=Symbol(),gBr=Symbol(),kBr=Symbol(),S1n=Symbol(),_Br=Symbol(),xBr=Symbol(),vBr=Symbol(),wBr=Symbol(),SBr=Symbol(),CBr=Symbol(),EBr=Symbol(),jBr=Symbol(),YW,ABr,UBr,$Vr=le("&.correct",globalThis,l=>l.correct),yVr=le("!&.correct",globalThis,l=>!l.correct),XW,KW,PBr,TBr,OBr,RBr,MBr,LBr,DBr,p1e=Symbol(),NBr=Symbol(),IBr=Symbol(),FBr=Symbol(),HBr=Symbol();var ket=Symbol(),BBr=Symbol(),VBr=Symbol(),zBr=Symbol(),qBr=Symbol(),WBr=Symbol(),ZBr=Symbol(),GBr=Symbol(),JW=Symbol(),C1n=Symbol(),d1e=Symbol(),YBr=Symbol(),XBr=Symbol(),KBr=Symbol(),QW,eZ,JBr,SA,f1e=Symbol(),tZ=Symbol(),E1n=Symbol(),rZ=Symbol(),j1n=Symbol(),QBr=Symbol(),CA=Symbol(),A1n=Symbol(),oZ=Symbol(),U1n=Symbol(),eVr,tVr,m1e=Symbol(),rVr=Symbol(),oVr=Symbol(),nVr=Symbol(),iVr=Symbol(),sVr=Symbol(),lVr=Symbol(),aVr=Symbol(),uVr=Symbol(),cVr=Symbol(),hVr=Symbol(),pVr=Symbol(),dVr=Symbol(),fVr=Symbol(),nZ=Symbol(),P1n=Symbol(),EA,jA,AA,UA,Js=Symbol.for("##up"),Cv=Symbol.for("##register"),x1e=Symbol.for("#getSlot"),dn=Symbol.for("#placeChild"),gs=Symbol.for("#afterVisit"),xc=Symbol.for("#getRenderContext"),Sv=Symbol.for("#isRichElement"),$1e=Symbol.for("#insertInto"),y1e=Symbol.for("#replaceWith"),_et=Symbol.for("#appendChild"),xet=Symbol.for("#replaceChild"),T1n=Symbol(),PA=class PA extends OPEmbed{set id(e){this.id.$set(e,this,WQe,"id")}get id(){return this.id.$get(this,WQe,"id")}get id(){return this[tHr]||y((WW=this.key(),p(WW.rwxcd,Function)?WW.rwxcd(ADMIN|TEACHER):WW.rwxcd=ADMIN|TEACHER,WW),this,WQe,"id",tHr,PA.prototype)}set path(e){this.path.$set(e,this,ZQe,"path")}get path(){return this.path.$get(this,ZQe,"path")}get path(){return this[rHr]||y((jHr=this.string(),jHr),this,ZQe,"path",rHr,PA.prototype)}set content(e){this.content.$set(e,this,GQe,"content")}get content(){return this.content.$get(this,GQe,"content")}get content(){return this[oHr]||y((AHr=this.text(),AHr),this,GQe,"content",oHr,PA.prototype)}opcontentlabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[u1e])||(r=o=0,e=t[u1e]=e=R("op",null,null,null)),r||(e[Js]=t._),r||((s=e[Cv])==null||s.call(e,t,u1e)),n=e[x1e]("__",e),i=this.path,i===e[PHr]&&r||(e[UHr]=n[dn](e[PHr]=i,384,e[UHr])),r||t.sym||!e.setup||e.setup(o,t,u1e),t.sym||e[gs](o),e}};E(PA,T1n,"ExerciseSnapshotFile",0);var b1e=PA;globalThis.ExerciseSnapshotFile=b1e;var O1n=Symbol(),iZ=class iZ extends OPEmbed{set id(e){this.id.$set(e,this,YQe,"id")}get id(){return this.id.$get(this,YQe,"id")}get id(){return this[nHr]||y((ZW=this.key(),p(ZW.rwxcd,Function)?ZW.rwxcd(ADMIN|TEACHER):ZW.rwxcd=ADMIN|TEACHER,ZW),this,YQe,"id",nHr,iZ.prototype)}set files(e){this.files.$set(e,this,XQe,"files")}get files(){return this.files.$get(this,XQe,"files")}get files(){return this[iHr]||y((THr=this.embeds(b1e),THr),this,XQe,"files",iHr,iZ.prototype)}get wrapper(){return this.$root}get exercise(){return this.$root.exercise}get joinedfiles(){return this.files.map(function(e){return""+e.path+"\n```\n"+e.content.trim()+"\n```"}).join(`
`)}opownli(){var x;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g;return r=o=1,(e=t[c1e])||(r=o=0,e=t[c1e]=e=w("section",null,"cbp-ag xli sm",null)),r||(e[Js]=t._),r||((x=e[Cv])==null||x.call(e,t,c1e)),n=this,n===e[OHr]||(e.odata=e[OHr]=n),n=this,n===e[RHr]||(e.data=e[RHr]=n),i=e[MHr]||(e[MHr]={open:[null]}),i.open[0]=this,r||e.on$("click",i,this),r||(s=w("section",e,null,null)),(a=e[LHr])||(e[LHr]=a=w("h2",s,"cbp-ai",null)),(u=e[DHr])||(e[DHr]=u=w("span",a,"cbp-aj cbp_ai",null)),c=this.aslabel,c===e[IHr]&&r||(e[NHr]=u[dn](e[IHr]=c,384,e[NHr])),(h=e[FHr])||(e[FHr]=h=w("span",a,"cbp_ai",null)),d=this.asdetail,d===e[BHr]&&r||(e[HHr]=h[dn](e[BHr]=d,384,e[HHr])),r||(f=w("hr",s,null,null)),m=e[xc](b1n),b=g=1,($=m.run(this.oel(this,"more")))||(b=g=0,m.cache($=M(m.value,e,null,null))),$[Sv]&&(b||!$.setup||$.setup(g,m),$[gs](g)),$==e[GW]||!e[GW]&&(e[GW]=$)[$1e](e)||e[GW][y1e](e[GW]=$,e),r||t.sym||!e.setup||e.setup(o,t,c1e),t.sym||e[gs](o),e}opownpagebody(){var Ze,et,ft,Ge,Je;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce;if(n=i=1,(r=o[h1e])||(n=i=0,r=o[h1e]=r=R("op",null,"cbp-an",null)),n||(r[Js]=o._),n||((Ze=r[Cv])==null||Ze.call(r,o,h1e)),s=r[x1e]("__",r),e=t=null,this.wrapper.initial_code==this){(e=r[VHr])||(r[VHr]=e=Jt(0,null)),e[Js]=s,a=0,u=e.$;for(let ct=0,rt=B(this.files),$t=rt.length;ct<$t;ct++){let it=rt[ct];h=d=1,(c=u[a])||(h=d=0,u[a]=c=w("div",e,"cbp-ao",null)),h||(c[Js]=e),(f=c[zHr])||(c[zHr]=f=w("div",c,null,null)),m=it.path,m===c[WHr]&&h||(c[qHr]=f[dn](c[WHr]=m,384,c[qHr])),($=c[ZHr])||(c[ZHr]=$=w("pre",c,"cbp-aq",null)),b=it.content,b===c[YHr]&&h||(c[GHr]=$[dn](c[YHr]=b,256,c[GHr])),a++}e[gs](a)}else{(e=r[XHr])||(r[XHr]=e=wt(1024,null)),e[Js]=s,g=0,x=e.$;for(let ct=0,rt=B(this.wrapper.initial_code.files),$t=rt.length;ct<$t;ct++){let it=rt[ct];if((ft=(et=it.path)==null?void 0:et.has)!=null&&ft.call(et,"package-lock")||(Je=(Ge=it.path)==null?void 0:Ge.has)!=null&&Je.call(Ge,"node_modules"))continue;let tt=this.files.find(st=>st.path==it.path),ze=!tt,at=tt&&it.content!=tt.content;if(ze)_=v=1,(k=(S=x[xc](g1n)).get(g))||(_=v=0,S.set(g,k=w("div",e,"cbp-ar",null))),_||(k[Js]=e),(C=k[KHr])||(k[KHr]=C=w("div",k,"cbp-as",null)),_||C[dn]("DELETED FILE "),j=it.path,j===k[QHr]&&_||(k[JHr]=C[dn](k[QHr]=j,256,k[JHr])),(P=k[eBr])||(k[eBr]=P=w("pre",k,"cbp-at",null)),U=it.content,U===k[rBr]&&_||(k[tBr]=P[dn](k[rBr]=U,384,k[tBr])),e.push(k,g++,S);else if(at){L=F=1,(O=(I=x[xc](k1n)).get(g))||(L=F=0,I.set(g,O=w("div",e,"cbp-au",null))),L||(O[Js]=e),(N=O[oBr])||(O[oBr]=N=w("div",O,"cbp-av",null)),L||N[dn]("MODIFIED FILE "),V=it.path,V===O[iBr]&&L||(O[nBr]=N[dn](O[iBr]=V,256,O[nBr]));{(W=O[sBr])||(O[sBr]=W=w("pre",O,"cbp-aw",null));let st=eHr(it.content,tt.content);(z=O[lBr])||(O[lBr]=z=wt(1408,W)),q=0,Y=z.$;for(let yt=0,vt=B(st),nt=vt.length;yt<nt;yt++){let Ct=vt[yt];Ct.added?(X=Q=1,(K=(Z=Y[xc](_1n)).get(q))||(X=Q=0,Z.set(q,K=w("span",z,"cbp-ax",null))),X||(K[Js]=z),ee=Ct.value,ee===K[uBr]&&X||(K[aBr]=K[dn](K[uBr]=ee,384,K[aBr])),z.push(K,q++,Z)):Ct.removed?(ne=J=1,(te=(ie=Y[xc](x1n)).get(q))||(ne=J=0,ie.set(q,te=w("span",z,"cbp-ay",null))),ne||(te[Js]=z),me=Ct.value,me===te[hBr]&&ne||(te[cBr]=te[dn](te[hBr]=me,384,te[cBr])),z.push(te,q++,ie)):(ye=ae=1,(ce=(we=Y[xc](v1n)).get(q))||(ye=ae=0,we.set(q,ce=w("span",z,null,null))),ye||(ce[Js]=z),be=Ct.value,be===ce[dBr]&&ye||(ce[pBr]=ce[dn](ce[dBr]=be,384,ce[pBr])),z.push(ce,q++,we))}z[gs](q)}e.push(O,g++,I)}else Ae=Pe=1,(_e=(ve=x[xc](w1n)).get(g))||(Ae=Pe=0,ve.set(g,_e=w("details",e,"cbp-ba",null))),Ae||(_e[Js]=e),(He=_e[fBr])||(_e[fBr]=He=w("summary",_e,"cbp-bb",null)),Ae||He[dn]("SAME FILE "),Ue=it.path,Ue===_e[$Br]&&Ae||(_e[mBr]=He[dn](_e[$Br]=Ue,256,_e[mBr])),(Be=_e[yBr])||(_e[yBr]=Be=w("pre",_e,"cbp-bc",null)),je=it.content,je===_e[gBr]&&Ae||(_e[bBr]=Be[dn](_e[gBr]=je,384,_e[bBr])),e.push(_e,g++,ve)}e[gs](g),(t=r[kBr])||(r[kBr]=t=wt(1024,null)),t[Js]=s,ue=0,xe=t.$;for(let ct=0,rt=B(this.files),$t=rt.length;ct<$t;ct++){let it=rt[ct];this.wrapper.initial_code.files.find(tt=>tt.path==it.path)||(Oe=Ne=1,(Re=(qe=xe[xc](S1n)).get(ue))||(Oe=Ne=0,qe.set(ue,Re=w("div",t,"cbp-bd",null))),Oe||(Re[Js]=t),(Ie=Re[_Br])||(Re[_Br]=Ie=w("div",Re,"cbp-be",null)),Oe||Ie[dn]("ADDED FILE "),Ke=it.path,Ke===Re[vBr]&&Oe||(Re[xBr]=Ie[dn](Re[vBr]=Ke,256,Re[xBr])),(Te=Re[wBr])||(Re[wBr]=Te=w("pre",Re,"cbp-bf",null)),Ce=it.content,Ce===Re[CBr]&&Oe||(Re[SBr]=Te[dn](Re[CBr]=Ce,384,Re[SBr])),t.push(Re,ue++,qe))}t[gs](ue)}return r[EBr]=s[dn](e,0,r[EBr]),r[jBr]=s[dn](t,0,r[jBr]),n||o.sym||!r.setup||r.setup(i,o,h1e),o.sym||r[gs](i),r}};E(iZ,O1n,"ExerciseSnapshot",0);var g1e=iZ;globalThis.ExerciseSnapshot=g1e;var R1n=Symbol(),TA=class TA extends OPObject{set id(e){this.id.$set(e,this,KQe,"id")}get id(){return this.id.$get(this,KQe,"id")}get id(){return this[sHr]||y((YW=this.key(),p(YW.rwxcd,Function)?YW.rwxcd(ADMIN|TEACHER):YW.rwxcd=ADMIN|TEACHER,YW),this,KQe,"id",sHr,TA.prototype)}set system_prompt(e){this.system_prompt.$set(e,this,JQe,"system_prompt")}get system_prompt(){return this.system_prompt.$get(this,JQe,"system_prompt")}get system_prompt(){return this[lHr]||y((ABr=this.text(),ABr),this,JQe,"system_prompt",lHr,TA.prototype)}set temp(e){this.temp.$set(e,this,QQe,"temp")}get temp(){return this.temp.$get(this,QQe,"temp")}get temp(){return this[aHr]||y((UBr=this.float(),UBr),this,QQe,"temp",aHr,TA.prototype)}get correct_results_count(){return this.$children.filter($Vr).len}get incorrect_results_count(){return this.$children.filter(yVr).len}};E(TA,R1n,"ExerciseTestSuiteRun",0);var sZ=TA;globalThis.ExerciseTestSuiteRun=sZ;var M1n=Symbol(),Np=class Np extends OPObject{set id(e){this.id.$set(e,this,eet,"id")}get id(){return this.id.$get(this,eet,"id")}get id(){return this[uHr]||y((XW=this.key(),p(XW.rwxcd,Function)?XW.rwxcd(ADMIN|TEACHER):XW.rwxcd=ADMIN|TEACHER,XW),this,eet,"id",uHr,Np.prototype)}set test_suite_run(e){this.test_suite_run.$set(e,this,tet,"test_suite_run")}get test_suite_run(){return this.test_suite_run.$get(this,tet,"test_suite_run")}get test_suite_run(){return this[cHr]||y((KW=this.ref(sZ),p(KW.parent,Function)?KW.parent():KW.parent=!0,KW),this,tet,"test_suite_run",cHr,Np.prototype)}set test_case(e){this.test_case.$set(e,this,ret,"test_case")}get test_case(){return this.test_case.$get(this,ret,"test_case")}get test_case(){return this[hHr]||y((PBr=this.ref(_1e),PBr),this,ret,"test_case",hHr,Np.prototype)}set model(e){this.model.$set(e,this,oet,"model")}get model(){return this.model.$get(this,oet,"model")}get model(){return this[pHr]||y((TBr=this.ref(LanguageModel),TBr),this,oet,"model",pHr,Np.prototype)}set did_pass(e){this.did_pass.$set(e,this,net,"did_pass")}get did_pass(){return this.did_pass.$get(this,net,"did_pass")}get did_pass(){return this[dHr]||y((OBr=this.bool(),OBr),this,net,"did_pass",dHr,Np.prototype)}set should_pass(e){this.should_pass.$set(e,this,iet,"should_pass")}get should_pass(){return this.should_pass.$get(this,iet,"should_pass")}get should_pass(){return this[fHr]||y((RBr=this.bool(),RBr),this,iet,"should_pass",fHr,Np.prototype)}set text(e){this.text.$set(e,this,set,"text")}get text(){return this.text.$get(this,set,"text")}get text(){return this[mHr]||y((MBr=this.text(),MBr),this,set,"text",mHr,Np.prototype)}set duration(e){this.duration.$set(e,this,aet,"duration")}get duration(){return this.duration.$get(this,aet,"duration")}get duration(){return this[$Hr]||y((LBr=this.ms(),LBr),this,aet,"duration",$Hr,Np.prototype)}set raw(e){this.raw.$set(e,this,uet,"raw")}get raw(){return this.raw.$get(this,uet,"raw")}get raw(){return this[yHr]||y((DBr=this.text(),DBr),this,uet,"raw",yHr,Np.prototype)}get correct(){return this.should_pass?this.did_pass:!this.did_pass}get asstate(){return this.correct?"pass":"fail"}get asdetail(){return this.model.aslabel}opownli(){var v;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;return r=o=1,(e=t[p1e])||(r=o=0,e=t[p1e]=e=w("section",null,"cbp-bg xli sm",null)),r||(e[Js]=t._),r||((v=e[Cv])==null||v.call(e,t,p1e)),n=this,n===e[NBr]||(e.odata=e[NBr]=n),n=this,n===e[IBr]||(e.data=e[IBr]=n),i=e[FBr]||(e[FBr]={open:[null]}),i.open[0]=this,r||e.on$("click",i,this),a=u=1,(s=e[HBr])||(a=u=0,e[HBr]=s=w("div",e,"cbp-bh %circle",null)),c=this.asstate,c===e[ket]||(u|=2,e[ket]=c),u&2&&s.flag$("cbp-bh %circle "+(e[ket]||"")),r||(h=w("section",e,null,null)),(d=e[BBr])||(e[BBr]=d=w("h2",h,"cbp-bj",null)),(f=e[VBr])||(e[VBr]=f=w("span",d,"cbp-bk cbp_bj",null)),m=this.aslabel,m===e[qBr]&&r||(e[zBr]=f[dn](e[qBr]=m,384,e[zBr])),($=e[WBr])||(e[WBr]=$=w("span",d,"cbp_bj",null)),b=this.asdetail,b===e[GBr]&&r||(e[ZBr]=$[dn](e[GBr]=b,384,e[ZBr])),r||(g=w("hr",h,null,null)),x=e[xc](C1n),_=S=1,(k=x.run(this.oel(this,"more")))||(_=S=0,x.cache(k=M(x.value,e,null,null))),k[Sv]&&(_||!k.setup||k.setup(S,x),k[gs](S)),k==e[JW]||!e[JW]&&(e[JW]=k)[$1e](e)||e[JW][y1e](e[JW]=k,e),r||t.sym||!e.setup||e.setup(o,t,p1e),t.sym||e[gs](o),e}opownpagebody(){var a;var e,t=H(),r,o,n,i,s;return r=o=1,(e=t[d1e])||(r=o=0,e=t[d1e]=e=R("op",null,"cbp-bo",null)),r||(e[Js]=t._),r||((a=e[Cv])==null||a.call(e,t,d1e)),n=e[x1e]("__",e),(i=e[YBr])||(e[YBr]=i=w("div",n,"cbp-bp",null)),s=this.raw,s===e[KBr]&&r||(e[XBr]=i[dn](e[KBr]=s,256,e[XBr])),r||t.sym||!e.setup||e.setup(o,t,d1e),t.sym||e[gs](o),e}};E(Np,M1n,"ExerciseTestResult",0);var k1e=Np;globalThis.ExerciseTestResult=k1e;var mVr=Symbol(),lh=class lh extends OPEmbed{constructor(){super(...arguments),super[A]||this[A](),re(this,mVr)}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.busy=e?e.busy:void 0}set id(e){this.id.$set(e,this,cet,"id")}get id(){return this.id.$get(this,cet,"id")}get id(){return this[bHr]||y((QW=this.key(),p(QW.rwxcd,Function)?QW.rwxcd(ADMIN|TEACHER):QW.rwxcd=ADMIN|TEACHER,QW),this,cet,"id",bHr,lh.prototype)}set title(e){this.title.$set(e,this,het,"title")}get title(){return this.title.$get(this,het,"title")}get title(){return this[gHr]||y((eZ=this.string(),p(eZ.editable,Function)?eZ.editable():eZ.editable=!0,eZ),this,het,"title",gHr,lh.prototype)}set disabled(e){this.disabled.$set(e,this,pet,"disabled")}get disabled(){return this.disabled.$get(this,pet,"disabled")}get disabled(){return this[kHr]||y((JBr=this.bool(),JBr),this,pet,"disabled",kHr,lh.prototype)}get should_pass(){return this.$up==this.$root.passing_tests}get astitle(){return(this.should_pass?"Passing":"Failing")+" Test Case "+this.$key}set _results(e){this._results.$set(e,this,det,"_results")}get _results(){return this._results.$get(this,det,"_results")}get _results(){return this[_Hr]||y((SA=this.coll(k1e,{layout:"list"}),p(SA.nofilter,Function)?SA.nofilter():SA.nofilter=!0,SA.callback=function(){return this.results},SA),this,det,"_results",_Hr,lh.prototype)}opownpagebody(){var L;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return r=o=1,(e=t[f1e])||(r=o=0,e=t[f1e]=e=R("op",null,"cbp-bq",null)),r||(e[Js]=t._),r||((L=e[Cv])==null||L.call(e,t,f1e)),n=e[x1e]("__",e),r||(i=w("h2",n,null,"Global Settings")),r||(i.optip="The settings below apply to all exercises, they are here for convenience to avoid excessive tab switching"),s=e[xc](E1n),u=c=1,(a=s.run(this.oel(APP.inspector.exercises,"global-header")))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[Sv]&&(u||!a.setup||a.setup(c,s),a[gs](c)),a==e[tZ]||!e[tZ]&&n[_et](e[tZ]=a)||(n[xet](a,e[tZ]),e[tZ]=a),r||(h=w("h2",n,null,"Exercise Settings and Stats")),r||(h.optip="The settings below are for this exercise only"),d=e[xc](j1n),m=$=1,(f=d.run(this.obutton(this.runtest)))||(m=$=0,d.cache(f=M(d.value,n,null,null))),f[Sv]&&(m||!f.setup||f.setup($,d),f[gs]($)),f==e[rZ]||!e[rZ]&&n[_et](e[rZ]=f)||(n[xet](f,e[rZ]),e[rZ]=f),g=x=1,(b=e[QBr])||(g=x=0,e[QBr]=b=w("section",n,null,null)),k=b[xc](A1n),S=v=1,(_=k.run(this.oel(this._results,"settings-section")))||(S=v=0,k.cache(_=M(k.value,b,"cbp-bw compact",null))),_[Sv]&&((!S||v&2)&&_.flags.reconcile(CA,"cbp-bw compact"),S||!_.setup||_.setup(v,k),_[gs](v)),_==b[CA]||!b[CA]&&(b[CA]=_)[$1e](b)||b[CA][y1e](b[CA]=_,b),g||!b.setup||b.setup(x,C),b[gs](x),j=e[xc](U1n),U=O=1,(P=j.run(this.oel(this.snapshot,"page-body")))||(U=O=0,j.cache(P=M(j.value,n,null,null))),P[Sv]&&(U||!P.setup||P.setup(O,j),P[gs](O)),P==e[oZ]||!e[oZ]&&n[_et](e[oZ]=P)||(n[xet](P,e[oZ]),e[oZ]=P),r||t.sym||!e.setup||e.setup(o,t,f1e),t.sym||e[gs](o),e}set snapshot(e){this.snapshot.$set(e,this,fet,"snapshot")}get snapshot(){return this.snapshot.$get(this,fet,"snapshot")}get snapshot(){return this[xHr]||y((eVr=this.embed(g1e),eVr),this,fet,"snapshot",xHr,lh.prototype)}get results(){var t,r,o;var e=this;return((o=(r=(t=APP.inspector.exercises.test_suite_run)==null?void 0:t.$children)==null?void 0:r.only)==null?void 0:o.call(r,function(n){return n.test_case==e}))||[]}get average_duration(){return this.results.len?this.results.reduce(function(t,r){return t+r.duration},0)/this.results.len:0}get results_count(){return this.results.len}get correct_results_count(){return this.results.filter($Vr).len}get incorrect_results_count(){return this.results.filter(yVr).len}set did_pass(e){this.did_pass.$set(e,this,met,"did_pass")}get did_pass(){return this.did_pass.$get(this,met,"did_pass")}get did_pass(){return this[vHr]||y((tVr=this.bool(),tVr),this,met,"did_pass",vHr,lh.prototype)}get wrapper(){return this.$root}get exercise(){return this.$root.exercise}get initial_code(){return this.wrapper.initial_code}get teacher_solution(){return this.wrapper.teacher_solution}get aslabel(){return this.title||this.$key}get asdetail(){return""+this.correct_results_count+" / "+this.results_count+" Correct"}get percent_correct(){return this.correct_results_count/this.results_count}get color(){let e=Math.max(0,Math.min(1,this.percent_correct));return"hsl("+(e<.5?e*60:30+(e-.5)*180)+",100%,75%)"}opownli(){var _;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k;return o=n=1,(t=r[m1e])||(o=n=0,t=r[m1e]=t=w("section",null,"cbp-by xli sm",null)),o||(t[Js]=r._),o||((_=t[Cv])==null||_.call(t,r,m1e)),i=this,i===t[rVr]||(t.odata=t[rVr]=i),i=this,i===t[oVr]||(t.data=t[oVr]=i),s=t[nVr]||(t[nVr]={open:[null]}),s.open[0]=this,o||t.on$("click",s,this),o||(a=w("section",t,null,null)),(u=t[iVr])||(t[iVr]=u=w("h2",a,"cbp-ca",null)),(c=t[sVr])||(t[sVr]=c=w("span",u,"cbp-cb cbp_ca",null)),h=this.aslabel,h===t[aVr]&&o||(t[lVr]=c[dn](t[aVr]=h,384,t[lVr])),(d=t[uVr])||(t[uVr]=d=w("span",u,"cbp-cc cbp_ca",null)),f=this.color,f===t[cVr]||d.css$var("--cbp_cd",t[cVr]=f,null,"c"),f=this.asdetail,f===t[pVr]&&o||(t[hVr]=d[dn](t[pVr]=f,256,t[hVr])),(m=t[dVr])||(t[dVr]=m=w("span",u,"cbp-ce cbp_ca",null)),o||m[dn]("Should "),e=null,this.should_pass?e="Pass":e="Fail",t[fVr]=m[dn](e,0,t[fVr]),o||($=w("hr",a,null,null)),b=t[xc](P1n),x=k=1,(g=b.run(this.oel(this,"more")))||(x=k=0,b.cache(g=M(b.value,t,null,null))),g[Sv]&&(x||!g.setup||g.setup(k,b),g[gs](k)),g==t[nZ]||!t[nZ]&&(t[nZ]=g)[$1e](t)||t[nZ][y1e](t[nZ]=g,t),o||r.sym||!t.setup||t.setup(n,r,m1e),r.sym||t[gs](n),t}set viewexercise(e){this.viewexercise.$set(e,this,$et,"viewexercise")}get viewexercise(){return this.viewexercise.$get(this,$et,"viewexercise")}get viewexercise(){return this[wHr]||y((EA=this.action(),p(EA.g,Function)?EA.g(0):EA.g=0,EA.callback=function(){return APP.open(this.exercise)},EA),this,$et,"viewexercise",wHr,lh.prototype)}get correct(){var e,t;return this.did_pass?(e=this.kind)==null?void 0:e.pass:(t=this.kind)==null?void 0:t.fail}get asstate(){return this.busy?"busy":this.correct?"pass":"fail"}get asicon(){return this.asstate}set disabletest(e){this.disabletest.$set(e,this,yet,"disabletest")}get disabletest(){return this.disabletest.$get(this,yet,"disabletest")}get disabletest(){return this[SHr]||y((jA=this.action(),p(jA.g,Function)?jA.g(0):jA.g=0,jA.callback=function(){if(globalThis.confirm("Are you sure?"))return this.disabled=!0,this.save()},jA),this,yet,"disabletest",SHr,lh.prototype)}set runtest(e){this.runtest.$set(e,this,bet,"runtest")}get runtest(){return this.runtest.$get(this,bet,"runtest")}get runtest(){return this[CHr]||y((AA=this.action(),p(AA.g,Function)?AA.g(0):AA.g=0,AA.callback=async function(){let e=await sZ.create();return this.busy=!0,await this.runtestsrv(e),this.busy=!1,APP.inspector.exercises.test_suite_run=e},AA),this,bet,"runtest",CHr,lh.prototype)}set runtestsrv(e){this.runtestsrv.$set(e,this,get,"runtestsrv")}get runtestsrv(){return this.runtestsrv.$get(this,get,"runtestsrv")}get runtestsrv(){return this[EHr]||y((UA=this.action(),p(UA.rpc,Function)?UA.rpc():UA.rpc=!0,UA.callback=!1,UA),this,get,"runtestsrv",EHr,lh.prototype)}};E(lh,mVr,"ExerciseTestCase",16);var _1e=lh;globalThis.ExerciseTestCase=_1e;T();oe();ge(),dt(),ln(),$e();var vet=Symbol("id"),bVr=Symbol(),wet=Symbol("exercise"),gVr=Symbol(),Cet=Symbol("pro_enabled"),kVr=Symbol(),Eet=Symbol("description"),_Vr=Symbol(),jet=Symbol("initial_code"),xVr=Symbol(),Aet=Symbol("teacher_solution"),vVr=Symbol(),Uet=Symbol("passing_tests"),wVr=Symbol(),Pet=Symbol("failing_tests"),SVr=Symbol(),Tet=Symbol("test_model"),CVr=Symbol(),Oet=Symbol("prod_model"),EVr=Symbol(),Ret=Symbol("_snapshots"),jVr=Symbol(),Met=Symbol("_should_pass"),AVr=Symbol(),Let=Symbol("_should_fail"),UVr=Symbol(),Det=Symbol("open-exercise"),PVr=Symbol(),Net=Symbol("run-tests"),TVr=Symbol(),Iet=Symbol("run-tests-srv"),OVr=Symbol(),Fet=Symbol("check-solution-srv"),RVr=Symbol(),Het=Symbol("incorrect"),MVr=Symbol(),Bet=Symbol("correct"),LVr=Symbol(),Vet=Symbol("has_test_cases"),DVr=Symbol(),zet=Symbol("missing_data"),NVr=Symbol(),qet=Symbol("id"),IVr=Symbol(),Wet=Symbol("exercise"),FVr=Symbol(),Zet=Symbol("hash"),HVr=Symbol(),R4,Qd,M4,e0,L4,D4,N4,I4,t0,r0,Mb,Lb,BVr=le("!&.disabled",globalThis,l=>!l.disabled),Db,Nb,Ip,Ib,Fb,OA,RA,MA,LA,VVr=le("&.correct",globalThis,l=>l.correct),v1e=Symbol(),zVr=Symbol(),qVr=Symbol(),WVr=Symbol(),ZVr=Symbol(),GVr=Symbol(),YVr=Symbol(),XVr=Symbol(),KVr=Symbol(),JVr=Symbol(),QVr=Symbol(),ezr=Symbol(),lZ=Symbol(),L1n=Symbol(),w1e=Symbol(),aZ=Symbol(),D1n=Symbol(),uZ=Symbol(),N1n=Symbol(),cZ=Symbol(),I1n=Symbol(),hZ=Symbol(),F1n=Symbol(),pZ=Symbol(),H1n=Symbol(),dZ=Symbol(),B1n=Symbol(),fZ=Symbol(),V1n=Symbol(),tzr=Symbol(),DA=Symbol(),z1n=Symbol(),rzr=Symbol(),NA=Symbol(),q1n=Symbol(),IA=Symbol(),W1n=Symbol(),mZ,ozr,nzr,izr=Symbol.for("##up"),szr=Symbol.for("##register"),lzr=Symbol.for("#placeChild"),o0=Symbol.for("#getRenderContext"),n0=Symbol.for("#isRichElement"),eu=Symbol.for("#afterVisit"),S1e=Symbol.for("#insertInto"),C1e=Symbol.for("#replaceWith"),Z1n=Symbol.for("#getSlot"),Ev=Symbol.for("#appendChild"),jv=Symbol.for("#replaceChild"),G1n=Symbol(),Gn=class Gn extends OPObject{set id(e){this.id.$set(e,this,vet,"id")}get id(){return this.id.$get(this,vet,"id")}get id(){return this[bVr]||y((R4=this.key(),p(R4.r,Function)?R4.r(ANYONE):R4.r=ANYONE,p(R4.wxcd,Function)?R4.wxcd(ADMIN|TEACHER):R4.wxcd=ADMIN|TEACHER,R4),this,vet,"id",bVr,Gn.prototype)}set exercise(e){this.exercise.$set(e,this,wet,"exercise")}get exercise(){return this.exercise.$get(this,wet,"exercise")}get exercise(){return this[gVr]||y((Qd=this.ref(ScrimPractice),p(Qd.r,Function)?Qd.r(ANYONE):Qd.r=ANYONE,p(Qd.w,Function)?Qd.w(ADMIN|TEACHER):Qd.w=ADMIN|TEACHER,p(Qd.composite,Function)?Qd.composite():Qd.composite=!0,Qd),this,wet,"exercise",gVr,Gn.prototype)}set pro_enabled(e){this.pro_enabled.$set(e,this,Cet,"pro_enabled")}get pro_enabled(){return this.pro_enabled.$get(this,Cet,"pro_enabled")}get pro_enabled(){return this[kVr]||y((M4=this.bool(),p(M4.r,Function)?M4.r(ANYONE):M4.r=ANYONE,p(M4.w,Function)?M4.w(ADMIN|TEACHER):M4.w=ADMIN|TEACHER,M4),this,Cet,"pro_enabled",kVr,Gn.prototype)}set description(e){this.description.$set(e,this,Eet,"description")}get description(){return this.description.$get(this,Eet,"description")}get description(){return this[_Vr]||y((e0=this.text(),p(e0.rw,Function)?e0.rw(ADMIN|TEACHER):e0.rw=ADMIN|TEACHER,p(e0.editable,Function)?e0.editable():e0.editable=!0,p(e0.label,Function)?e0.label("Challenge Description"):e0.label="Challenge Description",e0),this,Eet,"description",_Vr,Gn.prototype)}set initial_code(e){this.initial_code.$set(e,this,jet,"initial_code")}get initial_code(){return this.initial_code.$get(this,jet,"initial_code")}get initial_code(){return this[xVr]||y((L4=this.embed(ExerciseSnapshot),p(L4.rw,Function)?L4.rw(ADMIN|TEACHER):L4.rw=ADMIN|TEACHER,p(L4.stat,Function)?L4.stat():L4.stat=!0,L4),this,jet,"initial_code",xVr,Gn.prototype)}set teacher_solution(e){this.teacher_solution.$set(e,this,Aet,"teacher_solution")}get teacher_solution(){return this.teacher_solution.$get(this,Aet,"teacher_solution")}get teacher_solution(){return this[vVr]||y((D4=this.embed(ExerciseSnapshot),p(D4.rw,Function)?D4.rw(ADMIN|TEACHER):D4.rw=ADMIN|TEACHER,p(D4.stat,Function)?D4.stat():D4.stat=!0,D4),this,Aet,"teacher_solution",vVr,Gn.prototype)}set passing_tests(e){this.passing_tests.$set(e,this,Uet,"passing_tests")}get passing_tests(){return this.passing_tests.$get(this,Uet,"passing_tests")}get passing_tests(){return this[wVr]||y((N4=this.embeds(ExerciseTestCase),p(N4.rw,Function)?N4.rw(ADMIN|TEACHER):N4.rw=ADMIN|TEACHER,p(N4.stat,Function)?N4.stat():N4.stat=!0,N4),this,Uet,"passing_tests",wVr,Gn.prototype)}set failing_tests(e){this.failing_tests.$set(e,this,Pet,"failing_tests")}get failing_tests(){return this.failing_tests.$get(this,Pet,"failing_tests")}get failing_tests(){return this[SVr]||y((I4=this.embeds(ExerciseTestCase),p(I4.rw,Function)?I4.rw(ADMIN|TEACHER):I4.rw=ADMIN|TEACHER,p(I4.stat,Function)?I4.stat():I4.stat=!0,I4),this,Pet,"failing_tests",SVr,Gn.prototype)}set test_model(e){this.test_model.$set(e,this,Tet,"test_model")}get test_model(){return this.test_model.$get(this,Tet,"test_model")}get test_model(){return this[CVr]||y((t0=this.ref(LanguageModel),p(t0.rw,Function)?t0.rw(ADMIN|TEACHER):t0.rw=ADMIN|TEACHER,p(t0.editable,Function)?t0.editable():t0.editable=!0,p(t0.label,Function)?t0.label("Test model for this exercise only"):t0.label="Test model for this exercise only",t0),this,Tet,"test_model",CVr,Gn.prototype)}set prod_model(e){this.prod_model.$set(e,this,Oet,"prod_model")}get prod_model(){return this.prod_model.$get(this,Oet,"prod_model")}get prod_model(){return this[EVr]||y((r0=this.ref(LanguageModel),p(r0.rw,Function)?r0.rw(ADMIN|TEACHER):r0.rw=ADMIN|TEACHER,p(r0.editable,Function)?r0.editable():r0.editable=!0,p(r0.label,Function)?r0.label("Production model for this exercise only"):r0.label="Production model for this exercise only",r0),this,Oet,"prod_model",EVr,Gn.prototype)}set _snapshots(e){this._snapshots.$set(e,this,Ret,"_snapshots")}get _snapshots(){return this._snapshots.$get(this,Ret,"_snapshots")}get _snapshots(){return this[jVr]||y((Mb=this.coll(ExerciseSnapshot,{layout:"list"}),p(Mb.rw,Function)?Mb.rw(ADMIN|TEACHER):Mb.rw=ADMIN|TEACHER,p(Mb.nofilter,Function)?Mb.nofilter():Mb.nofilter=!0,Mb.callback=function(){return[this.initial_code,this.teacher_solution]},Mb),this,Ret,"_snapshots",jVr,Gn.prototype)}set _should_pass(e){this._should_pass.$set(e,this,Met,"_should_pass")}get _should_pass(){return this._should_pass.$get(this,Met,"_should_pass")}get _should_pass(){return this[AVr]||y((Lb=this.coll(ExerciseSnapshot,{layout:"list"}),p(Lb.rw,Function)?Lb.rw(ADMIN|TEACHER):Lb.rw=ADMIN|TEACHER,p(Lb.nofilter,Function)?Lb.nofilter():Lb.nofilter=!0,Lb.callback=function(){return this.passing_tests.only(BVr)},Lb),this,Met,"_should_pass",AVr,Gn.prototype)}set _should_fail(e){this._should_fail.$set(e,this,Let,"_should_fail")}get _should_fail(){return this._should_fail.$get(this,Let,"_should_fail")}get _should_fail(){return this[UVr]||y((Db=this.coll(ExerciseSnapshot,{layout:"list"}),p(Db.rw,Function)?Db.rw(ADMIN|TEACHER):Db.rw=ADMIN|TEACHER,p(Db.nofilter,Function)?Db.nofilter():Db.nofilter=!0,Db.callback=function(){return this.failing_tests.only(BVr)},Db),this,Let,"_should_fail",UVr,Gn.prototype)}set openexercise(e){this.openexercise.$set(e,this,Det,"openexercise")}get openexercise(){return this.openexercise.$get(this,Det,"openexercise")}get openexercise(){return this[PVr]||y((Nb=this.action(),p(Nb.rx,Function)?Nb.rx(ADMIN|TEACHER):Nb.rx=ADMIN|TEACHER,p(Nb.g,Function)?Nb.g(0):Nb.g=0,Nb.callback=function(){return APP.newtab(this.exercise)},Nb),this,Det,"openexercise",PVr,Gn.prototype)}set runtests(e){this.runtests.$set(e,this,Net,"runtests")}get runtests(){return this.runtests.$get(this,Net,"runtests")}get runtests(){return this[TVr]||y((Ip=this.action(),p(Ip.rx,Function)?Ip.rx(ADMIN|TEACHER):Ip.rx=ADMIN|TEACHER,p(Ip.g,Function)?Ip.g(0):Ip.g=0,p(Ip.atomic,Function)?Ip.atomic():Ip.atomic=!0,Ip.callback=async function(){let e=await ExerciseTestSuiteRun.create();return await this.runtestssrv(e),APP.inspector.exercises.test_suite_run=e},Ip),this,Net,"runtests",TVr,Gn.prototype)}set runtestssrv(e){this.runtestssrv.$set(e,this,Iet,"runtestssrv")}get runtestssrv(){return this.runtestssrv.$get(this,Iet,"runtestssrv")}get runtestssrv(){return this[OVr]||y((Ib=this.action(),p(Ib.rx,Function)?Ib.rx(ADMIN|TEACHER):Ib.rx=ADMIN|TEACHER,p(Ib.rpc,Function)?Ib.rpc():Ib.rpc=!0,Ib.callback=!1,Ib),this,Iet,"runtestssrv",OVr,Gn.prototype)}set checksolutionsrv(e){this.checksolutionsrv.$set(e,this,Fet,"checksolutionsrv")}get checksolutionsrv(){return this.checksolutionsrv.$get(this,Fet,"checksolutionsrv")}get checksolutionsrv(){return this[RVr]||y((Fb=this.action(),p(Fb.rx,Function)?Fb.rx(USER):Fb.rx=USER,p(Fb.rpc,Function)?Fb.rpc():Fb.rpc=!0,Fb.callback=!1,Fb),this,Fet,"checksolutionsrv",RVr,Gn.prototype)}set incorrect(e){this.incorrect.$set(e,this,Het,"incorrect")}get incorrect(){return this.incorrect.$get(this,Het,"incorrect")}get incorrect(){return this[MVr]||y((OA=this.memo(),p(OA.f,Function)?OA.f():OA.f=!0,OA.callback=function(){return this.incorrect},OA),this,Het,"incorrect",MVr,Gn.prototype)}set correct(e){this.correct.$set(e,this,Bet,"correct")}get correct(){return this.correct.$get(this,Bet,"correct")}get correct(){return this[LVr]||y((RA=this.memo(),p(RA.f,Function)?RA.f():RA.f=!0,RA.callback=function(){return this.correct},RA),this,Bet,"correct",LVr,Gn.prototype)}set has_test_cases(e){this.has_test_cases.$set(e,this,Vet,"has_test_cases")}get has_test_cases(){return this.has_test_cases.$get(this,Vet,"has_test_cases")}get has_test_cases(){return this[DVr]||y((MA=this.memo(),p(MA.f,Function)?MA.f():MA.f=!0,MA.callback=function(){return this.passing_tests.len||this.failing_tests.len},MA),this,Vet,"has_test_cases",DVr,Gn.prototype)}set missing_data(e){this.missing_data.$set(e,this,zet,"missing_data")}get missing_data(){return this.missing_data.$get(this,zet,"missing_data")}get missing_data(){return this[NVr]||y((LA=this.memo(),p(LA.f,Function)?LA.f():LA.f=!0,LA.callback=function(){return!this.initial_code||!this.teacher_solution||!this.description},LA),this,zet,"missing_data",NVr,Gn.prototype)}get enabled(){var e,t;return this.resolve(),globalThis.embed||!OP.user||!(ME!=null&&ME.admin)&&!(ME!=null&&ME.pro)&&!((t=(e=ME==null?void 0:ME.credits)==null?void 0:e.pro_challenges)!=null&&t.remaining)?!1:!!(this.pro_enabled||ME!=null&&ME.admin&&this.initial_code&&this.teacher_solution&&this.description)}get aslabel(){return this.exercise.resolved.aslabel}get asstate(){return this.busy?"busy":this.correct?"pass":"fail"}get correct(){return!this.incorrect_results_count}get incorrect(){return this.incorrect_results_count}get tests(){return this.passing_tests.concat(this.failing_tests)}get results(){var t;var e=this;return((t=APP.inspector.exercises.test_suite_run)==null?void 0:t.$children.only(function(r){return r.test_case.wrapper==e}))||[]}get results_count(){return this.results.len}get correct_results_count(){return this.results.filter(VVr).len}get incorrect_results_count(){return this.results_count-this.results.filter(VVr).len}get average_duration(){return this.results.len?this.results.reduce(function(t,r){return t+r.duration},0)/this.results.len:0}get percent_correct(){return this.correct_results_count/this.results_count}get color(){let e=Math.max(0,Math.min(1,this.percent_correct));return"hsl("+(e<.5?e*60:30+(e-.5)*180)+",100%,75%)"}get asdetail(){return""+this.correct_results_count+" / "+this.results_count+" Correct"}opownli(){var S;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return t.this=this,o=t[v1e]=t[v1e]||new Map,n=i=1,(r=o.get(s=this.id))||(n=i=0,o.set(s,r=w("section",null,"cbq-af xli sm",null))),n||(r[izr]=t._),n||((S=r[szr])==null||S.call(r,t,v1e)),a=this,a===r[zVr]||(r.odata=r[zVr]=a),a=this,a===r[qVr]||(r.data=r[qVr]=a),n||r.on$("click",{meta:!0,trap:!0,$_:[function(v,C){return APP.newtab(t.this)}]},this),u=r[WVr]||(r[WVr]={open:[null]}),u.open[0]=this,n||r.on$("click",u,this),n||(c=w("section",r,null,null)),(h=r[ZVr])||(r[ZVr]=h=w("h2",c,"cbq-ah",null)),(d=r[GVr])||(r[GVr]=d=w("span",h,"cbq-ai cbq_ah",null)),f=this.aslabel,f===r[XVr]&&n||(r[YVr]=d[lzr](r[XVr]=f,384,r[YVr])),(m=r[KVr])||(r[KVr]=m=w("span",h,"cbq-aj cbq_ah",null)),$=this.color,$===r[JVr]||m.css$var("--cbq_ak",r[JVr]=$,null,"c"),$=this.asdetail,$===r[ezr]&&n||(r[QVr]=m[lzr](r[ezr]=$,256,r[QVr])),n||(b=w("hr",c,null,null)),g=r[o0](L1n),k=_=1,(x=g.run(this.oel(this,"more")))||(k=_=0,g.cache(x=M(g.value,r,null,null))),x[n0]&&(k||!x.setup||x.setup(_,g),x[eu](_)),x==r[lZ]||!r[lZ]&&(r[lZ]=x)[S1e](r)||r[lZ][C1e](r[lZ]=x,r),n||t.sym||!r.setup||r.setup(i,t,v1e),t.sym||r[eu](i),r}opownpagebody(){var He;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe;return r=o=1,(e=t[w1e])||(r=o=0,e=t[w1e]=e=R("op",null,"cbq-an",null)),r||(e[izr]=t._),r||((He=e[szr])==null||He.call(e,t,w1e)),n=e[Z1n]("__",e),r||(i=w("h2",n,null,"Global Settings")),r||(i.optip="The settings below apply to all exercises, they are here for convenience to avoid excessive tab switching"),s=e[o0](D1n),u=c=1,(a=s.run(this.oel(APP.inspector.exercises,"global-header")))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[n0]&&(u||!a.setup||a.setup(c,s),a[eu](c)),a==e[aZ]||!e[aZ]&&n[Ev](e[aZ]=a)||(n[jv](a,e[aZ]),e[aZ]=a),r||(h=w("h2",n,null,"Exercise Settings and Stats")),r||(h.optip="The settings below are for this exercise only"),d=e[o0](N1n),m=$=1,(f=d.run(this.obutton(this.openexercise)))||(m=$=0,d.cache(f=M(d.value,n,null,null))),f[n0]&&(m||!f.setup||f.setup($,d),f[eu]($)),f==e[uZ]||!e[uZ]&&n[Ev](e[uZ]=f)||(n[jv](f,e[uZ]),e[uZ]=f),b=e[o0](I1n),x=k=1,(g=b.run(this.obutton(this.runtests)))||(x=k=0,b.cache(g=M(b.value,n,null,null))),g[n0]&&(x||!g.setup||g.setup(k,b),g[eu](k)),g==e[cZ]||!e[cZ]&&n[Ev](e[cZ]=g)||(n[jv](g,e[cZ]),e[cZ]=g),_=e[o0](F1n),v=C=1,(S=_.run(this.ofield(this.$.test_model)))||(v=C=0,_.cache(S=M(_.value,n,null,null))),S[n0]&&(v||!S.setup||S.setup(C,_),S[eu](C)),S==e[hZ]||!e[hZ]&&n[Ev](e[hZ]=S)||(n[jv](S,e[hZ]),e[hZ]=S),j=e[o0](H1n),U=O=1,(P=j.run(this.ofield(this.$.prod_model)))||(U=O=0,j.cache(P=M(j.value,n,null,null))),P[n0]&&(U||!P.setup||P.setup(O,j),P[eu](O)),P==e[pZ]||!e[pZ]&&n[Ev](e[pZ]=P)||(n[jv](P,e[pZ]),e[pZ]=P),L=e[o0](B1n),F=N=1,(I=L.run(this.ofield(this.$.pro_enabled)))||(F=N=0,L.cache(I=M(L.value,n,null,null))),I[n0]&&(F||!I.setup||I.setup(N,L),I[eu](N)),I==e[dZ]||!e[dZ]&&n[Ev](e[dZ]=I)||(n[jv](I,e[dZ]),e[dZ]=I),V=e[o0](V1n),z=q=1,(W=V.run(this.ofield(this.$.description)))||(z=q=0,V.cache(W=M(V.value,n,null,null))),W[n0]&&(z||!W.setup||W.setup(q,V),W[eu](q)),W==e[fZ]||!e[fZ]&&n[Ev](e[fZ]=W)||(n[jv](W,e[fZ]),e[fZ]=W),K=X=1,(Y=e[tzr])||(K=X=0,e[tzr]=Y=w("section",n,null,null)),Z=Y[o0](z1n),ee=te=1,(Q=Z.run(this.oel(this._snapshots,"settings-section")))||(ee=te=0,Z.cache(Q=M(Z.value,Y,"cbq-ay compact",null))),Q[n0]&&((!ee||te&2)&&Q.flags.reconcile(DA,"cbq-ay compact"),ee||!Q.setup||Q.setup(te,Z),Q[eu](te)),Q==Y[DA]||!Y[DA]&&(Y[DA]=Q)[S1e](Y)||Y[DA][C1e](Y[DA]=Q,Y),K||!Y.setup||Y.setup(X,ne),Y[eu](X),J=me=1,(ie=e[rzr])||(J=me=0,e[rzr]=ie=w("section",n,null,null)),ce=ie[o0](q1n),we=ae=1,(ye=ce.run(this.oel(this._should_pass,"settings-section")))||(we=ae=0,ce.cache(ye=M(ce.value,ie,"cbq-ba compact",null))),ye[n0]&&((!we||ae&2)&&ye.flags.reconcile(NA,"cbq-ba compact"),we||!ye.setup||ye.setup(ae,ce),ye[eu](ae)),ye==ie[NA]||!ie[NA]&&(ie[NA]=ye)[S1e](ie)||ie[NA][C1e](ie[NA]=ye,ie),be=ie[o0](W1n),Ae=ve=1,(_e=be.run(this.oel(this._should_fail,"settings-section")))||(Ae=ve=0,be.cache(_e=M(be.value,ie,"cbq-bb compact",null))),_e[n0]&&((!Ae||ve&2)&&_e.flags.reconcile(IA,"cbq-bb compact"),Ae||!_e.setup||_e.setup(ve,be),_e[eu](ve)),_e==ie[IA]||!ie[IA]&&(ie[IA]=_e)[S1e](ie)||ie[IA][C1e](ie[IA]=_e,ie),J||!ie.setup||ie.setup(me,Pe),ie[eu](me),r||t.sym||!e.setup||e.setup(o,t,w1e),t.sym||e[eu](o),e}};E(Gn,G1n,"ExerciseWrapper",0);var Get=Gn;globalThis.ExerciseWrapper=Get;var Y1n=Symbol(),FA=class FA extends OPObject{set id(e){this.id.$set(e,this,qet,"id")}get id(){return this.id.$get(this,qet,"id")}get id(){return this[IVr]||y((mZ=this.key(),p(mZ.rwxcd,Function)?mZ.rwxcd(ADMIN|TEACHER):mZ.rwxcd=ADMIN|TEACHER,mZ),this,qet,"id",IVr,FA.prototype)}set exercise(e){this.exercise.$set(e,this,Wet,"exercise")}get exercise(){return this.exercise.$get(this,Wet,"exercise")}get exercise(){return this[FVr]||y((ozr=this.ref(ScrimPractice),ozr),this,Wet,"exercise",FVr,FA.prototype)}set hash(e){this.hash.$set(e,this,Zet,"hash")}get hash(){return this.hash.$get(this,Zet,"hash")}get hash(){return this[HVr]||y((nzr=this.bytea(),nzr),this,Zet,"hash",HVr,FA.prototype)}};E(FA,Y1n,"ExerciseEvaluation",0);var Yet=FA;globalThis.ExerciseEvaluation=Yet;T();oe();var Xet=Symbol("audio"),azr=Symbol(),Ket=Symbol("cuts"),uzr=Symbol(),Jet=Symbol("duration"),czr=Symbol(),Qet=Symbol("has_captions"),hzr=Symbol(),ett=Symbol("tl"),pzr=Symbol(),ttt=Symbol("transcribe"),dzr=Symbol(),rtt=Symbol("generate_captions"),fzr=Symbol(),mzr,$zr,yzr,bzr,ott,ntt,Hb,gzr=Symbol.for("#v"),X1n=Symbol.for("#computed"),kzr=Symbol.for("#tl"),_zr=Symbol(),stt=class stt{constructor(e=null){this[A](e),re(this,_zr)}[A](e=null,t=!0,r=!0){this.o0=e?e.o0:void 0,this.o1=e?e.o1:void 0,this.t0=e?e.t0:void 0,this.t1=e?e.t1:void 0,this.s0=e?e.s0:void 0,this.s1=e?e.s1:void 0}get duration(){return this.t1-this.t0}get dur(){return this.duration}get span(){return this.o1-this.o0}};E(stt,_zr,"TLRange",16);var E1e=stt,xzr=Symbol(),ltt=class ltt{constructor(e,t={}){this[gzr]=0,this.cuts=e,this.options=t,this.ranges=[],re(this,xzr)}get o0(){return this.options.startOffset}get o1(){return this.options.endOffset}get startOffset(){return this.o0}get endOffset(){return this.o1}get span(){return this.o1-this.o0}get t0(){return 0}get t1(){return this.offsetToTime(this.o1)}get startTime(){return this.t0}get endTime(){return this.t1}get duration(){return this.t1-this.t0}compute(){this[gzr]++;let e=new E1e({o0:0,o1:this.startOffset,t0:0,t1:0,s0:0,s1:0}),t=e,r=this.ranges=[],o=this.cuts.slice(0).filter(function(s){return s&&s.span>0});o.sort(function(s,a){return s.offset-a.offset});let n=0,i;for(;i=o[n];){let s=o[n-1];if(s){let a=s.end,u=i.end;if(i.offset>=s.offset&&a>=u&&!s.mute){o.splice(n,1);continue}}n++}for(let s=0,a=B(o),u=a.length;s<u;s++){let c=a[s],h=o[s+1],d=c.dur??0;d<0&&(d=c.span*-d);let f=Math.max(c.offset,t.o1),m=Math.max(c.end,t.o1),$=e.t1+(f-e.o1),b=$+d,g=e.s1+(f-e.o1),x=g+(d==0?200:d);if(h&&(m=Math.min(m,h.offset)),m-f<=0)continue;let k=c[X1n]=new E1e({o0:f,o1:m,t0:$,t1:b,s0:g,s1:x,options:c[4]});r.push(k),e=k}return this}timeToOffset(e){let t=0,r=this.ranges.length,o=null;if(r==0)return e+this.startOffset;for(;t<r;){if(o=this.ranges[t++],e<o.t0)return o.o0-(o.t0-e);if(e<o.t1)return o.o0+(o.o1-o.o0)*((e-o.t0)/(o.t1-o.t0))}return o.o1+(e-o.t1)}valToOffset(e,t="s"){let r=0,o=this.ranges.length,n=null,i=""+t+"0",s=""+t+"1",a=0,u=0;if(o==0)return e+this.startOffset;for(;r<o;){if(n=this.ranges[r++],a=n[i],u=n[s],e<a)return n.o0-(a-e);if(e<u)return n.o0+(n.o1-n.o0)*((e-a)/(u-a))}return n.o1+(e-u)}cuesAtOffset(e){let t=0,r=this.ranges.length,o=null,n=[];for(;t<r;)o=this.ranges[t++],e>=o.o0&&o.o1>=e&&n.push(o);return n}offsetToTime(e){let t=0,r=this.ranges.length,o=null,n;if(r==0)return e-this.startOffset;for(;t<r;)if(o=this.ranges[t++],e<o.o0){n=o.t0-(o.o0-e);break}else if(e<o.o1){n=o.t0+(o.t1-o.t0)*((e-o.o0)/(o.o1-o.o0));break}return n==null&&(n=o.t1+(e-o.o1)),n}offsetToVal(e,t="s"){let r=0,o=this.ranges.length,n=null,i,s=""+t+"0",a=""+t+"1",u=0,c=0;if(o==0)return e-this.startOffset;for(;r<o;)if(n=this.ranges[r++],u=n[s],c=n[a],e<n.o0){i=u-(n.o0-e);break}else if(e<n.o1){i=u+(c-u)*((e-n.o0)/(n.o1-n.o0));break}return i==null&&(i=c+(e-n.o1)),i}audioslices(e=0,t=0,r=!1,o=this.options.audio){return this.sliceClips(o,e,t,r)}sliceClips(e,t=0,r=0,o=!1){let n=[];for(let h=0,d=B(e),f=d.length;h<f;h++){let m=d[h],$=e[h+1],b=m.offset,g=m.span;$&&m.end>$.offset&&(g=$.offset-b);let x=AudioSlice.of({skip:0,cue:m,o0:b,o1:b+g,t0:this.offsetToTime(b),t1:this.offsetToTime(b+g)});x.s0=this.offsetToVal(b,"s"),x.s1=this.offsetToVal(b+g,"s"),g&&n.push(x)}let i=[],s,a=0,u=0,c;for(;c=n[u++];){let h=c.t0,d=c.t1;if(c.cue.overlaid){c.o1=this.timeToOffset(c.t1=c.t0+c.cue.span);continue}for(let f=0,m=B(this.ranges),$=m.length;f<$;f++){let b=m[f],g=b.t0,x=b.t1,k=b.dur>0&&p(b.options,Array);if(!(g>d||h>x)){if(h>=g&&x>=d){c.disabled=b;break}if(b.o0>c.o0){if(o||k){let _=AudioSlice.of({cue:c.cue,o0:b.o0,t0:b.t0,s0:b.s0,o1:Math.min(c.o1,b.o1),t1:Math.min(c.t1,b.t1),s1:Math.min(c.s1,b.s1),skip:c.skip+(b.o0-c.o0),trim:b});k&&(_.realSkip=_.skip,_.skip+=b.options[0]-b.o0),n.splice(u++,0,_)}if(b.o1<c.o1){let _=AudioSlice.of({cue:c.cue,o0:b.o1,t0:b.t1,s0:b.s1,o1:c.o1,t1:c.t1,s1:c.s1,skip:c.skip+(b.o1-c.o0)});n.splice(u,0,_)}c.o1=b.o0,c.t1=b.t0,c.s1=b.s0;break}else if(b.o1>c.o0){if(o){let _=AudioSlice.of({cue:c,o0:c.o0,t0:c.t0,s0:c.s0,o1:Math.min(c.o1,b.o1),t1:Math.min(c.t1,b.t1),s1:Math.min(c.s1,b.s1),skip:c.skip,trim:b});k&&(console.log("special gap will be wrong"),_.skip+=b.options[0]-b.o0),n.splice(u++,0,_)}c.skip=c.skip+(b.o1-c.o0),c.t0=b.t1,c.s0=b.s1,c.o0=b.o1}}}}if(o?n=n.sort(function(h,d){return h.o0-d.o0}):(n=n.filter(function(h){return!h.disabled}),n=n.sort(function(h,d){return h.t0-d.t0})),r){let h=this.offsetToTime(r);for(let d=0,f=B(n),m=f.length;d<m;d++){let $=f[d];$.t0>h&&($.outOfBounds=!0),$.t1>h&&($.t1=h)}}if(t){let h=this.offsetToTime(t);for(let d=0,f=B(n),m=f.length;d<m;d++){let $=f[d];$.t0-=h,$.t1-=h,$.t0<0&&($.skip+=Math.abs($.t0),$.t0=0)}}return o||(n=n.filter(function(h){return h.s1>0&&!h.outOfBounds&&h.s1-h.s0>0})),n}};E(ltt,xzr,"SITransformedTimeline",16);var j1e=ltt;globalThis.SITransformedTimeline=j1e;var K1n=Symbol(),Bb=class Bb extends OPEmbed{set audio(e){this.audio.$set(e,this,Xet,"audio")}get audio(){return this.audio.$get(this,Xet,"audio")}get audio(){return this[azr]||y((mzr=this.tuples(AudioCue),mzr),this,Xet,"audio",azr,Bb.prototype)}set cuts(e){this.cuts.$set(e,this,Ket,"cuts")}get cuts(){return this.cuts.$get(this,Ket,"cuts")}get cuts(){return this[uzr]||y(($zr=this.tuples(TimeCue),$zr),this,Ket,"cuts",uzr,Bb.prototype)}set duration(e){this.duration.$set(e,this,Jet,"duration")}get duration(){return this.duration.$get(this,Jet,"duration")}get duration(){return this[czr]||y((yzr=this.number(),yzr),this,Jet,"duration",czr,Bb.prototype)}set has_captions(e){this.has_captions.$set(e,this,Qet,"has_captions")}get has_captions(){return this.has_captions.$get(this,Qet,"has_captions")}get has_captions(){return this[hzr]||y((bzr=this.bit(0),bzr),this,Qet,"has_captions",hzr,Bb.prototype)}set tl(e){this.tl.$set(e,this,ett,"tl")}get tl(){return this.tl.$get(this,ett,"tl")}get tl(){return this[pzr]||y((ott=this.memo(),ott.callback=function(){return this[kzr]||=new j1e(this.cuts,this),this[kzr].compute()},ott),this,ett,"tl",pzr,Bb.prototype)}get ranges(){return this.tl.ranges}get startOffset(){return this.$up.offset}get endOffset(){return this.$up.end}get startTime(){return 0}get endTime(){return this.offsetToTime(this.endOffset)}get computedDuration(){return this.tl.duration}timeToOffset(e){return this.tl.timeToOffset(e)}valToOffset(e,t="s"){return this.tl.valToOffset(e,t)}cuesAtOffset(e){return this.tl.cuesAtOffset(e)}offsetToTime(e){return this.tl.offsetToTime(e)}offsetToVal(e,t="s"){return this.tl.offsetToVal(e,t)}audioslices(...e){return this.tl.audioslices(...e)}set transcribe(e){this.transcribe.$set(e,this,ttt,"transcribe")}get transcribe(){return this.transcribe.$get(this,ttt,"transcribe")}get transcribe(){return this[dzr]||y((ntt=this.action(),ntt.callback=async function(e="nova-2-general",t=!1){for(let r=0,o=B(this.audio),n=o.length;r<n;r++){let i=o[r];(!i.src.transcribed||t)&&await i.src.transcribe({model:e})}return!0},ntt),this,ttt,"transcribe",dzr,Bb.prototype)}};E(Bb,K1n,"ScrimClip",0);var A1e=Bb;globalThis.ScrimClip=A1e;var J1n=Symbol(),U1e=class U1e extends A1e{get cc(){var e,t;return this.has_captions||((t=(e=this.audio.at(0))==null?void 0:e.src)==null?void 0:t.cc)}set generate_captions(e){this.generate_captions.$set(e,this,rtt,"generate_captions")}get generate_captions(){return this.generate_captions.$get(this,rtt,"generate_captions")}get generate_captions(){return this[fzr]||y((Hb=this.action(),p(Hb.rx,Function)?Hb.rx(ADMIN):Hb.rx=ADMIN,p(Hb.g,Function)?Hb.g(1):Hb.g=1,Hb.callback=async function(...e){await this;try{for(let t=0,r=B(this.audio||[]),o=r.length;t<o;t++){let n=r[t],i=n.src;await i,p(i,OPAudio)&&(i=n.src=ScrimAudioTrack.for({scrim:this.$root,audio:i}),await i.save()),i.cc||await i.transcribe()}this.has_captions=!0,this.$root.save()}catch{}return!0},Hb),this,rtt,"generate_captions",fzr,U1e.prototype)}};E(U1e,J1n,"ScrimClipProcessed",0);var itt=U1e;globalThis.ScrimClipProcessed=itt;T();oe();var att=Symbol("options"),vzr=Symbol(),utt=Symbol("draft"),wzr=Symbol(),ctt=Symbol("final"),Szr=Symbol(),htt=Symbol("started"),Czr=Symbol(),ptt=Symbol("name"),Ezr=Symbol(),dtt=Symbol("offset"),jzr=Symbol(),ftt=Symbol("end"),Azr=Symbol(),mtt=Symbol("byte_offset"),Uzr=Symbol(),$tt=Symbol("duration"),Pzr=Symbol(),ytt=Symbol("stop"),Tzr=Symbol(),btt=Symbol("edit-clip"),Ozr=Symbol(),gtt=Symbol("generate_captions"),Rzr=Symbol(),ktt=Symbol("transcript"),Mzr=Symbol(),_tt=Symbol("generate_transcript"),Lzr=Symbol(),xtt=Symbol("process"),Dzr=Symbol(),vtt=Symbol("probe"),Nzr=Symbol(),Izr,$Z,yZ,Fzr,Hzr,Bzr,Vzr,zzr,bZ,wtt,HA,Vb,gZ,Fp,BA,VA,P1e=Symbol(),ks=class ks extends Qe(P1e,OPEmbed,ScrimMarker){constructor(){super(...arguments),super[A]||this[A](),re(this,P1e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[P1e])==null||o.call(this,...arguments)}get scrim(){return this.$root}set options(e){this.options.$set(e,this,att,"options")}get options(){return this.options.$get(this,att,"options")}get options(){return this[vzr]||y((Izr=this.json(),Izr),this,att,"options",vzr,ks.prototype)}set draft(e){this.draft.$set(e,this,utt,"draft")}get draft(){return this.draft.$get(this,utt,"draft")}get draft(){return this[wzr]||y(($Z=this.embed(ScrimClip),p($Z.lazy,Function)?$Z.lazy():$Z.lazy=!0,$Z),this,utt,"draft",wzr,ks.prototype)}set final(e){this.final.$set(e,this,ctt,"final")}get final(){return this.final.$get(this,ctt,"final")}get final(){return this[Szr]||y((yZ=this.embed(ScrimClipProcessed),p(yZ.lazy,Function)?yZ.lazy():yZ.lazy=!0,yZ),this,ctt,"final",Szr,ks.prototype)}set started(e){this.started.$set(e,this,htt,"started")}get started(){return this.started.$get(this,htt,"started")}get started(){return this[Czr]||y((Fzr=this.ts(),Fzr),this,htt,"started",Czr,ks.prototype)}set name(e){this.name.$set(e,this,ptt,"name")}get name(){return this.name.$get(this,ptt,"name")}get name(){return this[Ezr]||y((Hzr=this.string(),Hzr),this,ptt,"name",Ezr,ks.prototype)}set offset(e){this.offset.$set(e,this,dtt,"offset")}get offset(){return this.offset.$get(this,dtt,"offset")}get offset(){return this[jzr]||y((Bzr=this.number(),Bzr),this,dtt,"offset",jzr,ks.prototype)}set end(e){this.end.$set(e,this,ftt,"end")}get end(){return this.end.$get(this,ftt,"end")}get end(){return this[Azr]||y((Vzr=this.number(),Vzr),this,ftt,"end",Azr,ks.prototype)}set byte_offset(e){this.byte_offset.$set(e,this,mtt,"byte_offset")}get byte_offset(){return this.byte_offset.$get(this,mtt,"byte_offset")}get byte_offset(){return this[Uzr]||y((zzr=this.number(),zzr),this,mtt,"byte_offset",Uzr,ks.prototype)}set duration(e){this.duration.$set(e,this,$tt,"duration")}get duration(){return this.duration.$get(this,$tt,"duration")}get duration(){return this[Pzr]||y((bZ=this.ms(),p(bZ.fallback,Function)?bZ.fallback(function(){return this.end?this.end-this.offset:Date.now()-this.started}):bZ.fallback=function(){return this.end?this.end-this.offset:Date.now()-this.started},bZ),this,$tt,"duration",Pzr,ks.prototype)}get active(){return this.end==null}get span(){return this.end-this.offset}set stop(e){this.stop.$set(e,this,ytt,"stop")}get stop(){return this.stop.$get(this,ytt,"stop")}get stop(){return this[Tzr]||y((wtt=this.action(),wtt.callback=async function(e){for(let t=0,r=B(this.draft.audio),o=r.length;t<o;t++)await r[t].stop();return!this.final.duration&&!this.draft.cuts.size&&(this.final.audio=OP.clone(this.draft.audio.$plain),this.duration=this.final.duration=this.draft.computedDuration),!0},wtt),this,ytt,"stop",Tzr,ks.prototype)}set editclip(e){this.editclip.$set(e,this,btt,"editclip")}get editclip(){return this.editclip.$get(this,btt,"editclip")}get editclip(){return this[Ozr]||y((HA=this.action(),p(HA.rx,Function)?HA.rx(OWNER):HA.rx=OWNER,HA.callback=function(){var e,t;return(t=(e=this.timeline)==null?void 0:e.editclip)==null?void 0:t.call(e)},HA),this,btt,"editclip",Ozr,ks.prototype)}set generate_captions(e){this.generate_captions.$set(e,this,gtt,"generate_captions")}get generate_captions(){return this.generate_captions.$get(this,gtt,"generate_captions")}get generate_captions(){return this[Rzr]||y((Vb=this.action(),p(Vb.rx,Function)?Vb.rx(ADMIN):Vb.rx=ADMIN,p(Vb.g,Function)?Vb.g(1):Vb.g=1,Vb.callback=async function(...e){return await this,await this.final.generate_captions(),await this.generate_transcript()},Vb),this,gtt,"generate_captions",Rzr,ks.prototype)}set transcript(e){this.transcript.$set(e,this,ktt,"transcript")}get transcript(){return this.transcript.$get(this,ktt,"transcript")}get transcript(){return this[Mzr]||y((gZ=this.text(),p(gZ.lazy,Function)?gZ.lazy():gZ.lazy=!0,gZ),this,ktt,"transcript",Mzr,ks.prototype)}set generate_transcript(e){this.generate_transcript.$set(e,this,_tt,"generate_transcript")}get generate_transcript(){return this.generate_transcript.$get(this,_tt,"generate_transcript")}get generate_transcript(){return this[Lzr]||y((Fp=this.action(),p(Fp.rx,Function)?Fp.rx(ADMIN):Fp.rx=ADMIN,p(Fp.g,Function)?Fp.g(1):Fp.g=1,p(Fp.rpc,Function)?Fp.rpc():Fp.rpc=!0,Fp.callback=!1,Fp),this,_tt,"generate_transcript",Lzr,ks.prototype)}get unprocessed(){return JSON.stringify(this.draft.cuts)!=JSON.stringify(this.final.cuts)}set process(e){this.process.$set(e,this,xtt,"process")}get process(){return this.process.$get(this,xtt,"process")}get process(){return this[Dzr]||y((BA=this.action(),p(BA.rpc,Function)?BA.rpc():BA.rpc=!0,BA.callback=!1,BA),this,xtt,"process",Dzr,ks.prototype)}set probe(e){this.probe.$set(e,this,vtt,"probe")}get probe(){return this.probe.$get(this,vtt,"probe")}get probe(){return this[Nzr]||y((VA=this.action(),p(VA.rpc,Function)?VA.rpc():VA.rpc=!0,VA.callback=!1,VA),this,vtt,"probe",Nzr,ks.prototype)}};E(ks,P1e,"ScrimRec",80);var Stt=ks;globalThis.ScrimRec=Stt;T();oe();var Ctt=Symbol("webm"),qzr=Symbol(),Ett=Symbol("captions"),Wzr=Symbol(),jtt=Symbol("offset"),Zzr=Symbol(),Att=Symbol("transcribe"),Gzr=Symbol(),Yzr,Xzr,Kzr,zA,Q1n=Symbol(),Av=class Av extends OPEmbed{set webm(e){this.webm.$set(e,this,Ctt,"webm")}get webm(){return this.webm.$get(this,Ctt,"webm")}get webm(){return this[qzr]||y((Yzr=this.stream(OPAudioStream),Yzr),this,Ctt,"webm",qzr,Av.prototype)}set captions(e){this.captions.$set(e,this,Ett,"captions")}get captions(){return this.captions.$get(this,Ett,"captions")}get captions(){return this[Wzr]||y((Xzr=this.embed(Captions),Xzr),this,Ett,"captions",Wzr,Av.prototype)}set offset(e){this.offset.$set(e,this,jtt,"offset")}get offset(){return this.offset.$get(this,jtt,"offset")}get offset(){return this[Zzr]||y((Kzr=this.int(),Kzr),this,jtt,"offset",Zzr,Av.prototype)}get audioSrc(){return this.webm.url}set transcribe(e){this.transcribe.$set(e,this,Att,"transcribe")}get transcribe(){return this.transcribe.$get(this,Att,"transcribe")}get transcribe(){return this[Gzr]||y((zA=this.action(),p(zA.rpc,Function)?zA.rpc():zA.rpc=!0,zA.callback=!1,zA),this,Att,"transcribe",Gzr,Av.prototype)}};E(Av,Q1n,"ScrimAudio",0);var Utt=Av;globalThis.ScrimAudio=Utt;T();oe();We(),$e();var Ptt=Symbol("private"),Jzr=Symbol(),Ttt=Symbol("offset"),Qzr=Symbol(),eqr,tqr,T1e=Symbol(),edn=Symbol.for("#branch"),tdn=Symbol.for("##up"),rdn=Symbol.for("##register"),odn=Symbol.for("#getSlot"),ndn=Symbol.for("#afterVisit"),idn=Symbol(),qA=class qA extends OPEmbed{set private(e){this.private.$set(e,this,Ptt,"private")}get private(){return this.private.$get(this,Ptt,"private")}get private(){return this[Jzr]||y((eqr=this.bool(),eqr),this,Ptt,"private",Jzr,qA.prototype)}set offset(e){this.offset.$set(e,this,Ttt,"offset")}get offset(){return this.offset.$get(this,Ttt,"offset")}get offset(){return this[Qzr]||y((tqr=this.int(),tqr),this,Ttt,"offset",Qzr,qA.prototype)}get page(){return!1}get branch(){return this.scrim[edn]}get scrim(){return this.$root}tourl(){return this.scrim.tourl()+this.id.replace(this.scrim.id,"")}get targetAction(){return this.branch.missing?this.branch.targetAction:this.branch&&this.branch.actionAtOffset(this.offset)}get commit(){var e=this;return this.scrim.commits.find(function(t){return t.offset==e.offset})}};qA.alias="sr",E(qA,idn,"ScrimReference",0);var Uv=qA;globalThis.ScrimReference=Uv;var rqr=Symbol(),Ntt=class Ntt{constructor(e,t){this.id=""+e.id+"/#"+t,this.scrim=this.$root=e,this.index=parseInt(t),re(this,rqr)}get $children(){return this.$root.$children}};E(Ntt,rqr,"ScrimActionRef",16);var Ott=Ntt;globalThis.ScrimActionRef=Ott;var sdn=Symbol(),Itt=class Itt extends Uv{get aslabel(){return"HEAD"}get offset(){return this.branch?this.branch.lastOffset:0}get targetAction(){return this.branch&&this.branch.lastAction}opowntip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[T1e])||(r=o=0,e=t[T1e]=e=R("op",null,null,null)),r||(e[tdn]=t._),r||((s=e[rdn])==null||s.call(e,t,T1e)),n=e[odn]("__",e),r||(i=w("p",n,null,"This is the most up-to-date version of the scrim.")),r||t.sym||!e.setup||e.setup(o,t,T1e),t.sym||e[ndn](o),e}};E(Itt,sdn,"ScrimHead",0);var Rtt=Itt;globalThis.ScrimHead=Rtt;var ldn=Symbol(),Ftt=class Ftt extends Uv{get offset(){return 0}};E(Ftt,ldn,"ScrimBase",0);var Mtt=Ftt;globalThis.ScrimBase=Mtt;var oqr=Symbol(),kZ=class kZ extends Uv{constructor(){super(...arguments),re(this,oqr)}get exists(){return!0}get aslabel(){return"#"+this.offset.toString(16).padStart(8,"0")}get offset(){return parseInt(this.oid)}};kZ.prototype[Le]=De,se([ke.bind([])],kZ.prototype,"offset",null),E(kZ,oqr,"ScrimTimeOffset",272);var Ltt=kZ;globalThis.ScrimTimeOffset=Ltt;var nqr=Symbol(),_Z=class _Z extends Uv{constructor(){super(...arguments),re(this,nqr)}get exists(){return!0}get aslabel(){return"#"+this.offset.toString(16).padStart(8,"0")}get offset(){return parseInt(this.oid)}};_Z.prototype[Le]=De,se([ke.bind([])],_Z.prototype,"offset",null),E(_Z,nqr,"ScrimOffset",272);var Dtt=_Z;globalThis.ScrimOffset=Dtt;T();oe();$e();var Htt=Symbol("offset"),iqr=Symbol(),Btt=Symbol("summary"),sqr=Symbol(),Vtt=Symbol("desc"),lqr=Symbol(),ztt=Symbol("squashed"),aqr=Symbol(),qtt=Symbol("template"),uqr=Symbol(),Wtt=Symbol("snapshot"),cqr=Symbol(),hqr,pqr,dqr,F4,fqr,mqr,O1e=Symbol(),$qr=Symbol(),R1e=Symbol(),M1e=Symbol(),yqr=Symbol(),bqr=Symbol(),gqr=Symbol(),kqr=Symbol(),xZ=Symbol(),adn=Symbol(),Ztt=Symbol.for("##up"),Gtt=Symbol.for("##register"),L1e=Symbol.for("#afterVisit"),_qr=Symbol.for("#getSlot"),udn=Symbol.for("#placeChild"),cdn=Symbol.for("#getRenderContext"),hdn=Symbol.for("#isRichElement"),pdn=Symbol.for("#appendChild"),ddn=Symbol.for("#replaceChild"),fdn=Symbol(),zb=class zb extends ScrimReference{set offset(e){this.offset.$set(e,this,Htt,"offset")}get offset(){return this.offset.$get(this,Htt,"offset")}get offset(){return this[iqr]||y((hqr=this.int(),hqr),this,Htt,"offset",iqr,zb.prototype)}set summary(e){this.summary.$set(e,this,Btt,"summary")}get summary(){return this.summary.$get(this,Btt,"summary")}get summary(){return this[sqr]||y((pqr=this.string(),pqr),this,Btt,"summary",sqr,zb.prototype)}set desc(e){this.desc.$set(e,this,Vtt,"desc")}get desc(){return this.desc.$get(this,Vtt,"desc")}get desc(){return this[lqr]||y((dqr=this.text(),dqr),this,Vtt,"desc",lqr,zb.prototype)}set squashed(e){this.squashed.$set(e,this,ztt,"squashed")}get squashed(){return this.squashed.$get(this,ztt,"squashed")}get squashed(){return this[aqr]||y((F4=this.bool(),p(F4.w,Function)?F4.w(OWNER):F4.w=OWNER,p(F4.g,Function)?F4.g(100):F4.g=100,F4),this,ztt,"squashed",aqr,zb.prototype)}set template(e){this.template.$set(e,this,qtt,"template")}get template(){return this.template.$get(this,qtt,"template")}get template(){return this[uqr]||y((fqr=this.bool(),fqr),this,qtt,"template",uqr,zb.prototype)}set snapshot(e){this.snapshot.$set(e,this,Wtt,"snapshot")}get snapshot(){return this.snapshot.$get(this,Wtt,"snapshot")}get snapshot(){return this[cqr]||y((mqr=this.embed(ScrimSnapshot),mqr),this,Wtt,"snapshot",cqr,zb.prototype)}get marker_offset(){return this.offset}opowndialog(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[O1e])||(r=o=0,e=t[O1e]=e=R("ide-commit-dialog",null,null,null)),r||(e[Ztt]=t._),r||((i=e[Gtt])==null||i.call(e,t,O1e)),n=this,n===e[$qr]||(e.value=e[$qr]=n),r||t.sym||!e.setup||e.setup(o,t,O1e),t.sym||e[L1e](o),e}opowndialogbody(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[R1e])||(r=o=0,e=t[R1e]=e=R("op",null,null,null)),r||(e[Ztt]=t._),r||((s=e[Gtt])==null||s.call(e,t,R1e)),n=e[_qr]("__",e),r||(i=w("div",n,null,"Hello there")),r||t.sym||!e.setup||e.setup(o,t,R1e),t.sym||e[L1e](o),e}get aslabel(){return this.summary||"Unnamed commit"}opownli(e,t=null){var b;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=i=1,(r=o[M1e])||(n=i=0,r=o[M1e]=r=R("op-xli",null,null,null)),n||(r[Ztt]=o._),n||((b=r[Gtt])==null||b.call(r,o,M1e)),s=r[_qr]("__",r),a=this,a===r[yqr]||(r.data=r[yqr]=a),(u=r[bqr])||(r[bqr]=u=w("h2",s,"wj-aj",null)),c=this.aslilabel,c===r[kqr]&&n||(r[gqr]=u[udn](r[kqr]=c,384,r[gqr])),n||(h=w("hr",s,null,null)),d=r[cdn](adn),m=$=1,(f=d.run(this.ochip(this.$._cre)))||(m=$=0,d.cache(f=M(d.value,s,null,null))),f[hdn]&&(m||!f.setup||f.setup($,d),f[L1e]($)),f==r[xZ]||!r[xZ]&&s[pdn](r[xZ]=f)||(s[ddn](f,r[xZ]),r[xZ]=f),n||o.sym||!r.setup||r.setup(i,o,M1e),o.sym||r[L1e](i),r}};E(zb,fdn,"ScrimCommit",0);var Ytt=zb;globalThis.ScrimCommit=Ytt;T();oe();We();var xqr=Symbol.for("#resolve"),Xtt=Symbol.for("#up"),mdn=Symbol.for("##up"),$dn=Symbol.for("##register"),ydn=Symbol.for("#afterVisit"),Ktt=Symbol("body"),vqr=Symbol(),wqr,D1e=Symbol(),Sqr=Symbol(),Cqr=Symbol(),Eqr=Symbol(),vZ=class vZ{constructor(e){this[Xtt]=e,re(this,Eqr)}async[xqr](){var t,r;var e=this;if(await this[Xtt],this.raw=await this[Xtt].body.content,(t=this.raw)!=null&&t.widgets){this.widgets=this.raw.widgets,this.map={};for(let o=0,n=B(this.widgets),i=n.length,s;o<i;o++){let a=n[o],u=a.id;this.map[u]=a,u==-7?(this.browser=a,(s=this.browser.layout)&&(this.browser.w=s[2]/s[8],this.browser.h=s[3]/s[9],this.browser.t=s[1]/s[9],this.browser.r=(s[8]-(s[0]+s[2]))/s[8])):u==-5?this.agent=a:u==-9&&(this.editor=a)}this.files=this.widgets.filter(function(o){return o.type=="file"}),(r=this.editor)!=null&&r.items?this.tabs=this.editor.items.map(function(o){return e.map[o]}):this.tabs=this.files.slice(0,3),this.file=this.tabs.desc("opened")[0]||this.files[0]}return!0}};vZ.prototype[Le]=De,se([ho.bind([])],vZ.prototype,xqr,null),E(vZ,Eqr,"Preview",272);var Jtt=vZ,jqr=Symbol(),WA=class WA extends OPEmbed{constructor(){super(...arguments),re(this,jqr)}set body(e){this.body.$set(e,this,Ktt,"body")}get body(){return this.body.$get(this,Ktt,"body")}get body(){return this[vqr]||y((wqr=this.ref(OPDataAsset),wqr),this,Ktt,"body",vqr,WA.prototype)}$set(e){return e!=null&&e.body?this.body=e.body:this.body=e}get object(){return this.body.content}get preview(){return new Jtt(this)}opownpi(e,t){var s;var r,o=H(),n,i;return n=i=1,(r=o[D1e])||(n=i=0,r=o[D1e]=r=R("op-pi",null,null,null)),n||(r[mdn]=o._),n||((s=r[$dn])==null||s.call(r,o,D1e)),e===r[Sqr]||(r.data=r[Sqr]=e),t===r[Cqr]||(r.context=r[Cqr]=t),n||o.sym||!r.setup||r.setup(i,o,D1e),o.sym||r[ydn](i),r}};WA.prototype[Le]=De,se([ke.bind([])],WA.prototype,"preview",null),E(WA,jqr,"ScrimSnapshot",272);var Qtt=WA;globalThis.ScrimSnapshot=Qtt;T();oe();ge(),$e();var ert=Symbol("id"),Aqr=Symbol(),trt=Symbol("entries"),Uqr=Symbol(),rrt=Symbol("sidebar"),Pqr=Symbol(),ort=Symbol("drawer"),Tqr=Symbol(),nrt=Symbol("layout"),Oqr=Symbol(),irt=Symbol("main"),Rqr=Symbol(),srt=Symbol("runner"),Mqr=Symbol(),lrt=Symbol("name"),Lqr=Symbol(),art=Symbol("container"),Dqr=Symbol(),urt=Symbol("focused"),Nqr=Symbol(),crt=Symbol("flex"),Iqr=Symbol(),hrt=Symbol("layout"),Fqr=Symbol(),prt=Symbol("body"),Hqr=Symbol(),H4,Bqr,Vqr,zqr,qqr,Wqr,Zqr,Gqr=Symbol(),wZ=Symbol(),bdn=Symbol(),N1e=Symbol(),Yqr=Symbol(),SZ=Symbol(),gdn=Symbol(),Xqr,Kqr,Jqr,Qqr,eWr,drt=Symbol();var frt=Symbol();var mrt=Symbol();var $rt=Symbol();var yrt=Symbol();var brt=Symbol(),tWr=Symbol(),rWr=Symbol(),oWr=Symbol();var grt=Symbol(),nWr=Symbol(),iWr=Symbol(),sWr=Symbol();var kdn=Symbol(),lWr=Symbol(),aWr=Symbol(),_dn=Symbol(),uWr=Symbol(),cWr=Symbol(),hWr,krt=Symbol(),pWr=Symbol(),dWr=Symbol(),fWr=Symbol(),mWr=Symbol(),$Wr=Symbol(),_Wr=Symbol.for("#focus"),c2=Symbol.for("##up"),I1e=Symbol.for("##register"),_rt=Symbol.for("#getRenderContext"),F1e=Symbol.for("#isRichElement"),h2=Symbol.for("#afterVisit"),yWr=Symbol.for("#insertInto"),bWr=Symbol.for("#replaceWith"),xdn=Symbol.for("#getSlot"),CZ=Symbol.for("#placeChild"),vdn=Symbol.for("#getDynamicContext"),wdn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","~@":"<","@~":">"},Sdn={prop:[/([\w\-]+)(?=\:)/g,"u"],dim:/(\d*\.?\d+)([\%\w]\b)?/g,num:/(\d*\.?\d+)/g},gWr={keyword:/\b(css|new|import|from|export|var|let|const|return|global|tag|class|if|else|elif|prop|extends|for|in|while|def|get|set)(?=\b)/g,prop:[/([\w\-]+)(?=\:)/g,"u"],num:/(\d*\.?\d+)/g,dim:/(\d*\.?\d+)([\%\w]\b)?/g,sel:[/([^\{]+)(\{)([^\}]+)(\})/,"sel","",Sdn,""]};function Cdn(l){return l.replace(/[\&\<\>]|~@|@~/g,function(e){return wdn[e]})}function Edn(l,e,t=20){let r=e.split(".").pop()||"";l=l.split(`
`).slice(0,t).join(`
`);let o=function(i,s,a=""){let u=i;return/^(b|i|u)$/.test(i)||(u="b",a=" class='"+i+"'"),"~@"+u+a+"@~"+s+"~@/"+u+"@~"},n=function(i,s,a){let u=i;if(p(i,Array))s=s.replace(i[0],function(c,...h){return h=h.slice(0,-2),h.map(function(f,m){let $=i[m+1]||"span";return typeof $=="string"?o($,f):n($,f)}).join("")});else if(p(i,RegExp))s=s.replace(i,function(c){return o("i",c,a?" class='"+a+"'":"")});else if(i)for(let c=0,h=Object.keys(i),d=h.length,f,m;c<d;c++)f=h[c],m=i[f],s=n(m,s,f);return s};return(r=="html"||r=="imba")&&(l=l.replace(/\<[\/\!]?\w+[^\>]*\>/g,function(i){return o("b",i)})),r.match(/ts|js|imba/)&&(l=l.replace(gWr.keyword,function(i){return o("i",i)})),r.match(/css/)&&(l=n(gWr.sel,l)),l=Cdn(l),l=l.replace(/<\/b>(\s*)<b>/g,"$1"),l}var jdn=Symbol(),u2=class u2 extends OPObject{set id(e){this.id.$set(e,this,ert,"id")}get id(){return this.id.$get(this,ert,"id")}get id(){return this[Aqr]||y((H4=this.key(),p(H4.r,Function)?H4.r(OPOWNER):H4.r=OPOWNER,p(H4.virtual,Function)?H4.virtual():H4.virtual=!0,H4),this,ert,"id",Aqr,u2.prototype)}set entries(e){this.entries.$set(e,this,trt,"entries")}get entries(){return this.entries.$get(this,trt,"entries")}get entries(){return this[Uqr]||y((Bqr=this.embeds({vg:i0,vl:i0,f:vrt,t:wrt}),Bqr),this,trt,"entries",Uqr,u2.prototype)}set sidebar(e){this.sidebar.$set(e,this,rrt,"sidebar")}get sidebar(){return this.sidebar.$get(this,rrt,"sidebar")}get sidebar(){return this[Pqr]||y((Vqr=this.embed(H1e),Vqr),this,rrt,"sidebar",Pqr,u2.prototype)}set drawer(e){this.drawer.$set(e,this,ort,"drawer")}get drawer(){return this.drawer.$get(this,ort,"drawer")}get drawer(){return this[Tqr]||y((zqr=this.embed(H1e),zqr),this,ort,"drawer",Tqr,u2.prototype)}set layout(e){this.layout.$set(e,this,nrt,"layout")}get layout(){return this.layout.$get(this,nrt,"layout")}get layout(){return this[Oqr]||y((qqr=this.embed(i0),qqr),this,nrt,"layout",Oqr,u2.prototype)}set main(e){this.main.$set(e,this,irt,"main")}get main(){return this.main.$get(this,irt,"main")}get main(){return this[Rqr]||y((Wqr=this.embed(i0),Wqr),this,irt,"main",Rqr,u2.prototype)}set runner(e){this.runner.$set(e,this,srt,"runner")}get runner(){return this.runner.$get(this,srt,"runner")}get runner(){return this[Mqr]||y((Zqr=this.embed(Srt),Zqr),this,srt,"runner",Mqr,u2.prototype)}get html(){var d;var e,t={},r,o,n,i,s,a;let u=null,c=0;for(let f=this.$plain.entries,m=0,$=Object.keys(f),b=$.length,g,x;m<b;m++)g=$[m],x=f[g],(x==null?void 0:x.focused)>c&&(u=this.$sub(g),c=x.focused);for(;u;)u[_Wr]=!0,u=u.container;return(r=o=0,e=e=w("div",null,"scrim-thumbnail",null),r||(e[c2]=t._),r||((d=e[I1e])==null||d.call(e,t,Gqr)),n=e[_rt](bdn),s=a=1,(i=n.run(this.layout.render()))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[F1e]&&(s||!i.setup||i.setup(a,n),i[h2](a)),i==e[wZ]||!e[wZ]&&(e[wZ]=i)[yWr](e)||e[wZ][bWr](e[wZ]=i,e),r||t.sym||!e.setup||e.setup(o,t,Gqr),t.sym||e[h2](o),e).outerHTML}opowndialog(){var m;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f;return r=o=1,(e=t[N1e])||(r=o=0,e=t[N1e]=e=R("op",null,"ccl-ah thumb root",null)),r||(e[c2]=t._),r||((m=e[I1e])==null||m.call(e,t,N1e)),n=e[xdn]("__",e),s=a=1,(i=e[Yqr])||(s=a=0,e[Yqr]=i=w("div",n,"scrim-thumbnail",null)),s||i.on$("opnav",{},this),u=i[_rt](gdn),h=d=1,(c=u.run(this.layout.render()))||(h=d=0,u.cache(c=M(u.value,i,null,null))),c[F1e]&&(h||!c.setup||c.setup(d,u),c[h2](d)),c==i[SZ]||!i[SZ]&&(i[SZ]=c)[yWr](i)||i[SZ][bWr](i[SZ]=c,i),s||!i.setup||i.setup(a,f),i[h2](a),r||t.sym||!e.setup||e.setup(o,t,N1e),t.sym||e[h2](o),e}};E(u2,jdn,"ScrimPreview",0);var xrt=u2;globalThis.ScrimPreview=xrt;var Adn=Symbol(),qb=class qb extends OPEmbed{set name(e){this.name.$set(e,this,lrt,"name")}get name(){return this.name.$get(this,lrt,"name")}get name(){return this[Lqr]||y((Xqr=this.string(),Xqr),this,lrt,"name",Lqr,qb.prototype)}set container(e){this.container.$set(e,this,art,"container")}get container(){return this.container.$get(this,art,"container")}get container(){return this[Dqr]||y((Kqr=this.parent(qb),Kqr),this,art,"container",Dqr,qb.prototype)}set focused(e){this.focused.$set(e,this,urt,"focused")}get focused(){return this.focused.$get(this,urt,"focused")}get focused(){return this[Nqr]||y((Jqr=this.int(),Jqr),this,urt,"focused",Nqr,qb.prototype)}set flex(e){this.flex.$set(e,this,crt,"flex")}get flex(){return this.flex.$get(this,crt,"flex")}get flex(){return this[Iqr]||y((Qqr=this.any(),Qqr),this,crt,"flex",Iqr,qb.prototype)}set layout(e){this.layout.$set(e,this,hrt,"layout")}get layout(){return this.layout.$get(this,hrt,"layout")}get layout(){return this[Fqr]||y((eWr=this.string(),eWr),this,hrt,"layout",Fqr,qb.prototype)}get group(){return this.$key.startsWith("vg")||this.$key=="drawer"||this.$key=="sidebar"}get file(){return this.$key.startsWith("f0")}get layout(){return this.$key.startsWith("vl")||this.$key=="main"||this.$key=="layout"}get current(){return this.$children.desc("focused").at(0)}get collapsed(){return this.$key=="sidebar"&&this.flex&&this.flex[3]>1e3?!0:!!(this.$key=="drawer"&&this.flex&&this.flex[3]>900)}render(){var V;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F;let N=null;if(this.flex&&(N="flex: "+(this.flex[0]??50)+" "+(this.flex[1]||0),this.flex[2]&&(N+=" "+this.flex[2]/10+"%")),i=s=1,(o=n[drt])||(i=s=0,o=n[drt]=o=w("div",null,null,null)),i||(o[c2]=n._),i||((V=o[I1e])==null||V.call(o,n,drt)),a=this.$key,a===o[frt]||(s|=2,o[frt]=a),a=this.layout,a===o[mrt]||(s|=2,o[mrt]=a),a=this.group||void 0,a===o[$rt]||(s|=2,o[$rt]=a),a=this[_Wr]||void 0,a===o[yrt]||(s|=2,o[yrt]=a),a=this.collapsed||void 0,a===o[brt]||(s|=2,o[brt]=a),N===o[tWr]||(o.style=o[tWr]=N),s&2&&o.flag$((o[frt]||"")+" "+(o[mrt]||"")+" "+(o[$rt]?"group":"")+" "+(o[yrt]?"focused":"")+" "+(o[brt]?"collapsed":"")),t=r=null,this.group){let W=this.current;u=c=1,(t=o[rWr])||(u=c=0,o[rWr]=t=w("ul",null,null,null)),u||(t[c2]=o),(h=t[oWr])||(t[oWr]=h=Jt(384,t)),d=0,f=h.$;for(let z=0,q=B(this.$children),Y=q.length;z<Y;z++){let K=q[z];$=b=1,(m=f[d])||($=b=0,f[d]=m=w("li",h,null,null)),$||(m[c2]=h),g=W==K||void 0,g===m[grt]||(b|=2,m[grt]=g),b&2&&m.flag$(m[grt]?"selected":""),g=K.name,g===m[iWr]&&$||(m[nWr]=m[CZ](m[iWr]=g,384,m[nWr])),d++}h[h2](d),x=k=1,(r=o[sWr])||(x=k=0,o[sWr]=r=w("section",null,null,null)),x||(r[c2]=o),e=null,W&&(_=r[_rt](kdn),S=v=1,(e=_.run(W.render()))||(S=v=0,_.cache(e=M(_.value,null,null,null))),S||(e[c2]=r),e[F1e]&&(S||!e.setup||e.setup(v,_),e[h2](v))),r[lWr]=r[CZ](e,0,r[lWr]),x||!r.setup||r.setup(k,C),r[h2](k)}else if(this.layout){(t=o[aWr])||(o[aWr]=t=wt(0,null)),t[c2]=o,j=0,P=t.$;for(let W=0,z=B(this.$children),q=z.length;W<q;W++){let Y=z[W];L=I=1,(O=(U=P[vdn](_dn,j)).run(Y.render()))||(L=I=0,U.cache(O=M(U.value,t,null,null))),L||(O[c2]=t),O[F1e]&&(L||!O.setup||O.setup(I,U),O[h2](I)),t.push(O,j++,F)}t[h2](j)}return o[uWr]=o[CZ](t,0,o[uWr]),o[cWr]=o[CZ](r,0,o[cWr]),o}};E(qb,Adn,"ThumbEntry",0);var i0=qb,Udn=Symbol(),B1e=class B1e extends i0{set body(e){this.body.$set(e,this,prt,"body")}get body(){return this.body.$get(this,prt,"body")}get body(){return this[Hqr]||y((hWr=this.text(),hWr),this,prt,"body",Hqr,B1e.prototype)}render(){var m;var e,t=H(),r,o,n,i,s,a,u;let c=(this.body||"").split(`
`).slice(0,40).map(function($){return $.slice(0,100)}),h=c.join(`
`),d=Edn(h,this.name),f=c.map(function($,b){return""+(b+1)}).join(`
`);return r=o=1,(e=t[krt])||(r=o=0,e=t[krt]=e=w("div",null,"code",null)),r||(e[c2]=t._),r||((m=e[I1e])==null||m.call(e,t,krt)),(n=e[pWr])||(e[pWr]=n=w("pre",e,"lines",null)),i=f,i===e[fWr]&&r||(e[dWr]=n[CZ](e[fWr]=i,384,e[dWr])),a=u=1,(s=e[mWr])||(a=u=0,e[mWr]=s=w("pre",e,null,null)),d===e[$Wr]||(s.innerHTML=e[$Wr]=d),e}};E(B1e,Udn,"ThumbFile",0);var vrt=B1e,Pdn=Symbol(),Crt=class Crt extends i0{get name(){return"Terminal"}};E(Crt,Pdn,"ThumbTerminal",0);var wrt=Crt,Tdn=Symbol(),Ert=class Ert extends i0{get name(){return"Runner"}};E(Ert,Tdn,"ThumbRunner",0);var Srt=Ert,Odn=Symbol(),jrt=class jrt extends i0{};E(jrt,Odn,"ThumbViewLayout",0);var kWr=jrt,Rdn=Symbol(),Art=class Art extends i0{get group(){return!0}};E(Art,Rdn,"ThumbViewGroup",0);var H1e=Art;T();oe();T();var xWr={spiv:3,widgets:[{width:200,enabled:!0,pinned:!0,panel:-10,peek:null,id:-13,widgets:[]},{enabled:!1,id:-2,widgets:[]},{expanded:!0,newfilename:null,newdirname:null,id:-8,name:"project",widgets:[]},{id:-1,widgets:[]},{layout:[1050,114,376,126,0,0,0,0,1440,756,100,100,-7,0],pageNumber:0,visible:!0,minimized:!1,windowed:!0,rootPath:"/",url:"/index.html",catchallPath:"/index.html",id:-7,widgets:[]},{id:-11,widgets:[]},{id:-10,widgets:[]},{lineHeight:21,id:-9,left:48,top:41,width:1267,height:785,contentLeft:52,contentTop:4,fontSize:14,widgets:[]},{sidebar:-10,id:-5,vw:1315,vh:874,vl:29,vt:65,vs:1,spiv:3,focus:-9,file:2,widgets:[]},{currentIndex:0,visible:!1,id:-12,widgets:[]},{autohide:!0,id:-14,widgets:[]},{type:-20,id:-20,widgets:[]},{type:-17,id:-17,widgets:[]},{type:-18,id:-18,widgets:[]},{max_progress:0,type:-21,id:-21,widgets:[]},{type:-19,id:-19,widgets:[]},{scrollTop:0,scrollLeft:0,name:"index.html",parent:-8,type:"file",body:`<html>
    <body></body>
</html>`,id:2,selState:[3,8],widgets:[]}]};import Xdn from"/assets/scrim.blank.json.5TFCQ3DL.js?external";ge(),$e();var Urt=Symbol("kind"),vWr=Symbol(),Prt=Symbol("edit-template"),wWr=Symbol(),Trt=Symbol("snapshot"),SWr=Symbol(),Ort=Symbol("edit-captions"),CWr=Symbol(),Rrt=Symbol("remux_cues"),EWr=Symbol(),Mrt=Symbol("initial_files"),jWr=Symbol(),Lrt=Symbol("refs"),AWr=Symbol(),Drt=Symbol("spiv"),UWr=Symbol(),Nrt=Symbol("origin"),PWr=Symbol(),Irt=Symbol("origin_index"),TWr=Symbol(),Frt=Symbol("origin_offset"),OWr=Symbol(),Hrt=Symbol("origin_snapshot"),RWr=Symbol(),Brt=Symbol("via_lesson"),MWr=Symbol(),Vrt=Symbol("template"),LWr=Symbol(),zrt=Symbol("remote_workspace"),DWr=Symbol(),qrt=Symbol("repoUrl"),NWr=Symbol(),Wrt=Symbol("duration"),IWr=Symbol(),Zrt=Symbol("calcduration"),FWr=Symbol(),Grt=Symbol("commits"),HWr=Symbol(),Yrt=Symbol("recs"),BWr=Symbol(),Xrt=Symbol("head"),VWr=Symbol(),Krt=Symbol("base"),zWr=Symbol(),Jrt=Symbol("start"),qWr=Symbol(),Qrt=Symbol("end"),WWr=Symbol(),eot=Symbol("exercise"),ZWr=Symbol(),tot=Symbol("project"),GWr=Symbol(),rot=Symbol("stream"),YWr=Symbol(),oot=Symbol("webstreams"),XWr=Symbol(),not=Symbol("streams"),KWr=Symbol(),iot=Symbol("seed"),JWr=Symbol(),sot=Symbol("progress"),QWr=Symbol(),lot=Symbol("last_offset"),eZr=Symbol(),aot=Symbol("finished"),tZr=Symbol(),uot=Symbol("manually_finished"),rZr=Symbol(),cot=Symbol("last_forked"),oZr=Symbol(),hot=Symbol("last_context"),nZr=Symbol(),pot=Symbol("exercises"),iZr=Symbol(),dot=Symbol("scribbles"),sZr=Symbol(),fot=Symbol("solutions"),lZr=Symbol(),mot=Symbol("access"),aZr=Symbol(),$ot=Symbol("draft?"),uZr=Symbol(),yot=Symbol("markers"),cZr=Symbol(),bot=Symbol("credits"),hZr=Symbol(),got=Symbol("gated"),pZr=Symbol(),kot=Symbol("id"),dZr=Symbol(),_ot=Symbol("scrim"),fZr=Symbol(),xot=Symbol("index"),mZr=Symbol(),vot=Symbol("offset"),$Zr=Symbol(),s0,Hp,wot,Wb,Zb,EZ,jZ,yZr,AZ,bZr,gZr,kZr,_Zr,UZ,PZ,xZr,l0,Sot,Mdn=le("&.duration",globalThis,l=>l.duration),vZr,Cot=Symbol(),wZr=Symbol(),SZr=Symbol(),CZr=Symbol(),EZr=Symbol(),jZr=Symbol(),AZr,Eot=Symbol(),UZr=Symbol(),PZr=Symbol(),TZr=Symbol(),OZr=Symbol(),RZr=Symbol(),V1e=Symbol(),MZr,LZr,DZr,NZr,Ldn=le("&.active?",globalThis,l=>l.active),TZ,IZr,FZr,HZr,OZ,RZ,MZ,LZ,B4,V4,DZ,jot,NZ,BZr,VZr=le("&.mine?",globalThis,l=>l.mine),Ddn=le("&.scribble?",globalThis,l=>l.scribble),zZr,Ndn=le("&.solution?",globalThis,l=>l.solution),ZA,GA,Aot,Idn=le("&.marker?",globalThis,l=>l.marker),Fdn=le("&.marker_offset",globalThis,l=>l.marker_offset),z1e=Symbol(),qZr=Symbol(),WZr=Symbol(),ZZr=Symbol(),GZr=Symbol(),Uot=Symbol(),q1e=Symbol(),YZr=Symbol(),XZr=Symbol(),KZr=Symbol(),W1e=Symbol(),JZr=Symbol(),QZr=Symbol(),eGr=Symbol(),tGr=Symbol(),Z1e=Symbol(),rGr=Symbol(),oGr=Symbol(),nGr=Symbol(),iGr=Symbol(),sGr=Symbol(),G1e=Symbol(),lGr=Symbol(),aGr=Symbol(),uGr=Symbol(),cGr=Symbol(),Y1e=Symbol(),hGr=Symbol(),pGr=Symbol(),dGr=Symbol(),fGr=Symbol(),X1e=Symbol(),mGr=Symbol(),$Gr=Symbol(),yGr=Symbol(),bGr=Symbol(),YA=Symbol(),Hdn=Symbol(),K1e=Symbol(),gGr=Symbol(),J1e=Symbol(),kGr=Symbol(),Q1e=Symbol(),_Gr=Symbol(),xGr=Symbol(),Pot,Tot,ede=Symbol(),Bdn=Symbol(),Vdn=Symbol();var zdn=Symbol(),vGr=Symbol(),wGr=Symbol(),SGr=Symbol(),IZ=Symbol(),qdn=Symbol(),CGr=Symbol(),Oot=Symbol(),EGr=Symbol(),tde=Symbol(),XA=Symbol(),Wdn=Symbol(),jGr=Symbol(),KA=Symbol(),Zdn=Symbol(),AGr=Symbol(),rde=Symbol(),UGr=Symbol(),PGr=Symbol(),TGr=Symbol(),OGr=Symbol(),RGr=Symbol(),MGr=Symbol(),LGr=Symbol(),DGr=Symbol(),NGr=Symbol(),ode=Symbol(),IGr=Symbol(),FGr=Symbol(),HGr=Symbol(),BGr=Symbol(),VGr=Symbol(),zGr=Symbol(),qGr=Symbol(),z4,WGr,ZGr,GGr,Nn=Symbol.for("##up"),_s=Symbol.for("##register"),Do=Symbol.for("#afterVisit"),FZ=Symbol.for("#appendChild"),qo=Symbol.for("#placeChild"),a0=Symbol.for("#getSlot"),Rot=Symbol.for("#branch"),q4=Symbol.for("#getRenderContext"),W4=Symbol.for("#isRichElement"),nde=Symbol.for("#insertInto"),ide=Symbol.for("#replaceWith"),Mot=Symbol.for("#visit"),Gdn=Symbol(),Dot=class Dot extends OPEnumValue{};E(Dot,Gdn,"ChangeLevel",0);var Lot=Dot;globalThis.ChangeLevel=Lot;var Ydn=Symbol(),Not=class Not extends OPEnumValue{};E(Not,Ydn,"ScrimKind",0);var lde=Not;globalThis.ScrimKind=lde;var sde=Symbol(),cr=class cr extends Qe(sde,Content,Deletable,Starrable,ScrimMarker,Publishable,Taggable,CourseEntryContent){constructor(){super(...arguments),super[A]||this[A](),re(this,sde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[sde])==null||o.call(this,...arguments)}set kind(e){this.kind.$set(e,this,Urt,"kind")}get kind(){return this.kind.$get(this,Urt,"kind")}get kind(){return this[vWr]||y((s0=this.enum(lde,{lesson:{hue:"green"},template:{hue:"green"},solution:{hue:"green"},playground:{hue:"purple",default:!0},challenge:{hue:"green"},scribble:{hue:"yellow"},blank:{hue:"yellow"}}),p(s0.w,Function)?s0.w(OWNER|ADMIN):s0.w=OWNER|ADMIN,p(s0.f,Function)?s0.f():s0.f=!0,p(s0.g,Function)?s0.g(500.5):s0.g=500.5,s0),this,Urt,"kind",vWr,cr.prototype)}set edittemplate(e){this.edittemplate.$set(e,this,Prt,"edittemplate")}get edittemplate(){return this.edittemplate.$get(this,Prt,"edittemplate")}get edittemplate(){return this[wWr]||y((Hp=this.action(),p(Hp.rx,Function)?Hp.rx(OWNER|ADMIN):Hp.rx=OWNER|ADMIN,p(Hp.g,Function)?Hp.g(1):Hp.g=1,p(Hp.if,Function)?Hp.if(function(){return this.kind.template}):Hp.if=function(){return this.kind.template},Hp.callback=function(...e){return Xt.go(this.asurl)},Hp),this,Prt,"edittemplate",wWr,cr.prototype)}set snapshot(e){this.snapshot.$set(e,this,Trt,"snapshot")}get snapshot(){return this.snapshot.$get(this,Trt,"snapshot")}get snapshot(){return this[SWr]||y((wot=this.memo(),wot.callback=function(){var e,t,r;return((e=this.commits.at(-1))==null?void 0:e.snapshot)||((t=this.origin_snapshot)==null?void 0:t.body)&&this.origin_snapshot||((r=this.origin)==null?void 0:r.snapshot)},wot),this,Trt,"snapshot",SWr,cr.prototype)}set editcaptions(e){this.editcaptions.$set(e,this,Ort,"editcaptions")}get editcaptions(){return this.editcaptions.$get(this,Ort,"editcaptions")}get editcaptions(){return this[CWr]||y((Wb=this.action(),p(Wb.rx,Function)?Wb.rx(ADMIN):Wb.rx=ADMIN,p(Wb.g,Function)?Wb.g(700):Wb.g=700,Wb.callback=async function(){await this;let t=this.recs.at(0).final.audio.find(function(r){return p(r.src,ScrimAudioTrack)});if(t&&t.src)return APP.open(t.src)},Wb),this,Ort,"editcaptions",CWr,cr.prototype)}set remux_cues(e){this.remux_cues.$set(e,this,Rrt,"remux_cues")}get remux_cues(){return this.remux_cues.$get(this,Rrt,"remux_cues")}get remux_cues(){return this[EWr]||y((Zb=this.action(),p(Zb.rx,Function)?Zb.rx(OPADMIN|OPOWNER):Zb.rx=OPADMIN|OPOWNER,p(Zb.rpc,Function)?Zb.rpc():Zb.rpc=!0,Zb.callback=!1,Zb),this,Rrt,"remux_cues",EWr,cr.prototype)}set initial_files(e){this.initial_files.$set(e,this,Mrt,"initial_files")}get initial_files(){return this.initial_files.$get(this,Mrt,"initial_files")}get initial_files(){return this[jWr]||y((EZ=this.any(),p(EZ.memory,Function)?EZ.memory():EZ.memory=!0,EZ),this,Mrt,"initial_files",jWr,cr.prototype)}set refs(e){this.refs.$set(e,this,Lrt,"refs")}get refs(){return this.refs.$get(this,Lrt,"refs")}get refs(){return this[AWr]||y((jZ=this.embeds({o:ScrimOffset,t:ScrimTimeOffset}),p(jZ.memory,Function)?jZ.memory():jZ.memory=!0,jZ),this,Lrt,"refs",AWr,cr.prototype)}set spiv(e){this.spiv.$set(e,this,Drt,"spiv")}get spiv(){return this.spiv.$get(this,Drt,"spiv")}get spiv(){return this[UWr]||y((yZr=this.int(),yZr),this,Drt,"spiv",UWr,cr.prototype)}set origin(e){this.origin.$set(e,this,Nrt,"origin")}get origin(){return this.origin.$get(this,Nrt,"origin")}get origin(){return this[PWr]||y((AZ=this.ref(cr),p(AZ.parent,Function)?AZ.parent(!0):AZ.parent=!0,AZ),this,Nrt,"origin",PWr,cr.prototype)}set origin_index(e){this.origin_index.$set(e,this,Irt,"origin_index")}get origin_index(){return this.origin_index.$get(this,Irt,"origin_index")}get origin_index(){return this[TWr]||y((bZr=this.number(),bZr),this,Irt,"origin_index",TWr,cr.prototype)}set origin_offset(e){this.origin_offset.$set(e,this,Frt,"origin_offset")}get origin_offset(){return this.origin_offset.$get(this,Frt,"origin_offset")}get origin_offset(){return this[OWr]||y((gZr=this.number(),gZr),this,Frt,"origin_offset",OWr,cr.prototype)}set origin_snapshot(e){this.origin_snapshot.$set(e,this,Hrt,"origin_snapshot")}get origin_snapshot(){return this.origin_snapshot.$get(this,Hrt,"origin_snapshot")}get origin_snapshot(){return this[RWr]||y((kZr=this.embed(ScrimSnapshot),kZr),this,Hrt,"origin_snapshot",RWr,cr.prototype)}set via_lesson(e){this.via_lesson.$set(e,this,Brt,"via_lesson")}get via_lesson(){return this.via_lesson.$get(this,Brt,"via_lesson")}get via_lesson(){return this[MWr]||y((_Zr=this.ref(CourseEntry),_Zr),this,Brt,"via_lesson",MWr,cr.prototype)}set template(e){this.template.$set(e,this,Vrt,"template")}get template(){return this.template.$get(this,Vrt,"template")}get template(){return this[LWr]||y((UZ=this.ref(cr),p(UZ.parent,Function)?UZ.parent(!0):UZ.parent=!0,UZ),this,Vrt,"template",LWr,cr.prototype)}set remote_workspace(e){this.remote_workspace.$set(e,this,zrt,"remote_workspace")}get remote_workspace(){return this.remote_workspace.$get(this,zrt,"remote_workspace")}get remote_workspace(){return this[DWr]||y((PZ=this.ref(HostWorkspace),p(PZ.session,Function)?PZ.session():PZ.session=!0,PZ),this,zrt,"remote_workspace",DWr,cr.prototype)}get content(){return!0}get page(){return!1}get legacy(){return!this.spiv||this.spiv<100}get drafting(){return this.kind.blank}set repoUrl(e){this.repoUrl.$set(e,this,qrt,"repoUrl")}get repoUrl(){return this.repoUrl.$get(this,qrt,"repoUrl")}get repoUrl(){return this[NWr]||y((xZr=this.string(),xZr),this,qrt,"repoUrl",NWr,cr.prototype)}get topic(){return this.topics.at(0)}get aspidetail(){return String(this.kind)||"scrim"}get asicon(){var e,t;return((e=this.topic)==null?void 0:e.asicon)||((t=this.kind)==null?void 0:t.asicon)}get discoverable(){return super.discoverable&&!this.scribble&&!this.solution}set duration(e){this.duration.$set(e,this,Wrt,"duration")}get duration(){return this.duration.$get(this,Wrt,"duration")}get duration(){return this[IWr]||y((l0=this.ms(),p(l0.format,Function)?l0.format("0:00"):l0.format="0:00",p(l0.stat,Function)?l0.stat():l0.stat=!0,p(l0.fallback,Function)?l0.fallback(function(){return this.calcduration}):l0.fallback=function(){return this.calcduration},l0),this,Wrt,"duration",IWr,cr.prototype)}set calcduration(e){this.calcduration.$set(e,this,Zrt,"calcduration")}get calcduration(){return this.calcduration.$get(this,Zrt,"calcduration")}get calcduration(){return this[FWr]||y((Sot=this.memo(),Sot.callback=function(){return this.recs.sum(Mdn)},Sot),this,Zrt,"calcduration",FWr,cr.prototype)}set commits(e){this.commits.$set(e,this,Grt,"commits")}get commits(){return this.commits.$get(this,Grt,"commits")}get commits(){return this[HWr]||y((vZr=this.embeds(ScrimCommit),vZr),this,Grt,"commits",HWr,cr.prototype)}opcommitschip(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;if(this.commits.size)return r=o=1,(e=t[Cot])||(r=o=0,e=t[Cot]=e=w("span",null,null,null)),r||(e[Nn]=t._),r||((d=e[_s])==null||d.call(e,t,Cot)),n=this,n===e[wZr]||(e.data=e[wZr]=n),s=a=1,(i=e[SZr])||(s=a=0,e[SZr]=i=R("op-icon",e,"ct-ag",null)),s||(i.data="commit"),s||!i.setup||i.setup(a,u),i[Do](a),s||e[FZ](i),(c=e[CZr])||(e[CZr]=c=w("span",e,null,null)),h=this.commits.size,h===e[jZr]&&r||(e[EZr]=c[qo](e[jZr]=h,384,e[EZr])),e}set recs(e){this.recs.$set(e,this,Yrt,"recs")}get recs(){return this.recs.$get(this,Yrt,"recs")}get recs(){return this[BWr]||y((AZr=this.embeds(ScrimRec),AZr),this,Yrt,"recs",BWr,cr.prototype)}get transcript(){var e;return(e=this.recs[0])==null?void 0:e.transcript}oprecschip(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;if(this.recs.size)return r=o=1,(e=t[Eot])||(r=o=0,e=t[Eot]=e=w("span",null,null,null)),r||(e[Nn]=t._),r||((d=e[_s])==null||d.call(e,t,Eot)),n=this,n===e[UZr]||(e.data=e[UZr]=n),s=a=1,(i=e[PZr])||(s=a=0,e[PZr]=i=R("op-icon",e,null,null)),s||(i.data="recs"),s||!i.setup||i.setup(a,u),i[Do](a),s||e[FZ](i),(c=e[TZr])||(e[TZr]=c=w("span",e,null,null)),h=this.recs.size,h===e[RZr]&&r||(e[OZr]=c[qo](e[RZr]=h,384,e[OZr])),e}opprivacytip(e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[V1e])||(o=n=0,t=r[V1e]=t=R("op",null,null,"Hello there!!")),o||(t[Nn]=r._),o||((s=t[_s])==null||s.call(t,r,V1e)),i=t[a0]("__",t),o||r.sym||!t.setup||t.setup(n,r,V1e),r.sym||t[Do](n),t}set head(e){this.head.$set(e,this,Xrt,"head")}get head(){return this.head.$get(this,Xrt,"head")}get head(){return this[VWr]||y((MZr=this.embed(ScrimHead),MZr),this,Xrt,"head",VWr,cr.prototype)}set base(e){this.base.$set(e,this,Krt,"base")}get base(){return this.base.$get(this,Krt,"base")}get base(){return this[zWr]||y((LZr=this.embed(ScrimBase),LZr),this,Krt,"base",zWr,cr.prototype)}set start(e){this.start.$set(e,this,Jrt,"start")}get start(){return this.start.$get(this,Jrt,"start")}get start(){return this[qWr]||y((DZr=this.ref(OPEmbed),DZr),this,Jrt,"start",qWr,cr.prototype)}set end(e){this.end.$set(e,this,Qrt,"end")}get end(){return this.end.$get(this,Qrt,"end")}get end(){return this[WWr]||y((NZr=this.ref(OPEmbed),NZr),this,Qrt,"end",WWr,cr.prototype)}$hash(e){let t,r=this["#"]||={};return r[e]?r[e]:(t=e.pluck(/\#(\d+)$/))?r[e]=new ScrimActionRef(this,t):null}get scrim(){return this}get recording(){return this.recs.find(Ldn)}set exercise(e){this.exercise.$set(e,this,eot,"exercise")}get exercise(){return this.exercise.$get(this,eot,"exercise")}get exercise(){return this[ZWr]||y((TZ=this.ref(ScrimPractice),p(TZ.parent,Function)?TZ.parent():TZ.parent=!0,TZ),this,eot,"exercise",ZWr,cr.prototype)}set project(e){this.project.$set(e,this,tot,"project")}get project(){return this.project.$get(this,tot,"project")}get project(){return this[GWr]||y((IZr=this.ref(Project),IZr),this,tot,"project",GWr,cr.prototype)}set stream(e){this.stream.$set(e,this,rot,"stream")}get stream(){return this.stream.$get(this,rot,"stream")}get stream(){return this[YWr]||y((FZr=this.embed(ScrimStream),FZr),this,rot,"stream",YWr,cr.prototype)}set webstreams(e){this.webstreams.$set(e,this,oot,"webstreams")}get webstreams(){return this.webstreams.$get(this,oot,"webstreams")}get webstreams(){return this[XWr]||y((HZr=this.map(WebViewStream),HZr),this,oot,"webstreams",XWr,cr.prototype)}set streams(e){this.streams.$set(e,this,not,"streams")}get streams(){return this.streams.$get(this,not,"streams")}get streams(){return this[KWr]||y((OZ=this.embeds({a:ScrimAudio,wv:WebViewStream}),p(OZ.entropy,Function)?OZ.entropy(32):OZ.entropy=32,OZ),this,not,"streams",KWr,cr.prototype)}set seed(e){this.seed.$set(e,this,iot,"seed")}get seed(){return this.seed.$get(this,iot,"seed")}get seed(){return this[JWr]||y((RZ=this.ref(ade),p(RZ.weak,Function)?RZ.weak():RZ.weak=!0,RZ),this,iot,"seed",JWr,cr.prototype)}set progress(e){this.progress.$set(e,this,sot,"progress")}get progress(){return this.progress.$get(this,sot,"progress")}get progress(){return this[QWr]||y((MZ=this.percent(),p(MZ.pov,Function)?MZ.pov():MZ.pov=!0,MZ),this,sot,"progress",QWr,cr.prototype)}set last_offset(e){this.last_offset.$set(e,this,lot,"last_offset")}get last_offset(){return this.last_offset.$get(this,lot,"last_offset")}get last_offset(){return this[eZr]||y((LZ=this.int(),p(LZ.pov,Function)?LZ.pov():LZ.pov=!0,LZ),this,lot,"last_offset",eZr,cr.prototype)}set finished(e){this.finished.$set(e,this,aot,"finished")}get finished(){return this.finished.$get(this,aot,"finished")}get finished(){return this[tZr]||y((B4=this.event(),p(B4.pov,Function)?B4.pov():B4.pov=!0,p(B4.throttle,Function)?B4.throttle(10*1e3):B4.throttle=10*1e3,B4),this,aot,"finished",tZr,cr.prototype)}set manually_finished(e){this.manually_finished.$set(e,this,uot,"manually_finished")}get manually_finished(){return this.manually_finished.$get(this,uot,"manually_finished")}get manually_finished(){return this[rZr]||y((V4=this.event(),p(V4.pov,Function)?V4.pov():V4.pov=!0,p(V4.throttle,Function)?V4.throttle(10*1e3):V4.throttle=10*1e3,V4),this,uot,"manually_finished",rZr,cr.prototype)}set last_forked(e){this.last_forked.$set(e,this,cot,"last_forked")}get last_forked(){return this.last_forked.$get(this,cot,"last_forked")}get last_forked(){return this[oZr]||y((DZ=this.event(),p(DZ.pov,Function)?DZ.pov():DZ.pov=!0,DZ),this,cot,"last_forked",oZr,cr.prototype)}set last_context(e){this.last_context.$set(e,this,hot,"last_context")}get last_context(){return this.last_context.$get(this,hot,"last_context")}get last_context(){return this[nZr]||y((jot=this.get(),jot.callback=function(){return this.$children.only(CourseEntry).asc("visited").at(0)},jot),this,hot,"last_context",nZr,cr.prototype)}set exercises(e){this.exercises.$set(e,this,pot,"exercises")}get exercises(){return this.exercises.$get(this,pot,"exercises")}get exercises(){return this[iZr]||y((NZ=this.embeds(ScrimPractice),p(NZ.wc,Function)?NZ.wc(OWNER|ADMIN|TEACHER):NZ.wc=OWNER|ADMIN|TEACHER,NZ),this,pot,"exercises",iZr,cr.prototype)}set scribbles(e){this.scribbles.$set(e,this,dot,"scribbles")}get scribbles(){return this.scribbles.$get(this,dot,"scribbles")}get scribbles(){return this[sZr]||y((BZr=this.children(cr,VZr,Ddn),BZr),this,dot,"scribbles",sZr,cr.prototype)}set solutions(e){this.solutions.$set(e,this,fot,"solutions")}get solutions(){return this.solutions.$get(this,fot,"solutions")}get solutions(){return this[lZr]||y((zZr=this.children(cr,VZr,Ndn),zZr),this,fot,"solutions",lZr,cr.prototype)}set access(e){this.access.$set(e,this,mot,"access")}get access(){return this.access.$get(this,mot,"access")}get access(){return this[aZr]||y((ZA=this.action(),p(ZA.rpc,Function)?ZA.rpc():ZA.rpc=!0,ZA.callback=!1,ZA),this,mot,"access",aZr,cr.prototype)}set draft(e){this.draft.$set(e,this,$ot,"draft")}get draft(){return this.draft.$get(this,$ot,"draft")}get draft(){return this[uZr]||y((GA=this.memo(),p(GA.f,Function)?GA.f():GA.f=!0,GA.callback=function(){return!this.commits.any&&!this.recs.any},GA),this,$ot,"draft",uZr,cr.prototype)}async opresolveroute(e,t){await this;let r=this.$sub(e)||OP.get(e);return await r,p(r,cr)&&r.origin!=this,r}get modal(){return!0}get challenge(){return this.kind.challenge}get exercise(){return this.kind.exercise}get playground(){return this.kind.playground}get lesson(){return this.kind.lesson}get solution(){return this.kind.solution}get template(){return this.kind.template}get review(){return this.kind.review}get scribble(){return this.kind.scribble}get project(){var e,t;return this.project||((t=(e=this.name)==null?void 0:e.match)==null?void 0:t.call(e,/project/i))}get mine(){return this.creator==OP.pov}get discardable(){return this.mine&&(this.scribble||this.unsaved)}get marker(){return this.scribble&&this.mine}set markers(e){this.markers.$set(e,this,yot,"markers")}get markers(){return this.markers.$get(this,yot,"markers")}get markers(){return this[cZr]||y((Aot=this.memo(),Aot.callback=function(){let e=[...this.recs,...this.scribbles,...this.exercises.filter(Idn)];return this.lesson||e.push(...this.commits),e.asc(Fdn)},Aot),this,yot,"markers",cZr,cr.prototype)}get asurl(){var e,t;return this.scribble&&(this.via_lesson||this.origin)?""+(this.via_lesson||this.origin).asurl+"/"+this.id:this.exercise?((t=(e=this.exercise)==null?void 0:e.scrim)==null?void 0:t.asurl)+("/"+this.id):"/"+this.id}tourl(){var r;if(this[Rot])return this[Rot].tourl();let e=(r=this.origin)==null?void 0:r[Rot],t="/"+this.scrim.id;return e&&(t=e.tourl()+t),t}async resolvepath(){if(await this,this.origin)return await this.origin.resolvepath()}async opmatchedroute(e){if(!e.route.main&&(e.route.main=e,e.renderer=APP.ide,await this.resolvepath(),(this.exercise||this.scribble)&&this.origin)){let r=""+(this.origin.last_context||this.origin).asurl+"/"+this.id;return e.redirect(r)}}get aslegacyurl(){return this.legacy_id?"https://v1.scrimba.com/scrim/"+this.legacy_id:null}opcommitsstat(e){var d;var t,r=H(),o,n,i,s,a,u,c,h;return o=n=1,(t=r[z1e])||(o=n=0,t=r[z1e]=t=R("op-stat",null,null,null)),o||(t[Nn]=r._),o||((d=t[_s])==null||d.call(t,r,z1e)),i=t[a0]("__",t),e===t[qZr]||(t.data=t[qZr]=e),o||t.on$("optip",{},this),a=u=1,(s=t[WZr])||(a=u=0,t[WZr]=s=R("op-icon",i,null,null)),a||(s.data="commit"),a||!s.setup||s.setup(u,c),s[Do](u),a||i[FZ](s),h=e.size,h===t[GZr]&&o||(t[ZZr]=i[qo](t[GZr]=h,256,t[ZZr])),o||r.sym||!t.setup||t.setup(n,r,z1e),r.sym||t[Do](n),t}oprecencystat(e){var s;var t,r,o=H(),n,i;return t=o[q4](Uot),n=i=1,(r=t.run(this.ostat(this.$.modified)))||(n=i=0,t.cache(r=M(t.value,null,null,null))),n||(r[Nn]=o._),n||((s=r[_s])==null||s.call(r,o,Uot)),r[W4]&&(n||o.sym||!r.setup||r.setup(i,o,Uot),o.sym||r[Do](i)),r}opdurationstat(){var s;var e,t=H(),r,o,n,i;if(this.duration)return r=o=1,(e=t[q1e])||(r=o=0,e=t[q1e]=e=R("op-stat",null,null,null)),r||(e[Nn]=t._),r||((s=e[_s])==null||s.call(e,t,q1e)),n=e[a0]("__",e),pt.context=e[XZr]||(e[XZr]={_:n}),i=String(this.$.duration),pt.context=null,i===e[KZr]&&r||(e[YZr]=n[qo](e[KZr]=i,384,e[YZr])),r||t.sym||!e.setup||e.setup(o,t,q1e),t.sym||e[Do](o),e}opscribblesstat(e){var d;var t,r=H(),o,n,i,s,a,u,c,h;return o=n=1,(t=r[W1e])||(o=n=0,t=r[W1e]=t=R("op-stat",null,"ct-aq",null)),o||(t[Nn]=r._),o||((d=t[_s])==null||d.call(t,r,W1e)),i=t[a0]("__",t),e===t[JZr]||(t.data=t[JZr]=e),o||t.on$("optip",{},this),a=u=1,(s=t[QZr])||(a=u=0,t[QZr]=s=R("op-icon",i,null,null)),a||(s.data="scribble"),a||!s.setup||s.setup(u,c),s[Do](u),a||i[FZ](s),h=e.size,h===t[tGr]&&o||(t[eGr]=i[qo](t[tGr]=h,256,t[eGr])),o||r.sym||!t.setup||t.setup(n,r,W1e),r.sym||t[Do](n),t}opscribblestip(e){var a;var t,r=H(),o,n,i,s;return o=n=1,(t=r[Z1e])||(o=n=0,t=r[Z1e]=t=R("op",null,null,null)),o||(t[Nn]=r._),o||((a=t[_s])==null||a.call(t,r,Z1e)),i=t[a0]("__",t),o||i[qo]("You have "),s=e.size,s===t[oGr]&&o||(t[rGr]=i[qo](t[oGr]=s,0,t[rGr])),o||i[qo](" "),pt.context=t[iGr]||(t[iGr]={_:i}),s="Scribble".pluralize(e.size),pt.context=null,s===t[sGr]&&o||(t[nGr]=i[qo](t[sGr]=s,0,t[nGr])),o||i[qo](" on this Scrim"),o||r.sym||!t.setup||t.setup(n,r,Z1e),r.sym||t[Do](n),t}oprecsstat(e){var d;var t,r=H(),o,n,i,s,a,u,c,h;return o=n=1,(t=r[G1e])||(o=n=0,t=r[G1e]=t=R("op-stat",null,null,null)),o||(t[Nn]=r._),o||((d=t[_s])==null||d.call(t,r,G1e)),i=t[a0]("__",t),e===t[lGr]||(t.data=t[lGr]=e),o||t.on$("optip",{},this),a=u=1,(s=t[aGr])||(a=u=0,t[aGr]=s=R("op-icon",i,null,null)),a||(s.data="video"),a||!s.setup||s.setup(u,c),s[Do](u),a||i[FZ](s),h=e.size,h===t[cGr]&&o||(t[uGr]=i[qo](t[cGr]=h,256,t[uGr])),o||r.sym||!t.setup||t.setup(n,r,G1e),r.sym||t[Do](n),t}opcommitstip(e){var $;var t,r=H(),o,n,i,s,a,u,c,h,d,f,m;o=n=1,(t=r[Y1e])||(o=n=0,t=r[Y1e]=t=R("op",null,null,null)),o||(t[Nn]=r._),o||(($=t[_s])==null||$.call(t,r,Y1e)),i=t[a0]("__",t),o||i[qo]("Last commits"),(s=t[hGr])||(t[hGr]=s=w("div",i,null,null)),(a=t[pGr])||(t[pGr]=a=Jt(384,s)),u=0,c=a.$;for(let b=0,g=B(this.commits),x=g.length;b<x;b++){let k=g[b];d=f=1,(h=c[u])||(d=f=0,c[u]=h=w("div",a,null,null)),d||(h[Nn]=a),m=k.desc,m===h[fGr]&&d||(h[dGr]=h[qo](h[fGr]=m,384,h[dGr])),u++}return a[Do](u),o||r.sym||!t.setup||t.setup(n,r,Y1e),r.sym||t[Do](n),t}opownheading(){var b;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$;return r=o=1,(e=t[X1e])||(r=o=0,e=t[X1e]=e=R("hgroup",null,null,null)),r||(e[Nn]=t._),r||((b=e[_s])==null||b.call(e,t,X1e)),n=e[a0]("__",e),(i=e[mGr])||(e[mGr]=i=w("h2",n,null,null)),s=this.name,s===e[yGr]&&r||(e[$Gr]=i[qo](e[yGr]=s,384,e[$Gr])),u=c=1,(a=e[bGr])||(u=c=0,e[bGr]=a=w("h3",n,null,null)),u||a[qo]("By "),h=a[q4](Hdn),f=m=1,(d=h.run(this.oref(this.creator)))||(f=m=0,h.cache(d=M(h.value,a,"inline",null))),d[W4]&&((!f||m&2)&&d.flags.reconcile(YA,"inline"),f||!d.setup||d.setup(m,h),d[Do](m)),d==a[YA]||!a[YA]&&(a[YA]=d)[nde](a)||a[YA][ide](a[YA]=d,a),u||!a.setup||a.setup(c,$),a[Do](c),r||t.sym||!e.setup||e.setup(o,t,X1e),t.sym||e[Do](o),e}opowntilestats(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[K1e])||(r=o=0,e=t[K1e]=e=R("op-stats",null,null,null)),r||(e[Nn]=t._),r||((i=e[_s])==null||i.call(e,t,K1e)),n=this,n===e[gGr]||(e.data=e[gGr]=n),r||(e.only="credits|modified|commits|topics|scribbles"),r||t.sym||!e.setup||e.setup(o,t,K1e),t.sym||e[Do](o),e}opownstats(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[J1e])||(r=o=0,e=t[J1e]=e=R("op-stats",null,null,null)),r||(e[Nn]=t._),r||((i=e[_s])==null||i.call(e,t,J1e)),n=this,n===e[kGr]||(e.data=e[kGr]=n),r||(e.only="creator|owner|modified|commits|topics|scribbles"),r||t.sym||!e.setup||e.setup(o,t,J1e),t.sym||e[Do](o),e}opownscribble(e,t){var s;var r,o=H(),n,i;return n=i=1,(r=o[Q1e])||(n=i=0,r=o[Q1e]=r=R("op-scribble",null,null,null)),n||(r[Nn]=o._),n||((s=r[_s])==null||s.call(r,o,Q1e)),e===r[_Gr]||(r.data=r[_Gr]=e),t===r[xGr]||(r.ctx=r[xGr]=t),n||o.sym||!r.setup||r.setup(i,o,Q1e),o.sym||r[Do](i),r}set credits(e){this.credits.$set(e,this,bot,"credits")}get credits(){return this.credits.$get(this,bot,"credits")}get credits(){return this[hZr]||y((Pot=this.get(),Pot.callback=function(){return this.owner||this.creator},Pot),this,bot,"credits",hZr,cr.prototype)}set gated(e){this.gated.$set(e,this,got,"gated")}get gated(){return this.gated.$get(this,got,"gated")}get gated(){return this[pZr]||y((Tot=this.get(),Tot.callback=function(){return ME!=null&&ME.pro||ME!=null&&ME.teacher||ME!=null&&ME.admin?!1:!!(this.solution&&this.mine&&!this.spent_credit)},Tot),this,got,"gated",pZr,cr.prototype)}opcreditsstat(){var C;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;let v=this.creator;return i=s=1,(o=n[ede])||(i=s=0,o=n[ede]=o=R("op-stat",null,null,null)),i||(o[Nn]=n._),i||((C=o[_s])==null||C.call(o,n,ede)),a=o[a0]("__",o),e=t=null,v&&(u=o[q4](Vdn),c=h=1,(e=u.run(this.oicon(v)))||(c=h=0,u.cache(e=M(u.value,null,"md",null))),c||(e[Nn]=a),e[W4]&&((!c||h&2)&&e.flags.reconcile(Bdn,"md"),c||!e.setup||e.setup(h,u),e[Do](h)),d=o[q4](zdn),f=m=1,(t=d.run(this.olink(v)))||(f=m=0,d.cache(t=M(d.value,null,null,null))),f||(t[Nn]=a),t[W4]&&(f||!t.setup||t.setup(m,d),t[Do](m))),o[vGr]=a[qo](e,0,o[vGr]),o[wGr]=a[qo](t,0,o[wGr]),r=null,this.owner&&v!=this.owner&&($=b=1,(r=o[SGr])||($=b=0,o[SGr]=r=w("span",null,null,null)),$||(r[Nn]=a),$||r[qo]("for "),g=r[q4](qdn),k=_=1,(x=g.run(this.olink(this.owner)))||(k=_=0,g.cache(x=M(g.value,r,null,null))),x[W4]&&(k||!x.setup||x.setup(_,g),x[Do](_)),x==r[IZ]||!r[IZ]&&(r[IZ]=x)[nde](r)||r[IZ][ide](r[IZ]=x,r),$||!r.setup||r.setup(b,S),r[Do](b)),o[CGr]=a[qo](r,0,o[CGr]),i||n.sym||!o.setup||o.setup(s,n,ede),n.sym||o[Do](s),o}opownicon(){var P,U,O,L,I;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;let C=this.creator,j=this.owner!=C?this.owner:null;if(j){if(j&&C)return u=c=1,(a=r[tde])||(u=c=0,a=r[tde]=a=w("div",null,"ct-bl",null)),u||(a[Nn]=r._),u||((O=a[_s])==null||O.call(a,r,tde)),h=a[q4](Wdn),f=m=1,(d=h.run(this.oicon(j)))||(f=m=0,h.cache(d=M(h.value,a,"ct-bm",null))),d[W4]&&($=d[jGr]||(d[jGr]={options:[null]}),b=j,b===$.options[0]||($.options[0]=b,m|=48),f||d.on$("opmenu",$,this),m&32&&(m^=32,(L=$[Mot])==null||L.call($)),(!f||m&2)&&d.flags.reconcile(XA,"ct-bm"),f||!d.setup||d.setup(m,h),d[Do](m)),d==a[XA]||!a[XA]&&(a[XA]=d)[nde](a)||a[XA][ide](a[XA]=d,a),g=a[q4](Zdn),k=_=1,(x=g.run(this.oicon(C)))||(k=_=0,g.cache(x=M(g.value,a,"ct-bn",null))),x[W4]&&(S=x[AGr]||(x[AGr]={options:[null]}),v=C,v===S.options[0]||(S.options[0]=v,_|=48),k||x.on$("opmenu",S,this),_&32&&(_^=32,(I=S[Mot])==null||I.call(S)),(!k||_&2)&&x.flags.reconcile(KA,"ct-bn"),k||!x.setup||x.setup(_,g),x[Do](_)),x==a[KA]||!a[KA]&&(a[KA]=x)[nde](a)||a[KA][ide](a[KA]=x,a),u||r.sym||!a.setup||a.setup(c,r,tde),r.sym||a[Do](c),a}else return e=r[q4](Oot),o=n=1,(t=e.run(this.oicon(C)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[Nn]=r._),o||((P=t[_s])==null||P.call(t,r,Oot)),t[W4]&&(i=t[EGr]||(t[EGr]={options:[null]}),s=C,s===i.options[0]||(i.options[0]=s,n|=48),o||t.on$("opmenu",i,this),n&32&&(n^=32,(U=i[Mot])==null||U.call(i)),o||r.sym||!t.setup||t.setup(n,r,Oot),r.sym||t[Do](n)),t}opgatedtip(){var m,$;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f;if(this.solution&&this.mine&&!(ME!=null&&ME.pro)){let b=(m=ME.credits)==null?void 0:m.pro_challenges;return o=n=1,(t=r[rde])||(o=n=0,t=r[rde]=t=R("op",null,null,null)),o||(t[Nn]=r._),o||(($=t[_s])==null||$.call(t,r,rde)),i=t[a0]("__",t),o||(s=w("h2",i,null,"Only available to subscribers")),e=null,b!=null&&b.remaining?(a=u=1,(e=t[UGr])||(a=u=0,t[UGr]=e=w("p",null,null,null)),a||(e[Nn]=i),a||e[qo]("You can do "),c=b==null?void 0:b.remaining,c===e[TGr]&&a||(e[PGr]=e[qo](e[TGr]=c,0,e[PGr])),a||e[qo](" more challenges before subscribing.")):(h=d=1,(e=t[OGr])||(h=d=0,t[OGr]=e=w("p",null,null,null)),h||(e[Nn]=i),h||e[qo]("You have used all your free challenges ("),f=b.used,f===e[MGr]&&h||(e[RGr]=e[qo](e[MGr]=f,0,e[RGr])),h||e[qo]("/"),f=b.limit,f===e[DGr]&&h||(e[LGr]=e[qo](e[DGr]=f,0,e[LGr])),h||e[qo](")")),t[NGr]=i[qo](e,0,t[NGr]),o||r.sym||!t.setup||t.setup(n,r,rde),r.sym||t[Do](n),t}}opownli(e,t=null){var f;var r,o=H(),n,i,s,a,u,c,h,d;return n=i=1,(r=o[ode])||(n=i=0,r=o[ode]=r=R("op-xli",null,null,null)),n||(r[Nn]=o._),n||((f=r[_s])==null||f.call(r,o,ode)),s=r[a0]("__",r),a=this,a===r[IGr]||(r.data=r[IGr]=a),(u=r[FGr])||(r[FGr]=u=w("h2",s,null,null)),c=this.aslilabel,c===r[BGr]&&n||(r[HGr]=u[qo](r[BGr]=c,384,r[HGr])),(h=r[VGr])||(r[VGr]=h=w("span",s,null,null)),d=this.askindlabel,d===r[qGr]&&n||(r[zGr]=h[qo](r[qGr]=d,384,r[zGr])),n||o.sym||!r.setup||r.setup(i,o,ode),o.sym||r[Do](i),r}};cr.alias="s",E(cr,sde,"Scrim",88);var Pv=cr;globalThis.Scrim=Pv;Pv.LegacyEmptySnapshot=xWr;Pv.BaseSnapshot={entries:{vg00:{container:"../main",flex:[50,50]},f0x:{name:"index.js",container:"vg00",_pos:1e3,up:"../fs",body:"// Hello"}},main:{container:"../layout",layout:"vertical",_pos:10,flex:[50,50]},drawer:{container:"../main",flex:[0,0,300,1400],_pos:1e6},runner:{container:"../drawer",_pos:-1e6},sidebar:{container:"../layout",_pos:-1e6,flex:[0,0,180,900]},fs:{exclude:[["node_modules"],[".next"],[".tmp"],["package-lock.json"],[".*/"]],groups:[{name:"Configuration",rules:[["tsconfig.json"],[".env"]]},{name:"Packager files",rules:[["package.json"],["package-lock.json"],["node_modules"]]}]},browser:{container:"../layout",_pos:1e6,flex:[0,0,340,900],floating:!0,abs:{left:1e3,top:300,width:300,height:400,vw:1100,vh:600}},layout:{layout:"horizontal"}};Pv.BaseSnapshot=Xdn;var Kdn=Symbol(),Z4=class Z4 extends Model{set id(e){this.id.$set(e,this,kot,"id")}get id(){return this.id.$get(this,kot,"id")}get id(){return this[dZr]||y((z4=this.key(this.scrim,this.index,this.offset),p(z4.virtual,Function)?z4.virtual():z4.virtual=!0,p(z4.rwxcd,Function)?z4.rwxcd(OWNER|MEMBER):z4.rwxcd=OWNER|MEMBER,z4),this,kot,"id",dZr,Z4.prototype)}set scrim(e){this.scrim.$set(e,this,_ot,"scrim")}get scrim(){return this.scrim.$get(this,_ot,"scrim")}get scrim(){return this[fZr]||y((WGr=this.ref(Pv),WGr),this,_ot,"scrim",fZr,Z4.prototype)}set index(e){this.index.$set(e,this,xot,"index")}get index(){return this.index.$get(this,xot,"index")}get index(){return this[mZr]||y((ZGr=this.number(),ZGr),this,xot,"index",mZr,Z4.prototype)}set offset(e){this.offset.$set(e,this,vot,"offset")}get offset(){return this.offset.$get(this,vot,"offset")}get offset(){return this[$Zr]||y((GGr=this.number(),GGr),this,vot,"offset",$Zr,Z4.prototype)}};Z4.alias="scref",E(Z4,Kdn,"ScrimRef",0);var ade=Z4;globalThis.ScrimRef=ade;T();oe();T();oe();T();oe();var YGr=Symbol(),Iot=class Iot{[A](e=null,t=!0,r=!0){this.parent=e?e.parent:void 0}get owner(){return this.parent.owner}get repo(){return this.parent.repo}get filePath(){return this.parent.filePath}get ref(){return this.parent.ref}get source(){return this.parent.source}constructor(e){this[A](),this.parent=e,re(this,YGr)}};E(Iot,YGr,"BaseProvider",16);var JA=Iot;var Fot="https://api.github.com",Jdn=Symbol(),Hot=class Hot extends JA{get headers(){return{Accept:"application/vnd.github.object"}}async getRef(){return(await(await globalThis.fetch(""+Fot+"/repos/"+this.owner+"/"+this.repo+"/git/extract-ref/HEAD")).json()).ref}async loadDirContent({fullPath:e}){var t=this;return(e="/")&&(e=""),(await(await globalThis.fetch(""+Fot+"/repos/"+this.owner+"/"+this.repo+"/contents/"+e)).json()).map(function(n){return{fullPath:n.path,isDirectory:t.type=="dir",path:n.path.replace(e,"").replace("/","")}})}async loadFileContent({fullPath:e}){let r=await(await globalThis.fetch(""+Fot+"/repos/"+this.owner+"/"+this.repo+"/contents/"+e)).json();return r.encoding=="base64"?globalThis.atob(r.content):r.content}};E(Hot,Jdn,"GithubProvider",0);var HZ=Hot;T();oe();T();T();var ude=JSON;T();var XGr=l=>l.toUpperCase(),KGr=l=>{let e={};return l.forEach((t,r)=>{e[r]=t}),e};T();var JGr=(l,e,t)=>l.document?l:{document:l,variables:e,requestHeaders:t,signal:void 0},QGr=(l,e,t)=>l.query?l:{query:l,variables:e,requestHeaders:t,signal:void 0},eYr=(l,e)=>l.documents?l:{documents:l,requestHeaders:e,signal:void 0},tYr=(l,e,...t)=>{let[r,o]=t;return l.document?l:{url:l,document:e,variables:r,requestHeaders:o,signal:void 0}};T();T();T();function QA(l,e){if(!!!l)throw new Error(e)}T();T();T();T();function rYr(l){return typeof l=="object"&&l!==null}T();T();function oYr(l,e){if(!!!l)throw new Error(e??"Unexpected invariant triggered.")}var Qdn=/\r\n|[\n\r]/g;function eU(l,e){let t=0,r=1;for(let o of l.body.matchAll(Qdn)){if(typeof o.index=="number"||oYr(!1),o.index>=e)break;t=o.index+o[0].length,r+=1}return{line:r,column:e+1-t}}T();function Bot(l){return cde(l.source,eU(l.source,l.start))}function cde(l,e){let t=l.locationOffset.column-1,r="".padStart(t)+l.body,o=e.line-1,n=l.locationOffset.line-1,i=e.line+n,s=e.line===1?t:0,a=e.column+s,u=`${l.name}:${i}:${a}
`,c=r.split(/\r\n|[\n\r]/g),h=c[o];if(h.length>120){let d=Math.floor(a/80),f=a%80,m=[];for(let $=0;$<h.length;$+=80)m.push(h.slice($,$+80));return u+nYr([[`${i} |`,m[0]],...m.slice(1,d+1).map($=>["|",$]),["|","^".padStart(f)],["|",m[d+1]]])}return u+nYr([[`${i-1} |`,c[o-1]],[`${i} |`,h],["|","^".padStart(a)],[`${i+1} |`,c[o+1]]])}function nYr(l){let e=l.filter(([r,o])=>o!==void 0),t=Math.max(...e.map(([r])=>r.length));return e.map(([r,o])=>r.padStart(t)+(o?" "+o:"")).join(`
`)}function e0n(l){let e=l[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:l[1],positions:l[2],path:l[3],originalError:l[4],extensions:l[5]}:e}var hde=class l extends Error{constructor(e,...t){var r,o,n;let{nodes:i,source:s,positions:a,path:u,originalError:c,extensions:h}=e0n(t);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=iYr(Array.isArray(i)?i:i?[i]:void 0);let d=iYr((r=this.nodes)===null||r===void 0?void 0:r.map(m=>m.loc).filter(m=>m!=null));this.source=s??(d==null||(o=d[0])===null||o===void 0?void 0:o.source),this.positions=a??(d==null?void 0:d.map(m=>m.start)),this.locations=a&&s?a.map(m=>eU(s,m)):d==null?void 0:d.map(m=>eU(m.source,m.start));let f=rYr(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(n=h??f)!==null&&n!==void 0?n:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,l):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let t of this.nodes)t.loc&&(e+=`

`+Bot(t.loc));else if(this.source&&this.locations)for(let t of this.locations)e+=`

`+cde(this.source,t);return e}toJSON(){let e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function iYr(l){return l===void 0||l.length===0?void 0:l}function rs(l,e,t){return new hde(`Syntax Error: ${t}`,{source:l,positions:[e]})}T();var BZ=class{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},tU=class{constructor(e,t,r,o,n,i){this.kind=e,this.start=t,this.end=r,this.line=o,this.column=n,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},Vot={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},t0n=new Set(Object.keys(Vot));function zot(l){let e=l==null?void 0:l.kind;return typeof e=="string"&&t0n.has(e)}var G4;(function(l){l.QUERY="query",l.MUTATION="mutation",l.SUBSCRIPTION="subscription"})(G4||(G4={}));T();var VZ;(function(l){l.QUERY="QUERY",l.MUTATION="MUTATION",l.SUBSCRIPTION="SUBSCRIPTION",l.FIELD="FIELD",l.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",l.FRAGMENT_SPREAD="FRAGMENT_SPREAD",l.INLINE_FRAGMENT="INLINE_FRAGMENT",l.VARIABLE_DEFINITION="VARIABLE_DEFINITION",l.SCHEMA="SCHEMA",l.SCALAR="SCALAR",l.OBJECT="OBJECT",l.FIELD_DEFINITION="FIELD_DEFINITION",l.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",l.INTERFACE="INTERFACE",l.UNION="UNION",l.ENUM="ENUM",l.ENUM_VALUE="ENUM_VALUE",l.INPUT_OBJECT="INPUT_OBJECT",l.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(VZ||(VZ={}));T();var fr;(function(l){l.NAME="Name",l.DOCUMENT="Document",l.OPERATION_DEFINITION="OperationDefinition",l.VARIABLE_DEFINITION="VariableDefinition",l.SELECTION_SET="SelectionSet",l.FIELD="Field",l.ARGUMENT="Argument",l.FRAGMENT_SPREAD="FragmentSpread",l.INLINE_FRAGMENT="InlineFragment",l.FRAGMENT_DEFINITION="FragmentDefinition",l.VARIABLE="Variable",l.INT="IntValue",l.FLOAT="FloatValue",l.STRING="StringValue",l.BOOLEAN="BooleanValue",l.NULL="NullValue",l.ENUM="EnumValue",l.LIST="ListValue",l.OBJECT="ObjectValue",l.OBJECT_FIELD="ObjectField",l.DIRECTIVE="Directive",l.NAMED_TYPE="NamedType",l.LIST_TYPE="ListType",l.NON_NULL_TYPE="NonNullType",l.SCHEMA_DEFINITION="SchemaDefinition",l.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",l.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",l.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",l.FIELD_DEFINITION="FieldDefinition",l.INPUT_VALUE_DEFINITION="InputValueDefinition",l.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",l.UNION_TYPE_DEFINITION="UnionTypeDefinition",l.ENUM_TYPE_DEFINITION="EnumTypeDefinition",l.ENUM_VALUE_DEFINITION="EnumValueDefinition",l.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",l.DIRECTIVE_DEFINITION="DirectiveDefinition",l.SCHEMA_EXTENSION="SchemaExtension",l.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",l.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",l.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",l.UNION_TYPE_EXTENSION="UnionTypeExtension",l.ENUM_TYPE_EXTENSION="EnumTypeExtension",l.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(fr||(fr={}));T();T();T();function pde(l){return l===9||l===32}function rU(l){return l>=48&&l<=57}function sYr(l){return l>=97&&l<=122||l>=65&&l<=90}function qot(l){return sYr(l)||l===95}function lYr(l){return sYr(l)||rU(l)||l===95}function aYr(l){var e;let t=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let i=0;i<l.length;++i){var n;let s=l[i],a=r0n(s);a!==s.length&&(r=(n=r)!==null&&n!==void 0?n:i,o=i,i!==0&&a<t&&(t=a))}return l.map((i,s)=>s===0?i:i.slice(t)).slice((e=r)!==null&&e!==void 0?e:0,o+1)}function r0n(l){let e=0;for(;e<l.length&&pde(l.charCodeAt(e));)++e;return e}function uYr(l,e){let t=l.replace(/"""/g,'\\"""'),r=t.split(/\r\n|[\n\r]/g),o=r.length===1,n=r.length>1&&r.slice(1).every(f=>f.length===0||pde(f.charCodeAt(0))),i=t.endsWith('\\"""'),s=l.endsWith('"')&&!i,a=l.endsWith("\\"),u=s||a,c=!(e!=null&&e.minimize)&&(!o||l.length>70||u||n||i),h="",d=o&&pde(l.charCodeAt(0));return(c&&!d||n)&&(h+=`
`),h+=t,(c||u)&&(h+=`
`),'"""'+h+'"""'}T();var ot;(function(l){l.SOF="<SOF>",l.EOF="<EOF>",l.BANG="!",l.DOLLAR="$",l.AMP="&",l.PAREN_L="(",l.PAREN_R=")",l.SPREAD="...",l.COLON=":",l.EQUALS="=",l.AT="@",l.BRACKET_L="[",l.BRACKET_R="]",l.BRACE_L="{",l.PIPE="|",l.BRACE_R="}",l.NAME="Name",l.INT="Int",l.FLOAT="Float",l.STRING="String",l.BLOCK_STRING="BlockString",l.COMMENT="Comment"})(ot||(ot={}));var qZ=class{constructor(e){let t=new tU(ot.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==ot.EOF)do if(e.next)e=e.next;else{let t=o0n(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===ot.COMMENT);return e}};function hYr(l){return l===ot.BANG||l===ot.DOLLAR||l===ot.AMP||l===ot.PAREN_L||l===ot.PAREN_R||l===ot.SPREAD||l===ot.COLON||l===ot.EQUALS||l===ot.AT||l===ot.BRACKET_L||l===ot.BRACKET_R||l===ot.BRACE_L||l===ot.PIPE||l===ot.BRACE_R}function oU(l){return l>=0&&l<=55295||l>=57344&&l<=1114111}function dde(l,e){return pYr(l.charCodeAt(e))&&dYr(l.charCodeAt(e+1))}function pYr(l){return l>=55296&&l<=56319}function dYr(l){return l>=56320&&l<=57343}function Tv(l,e){let t=l.source.body.codePointAt(e);if(t===void 0)return ot.EOF;if(t>=32&&t<=126){let r=String.fromCodePoint(t);return r==='"'?`'"'`:`"${r}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function os(l,e,t,r,o){let n=l.line,i=1+t-l.lineStart;return new tU(e,t,r,n,i,o)}function o0n(l,e){let t=l.source.body,r=t.length,o=e;for(;o<r;){let n=t.charCodeAt(o);switch(n){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++l.line,l.lineStart=o;continue;case 13:t.charCodeAt(o+1)===10?o+=2:++o,++l.line,l.lineStart=o;continue;case 35:return n0n(l,o);case 33:return os(l,ot.BANG,o,o+1);case 36:return os(l,ot.DOLLAR,o,o+1);case 38:return os(l,ot.AMP,o,o+1);case 40:return os(l,ot.PAREN_L,o,o+1);case 41:return os(l,ot.PAREN_R,o,o+1);case 46:if(t.charCodeAt(o+1)===46&&t.charCodeAt(o+2)===46)return os(l,ot.SPREAD,o,o+3);break;case 58:return os(l,ot.COLON,o,o+1);case 61:return os(l,ot.EQUALS,o,o+1);case 64:return os(l,ot.AT,o,o+1);case 91:return os(l,ot.BRACKET_L,o,o+1);case 93:return os(l,ot.BRACKET_R,o,o+1);case 123:return os(l,ot.BRACE_L,o,o+1);case 124:return os(l,ot.PIPE,o,o+1);case 125:return os(l,ot.BRACE_R,o,o+1);case 34:return t.charCodeAt(o+1)===34&&t.charCodeAt(o+2)===34?c0n(l,o):s0n(l,o)}if(rU(n)||n===45)return i0n(l,o,n);if(qot(n))return h0n(l,o);throw rs(l.source,o,n===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:oU(n)||dde(t,o)?`Unexpected character: ${Tv(l,o)}.`:`Invalid character: ${Tv(l,o)}.`)}return os(l,ot.EOF,r,r)}function n0n(l,e){let t=l.source.body,r=t.length,o=e+1;for(;o<r;){let n=t.charCodeAt(o);if(n===10||n===13)break;if(oU(n))++o;else if(dde(t,o))o+=2;else break}return os(l,ot.COMMENT,e,o,t.slice(e+1,o))}function i0n(l,e,t){let r=l.source.body,o=e,n=t,i=!1;if(n===45&&(n=r.charCodeAt(++o)),n===48){if(n=r.charCodeAt(++o),rU(n))throw rs(l.source,o,`Invalid number, unexpected digit after 0: ${Tv(l,o)}.`)}else o=Wot(l,o,n),n=r.charCodeAt(o);if(n===46&&(i=!0,n=r.charCodeAt(++o),o=Wot(l,o,n),n=r.charCodeAt(o)),(n===69||n===101)&&(i=!0,n=r.charCodeAt(++o),(n===43||n===45)&&(n=r.charCodeAt(++o)),o=Wot(l,o,n),n=r.charCodeAt(o)),n===46||qot(n))throw rs(l.source,o,`Invalid number, expected digit but got: ${Tv(l,o)}.`);return os(l,i?ot.FLOAT:ot.INT,e,o,r.slice(e,o))}function Wot(l,e,t){if(!rU(t))throw rs(l.source,e,`Invalid number, expected digit but got: ${Tv(l,e)}.`);let r=l.source.body,o=e+1;for(;rU(r.charCodeAt(o));)++o;return o}function s0n(l,e){let t=l.source.body,r=t.length,o=e+1,n=o,i="";for(;o<r;){let s=t.charCodeAt(o);if(s===34)return i+=t.slice(n,o),os(l,ot.STRING,e,o+1,i);if(s===92){i+=t.slice(n,o);let a=t.charCodeAt(o+1)===117?t.charCodeAt(o+2)===123?l0n(l,o):a0n(l,o):u0n(l,o);i+=a.value,o+=a.size,n=o;continue}if(s===10||s===13)break;if(oU(s))++o;else if(dde(t,o))o+=2;else throw rs(l.source,o,`Invalid character within String: ${Tv(l,o)}.`)}throw rs(l.source,o,"Unterminated string.")}function l0n(l,e){let t=l.source.body,r=0,o=3;for(;o<12;){let n=t.charCodeAt(e+o++);if(n===125){if(o<5||!oU(r))break;return{value:String.fromCodePoint(r),size:o}}if(r=r<<4|zZ(n),r<0)break}throw rs(l.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+o)}".`)}function a0n(l,e){let t=l.source.body,r=cYr(t,e+2);if(oU(r))return{value:String.fromCodePoint(r),size:6};if(pYr(r)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){let o=cYr(t,e+8);if(dYr(o))return{value:String.fromCodePoint(r,o),size:12}}throw rs(l.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function cYr(l,e){return zZ(l.charCodeAt(e))<<12|zZ(l.charCodeAt(e+1))<<8|zZ(l.charCodeAt(e+2))<<4|zZ(l.charCodeAt(e+3))}function zZ(l){return l>=48&&l<=57?l-48:l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:-1}function u0n(l,e){let t=l.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw rs(l.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function c0n(l,e){let t=l.source.body,r=t.length,o=l.lineStart,n=e+3,i=n,s="",a=[];for(;n<r;){let u=t.charCodeAt(n);if(u===34&&t.charCodeAt(n+1)===34&&t.charCodeAt(n+2)===34){s+=t.slice(i,n),a.push(s);let c=os(l,ot.BLOCK_STRING,e,n+3,aYr(a).join(`
`));return l.line+=a.length-1,l.lineStart=o,c}if(u===92&&t.charCodeAt(n+1)===34&&t.charCodeAt(n+2)===34&&t.charCodeAt(n+3)===34){s+=t.slice(i,n),i=n+1,n+=4;continue}if(u===10||u===13){s+=t.slice(i,n),a.push(s),u===13&&t.charCodeAt(n+1)===10?n+=2:++n,s="",i=n,o=n;continue}if(oU(u))++n;else if(dde(t,n))n+=2;else throw rs(l.source,n,`Invalid character within String: ${Tv(l,n)}.`)}throw rs(l.source,n,"Unterminated string.")}function h0n(l,e){let t=l.source.body,r=t.length,o=e+1;for(;o<r;){let n=t.charCodeAt(o);if(lYr(n))++o;else break}return os(l,ot.NAME,e,o,t.slice(e,o))}T();T();function nU(l){return fde(l,[])}function fde(l,e){switch(typeof l){case"string":return JSON.stringify(l);case"function":return l.name?`[function ${l.name}]`:"[function]";case"object":return p0n(l,e);default:return String(l)}}function p0n(l,e){if(l===null)return"null";if(e.includes(l))return"[Circular]";let t=[...e,l];if(d0n(l)){let r=l.toJSON();if(r!==l)return typeof r=="string"?r:fde(r,t)}else if(Array.isArray(l))return m0n(l,t);return f0n(l,t)}function d0n(l){return typeof l.toJSON=="function"}function f0n(l,e){let t=Object.entries(l);return t.length===0?"{}":e.length>2?"["+$0n(l)+"]":"{ "+t.map(([o,n])=>o+": "+fde(n,e)).join(", ")+" }"}function m0n(l,e){if(l.length===0)return"[]";if(e.length>2)return"[Array]";let t=Math.min(10,l.length),r=l.length-t,o=[];for(let n=0;n<t;++n)o.push(fde(l[n],e));return r===1?o.push("... 1 more item"):r>1&&o.push(`... ${r} more items`),"["+o.join(", ")+"]"}function $0n(l){let e=Object.prototype.toString.call(l).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof l.constructor=="function"){let t=l.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}T();var fYr=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var r;let o=t.prototype[Symbol.toStringTag],n=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(o===n){let i=nU(e);throw new Error(`Cannot use ${o} "${i}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var iU=class{constructor(e,t="GraphQL request",r={line:1,column:1}){typeof e=="string"||QA(!1,`Body must be a string. Received: ${nU(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||QA(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||QA(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function mYr(l){return fYr(l,iU)}function $de(l,e){return new Zot(l,e).parseDocument()}var Zot=class{constructor(e,t={}){let r=mYr(e)?e:new iU(e);this._lexer=new qZ(r),this._options=t,this._tokenCounter=0}parseName(){let e=this.expectToken(ot.NAME);return this.node(e,{kind:fr.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:fr.DOCUMENT,definitions:this.many(ot.SOF,this.parseDefinition,ot.EOF)})}parseDefinition(){if(this.peek(ot.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===ot.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw rs(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(ot.BRACE_L))return this.node(e,{kind:fr.OPERATION_DEFINITION,operation:G4.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let t=this.parseOperationType(),r;return this.peek(ot.NAME)&&(r=this.parseName()),this.node(e,{kind:fr.OPERATION_DEFINITION,operation:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(ot.NAME);switch(e.value){case"query":return G4.QUERY;case"mutation":return G4.MUTATION;case"subscription":return G4.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(ot.PAREN_L,this.parseVariableDefinition,ot.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:fr.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ot.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ot.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(ot.DOLLAR),this.node(e,{kind:fr.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:fr.SELECTION_SET,selections:this.many(ot.BRACE_L,this.parseSelection,ot.BRACE_R)})}parseSelection(){return this.peek(ot.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,t=this.parseName(),r,o;return this.expectOptionalToken(ot.COLON)?(r=t,o=this.parseName()):o=t,this.node(e,{kind:fr.FIELD,alias:r,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ot.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ot.PAREN_L,t,ot.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(ot.COLON),this.node(t,{kind:fr.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(ot.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(ot.NAME)?this.node(e,{kind:fr.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:fr.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:fr.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:fr.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case ot.BRACKET_L:return this.parseList(e);case ot.BRACE_L:return this.parseObject(e);case ot.INT:return this.advanceLexer(),this.node(t,{kind:fr.INT,value:t.value});case ot.FLOAT:return this.advanceLexer(),this.node(t,{kind:fr.FLOAT,value:t.value});case ot.STRING:case ot.BLOCK_STRING:return this.parseStringLiteral();case ot.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:fr.BOOLEAN,value:!0});case"false":return this.node(t,{kind:fr.BOOLEAN,value:!1});case"null":return this.node(t,{kind:fr.NULL});default:return this.node(t,{kind:fr.ENUM,value:t.value})}case ot.DOLLAR:if(e)if(this.expectToken(ot.DOLLAR),this._lexer.token.kind===ot.NAME){let r=this._lexer.token.value;throw rs(this._lexer.source,t.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:fr.STRING,value:e.value,block:e.kind===ot.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:fr.LIST,values:this.any(ot.BRACKET_L,t,ot.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:fr.OBJECT,fields:this.any(ot.BRACE_L,t,ot.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(ot.COLON),this.node(t,{kind:fr.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(ot.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(ot.AT),this.node(t,{kind:fr.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,t;if(this.expectOptionalToken(ot.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(ot.BRACKET_R),t=this.node(e,{kind:fr.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(ot.BANG)?this.node(e,{kind:fr.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:fr.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ot.STRING)||this.peek(ot.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),o=this.many(ot.BRACE_L,this.parseOperationTypeDefinition,ot.BRACE_R);return this.node(e,{kind:fr.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:o})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(ot.COLON);let r=this.parseNamedType();return this.node(e,{kind:fr.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),o=this.parseConstDirectives();return this.node(e,{kind:fr.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:o})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),o=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:fr.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:o,directives:n,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ot.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ot.BRACE_L,this.parseFieldDefinition,ot.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),o=this.parseArgumentDefs();this.expectToken(ot.COLON);let n=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:fr.FIELD_DEFINITION,description:t,name:r,arguments:o,type:n,directives:i})}parseArgumentDefs(){return this.optionalMany(ot.PAREN_L,this.parseInputValueDef,ot.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(ot.COLON);let o=this.parseTypeReference(),n;this.expectOptionalToken(ot.EQUALS)&&(n=this.parseConstValueLiteral());let i=this.parseConstDirectives();return this.node(e,{kind:fr.INPUT_VALUE_DEFINITION,description:t,name:r,type:o,defaultValue:n,directives:i})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),o=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:fr.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:o,directives:n,fields:i})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),o=this.parseConstDirectives(),n=this.parseUnionMemberTypes();return this.node(e,{kind:fr.UNION_TYPE_DEFINITION,description:t,name:r,directives:o,types:n})}parseUnionMemberTypes(){return this.expectOptionalToken(ot.EQUALS)?this.delimitedMany(ot.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),o=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();return this.node(e,{kind:fr.ENUM_TYPE_DEFINITION,description:t,name:r,directives:o,values:n})}parseEnumValuesDefinition(){return this.optionalMany(ot.BRACE_L,this.parseEnumValueDefinition,ot.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),o=this.parseConstDirectives();return this.node(e,{kind:fr.ENUM_VALUE_DEFINITION,description:t,name:r,directives:o})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw rs(this._lexer.source,this._lexer.token.start,`${mde(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),o=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();return this.node(e,{kind:fr.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:o,fields:n})}parseInputFieldsDefinition(){return this.optionalMany(ot.BRACE_L,this.parseInputValueDef,ot.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===ot.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(ot.BRACE_L,this.parseOperationTypeDefinition,ot.BRACE_R);if(t.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:fr.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:fr.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(r.length===0&&o.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:fr.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:o,fields:n})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(r.length===0&&o.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:fr.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:o,fields:n})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();if(r.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:fr.UNION_TYPE_EXTENSION,name:t,directives:r,types:o})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();if(r.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:fr.ENUM_TYPE_EXTENSION,name:t,directives:r,values:o})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();if(r.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:fr.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:o})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ot.AT);let r=this.parseName(),o=this.parseArgumentDefs(),n=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let i=this.parseDirectiveLocations();return this.node(e,{kind:fr.DIRECTIVE_DEFINITION,description:t,name:r,arguments:o,repeatable:n,locations:i})}parseDirectiveLocations(){return this.delimitedMany(ot.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(VZ,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new BZ(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw rs(this._lexer.source,t.start,`Expected ${$Yr(e)}, found ${mde(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let t=this._lexer.token;if(t.kind===ot.NAME&&t.value===e)this.advanceLexer();else throw rs(this._lexer.source,t.start,`Expected "${e}", found ${mde(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===ot.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let t=e??this._lexer.token;return rs(this._lexer.source,t.start,`Unexpected ${mde(t)}.`)}any(e,t,r){this.expectToken(e);let o=[];for(;!this.expectOptionalToken(r);)o.push(t.call(this));return o}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let o=[];do o.push(t.call(this));while(!this.expectOptionalToken(r));return o}return[]}many(e,t,r){this.expectToken(e);let o=[];do o.push(t.call(this));while(!this.expectOptionalToken(r));return o}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==ot.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw rs(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function mde(l){let e=l.value;return $Yr(l.kind)+(e!=null?` "${e}"`:"")}function $Yr(l){return hYr(l)?`"${l}"`:l}T();T();function yYr(l){return`"${l.replace(y0n,b0n)}"`}var y0n=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function b0n(l){return g0n[l.charCodeAt(0)]}var g0n=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];T();var bYr=Object.freeze({});function Got(l,e,t=Vot){let r=new Map;for(let g of Object.values(fr))r.set(g,gYr(e,g));let o,n=Array.isArray(l),i=[l],s=-1,a=[],u=l,c,h,d=[],f=[];do{s++;let g=s===i.length,x=g&&a.length!==0;if(g){if(c=f.length===0?void 0:d[d.length-1],u=h,h=f.pop(),x)if(n){u=u.slice();let _=0;for(let[S,v]of a){let C=S-_;v===null?(u.splice(C,1),_++):u[C]=v}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(let[_,S]of a)u[_]=S}s=o.index,i=o.keys,a=o.edits,n=o.inArray,o=o.prev}else if(h){if(c=n?s:i[s],u=h[c],u==null)continue;d.push(c)}let k;if(!Array.isArray(u)){var m,$;zot(u)||QA(!1,`Invalid AST Node: ${nU(u)}.`);let _=g?(m=r.get(u.kind))===null||m===void 0?void 0:m.leave:($=r.get(u.kind))===null||$===void 0?void 0:$.enter;if(k=_==null?void 0:_.call(e,u,c,h,d,f),k===bYr)break;if(k===!1){if(!g){d.pop();continue}}else if(k!==void 0&&(a.push([c,k]),!g))if(zot(k))u=k;else{d.pop();continue}}if(k===void 0&&x&&a.push([c,u]),g)d.pop();else{var b;o={inArray:n,index:s,keys:i,edits:a,prev:o},n=Array.isArray(u),i=n?u:(b=t[u.kind])!==null&&b!==void 0?b:[],s=-1,a=[],h&&f.push(h),h=u}}while(o!==void 0);return a.length!==0?a[a.length-1][1]:l}function gYr(l,e){let t=l[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:l.enter,leave:l.leave}}function bde(l){return Got(l,_0n)}var k0n=80,_0n={Name:{leave:l=>l.value},Variable:{leave:l=>"$"+l.name},Document:{leave:l=>qt(l.definitions,`

`)},OperationDefinition:{leave(l){let e=uo("(",qt(l.variableDefinitions,", "),")"),t=qt([l.operation,qt([l.name,e]),qt(l.directives," ")]," ");return(t==="query"?"":t+" ")+l.selectionSet}},VariableDefinition:{leave:({variable:l,type:e,defaultValue:t,directives:r})=>l+": "+e+uo(" = ",t)+uo(" ",qt(r," "))},SelectionSet:{leave:({selections:l})=>u0(l)},Field:{leave({alias:l,name:e,arguments:t,directives:r,selectionSet:o}){let n=uo("",l,": ")+e,i=n+uo("(",qt(t,", "),")");return i.length>k0n&&(i=n+uo(`(
`,yde(qt(t,`
`)),`
)`)),qt([i,qt(r," "),o]," ")}},Argument:{leave:({name:l,value:e})=>l+": "+e},FragmentSpread:{leave:({name:l,directives:e})=>"..."+l+uo(" ",qt(e," "))},InlineFragment:{leave:({typeCondition:l,directives:e,selectionSet:t})=>qt(["...",uo("on ",l),qt(e," "),t]," ")},FragmentDefinition:{leave:({name:l,typeCondition:e,variableDefinitions:t,directives:r,selectionSet:o})=>`fragment ${l}${uo("(",qt(t,", "),")")} on ${e} ${uo("",qt(r," ")," ")}`+o},IntValue:{leave:({value:l})=>l},FloatValue:{leave:({value:l})=>l},StringValue:{leave:({value:l,block:e})=>e?uYr(l):yYr(l)},BooleanValue:{leave:({value:l})=>l?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:l})=>l},ListValue:{leave:({values:l})=>"["+qt(l,", ")+"]"},ObjectValue:{leave:({fields:l})=>"{"+qt(l,", ")+"}"},ObjectField:{leave:({name:l,value:e})=>l+": "+e},Directive:{leave:({name:l,arguments:e})=>"@"+l+uo("(",qt(e,", "),")")},NamedType:{leave:({name:l})=>l},ListType:{leave:({type:l})=>"["+l+"]"},NonNullType:{leave:({type:l})=>l+"!"},SchemaDefinition:{leave:({description:l,directives:e,operationTypes:t})=>uo("",l,`
`)+qt(["schema",qt(e," "),u0(t)]," ")},OperationTypeDefinition:{leave:({operation:l,type:e})=>l+": "+e},ScalarTypeDefinition:{leave:({description:l,name:e,directives:t})=>uo("",l,`
`)+qt(["scalar",e,qt(t," ")]," ")},ObjectTypeDefinition:{leave:({description:l,name:e,interfaces:t,directives:r,fields:o})=>uo("",l,`
`)+qt(["type",e,uo("implements ",qt(t," & ")),qt(r," "),u0(o)]," ")},FieldDefinition:{leave:({description:l,name:e,arguments:t,type:r,directives:o})=>uo("",l,`
`)+e+(kYr(t)?uo(`(
`,yde(qt(t,`
`)),`
)`):uo("(",qt(t,", "),")"))+": "+r+uo(" ",qt(o," "))},InputValueDefinition:{leave:({description:l,name:e,type:t,defaultValue:r,directives:o})=>uo("",l,`
`)+qt([e+": "+t,uo("= ",r),qt(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:l,name:e,interfaces:t,directives:r,fields:o})=>uo("",l,`
`)+qt(["interface",e,uo("implements ",qt(t," & ")),qt(r," "),u0(o)]," ")},UnionTypeDefinition:{leave:({description:l,name:e,directives:t,types:r})=>uo("",l,`
`)+qt(["union",e,qt(t," "),uo("= ",qt(r," | "))]," ")},EnumTypeDefinition:{leave:({description:l,name:e,directives:t,values:r})=>uo("",l,`
`)+qt(["enum",e,qt(t," "),u0(r)]," ")},EnumValueDefinition:{leave:({description:l,name:e,directives:t})=>uo("",l,`
`)+qt([e,qt(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:l,name:e,directives:t,fields:r})=>uo("",l,`
`)+qt(["input",e,qt(t," "),u0(r)]," ")},DirectiveDefinition:{leave:({description:l,name:e,arguments:t,repeatable:r,locations:o})=>uo("",l,`
`)+"directive @"+e+(kYr(t)?uo(`(
`,yde(qt(t,`
`)),`
)`):uo("(",qt(t,", "),")"))+(r?" repeatable":"")+" on "+qt(o," | ")},SchemaExtension:{leave:({directives:l,operationTypes:e})=>qt(["extend schema",qt(l," "),u0(e)]," ")},ScalarTypeExtension:{leave:({name:l,directives:e})=>qt(["extend scalar",l,qt(e," ")]," ")},ObjectTypeExtension:{leave:({name:l,interfaces:e,directives:t,fields:r})=>qt(["extend type",l,uo("implements ",qt(e," & ")),qt(t," "),u0(r)]," ")},InterfaceTypeExtension:{leave:({name:l,interfaces:e,directives:t,fields:r})=>qt(["extend interface",l,uo("implements ",qt(e," & ")),qt(t," "),u0(r)]," ")},UnionTypeExtension:{leave:({name:l,directives:e,types:t})=>qt(["extend union",l,qt(e," "),uo("= ",qt(t," | "))]," ")},EnumTypeExtension:{leave:({name:l,directives:e,values:t})=>qt(["extend enum",l,qt(e," "),u0(t)]," ")},InputObjectTypeExtension:{leave:({name:l,directives:e,fields:t})=>qt(["extend input",l,qt(e," "),u0(t)]," ")}};function qt(l,e=""){var t;return(t=l==null?void 0:l.filter(r=>r).join(e))!==null&&t!==void 0?t:""}function u0(l){return uo(`{
`,yde(qt(l,`
`)),`
}`)}function uo(l,e,t=""){return e!=null&&e!==""?l+e+t:""}function yde(l){return uo("  ",l.replace(/\n/g,`
  `))}function kYr(l){var e;return(e=l==null?void 0:l.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}T();var _Yr=l=>{var r,o;let e,t=l.definitions.filter(n=>n.kind==="OperationDefinition");return t.length===1&&(e=(o=(r=t[0])==null?void 0:r.name)==null?void 0:o.value),e},Ov=l=>{if(typeof l=="string"){let t;try{let r=$de(l);t=_Yr(r)}catch{}return{query:l,operationName:t}}let e=_Yr(l);return{query:bde(l),operationName:e}};T();var Rv=class l extends Error{constructor(e,t){let r=`${l.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`;super(r),Object.setPrototypeOf(this,l.prototype),this.response=e,this.request=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l)}static extractMessage(e){var t,r;return((r=(t=e.errors)==null?void 0:t[0])==null?void 0:r.message)??`GraphQL Error (Code: ${e.status})`}};var X4=q6(wYr(),1);T();var S0n="connection_init",C0n="connection_ack",CYr="ping",EYr="pong",E0n="subscribe",j0n="next",A0n="error",jYr="complete",Y4=class l{get type(){return this._type}get id(){return this._id}get payload(){return this._payload}constructor(e,t,r){this._type=e,this._payload=t,this._id=r}get text(){let e={type:this.type};return this.id!=null&&this.id!=null&&(e.id=this.id),this.payload!=null&&this.payload!=null&&(e.payload=this.payload),JSON.stringify(e)}static parse(e,t){let{type:r,payload:o,id:n}=JSON.parse(e);return new l(r,t(o),n)}},kde=class{constructor(e,{onInit:t,onAcknowledged:r,onPing:o,onPong:n}){this.socketState={acknowledged:!1,lastRequestId:0,subscriptions:{}},this.socket=e,e.addEventListener("open",async i=>{this.socketState.acknowledged=!1,this.socketState.subscriptions={},e.send(P0n(t?await t():null).text)}),e.addEventListener("close",i=>{this.socketState.acknowledged=!1,this.socketState.subscriptions={}}),e.addEventListener("error",i=>{console.error(i)}),e.addEventListener("message",i=>{try{let s=U0n(i.data);switch(s.type){case C0n:{this.socketState.acknowledged?console.warn("Duplicate CONNECTION_ACK message ignored"):(this.socketState.acknowledged=!0,r&&r(s.payload));return}case CYr:{o?o(s.payload).then(h=>e.send(SYr(h).text)):e.send(SYr(null).text);return}case EYr:{n&&n(s.payload);return}}if(!this.socketState.acknowledged||s.id===void 0||s.id===null||!this.socketState.subscriptions[s.id])return;let{query:a,variables:u,subscriber:c}=this.socketState.subscriptions[s.id];switch(s.type){case j0n:{!s.payload.errors&&s.payload.data&&c.next&&c.next(s.payload.data),s.payload.errors&&c.error&&c.error(new Rv({...s.payload,status:200},{query:a,variables:u}));return}case A0n:{c.error&&c.error(new Rv({errors:s.payload,status:200},{query:a,variables:u}));return}case jYr:{c.complete&&c.complete(),delete this.socketState.subscriptions[s.id];return}}}catch(s){console.error(s),e.close(1006)}e.close(4400,"Unknown graphql-ws message.")})}makeSubscribe(e,t,r,o){let n=(this.socketState.lastRequestId++).toString();return this.socketState.subscriptions[n]={query:e,variables:o,subscriber:r},this.socket.send(O0n(n,{query:e,operationName:t,variables:o}).text),()=>{this.socket.send(R0n(n).text),delete this.socketState.subscriptions[n]}}rawRequest(e,t){return new Promise((r,o)=>{let n;this.rawSubscribe(e,{next:(i,s)=>n={data:i,extensions:s},error:o,complete:()=>r(n)},t)})}request(e,t){return new Promise((r,o)=>{let n;this.subscribe(e,{next:i=>n=i,error:o,complete:()=>r(n)},t)})}subscribe(e,t,r){let{query:o,operationName:n}=Ov(e);return this.makeSubscribe(o,n,t,r)}rawSubscribe(e,t,r){return this.makeSubscribe(e,void 0,t,r)}ping(e){this.socket.send(T0n(e).text)}close(){this.socket.close(1e3)}};kde.PROTOCOL="graphql-transport-ws";function U0n(l,e=t=>t){return Y4.parse(l,e)}function P0n(l){return new Y4(S0n,l)}function T0n(l){return new Y4(CYr,l,void 0)}function SYr(l){return new Y4(EYr,l,void 0)}function O0n(l,e){return new Y4(E0n,e,l)}function R0n(l){return new Y4(jYr,void 0,l)}var lU=l=>{let e={};return l&&(typeof Headers<"u"&&l instanceof Headers||X4&&X4.Headers&&l instanceof X4.Headers?e=KGr(l):Array.isArray(l)?l.forEach(([t,r])=>{t&&r!==void 0&&(e[t]=r)}):e=l),e},AYr=l=>l.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),M0n=l=>{if(!Array.isArray(l.query)){let r=l,o=[`query=${encodeURIComponent(AYr(r.query))}`];return l.variables&&o.push(`variables=${encodeURIComponent(r.jsonSerializer.stringify(r.variables))}`),r.operationName&&o.push(`operationName=${encodeURIComponent(r.operationName)}`),o.join("&")}if(typeof l.variables<"u"&&!Array.isArray(l.variables))throw new Error("Cannot create query with given variable type, array expected");let e=l,t=l.query.reduce((r,o,n)=>(r.push({query:AYr(o),variables:e.variables?e.jsonSerializer.stringify(e.variables[n]):void 0}),r),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(t))}`},L0n=l=>async e=>{let{url:t,query:r,variables:o,operationName:n,fetch:i,fetchOptions:s,middleware:a}=e,u={...e.headers},c="",h;l==="POST"?(h=D0n(r,o,n,s.jsonSerializer),typeof h=="string"&&(u["Content-Type"]="application/json")):c=M0n({query:r,variables:o,operationName:n,jsonSerializer:s.jsonSerializer??ude});let d={method:l,headers:u,body:h,...s},f=t,m=d;if(a){let $=await Promise.resolve(a({...d,url:t,operationName:n,variables:o})),{url:b,...g}=$;f=b,m=g}return c&&(f=`${f}?${c}`),await i(f,m)},Kot=class{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...r)=>{let[o,n,i]=r,s=QGr(o,n,i),{headers:a,fetch:u=X4.default,method:c="POST",requestMiddleware:h,responseMiddleware:d,...f}=this.requestConfig,{url:m}=this;s.signal!==void 0&&(f.signal=s.signal);let{operationName:$}=Ov(s.query);return Yot({url:m,query:s.query,variables:s.variables,headers:{...lU(Xot(a)),...lU(s.requestHeaders)},operationName:$,fetch:u,method:c,fetchOptions:f,middleware:h}).then(b=>(d&&d(b),b)).catch(b=>{throw d&&d(b),b})}}async request(e,...t){let[r,o]=t,n=JGr(e,r,o),{headers:i,fetch:s=X4.default,method:a="POST",requestMiddleware:u,responseMiddleware:c,...h}=this.requestConfig,{url:d}=this;n.signal!==void 0&&(h.signal=n.signal);let{query:f,operationName:m}=Ov(n.document);return Yot({url:d,query:f,variables:n.variables,headers:{...lU(Xot(i)),...lU(n.requestHeaders)},operationName:m,fetch:s,method:a,fetchOptions:h,middleware:u}).then($=>(c&&c($),$.data)).catch($=>{throw c&&c($),$})}batchRequests(e,t){let r=eYr(e,t),{headers:o,...n}=this.requestConfig;r.signal!==void 0&&(n.signal=r.signal);let i=r.documents.map(({document:a})=>Ov(a).query),s=r.documents.map(({variables:a})=>a);return Yot({url:this.url,query:i,variables:s,headers:{...lU(Xot(o)),...lU(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??X4.default,method:this.requestConfig.method||"POST",fetchOptions:n,middleware:this.requestConfig.requestMiddleware}).then(a=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(a),a.data)).catch(a=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(a),a})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){let{headers:r}=this.requestConfig;return r?r[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}},Yot=async l=>{let{query:e,variables:t,fetchOptions:r}=l,o=L0n(XGr(l.method??"post")),n=Array.isArray(l.query),i=await o(l),s=await N0n(i,r.jsonSerializer??ude),a=Array.isArray(s)?!s.some(({data:c})=>!c):!!s.data,u=Array.isArray(s)||!s.errors||Array.isArray(s.errors)&&!s.errors.length||r.errorPolicy==="all"||r.errorPolicy==="ignore";if(i.ok&&u&&a){let{errors:c,...h}=(Array.isArray(s),s),d=r.errorPolicy==="ignore"?h:s;return{...n?{data:d}:d,headers:i.headers,status:i.status}}else{let c=typeof s=="string"?{error:s}:s;throw new Rv({...c,status:i.status,headers:i.headers},{query:e,variables:t})}};async function _de(l,e,...t){let r=tYr(l,e,...t);return new Kot(r.url).request({...r})}var D0n=(l,e,t,r)=>{let o=r??ude;if(!Array.isArray(l))return o.stringify({query:l,variables:e,operationName:t});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");let n=l.reduce((i,s,a)=>(i.push({query:s,variables:e?e[a]:void 0}),i),[]);return o.stringify(n)},N0n=async(l,e)=>{let t;return l.headers.forEach((r,o)=>{o.toLowerCase()==="content-type"&&(t=r)}),t&&(t.toLowerCase().startsWith("application/json")||t.toLowerCase().startsWith("application/graphql+json")||t.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await l.text()):l.text()},Xot=l=>typeof l=="function"?l():l;var UYr=Symbol(),Jot=class Jot extends JA{constructor(){super(...arguments),super[A]||this[A](),re(this,UYr)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.url=e&&(o=e.url)!==void 0?o:"https://sourcegraph.com/.api/graphql"}get headers(){return{Accept:"application/vnd.github.object"}}get repository(){return""+this.source+"/"+this.owner+"/"+this.repo}async getRef(e,t){let r=`query ($repository: String!) {
	repository(name: $repository) {
		defaultBranch {
			target {
				oid
			}
		}
	}
}`,o={repository:this.repository},n=await _de(this.url,r,o);if(!n.repository)throw Error("ref in source graph not found");return n.repository.defaultBranch.target.oid}async loadDirContent({fullPath:e,recursive:t=!1}){var s,a,u;let r=`query($repository: String!, $ref: String!, $path: String!, $recursive: Boolean = false) {
	repository(name: $repository) {
		commit(rev: $ref) {
			tree(path: $path) {
				entries(first: 50000, recursive: $recursive) {
					fullPath: path
					isDirectory
				}
			}
		}
	}
}`,o={repository:this.repository,ref:this.ref,path:e,recursive:t},i=(u=(a=(s=(await _de(this.url,r,o)).repository)==null?void 0:s.commit)==null?void 0:a.tree)==null?void 0:u.entries;if(!i)throw Error("error fetching directory from sg");return i.map(function(c){return{...c,path:c.fullPath.replace(e,"").replace("/","")}})}async loadFileContent({fullPath:e}){var i,s;let t=`query ($repository: String!, $ref: String!, $path: String!) {
	repository(name: $repository) {
		commit(rev: $ref) {
			blob(path: $path) {
				content
				binary
			}
		}
	}
}`,r={repository:this.repository,ref:this.ref,path:e},n=(s=(i=(await _de(this.url,t,r)).repository)==null?void 0:i.commit)==null?void 0:s.blob;if(!n)throw Error("error fetching file content from sg");return n.binary?"binary":n.content}};E(Jot,UYr,"SourceGraphProvider",16);var aU=Jot;globalThis.SourceGraphProvider=aU;function I0n(l,e){return l[l.length+e]}var F0n=Symbol.for("#matcher"),H0n=le("&.focused?",globalThis,l=>l.focused),PYr=Symbol(),ent=class ent{[A](e=null,t=!0,r=!0){var o;this.url=e?e.url:void 0,this.fs=e?e.fs:void 0,this.filePath=e&&(o=e.filePath)!==void 0?o:"",this.ghProvider=e?e.ghProvider:void 0,this.sgProvider=e?e.sgProvider:void 0,this.fetchedRef=e&&(o=e.fetchedRef)!==void 0?o:!1}static[F0n](e){if(p(e,URL)){let[t,r,o]=e.pathname.split("/");return String(e).match(/(github|gitlab)\.com/)&&r&&o}}static from(e){if(typeof e=="string")try{e=new URL(e)}catch{}if(p(e,URL)){let[t,r,o]=e.pathname.split("/");if(r&&o)return new this({url:e})}}get strUrl(){return this.url.toString()}constructor(e){this[A](),this.url=e.url;let t=this.strUrl.match(/(tree|blob)\/([^\/]+)(\/|$)/);t&&(this.ref=t[2]),this.ghProvider=new HZ(this),this.sgProvider=new aU(this),this.init(),re(this,PYr)}get type(){let e=this.strUrl.match(/(tree|blob)\//);if(e)return e[1]}get owner(){return this.url.pathname.split("/")[1]}get repo(){return this.url.pathname.split("/")[2]}init(){return this.getRef()}get source(){return this.url.host}async exec(e,...t){try{return await this.sgProvider[e](...t)}catch(r){if(console.log("::sg er",e,t,r),this.source=="github.com")return this.ghProvider[e](...t)}}async getRef(){if(!this.fetchedRef)return this.ref=await this.exec("getRef",this.owner,this.repo),this.fetchedRef=!0,this.ref}loadFileContent(e){let t=e;return(e==null?void 0:e.data.type)=="file"&&(t=e.path.substring(1)),this.exec("loadFileContent",{fullPath:t})}loadDirContent(e){var r;let t;return e?typeof e=="string"?t=e:((r=e.data)==null?void 0:r.type)=="dir"&&(t=e.path.substring(1)):t="/",this.exec("loadDirContent",{fullPath:t})}async downloadFiles(e,t,r=1/0,o=0){if(o>r)return[];let i=await(await globalThis.fetch(e,{headers:this.headers})).json(),s=[];if(i.entries?i=i.entries:i.type=="file"&&(i=[i]),Array.isArray(i))for(let a=0,u=B(i),c=u.length;a<c;a++){let h=u[a],d={id:this.uniqueId++,name:h.name,type:h.type,parent:t};if(h.type=="file"){let m=await(await globalThis.fetch(h.download_url,{headers:this.headers})).text();d.body=m}if(d.done||s.push(d),h.type==="dir"&&o<r){let f=await this.downloadFiles(h.url,d.id,r,o+1);s.push(...f)}}return s}createDir(e,t){return t.mkdir(e.path,{fullPath:e.fullPath,expanded:!1})}createItemsInScrim(e,t){var r;t||=this.fs,r=[];for(let o=0,n=B(e),i=n.length;o<i;o++){let s=n[o];r.push(s.isDirectory?!this.fs.findDir(s.fullPath)&&this.createDir(s,t):!this.fs.find(s.fullPath)&&t.mkfile(s.path,{body:"",fullPath:s.fullPath}))}return r}async loadFile(e){let t=await this.loadFileContent(e);return e.replaceBody(t),e.fetched=!0}async loadDir(e){let t=await this.loadDirContent(e),r=this.fs.allDirs.find(function(o){return o.id==e.id});if(this.createItemsInScrim(t,r),r)return r.fetched=!0}loadEntry(e){var t;return((t=e.detail)==null?void 0:t.data.type)=="file"?this.loadFile(e.detail):this.loadDir(e.detail)}async sync(e){var t=this,r;if(this.fs=e,this.refFetched||await this.getRef(),this.filePath){let n=await this.loadFileContent();if(n)return this.fs.mkfile(I0n(this.filePath.split("/"),-1),{body:n})}let o=await this.loadDirContent("/");if(window.addEventListener("gitLoadEntry",function(n){return t.loadEntry(n)}),await this.createItemsInScrim(o),r=this.fs.entries.find(H0n))return this.loadFile(r)}};E(ent,PYr,"GitRepo",16);var Qot=ent;globalThis.GitRepo=Qot;T();oe();ge(),dt(),$e();var tnt=Symbol("presented"),TYr=Symbol(),rnt=Symbol("times_redeemed"),OYr=Symbol(),ont=Symbol("max_redemptions"),RYr=Symbol(),nnt=Symbol("expires_at"),MYr=Symbol(),int=Symbol("plan"),LYr=Symbol(),snt=Symbol("id"),DYr=Symbol(),lnt=Symbol("title"),NYr=Symbol(),ant=Symbol("reason"),IYr=Symbol(),unt=Symbol("coupon"),FYr=Symbol(),cnt=Symbol("receiver"),HYr=Symbol(),hnt=Symbol("trigger"),BYr=Symbol(),pnt=Symbol("expires_at"),VYr=Symbol(),dnt=Symbol("offers"),zYr=Symbol(),fnt=Symbol("offer"),qYr=Symbol(),mnt=Symbol("clear_exclusive_offers"),WYr=Symbol(),$nt=Symbol("give_exclusive_offer"),ZYr=Symbol(),ynt=Symbol("give_student_offer"),GYr=Symbol(),WZ,ZZ,GZ,YYr,XYr,xde=Symbol(),KYr=Symbol(),JYr=Symbol(),QYr=Symbol(),eXr=Symbol(),tXr=Symbol(),rXr=Symbol(),oXr=Symbol(),nXr=Symbol(),iXr=Symbol(),sXr=Symbol(),lXr=Symbol(),aXr=Symbol(),K4,uXr,YZ,J4,Yb,XZ,bnt,vde=Symbol(),cXr=Symbol(),hXr=Symbol(),pXr=Symbol(),dXr=Symbol(),fXr=Symbol(),mXr=Symbol(),$Xr=Symbol(),wde=Symbol(),yXr=Symbol(),bXr=Symbol(),gXr=Symbol(),kXr=Symbol(),uU=Symbol(),B0n=Symbol(),_Xr=Symbol(),xXr=Symbol(),vXr=Symbol(),wXr=Symbol(),KZ=Symbol(),V0n=Symbol(),JZ=Symbol(),z0n=Symbol(),Q4,gnt,Xb,Kb,Jb,Cde=Symbol.for("#getRenderContext"),t5=Symbol.for("##up"),xnt=Symbol.for("##register"),Ede=Symbol.for("#isRichElement"),q0n=Symbol.for("#getFunctionalSlot"),h0=Symbol.for("#placeChild"),Qb=Symbol.for("#afterVisit"),W0n=Symbol.for("#getSlot"),Z0n=Symbol.for("#visit"),knt=Symbol.for("#insertInto"),_nt=Symbol.for("#replaceWith"),G0n=Symbol(),e5=class e5 extends OPMixin{set presented(e){this.presented.$set(e,this,tnt,"presented")}get presented(){return this.presented.$get(this,tnt,"presented")}get presented(){return this[TYr]||y((WZ=this.ts(),p(WZ.pov,Function)?WZ.pov():WZ.pov=!0,WZ),this,tnt,"presented",TYr,e5.prototype)}set times_redeemed(e){this.times_redeemed.$set(e,this,rnt,"times_redeemed")}get times_redeemed(){return this.times_redeemed.$get(this,rnt,"times_redeemed")}get times_redeemed(){return this[OYr]||y((ZZ=this.int(),p(ZZ.stat,Function)?ZZ.stat():ZZ.stat=!0,ZZ),this,rnt,"times_redeemed",OYr,e5.prototype)}set max_redemptions(e){this.max_redemptions.$set(e,this,ont,"max_redemptions")}get max_redemptions(){return this.max_redemptions.$get(this,ont,"max_redemptions")}get max_redemptions(){return this[RYr]||y((GZ=this.int(),p(GZ.stat,Function)?GZ.stat():GZ.stat=!0,GZ),this,ont,"max_redemptions",RYr,e5.prototype)}get used_up(){return this.max_redemptions&&this.times_redeemed===this.max_redemptions}set expires_at(e){this.expires_at.$set(e,this,nnt,"expires_at")}get expires_at(){return this.expires_at.$get(this,nnt,"expires_at")}get expires_at(){return this[MYr]||y((YYr=this.ts(),YYr),this,nnt,"expires_at",MYr,e5.prototype)}set plan(e){this.plan.$set(e,this,int,"plan")}get plan(){return this.plan.$get(this,int,"plan")}get plan(){return this[LYr]||y((XYr=this.string(),XYr),this,int,"plan",LYr,e5.prototype)}get annualonly(){var e;return((e=this.coupon)==null?void 0:e.plan)=="annual"}get monthlyonly(){var e;return((e=this.coupon)==null?void 0:e.plan)=="monthly"}get countdown(){let e=this.expires_at,t=e?e-Date.now():void 0;return 7*24*60*60*1e3>t&&t>0?t:void 0}get expired(){return this.expires_at&&this.expires_at.age>0}get valid(){return!this.expired&&!this.used_up&&this._del==null}opownbutton(){var C,j;var e,t,r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v;return n=s[Cde](xde),a=u=1,(i=n.run(this.obutton(APP.upgrade)))||(a=u=0,n.cache(i=M(n.value,null,"uv-af xl min yellow",null))),a||(i[t5]=s._),a||((C=i[xnt])==null||C.call(i,s,xde)),i[Ede]&&(c=i[q0n]("__",i),a||i.on$("optip",{},this),a||(i.opnav="opnav"),a||(i.icon=!1),(!a||u&2)&&i.flags.reconcile(xde,"uv-af xl min yellow"),(h=i[KYr])||(i[KYr]=h=w("div",c,"uv-ag olabel",null)),r=o=null,(j=ME.activesub)!=null&&j.paused?(d=f=1,(r=i[JYr])||(d=f=0,i[JYr]=r=w("span",null,null,"Resume subscription")),d||(r[t5]=h)):(m=$=1,(r=i[QYr])||(m=$=0,i[QYr]=r=w("span",null,"uv-ai",null)),m||(r[t5]=h),m||r[h0]("Upgrade to Pro, "),b=this.cta,b===r[tXr]&&m||(r[eXr]=r[h0](r[tXr]=b,0,r[eXr])),g=x=1,(o=i[rXr])||(g=x=0,i[rXr]=o=w("div",null,"uv-aj",null)),g||(o[t5]=h),e=t=null,this.cta&&this.countdown?(e="Ending in",k=_=1,(t=o[oXr])||(k=_=0,o[oXr]=t=R("app-countdown",null,null,null)),k||(t[t5]=o),S=this.expires_at,S===t[nXr]||(t.target=t[nXr]=S),k||!t.setup||t.setup(_,v),t[Qb](_)):this.cta?e=""+this.percent_off+"% off":e=""+(this.astitle||"Coupon")+" "+this.percent_off+"% off",o[iXr]=o[h0](e,0,o[iXr]),o[sXr]=o[h0](t,0,o[sXr])),i[lXr]=h[h0](r,0,i[lXr]),i[aXr]=h[h0](o,0,i[aXr]),a||s.sym||!i.setup||i.setup(u,s,xde),s.sym||i[Qb](u)),i}get astip(){return this.astitle}};E(e5,G0n,"Offer",1024);var QZ=e5;globalThis.Offer=QZ;var Sde=Symbol(),c0=class c0 extends Qe(Sde,OPObject,QZ){constructor(){super(...arguments),super[A]||this[A](),re(this,Sde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Sde])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,snt,"id")}get id(){return this.id.$get(this,snt,"id")}get id(){return this[DYr]||y((K4=this.key(),p(K4.r,Function)?K4.r(OWNER|ADMIN):K4.r=OWNER|ADMIN,p(K4.cwd,Function)?K4.cwd(ADMIN):K4.cwd=ADMIN,K4),this,snt,"id",DYr,c0.prototype)}set title(e){this.title.$set(e,this,lnt,"title")}get title(){return this.title.$get(this,lnt,"title")}get title(){return this[NYr]||y((uXr=this.string(),uXr),this,lnt,"title",NYr,c0.prototype)}set reason(e){this.reason.$set(e,this,ant,"reason")}get reason(){return this.reason.$get(this,ant,"reason")}get reason(){return this[IYr]||y((YZ=this.string(),p(YZ.r,Function)?YZ.r(ADMIN):YZ.r=ADMIN,YZ),this,ant,"reason",IYr,c0.prototype)}set coupon(e){this.coupon.$set(e,this,unt,"coupon")}get coupon(){return this.coupon.$get(this,unt,"coupon")}get coupon(){return this[FYr]||y((J4=this.ref(StripeCoupon),p(J4.required,Function)?J4.required():J4.required=!0,p(J4.eager,Function)?J4.eager():J4.eager=!0,J4),this,unt,"coupon",FYr,c0.prototype)}set receiver(e){this.receiver.$set(e,this,cnt,"receiver")}get receiver(){return this.receiver.$get(this,cnt,"receiver")}get receiver(){return this[HYr]||y((Yb=this.ref(OPAgent),p(Yb.as,Function)?Yb.as(OWNER):Yb.as=OWNER,p(Yb.required,Function)?Yb.required():Yb.required=!0,Yb.default=function(){return OP.pov},Yb),this,cnt,"receiver",HYr,c0.prototype)}set trigger(e){this.trigger.$set(e,this,hnt,"trigger")}get trigger(){return this.trigger.$get(this,hnt,"trigger")}get trigger(){return this[BYr]||y((XZ=this.ref(OPObject),p(XZ.lazy,Function)?XZ.lazy():XZ.lazy=!0,XZ),this,hnt,"trigger",BYr,c0.prototype)}set expires_at(e){this.expires_at.$set(e,this,pnt,"expires_at")}get expires_at(){return this.expires_at.$get(this,pnt,"expires_at")}get expires_at(){return this[VYr]||y((bnt=this.ts(),bnt.default=function(){return Date.now()+59*60*1e3},bnt),this,pnt,"expires_at",VYr,c0.prototype)}get asicon(){return"promo"}get cta(){return"Upgrade & save "+this.percent_off+"%"}get livemode(){var e;return(e=this.coupon)==null?void 0:e.livemode}get description(){return this.coupon.description}get aslabel(){var e;return this.title||((e=this.coupon)==null?void 0:e.name)||"Exclusive Offer"}get percent_off(){var e;return((e=this.coupon)==null?void 0:e.percent_off)||0}get expired(){return new Date>this.expires_at}get active(){return!this.expired}opowncheckoutline(){var m;var e,t,r,o=H(),n,i,s,a,u,c,h,d;let f=this.aslabel||"";return n=i=1,(r=o[vde])||(n=i=0,r=o[vde]=r=R("op",null,null,null)),n||(r[t5]=o._),n||((m=r[xnt])==null||m.call(r,o,vde)),s=r[W0n]("__",r),a=this,a===r[cXr]||(r.data=r[cXr]=a),n||s[h0]("Applied "),e=null,f.match(/coupon/i)||(u=c=1,(e=r[hXr])||(u=c=0,r[hXr]=e=w("span",null,null,"Coupon ")),u||(e[t5]=s)),r[pXr]=s[h0](e,0,r[pXr]),(h=r[dXr])||(r[dXr]=h=w("b",s,"uv-an",null)),d=f,d===r[mXr]&&n||(r[fXr]=h[h0](r[mXr]=d,384,r[fXr])),t=null,!f.match(/\d\d\%/i)&&this.percent_off&&(t=" "+this.percent_off+"% off"),r[$Xr]=s[h0](t,0,r[$Xr]),n||o.sym||!r.setup||r.setup(i,o,vde),o.sym||r[Qb](i),r}present(){let e=this.aslabel||"Exclusive Offer";return/offer/i.test(e)||(e="offer "+e),OP.toast("Applied time-limited "+e+"!")}opownli(){var V,W;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N;return r=o=1,(e=t[wde])||(r=o=0,e=t[wde]=e=w("section",null,"uv-ao xli",null)),r||(e[t5]=t._),r||((V=e[xnt])==null||V.call(e,t,wde)),n=this,n===e[yXr]||(e.odata=e[yXr]=n),i=e[bXr]||(e[bXr]={options:[null]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(W=i[Z0n])==null||W.call(i)),i=e[gXr]||(e[gXr]={open:[null]}),i.open[0]=this,r||e.on$("click",i,this),a=u=1,(s=e[kXr])||(a=u=0,e[kXr]=s=w("div",e,"uv-ap bullet",null)),c=s[Cde](B0n),d=f=1,(h=c.run(this.oicon(this.receiver)))||(d=f=0,c.cache(h=M(c.value,s,"uv-aq",null))),h[Ede]&&((!d||f&2)&&h.flags.reconcile(uU,"uv-aq"),d||!h.setup||h.setup(f,c),h[Qb](f)),h==s[uU]||!s[uU]&&(s[uU]=h)[knt](s)||s[uU][_nt](s[uU]=h,s),a||!s.setup||s.setup(u,m),s[Qb](u),r||($=w("section",e,null,null)),(b=e[_Xr])||(e[_Xr]=b=w("h2",$,"uv-as",null)),g=this.aslabel,g===e[vXr]&&r||(e[xXr]=b[h0](e[vXr]=g,128,e[xXr])),r||(x=w("hr",$,null,null)),_=S=1,(k=e[wXr])||(_=S=0,e[wXr]=k=w("span",$,null,null)),_||(v=w("span",k,null,"Via")),C=k[Cde](V0n),P=U=1,(j=C.run(this.olink(this.trigger)))||(P=U=0,C.cache(j=M(C.value,k,null,null))),j[Ede]&&(P||!j.setup||j.setup(U,C),j[Qb](U)),j==k[KZ]||!k[KZ]&&(k[KZ]=j)[knt](k)||k[KZ][_nt](k[KZ]=j,k),_||!k.setup||k.setup(S,O),k[Qb](S),L=e[Cde](z0n),F=N=1,(I=L.run(this.oel(this,"more")))||(F=N=0,L.cache(I=M(L.value,e,null,null))),I[Ede]&&(F||!I.setup||I.setup(N,L),I[Qb](N)),I==e[JZ]||!e[JZ]&&(e[JZ]=I)[knt](e)||e[JZ][_nt](e[JZ]=I,e),r||t.sym||!e.setup||e.setup(o,t,wde),t.sym||e[Qb](o),e}};c0.alias="xo",E(c0,Sde,"ExclusiveOffer",80);var vnt=c0;globalThis.ExclusiveOffer=vnt;var Y0n=Symbol(),wnt=class wnt{set offers(e){this.offers.$set(e,this,dnt,"offers")}get offers(){return this.offers.$get(this,dnt,"offers")}get offers(){return this[zYr]||y((Q4=this.refs(QZ),p(Q4.r,Function)?Q4.r(OWNER|ADMIN|REFERRER):Q4.r=OWNER|ADMIN|REFERRER,p(Q4.eager,Function)?Q4.eager():Q4.eager=!0,Q4),this,dnt,"offers",zYr,OPAgent.prototype)}set offer(e){this.offer.$set(e,this,fnt,"offer")}get offer(){return this.offer.$get(this,fnt,"offer")}get offer(){return this[qYr]||y((gnt=this.get(),gnt.callback=function(){return this.offers.desc("percent_off").filter(function(e){return e.valid}).at(0)},gnt),this,fnt,"offer",qYr,OPAgent.prototype)}set clear_exclusive_offers(e){this.clear_exclusive_offers.$set(e,this,mnt,"clear_exclusive_offers")}get clear_exclusive_offers(){return this.clear_exclusive_offers.$get(this,mnt,"clear_exclusive_offers")}get clear_exclusive_offers(){return this[WYr]||y((Xb=this.action(),p(Xb.rx,Function)?Xb.rx(ADMIN):Xb.rx=ADMIN,p(Xb.rpc,Function)?Xb.rpc():Xb.rpc=!0,Xb.callback=!1,Xb),this,mnt,"clear_exclusive_offers",WYr,OPAgent.prototype)}set give_exclusive_offer(e){this.give_exclusive_offer.$set(e,this,$nt,"give_exclusive_offer")}get give_exclusive_offer(){return this.give_exclusive_offer.$get(this,$nt,"give_exclusive_offer")}get give_exclusive_offer(){return this[ZYr]||y((Kb=this.action(),p(Kb.rx,Function)?Kb.rx(ADMIN):Kb.rx=ADMIN,p(Kb.rpc,Function)?Kb.rpc():Kb.rpc=!0,Kb.callback=!1,Kb),this,$nt,"give_exclusive_offer",ZYr,OPAgent.prototype)}set give_student_offer(e){this.give_student_offer.$set(e,this,ynt,"give_student_offer")}get give_student_offer(){return this.give_student_offer.$get(this,ynt,"give_student_offer")}get give_student_offer(){return this[GYr]||y((Jb=this.action(),p(Jb.rx,Function)?Jb.rx(ADMIN):Jb.rx=ADMIN,p(Jb.rpc,Function)?Jb.rpc():Jb.rpc=!0,Jb.callback=!1,Jb),this,ynt,"give_student_offer",GYr,OPAgent.prototype)}};E(wnt,Y0n,"OPAgent",1025,OPAgent);var SXr=wnt;T();oe();ge(),dt();var Snt=Symbol("id"),CXr=Symbol(),Cnt=Symbol("slug"),EXr=Symbol(),Ent=Symbol("dest"),jXr=Symbol(),jnt=Symbol("root"),AXr=Symbol(),Ant=Symbol("title"),UXr=Symbol(),Unt=Symbol("creator"),PXr=Symbol(),Pnt=Symbol("hits"),TXr=Symbol(),Tnt=Symbol("copy"),OXr=Symbol(),p0,Qs,Al,p2,d0,RXr,Mv,jde=Symbol(),MXr=Symbol(),Ade=Symbol(),LXr=Symbol(),DXr=Symbol(),Ude=Symbol(),NXr=Symbol(),IXr=Symbol(),cU=Symbol(),X0n=Symbol(),FXr=Symbol(),HXr=Symbol(),BXr=Symbol(),VXr=Symbol(),zXr=Symbol(),qXr=Symbol(),eG=Symbol(),K0n=Symbol(),WXr=Symbol(),tG=Symbol(),J0n=Symbol(),rG=Symbol(),Q0n=Symbol(),eg,Ont=Symbol.for("##up"),Rnt=Symbol.for("##register"),tg=Symbol.for("#afterVisit"),efn=Symbol.for("#visit"),Pde=Symbol.for("#getRenderContext"),Tde=Symbol.for("#isRichElement"),Ode=Symbol.for("#insertInto"),Rde=Symbol.for("#replaceWith"),ZXr=Symbol.for("#placeChild"),Mde=Symbol(),Bp=class Bp extends Qe(Mde,Model,Editable,Deletable){constructor(){super(...arguments),super[A]||this[A](),re(this,Mde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Mde])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,Snt,"id")}get id(){return this.id.$get(this,Snt,"id")}get id(){return this[CXr]||y((p0=this.key(),p(p0.r,Function)?p0.r(ANYONE):p0.r=ANYONE,p(p0.wxcd,Function)?p0.wxcd(ADMIN|TEACHER):p0.wxcd=ADMIN|TEACHER,p(p0.pick,Function)?p0.pick(ADMIN|TEACHER):p0.pick=ADMIN|TEACHER,p0),this,Snt,"id",CXr,Bp.prototype)}set slug(e){this.slug.$set(e,this,Cnt,"slug")}get slug(){return this.slug.$get(this,Cnt,"slug")}get slug(){return this[EXr]||y((Qs=this.string(),p(Qs.required,Function)?Qs.required():Qs.required=!0,p(Qs.unique,Function)?Qs.unique():Qs.unique=!0,p(Qs.s,Function)?Qs.s():Qs.s=!0,p(Qs.dialog,Function)?Qs.dialog():Qs.dialog=!0,p(Qs.editable,Function)?Qs.editable():Qs.editable=!0,Qs.default=function(){return OP.random.ref()},Qs),this,Cnt,"slug",EXr,Bp.prototype)}set dest(e){this.dest.$set(e,this,Ent,"dest")}get dest(){return this.dest.$get(this,Ent,"dest")}get dest(){return this[jXr]||y((Al=this.string(),p(Al.required,Function)?Al.required():Al.required=!0,p(Al.s,Function)?Al.s():Al.s=!0,p(Al.dialog,Function)?Al.dialog():Al.dialog=!0,p(Al.editable,Function)?Al.editable():Al.editable=!0,p(Al.icon,Function)?Al.icon("link"):Al.icon="link",Al),this,Ent,"dest",jXr,Bp.prototype)}set root(e){this.root.$set(e,this,jnt,"root")}get root(){return this.root.$get(this,jnt,"root")}get root(){return this[AXr]||y((p2=this.bool(),p(p2.dialog,Function)?p2.dialog():p2.dialog=!0,p(p2.editable,Function)?p2.editable():p2.editable=!0,p2.default=function(){return!1},p2.default.literal=!1,p2),this,jnt,"root",AXr,Bp.prototype)}set title(e){this.title.$set(e,this,Ant,"title")}get title(){return this.title.$get(this,Ant,"title")}get title(){return this[UXr]||y((d0=this.string(),p(d0.s,Function)?d0.s():d0.s=!0,p(d0.dialog,Function)?d0.dialog():d0.dialog=!0,p(d0.editable,Function)?d0.editable():d0.editable=!0,d0),this,Ant,"title",UXr,Bp.prototype)}set creator(e){this.creator.$set(e,this,Unt,"creator")}get creator(){return this.creator.$get(this,Unt,"creator")}get creator(){return this[PXr]||y((RXr=this.creator(),RXr),this,Unt,"creator",PXr,Bp.prototype)}set hits(e){this.hits.$set(e,this,Pnt,"hits")}get hits(){return this.hits.$get(this,Pnt,"hits")}get hits(){return this[TXr]||y((Mv=this.number(),p(Mv.icon,Function)?Mv.icon("count"):Mv.icon="count",Mv.default=function(){return 0},Mv.default.literal=0,Mv),this,Pnt,"hits",TXr,Bp.prototype)}get aslabel(){return this.slug}get astilelabel(){return this.slug}get astiledesc(){return this.dest}opownstats(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[jde])||(r=o=0,e=t[jde]=e=R("op-stats",null,null,null)),r||(e[Ont]=t._),r||((i=e[Rnt])==null||i.call(e,t,jde)),n=this,n===e[MXr]||(e.data=e[MXr]=n),r||(e.only="hits"),r||t.sym||!e.setup||e.setup(o,t,jde),t.sym||e[tg](o),e}opowntile(e,t){var u;var r=this,o=H(),n,i,s,a;return o.this=this,i=s=1,(n=o[Ade])||(i=s=0,n=o[Ade]=n=R("app-tile",null,"co-ag",null)),i||(n[Ont]=o._),i||((u=n[Rnt])==null||u.call(n,o,Ade)),a=this,a===n[LXr]||(n.data=n[LXr]=a),t===n[DXr]||(n.ctx=n[DXr]=t),i||n.on$("open",{trap:!0,$_:[function(c,h){return o.this.edititem(c)}]},this),i||o.sym||!n.setup||n.setup(s,o,Ade),o.sym||n[tg](s),n}opownli(){var K,X;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y;return t.this=this,o=n=1,(r=t[Ude])||(o=n=0,r=t[Ude]=r=w("section",null,"xli",null)),o||(r[Ont]=t._),o||((K=r[Rnt])==null||K.call(r,t,Ude)),i=this,i===r[NXr]||(r.odata=r[NXr]=i),s=r[IXr]||(r[IXr]={options:[null]}),i=this,i===s.options[0]||(s.options[0]=i,n|=48),o||r.on$("opmenu",s,this),n&32&&(n^=32,(X=s[efn])==null||X.call(s)),o||r.on$("click",{trap:!0,$_:[function(Z,Q){return t.this.copy(Z)}]},this),a=r[Pde](X0n),c=h=1,(u=a.run(this.oicon(this.creator)))||(c=h=0,a.cache(u=M(a.value,r,"bullet",null))),u[Tde]&&((!c||h&2)&&u.flags.reconcile(cU,"bullet"),c||!u.setup||u.setup(h,a),u[tg](h)),u==r[cU]||!r[cU]&&(r[cU]=u)[Ode](r)||r[cU][Rde](r[cU]=u,r),f=m=1,(d=r[FXr])||(f=m=0,r[FXr]=d=w("section",r,null,null)),($=d[HXr])||(d[HXr]=$=w("h2",d,"co-ak",null)),(b=d[BXr])||(d[BXr]=b=w("span",$,"co-al co_ak",null)),f||b[ZXr]("/"),pt.context=d[zXr]||(d[zXr]={_:b}),g=this.slug.toLowerCase(),pt.context=null,g===d[qXr]&&f||(d[VXr]=b[ZXr](d[qXr]=g,256,d[VXr])),f||(x=w("hr",d,null,null)),k=d[Pde](K0n),S=v=1,(_=k.run(this.ochip(this.$.dest)))||(S=v=0,k.cache(_=M(k.value,d,null,null))),_[Tde]&&(S||_.on$("optip",{},this),S||!_.setup||_.setup(v,k),_[tg](v)),_==d[eG]||!d[eG]&&(d[eG]=_)[Ode](d)||d[eG][Rde](d[eG]=_,d),j=P=1,(C=d[WXr])||(j=P=0,d[WXr]=C=fa(256,d)),U=C[Pde](J0n),L=I=1,(O=U.run(this.ochip(this.$.hits)))||(L=I=0,U.cache(O=M(U.value,C,null,null))),O[Tde]&&(L||O.on$("optip",{},this),L||!O.setup||O.setup(I,U),O[tg](I)),O==C[tG]||!C[tG]&&(C[tG]=O)[Ode](C)||C[tG][Rde](C[tG]=O,C),j||(F=w("span",C,"co-aq","visits")),j||!C.setup||C.setup(P,N),C[tg](P),f||!d.setup||d.setup(m,V),d[tg](m),W=r[Pde](Q0n),q=Y=1,(z=W.run(this.oel(this,"more")))||(q=Y=0,W.cache(z=M(W.value,r,null,null))),z[Tde]&&(q||!z.setup||z.setup(Y,W),z[tg](Y)),z==r[rG]||!r[rG]&&(r[rG]=z)[Ode](r)||r[rG][Rde](r[rG]=z,r),o||t.sym||!r.setup||r.setup(n,t,Ude),t.sym||r[tg](n),r}get fullurl(){return""+APP.origin+"/link/"+this.slug}set copy(e){this.copy.$set(e,this,Tnt,"copy")}get copy(){return this.copy.$get(this,Tnt,"copy")}get copy(){return this[OXr]||y((eg=this.action(),p(eg.rx,Function)?eg.rx(ADMIN):eg.rx=ADMIN,p(eg.g,Function)?eg.g(0):eg.g=0,eg.callback=function(){return OP.copystr(this.fullurl)},eg),this,Tnt,"copy",OXr,Bp.prototype)}static async go(e,t){let r;return(r=await Bp.find({slug:e.params.slug}))?r.go(e,t):(t.status=404,t.redirect("/not-found"))}get scrimbaurl(){return""+globalThis.location.host+"/link/"+this.slug}get url(){let e;try{e=new URL(this.dest).toString()}catch{}try{e??=new URL("https://"+this.dest).toString()}catch{}return e}};E(Bp,Mde,"Link",80);var Mnt=Bp;globalThis.Link=Mnt;T();oe();var Lnt=Symbol("id"),GXr=Symbol(),Dnt=Symbol("link"),YXr=Symbol(),Nnt=Symbol("referer"),XXr=Symbol(),Int=Symbol("ip"),KXr=Symbol(),f0,JXr,QXr,eKr,tfn=Symbol(),Lv=class Lv extends Model{set id(e){this.id.$set(e,this,Lnt,"id")}get id(){return this.id.$get(this,Lnt,"id")}get id(){return this[GXr]||y((f0=this.key(),p(f0.rwx,Function)?f0.rwx(ADMIN|TEACHER):f0.rwx=ADMIN|TEACHER,p(f0.c,Function)?f0.c(ANYONE):f0.c=ANYONE,p(f0.d,Function)?f0.d(ADMIN|TEACHER):f0.d=ADMIN|TEACHER,f0),this,Lnt,"id",GXr,Lv.prototype)}set link(e){this.link.$set(e,this,Dnt,"link")}get link(){return this.link.$get(this,Dnt,"link")}get link(){return this[YXr]||y((JXr=this.ref(Link),JXr),this,Dnt,"link",YXr,Lv.prototype)}set referer(e){this.referer.$set(e,this,Nnt,"referer")}get referer(){return this.referer.$get(this,Nnt,"referer")}get referer(){return this[XXr]||y((QXr=this.string(),QXr),this,Nnt,"referer",XXr,Lv.prototype)}set ip(e){this.ip.$set(e,this,Int,"ip")}get ip(){return this.ip.$get(this,Int,"ip")}get ip(){return this[KXr]||y((eKr=this.string(),eKr),this,Int,"ip",KXr,Lv.prototype)}get aslabel(){return this.link.slug}get astilelabel(){return this.link.slug}get astiledesc(){return this.ip}get country(){return this.ip}};E(Lv,tfn,"LinkTraffic",0);var Fnt=Lv;globalThis.LinkTraffic=Fnt;T();oe();ge(),We(),$e();var Hnt=Symbol("desktop"),tKr=Symbol(),Bnt=Symbol("mobile"),rKr=Symbol(),Vnt=Symbol("intro"),oKr=Symbol(),znt=Symbol("figma"),nKr=Symbol(),qnt=Symbol("screenshots"),iKr=Symbol(),Wnt=Symbol("cover"),sKr=Symbol(),Znt=Symbol("desktop_preview"),lKr=Symbol(),Gnt=Symbol("set-thumbnail"),aKr=Symbol(),Ynt=Symbol("fix_screenshots"),uKr=Symbol(),Xnt=Symbol("start-project"),cKr=Symbol(),Knt=Symbol("continue-project"),hKr=Symbol(),Jnt=Symbol("open-figma-file"),pKr=Symbol(),dKr,fKr,Lde=Symbol(),mKr=Symbol(),$Kr=Symbol(),hU=Symbol(),rfn=Symbol(),pU=Symbol(),ofn=Symbol(),yKr,bKr,gKr,kKr,_Kr,dU,Vp,rg,xKr=Symbol(),og,ng,Dde=Symbol();var nfn=Symbol();var ifn=Symbol(),vKr=Symbol(),oG=Symbol(),sfn=Symbol(),Qnt=Symbol(),wKr=Symbol(),SKr=Symbol(),lfn=Symbol.for("#has"),Dv=Symbol.for("##up"),Ide=Symbol.for("##register"),jKr=Symbol.for("#getSlot"),AKr=Symbol.for("#placeChild"),nG=Symbol.for("#getRenderContext"),iG=Symbol.for("#isRichElement"),d2=Symbol.for("#afterVisit"),CKr=Symbol.for("#insertInto"),EKr=Symbol.for("#replaceWith"),afn=Symbol.for("#appendChild"),ufn=Symbol.for("#replaceChild"),cfn=Symbol(),sG=class sG extends OPEmbed{set desktop(e){this.desktop.$set(e,this,Hnt,"desktop")}get desktop(){return this.desktop.$get(this,Hnt,"desktop")}get desktop(){return this[tKr]||y((dKr=this.image(),dKr),this,Hnt,"desktop",tKr,sG.prototype)}set mobile(e){this.mobile.$set(e,this,Bnt,"mobile")}get mobile(){return this.mobile.$get(this,Bnt,"mobile")}get mobile(){return this[rKr]||y((fKr=this.image(),fKr),this,Bnt,"mobile",rKr,sG.prototype)}};E(sG,cfn,"ProjectCover",0);var Fde=sG;globalThis.ProjectCover=Fde;var hfn=Symbol(),Hde=class Hde extends Ve("op-stack-modal","OpStackModalComponent",de){body(){var S;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_;return o=n=1,(t=r[Lde])||(o=n=0,t=r[Lde]=t=R("op-sheet",null,`${e}`,null)),o||(t[Dv]=r._),o||((S=t[Ide])==null||S.call(t,r,Lde)),i=t[jKr]("__",t),o||(s=w("div",i,`%head ${e}`,"Instructions")),(a=t[mKr])||(t[mKr]=a=w("div",i,`dn-ai %body ${e}`,null)),o||a[AKr]('To start the project after viewing the introduction, click the settings wheel at the bottom right of the scrim and choose "Fork to New Scrim".'),c=h=1,(u=t[$Kr])||(c=h=0,t[$Kr]=u=w("div",i,`%foot ${e}`,null)),d=u[nG](rfn),m=$=1,(f=d.run(this.obutton(this.cancel)))||(m=$=0,d.cache(f=M(d.value,u,`${e}`,null))),f[iG]&&((!m||$&2)&&f.flags.reconcile(hU,`${e}`),m||!f.setup||f.setup($,d),f[d2]($)),f==u[hU]||!u[hU]&&(u[hU]=f)[CKr](u)||u[hU][EKr](u[hU]=f,u),b=u[nG](ofn),x=k=1,(g=b.run(this.obutton(this.done)))||(x=k=0,b.cache(g=M(b.value,u,`${e}`,null))),g[iG]&&(x||(g.label="got it"),(!x||k&2)&&g.flags.reconcile(pU,`${e}`),x||!g.setup||g.setup(k,b),g[d2](k)),g==u[pU]||!u[pU]&&(u[pU]=g)[CKr](u)||u[pU][EKr](u[pU]=g,u),c||!u.setup||u.setup(h,_),u[d2](h),o||r.sym||!t.setup||t.setup(n,r,Lde),r.sym||t[d2](n),t}};E(Hde,hfn,"StartProjectModal",2),pe("start-project-modal-dn-am",Hde,{cssid:"dn-af",name:"StartProjectModal"});var eit=Hde,Nde=Symbol(),Ul=class Ul extends Qe(Nde,Content,HasLevel,Taggable,Followable,Publishable){constructor(){super(...arguments),super[A]||this[A](),re(this,Nde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Nde])==null||o.call(this,...arguments)}static[lfn](e){return p(e,Topic)?!0:p(e,Status)?Cn(e,this.$shape.status):p(e,Topic)}set intro(e){this.intro.$set(e,this,Vnt,"intro")}get intro(){return this.intro.$get(this,Vnt,"intro")}get intro(){return this[oKr]||y((yKr=this.ref(Scrim),yKr),this,Vnt,"intro",oKr,Ul.prototype)}set figma(e){this.figma.$set(e,this,znt,"figma")}get figma(){return this.figma.$get(this,znt,"figma")}get figma(){return this[nKr]||y((bKr=this.text(),bKr),this,znt,"figma",nKr,Ul.prototype)}set screenshots(e){this.screenshots.$set(e,this,qnt,"screenshots")}get screenshots(){return this.screenshots.$get(this,qnt,"screenshots")}get screenshots(){return this[iKr]||y((gKr=this.text(),gKr),this,qnt,"screenshots",iKr,Ul.prototype)}set cover(e){this.cover.$set(e,this,Wnt,"cover")}get cover(){return this.cover.$get(this,Wnt,"cover")}get cover(){return this[sKr]||y((kKr=this.embed(Fde),kKr),this,Wnt,"cover",sKr,Ul.prototype)}set desktop_preview(e){this.desktop_preview.$set(e,this,Znt,"desktop_preview")}get desktop_preview(){return this.desktop_preview.$get(this,Znt,"desktop_preview")}get desktop_preview(){return this[lKr]||y((_Kr=this.image(),_Kr),this,Znt,"desktop_preview",lKr,Ul.prototype)}get url(){var e;return"/"+((e=this.asshortlabel)==null?void 0:e.slug)+"-"+this.id}set setthumbnail(e){this.setthumbnail.$set(e,this,Gnt,"setthumbnail")}get setthumbnail(){return this.setthumbnail.$get(this,Gnt,"setthumbnail")}get setthumbnail(){return this[aKr]||y((dU=this.action(OPImage),p(dU.g,Function)?dU.g(100):dU.g=100,dU.callback=function(e){return this.cover.mobile=e},dU),this,Gnt,"setthumbnail",aKr,Ul.prototype)}get thumbnail(){var e,t;return(t=(e=this.screenshots)==null?void 0:e.split)==null?void 0:t.call(e,`
`,1)[0]}set fix_screenshots(e){this.fix_screenshots.$set(e,this,Ynt,"fix_screenshots")}get fix_screenshots(){return this.fix_screenshots.$get(this,Ynt,"fix_screenshots")}get fix_screenshots(){return this[uKr]||y((Vp=this.action(),p(Vp.x,Function)?Vp.x(ADMIN):Vp.x=ADMIN,p(Vp.g,Function)?Vp.g(300):Vp.g=300,p(Vp.rpc,Function)?Vp.rpc():Vp.rpc=!0,Vp.callback=!1,Vp),this,Ynt,"fix_screenshots",uKr,Ul.prototype)}set startproject(e){this.startproject.$set(e,this,Xnt,"startproject")}get startproject(){return this.startproject.$get(this,Xnt,"startproject")}get startproject(){return this[cKr]||y((rg=this.action(),p(rg.rx,Function)?rg.rx(ANYONE):rg.rx=ANYONE,p(rg.if,Function)?rg.if(function(){return this.intro}):rg.if=function(){return this.intro},rg.callback=async function(){var i;var e,t={},r,o;if(await APP.ensuresignedin(),await ME,!ME.pro)return await APP.upgrade();if(await Bt((r=o=0,e=e=R(eit,null,null,null),r||(e[Dv]=t._),r||((i=e[Ide])==null||i.call(e,t,xKr)),r||t.sym||!e.setup||e.setup(o,t,xKr),t.sym||e[d2](o),e)))return APP.open(this.intro)},rg),this,Xnt,"startproject",cKr,Ul.prototype)}set continueproject(e){this.continueproject.$set(e,this,Knt,"continueproject")}get continueproject(){return this.continueproject.$get(this,Knt,"continueproject")}get continueproject(){return this[hKr]||y((og=this.action(),p(og.rx,Function)?og.rx(ANYONE):og.rx=ANYONE,p(og.if,Function)?og.if(function(){return this.started}):og.if=function(){return this.started},og.callback=function(){return APP.open(this.myfork)},og),this,Knt,"continueproject",hKr,Ul.prototype)}set openfigmafile(e){this.openfigmafile.$set(e,this,Jnt,"openfigmafile")}get openfigmafile(){return this.openfigmafile.$get(this,Jnt,"openfigmafile")}get openfigmafile(){return this[pKr]||y((ng=this.action(),p(ng.rx,Function)?ng.rx(ANYONE):ng.rx=ANYONE,p(ng.if,Function)?ng.if(function(){return this.figma}):ng.if=function(){return this.figma},ng.callback=async function(){return await APP.ensuresignedin(),await ME,ME.pro?window.open(this.figma):await APP.upgrade()},ng),this,Jnt,"openfigmafile",pKr,Ul.prototype)}get myfork(){var e=this;return ME.$affiliations.find(function(t){return p(t,Scrim)&&t.origin==e.intro})}get started(){return!!this.myfork}opownpageheadbuttons(){var g;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b;return o=n=1,(t=r[Dde])||(o=n=0,t=r[Dde]=t=R("op",null,null,null)),o||(t[Dv]=r._),o||((g=t[Ide])==null||g.call(t,r,Dde)),i=t[jKr]("__",t),e=null,this.started?(s=t[nG](nfn),a=u=1,(e=s.run(this.obutton(this.$.continueproject)))||(a=u=0,s.cache(e=M(s.value,null,null,null))),a||(e[Dv]=i),e[iG]&&(a||e.on$("optip",{},this),a||!e.setup||e.setup(u,s),e[d2](u))):(c=t[nG](ifn),h=d=1,(e=c.run(this.obutton(this.$.startproject)))||(h=d=0,c.cache(e=M(c.value,null,null,null))),h||(e[Dv]=i),e[iG]&&(h||e.on$("optip",{},this),h||!e.setup||e.setup(d,c),e[d2](d))),t[vKr]=i[AKr](e,0,t[vKr]),f=t[nG](sfn),$=b=1,(m=f.run(this.obutton(this.$.openfigmafile)))||($=b=0,f.cache(m=M(f.value,i,null,null))),m[iG]&&($||m.on$("optip",{},this),$||!m.setup||m.setup(b,f),m[d2](b)),m==t[oG]||!t[oG]&&i[afn](t[oG]=m)||(i[ufn](m,t[oG]),t[oG]=m),o||r.sym||!t.setup||t.setup(n,r,Dde),r.sym||t[d2](n),t}opownbody(){var h,d,f;var e,t=H(),r,o,n,i,s,a,u,c;r=o=1,(e=t[Qnt])||(r=o=0,e=t[Qnt]=e=w("div",null,"dn-as",null)),r||(e[Dv]=t._),r||((h=e[Ide])==null||h.call(e,t,Qnt)),(n=e[wKr])||(e[wKr]=n=Jt(384,e)),i=0,s=n.$;for(let m=0,$=B((f=(d=this.screenshots)==null?void 0:d.trim)==null?void 0:f.call(d).split(`
`)),b=$.length;m<b;m++){let g=$[m];u=c=1,(a=s[i])||(u=c=0,s[i]=a=w("img",n,"dn-at",null)),u||(a[Dv]=n),g===a[SKr]||(a.src=a[SKr]=g),i++}return n[d2](i),e}};Ul.prototype[Le]=De,Ul.alias="prj",Ul.hue="indigo",se([ke.bind([])],Ul.prototype,"thumbnail",null),E(Ul,Nde,"Project",336);var tit=Ul;globalThis.Project=tit;T();oe();var pfn=Symbol(),rit=class rit extends OPIcon{};E(rit,pfn,"Icon",0);var D=rit;globalThis.Icon=D;k3(function(){return D.enum("export",{svg:Z6t}),D.enum("abort",{svg:L$e}),D.enum("accept",{svg:uR}),D.enum("accessibility",{svg:S$e}),D.enum("account",{svg:K6}),D.enum("active",{svg:M1}),D.enum("active_status",{svg:SR}),D.enum("add",{svg:_R}),D.enum("minus",{svg:$J}),D.enum("add_cover_image",{svg:aR}),D.enum("add_items",{svg:Okt}),D.enum("add_slide",{svg:aR}),D.enum("admin",{svg:yw}),D.enum("affiliate",{svg:kw}),D.enum("affiliateclick",{svg:T2}),D.enum("affiliatelink",{svg:T2}),D.enum("affiliatepayout",{svg:yJ}),D.enum("affiliateprogram",{svg:kw}),D.enum("aflc",{svg:xf}),D.enum("afp",{svg:kw}),D.enum("ai",{svg:sR}),D.enum("alias",{svg:S3}),D.enum("announcement",{svg:Nkt}),D.enum("annually",{svg:ma}),D.enum("anthropicservice",{svg:sR}),D.enum("anyone",{svg:l_t}),D.enum("api",{svg:L1}),D.enum("apis",{svg:xf}),D.enum("app",{svg:zK}),D.enum("appaccessibility",{svg:S$e}),D.enum("appaffiliate",{svg:kw}),D.enum("appaiexerciseoptions",{svg:C8t}),D.enum("appannouncement",{svg:_$e}),D.enum("appcollview",{svg:Tkt}),D.enum("appcontent",{svg:n$e}),D.enum("appcourses",{svg:W6}),D.enum("appdebug",{svg:_f}),D.enum("appdebug",{svg:a6t}),D.enum("appextras",{svg:mR}),D.enum("appfeedback",{svg:Z8t}),D.enum("appfilters",{svg:aJ}),D.enum("appgithubservice",{svg:h$e}),D.enum("apphome",{svg:hJ}),D.enum("apphomeoverview",{svg:hJ}),D.enum("appide",{svg:U6t}),D.enum("appinspector",{svg:vf}),D.enum("appinspectorLinks",{svg:T2}),D.enum("appinspectorLogs",{svg:mw}),D.enum("appinspectorai",{svg:vf}),D.enum("appinspectordesign",{svg:zkt}),D.enum("appinspectorexercises",{svg:Qgt}),D.enum("appinspectorgpt",{svg:ww}),D.enum("appinspectorlinks",{svg:T2}),D.enum("appinspectorlogs",{svg:mw}),D.enum("appinspectororgs",{svg:vf}),D.enum("appinspectorprices",{svg:v3}),D.enum("appinspectorqueries",{svg:L1}),D.enum("appinspectorsearch",{svg:vf}),D.enum("appinspectorstatus",{svg:x$e}),D.enum("appinspectorsubs",{svg:vf}),D.enum("appjavascriptmas",{svg:tkt}),D.enum("apple",{svg:f_t}),D.enum("appmetrics",{svg:k6t}),D.enum("apppageembed",{svg:J6t}),D.enum("apppagespage",{svg:dR}),D.enum("appprivacy",{svg:k8t}),D.enum("appprojects",{svg:pkt}),D.enum("appschool",{svg:g6t}),D.enum("appscrimbassadors",{svg:yw}),D.enum("appsettings",{svg:w3}),D.enum("appslack",{svg:S8t}),D.enum("appsystemgc",{svg:a8t}),D.enum("appsystemmonitoring",{svg:xw}),D.enum("appteams",{svg:SJ}),D.enum("apptemplates",{svg:dR}),D.enum("appterms",{svg:n$e}),D.enum("apptopics",{svg:Kme}),D.enum("appuserorgs",{svg:u6t}),D.enum("archive",{svg:wf,hue:"rose"}),D.enum("aside",{svg:w6t}),D.enum("asset",{svg:gw}),D.enum("audiotrack",{svg:G6t}),D.enum("authservice",{svg:xR}),D.enum("autofocus",{svg:D$e}),D.enum("autopause_apis",{svg:w$e}),D.enum("autoplay",{svg:_J}),D.enum("autoplaying",{svg:vw}),D.enum("available",{svg:hR}),D.enum("avatar",{svg:wkt}),D.enum("back",{svg:cw}),D.enum("backend",{svg:L1}),D.enum("backend_developer",{svg:w3}),D.enum("basics",{svg:W6}),D.enum("beacon",{svg:n8t}),D.enum("binary",{svg:Wme}),D.enum("book",{svg:iR}),D.enum("bookmark",{svg:x3}),D.enum("bookmarked",{svg:x3}),D.enum("browser",{svg:GK}),D.enum("bug",{svg:_f}),D.enum("build",{svg:eye}),D.enum("buy",{svg:U2}),D.enum("cachedresource",{svg:X6t}),D.enum("calendar",{svg:ma}),D.enum("cancel",{svg:M2}),D.enum("canceled_status",{svg:x_t}),D.enum("cancelled",{svg:M2}),D.enum("captions",{svg:Qme}),D.enum("card",{svg:U2}),D.enum("caret_down",{svg:f6t}),D.enum("caret_up",{svg:$6t}),D.enum("category",{svg:l$e}),D.enum("category_account",{svg:K6}),D.enum("category_lesson",{svg:W6}),D.enum("category_other",{svg:fw}),D.enum("category_payment",{svg:U2}),D.enum("category_website",{svg:xf}),D.enum("cc",{svg:Qme}),D.enum("certificate",{svg:y6t}),D.enum("challenge",{svg:EJ}),D.enum("challenges",{svg:EJ}),D.enum("chat",{svg:KK}),D.enum("check",{svg:cR}),D.enum("checkout",{svg:x8t}),D.enum("chrome",{svg:d$e}),D.enum("claim",{svg:mR}),D.enum("clear_filters",{svg:fkt}),D.enum("clip",{svg:i$e}),D.enum("clipboard",{svg:mw}),D.enum("clock",{svg:$w}),D.enum("close",{svg:M2}),D.enum("code",{svg:pR}),D.enum("coins",{svg:v3}),D.enum("collapse",{svg:Ygt}),D.enum("collectionsection",{svg:a$e}),D.enum("command",{svg:N$e}),D.enum("comments",{svg:x6t}),D.enum("commission",{svg:e_t}),D.enum("commit",{svg:c$e}),D.enum("commits",{svg:fw}),D.enum("community",{svg:D1}),D.enum("company",{svg:lR}),D.enum("completed",{svg:SR,hue:"emerald"}),D.enum("configure",{svg:G$e}),D.enum("confirm",{svg:uR}),D.enum("connect",{svg:kR}),D.enum("connected",{svg:kR}),D.enum("connection",{svg:kR}),D.enum("connectwithdesktopapp",{svg:t$e}),D.enum("console",{svg:g$e}),D.enum("content",{svg:WK}),D.enum("context",{svg:X6}),D.enum("copied",{svg:rJ}),D.enum("copy",{svg:rJ}),D.enum("copy_finished",{svg:M1}),D.enum("copy_link",{svg:rJ}),D.enum("cores",{svg:oJ}),D.enum("cpu",{svg:oJ}),D.enum("correct",{svg:M1}),D.enum("count",{svg:c6t}),D.enum("country",{svg:p$e}),D.enum("coupon",{svg:T$e}),D.enum("course",{svg:gJ}),D.enum("coursedetails",{svg:vf}),D.enum("courseentry",{svg:bw}),D.enum("courseprerequisites",{svg:dJ}),D.enum("courses",{svg:Hkt}),D.enum("create",{svg:eye}),D.enum("created",{svg:Yme}),D.enum("creator",{svg:r_t}),D.enum("crown",{svg:yw}),D.enum("currencyservice",{svg:a_t}),D.enum("current",{svg:$w}),D.enum("date",{svg:ma}),D.enum("debugging",{svg:_f}),D.enum("decline",{svg:B$e}),D.enum("declined",{svg:B$e}),D.enum("delete",{svg:wf,hue:"rose"}),D.enum("deletion",{svg:wf,hue:"rose"}),D.enum("dependency",{svg:bJ}),D.enum("description",{svg:X6}),D.enum("dev",{svg:F6t}),D.enum("disabled",{svg:k$e}),D.enum("discard",{svg:wf,hue:"rose"}),D.enum("discord",{svg:iJ}),D.enum("discordprofile",{svg:iJ}),D.enum("discordservice",{svg:iJ}),D.enum("dismissed",{svg:M2}),D.enum("display",{svg:P2}),D.enum("done",{svg:cR}),D.enum("done_status",{svg:SR}),D.enum("dots",{svg:z6t}),D.enum("draft",{svg:Gkt}),D.enum("due",{svg:A6t}),D.enum("duration",{svg:bR}),D.enum("edit",{svg:C3,hue:"yellow"}),D.enum("edit_item",{svg:C3,hue:"yellow"}),D.enum("egg",{svg:m_t}),D.enum("eligible",{svg:zme}),D.enum("email",{svg:r$e}),D.enum("ends",{svg:L$e}),D.enum("error",{svg:CJ}),D.enum("errored",{svg:CJ}),D.enum("evaluation",{svg:rkt}),D.enum("exchangeratesdate",{svg:Y8t}),D.enum("exclude",{svg:Ew}),D.enum("exclusiveoffer",{svg:j3}),D.enum("exercise",{svg:EJ}),D.enum("exerciseevaluation",{svg:mw}),D.enum("exercisesnapshot",{svg:dw}),D.enum("exercisesnapshotfile",{svg:dw}),D.enum("exercisetestcase",{svg:K6t}),D.enum("exercisetestresult",{svg:M1}),D.enum("exercisetestsuiterun",{svg:vw}),D.enum("exercisewrapper",{svg:bJ}),D.enum("exists",{svg:cR}),D.enum("exit",{svg:bw}),D.enum("expand",{svg:Kgt}),D.enum("extras",{svg:V6t}),D.enum("eye",{svg:P2}),D.enum("eye_off",{svg:Z6}),D.enum("fail",{svg:Ew}),D.enum("faq",{svg:U$e}),D.enum("favorite",{svg:x3}),D.enum("feedback",{svg:S6t}),D.enum("feedback",{svg:KK}),D.enum("fetch",{svg:sJ}),D.enum("field",{svg:H$e}),D.enum("figma",{svg:Y6t}),D.enum("file",{svg:w_t}),D.enum("file_css",{svg:v_t}),D.enum("file_html",{svg:S_t}),D.enum("file_ico",{svg:tye}),D.enum("file_js",{svg:C_t}),D.enum("file_md",{svg:E_t}),D.enum("file_svg",{svg:tye}),D.enum("file_ts",{svg:A_t}),D.enum("files",{svg:dR}),D.enum("filters",{svg:mkt}),D.enum("fingerprint",{svg:lkt}),D.enum("finished",{svg:M1}),D.enum("fix",{svg:G$e}),D.enum("float",{svg:Gme}),D.enum("floating",{svg:Gme}),D.enum("focus",{svg:D$e}),D.enum("follow",{svg:r6t}),D.enum("followed",{svg:P2}),D.enum("font_size",{svg:W8t}),D.enum("forward",{svg:hw}),D.enum("free",{svg:mR}),D.enum("friday",{svg:ma}),D.enum("friend",{svg:SJ}),D.enum("fullstack",{svg:fw}),D.enum("frontend_developer",{svg:_w}),D.enum("geminiservice",{svg:j3}),D.enum("generate",{svg:_w}),D.enum("gift",{svg:mR}),D.enum("github",{svg:X$e}),D.enum("githubprofile",{svg:X$e}),D.enum("githubservice",{svg:h$e}),D.enum("globe",{svg:$R}),D.enum("globe-off",{svg:ykt,hue:"red"}),D.enum("google",{svg:$_t}),D.enum("googleslidesurl",{svg:j$e}),D.enum("got_it",{svg:M1}),D.enum("graduation_cap",{svg:yR}),D.enum("grant",{svg:J6}),D.enum("grid",{svg:f$e}),D.enum("groqservice",{svg:oJ}),D.enum("gt",{svg:XK}),D.enum("guest",{svg:Xkt}),D.enum("hash",{svg:m$e}),D.enum("heap",{svg:L1}),D.enum("help",{svg:U$e}),D.enum("hidden",{svg:Z6}),D.enum("hide",{svg:Z6}),D.enum("hire",{svg:J6}),D.enum("hired",{svg:ZK}),D.enum("home",{svg:hJ}),D.enum("hot",{svg:akt}),D.enum("icon",{svg:Vme}),D.enum("id",{svg:S3}),D.enum("image",{svg:G6}),D.enum("imageasset",{svg:G6}),D.enum("import",{svg:sJ}),D.enum("in_progress_status",{svg:Jme}),D.enum("inactive",{svg:Ew}),D.enum("incorrect",{svg:Ew}),D.enum("info",{svg:Skt}),D.enum("insert_above",{svg:c8t}),D.enum("insert_after",{svg:T6t}),D.enum("insert_before",{svg:P6t}),D.enum("insert_below",{svg:u8t}),D.enum("insert_inside",{svg:Qkt}),D.enum("inspect",{svg:vf}),D.enum("inspector",{svg:vf}),D.enum("instagram",{svg:Ckt}),D.enum("instances",{svg:R2}),D.enum("invisible",{svg:Z6}),D.enum("invite",{svg:o$e}),D.enum("inviting_emails",{svg:o$e}),D.enum("ip",{svg:xw}),D.enum("job_failed",{svg:Z$e}),D.enum("job_finished",{svg:M1}),D.enum("job_running",{svg:R8t}),D.enum("join",{svg:Sw}),D.enum("joinforum",{svg:i6t}),D.enum("joinscrimbassador",{svg:_$e}),D.enum("key",{svg:b$e}),D.enum("keyhole",{svg:jkt}),D.enum("kick",{svg:J6}),D.enum("kind",{svg:aR}),D.enum("label",{svg:vR}),D.enum("labels",{svg:z8t}),D.enum("languagemodel",{svg:sR}),D.enum("languagemodelrun",{svg:ww}),D.enum("last",{svg:$w}),D.enum("leave",{svg:bw}),D.enum("leavescrimbassador",{svg:o6t}),D.enum("left",{svg:bw}),D.enum("legacy",{svg:bR}),D.enum("legacyembed",{svg:pR}),D.enum("legacyservice",{svg:bR}),D.enum("legacysubscription",{svg:R2}),D.enum("lesson",{svg:iR}),D.enum("lessons",{svg:W6}),D.enum("lightning",{svg:_w}),D.enum("like",{svg:uJ}),D.enum("liked",{svg:uJ}),D.enum("linear",{svg:C6t}),D.enum("linearservice",{svg:w3}),D.enum("linearsync",{svg:pw}),D.enum("link",{svg:T2}),D.enum("linkedin",{svg:Pkt}),D.enum("linktraffic",{svg:X8t}),D.enum("list",{svg:g$e}),D.enum("livemode",{svg:l6t}),D.enum("load",{svg:W6t}),D.enum("lock",{svg:k$e}),D.enum("lock_open",{svg:Rkt}),D.enum("log",{svg:X6}),D.enum("login",{svg:Sw}),D.enum("logout",{svg:O$e}),D.enum("lt",{svg:m6t}),D.enum("mark",{svg:JK}),D.enum("mark_off",{svg:JK}),D.enum("mark_on",{svg:Y$e}),D.enum("marked",{svg:Y$e}),D.enum("maturing",{svg:y$e}),D.enum("maximize",{svg:L6t}),D.enum("maximized",{svg:dkt}),D.enum("mdn",{svg:W6}),D.enum("medal",{svg:gR}),D.enum("media",{svg:Cw}),D.enum("mediastreamrecording",{svg:Cw}),D.enum("member",{svg:SJ}),D.enum("memory",{svg:ckt}),D.enum("menu",{svg:O2}),D.enum("messagepack",{svg:L1}),D.enum("metadata",{svg:WK}),D.enum("metrics",{svg:j$e}),D.enum("minimize",{svg:M6t}),D.enum("mod",{svg:C3,hue:"yellow"}),D.enum("model",{svg:O8t}),D.enum("modified",{svg:C3,hue:"yellow"}),D.enum("module",{svg:E3}),D.enum("modules",{svg:E3}),D.enum("monday",{svg:ma}),D.enum("monthly",{svg:ma}),D.enum("more",{svg:q6t}),D.enum("move",{svg:F8t}),D.enum("move_to_back",{svg:b8t}),D.enum("move_to_front",{svg:y8t}),D.enum("movie",{svg:fR}),D.enum("my",{svg:Bkt}),D.enum("name",{svg:Wkt}),D.enum("network",{svg:$R}),D.enum("new",{svg:okt}),D.enum("new_file",{svg:U_t}),D.enum("new_folder",{svg:hkt}),D.enum("new_status",{svg:QK}),D.enum("newspaper",{svg:b_t}),D.enum("newspaper_clipping",{svg:y_t}),D.enum("newusersurvey",{svg:J6}),D.enum("next",{svg:hw}),D.enum("no",{svg:M2}),D.enum("not_started",{svg:QK,hue:"blue"}),D.enum("notice",{svg:qme}),D.enum("off",{svg:V$e}),D.enum("old",{svg:vkt}),D.enum("on",{svg:e8t}),D.enum("online",{svg:bkt}),D.enum("opapp",{svg:zK}),D.enum("opasset",{svg:gw}),D.enum("opaudio",{svg:T8t}),D.enum("opaudiostream",{svg:c_t}),D.enum("opblob",{svg:tJ}),D.enum("opbytestream",{svg:s$e}),D.enum("opchartview",{svg:Xme}),D.enum("opclient",{svg:t$e}),D.enum("opcoll",{svg:l$e}),D.enum("opcollview",{svg:a$e}),D.enum("opcountry",{svg:p$e}),D.enum("opcurrency",{svg:N6t}),D.enum("opdataasset",{svg:L1}),D.enum("opdatastream",{svg:L1}),D.enum("opday",{svg:YK}),D.enum("opelectronapp",{svg:Jgt}),D.enum("opelectrondialog",{svg:Kme}),D.enum("opelectronshell",{svg:I$e}),D.enum("opemail",{svg:r$e}),D.enum("opembed",{svg:pR}),D.enum("open",{svg:zK}),D.enum("openaiservice",{svg:sR}),D.enum("opengraphembed",{svg:g8t}),D.enum("openrouterservice",{svg:xw}),D.enum("opfilter",{svg:aJ}),D.enum("opfilters",{svg:aJ}),D.enum("opfontasset",{svg:F$e}),D.enum("opgcevent",{svg:n6t}),D.enum("opicoasset",{svg:G6}),D.enum("opicon",{svg:Vme}),D.enum("opimage",{svg:G6}),D.enum("opimbaasset",{svg:j3}),D.enum("opjob",{svg:ZK}),D.enum("opjpegasset",{svg:ekt}),D.enum("oplistview",{svg:O2}),D.enum("oplog",{svg:X6}),D.enum("oploginstance",{svg:R2}),D.enum("opmedia",{svg:Cw}),D.enum("opmonth",{svg:h6t}),D.enum("opobject",{svg:e$e}),D.enum("oppngasset",{svg:nkt}),D.enum("oppropview",{svg:P2}),D.enum("opquarter",{svg:_6t}),D.enum("oprasterimage",{svg:C$e}),D.enum("oprect",{svg:l8t}),D.enum("oprole",{svg:_8t}),D.enum("opserver",{svg:L1}),D.enum("opsession",{svg:$w}),D.enum("opsessionclipboard",{svg:j6t}),D.enum("opsorter",{svg:M$e}),D.enum("opsorterentry",{svg:dJ}),D.enum("opsyslog",{svg:L1}),D.enum("opsystemsnapshot",{svg:dw}),D.enum("optablepropview",{svg:vJ}),D.enum("optableview",{svg:vJ}),D.enum("optextasset",{svg:H$e}),D.enum("optional",{svg:JK}),D.enum("opurl",{svg:T2}),D.enum("opuser",{svg:wR}),D.enum("opuseragent",{svg:wR}),D.enum("opuseragentscreen",{svg:x$e}),D.enum("opvectorimage",{svg:e$e}),D.enum("opvideo",{svg:fR}),D.enum("opwalstream",{svg:Wme}),D.enum("opwalstreamindex",{svg:m$e}),D.enum("opwalstreamref",{svg:x3}),D.enum("opwalstreamtime",{svg:$w}),D.enum("opwebpasset",{svg:gw}),D.enum("opwebsocket",{svg:xw}),D.enum("opweek",{svg:p6t}),D.enum("opworker",{svg:w3}),D.enum("opyear",{svg:ma}),D.enum("org",{svg:lR}),D.enum("orginvite",{svg:J6}),D.enum("orgmember",{svg:wR}),D.enum("other",{svg:A$e}),D.enum("owner",{svg:R6t}),D.enum("package",{svg:bJ}),D.enum("pages",{svg:dR}),D.enum("paid",{svg:gkt}),D.enum("pass",{svg:M1}),D.enum("path",{svg:gJ}),D.enum("paths",{svg:gJ}),D.enum("pause",{svg:g_t}),D.enum("paused",{svg:w$e}),D.enum("payment",{svg:U2}),D.enum("paypal",{svg:kJ}),D.enum("wise",{svg:zme}),D.enum("paypalservice",{svg:kJ}),D.enum("paypalsubscription",{svg:kJ}),D.enum("pbr",{svg:$kt}),D.enum("pid",{svg:S3}),D.enum("pin",{svg:mJ}),D.enum("pinned",{svg:r8t}),D.enum("pip",{svg:C$e}),D.enum("platform",{svg:B6t}),D.enum("play",{svg:vw}),D.enum("play",{svg:K$e}),D.enum("playground",{svg:E$e}),D.enum("playing",{svg:vw}),D.enum("playlist",{svg:Jkt}),D.enum("playlistentry",{svg:vw}),D.enum("plus",{svg:_R}),D.enum("podcast",{svg:_kt}),D.enum("practice_entry",{svg:iR}),D.enum("prev",{svg:cw}),D.enum("previous",{svg:cw}),D.enum("primary",{svg:yw}),D.enum("printer",{svg:t8t}),D.enum("privacy",{svg:Dkt}),D.enum("private",{svg:Y6}),D.enum("pro",{svg:J$e,color:"#cc9aff"}),D.enum("pro_developer",{svg:ZK}),D.enum("processing",{svg:ma}),D.enum("profile",{svg:K6}),D.enum("progress",{svg:Xme}),D.enum("project",{svg:E3}),D.enum("projectcover",{svg:G6}),D.enum("projects",{svg:E3}),D.enum("promo",{svg:T$e}),D.enum("promocodes",{svg:o8t}),D.enum("promotional",{svg:vR}),D.enum("public",{svg:xf}),D.enum("publish",{svg:xf}),D.enum("published",{svg:xf}),D.enum("publisher",{svg:xf}),D.enum("push",{svg:q$e}),D.enum("quarterly",{svg:ma}),D.enum("questionpersona",{svg:wR}),D.enum("questionreferrer",{svg:T2}),D.enum("queue",{svg:P$e}),D.enum("rec",{svg:i$e}),D.enum("receipt",{svg:xJ}),D.enum("reconnected",{svg:kR}),D.enum("record",{svg:Cw}),D.enum("recurring",{svg:R2}),D.enum("redirects",{svg:Ggt}),D.enum("referrals",{svg:kw}),D.enum("referrer",{svg:s_t}),D.enum("refresh",{svg:nR}),D.enum("refund",{svg:Zgt}),D.enum("reimport",{svg:sJ}),D.enum("remix",{svg:K8t}),D.enum("remove",{svg:wf,hue:"rose"}),D.enum("remove_like",{svg:$$e}),D.enum("removed",{svg:bw}),D.enum("rename",{svg:C3}),D.enum("renew",{svg:nR}),D.enum("renews",{svg:nR}),D.enum("rerun",{svg:R2,hue:"emerald"}),D.enum("resendservice",{svg:v$e}),D.enum("reset",{svg:qK}),D.enum("resolved_status",{svg:SR}),D.enum("responsive",{svg:H6t}),D.enum("restore",{svg:qK}),D.enum("resume",{svg:K$e}),D.enum("reusability",{svg:R2}),D.enum("revert",{svg:eJ}),D.enum("revoke",{svg:W$e}),D.enum("rewind",{svg:qK}),D.enum("robot",{svg:ww}),D.enum("role",{svg:S3}),D.enum("roles",{svg:n_t}),D.enum("rollback",{svg:eJ}),D.enum("rows",{svg:h8t}),D.enum("rss",{svg:p8t}),D.enum("run",{svg:P$e,hue:"emerald"}),D.enum("runner",{svg:nJ}),D.enum("safari",{svg:O6t}),D.enum("saturday",{svg:ma}),D.enum("save",{svg:M1,hue:"green"}),D.enum("saved",{svg:M1,hue:"green"}),D.enum("school",{svg:yR}),D.enum("school_name",{svg:yR}),D.enum("scribble",{svg:m8t}),D.enum("scrim",{svg:pJ}),D.enum("scrimaudio",{svg:Fkt}),D.enum("scrimback",{svg:s$e}),D.enum("scrimbamerch",{svg:V8t}),D.enum("scrimbase",{svg:lR}),D.enum("scrimclip",{svg:f8t}),D.enum("scrimclipprocessed",{svg:fR}),D.enum("scrimcommit",{svg:c$e}),D.enum("scrimenv",{svg:E$e}),D.enum("scrimhead",{svg:K6}),D.enum("scrimkey",{svg:b$e}),D.enum("scrimoffset",{svg:hw}),D.enum("scrimorigin",{svg:mJ}),D.enum("scrimpractice",{svg:gR}),D.enum("scrimpreview",{svg:P2}),D.enum("scrimrec",{svg:s8t}),D.enum("scrimref",{svg:x3}),D.enum("scrimreference",{svg:x3}),D.enum("scrimsnapshot",{svg:dw}),D.enum("scrimstream",{svg:h_t}),D.enum("scrimtimeoffset",{svg:eJ}),D.enum("scroll",{svg:X6}),D.enum("seal_percent_filled",{svg:k_t}),D.enum("search",{svg:vf}),D.enum("secret",{svg:Y6}),D.enum("section",{svg:d8t}),D.enum("sectiongroup",{svg:D1}),D.enum("server",{svg:tJ}),D.enum("session",{svg:t_t}),D.enum("sessions",{svg:D1}),D.enum("set",{svg:C3}),D.enum("settings",{svg:u$e}),D.enum("shell",{svg:j_t}),D.enum("show",{svg:P2}),D.enum("sign_in",{svg:Sw}),D.enum("sign_out",{svg:O$e}),D.enum("signups",{svg:$8t}),D.enum("skip_back",{svg:v8t}),D.enum("skip_forward",{svg:R$e}),D.enum("skippable",{svg:R$e}),D.enum("skipped",{svg:w8t,hue:"rose"}),D.enum("slide",{svg:E8t}),D.enum("slidelayer",{svg:pJ}),D.enum("slides",{svg:aR}),D.enum("snapshots",{svg:dw}),D.enum("sockets",{svg:xw}),D.enum("solution",{svg:B8t}),D.enum("sortasc",{svg:A8t}),D.enum("sortdesc",{svg:M$e}),D.enum("space",{svg:j3}),D.enum("split",{svg:M8t}),D.enum("split_vertical",{svg:L8t}),D.enum("srv",{svg:tJ}),D.enum("star",{svg:j3}),D.enum("star_off",{svg:j3}),D.enum("star_on",{svg:Q$e}),D.enum("star_unset",{svg:D8t}),D.enum("starred",{svg:Q$e}),D.enum("start",{svg:_J}),D.enum("start_date",{svg:Yme}),D.enum("started",{svg:E6t,hue:"amber"}),D.enum("state",{svg:mJ}),D.enum("status",{svg:Jme}),D.enum("stop",{svg:__t}),D.enum("stripe",{svg:U2}),D.enum("stripecoupon",{svg:wJ}),D.enum("stripecustomer",{svg:K6}),D.enum("stripediscount",{svg:Ykt}),D.enum("stripeinvoice",{svg:xJ}),D.enum("stripeinvoiceline",{svg:O2}),D.enum("stripeliveservice",{svg:xkt}),D.enum("stripeobject",{svg:U2}),D.enum("stripepaymentintent",{svg:U2}),D.enum("stripeprice",{svg:vR}),D.enum("stripeproduct",{svg:e6t}),D.enum("stripepromocode",{svg:wJ}),D.enum("striperawobject",{svg:L1}),D.enum("stripeservice",{svg:U2}),D.enum("stripesettings",{svg:w3}),D.enum("stripesubscription",{svg:xJ}),D.enum("stripesubscriptionitem",{svg:vR}),D.enum("stripetestservice",{svg:q8t}),D.enum("student",{svg:N8t}),D.enum("studio",{svg:fR}),D.enum("sub",{svg:R2}),D.enum("subject",{svg:s6t}),D.enum("submit",{svg:v$e}),D.enum("subs",{svg:D6t}),D.enum("subscribers",{svg:D1}),D.enum("subscription",{svg:YK}),D.enum("subscriptions",{svg:YK}),D.enum("subscriptions",{svg:R2}),D.enum("subtract",{svg:I8t}),D.enum("sunday",{svg:ma}),D.enum("sure",{svg:uR}),D.enum("surveyquestion",{svg:A$e}),D.enum("sync",{svg:pw}),D.enum("synopsis",{svg:X6}),D.enum("table",{svg:vJ}),D.enum("teacher",{svg:i_t}),D.enum("teachers",{svg:yR}),D.enum("teams",{svg:D1}),D.enum("template",{svg:Zme}),D.enum("templates",{svg:Zme}),D.enum("terminal",{svg:N$e}),D.enum("terms",{svg:X6}),D.enum("test",{svg:ukt}),D.enum("testimonial",{svg:U8t}),D.enum("text",{svg:WK}),D.enum("textsection",{svg:F$e}),D.enum("thumbentry",{svg:G6}),D.enum("thumbfile",{svg:Q6t}),D.enum("thumbnail",{svg:G6}),D.enum("thumbrunner",{svg:_J}),D.enum("thumbterminal",{svg:I$e}),D.enum("thumbviewgroup",{svg:f$e}),D.enum("thumbviewlayout",{svg:pJ}),D.enum("thursday",{svg:ma}),D.enum("ticket",{svg:_f}),D.enum("ticketcomment",{svg:KK}),D.enum("ticketcontext",{svg:wJ}),D.enum("tiktok",{svg:G8t}),D.enum("timed",{svg:bR}),D.enum("toast",{svg:qme}),D.enum("todo_status",{svg:hR}),D.enum("toggle",{svg:V$e}),D.enum("tools",{svg:Zkt}),D.enum("topic",{svg:iR}),D.enum("topics",{svg:H8t}),D.enum("totalsales",{svg:J8t}),D.enum("transfer",{svg:Xgt}),D.enum("trash",{svg:wf,hue:"rose"}),D.enum("tuesday",{svg:ma}),D.enum("twitter",{svg:p_t}),D.enum("typeerror",{svg:CJ}),D.enum("uid",{svg:S3}),D.enum("unanswered",{svg:v6t}),D.enum("unanswered",{svg:lJ}),D.enum("unfloat",{svg:GK}),D.enum("unfollow",{svg:t6t}),D.enum("unkick",{svg:W$e}),D.enum("unlike",{svg:$$e}),D.enum("heart",{svg:uJ}),D.enum("unlockable",{svg:Mkt}),D.enum("unpublish",{svg:Y6}),D.enum("unpublished",{svg:Y6}),D.enum("unread",{svg:lJ}),D.enum("unremove",{svg:J6}),D.enum("unseen",{svg:lJ}),D.enum("untouched",{svg:QK,hue:"yellow"}),D.enum("upcoming",{svg:y$e}),D.enum("upgrade",{svg:yw}),D.enum("upgrade_package",{svg:nR}),D.enum("upload",{svg:q$e}),D.enum("url",{svg:T2}),D.enum("used",{svg:xR}),D.enum("user",{svg:K6}),D.enum("useradmintab",{svg:u$e}),D.enum("useraffiliate",{svg:pw}),D.enum("useragent",{svg:d$e}),D.enum("userbilling",{svg:yJ}),D.enum("money",{svg:yJ}),D.enum("userfeatures",{svg:o_t}),D.enum("userlegacyembed",{svg:J6}),D.enum("userlogs",{svg:dJ}),D.enum("username",{svg:S3}),D.enum("userorg",{svg:lR}),D.enum("useroverview",{svg:K6}),D.enum("users",{svg:D1}),D.enum("usersettings",{svg:w3}),D.enum("usersurvey",{svg:mw}),D.enum("v",{svg:cR}),D.enum("vectorasset",{svg:ikt}),D.enum("verified",{svg:J$e}),D.enum("video",{svg:Cw}),D.enum("view",{svg:P2}),D.enum("visible",{svg:P2}),D.enum("visitors",{svg:I6t}),D.enum("volume",{svg:P8t}),D.enum("wand",{svg:fJ}),D.enum("warning",{svg:Z$e}),D.enum("was_hidden",{svg:Z6}),D.enum("web_dev",{svg:pR}),D.enum("website",{svg:xf}),D.enum("websites",{svg:xf}),D.enum("webviewstream",{svg:GK}),D.enum("wednesday",{svg:ma}),D.enum("wipe",{svg:wf}),D.enum("x",{svg:M2}),D.enum("xcircle",{svg:Ew}),D.enum("yes",{svg:uR}),D.enum("youtube",{svg:d_t}),D.enum("zip",{svg:skt})});T();oe();ge(),We(),$e();var oit=Symbol("icon"),UKr=Symbol(),nit=Symbol("color"),PKr=Symbol(),iit=Symbol("rank"),TKr=Symbol(),sit=Symbol("courses"),OKr=Symbol(),lit=Symbol("lessons"),RKr=Symbol(),ait=Symbol("templates"),MKr=Symbol(),LKr,DKr,lG,Bde=Symbol(),NKr=Symbol(),IKr=Symbol(),FKr=Symbol(),HKr=Symbol(),BKr=Symbol(),VKr=Symbol(),Vde=Symbol(),zKr=Symbol(),qKr=Symbol(),aG=Symbol(),dfn=Symbol(),WKr=Symbol(),ZKr=Symbol(),GKr=Symbol(),zde=Symbol(),YKr=Symbol(),XKr=Symbol(),uG=Symbol(),ffn=Symbol(),KKr=Symbol(),JKr=Symbol(),QKr=Symbol(),qde=Symbol(),cG=Symbol(),mfn=Symbol(),eJr=Symbol(),tJr=Symbol(),rJr=Symbol(),oJr=Symbol(),fU=Symbol(),$fn=Symbol(),mU=Symbol(),yfn=Symbol(),hG=Symbol(),bfn=Symbol(),nJr=le("&.discoverable?",globalThis,l=>l.discoverable),ig,sg,gfn=le("&.kind.lesson?",globalThis,l=>l.kind.lesson),lg,kfn=le("&.kind.template?",globalThis,l=>l.kind.template),_fn=Symbol.for("#matcher"),Wde=Symbol.for("##up"),Zde=Symbol.for("##register"),uit=Symbol.for("#getSlot"),pG=Symbol.for("#placeChild"),m0=Symbol.for("#afterVisit"),iJr=Symbol.for("#visit"),$U=Symbol.for("#getRenderContext"),yU=Symbol.for("#isRichElement"),sJr=Symbol.for("#appendChild"),lJr=Symbol.for("#replaceChild"),Gde=Symbol.for("#insertInto"),Yde=Symbol.for("#replaceWith"),Xde=Symbol(),ah=class ah extends Qe(Xde,Content,Followable,Deletable){constructor(){super(...arguments),super[A]||this[A](),re(this,Xde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Xde])==null||o.call(this,...arguments)}set icon(e){this.icon.$set(e,this,oit,"icon")}get icon(){return this.icon.$get(this,oit,"icon")}get icon(){return this[UKr]||y((LKr=this.text(),LKr),this,oit,"icon",UKr,ah.prototype)}set color(e){this.color.$set(e,this,nit,"color")}get color(){return this.color.$get(this,nit,"color")}get color(){return this[PKr]||y((DKr=this.color(),DKr),this,nit,"color",PKr,ah.prototype)}set rank(e){this.rank.$set(e,this,iit,"rank")}get rank(){return this.rank.$get(this,iit,"rank")}get rank(){return this[TKr]||y((lG=this.number(),p(lG.order,Function)?lG.order("desc"):lG.order="desc",lG),this,iit,"rank",TKr,ah.prototype)}get asslug(){return this.id}get aspidetail(){return"Topic"}get astip(){return"Topic: "+this.name}get asicon(){return this.icon||kkt}get $score(){return this.rank||0}[_fn](e){var t,r;return(r=(t=e.topics)==null?void 0:t.has)==null?void 0:r.call(t,this)}op_crestat(){return null}get liga(){return(this.name||"js").toLowerCase()}opowntip(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[Bde])||(r=o=0,e=t[Bde]=e=R("op",null,null,null)),r||(e[Wde]=t._),r||((c=e[Zde])==null||c.call(e,t,Bde)),n=e[uit]("__",e),(i=e[NKr])||(e[NKr]=i=w("h2",n,null,null)),s=this.name,s===e[FKr]&&r||(e[IKr]=i[pG](e[FKr]=s,384,e[IKr])),(a=e[HKr])||(e[HKr]=a=w("p",n,null,null)),u=this.synopsis,u===e[VKr]&&r||(e[BKr]=a[pG](e[VKr]=u,384,e[BKr])),r||t.sym||!e.setup||e.setup(o,t,Bde),t.sym||e[m0](o),e}opownstat(e,t){var b,g;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=i=1,(r=o[Vde])||(n=i=0,r=o[Vde]=r=R("op-stat",null,"dm-ai",null)),n||(r[Wde]=o._),n||((b=r[Zde])==null||b.call(r,o,Vde)),s=r[uit]("__",r),n||(r.data__={rich:!0}),a=this,a===r[zKr]||(r.data=r[zKr]=a),u=r[qKr]||(r[qKr]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,i|=48),n||r.on$("opmenu",u,this),i&32&&(i^=32,(g=u[iJr])==null||g.call(u)),n||r.on$("optip",{},this),c=r[$U](dfn),d=f=1,(h=c.run(this.oel(this,"stat-icon")))||(d=f=0,c.cache(h=M(c.value,s,null,null))),h[yU]&&(d||!h.setup||h.setup(f,c),h[m0](f)),h==r[aG]||!r[aG]&&s[sJr](r[aG]=h)||(s[lJr](h,r[aG]),r[aG]=h),(m=r[WKr])||(r[WKr]=m=w("span",s,"dm-ak",null)),$=this.aslabel,$===r[GKr]&&n||(r[ZKr]=m[pG](r[GKr]=$,384,r[ZKr])),n||o.sym||!r.setup||r.setup(i,o,Vde),o.sym||r[m0](i),r}opownchip(e,t){var b,g;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$;return n=i=1,(r=o[zde])||(n=i=0,r=o[zde]=r=R("op",null,"dm-al",null)),n||(r[Wde]=o._),n||((b=r[Zde])==null||b.call(r,o,zde)),s=r[uit]("__",r),n||(r.data__={rich:!0}),a=this,a===r[YKr]||(r.data=r[YKr]=a),u=r[XKr]||(r[XKr]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,i|=48),n||r.on$("opmenu",u,this),i&32&&(i^=32,(g=u[iJr])==null||g.call(u)),n||r.on$("optip",{},this),c=r[$U](ffn),d=f=1,(h=c.run(this.oel(this,"stat-icon")))||(d=f=0,c.cache(h=M(c.value,s,null,null))),h[yU]&&(d||!h.setup||h.setup(f,c),h[m0](f)),h==r[uG]||!r[uG]&&s[sJr](r[uG]=h)||(s[lJr](h,r[uG]),r[uG]=h),(m=r[KKr])||(r[KKr]=m=w("span",s,"dm-an",null)),$=this.aslabel,$===r[QKr]&&n||(r[JKr]=m[pG](r[QKr]=$,384,r[JKr])),n||o.sym||!r.setup||r.setup(i,o,zde),o.sym||r[m0](i),r}opownli(){var O;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;return r=o=1,(e=t[qde])||(r=o=0,e=t[qde]=e=w("section",null,"xli",null)),r||(e[Wde]=t._),r||((O=e[Zde])==null||O.call(e,t,qde)),n=e[$U](mfn),s=a=1,(i=n.run(this.oicon(this)))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[yU]&&(s||!i.setup||i.setup(a,n),i[m0](a)),i==e[cG]||!e[cG]&&(e[cG]=i)[Gde](e)||e[cG][Yde](e[cG]=i,e),c=h=1,(u=e[eJr])||(c=h=0,e[eJr]=u=w("section",e,null,null)),(d=u[tJr])||(u[tJr]=d=w("h2",u,null,null)),f=this.name,f===u[oJr]&&c||(u[rJr]=d[pG](u[oJr]=f,384,u[rJr])),m=u[$U]($fn),b=g=1,($=m.run(this.ochip(this.$.courses)))||(b=g=0,m.cache($=M(m.value,u,"compact",null))),$[yU]&&((!b||g&2)&&$.flags.reconcile(fU,"compact"),b||!$.setup||$.setup(g,m),$[m0](g)),$==u[fU]||!u[fU]&&(u[fU]=$)[Gde](u)||u[fU][Yde](u[fU]=$,u),x=u[$U](yfn),_=S=1,(k=x.run(this.ochip(this.$.lessons)))||(_=S=0,x.cache(k=M(x.value,u,"compact",null))),k[yU]&&((!_||S&2)&&k.flags.reconcile(mU,"compact"),_||!k.setup||k.setup(S,x),k[m0](S)),k==u[mU]||!u[mU]&&(u[mU]=k)[Gde](u)||u[mU][Yde](u[mU]=k,u),v=u[$U](bfn),j=P=1,(C=v.run(this.ochip(this.$.templates)))||(j=P=0,v.cache(C=M(v.value,u,null,null))),C[yU]&&(j||!C.setup||C.setup(P,v),C[m0](P)),C==u[hG]||!u[hG]&&(u[hG]=C)[Gde](u)||u[hG][Yde](u[hG]=C,u),c||!u.setup||u.setup(h,U),u[m0](h),r||t.sym||!e.setup||e.setup(o,t,qde),t.sym||e[m0](o),e}get scrims(){return Scrim.all(nJr,le("&.topics.has(self)",this,e=>e.topics.has(this)))}set courses(e){this.courses.$set(e,this,sit,"courses")}get courses(){return this.courses.$get(this,sit,"courses")}get courses(){return this[OKr]||y((ig=this.embed(AppCollView),p(ig.stat,Function)?ig.stat():ig.stat=!0,p(ig.tab,Function)?ig.tab():ig.tab=!0,ig.callback=function(){return Course.all(nJr,le("&.topics.has(self)",this,e=>e.topics.has(this)))},ig),this,sit,"courses",OKr,ah.prototype)}set lessons(e){this.lessons.$set(e,this,lit,"lessons")}get lessons(){return this.lessons.$get(this,lit,"lessons")}get lessons(){return this[RKr]||y((sg=this.embed(AppCollView),p(sg.stat,Function)?sg.stat():sg.stat=!0,p(sg.tab,Function)?sg.tab():sg.tab=!0,sg.callback=function(){return this.scrims.only(gfn)},sg),this,lit,"lessons",RKr,ah.prototype)}set templates(e){this.templates.$set(e,this,ait,"templates")}get templates(){return this.templates.$get(this,ait,"templates")}get templates(){return this[MKr]||y((lg=this.embed(AppCollView),p(lg.stat,Function)?lg.stat():lg.stat=!0,p(lg.tab,Function)?lg.tab():lg.tab=!0,lg.callback=function(){return this.scrims.only(kfn)},lg),this,ait,"templates",MKr,ah.prototype)}};ah.prototype[Le]=De,ah.alias="t",ah.hue="sky",se([ke.bind([])],ah.prototype,"scrims",null),E(ah,Xde,"Topic",336);var cit=ah;globalThis.Topic=cit;T();oe();ge(),dt(),$e();var hit=Symbol("item"),aJr=Symbol(),pit=Symbol("remove-entry"),uJr=Symbol(),dit=Symbol("add-entry"),cJr=Symbol(),fit=Symbol("move-entry"),hJr=Symbol(),mit=Symbol("id"),pJr=Symbol(),$it=Symbol("entries"),dJr=Symbol(),yit=Symbol("items"),fJr=Symbol(),mJr,bit=Symbol(),$Jr=Symbol(),yJr=Symbol(),bJr=Symbol(),gJr=Symbol(),kJr=Symbol(),_Jr=Symbol(),xJr=Symbol(),vJr=Symbol(),bU=Symbol(),xfn=Symbol(),wJr=Symbol(),dG=Symbol(),vfn=Symbol(),fG=Symbol(),wfn=Symbol(),ag,SJr=Symbol(),gU=Symbol(),Sfn=Symbol(),CJr=Symbol(),EJr=Symbol(),jJr=Symbol(),AJr=Symbol(),ug,cg,UJr=Symbol(),PJr=Symbol(),TJr=Symbol(),OJr=Symbol(),RJr=Symbol(),MJr=Symbol(),LJr=Symbol(),r5,mG,DJr,Kde=Symbol(),NJr=Symbol(),Cfn=Symbol(),Efn=Symbol(),IJr=Symbol(),Jde=Symbol(),FJr=Symbol(),Iv=Symbol.for("##up"),_it=Symbol.for("##register"),$G=Symbol.for("#placeChild"),yG=Symbol.for("#getRenderContext"),bG=Symbol.for("#isRichElement"),zp=Symbol.for("#afterVisit"),t0e=Symbol.for("#insertInto"),r0e=Symbol.for("#replaceWith"),VJr=Symbol.for("#beforeReconcile"),xit=Symbol.for("#visit"),zJr=Symbol.for("#afterReconcile"),qJr=Symbol.for("#getSlot"),jfn=Symbol.for("#appendChild"),Qde=Symbol(),gG=class gG extends Qe(Qde,OPEmbed,Linkable){constructor(){super(...arguments),super[A]||this[A](),re(this,Qde)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Qde])==null||o.call(this,...arguments)}set item(e){this.item.$set(e,this,hit,"item")}get item(){return this.item.$get(this,hit,"item")}get item(){return this[aJr]||y((mJr=this.ref(Scrim),mJr),this,hit,"item",aJr,gG.prototype)}get aslabel(){var e;return(e=this.item)==null?void 0:e.aslabel}opownli(e,t){var z;var r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;return i=s=1,(o=n[bit])||(i=s=0,o=n[bit]=o=w("section",null,"xli",null)),i||(o[Iv]=n._),i||((z=o[_it])==null||z.call(o,n,bit)),r=null,typeof t=="number"&&(a=u=1,(r=o[$Jr])||(a=u=0,o[$Jr]=r=w("i",null,"de-ag",null)),a||(r[Iv]=o),c=t,c===r[bJr]&&a||(r[yJr]=r[$G](r[bJr]=c,128,r[yJr]))),o[gJr]=o[$G](r,0,o[gJr]),d=f=1,(h=o[kJr])||(d=f=0,o[kJr]=h=w("section",o,null,null)),(m=h[_Jr])||(h[_Jr]=m=w("h2",h,null,null)),$=this.item.name,$===h[vJr]&&d||(h[xJr]=m[$G](h[vJr]=$,384,h[xJr])),b=h[yG](xfn),x=k=1,(g=b.run(this.ofmt(this.item.duration,"0:00")))||(x=k=0,b.cache(g=M(b.value,h,"ochip",null))),g[bG]&&((!x||k&2)&&g.flags.reconcile(bU,"ochip"),x||!g.setup||g.setup(k,b),g[zp](k)),g==h[bU]||!h[bU]&&(h[bU]=g)[t0e](h)||h[bU][r0e](h[bU]=g,h),d||(_=w("hr",h,null,null)),v=C=1,(S=h[wJr])||(v=C=0,h[wJr]=S=w("span",h,null,null)),v||S[$G]("By "),j=S[yG](vfn),U=O=1,(P=j.run(this.ospan(this.item.creator)))||(U=O=0,j.cache(P=M(j.value,S,null,null))),P[bG]&&(U||!P.setup||P.setup(O,j),P[zp](O)),P==S[dG]||!S[dG]&&(S[dG]=P)[t0e](S)||S[dG][r0e](S[dG]=P,S),v||!S.setup||S.setup(C,L),S[zp](C),I=h[yG](wfn),N=V=1,(F=I.run(this.ochip(this.item.topic)))||(N=V=0,I.cache(F=M(I.value,h,null,null))),F[bG]&&(N||!F.setup||F.setup(V,I),F[zp](V)),F==h[fG]||!h[fG]&&(h[fG]=F)[t0e](h)||h[fG][r0e](h[fG]=F,h),d||!h.setup||h.setup(f,W),h[zp](f),o}};gG.alias="ple",E(gG,Qde,"PlaylistEntry",80);var o0e=gG;globalThis.PlaylistEntry=o0e;var git=Symbol(),kG=class kG extends Qe(git,de,OPRenderable){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[git])==null||o.call(this,...arguments)}set removeentry(e){this.removeentry.$set(e,this,pit,"removeentry")}get removeentry(){return this.removeentry.$get(this,pit,"removeentry")}get removeentry(){return this[uJr]||y((ag=this.action(),p(ag.g,Function)?ag.g(1):ag.g=1,p(ag.confirm,Function)?ag.confirm():ag.confirm=!0,ag.callback=function(){return this.data.$up.delete(this.data)},ag),this,pit,"removeentry",uJr,kG.prototype)}render(){var h,d;var e,t,r,o,n=this._ns_||"",i,s,a,u,c;return e=this,e[VJr](),t=r=1,e[SJr]===1||(t=r=0,e[SJr]=1),o=e[yG](Sfn),s=a=1,(i=o.run(this.oli(this.data,this.i+1)))||(s=a=0,o.cache(i=M(o.value,e,`${n}`,null))),i[bG]&&(s||i.on$("opnav",{},this),s||(i.contour="contour"),u=i[CJr]||(i[CJr]={open:[null]}),u.open[0]=this.data.item,s||i.on$("click",u,this),c=this.data,c===i[EJr]||(i.data=i[EJr]=c),u=i[jJr]||(i[jJr]={options:[null]}),c=this.data,c===u.options[0]||(u.options[0]=c,a|=48),s||i.on$("opdrag",u,this),a&32&&(a^=32,(h=u[xit])==null||h.call(u)),u=i[AJr]||(i[AJr]={options:[null,null]}),c=this,c===u.options[0]||(u.options[0]=c,a|=48),c=this.data,c===u.options[1]||(u.options[1]=c,a|=48),s||i.on$("opmenu",u,this),a&32&&(a^=32,(d=u[xit])==null||d.call(u)),(!s||a&2)&&i.flags.reconcile(gU,`${n}`),s||!i.setup||i.setup(a,o),i[zp](a)),i==e[gU]||!e[gU]&&(e[gU]=i)[t0e](e)||e[gU][r0e](e[gU]=i,e),e[zJr](r),e}};E(kG,git,"op-oli",66),pe("op-oli",kG,{});var HJr=kG,kit=Symbol(),kU=class kU extends Qe(kit,de,OPRenderable){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[kit])==null||o.call(this,...arguments)}has(e){return this.data.has(e)}set addentry(e){this.addentry.$set(e,this,dit,"addentry")}get addentry(){return this.addentry.$get(this,dit,"addentry")}get addentry(){return this[cJr]||y((ug=this.action(OPObject,OPPos),p(ug.dnd,Function)?ug.dnd():ug.dnd=!0,p(ug.if,Function)?ug.if(function(e,t){return this.data.$up.editing&&!this.data.has(t)}):ug.if=function(e,t){return this.data.$up.editing&&!this.data.has(t)},ug.callback=function(e,t){if(p(e,CourseEntry)&&(e=e.scrim),this.data.find(function(o){return o.item==e})){OP.toast("This item is already in the playlist!");return}let r=this.data.add({item:e});return t&&this.data.move(r,t),r},ug),this,dit,"addentry",cJr,kU.prototype)}set moveentry(e){this.moveentry.$set(e,this,fit,"moveentry")}get moveentry(){return this.moveentry.$get(this,fit,"moveentry")}get moveentry(){return this[hJr]||y((cg=this.action(OPObject,OPPos),p(cg.dnd,Function)?cg.dnd():cg.dnd=!0,p(cg.if,Function)?cg.if(function(e,t){return this.data.$up.editing&&this.data.has(t)}):cg.if=function(e,t){return this.data.$up.editing&&this.data.has(t)},cg.callback=function(e,t){return this.data.move(e,t||{})},cg),this,fit,"moveentry",hJr,kU.prototype)}render(){var v;var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;e=this,e[VJr](),t=r=1,e[UJr]===1||(t=r=0,e[UJr]=1),(!t||r&2)&&e.flagSelf$("de-aq"),i=s=1,(n=e[PJr])||(i=s=0,e[PJr]=n=R("op",e,`de-ar ${o}`,null)),a=n[qJr]("__",e),c=h=1,(u=e[TJr])||(c=h=0,e[TJr]=u=w("ol",a,`de-as ${o}`,null)),c||(u.contour__={zone:!0}),c||(u.contour="contour"),d=e[OJr]||(e[OJr]={options:[null],capture:!0}),f=this,f===d.options[0]||(d.options[0]=f,h|=48),c||u.on$("opdrop",d,this),h&32&&(h^=32,(v=d[xit])==null||v.call(d)),(m=e[RJr])||(e[RJr]=m=Jt(384,u)),$=0,b=m.$;for(let C=0,j=B(this.data),P=j.length;C<P;C++){let U=j[C];x=k=1,(g=b[$])||(x=k=0,b[$]=g=R("op-oli",m,`${o}`,null)),x||(g[Iv]=m),U===g[MJr]||(g.data=g[MJr]=U),C===g[LJr]||(g.i=g[LJr]=C),x||!g.setup||g.setup(k,_),g[zp](k),$++}return m[zp]($),i||!n.setup||n.setup(s,S),n[zp](s),i||e[jfn](n),e[zJr](r),e}};E(kU,kit,"op-ol",66),pe("op-ol",kU,{});var BJr=kU,e0e=Symbol(),Nv=class Nv extends Qe(e0e,Content,Publishable,Editable){constructor(){super(...arguments),super[A]||this[A](),re(this,e0e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[e0e])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,mit,"id")}get id(){return this.id.$get(this,mit,"id")}get id(){return this[pJr]||y((r5=this.key(),p(r5.r,Function)?r5.r(ANYONE):r5.r=ANYONE,p(r5.wx,Function)?r5.wx(OWNER|ADMIN):r5.wx=OWNER|ADMIN,r5),this,mit,"id",pJr,Nv.prototype)}set entries(e){this.entries.$set(e,this,$it,"entries")}get entries(){return this.entries.$get(this,$it,"entries")}get entries(){return this[dJr]||y((mG=this.embeds(o0e),p(mG.stat,Function)?mG.stat():mG.stat=!0,mG),this,$it,"entries",dJr,Nv.prototype)}set items(e){this.items.$set(e,this,yit,"items")}get items(){return this.items.$get(this,yit,"items")}get items(){return this[fJr]||y((DJr=this.refs(Scrim),DJr),this,yit,"items",fJr,Nv.prototype)}opownpageheadbuttons(){var b;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$;return o=n=1,(t=r[Kde])||(o=n=0,t=r[Kde]=t=R("op",null,null,null)),o||(t[Iv]=r._),o||((b=t[_it])==null||b.call(t,r,Kde)),i=t[qJr]("__",t),e=null,this.editing?(s=a=1,(e=t[NJr])||(s=a=0,t[NJr]=e=w("p",null,"de-av",null)),s||(e[Iv]=i),s||(u=w("div",e,null,"While editing, you can add and reorder scrims by dragging and dropping.")),s||(c=w("div",e,null,"1. In another tab, hover over any scrim and copy it to your clipboard as you would with text.")),s||(h=w("div",e,null,"2. Come back to this tab and drag it from the Scrimba clipboard at the bottom left of the screen into the playlist.")),s||(d=w("div",e,null,"You can also edit the title and description by clicking on them while editing, and pressing enter before submitting."))):(f=t[yG](Efn),m=$=1,(e=f.run(this.obuttonif(this.edit)))||(m=$=0,f.cache(e=M(f.value,null,"yellow",null))),m||(e[Iv]=i),e[bG]&&(m||e.on$("opnav",{},this),(!m||$&2)&&e.flags.reconcile(Cfn,"yellow"),m||!e.setup||e.setup($,f),e[zp]($))),t[IJr]=i[$G](e,0,t[IJr]),o||r.sym||!t.setup||t.setup(n,r,Kde),r.sym||t[zp](n),t}opownbody(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[Jde])||(r=o=0,e=t[Jde]=e=R("op-ol",null,"de-bb",null)),r||(e[Iv]=t._),r||((i=e[_it])==null||i.call(e,t,Jde)),n=this.entries,n===e[FJr]||(e.data=e[FJr]=n),r||t.sym||!e.setup||e.setup(o,t,Jde),t.sym||e[zp](o),e}};Nv.alias="pl",E(Nv,e0e,"Playlist",80);var vit=Nv;globalThis.Playlist=vit;T();oe();var wit=Symbol("offset"),WJr=Symbol(),Sit=Symbol("span"),ZJr=Symbol(),Cit=Symbol("body"),GJr=Symbol(),Eit=Symbol("edit"),YJr=Symbol(),jit=Symbol("parts"),XJr=Symbol(),Ait=Symbol("originals"),KJr=Symbol(),Uit=Symbol("transcribe"),JJr=Symbol(),_G,xG,vG,_U,QJr,wG,xU,Afn=Symbol(),Fv=class Fv extends OPTuple{set offset(e){this.offset.$set(e,this,wit,"offset")}get offset(){return this.offset.$get(this,wit,"offset")}get offset(){return this[WJr]||y((_G=this.int(),p(_G.at,Function)?_G.at(0):_G.at=0,_G),this,wit,"offset",WJr,Fv.prototype)}set span(e){this.span.$set(e,this,Sit,"span")}get span(){return this.span.$get(this,Sit,"span")}get span(){return this[ZJr]||y((xG=this.int(),p(xG.at,Function)?xG.at(1):xG.at=1,xG),this,Sit,"span",ZJr,Fv.prototype)}set body(e){this.body.$set(e,this,Cit,"body")}get body(){return this.body.$get(this,Cit,"body")}get body(){return this[GJr]||y((vG=this.string(),p(vG.at,Function)?vG.at(2):vG.at=2,vG),this,Cit,"body",GJr,Fv.prototype)}get end(){return this.offset+(this.span||0)}get group(){return!this.body}set edit(e){this.edit.$set(e,this,Eit,"edit")}get edit(){return this.edit.$get(this,Eit,"edit")}get edit(){return this[YJr]||y((_U=this.action(),p(_U.g,Function)?_U.g(0):_U.g=0,_U.callback=function(e){let t=window.prompt("Edit",this.body);if(t)return this.body=t},_U),this,Eit,"edit",YJr,Fv.prototype)}};E(Fv,Afn,"Caption",0);var SG=Fv;globalThis.Caption=SG;var Ufn=Symbol(),vU=class vU extends OPEmbed{set parts(e){this.parts.$set(e,this,jit,"parts")}get parts(){return this.parts.$get(this,jit,"parts")}get parts(){return this[XJr]||y((QJr=this.tuples(SG),QJr),this,jit,"parts",XJr,vU.prototype)}set originals(e){this.originals.$set(e,this,Ait,"originals")}get originals(){return this.originals.$get(this,Ait,"originals")}get originals(){return this[KJr]||y((wG=this.tuples(SG),p(wG.hidden,Function)?wG.hidden():wG.hidden=!0,wG),this,Ait,"originals",KJr,vU.prototype)}toIterable(){return this.parts.resolved}set transcribe(e){this.transcribe.$set(e,this,Uit,"transcribe")}get transcribe(){return this.transcribe.$get(this,Uit,"transcribe")}get transcribe(){return this[JJr]||y((xU=this.action(),p(xU.rpc,Function)?xU.rpc():xU.rpc=!0,xU.callback=!1,xU),this,Uit,"transcribe",JJr,vU.prototype)}};E(vU,Ufn,"Captions",0);var Pit=vU;globalThis.Captions=Pit;T();oe();We(),ge(),$e();var Tit=Symbol("creator"),eQr=Symbol(),Oit=Symbol("duration"),tQr=Symbol(),Rit=Symbol("metadata"),rQr=Symbol(),Mit=Symbol("webm"),oQr=Symbol(),Lit=Symbol("captions"),nQr=Symbol(),Dit=Symbol("transcribed"),iQr=Symbol(),Nit=Symbol("transcribe"),sQr=Symbol(),Iit=Symbol("webm"),lQr=Symbol(),Fit=Symbol("captions"),aQr=Symbol(),Hit=Symbol("transcribe"),uQr=Symbol(),Bit=Symbol("scrim"),cQr=Symbol(),Vit=Symbol("audio"),hQr=Symbol(),zit=Symbol("captions"),pQr=Symbol(),qit=Symbol("transcribe"),dQr=Symbol(),CG,EG,fQr,mQr,$Qr,yQr,wU,bQr,gQr,SU,kQr,_Qr,jG,hg,n0e=Symbol(),xQr=Symbol(),vQr=Symbol(),wQr=Symbol(),SQr=Symbol(),CQr=Symbol(),EQr=Symbol(),AG=Symbol.for("#blob"),Pfn=Symbol.for("#objectURL"),jQr=Symbol.for("##up"),Tfn=Symbol.for("##register"),Ofn=Symbol.for("#getSlot"),AQr=Symbol.for("#visit"),Rfn=Symbol.for("#placeChild"),UQr=Symbol.for("#afterVisit"),PQr=Symbol(),vc=class vc extends Model{constructor(){super(...arguments),re(this,PQr)}set creator(e){this.creator.$set(e,this,Tit,"creator")}get creator(){return this.creator.$get(this,Tit,"creator")}get creator(){return this[eQr]||y((CG=this.creator(),p(CG.as,Function)?CG.as(OPOWNER):CG.as=OPOWNER,CG),this,Tit,"creator",eQr,vc.prototype)}set duration(e){this.duration.$set(e,this,Oit,"duration")}get duration(){return this.duration.$get(this,Oit,"duration")}get duration(){return this[tQr]||y((EG=this.ms(),p(EG.format,Function)?EG.format("0:00"):EG.format="0:00",EG),this,Oit,"duration",tQr,vc.prototype)}set metadata(e){this.metadata.$set(e,this,Rit,"metadata")}get metadata(){return this.metadata.$get(this,Rit,"metadata")}get metadata(){return this[rQr]||y((fQr=this.object(),fQr),this,Rit,"metadata",rQr,vc.prototype)}set webm(e){this.webm.$set(e,this,Mit,"webm")}get webm(){return this.webm.$get(this,Mit,"webm")}get webm(){return this[oQr]||y((mQr=this.embed(OPAudioStream),mQr),this,Mit,"webm",oQr,vc.prototype)}set captions(e){this.captions.$set(e,this,Lit,"captions")}get captions(){return this.captions.$get(this,Lit,"captions")}get captions(){return this[nQr]||y(($Qr=this.embed(Captions),$Qr),this,Lit,"captions",nQr,vc.prototype)}set transcribed(e){this.transcribed.$set(e,this,Dit,"transcribed")}get transcribed(){return this.transcribed.$get(this,Dit,"transcribed")}get transcribed(){return this[iQr]||y((yQr=this.bool(),yQr),this,Dit,"transcribed",iQr,vc.prototype)}get legacy(){return this.id.startsWith("msr0gfo")}get legacy_id(){return this.legacy?this.oid.slice(1).replace(/g/g,"-"):null}get legacy_url(){return""+this.oid.slice(1).replace(/g/g,"-"),"/v1/cdn/"+this.oid.slice(1).replace(/g/g,"-")+".webm"}get url(){return this.legacy?"/legacy/files/"+this.id+".webm":"/op/fs/"+this.id+"/webm"}get element(){return APP.audio.elementForId(this.id)}get preloaded(){return!0}get startOffset(){var e;return this.offset||((e=this.action)==null?void 0:e.offset)||0}probe(){throw"probe should be implemented on server"}fetchLocalBlob(){return this[AG]?(this[Pfn]||=URL.createObjectURL(this[AG]),Promise.resolve(this[AG])):null}get asArrayBuffer(){var e=this;return new Promise(async function(t){if(await e.fetchLocalBlob(),e[AG]){let r=new FileReader;return r.onloadend=function(o){return t(o.target.result)},r.readAsArrayBuffer(e[AG])}else return t(null)})}get cc(){var e,t;return((t=(e=this.captions)==null?void 0:e.parts)==null?void 0:t.length)>0}set transcribe(e){this.transcribe.$set(e,this,Nit,"transcribe")}get transcribe(){return this.transcribe.$get(this,Nit,"transcribe")}get transcribe(){return this[sQr]||y((wU=this.action(),p(wU.rpc,Function)?wU.rpc():wU.rpc=!0,wU.callback=!1,wU),this,Nit,"transcribe",sQr,vc.prototype)}};vc.prototype[Le]=De,vc.alias="msr",se([ke.bind([])],vc.prototype,"preloaded",null),se([ke.bind([])],vc.prototype,"asArrayBuffer",null),E(vc,PQr,"MediaStreamRecording",272);var Wit=vc;globalThis.MediaStreamRecording=Wit;var Mfn=Symbol(),Hv=class Hv extends Model{set webm(e){this.webm.$set(e,this,Iit,"webm")}get webm(){return this.webm.$get(this,Iit,"webm")}get webm(){return this[lQr]||y((bQr=this.embed(OPByteStream),bQr),this,Iit,"webm",lQr,Hv.prototype)}set captions(e){this.captions.$set(e,this,Fit,"captions")}get captions(){return this.captions.$get(this,Fit,"captions")}get captions(){return this[aQr]||y((gQr=this.embed(Captions),gQr),this,Fit,"captions",aQr,Hv.prototype)}get legacy(){return this.id.includes("0fogpubg")}get url(){let e=globalThis.safari?".m4a":"";return this.legacy?"/v1/cdn/"+this.oid.replace(/g/g,"-")+".webm"+e:"/legacy/files/"+this.id+".webm"}get cc(){var e,t;return((t=(e=this.captions)==null?void 0:e.parts)==null?void 0:t.length)>0}async ensureExists(){if(this.legacy&&!this.webm.handle.exists)return await this.webm.handle.loadFromUrl(this.url)}set transcribe(e){this.transcribe.$set(e,this,Hit,"transcribe")}get transcribe(){return this.transcribe.$get(this,Hit,"transcribe")}get transcribe(){return this[uQr]||y((SU=this.action(),p(SU.rpc,Function)?SU.rpc():SU.rpc=!0,SU.callback=!1,SU),this,Hit,"transcribe",uQr,Hv.prototype)}};Hv.alias="at",E(Hv,Mfn,"AudioTrack",0);var Zit=Hv;globalThis.AudioTrack=Zit;var Lfn=Symbol(),o5=class o5 extends OPObject{set scrim(e){this.scrim.$set(e,this,Bit,"scrim")}get scrim(){return this.scrim.$get(this,Bit,"scrim")}get scrim(){return this[cQr]||y((kQr=this.ref(Scrim),kQr),this,Bit,"scrim",cQr,o5.prototype)}set audio(e){this.audio.$set(e,this,Vit,"audio")}get audio(){return this.audio.$get(this,Vit,"audio")}get audio(){return this[hQr]||y((_Qr=this.ref(OPAudio),_Qr),this,Vit,"audio",hQr,o5.prototype)}set captions(e){this.captions.$set(e,this,zit,"captions")}get captions(){return this.captions.$get(this,zit,"captions")}get captions(){return this[pQr]||y((jG=this.embed(Captions),p(jG.w,Function)?jG.w(ADMIN):jG.w=ADMIN,jG),this,zit,"captions",pQr,o5.prototype)}get url(){return this.audio.url}set transcribe(e){this.transcribe.$set(e,this,qit,"transcribe")}get transcribe(){return this.transcribe.$get(this,qit,"transcribe")}get transcribe(){return this[dQr]||y((hg=this.action(),p(hg.g,Function)?hg.g(800):hg.g=800,p(hg.rpc,Function)?hg.rpc():hg.rpc=!0,hg.callback=!1,hg),this,qit,"transcribe",dQr,o5.prototype)}opownpage(){var g,x,k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;if(this.captions.w){r=o=1,(e=t[n0e])||(r=o=0,e=t[n0e]=e=R("op",null,"dj-af",null)),r||(e[jQr]=t._),r||((g=e[Tfn])==null||g.call(e,t,n0e)),n=e[Ofn]("__",e),i=e[xQr]||(e[xQr]={options:[null]}),s=this,s===i.options[0]||(i.options[0]=s,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(x=i[AQr])==null||x.call(i)),(a=e[vQr])||(e[vQr]=a=w("div",n,"dj-ag",null)),(u=e[wQr])||(e[wQr]=u=Jt(256,a)),c=0,h=u.$;for(let _=0,S=B(this.captions.parts),v=S.length;_<v;_++){let C=S[_];f=m=1,(d=h[c])||(f=m=0,h[c]=d=w("span",u,"dj_ag",null)),f||(d[jQr]=u),$=d[SQr]||(d[SQr]={options:[null]}),b=C,b===$.options[0]||($.options[0]=b,m|=48),f||d.on$("opmenu",$,this),m&32&&(m^=32,(k=$[AQr])==null||k.call($)),b=C.body,b===d[EQr]&&f||(d[CQr]=d[Rfn](d[EQr]=b,384,d[CQr])),c++}return u[UQr](c),r||t.sym||!e.setup||e.setup(o,t,n0e),t.sym||e[UQr](o),e}}};o5.alias="sat",E(o5,Lfn,"ScrimAudioTrack",0);var Git=o5;globalThis.ScrimAudioTrack=Git;T();oe();$e();var Yit=Symbol("blob_id"),TQr=Symbol(),Xit=Symbol("asset"),OQr=Symbol(),Kit=Symbol("override"),RQr=Symbol(),Jit=Symbol("clear"),MQr=Symbol(),Qit=Symbol("override_asset"),LQr=Symbol(),n5,DQr,NQr,pg,CU,i0e=Symbol(),UG=Symbol(),Dfn=Symbol(),Nfn=Symbol.for("##up"),Ifn=Symbol.for("##register"),Ffn=Symbol.for("#getSlot"),Hfn=Symbol.for("#getRenderContext"),Bfn=Symbol.for("#isRichElement"),IQr=Symbol.for("#afterVisit"),Vfn=Symbol.for("#appendChild"),zfn=Symbol.for("#replaceChild"),qfn=Symbol(),dg=class dg extends OPObject{set blob_id(e){this.blob_id.$set(e,this,Yit,"blob_id")}get blob_id(){return this.blob_id.$get(this,Yit,"blob_id")}get blob_id(){return this[TQr]||y((n5=this.string(),p(n5.composite,Function)?n5.composite():n5.composite=!0,p(n5.unique,Function)?n5.unique():n5.unique=!0,n5),this,Yit,"blob_id",TQr,dg.prototype)}set asset(e){this.asset.$set(e,this,Xit,"asset")}get asset(){return this.asset.$get(this,Xit,"asset")}get asset(){return this[OQr]||y((DQr=this.ref(OPAsset),DQr),this,Xit,"asset",OQr,dg.prototype)}set override(e){this.override.$set(e,this,Kit,"override")}get override(){return this.override.$get(this,Kit,"override")}get override(){return this[RQr]||y((NQr=this.ref(OPAsset),NQr),this,Kit,"override",RQr,dg.prototype)}get served_asset(){return this.override||this.asset}get asurl(){return"/blobs/"+this.blob_id}get origin_url(){return"https://v1.scrimba.com/blobs/"+this.blob_id}get mime(){return this.blob_id.split(/[\:\.]/g)[2]}async load(e){return await this,this.saved||await this.save(),this.asset;if(this.asset&&!e)return this.asset;let t=OP.fs.open(this.blob_id);if(t.exists&&!e)this.asset=await OPAsset.from(t.path);else{let r=await globalThis.fetch(this.origin_url),o=Buffer.from(await r.arrayBuffer());this.asset=await OPAsset.from(o)}return await this.asset.save(),await this.save(),this.asset}set clear(e){this.clear.$set(e,this,Jit,"clear")}get clear(){return this.clear.$get(this,Jit,"clear")}get clear(){return this[MQr]||y((pg=this.action(),p(pg.x,Function)?pg.x(ADMIN|TEACHER):pg.x=ADMIN|TEACHER,p(pg.if,Function)?pg.if(function(){return this.override}):pg.if=function(){return this.override},pg.callback=async function(){return this.override=null,await this.save(),await APP.purgecloudflarecache(this,{toast:!1}),OP.toast("Reverted to original asset")},pg),this,Jit,"clear",MQr,dg.prototype)}set override_asset(e){this.override_asset.$set(e,this,Qit,"override_asset")}get override_asset(){return this.override_asset.$get(this,Qit,"override_asset")}get override_asset(){return this[LQr]||y((CU=this.action(OPString),p(CU.x,Function)?CU.x(ADMIN|TEACHER):CU.x=ADMIN|TEACHER,CU.callback=async function(e){let t=await OP.get(e);if(!(p(t,OPAsset)&&t.resolved)){OP.toast("Please provide a valid OPAsset",{kind:"error"});return}return await this.update({override:t}),await APP.purgecloudflarecache(this,{toast:!1}),this},CU),this,Qit,"override_asset",LQr,dg.prototype)}opowntip(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[i0e])||(r=o=0,e=t[i0e]=e=R("op",null,null,null)),r||(e[Nfn]=t._),r||((h=e[Ifn])==null||h.call(e,t,i0e)),n=e[Ffn]("__",e),r||(i=w("h2",n,null,"Overridden Slide")),s=e[Hfn](Dfn),u=c=1,(a=s.run(this.obuttonif(this.clear)))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[Bfn]&&(u||!a.setup||a.setup(c,s),a[IQr](c)),a==e[UG]||!e[UG]&&n[Vfn](e[UG]=a)||(n[zfn](a,e[UG]),e[UG]=a),r||t.sym||!e.setup||e.setup(o,t,i0e),t.sym||e[IQr](o),e}};dg.alias="lb",E(dg,qfn,"LegacyBlob",0);var est=dg;globalThis.LegacyBlob=est;T();oe();ge(),un(),Bl(),dt(),$e();var tst=Symbol("url"),FQr=Symbol(),rst=Symbol("id"),HQr=Symbol(),ost=Symbol("hub"),BQr=Symbol(),nst=Symbol("creator"),VQr=Symbol(),ist=Symbol("session"),zQr=Symbol(),sst=Symbol("server"),qQr=Symbol(),lst=Symbol("site"),WQr=Symbol(),ast=Symbol("title"),ZQr=Symbol(),ust=Symbol("body"),GQr=Symbol(),cst=Symbol("url"),YQr=Symbol(),hst=Symbol("uad"),XQr=Symbol(),pst=Symbol("exercise"),KQr=Symbol(),dst=Symbol("exercise_snapshot"),JQr=Symbol(),fst=Symbol("alert"),QQr=Symbol(),mst=Symbol("pro"),eeo=Symbol(),$st=Symbol("category"),teo=Symbol(),yst=Symbol("status"),reo=Symbol(),bst=Symbol("activity"),oeo=Symbol(),gst=Symbol("comments"),neo=Symbol(),kst=Symbol("logs"),ieo=Symbol(),_st=Symbol("title-for-ticket"),seo=Symbol(),xst=Symbol("mark-as-seen"),leo=Symbol(),vst=Symbol("open-user-in-new-tab"),aeo=Symbol(),wst=Symbol("unread"),ueo=Symbol(),Sst=Symbol("updated"),ceo=Symbol(),Cst=Symbol("unseen"),heo=Symbol(),Est=Symbol("unanswered"),peo=Symbol(),jst=Symbol("last_activity"),deo=Symbol(),Ast=Symbol("my_activity"),feo=Symbol(),Ust=Symbol("unread_with_my_activity"),meo=Symbol(),Pst=Symbol("body-title"),$eo=Symbol(),Tst=Symbol("open?"),yeo=Symbol(),Ost=Symbol("new_comment"),beo=Symbol(),Rst=Symbol("notify_users"),geo=Symbol(),Mst=Symbol("submit_new_comment"),keo=Symbol(),Lst=Symbol("id"),_eo=Symbol(),Dst=Symbol("creator"),xeo=Symbol(),Nst=Symbol("ticket"),veo=Symbol(),Ist=Symbol("body"),weo=Symbol(),Fst=Symbol("seats"),Seo=Symbol(),Hst=Symbol("company"),Ceo=Symbol(),Bst=Symbol("comment"),Eeo=Symbol(),Vst=Symbol("email"),jeo=Symbol(),zst=Symbol("submit"),Aeo=Symbol(),qst=Symbol("submit_teams"),Ueo=Symbol(),Wst=Symbol("record-a-screencast"),Peo=Symbol(),Zst,PG,Gst,el,Yst,EU,Xst,i5,$0,jU,Teo,Oeo,Reo,AU,fg,y0,wc,TG,s5,mg,$g,yg,UU,PU,bg,Kst,TU,Wfn=le("!&.by-creator?",globalThis,l=>!l.bycreator),Jst,gg,Zfn=le("&.mine?",globalThis,l=>l.mine),OU,Qst,RU,s0e=Symbol(),Meo=Symbol(),l0e=Symbol(),Leo=Symbol(),Deo=Symbol(),Gfn=Symbol(),Yfn=le("&._cre",globalThis,l=>l._cre),a0e=Symbol(),OG=Symbol(),Xfn=Symbol(),RG=Symbol(),Kfn=Symbol(),elt=Symbol(),u0e=Symbol(),Neo=Symbol(),l5,MU;var LU,c0e=Symbol(),DU=Symbol(),Jfn=Symbol(),Ieo=Symbol(),Feo=Symbol(),Heo=Symbol(),Beo=Symbol(),h0e=Symbol(),Veo=Symbol(),zeo=Symbol(),qeo=Symbol(),Weo=Symbol(),p0e=Symbol(),Zeo=Symbol();var tlt=Symbol(),Geo=Symbol(),Yeo=Symbol(),Xeo=Symbol(),MG=Symbol(),Qfn=Symbol(),Keo=Symbol(),Jeo=Symbol(),Qeo=Symbol(),eto=Symbol(),tto=Symbol(),d0e=Symbol(),rto=Symbol(),oto=Symbol();var rlt=Symbol();var olt=Symbol(),nto=Symbol(),ito=Symbol(),sto=Symbol(),NU=Symbol(),e2n=Symbol(),lto=Symbol(),IU=Symbol(),t2n=Symbol();var nlt=Symbol(),ato=Symbol(),uto=Symbol(),cto=Symbol(),hto=Symbol(),pto=Symbol(),dto=Symbol();var ilt=Symbol(),LG=Symbol(),r2n=Symbol(),fto=Symbol(),mto=Symbol(),DG=Symbol(),o2n=Symbol(),$to=Symbol(),FU=Symbol(),n2n=Symbol();var i2n=Symbol(),yto=Symbol();var s2n=Symbol(),bto=Symbol(),NG=Symbol(),l2n=Symbol(),IG=Symbol(),a2n=Symbol(),HU=Symbol(),u2n=Symbol(),f0e=Symbol(),FG=Symbol(),c2n=Symbol(),HG=Symbol(),h2n=Symbol(),BG=Symbol(),p2n=Symbol(),BU=Symbol(),d2n=Symbol(),VG=Symbol(),f2n=Symbol(),zG=Symbol(),m2n=Symbol(),qG=Symbol(),$2n=Symbol();var y2n=Symbol(),gto=Symbol(),WG=Symbol(),b2n=Symbol(),b0,qp,ZG,a5,m0e=Symbol(),kto=Symbol(),_to=Symbol(),xto=Symbol(),vto=Symbol(),$0e=Symbol(),GG=Symbol(),g2n=Symbol(),y0e=Symbol(),wto=Symbol(),Sto=Symbol(),b0e=Symbol(),Cto=Symbol();var slt=Symbol(),Eto=Symbol(),jto=Symbol(),Ato=Symbol(),VU=Symbol(),k2n=Symbol(),YG=Symbol(),_2n=Symbol(),Uto=Symbol(),Pto=Symbol(),Tto=Symbol(),Oto=Symbol(),Rto=Symbol(),XG,KG,JG,QG,zU,Wp,llt,Mto=Symbol(),Lto=Symbol(),Dto=Symbol(),x2n=Symbol(),v2n=Symbol(),Nto=Symbol(),qU=Symbol(),w2n=Symbol(),S2n=Symbol(),C2n=Symbol(),E2n=Symbol(),j2n=Symbol(),Ito=Symbol(),WU=Symbol(),A2n=Symbol(),ZU=Symbol(),U2n=Symbol(),GU=Symbol(),P2n=Symbol(),YU=Symbol(),T2n=Symbol(),XU=Symbol(),O2n=Symbol(),Fto=Symbol(),Hto=Symbol(),Bto=Symbol(),R2n=Symbol(),M2n=Symbol(),Vto=Symbol(),KU=Symbol(),L2n=Symbol(),D2n=Symbol(),N2n=Symbol(),I2n=Symbol(),F2n=Symbol(),zto=Symbol(),qto=Symbol(),Wto=Symbol(),Zto=Symbol(),Gto=Symbol(),Yto=Symbol(),jo=Symbol.for("##up"),Cc=Symbol.for("##register"),zt=Symbol.for("#afterVisit"),k0=Symbol.for("#getSlot"),H2n=Symbol.for("#getDynamicContext"),Hr=Symbol.for("#isRichElement"),zr=Symbol.for("#getRenderContext"),Pl=Symbol.for("#appendChild"),Sc=Symbol.for("#replaceChild"),Pi=Symbol.for("#placeChild"),la=Symbol.for("#insertInto"),aa=Symbol.for("#replaceWith"),JU=Symbol.for("#visit"),B2n=Symbol.for("#beforeReconcile"),V2n=Symbol.for("#afterReconcile"),z2n=Symbol(),v0e=class v0e extends OPEmbed{set url(e){this.url.$set(e,this,tst,"url")}get url(){return this.url.$get(this,tst,"url")}get url(){return this[FQr]||y((Zst=this.url(),Zst.default=function(){var e;return(e=APP.url)==null?void 0:e.path},Zst),this,tst,"url",FQr,v0e.prototype)}};E(v0e,z2n,"TicketContext",0);var alt=v0e;globalThis.TicketContext=alt;var q2n=Symbol(),ult=class ult extends OPEmbed{};E(ult,q2n,"TicketActivity",0);var _0e=ult;globalThis.TicketActivity=_0e;var g0e=Symbol(),eo=class eo extends Qe(g0e,OPObject,Linkable,LinearItem,Notifiable,Starrable){constructor(){super(...arguments),super[A]||this[A](),re(this,g0e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[g0e])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,rst,"id")}get id(){return this.id.$get(this,rst,"id")}get id(){return this[HQr]||y((PG=this.key(),p(PG.rw,Function)?PG.rw(OWNER|ADMIN):PG.rw=OWNER|ADMIN,PG),this,rst,"id",HQr,eo.prototype)}set hub(e){this.hub.$set(e,this,ost,"hub")}get hub(){return this.hub.$get(this,ost,"hub")}get hub(){return this[BQr]||y((Gst=this.ref(Org),Gst.default=function(){return Org.get(1)},Gst),this,ost,"hub",BQr,eo.prototype)}set creator(e){this.creator.$set(e,this,nst,"creator")}get creator(){return this.creator.$get(this,nst,"creator")}get creator(){return this[VQr]||y((el=this.ref(OPAgent),p(el.parent,Function)?el.parent():el.parent=!0,p(el.as,Function)?el.as(OWNER):el.as=OWNER,p(el.stat,Function)?el.stat(1):el.stat=1,p(el.s,Function)?el.s():el.s=!0,p(el.lazy,Function)?el.lazy():el.lazy=!0,el.default=function(){return OP.pov},el),this,nst,"creator",VQr,eo.prototype)}set session(e){this.session.$set(e,this,ist,"session")}get session(){return this.session.$get(this,ist,"session")}get session(){return this[zQr]||y((Yst=this.ref(OPSession),Yst.default=function(){return OP.session},Yst),this,ist,"session",zQr,eo.prototype)}set server(e){this.server.$set(e,this,sst,"server")}get server(){return this.server.$get(this,sst,"server")}get server(){return this[qQr]||y((EU=this.ref(OPServer),p(EU.lazy,Function)?EU.lazy():EU.lazy=!0,EU.default=function(){return OP.server},EU),this,sst,"server",qQr,eo.prototype)}set site(e){this.site.$set(e,this,lst,"site")}get site(){return this.site.$get(this,lst,"site")}get site(){return this[WQr]||y((Xst=this.string(),Xst.default=function(){return"scrimba.com"},Xst),this,lst,"site",WQr,eo.prototype)}set title(e){this.title.$set(e,this,ast,"title")}get title(){return this.title.$get(this,ast,"title")}get title(){return this[ZQr]||y((i5=this.string(),p(i5.editable,Function)?i5.editable():i5.editable=!0,p(i5.s,Function)?i5.s():i5.s=!0,i5),this,ast,"title",ZQr,eo.prototype)}set body(e){this.body.$set(e,this,ust,"body")}get body(){return this.body.$get(this,ust,"body")}get body(){return this[GQr]||y(($0=this.text(),p($0.editable,Function)?$0.editable():$0.editable=!0,p($0.label,Function)?$0.label("Description"):$0.label="Description",p($0.md,Function)?$0.md():$0.md=!0,$0),this,ust,"body",GQr,eo.prototype)}set url(e){this.url.$set(e,this,cst,"url")}get url(){return this.url.$get(this,cst,"url")}get url(){return this[YQr]||y((jU=this.url(),p(jU.stat,Function)?jU.stat(600.5):jU.stat=600.5,jU.default=function(){var e;return(e=APP.url)==null?void 0:e.path},jU),this,cst,"url",YQr,eo.prototype)}set uad(e){this.uad.$set(e,this,hst,"uad")}get uad(){return this.uad.$get(this,hst,"uad")}get uad(){return this[XQr]||y((Teo=this.embed(OPUserAgent),Teo),this,hst,"uad",XQr,eo.prototype)}set exercise(e){this.exercise.$set(e,this,pst,"exercise")}get exercise(){return this.exercise.$get(this,pst,"exercise")}get exercise(){return this[KQr]||y((Oeo=this.ref(ScrimPractice),Oeo),this,pst,"exercise",KQr,eo.prototype)}set exercise_snapshot(e){this.exercise_snapshot.$set(e,this,dst,"exercise_snapshot")}get exercise_snapshot(){return this.exercise_snapshot.$get(this,dst,"exercise_snapshot")}get exercise_snapshot(){return this[JQr]||y((Reo=this.embed(ExerciseSnapshot),Reo),this,dst,"exercise_snapshot",JQr,eo.prototype)}set alert(e){this.alert.$set(e,this,fst,"alert")}get alert(){return this.alert.$get(this,fst,"alert")}get alert(){return this[QQr]||y((AU=this.action(),p(AU.rpc,Function)?AU.rpc():AU.rpc=!0,AU.callback=!1,AU),this,fst,"alert",QQr,eo.prototype)}set pro(e){this.pro.$set(e,this,mst,"pro")}get pro(){return this.pro.$get(this,mst,"pro")}get pro(){return this[eeo]||y((fg=this.get(),p(fg.f,Function)?fg.f():fg.f=!0,p(fg.stat,Function)?fg.stat():fg.stat=!0,fg.callback=function(){var e,t;return!!((t=(e=this.creator)==null?void 0:e.features)!=null&&t.pro)},fg),this,mst,"pro",eeo,eo.prototype)}set category(e){this.category.$set(e,this,$st,"category")}get category(){return this.category.$get(this,$st,"category")}get category(){return this[teo]||y((y0=this.enum({other:{default:!0},bug:{icon:_f},account:{},subscriptions_and_payments:{},cancel:{},lesson:{},website:{},ide:{},player:{},editor:{},checkout:{alert:"support",title:"Issue with checkout:"},teams:{alert:"sales",title:"New team request:"},ai_exercise_feedback:{}}),p(y0.g,Function)?y0.g(501):y0.g=501,p(y0.stat,Function)?y0.stat(101):y0.stat=101,p(y0.f,Function)?y0.f():y0.f=!0,y0),this,$st,"category",teo,eo.prototype)}set status(e){this.status.$set(e,this,yst,"status")}get status(){return this.status.$get(this,yst,"status")}get status(){return this[reo]||y((wc=this.enum({new:{default:!0,hue:"blue"},todo:{hue:"blue"},in_progress:{hue:"yellow"},done:{hue:"green"},canceled:{hue:"gray"}}),p(wc.w,Function)?wc.w(ADMIN):wc.w=ADMIN,p(wc.f,Function)?wc.f():wc.f=!0,p(wc.g,Function)?wc.g(500):wc.g=500,p(wc.stat,Function)?wc.stat(100):wc.stat=100,wc),this,yst,"status",reo,eo.prototype)}set activity(e){this.activity.$set(e,this,bst,"activity")}get activity(){return this.activity.$get(this,bst,"activity")}get activity(){return this[oeo]||y((TG=this.embed(_0e),p(TG.tab,Function)?TG.tab():TG.tab=!0,TG),this,bst,"activity",oeo,eo.prototype)}set comments(e){this.comments.$set(e,this,gst,"comments")}get comments(){return this.comments.$get(this,gst,"comments")}get comments(){return this[neo]||y((s5=this.children(QU),p(s5.r,Function)?s5.r(OWNER|ADMIN):s5.r=OWNER|ADMIN,p(s5.stat,Function)?s5.stat(500):s5.stat=500,s5),this,gst,"comments",neo,eo.prototype)}set logs(e){this.logs.$set(e,this,kst,"logs")}get logs(){return this.logs.$get(this,kst,"logs")}get logs(){return this[ieo]||y((mg=this.coll({layout:"list"}),p(mg.tab,Function)?mg.tab():mg.tab=!0,p(mg.r,Function)?mg.r(ADMIN):mg.r=ADMIN,mg.callback=function(){return this.creator.logs},mg),this,kst,"logs",ieo,eo.prototype)}set titleforticket(e){this.titleforticket.$set(e,this,_st,"titleforticket")}get titleforticket(){return this.titleforticket.$get(this,_st,"titleforticket")}get titleforticket(){return this[seo]||y(($g=this.action(),p($g.rx,Function)?$g.rx(ADMIN):$g.rx=ADMIN,p($g.rpc,Function)?$g.rpc():$g.rpc=!0,$g.callback=!1,$g),this,_st,"titleforticket",seo,eo.prototype)}get users(){let e=new Set([this.creator]);for(let t of B(this.comments))e.add(t.creator);return e}set markasseen(e){this.markasseen.$set(e,this,xst,"markasseen")}get markasseen(){return this.markasseen.$get(this,xst,"markasseen")}get markasseen(){return this[leo]||y((yg=this.action(),p(yg.pov,Function)?yg.pov():yg.pov=!0,p(yg.g,Function)?yg.g(800):yg.g=800,yg.callback=async function(){if(!this.seen||this.updated>this.seen)return await this.update({seen:!0})},yg),this,xst,"markasseen",leo,eo.prototype)}set openuserinnewtab(e){this.openuserinnewtab.$set(e,this,vst,"openuserinnewtab")}get openuserinnewtab(){return this.openuserinnewtab.$get(this,vst,"openuserinnewtab")}get openuserinnewtab(){return this[aeo]||y((UU=this.action(),p(UU.g,Function)?UU.g(.1):UU.g=.1,UU.callback=function(){return APP.url.open(this.creator,{metaKey:!0})},UU),this,vst,"openuserinnewtab",aeo,eo.prototype)}set unread(e){this.unread.$set(e,this,wst,"unread")}get unread(){return this.unread.$get(this,wst,"unread")}get unread(){return this[ueo]||y((PU=this.get(),p(PU.f,Function)?PU.f():PU.f=!0,PU.callback=function(){return this.unseen},PU),this,wst,"unread",ueo,eo.prototype)}set updated(e){this.updated.$set(e,this,Sst,"updated")}get updated(){return this.updated.$get(this,Sst,"updated")}get updated(){return this[ceo]||y((bg=this.memo(),p(bg.order,Function)?bg.order("desc"):bg.order="desc",p(bg.pov,Function)?bg.pov():bg.pov=!0,bg.callback=function(){let e=this._cre;for(let t=0,r=B(this.$children),o=r.length;t<o;t++){let n=r[t];p(n,QU)&&!n.mine&&n._cre>e&&(e=n._cre)}return e},bg),this,Sst,"updated",ceo,eo.prototype)}set unseen(e){this.unseen.$set(e,this,Cst,"unseen")}get unseen(){return this.unseen.$get(this,Cst,"unseen")}get unseen(){return this[heo]||y((Kst=this.memo(),Kst.callback=function(){let e=this.seen,t=APP.seen_all_tickets;return!e&&this.mine&&(e=this._cre),t&&t>e&&(e=t),!e||this.updated>e},Kst),this,Cst,"unseen",heo,eo.prototype)}set unanswered(e){this.unanswered.$set(e,this,Est,"unanswered")}get unanswered(){return this.unanswered.$get(this,Est,"unanswered")}get unanswered(){return this[peo]||y((TU=this.memo(),p(TU.f,Function)?TU.f():TU.f=!0,TU.callback=function(){return!this.$children.only(Wfn).any},TU),this,Est,"unanswered",peo,eo.prototype)}set last_activity(e){this.last_activity.$set(e,this,jst,"last_activity")}get last_activity(){return this.last_activity.$get(this,jst,"last_activity")}get last_activity(){return this[deo]||y((Jst=this.memo(),Jst.callback=function(){return this.$children.desc("_cre").at(0)||this},Jst),this,jst,"last_activity",deo,eo.prototype)}set my_activity(e){this.my_activity.$set(e,this,Ast,"my_activity")}get my_activity(){return this.my_activity.$get(this,Ast,"my_activity")}get my_activity(){return this[feo]||y((gg=this.memo(),p(gg.pov,Function)?gg.pov():gg.pov=!0,p(gg.f,Function)?gg.f():gg.f=!0,gg.callback=function(){return this.mine||this.$children.only(Zfn).any},gg),this,Ast,"my_activity",feo,eo.prototype)}set unread_with_my_activity(e){this.unread_with_my_activity.$set(e,this,Ust,"unread_with_my_activity")}get unread_with_my_activity(){return this.unread_with_my_activity.$get(this,Ust,"unread_with_my_activity")}get unread_with_my_activity(){return this[meo]||y((OU=this.memo(),p(OU.f,Function)?OU.f():OU.f=!0,OU.callback=function(){return this.my_activity&&this.unseen},OU),this,Ust,"unread_with_my_activity",meo,eo.prototype)}set bodytitle(e){this.bodytitle.$set(e,this,Pst,"bodytitle")}get bodytitle(){return this.bodytitle.$get(this,Pst,"bodytitle")}get bodytitle(){return this[$eo]||y((Qst=this.memo(),Qst.callback=function(){return(this.body||"").trim().split(`
`)[0]},Qst),this,Pst,"bodytitle",$eo,eo.prototype)}set open(e){this.open.$set(e,this,Tst,"open")}get open(){return this.open.$get(this,Tst,"open")}get open(){return this[yeo]||y((RU=this.memo(),p(RU.f,Function)?RU.f():RU.f=!0,RU.callback=function(){var e;return!(Ye(e=String(this.status),"done")||Ye(e,"canceled"))},RU),this,Tst,"open",yeo,eo.prototype)}opcreatortip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[s0e])||(r=o=0,e=t[s0e]=e=R("op-stats",null,null,null)),r||(e[jo]=t._),r||((i=e[Cc])==null||i.call(e,t,s0e)),n=this.uad,n===e[Meo]||(e.data=e[Meo]=n),r||t.sym||!e.setup||e.setup(o,t,s0e),t.sym||e[zt](o),e}get mine(){return this.creator==ME}get asurl(){return"/"+this.id}get asicon(){return"ticket"}get aslabel(){var e,t,r,o;return this.title||this.bodytitle}get aslineartitle(){return this.body.slice(0,80)}get aslinearbody(){var e,t,r,o;return""+this.body+`

## Details
ticket: `+this.ashref+`
agent: [`+((e=this.creator)==null?void 0:e.aslabel)+"]("+((t=this.creator)==null?void 0:t.ashref)+`)
session: [`+((r=this.session)==null?void 0:r.aslabel)+"]("+((o=this.session)==null?void 0:o.ashref)+`)
url: `+this.url+`
`}opactivitybody(){var $;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;r=o=1,(e=t[l0e])||(r=o=0,e=t[l0e]=e=R("op",null,"sx-ag",null)),r||(e[jo]=t._),r||(($=e[Cc])==null||$.call(e,t,l0e)),n=e[k0]("__",e),(i=e[Leo])||(e[Leo]=i=w("div",n,"sx-ah",null)),(s=e[Deo])||(e[Deo]=s=wt(384,i)),a=0,u=s.$;for(let b=0,g=B(this.comments.asc(Yfn)),x=g.length;b<x;b++){let k=g[b];d=f=1,(h=(c=u[H2n](Gfn,a)).run(this.oel(k,"entry")))||(d=f=0,c.cache(h=M(c.value,s,null,null))),d||(h[jo]=s),h[Hr]&&(d||!h.setup||h.setup(f,c),h[zt](f)),s.push(h,a++,m)}return s[zt](a),r||t.sym||!e.setup||e.setup(o,t,l0e),t.sym||e[zt](o),e}opownpagefoot(){var $;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;return t.this=this,o=n=1,(r=t[a0e])||(o=n=0,r=t[a0e]=r=R("op",null,"sx-aj glassy",null)),o||(r[jo]=t._),o||(($=r[Cc])==null||$.call(r,t,a0e)),i=r[k0]("__",r),s=r[zr](Xfn),u=c=1,(a=s.run(this.ofield(this.$.new_comment)))||(u=c=0,s.cache(a=M(s.value,i,null,null))),a[Hr]&&(u||a.on$("keydown",{enter:!0,$_:[function(b,g){return b.metaKey&&t.this.submit_new_comment()}]},this),u||!a.setup||a.setup(c,s),a[zt](c)),a==r[OG]||!r[OG]&&i[Pl](r[OG]=a)||(i[Sc](a,r[OG]),r[OG]=a),h=r[zr](Kfn),f=m=1,(d=h.run(this.ofield(this.submit_new_comment)))||(f=m=0,h.cache(d=M(h.value,i,null,null))),d[Hr]&&(f||!d.setup||d.setup(m,h),d[zt](m)),d==r[RG]||!r[RG]&&i[Pl](r[RG]=d)||(i[Sc](d,r[RG]),r[RG]=d),o||t.sym||!r.setup||r.setup(n,t,a0e),t.sym||r[zt](n),r}opowndialog(){var c,h;var e,t,r=H(),o,n,i,s,a,u;return this.saved?(e=r[zr](elt),o=n=1,(t=e.run(this.opage(this)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[jo]=r._),o||((c=t[Cc])==null||c.call(t,r,elt)),t[Hr]&&(o||r.sym||!t.setup||t.setup(n,r,elt),r.sym||t[zt](n)),t):(s=a=1,(i=r[u0e])||(s=a=0,i=r[u0e]=i=R("op-ticket-dialog",null,null,null)),s||(i[jo]=r._),s||((h=i[Cc])==null||h.call(i,r,u0e)),u=this,u===i[Neo]||(i.data=i[Neo]=u),s||r.sym||!i.setup||i.setup(a,r,u0e),r.sym||i[zt](a),i)}set new_comment(e){this.new_comment.$set(e,this,Ost,"new_comment")}get new_comment(){return this.new_comment.$get(this,Ost,"new_comment")}get new_comment(){return this[beo]||y((l5=this.text(),p(l5.local,Function)?l5.local():l5.local=!0,p(l5.md,Function)?l5.md():l5.md=!0,l5),this,Ost,"new_comment",beo,eo.prototype)}set notify_users(e){this.notify_users.$set(e,this,Rst,"notify_users")}get notify_users(){return this.notify_users.$get(this,Rst,"notify_users")}get notify_users(){return this[geo]||y((MU=this.action(),p(MU.rpc,Function)?MU.rpc():MU.rpc=!0,MU.callback=!1,MU),this,Rst,"notify_users",geo,eo.prototype)}set submit_new_comment(e){this.submit_new_comment.$set(e,this,Mst,"submit_new_comment")}get submit_new_comment(){return this.submit_new_comment.$get(this,Mst,"submit_new_comment")}get submit_new_comment(){return this[keo]||y((LU=this.action(),p(LU.if,Function)?LU.if(function(){return this.new_comment}):LU.if=function(){return this.new_comment},LU.callback=async function(){let e=await QU.create({body:this.new_comment,ticket:this});return ME.admin&&this.status=="new"&&e.creator!=this.creator&&(this.status="in_progress"),this.notify_users(ME,e),this.new_comment=""},LU),this,Mst,"submit_new_comment",keo,eo.prototype)}opownpagehead(){var k;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;return t.this=this,o=n=1,(r=t[c0e])||(o=n=0,r=t[c0e]=r=w("div",null,"sx-av",null)),o||(r[jo]=t._),o||((k=r[Cc])==null||k.call(r,t,c0e)),i=r[zr](Jfn),a=u=1,(s=i.run(this.oli(this,{event:this,header:!0})))||(a=u=0,i.cache(s=M(i.value,r,"sx-aw inline header",null))),s[Hr]&&((!a||u&2)&&s.flags.reconcile(DU,"sx-aw inline header"),a||!s.setup||s.setup(u,i),s[zt](u)),s==r[DU]||!r[DU]&&(r[DU]=s)[la](r)||r[DU][aa](r[DU]=s,r),h=d=1,(c=r[Ieo])||(h=d=0,r[Ieo]=c=R("op-timeout",r,null,null)),f=10,f===r[Feo]||(c.timeout=r[Feo]=f),h||c.on$("step",{$_:[function(_,S){return t.this.markvisited(_)}]},this),h||!c.setup||c.setup(d,m),c[zt](d),h||r[Pl](c),b=g=1,($=r[Heo])||(b=g=0,r[Heo]=$=w("article",r,"sx-ay lg",null)),x=this.body,x===r[Beo]||($.md=r[Beo]=x),o||t.sym||!r.setup||r.setup(n,t,c0e),t.sym||r[zt](n),r}opowneventlabel(){var s,a;var e,t=H(),r,o,n,i;return r=o=1,(e=t[h0e])||(r=o=0,e=t[h0e]=e=R("op",null,null,null)),r||(e[jo]=t._),r||((s=e[Cc])==null||s.call(e,t,h0e)),n=e[k0]("__",e),i=(a=this.creator)==null?void 0:a.aspovlabel,i===e[zeo]&&r||(e[Veo]=n[Pi](e[zeo]=i,128,e[Veo])),r||n[Pi](" opened "),i=this._cre.ago,i===e[Weo]&&r||(e[qeo]=n[Pi](e[Weo]=i,256,e[qeo])),r||t.sym||!e.setup||e.setup(o,t,h0e),t.sym||e[zt](o),e}opownactivityentry(){var L,I,F;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return t.this=this,o=n=1,(r=t[p0e])||(o=n=0,r=t[p0e]=r=R("op",null,null,null)),o||(r[jo]=t._),o||((L=r[Cc])==null||L.call(r,t,p0e)),i=r[k0]("__",r),s=this,s===r[Zeo]||(r.data=r[Zeo]=s),o||r.on$("intersect",{in:!0,$_:[function(N,V){return t.this.markasseen(N)}]},this),s=this.unseen||void 0,s===r[tlt]||(n|=2,r[tlt]=s),n&2&&r.flag$(r[tlt]?"unseen":""),u=c=1,(a=r[Geo])||(u=c=0,r[Geo]=a=w("article",i,"sx-bb",null)),h=r[Yeo]||(r[Yeo]={options:[null]}),d=this,d===h.options[0]||(h.options[0]=d,c|=48),u||a.on$("opmenu",h,this),c&32&&(c^=32,(I=h[JU])==null||I.call(h)),m=$=1,(f=r[Xeo])||(m=$=0,r[Xeo]=f=R("op-stats",a,"sx-bc",null)),b=f[k0]("__",f),g=f[zr](Qfn),k=_=1,(x=g.run(this.ostat(this.creator)))||(k=_=0,g.cache(x=M(g.value,b,null,null))),x[Hr]&&(k||!x.setup||x.setup(_,g),x[zt](_)),x==f[MG]||!f[MG]&&b[Pl](f[MG]=x)||(b[Sc](x,f[MG]),f[MG]=x),(S=f[Keo])||(f[Keo]=S=w("span",b,"sx-be",null)),v=(F=this._cre)==null?void 0:F.ago,v===f[Qeo]&&m||(f[Jeo]=S[Pi](f[Qeo]=v,384,f[Jeo])),m||!f.setup||f.setup($,C),f[zt]($),m||a[Pl](f),P=U=1,(j=r[eto])||(P=U=0,r[eto]=j=w("div",a,"sx-bf body",null)),O=this.body,O===r[tto]||(j.md=r[tto]=O),o||t.sym||!r.setup||r.setup(n,t,p0e),t.sym||r[zt](n),r}opownli(e,t=null){var ct,rt,$t,it,tt;var r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft;let Ge=this.unseen,Je=(t==null?void 0:t.event)||this.last_activity;return a=u=1,(i=s[d0e])||(a=u=0,i=s[d0e]=i=w("section",null,"sx-bg xli",null)),a||(i[jo]=s._),a||((ct=i[Cc])==null||ct.call(i,s,d0e)),c=this,c===i[rto]||(i.odata=i[rto]=c),h=i[oto]||(i[oto]={options:[null]}),c=this,c===h.options[0]||(h.options[0]=c,u|=48),a||i.on$("opmenu",h,this),u&32&&(u^=32,(rt=h[JU])==null||rt.call(h)),c=Ge||void 0,c===i[rlt]||(u|=2,i[rlt]=c),c=!Ge||void 0,c===i[olt]||(u|=2,i[olt]=c),h=i[nto]||(i[nto]={if:[null],emit:["open",null]}),h.if[0]=!(t!=null&&t.header),h.emit[1]=this,a||i.on$("click",h,this),u&2&&i.flag$("sx-bg xli "+(i[rlt]?"unseen":"")+" "+(i[olt]?"seen":"")),f=m=1,(d=i[ito])||(f=m=0,i[ito]=d=w("div",i,"sx-bh bullet",null)),$=d[sto]||(d[sto]={if:[null],emit:["open",null]}),$.if[0]=t==null?void 0:t.header,$.emit[1]=this.creator,f||d.on$("click",$,this),b=d[zr](e2n),x=k=1,(g=b.run(this.oicon(Je==null?void 0:Je.creator)))||(x=k=0,b.cache(g=M(b.value,d,"sx-bi",null))),g[Hr]&&(_=g[lto]||(g[lto]={options:[null]}),S=Je==null?void 0:Je.creator,S===_.options[0]||(_.options[0]=S,k|=48),x||g.on$("optip",_,this),k&32&&(k^=32,($t=_[JU])==null||$t.call(_)),(!x||k&2)&&g.flags.reconcile(NU,"sx-bi"),x||!g.setup||g.setup(k,b),g[zt](k)),g==d[NU]||!d[NU]&&(d[NU]=g)[la](d)||d[NU][aa](d[NU]=g,d),v=d[zr](t2n),j=P=1,(C=v.run(this.oicon(this.status)))||(j=P=0,v.cache(C=M(v.value,d,"sx-bj",null))),C[Hr]&&(U=this.status,U===C[nlt]||(P|=2,C[nlt]=U),O=C[ato]||(C[ato]={options:[null]}),U=this.$.status,U===O.options[0]||(O.options[0]=U,P|=48),j||C.on$("opmenu",O,this),P&32&&(P^=32,(it=O[JU])==null||it.call(O)),(!j||P&2)&&C.flags.reconcile(IU,"sx-bj "+(C[nlt]||"")),j||!C.setup||C.setup(P,v),C[zt](P)),C==d[IU]||!d[IU]&&(d[IU]=C)[la](d)||d[IU][aa](d[IU]=C,d),f||!d.setup||d.setup(m,L),d[zt](m),F=N=1,(I=i[uto])||(F=N=0,i[uto]=I=w("section",i,null,null)),(V=I[cto])||(I[cto]=V=w("h2",I,"sx-bl",null)),W=this.aslabel,W===I[pto]&&F||(I[hto]=V[Pi](I[pto]=W,128,I[hto])),F||(z=w("hr",I,null,null)),r=null,Je&&(q=Y=1,(r=I[dto])||(q=Y=0,I[dto]=r=w("span",null,null,null)),q||(r[jo]=I),K=Ge||void 0,K===r[ilt]||(Y|=2,r[ilt]=K),Y&2&&r.flag$(r[ilt]?"sx-bo":""),X=r[zr](r2n),Q=ee=1,(Z=X.run(this.oel(Je,"event-label")))||(Q=ee=0,X.cache(Z=M(X.value,r,null,null))),Z[Hr]&&(te=Z[fto]||(Z[fto]={if:[null],emit:["open",null]}),te.if[0]=t==null?void 0:t.header,te.emit[1]=this.creator,Q||Z.on$("click",te,this),Q||!Z.setup||Z.setup(ee,X),Z[zt](ee)),Z==r[LG]||!r[LG]&&(r[LG]=Z)[la](r)||r[LG][aa](r[LG]=Z,r),q||!r.setup||r.setup(Y,ne),r[zt](Y)),I[mto]=I[Pi](r,0,I[mto]),ie=I[zr](o2n),me=ce=1,(J=ie.run(this.ochip(this.category)))||(me=ce=0,ie.cache(J=M(ie.value,I,null,null))),J[Hr]&&(ye=J[$to]||(J[$to]={options:[null]}),we=this.$.category,we===ye.options[0]||(ye.options[0]=we,ce|=48),me||J.on$("opmenu",ye,this),ce&32&&(ce^=32,(tt=ye[JU])==null||tt.call(ye)),me||!J.setup||J.setup(ce,ie),J[zt](ce)),J==I[DG]||!I[DG]&&(I[DG]=J)[la](I)||I[DG][aa](I[DG]=J,I),ae=I[zr](n2n),_e=Ae=1,(be=ae.run(this.ochip(this.$.comments)))||(_e=Ae=0,ae.cache(be=M(ae.value,I,"compact",null))),be[Hr]&&((!_e||Ae&2)&&be.flags.reconcile(FU,"compact"),_e||!be.setup||be.setup(Ae,ae),be[zt](Ae)),be==I[FU]||!I[FU]&&(I[FU]=be)[la](I)||I[FU][aa](I[FU]=be,I),o=null,ME!=null&&ME.admin&&(ve=I[zr](i2n),Pe=He=1,(o=ve.run(this.ochip(this.uad)))||(Pe=He=0,ve.cache(o=M(ve.value,null,null,null))),Pe||(o[jo]=I),o[Hr]&&(Pe||!o.setup||o.setup(He,ve),o[zt](He))),I[yto]=I[Pi](o,0,I[yto]),n=null,p(this.creator,User)&&(Ue=I[zr](s2n),Be=je=1,(n=Ue.run(this.ochip(this.creator.$.pro)))||(Be=je=0,Ue.cache(n=M(Ue.value,null,null,null))),Be||(n[jo]=I),n[Hr]&&(Be||!n.setup||n.setup(je,Ue),n[zt](je))),I[bto]=I[Pi](n,0,I[bto]),ue=I[zr](l2n),Re=Oe=1,(xe=ue.run(this.oicon(this.$.starred)))||(Re=Oe=0,ue.cache(xe=M(ue.value,I,null,null))),xe[Hr]&&(Re||!xe.setup||xe.setup(Oe,ue),xe[zt](Oe)),xe==I[NG]||!I[NG]&&(I[NG]=xe)[la](I)||I[NG][aa](I[NG]=xe,I),qe=I[zr](a2n),Ie=Ke=1,(Ne=qe.run(this.ochip(this.$.url)))||(Ie=Ke=0,qe.cache(Ne=M(qe.value,I,null,null))),Ne[Hr]&&(Ie||!Ne.setup||Ne.setup(Ke,qe),Ne[zt](Ke)),Ne==I[IG]||!I[IG]&&(I[IG]=Ne)[la](I)||I[IG][aa](I[IG]=Ne,I),F||!I.setup||I.setup(N,Te),I[zt](N),Ce=i[zr](u2n),et=ft=1,(Ze=Ce.run(this.oel(this,"more")))||(et=ft=0,Ce.cache(Ze=M(Ce.value,i,"sx-bw",null))),Ze[Hr]&&((!et||ft&2)&&Ze.flags.reconcile(HU,"sx-bw"),et||!Ze.setup||Ze.setup(ft,Ce),Ze[zt](ft)),Ze==i[HU]||!i[HU]&&(i[HU]=Ze)[la](i)||i[HU][aa](i[HU]=Ze,i),a||s.sym||!i.setup||i.setup(u,s,d0e),s.sym||i[zt](u),i}opownstats(){var ne;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee;let te=this.unseen;return o=n=1,(t=r[f0e])||(o=n=0,t=r[f0e]=t=R("op-stats",null,null,null)),o||(t[jo]=r._),o||((ne=t[Cc])==null||ne.call(t,r,f0e)),i=t[k0]("__",t),s=t[zr](c2n),u=c=1,(a=s.run(this.ostat(this.$.unseen)))||(u=c=0,s.cache(a=M(s.value,i,null,null))),a[Hr]&&(u||!a.setup||a.setup(c,s),a[zt](c)),a==t[FG]||!t[FG]&&i[Pl](t[FG]=a)||(i[Sc](a,t[FG]),t[FG]=a),h=t[zr](h2n),f=m=1,(d=h.run(this.ostat(this.creator)))||(f=m=0,h.cache(d=M(h.value,i,null,null))),d[Hr]&&(f||!d.setup||d.setup(m,h),d[zt](m)),d==t[HG]||!t[HG]&&i[Pl](t[HG]=d)||(i[Sc](d,t[HG]),t[HG]=d),$=t[zr](p2n),g=x=1,(b=$.run(this.ostat(this.category)))||(g=x=0,$.cache(b=M($.value,i,null,null))),b[Hr]&&(g||!b.setup||b.setup(x,$),b[zt](x)),b==t[BG]||!t[BG]&&i[Pl](t[BG]=b)||(i[Sc](b,t[BG]),t[BG]=b),k=t[zr](d2n),S=v=1,(_=k.run(this.ostat(this.status)))||(S=v=0,k.cache(_=M(k.value,i,"compact",null))),_[Hr]&&((!S||v&2)&&_.flags.reconcile(BU,"compact"),S||!_.setup||_.setup(v,k),_[zt](v)),_==t[BU]||!t[BU]&&i[Pl](t[BU]=_)||(i[Sc](_,t[BU]),t[BU]=_),C=t[zr](f2n),P=U=1,(j=C.run(this.ostat(this.$.comments)))||(P=U=0,C.cache(j=M(C.value,i,null,null))),j[Hr]&&(P||!j.setup||j.setup(U,C),j[zt](U)),j==t[VG]||!t[VG]&&i[Pl](t[VG]=j)||(i[Sc](j,t[VG]),t[VG]=j),O=t[zr](m2n),I=F=1,(L=O.run(this.ostat(this.$._cre)))||(I=F=0,O.cache(L=M(O.value,i,null,null))),L[Hr]&&(I||!L.setup||L.setup(F,O),L[zt](F)),L==t[zG]||!t[zG]&&i[Pl](t[zG]=L)||(i[Sc](L,t[zG]),t[zG]=L),N=t[zr]($2n),W=z=1,(V=N.run(this.ostat(this.$.url)))||(W=z=0,N.cache(V=M(N.value,i,null,null))),V[Hr]&&(W||!V.setup||V.setup(z,N),V[zt](z)),V==t[qG]||!t[qG]&&i[Pl](t[qG]=V)||(i[Sc](V,t[qG]),t[qG]=V),e=null,ME!=null&&ME.admin&&(q=t[zr](y2n),Y=K=1,(e=q.run(this.ostat(this.$.linear)))||(Y=K=0,q.cache(e=M(q.value,null,null,null))),Y||(e[jo]=i),e[Hr]&&(Y||!e.setup||e.setup(K,q),e[zt](K))),t[gto]=i[Pi](e,0,t[gto]),X=t[zr](b2n),Q=ee=1,(Z=X.run(this.ostat(this.$.starred)))||(Q=ee=0,X.cache(Z=M(X.value,i,null,null))),Z[Hr]&&(Q||!Z.setup||Z.setup(ee,X),Z[zt](ee)),Z==t[WG]||!t[WG]&&i[Pl](t[WG]=Z)||(i[Sc](Z,t[WG]),t[WG]=Z),o||r.sym||!t.setup||t.setup(n,r,f0e),r.sym||t[zt](n),t}};E(eo,g0e,"Ticket",80);var x0e=eo;globalThis.Ticket=x0e;var k0e=Symbol(),Bv=class Bv extends Qe(k0e,OPObject,Deletable,LinearItem,Notifiable){constructor(){super(...arguments),super[A]||this[A](),re(this,k0e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[k0e])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,Lst,"id")}get id(){return this.id.$get(this,Lst,"id")}get id(){return this[_eo]||y((b0=this.key(),p(b0.rwx,Function)?b0.rwx(OWNER|ADMIN):b0.rwx=OWNER|ADMIN,p(b0.r,Function)?b0.r(OPGUEST):b0.r=OPGUEST,p(b0.d,Function)?b0.d(ADMIN):b0.d=ADMIN,b0),this,Lst,"id",_eo,Bv.prototype)}set creator(e){this.creator.$set(e,this,Dst,"creator")}get creator(){return this.creator.$get(this,Dst,"creator")}get creator(){return this[xeo]||y((qp=this.ref(OPAgent),p(qp.as,Function)?qp.as(OWNER):qp.as=OWNER,p(qp.options,Function)?qp.options(function(){return User.all()}):qp.options=function(){return User.all()},p(qp.stat,Function)?qp.stat():qp.stat=!0,qp.default=function(){return OP.pov},qp),this,Dst,"creator",xeo,Bv.prototype)}set ticket(e){this.ticket.$set(e,this,Nst,"ticket")}get ticket(){return this.ticket.$get(this,Nst,"ticket")}get ticket(){return this[veo]||y((ZG=this.parent(x0e),p(ZG.stat,Function)?ZG.stat():ZG.stat=!0,ZG),this,Nst,"ticket",veo,Bv.prototype)}set body(e){this.body.$set(e,this,Ist,"body")}get body(){return this.body.$get(this,Ist,"body")}get body(){return this[weo]||y((a5=this.text(),p(a5.editable,Function)?a5.editable():a5.editable=!0,p(a5.s,Function)?a5.s():a5.s=!0,a5),this,Ist,"body",weo,Bv.prototype)}rolesfor(e){var t,r;return((r=(t=this.ticket)==null?void 0:t.rolesfor)==null?void 0:r.call(t,e))&OPOWNER?super.rolesfor(...arguments)|OPGUEST:super.rolesfor(...arguments)}get mine(){return this.creator==ME}get bycreator(){return this.ticket.creator==this.creator}opowneventlabel(){var s,a;var e,t=H(),r,o,n,i;return r=o=1,(e=t[m0e])||(r=o=0,e=t[m0e]=e=R("op",null,null,null)),r||(e[jo]=t._),r||((s=e[Cc])==null||s.call(e,t,m0e)),n=e[k0]("__",e),i=(a=this.creator)==null?void 0:a.aspovlabel,i===e[_to]&&r||(e[kto]=n[Pi](e[_to]=i,128,e[kto])),r||n[Pi](" commented "),i=this._cre.ago,i===e[vto]&&r||(e[xto]=n[Pi](e[vto]=i,256,e[xto])),r||t.sym||!e.setup||e.setup(o,t,m0e),t.sym||e[zt](o),e}get aslinearbody(){return"From "+this.creator+`:
`+this.body}get aslabel(){return this.body}opownpagestats(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[$0e])||(r=o=0,e=t[$0e]=e=R("op",null,null,null)),r||(e[jo]=t._),r||((c=e[Cc])==null||c.call(e,t,$0e)),n=e[k0]("__",e),i=e[zr](g2n),a=u=1,(s=i.run(this.ostats(this)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[Hr]&&(a||!s.setup||s.setup(u,i),s[zt](u)),s==e[GG]||!e[GG]&&n[Pl](e[GG]=s)||(n[Sc](s,e[GG]),e[GG]=s),r||t.sym||!e.setup||e.setup(o,t,$0e),t.sym||e[zt](o),e}opownsummarylabel(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[y0e])||(r=o=0,e=t[y0e]=e=R("op",null,null,null)),r||(e[jo]=t._),r||((s=e[Cc])==null||s.call(e,t,y0e)),n=e[k0]("__",e),i=this.creator.aslabel,i===e[Sto]&&r||(e[wto]=n[Pi](e[Sto]=i,128,e[wto])),r||n[Pi](" commented"),r||t.sym||!e.setup||e.setup(o,t,y0e),t.sym||e[zt](o),e}opownentry(){var V,W,z;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N;return t.this=this,o=n=1,(r=t[b0e])||(o=n=0,r=t[b0e]=r=R("op",null,null,null)),o||(r[jo]=t._),o||((V=r[Cc])==null||V.call(r,t,b0e)),i=r[k0]("__",r),s=this,s===r[Cto]||(r.data=r[Cto]=s),o||r.on$("intersect",{in:!0,$_:[function(q,Y){return t.this.markasseen(q)}]},this),s=this.unseen||void 0,s===r[slt]||(n|=2,r[slt]=s),n&2&&r.flag$(r[slt]?"unseen":""),u=c=1,(a=r[Eto])||(u=c=0,r[Eto]=a=w("article",i,"sx-cm",null)),h=r[jto]||(r[jto]={options:[null]}),d=this,d===h.options[0]||(h.options[0]=d,c|=48),u||a.on$("opmenu",h,this),c&32&&(c^=32,(W=h[JU])==null||W.call(h)),m=$=1,(f=r[Ato])||(m=$=0,r[Ato]=f=R("op-stats",a,"sx-cn",null)),b=f[k0]("__",f),g=f[zr](k2n),k=_=1,(x=g.run(this.oicon(this.creator)))||(k=_=0,g.cache(x=M(g.value,b,"xl",null))),x[Hr]&&((!k||_&2)&&x.flags.reconcile(VU,"xl"),k||!x.setup||x.setup(_,g),x[zt](_)),x==f[VU]||!f[VU]&&b[Pl](f[VU]=x)||(b[Sc](x,f[VU]),f[VU]=x),S=f[zr](_2n),C=j=1,(v=S.run(this.olabel(this.creator)))||(C=j=0,S.cache(v=M(S.value,b,null,null))),v[Hr]&&(C||!v.setup||v.setup(j,S),v[zt](j)),v==f[YG]||!f[YG]&&b[Pl](f[YG]=v)||(b[Sc](v,f[YG]),f[YG]=v),(P=f[Uto])||(f[Uto]=P=w("span",b,"sx-cq",null)),U=(z=this._cre)==null?void 0:z.ago,U===f[Tto]&&m||(f[Pto]=P[Pi](f[Tto]=U,384,f[Pto])),m||!f.setup||f.setup($,O),f[zt]($),m||a[Pl](f),I=F=1,(L=r[Oto])||(I=F=0,r[Oto]=L=w("div",a,"sx-cr body",null)),N=this.body,N===r[Rto]||(L.md=r[Rto]=N),o||t.sym||!r.setup||r.setup(n,t,b0e),t.sym||r[zt](n),r}};E(Bv,k0e,"TicketComment",88);var QU=Bv;globalThis.TicketComment=QU;var W2n=Symbol(),g0=class g0 extends Ve("op","OpComponent",de){set seats(e){this.seats.$set(e,this,Fst,"seats")}get seats(){return this.seats.$get(this,Fst,"seats")}get seats(){return this[Seo]||y((XG=this.int(),p(XG.label,Function)?XG.label("How many licenses do you expect to need?"):XG.label="How many licenses do you expect to need?",XG),this,Fst,"seats",Seo,g0.prototype)}set company(e){this.company.$set(e,this,Hst,"company")}get company(){return this.company.$get(this,Hst,"company")}get company(){return this[Ceo]||y((KG=this.string(),p(KG.label,Function)?KG.label("Company name"):KG.label="Company name",KG),this,Hst,"company",Ceo,g0.prototype)}set comment(e){this.comment.$set(e,this,Bst,"comment")}get comment(){return this.comment.$get(this,Bst,"comment")}get comment(){return this[Eeo]||y((JG=this.text(),p(JG.label,Function)?JG.label("Any other comments?"):JG.label="Any other comments?",JG),this,Bst,"comment",Eeo,g0.prototype)}set email(e){this.email.$set(e,this,Vst,"email")}get email(){return this.email.$get(this,Vst,"email")}get email(){return this[jeo]||y((QG=this.string(),p(QG.label,Function)?QG.label("Your company email address"):QG.label="Your company email address",QG),this,Vst,"email",jeo,g0.prototype)}set submit(e){this.submit.$set(e,this,zst,"submit")}get submit(){return this.submit.$get(this,zst,"submit")}get submit(){return this[Aeo]||y((zU=this.action(),p(zU.if,Function)?zU.if(function(){return this.data.body}):zU.if=function(){return this.data.body},zU.callback=async function(){var e;return await this.data.save(),(e=this.data.category)!=null&&e.alert&&this.data.alert(),this.emit("resolve",this.data)},zU),this,zst,"submit",Aeo,g0.prototype)}set submit_teams(e){this.submit_teams.$set(e,this,qst,"submit_teams")}get submit_teams(){return this.submit_teams.$get(this,qst,"submit_teams")}get submit_teams(){return this[Ueo]||y((Wp=this.action(),p(Wp.if,Function)?Wp.if(function(){return this.data.category=="teams"&&this.seats&&this.company}):Wp.if=function(){return this.data.category=="teams"&&this.seats&&this.company},p(Wp.label,Function)?Wp.label("Send"):Wp.label="Send",p(Wp.icon,Function)?Wp.icon(""):Wp.icon="",Wp.callback=function(){var e;return this.data.body="Team request for "+this.company+`

Email: `+this.email+`

User: `+((e=OP.pov)==null?void 0:e.id)+`



For `+this.seats+` seats.

Comment:
 `+this.comment+`
`,OP.toast("Thank you, we will be in touch soon on your email."),this.submit()},Wp),this,qst,"submit_teams",Ueo,g0.prototype)}set recordascreencast(e){this.recordascreencast.$set(e,this,Wst,"recordascreencast")}get recordascreencast(){return this.recordascreencast.$get(this,Wst,"recordascreencast")}get recordascreencast(){return this[Peo]||y((llt=this.action(),llt.callback=function(){return OP.toast("Don't forget to include your screencast link in the ticket!"),window.open("https://www.loom.com/looms/videos","_blank")},llt),this,Wst,"recordascreencast",Peo,g0.prototype)}get focalpoint(){var e;return((e=this.data)==null?void 0:e.category)=="teams"?this.getElementsByTagName("input")[0]:this.getElementsByTagName("textarea")[0]}mount(){return this.render(),this.focalpoint.focus()}render(){var e,t,r,o,n,i,s,a,u,c=this._ns_||"",h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt;return s=this,s[B2n](),a=u=1,s[Mto]===1||(a=u=0,s[Mto]=1),a||s.on$("opnav",{stack:!0},this),(!a||u&2)&&s.flagSelf$("sx-cs"),e=t=r=o=n=i=null,this.data.category=="checkout"?(h=d=1,(e=s[Lto])||(h=d=0,s[Lto]=e=w("h2",null,`${c}`,"Get Help")),h||(e[jo]=s),f=m=1,(t=s[Dto])||(f=m=0,s[Dto]=t=w("p",null,`${c}`,"We usually respond within an hour. You'll get an email notification when we do.")),f||(t[jo]=s),$=s[zr](v2n),b=g=1,(r=$.run(this.ofield(this.data.$.category)))||(b=g=0,$.cache(r=M($.value,null,`${c}`,null))),b||(r[jo]=s),r[Hr]&&((!b||g&2)&&r.flags.reconcile(x2n,`${c}`),b||!r.setup||r.setup(g,$),r[zt](g)),x=k=1,(o=s[Nto])||(x=k=0,s[Nto]=o=w("div",null,`sx-cw ${c}`,null)),x||(o[jo]=s),_=o[zr](w2n),v=C=1,(S=_.run(this.ofield(this.data.$.body)))||(v=C=0,_.cache(S=M(_.value,o,`${c}`,null))),S[Hr]&&((!v||C&2)&&S.flags.reconcile(qU,`${c}`),v||!S.setup||S.setup(C,_),S[zt](C)),S==o[qU]||!o[qU]&&(o[qU]=S)[la](o)||o[qU][aa](o[qU]=S,o),x||!o.setup||o.setup(k,j),o[zt](k),P=s[zr](C2n),U=O=1,(n=P.run(this.obutton(this.recordascreencast)))||(U=O=0,P.cache(n=M(P.value,null,`${c}`,null))),U||(n[jo]=s),n[Hr]&&(U||(n.optip="Optionally record a screencast to help us debug issues faster!"),(!U||O&2)&&n.flags.reconcile(S2n,`${c}`),U||!n.setup||n.setup(O,P),n[zt](O)),L=s[zr](j2n),I=F=1,(i=L.run(this.obutton(this.submit)))||(I=F=0,L.cache(i=M(L.value,null,`secondary ${c}`,null))),I||(i[jo]=s),i[Hr]&&(I||i.on$("opnav",{},this),(!I||F&2)&&i.flags.reconcile(E2n,`secondary ${c}`),I||!i.setup||i.setup(F,L),i[zt](F))):this.data.category=="teams"?(N=V=1,(e=s[Ito])||(N=V=0,s[Ito]=e=w("div",null,`sx-da content ${c}`,null)),N||(e[jo]=s),N||(W=w("h2",e,`sx-db ${c}`,"Request Team Access")),z=e[zr](A2n),Y=K=1,(q=z.run(this.ofield(this.$.company)))||(Y=K=0,z.cache(q=M(z.value,e,`sx-dc ${c}`,null))),q[Hr]&&(Y||(q.oplabel="Company name"),Y||(q.optip="Company or institution that you are looking for seats for."),(!Y||K&2)&&q.flags.reconcile(WU,`sx-dc ${c}`),Y||!q.setup||q.setup(K,z),q[zt](K)),q==e[WU]||!e[WU]&&(e[WU]=q)[la](e)||e[WU][aa](e[WU]=q,e),X=e[zr](U2n),Q=ee=1,(Z=X.run(this.ofield(this.$.email)))||(Q=ee=0,X.cache(Z=M(X.value,e,`${c}`,null))),Z[Hr]&&(Q||(Z.label="Your company email address"),Q||(Z.optip="Contact email"),(!Q||ee&2)&&Z.flags.reconcile(ZU,`${c}`),Q||!Z.setup||Z.setup(ee,X),Z[zt](ee)),Z==e[ZU]||!e[ZU]&&(e[ZU]=Z)[la](e)||e[ZU][aa](e[ZU]=Z,e),te=e[zr](P2n),ie=J=1,(ne=te.run(this.ofield(this.$.seats)))||(ie=J=0,te.cache(ne=M(te.value,e,`${c}`,null))),ne[Hr]&&(ie||(ne.label="How many licenses do you expect to need?"),ie||(ne.min="0"),ie||(ne.optip="Give an estimate if you are not certain."),(!ie||J&2)&&ne.flags.reconcile(GU,`${c}`),ie||!ne.setup||ne.setup(J,te),ne[zt](J)),ne==e[GU]||!e[GU]&&(e[GU]=ne)[la](e)||e[GU][aa](e[GU]=ne,e),me=e[zr](T2n),ye=we=1,(ce=me.run(this.ofield(this.$.comment)))||(ye=we=0,me.cache(ce=M(me.value,e,`${c}`,null))),ce[Hr]&&(ye||(ce.label="Any other comments?"),ye||(ce.optip="Any info we should know about your request or email we should get back to you on?"),(!ye||we&2)&&ce.flags.reconcile(YU,`${c}`),ye||!ce.setup||ce.setup(we,me),ce[zt](we)),ce==e[YU]||!e[YU]&&(e[YU]=ce)[la](e)||e[YU][aa](e[YU]=ce,e),ae=e[zr](O2n),_e=Ae=1,(be=ae.run(this.obutton(this.submit_teams)))||(_e=Ae=0,ae.cache(be=M(ae.value,e,`secondary ${c}`,null))),be[Hr]&&(_e||be.on$("opnav",{},this),(!_e||Ae&2)&&be.flags.reconcile(XU,`secondary ${c}`),_e||!be.setup||be.setup(Ae,ae),be[zt](Ae)),be==e[XU]||!e[XU]&&(e[XU]=be)[la](e)||e[XU][aa](e[XU]=be,e),N||!e.setup||e.setup(V,ve),e[zt](V)):(Pe=He=1,(e=s[Fto])||(Pe=He=0,s[Fto]=e=w("h2",null,`${c}`,"Send Feedback")),Pe||(e[jo]=s),Ue=Be=1,(t=s[Hto])||(Ue=Be=0,s[Hto]=t=R("op-stats",null,`dl ${c}`,null)),Ue||(t[jo]=s),je=this.data,je===t[Bto]||(t.data=t[Bto]=je),Ue||(t.only="status|url"),Ue||!t.setup||t.setup(Be,ue),t[zt](Be),xe=s[zr](M2n),Re=Oe=1,(r=xe.run(this.ofield(this.data.$.category)))||(Re=Oe=0,xe.cache(r=M(xe.value,null,`${c}`,null))),Re||(r[jo]=s),r[Hr]&&((!Re||Oe&2)&&r.flags.reconcile(R2n,`${c}`),Re||!r.setup||r.setup(Oe,xe),r[zt](Oe)),qe=Ne=1,(o=s[Vto])||(qe=Ne=0,s[Vto]=o=w("div",null,`sx-dk ${c}`,null)),qe||(o[jo]=s),Ie=o[zr](L2n),Te=Ce=1,(Ke=Ie.run(this.ofield(this.data.$.body)))||(Te=Ce=0,Ie.cache(Ke=M(Ie.value,o,`${c}`,null))),Ke[Hr]&&((!Te||Ce&2)&&Ke.flags.reconcile(KU,`${c}`),Te||!Ke.setup||Ke.setup(Ce,Ie),Ke[zt](Ce)),Ke==o[KU]||!o[KU]&&(o[KU]=Ke)[la](o)||o[KU][aa](o[KU]=Ke,o),qe||!o.setup||o.setup(Ne,Ze),o[zt](Ne),et=s[zr](N2n),ft=Ge=1,(n=et.run(this.obutton(this.recordascreencast)))||(ft=Ge=0,et.cache(n=M(et.value,null,`${c}`,null))),ft||(n[jo]=s),n[Hr]&&(ft||(n.optip="Optionally record a screencast to help us debug issues faster!"),(!ft||Ge&2)&&n.flags.reconcile(D2n,`${c}`),ft||!n.setup||n.setup(Ge,et),n[zt](Ge)),Je=s[zr](F2n),ct=rt=1,(i=Je.run(this.obutton(this.submit)))||(ct=rt=0,Je.cache(i=M(Je.value,null,`secondary ${c}`,null))),ct||(i[jo]=s),i[Hr]&&(ct||i.on$("opnav",{},this),(!ct||rt&2)&&i.flags.reconcile(I2n,`secondary ${c}`),ct||!i.setup||i.setup(rt,Je),i[zt](rt))),s[zto]=s[Pi](e,0,s[zto]),s[qto]=s[Pi](t,0,s[qto]),s[Wto]=s[Pi](r,0,s[Wto]),s[Zto]=s[Pi](o,0,s[Zto]),s[Gto]=s[Pi](n,0,s[Gto]),s[Yto]=s[Pi](i,0,s[Yto]),s[V2n](u),s}};E(g0,W2n,"op-ticket-dialog",2),pe("op-ticket-dialog",g0,{});var Xto=g0;T();oe();We();var clt=Symbol("imported_users"),Kto=Symbol(),hlt=Symbol("assetify_snapshots"),Jto=Symbol(),plt=Symbol("fix_project_screenshots"),Qto=Symbol(),dlt=Symbol("rank_courses"),ero=Symbol(),flt=Symbol("push_courses"),tro=Symbol(),mlt=Symbol("push_topics"),rro=Symbol(),$lt=Symbol("push_projects"),oro=Symbol(),ylt=Symbol("import-id"),nro=Symbol(),blt=Symbol("import_resource"),iro=Symbol(),glt=Symbol("import_coupon_subscriptions"),sro=Symbol(),klt=Symbol("import_paypal_subscriptions"),lro=Symbol(),_lt=Symbol("push"),aro=Symbol(),xlt=Symbol("imported_viewings"),uro=Symbol(),vlt=Symbol("import_creations"),cro=Symbol(),wlt=Symbol("import_stripe_subscriptions"),hro=Symbol(),Slt=Symbol("import_viewings"),pro=Symbol(),Clt=Symbol("sync"),dro=Symbol(),Elt=Symbol("legacy"),fro=Symbol(),jlt=Symbol("legacy"),mro=Symbol(),Alt=Symbol("import_progress"),$ro=Symbol(),Ult=Symbol("import_stripe_subscriptions"),yro=Symbol(),Plt=Symbol("sync_legacy"),bro=Symbol(),Tlt=Symbol("legacy"),gro=Symbol(),Olt=Symbol("reimport_from_legacy"),kro=Symbol(),Rlt=Symbol("scrim_topics_to_v1"),_ro=Symbol(),xro,Zp,Gp,Yp,Xp,Kp,kg,_g,xg,Jp,Qp,e1,vro,vg,wg,t1,vti=le("&.id",globalThis,l=>l.id),wti=le("&.cid",globalThis,l=>l.cid),eP,eY,u5,tu,r1,tP,tY,ru,ou,Z2n=Symbol.for("#v2");var wro={imports:0,queries:0};var Sro=Symbol(),tl=class tl extends OPEmbed{constructor(){super(...arguments),super[A]||this[A](),re(this,Sro)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.cached_rows=e&&(o=e.cached_rows)!==void 0?o:{}}set imported_users(e){this.imported_users.$set(e,this,clt,"imported_users")}get imported_users(){return this.imported_users.$get(this,clt,"imported_users")}get imported_users(){return this[Kto]||y((xro=this.int(),xro),this,clt,"imported_users",Kto,tl.prototype)}get legacyprefixes(){return{g:Course,c:Scrim,u:User,t:Topic,p:Playlist}}get sql(){}set assetify_snapshots(e){this.assetify_snapshots.$set(e,this,hlt,"assetify_snapshots")}get assetify_snapshots(){return this.assetify_snapshots.$get(this,hlt,"assetify_snapshots")}get assetify_snapshots(){return this[Jto]||y((Zp=this.action(),p(Zp.rx,Function)?Zp.rx(ADMIN):Zp.rx=ADMIN,p(Zp.g,Function)?Zp.g(300):Zp.g=300,p(Zp.rpc,Function)?Zp.rpc():Zp.rpc=!0,Zp.callback=!1,Zp),this,hlt,"assetify_snapshots",Jto,tl.prototype)}set fix_project_screenshots(e){this.fix_project_screenshots.$set(e,this,plt,"fix_project_screenshots")}get fix_project_screenshots(){return this.fix_project_screenshots.$get(this,plt,"fix_project_screenshots")}get fix_project_screenshots(){return this[Qto]||y((Gp=this.action(),p(Gp.rx,Function)?Gp.rx(ADMIN):Gp.rx=ADMIN,p(Gp.g,Function)?Gp.g(300):Gp.g=300,p(Gp.rpc,Function)?Gp.rpc():Gp.rpc=!0,Gp.callback=!1,Gp),this,plt,"fix_project_screenshots",Qto,tl.prototype)}set rank_courses(e){this.rank_courses.$set(e,this,dlt,"rank_courses")}get rank_courses(){return this.rank_courses.$get(this,dlt,"rank_courses")}get rank_courses(){return this[ero]||y((Yp=this.action(),p(Yp.rx,Function)?Yp.rx(ADMIN):Yp.rx=ADMIN,p(Yp.g,Function)?Yp.g(300):Yp.g=300,p(Yp.rpc,Function)?Yp.rpc():Yp.rpc=!0,Yp.callback=!1,Yp),this,dlt,"rank_courses",ero,tl.prototype)}set push_courses(e){this.push_courses.$set(e,this,flt,"push_courses")}get push_courses(){return this.push_courses.$get(this,flt,"push_courses")}get push_courses(){return this[tro]||y((Xp=this.action(),p(Xp.rx,Function)?Xp.rx(ADMIN):Xp.rx=ADMIN,p(Xp.g,Function)?Xp.g(300):Xp.g=300,p(Xp.rpc,Function)?Xp.rpc():Xp.rpc=!0,Xp.callback=!1,Xp),this,flt,"push_courses",tro,tl.prototype)}set push_topics(e){this.push_topics.$set(e,this,mlt,"push_topics")}get push_topics(){return this.push_topics.$get(this,mlt,"push_topics")}get push_topics(){return this[rro]||y((Kp=this.action(),p(Kp.x,Function)?Kp.x(ADMIN):Kp.x=ADMIN,p(Kp.g,Function)?Kp.g(300):Kp.g=300,p(Kp.rpc,Function)?Kp.rpc():Kp.rpc=!0,Kp.callback=!1,Kp),this,mlt,"push_topics",rro,tl.prototype)}set push_projects(e){this.push_projects.$set(e,this,$lt,"push_projects")}get push_projects(){return this.push_projects.$get(this,$lt,"push_projects")}get push_projects(){return this[oro]||y((kg=this.action(),p(kg.rx,Function)?kg.rx(ADMIN):kg.rx=ADMIN,p(kg.g,Function)?kg.g(300):kg.g=300,kg.callback=async function(){var e;e=[];for(let t=0,r=B(Project.all()),o=r.length;t<o;t++){let n=r[t];e.push(await n.legacy.push())}return e},kg),this,$lt,"push_projects",oro,tl.prototype)}set importid(e){this.importid.$set(e,this,ylt,"importid")}get importid(){return this.importid.$get(this,ylt,"importid")}get importid(){return this[nro]||y((_g=this.action(),p(_g.g,Function)?_g.g(300):_g.g=300,p(_g.rpc,Function)?_g.rpc():_g.rpc=!0,_g.callback=!1,_g),this,ylt,"importid",nro,tl.prototype)}set import_resource(e){this.import_resource.$set(e,this,blt,"import_resource")}get import_resource(){return this.import_resource.$get(this,blt,"import_resource")}get import_resource(){return this[iro]||y((xg=this.action(),p(xg.rx,Function)?xg.rx(ADMIN):xg.rx=ADMIN,p(xg.g,Function)?xg.g(300):xg.g=300,xg.callback=async function(){let e=window.prompt("Enter an v1 ID to import");if(e)return await OP.sudo(async function(){let t=await APP.legacy.importid(e,null,!0);return Xt.go("/"+t.id)})},xg),this,blt,"import_resource",iro,tl.prototype)}set import_coupon_subscriptions(e){this.import_coupon_subscriptions.$set(e,this,glt,"import_coupon_subscriptions")}get import_coupon_subscriptions(){return this.import_coupon_subscriptions.$get(this,glt,"import_coupon_subscriptions")}get import_coupon_subscriptions(){return this[sro]||y((Jp=this.action(),p(Jp.g,Function)?Jp.g(100):Jp.g=100,p(Jp.rx,Function)?Jp.rx(ADMIN):Jp.rx=ADMIN,p(Jp.rpc,Function)?Jp.rpc():Jp.rpc=!0,Jp.callback=!1,Jp),this,glt,"import_coupon_subscriptions",sro,tl.prototype)}set import_paypal_subscriptions(e){this.import_paypal_subscriptions.$set(e,this,klt,"import_paypal_subscriptions")}get import_paypal_subscriptions(){return this.import_paypal_subscriptions.$get(this,klt,"import_paypal_subscriptions")}get import_paypal_subscriptions(){return this[lro]||y((Qp=this.action(),p(Qp.g,Function)?Qp.g(100):Qp.g=100,p(Qp.rx,Function)?Qp.rx(ADMIN):Qp.rx=ADMIN,p(Qp.rpc,Function)?Qp.rpc():Qp.rpc=!0,Qp.callback=!1,Qp),this,klt,"import_paypal_subscriptions",lro,tl.prototype)}async migrate(e,t=2e5,r=0){let o=e;typeof e=="string"&&(e.indexOf(" ")>=0?o=this.sql.unsafe(e):o=this.sql`select * from ${this.sql(e)} order by id asc limit ${t} offset ${r}`);let n=Date.now(),i=0,s=[];return await o.forEach(async function(a){if(s.push(a.v2.importv1(a)),await a.v2.importv1(a),i++,i%1e4==0){let u=process.memoryUsage().heapUsed.asmbstring;return console.log("imported",i,Date.now()-n,u)}}),await Promise.all(s),!0}get exercisemarkers(){var e=this;return new Promise(async function(t){let r=await e.sql`select * from scrims where uid = 'uvVm3QUw' order by parent_offset asc`,o={};for(let n=0,i=B(r),s=i.length;n<s;n++){let a=i[n];(o[a.parent_id]||=[]).push(a)}return t(o)})}async preload(...e){e=e.flat();let t={scrims:[],users:[]},r=this.cached_rows;for(let o=0,n=B(e),i=n.length;o<i;o++){let s=n[o];if(!(!s||r[s]))try{let u=this.legacyprefixes[s[0]].name.toLowerCase()+"s";(t[u]||=[]).push(s)}catch{}}for(let o=0,n=Object.keys(t),i=n.length,s,a;o<i;o++){if(s=n[o],a=t[s],a=a.filter(function(c){return c&&!r[c]}),!a.length)continue;let u=await this.sql`select * from ${this.sql(s)} where id in ${this.sql(a)}`;for(let c=0,h=B(u),d=h.length;c<d;c++){let f=h[c];r[f.id]=f,f.uid&&t.users.add(f.uid)}}}};tl.prototype[Le]=De,se([ke.bind([])],tl.prototype,"legacyprefixes",null),se([ke.bind([])],tl.prototype,"sql",null),se([ke.bind([])],tl.prototype,"exercisemarkers",null),E(tl,Sro,"LegacyService",272);var Mlt=tl;globalThis.LegacyService=Mlt;var G2n=Symbol(),Dlt=class Dlt{importv1data(e){return this}};E(Dlt,G2n,"OPObject",1,OPObject);var Cro=Dlt,Y2n=Symbol(),w0e=class w0e extends OPEmbed{get sql(){return APP.legacy.sql}get raw(){var e,t;let r=OP.clone(this.$up.$plain,{sanitize:!0});for(let o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++)s=n[o],a=r[s],s!="id"&&(s[0]=="_"&&(e=r[s],delete r[s]),a||(t=r[s],delete r[s]));return r}get tbl(){var e;return p(e=this.$up,Topic)||p(e,Project)?this.$up.$type.pgname:this.$up.$type.name.toLowerCase()+"s"}set push(e){this.push.$set(e,this,_lt,"push")}get push(){return this.push.$get(this,_lt,"push")}get push(){return this[aro]||y((e1=this.action(),p(e1.g,Function)?e1.g(0):e1.g=0,p(e1.rx,Function)?e1.rx(ADMIN):e1.rx=ADMIN,p(e1.rpc,Function)?e1.rpc():e1.rpc=!0,e1.callback=!1,e1),this,_lt,"push",aro,w0e.prototype)}};E(w0e,Y2n,"LegacyEmbed",0);var rY=w0e,X2n=Symbol(),c5=class c5 extends rY{set imported_viewings(e){this.imported_viewings.$set(e,this,xlt,"imported_viewings")}get imported_viewings(){return this.imported_viewings.$get(this,xlt,"imported_viewings")}get imported_viewings(){return this[uro]||y((vro=this.ts(),vro),this,xlt,"imported_viewings",uro,c5.prototype)}set import_creations(e){this.import_creations.$set(e,this,vlt,"import_creations")}get import_creations(){return this.import_creations.$get(this,vlt,"import_creations")}get import_creations(){return this[cro]||y((vg=this.action(),p(vg.g,Function)?vg.g(900):vg.g=900,p(vg.rpc,Function)?vg.rpc():vg.rpc=!0,vg.callback=!1,vg),this,vlt,"import_creations",cro,c5.prototype)}set import_stripe_subscriptions(e){this.import_stripe_subscriptions.$set(e,this,wlt,"import_stripe_subscriptions")}get import_stripe_subscriptions(){return this.import_stripe_subscriptions.$get(this,wlt,"import_stripe_subscriptions")}get import_stripe_subscriptions(){return this[hro]||y((wg=this.action(),p(wg.g,Function)?wg.g(900):wg.g=900,p(wg.rpc,Function)?wg.rpc():wg.rpc=!0,wg.callback=!1,wg),this,wlt,"import_stripe_subscriptions",hro,c5.prototype)}set import_viewings(e){this.import_viewings.$set(e,this,Slt,"import_viewings")}get import_viewings(){return this.import_viewings.$get(this,Slt,"import_viewings")}get import_viewings(){return this[pro]||y((t1=this.action(),p(t1.g,Function)?t1.g(900):t1.g=900,p(t1.rx,Function)?t1.rx(OPADMIN|OPOWNER):t1.rx=OPADMIN|OPOWNER,p(t1.rpc,Function)?t1.rpc():t1.rpc=!0,t1.callback=!1,t1),this,Slt,"import_viewings",pro,c5.prototype)}set sync(e){this.sync.$set(e,this,Clt,"sync")}get sync(){return this.sync.$get(this,Clt,"sync")}get sync(){return this[dro]||y((eP=this.action(),p(eP.rpc,Function)?eP.rpc():eP.rpc=!0,eP.callback=!1,eP),this,Clt,"sync",dro,c5.prototype)}};E(c5,X2n,"UserLegacyEmbed",0);var Llt=c5,K2n=Symbol(),Nlt=class Nlt{set legacy(e){this.legacy.$set(e,this,Elt,"legacy")}get legacy(){return this.legacy.$get(this,Elt,"legacy")}get legacy(){return this[fro]||y((eY=this.embed(rY),p(eY.rwx,Function)?eY.rwx(ADMIN):eY.rwx=ADMIN,eY),this,Elt,"legacy",fro,Content.prototype)}};E(Nlt,K2n,"Content",1,Content);var Ero=Nlt,J2n=Symbol(),Ilt=class Ilt{set legacy(e){this.legacy.$set(e,this,jlt,"legacy")}get legacy(){return this.legacy.$get(this,jlt,"legacy")}get legacy(){return this[mro]||y((u5=this.embed(Llt),p(u5.rwx,Function)?u5.rwx(ADMIN|OWNER):u5.rwx=ADMIN|OWNER,p(u5.gr,Function)?u5.gr(ADMIN):u5.gr=ADMIN,u5),this,jlt,"legacy",mro,OPUser.prototype)}set import_progress(e){this.import_progress.$set(e,this,Alt,"import_progress")}get import_progress(){return this.import_progress.$get(this,Alt,"import_progress")}get import_progress(){return this[$ro]||y((tu=this.action(),p(tu.rx,Function)?tu.rx(OWNER):tu.rx=OWNER,p(tu.atomic,Function)?tu.atomic():tu.atomic=!0,p(tu.if,Function)?tu.if(function(){return this.legacy_di&&!this.legacy.imported_viewings}):tu.if=function(){return this.legacy_di&&!this.legacy.imported_viewings},p(tu.icon,Function)?tu.icon("progress"):tu.icon="progress",tu.callback=async function(){},tu),this,Alt,"import_progress",$ro,OPUser.prototype)}set import_stripe_subscriptions(e){this.import_stripe_subscriptions.$set(e,this,Ult,"import_stripe_subscriptions")}get import_stripe_subscriptions(){return this.import_stripe_subscriptions.$get(this,Ult,"import_stripe_subscriptions")}get import_stripe_subscriptions(){return this[yro]||y((r1=this.action(),p(r1.rx,Function)?r1.rx(OWNER):r1.rx=OWNER,p(r1.atomic,Function)?r1.atomic():r1.atomic=!0,p(r1.icon,Function)?r1.icon("subscription"):r1.icon="subscription",r1.callback=async function(){return await this.legacy.import_stripe_subscriptions()},r1),this,Ult,"import_stripe_subscriptions",yro,OPUser.prototype)}set sync_legacy(e){this.sync_legacy.$set(e,this,Plt,"sync_legacy")}get sync_legacy(){return this.sync_legacy.$get(this,Plt,"sync_legacy")}get sync_legacy(){return this[bro]||y((tP=this.action(),p(tP.rpc,Function)?tP.rpc():tP.rpc=!0,tP.callback=!1,tP),this,Plt,"sync_legacy",bro,OPUser.prototype)}};E(Ilt,J2n,"OPUser",1,OPUser);var jro=Ilt,Q2n=Symbol(),Flt=class Flt{};E(Flt,Q2n,"Course",1,Course);var Aro=Flt,emn=Symbol(),Hlt=class Hlt{set legacy(e){this.legacy.$set(e,this,Tlt,"legacy")}get legacy(){return this.legacy.$get(this,Tlt,"legacy")}get legacy(){return this[gro]||y((tY=this.embed(rY),p(tY.rw,Function)?tY.rw(ADMIN):tY.rw=ADMIN,tY),this,Tlt,"legacy",gro,Topic.prototype)}};E(Hlt,emn,"Topic",1,Topic);var Uro=Hlt,tmn=Symbol(),Blt=class Blt{};E(Blt,tmn,"Project",1,Project);var Pro=Blt,rmn=Symbol(),Vlt=class Vlt{set reimport_from_legacy(e){this.reimport_from_legacy.$set(e,this,Olt,"reimport_from_legacy")}get reimport_from_legacy(){return this.reimport_from_legacy.$get(this,Olt,"reimport_from_legacy")}get reimport_from_legacy(){return this[kro]||y((ru=this.action(),p(ru.rx,Function)?ru.rx(ADMIN):ru.rx=ADMIN,p(ru.g,Function)?ru.g(800.5):ru.g=800.5,p(ru.if,Function)?ru.if(function(){return this.legacy_id}):ru.if=function(){return this.legacy_id},p(ru.rpc,Function)?ru.rpc():ru.rpc=!0,ru.callback=!1,ru),this,Olt,"reimport_from_legacy",kro,Scrim.prototype)}set scrim_topics_to_v1(e){this.scrim_topics_to_v1.$set(e,this,Rlt,"scrim_topics_to_v1")}get scrim_topics_to_v1(){return this.scrim_topics_to_v1.$get(this,Rlt,"scrim_topics_to_v1")}get scrim_topics_to_v1(){return this[_ro]||y((ou=this.action(),p(ou.rx,Function)?ou.rx(ADMIN):ou.rx=ADMIN,p(ou.g,Function)?ou.g(800.5):ou.g=800.5,p(ou.if,Function)?ou.if(function(){return this.legacy_id}):ou.if=function(){return this.legacy_id},p(ou.rpc,Function)?ou.rpc():ou.rpc=!0,ou.callback=!1,ou),this,Rlt,"scrim_topics_to_v1",_ro,Scrim.prototype)}};E(Vlt,rmn,"Scrim",1,Scrim);var Tro=Vlt,omn=Symbol(),zlt=class zlt{get v1table(){return"playlists"}};E(zlt,omn,"Playlist",1,Playlist);var Oro=zlt;T();oe();var qlt=Symbol("instances"),Rro=Symbol(),Wlt=Symbol("agent"),Mro=Symbol(),Zlt=Symbol("ip"),Lro=Symbol(),Glt=Symbol("country"),Dro=Symbol(),Ylt=Symbol("msg"),Nro=Symbol(),Xlt=Symbol("stack"),Iro=Symbol(),Klt=Symbol("event_type"),Fro=Symbol(),Jlt=Symbol("error_type"),Hro=Symbol(),Qlt=Symbol("url"),Bro=Symbol(),o1,oY,Vro,zro,nY,qro,Wro,Zro,iY,nmn=Symbol(),tat=class tat{set instances(e){this.instances.$set(e,this,qlt,"instances")}get instances(){return this.instances.$get(this,qlt,"instances")}get instances(){return this[Rro]||y((o1=this.coll({name:"Instances",layout:"list"}),p(o1.tab,Function)?o1.tab():o1.tab=!0,p(o1.r,Function)?o1.r(ADMIN):o1.r=ADMIN,p(o1.stat,Function)?o1.stat():o1.stat=!0,o1.callback=function(){return this.$children},o1),this,qlt,"instances",Rro,OPLog.prototype)}};E(tat,nmn,"OPLog",1,OPLog);var Gro=tat,imn=Symbol(),_0=class _0 extends Model{set agent(e){this.agent.$set(e,this,Wlt,"agent")}get agent(){return this.agent.$get(this,Wlt,"agent")}get agent(){return this[Mro]||y((oY=this.ref(OPAgent),p(oY.stat,Function)?oY.stat():oY.stat=!0,oY),this,Wlt,"agent",Mro,_0.prototype)}set ip(e){this.ip.$set(e,this,Zlt,"ip")}get ip(){return this.ip.$get(this,Zlt,"ip")}get ip(){return this[Lro]||y((Vro=this.string(),Vro),this,Zlt,"ip",Lro,_0.prototype)}set country(e){this.country.$set(e,this,Glt,"country")}get country(){return this.country.$get(this,Glt,"country")}get country(){return this[Dro]||y((zro=this.country(),zro),this,Glt,"country",Dro,_0.prototype)}set msg(e){this.msg.$set(e,this,Ylt,"msg")}get msg(){return this.msg.$get(this,Ylt,"msg")}get msg(){return this[Nro]||y((nY=this.string(),p(nY.s,Function)?nY.s():nY.s=!0,nY),this,Ylt,"msg",Nro,_0.prototype)}set stack(e){this.stack.$set(e,this,Xlt,"stack")}get stack(){return this.stack.$get(this,Xlt,"stack")}get stack(){return this[Iro]||y((qro=this.string(),qro),this,Xlt,"stack",Iro,_0.prototype)}set event_type(e){this.event_type.$set(e,this,Klt,"event_type")}get event_type(){return this.event_type.$get(this,Klt,"event_type")}get event_type(){return this[Fro]||y((Wro=this.string(),Wro),this,Klt,"event_type",Fro,_0.prototype)}set error_type(e){this.error_type.$set(e,this,Jlt,"error_type")}get error_type(){return this.error_type.$get(this,Jlt,"error_type")}get error_type(){return this[Hro]||y((Zro=this.string(),Zro),this,Jlt,"error_type",Hro,_0.prototype)}set url(e){this.url.$set(e,this,Qlt,"url")}get url(){return this.url.$get(this,Qlt,"url")}get url(){return this[Bro]||y((iY=this.string(),p(iY.stat,Function)?iY.stat():iY.stat=!0,iY),this,Qlt,"url",Bro,_0.prototype)}get aslabel(){return this.msg}};E(_0,imn,"Log",0);var eat=_0;globalThis.Log=eat;T();oe();var h5=Symbol.for("#blob-promises"),smn=Symbol.for("#branch"),lmn=Symbol.for("#jszip"),too=Symbol.for("#zip"),roo=Symbol.for("##up"),ooo=Symbol.for("##register"),amn=Symbol.for("#value"),rat=Symbol(),Yro=Symbol(),Xro=Symbol(),umn=le("&.path.endsWith('index.html')",globalThis,l=>l.path.endsWith("index.html")),oat=Symbol(),Kro=Symbol(),Jro=Symbol(),cmn=`
## About Scrimba

At Scrimba our goal is to create the best possible coding school at the cost of a gym membership! 
If we succeed with this, it will give anyone who wants to become a software developer a realistic shot at succeeding, regardless of where they live and the size of their wallets 
The Fullstack Developer Path aims to teach you everything you need to become a Junior Developer, or you could take a deep-dive with one of our advanced courses 

- [Our courses](https://scrimba.com/courses)
- [The Frontend Career Path](https://scrimba.com/fullstack-path-c0fullstack)
- [Become a Scrimba Pro member](https://scrimba.com/pricing)

Happy Coding!`,Qro=Symbol(),nat=class nat{[A](e=null,t=!0,r=!0){var o;this.scrim=e?e.scrim:void 0,this.root=e?e.root:void 0,this.name=e?e.name:void 0,this.readme=e?e.readme:void 0,this.modifiedhtmlfile=e?e.modifiedhtmlfile:void 0,this.packagejson=e&&(o=e.packagejson)!==void 0?o:{name:"Scrim",description:"",scripts:{},dependencies:{},devDependencies:{}},this[h5]=e&&(o=e[h5])!==void 0?o:[]}get configfile(){return""}get configfilename(){return""}get branch(){return this.scrim[smn]}get ide(){return this.branch.ide}constructor({scrim:e}){this[A](),this.scrim=e,this.name="Scrim-"+e.id,this.root=this.ide.fs,this.setup(),re(this,Qro)}get fileentries(){return this.root.entries}get deps(){return this.ide.dependencies.packages}setup(){this.packagejson.name=this.name,this.packagejson.description=globalThis.document.location.href;for(let e=0,t=B(this.deps),r=t.length;e<r;e++){let o=t[e];this.packagejson.dependencies[o.name]=o.version}return this.readme=cmn}static get jszip(){return this[lmn]||=new Promise(async function(e){return e(globalThis.JSZip||=(await import("https://esm.sh/jszip")).default)})}static async downloadzip(e){globalThis.JSZip||=(await import("https://esm.sh/jszip")).default;let t=e.ide.model.scrim,r;if(p(e,SIFS))r=new S0e({fs:e,name:t.id});else{let o=!0;for(let n=0,i=B(e.entries),s=i.length;n<s;n++){let a=i[n];p(a,IDEFile)&&a.path.endsWith("index.html")&&a.contents.indexOf(".pack.js")>-1&&(o=!1)}o?r=new C0e({scrim:t}):r=new E0e({scrim:t})}return await r.download()}async loadblob(e,t){let o=await(await globalThis.fetch("/blobs/"+e.blobId,{credentials:"include",method:"GET"})).blob();return t.file(e.name,o,{binary:"true"})}get zip(){return this[too]||=new globalThis.JSZip}async download(){var c;var e,t=H(),r,o,n;let i=this.archivedir(this.zip,this.root);await Promise.all(this[h5]),this.addreadme(i),this.addconfigfile(i),this.addpackagejson(i);let s=await i.generateAsync({type:"blob"}),a=URL.createObjectURL(s);return Bt((r=o=1,(e=t[rat])||(r=o=0,e=t[rat]=e=w("a",null,null,null)),r||(e[roo]=t._),r||((c=e[ooo])==null||c.call(e,t,rat)),a===e[Yro]||(e.href=e[Yro]=a),n=this.name,n===e[Xro]||(e.download=e[Xro]=n),r||(e.target="_blank"),e)).click()}archivedir(e,t){let r=e.folder(t.name);for(let o=0,n=B(t.entries),i=n.length;o<i;o++){let s=n[o];p(s,IDEFile)?s.blobId?this[h5].push(this.loadblob(s,r)):s.path.endsWith("index.html")?r.file(s.name,(this.modifiedhtmlfile||s).contents):r.file(s.name,s.contents):p(s,IDEDir)&&this.archivedir(r,s)}return r}addreadme(e){return e.file("README.md",this.readme)}addpackagejson(e){return e.file("package.json",JSON.stringify(this.packagejson,null,2))}addconfigfile(e){return e.file(this.configfilename,this.configfile)}hasliborext(e,t){for(let r=0,o=B(this.fileentries),n=o.length;r<n;r++){let i=o[r];if(t.test(i.path)||e&&(this.packagejson.dependencies[e]||this.packagejson.devDependencies[e]))return!0}return!1}get htmlfile(){return this.fileentries.find(umn)}get hasbabel(){var e;return(e=this.htmlfile)==null?void 0:e.contents.includes('type="text/babel"')}get hasreact(){return this.hasliborext("react",/\.(j|t)sx$/)}get hasvue(){return this.hasliborext("vue",/\.vuex?/)}get hassvelte(){return this.hasliborext("svelte",/\.svelte$/)}get hasimba(){return this.hasliborext("imba",/\.imba1?$/)}get hasjs(){return this.hasliborext("",/\.js$/)}get hasts(){return this.hasliborext("",/\.ts$/)}get hashtml(){return!!this.htmlfile}get hasoldreact(){var e;return((e=this.packagejson.dependencies)==null?void 0:e.react.split(".")[0])<17}};E(nat,Qro,"ScrimArchiver",16);var sY=nat;globalThis.ScrimArchiver=sY;var eoo=Symbol(),iat=class iat{constructor(e=null){this[A](e),re(this,eoo)}[A](e=null,t=!0,r=!0){var o;this.fs=e?e.fs:void 0,this.name=e?e.name:void 0,this[h5]=e&&(o=e[h5])!==void 0?o:[]}get zip(){return this[too]||=new globalThis.JSZip}async download(){var c;var e,t=H(),r,o,n;let i=this.archivedir(this.zip,this.fs);await Promise.all(this[h5]);let s=await i.generateAsync({type:"blob"}),a=URL.createObjectURL(s);return Bt((r=o=1,(e=t[oat])||(r=o=0,e=t[oat]=e=w("a",null,null,null)),r||(e[roo]=t._),r||((c=e[ooo])==null||c.call(e,t,oat)),a===e[Kro]||(e.href=e[Kro]=a),n=this.name,n===e[Jro]||(e.download=e[Jro]=n),r||(e.target="_blank"),e)).click()}async loadblob(e,t){var o;let r;return(r=(o=e.asset[amn])==null?void 0:o.binary)?r=new Blob([r]):r=await(await globalThis.fetch(e.asset.asfullurl,{credentials:"include",method:"GET"})).blob(),t.file(e.name,r,{binary:"true"})}archivedir(e,t){let r=e.folder(t.name);for(let o=0,n=B(t.nodes),i=n.length;o<i;o++){let s=n[o];s.excluded||(p(s,SIFile)?s.asset?this[h5].push(this.loadblob(s,r)):s.binary?r.file(s.name,s.binary,{binary:"true"}):r.file(s.name,s.body):p(s,SIDir)&&this.archivedir(r,s))}return r}};E(iat,eoo,"WSPScrimArchiver",16);var S0e=iat;globalThis.WSPScrimArchiver=S0e;var hmn=Symbol(),sat=class sat extends sY{get configfilename(){return"vite.config.js"}setup(){return super.setup(...arguments),this.packagejson.dependencies.vite="latest",this.hasbabel?this.packagejson.scripts.start="vite preview -- --outDir .":(this.packagejson.scripts.start="vite",this.packagejson.scripts.dev="vite",this.packagejson.scripts.build="vite build",this.packagejson.scripts.preview="vite preview"),this.hasreact&&(this.packagejson.devDependencies["@vitejs/plugin-react"]="*"),this.hassvelte&&(this.packagejson.devDependencies["@sveltejs/vite-plugin-svelte"]="*"),this.hasvue&&(this.packagejson.devDependencies["@vitejs/plugin-vue"]="*"),this.hasimba&&(this.packagejson.dependencies.imba="latest"),this.readme="# Getting Started\nInstall the dependencies and run the project\n```\nnpm install\nnpm start\n```\n"+(this.hasbabel?"Please note that using Babel is obselete. This is provided for compatibility reasons. Please use Vite instead.":"")+`
Head over to https://vitejs.dev/ to learn more about configuring vite`+this.readme}get configfile(){let e=['import {defineConfig} from "vite"',this.hasreact&&'import react from "@vitejs/plugin-react"',this.hasvue&&'import vue from "@vitejs/plugin-vue"',this.hassvelte&&'import {svelte} from "@sveltejs/vite-plugin-svelte"',this.hasimba&&'import imbaPlugin from "imba/plugin"'].filter(function(r){return r}).join(`
`),t=[this.hasreact&&"react("+(this.hasoldreact?'{jsxRuntime: "classic"}':"")+")",this.hasvue&&"vue()",this.hassvelte&&"svelte()",this.hasimba&&"imbaPlugin()"].filter(function(r){return r}).join(`,
		`);return""+e+`

export default defineConfig({
	plugins: [
		`+t+`
	]
})`}};E(sat,hmn,"ViteScrimArchiver",8);var C0e=sat;globalThis.ViteScrimArchiver=C0e;var pmn=Symbol(),lat=class lat extends sY{[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.modifiedhtmlfile=e?e.modifiedhtmlfile:void 0,this.loaders=e&&(o=e.loaders)!==void 0?o:[],this.config=e&&(o=e.config)!==void 0?o:{output:{filename:"[name].pack.js"},resolve:{extensions:[".js",".json"],alias:{}},module:{rules:[]},entry:{}}}get configfilename(){return"webpack.config.js"}setup(){var e=this;return super.setup(...arguments),this.packagejson.dependencies.webpack="^2.0",this.packagejson.scripts.watch="webpack -w",this.packagejson.scripts.build="webpack",this.hasjs&&(this.loaders.push("babel"),this.packagejson.devDependencies["babel-core"]="^6.0",this.packagejson.devDependencies["babel-loader"]="^7.0",this.packagejson.devDependencies["babel-preset-env"]="*",this.packagejson.devDependencies["babel-preset-react"]="*",this.config.module.rules.push({use:{loader:"babel-loader",options:{presets:["babel-preset-env","babel-preset-react"]}},exclude:/node_modules/,test:/\.js$/})),this.hassvelte&&(this.packagejson.devDependencies["svelte-loader"]="*",this.packagejson.devDependencies.svelte="*",this.config.resolve.extensions.unshift(".svelte",".mjs"),this.config.resolve.alias.svelte="./node_modules/svelte",this.loaders.push("svelte"),this.config.module.rules.push({use:{loader:"svelte-loader"},exclude:/node_modules/,test:/\.svelte$/})),this.hasts&&(this.packagejson.devDependencies["ts-loader"]="*",this.packagejson.devDependencies.typescript="*",this.config.resolve.extensions.unshift("ts"),this.loaders.push("typescript"),this.config.module.rules.push({use:{loader:"ts-loader"},exclude:/node_modules/,test:/\.ts$/})),this.hashtml&&(this.injectNormalize(this.htmlfile),this.htmlfile.contents.replace(/\b(\w+)\.pack\.js\b/g,function(t,r){let n=VK.join(e.htmlfile.path,"..",r).slice(1);return e.config.entry[n]="./"+n})),this.readme=`# Getting Started
Install the dependencies and run the project in watch mode
\`\`\`
npm install
npm run build # or watch to rebuild on change
open index.html
\`\`\`
Note that using Webpack is obselete and this archive has been provided
for compatibility reasons. Prefer using Vite, check it at https://vitejs.dev`+this.readme}injectNormalize(e){if(!e.contents)return;let t='<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">',r=/<head\b[^>]*>/g,o=e.contents.replace(r,"$&"+t);return o==e.contents&&(o="<!DOCTYPE>"+t+e.contents),this.modifiedhtmlfile={...e,contents:o}}get configfile(){let e=function(r,o){return p(o,RegExp)&&(o="REG:::"+o+":::EX"),o},t=JSON.stringify(this.config,e,2);return t=t.replace(/"REG:::(.*?):::EX"/g,function(r,o){return JSON.parse('"'+o+'"')}),"module.exports = "+t}};E(lat,pmn,"WebpackScrimArchiver",8);var E0e=lat;globalThis.WebpackScrimArchiver=E0e;T();oe();var aat=Symbol("sid"),noo=Symbol(),uat=Symbol("metadata"),ioo=Symbol(),cat=Symbol("livemode"),soo=Symbol(),hat=Symbol("id"),loo=Symbol(),pat=Symbol("_cre"),aoo=Symbol(),dat=Symbol("raw"),uoo=Symbol(),fat=Symbol("synced_at"),coo=Symbol(),mat=Symbol("id"),hoo=Symbol(),poo,lY,doo,p5,d5,aY,foo,uY,f2=Symbol.for("#service"),moo=Symbol.for("#via"),$at=Symbol.for("#applying"),dmn=Symbol.for("#sanitized"),fmn=Symbol(),rP=class rP extends OPBase{set sid(e){this.sid.$set(e,this,aat,"sid")}get sid(){return this.sid.$get(this,aat,"sid")}get sid(){return this[noo]||y((poo=this.string(),poo),this,aat,"sid",noo,rP.prototype)}set metadata(e){this.metadata.$set(e,this,uat,"metadata")}get metadata(){return this.metadata.$get(this,uat,"metadata")}get metadata(){return this[ioo]||y((lY=this.object(),p(lY.hidden,Function)?lY.hidden():lY.hidden=!0,lY),this,uat,"metadata",ioo,rP.prototype)}set livemode(e){this.livemode.$set(e,this,cat,"livemode")}get livemode(){return this.livemode.$get(this,cat,"livemode")}get livemode(){return this[soo]||y((doo=this.bool(),doo),this,cat,"livemode",soo,rP.prototype)}get stripeid(){return this.sid||(this.embed?this.$key:this.id)}get live(){return!!this.$root.livemode}get test(){return!this.live}get prod(){return this.live}get service(){var e;return this==this.$root?this[f2]?this[f2]:(this.$plain.livemode==null&&LL("#service not set and livemode is null",this,this.$plain),this.$plain.livemode===!1?this[f2]=APP.stripe_test:this[f2]=((e=this[moo])==null?void 0:e.service)||APP.stripe_prod):this.$root.service}set service(e){this[f2]=e}get api(){return this.service.api}async applydata(e){var t=this;return e?(this[$at]=!0,await OP.sudo(async function(){var n;let r={[dmn]:!0};await t,t.stage();let o=t.$shape;if(p(e,Error))return t;e.object=="coupon"&&!e.id.startsWith("scoupon")&&(r.id="scoupon_"+e.id);for(let i=e.metadata||{},s=0,a=Object.keys(i),u=a.length,c,h;s<u;s++)if(c=a[s],h=i[c],c.startsWith("sc_")){let d=o[c.slice(3)];if(d){if(typeof h=="string"&&h.match(/^([\[|{]|\d+(\.\d+)?$)/))try{h=JSON.parse(h)}catch{}if(d.name=="user"&&!(await OP.get(h)).exists)continue;e[d.name]||=h}}for(let i=0,s=Object.keys(e),a=s.length,u,c;i<a;i++){u=s[i],c=e[u];let h=o[u];if(!h)continue;let d=c;if(u=="id")t.$key!=c&&(t.sid=c);else if(h.ref&&c){let f=await h.$deserialize(c.id||c,t);f&&!f[$at]&&!f.synced_at&&p(f,cY)&&(f.stage(),await f.syncvia(t,c)),t[u]=f}else if(p(h,OPRefsField)){c={};let f=d[h.synckey]||d;if(p(f,Array)){for(let m=0,$=B(f),b=$.length;m<b;m++){let g=$[m],x=g.id||g;c[x]=m+10}t[u]=c}else console.warn("Skipped syncing "+h.model.name+"."+h.name+" with sync-key ("+h.synckey+"). Data received from stripe has keys: "+Object.keys(d))}else if(h.entries){let f=d[h.synckey]||d;if((n=f[0])!=null&&n.id){c={};for(let m=0,$=B(f),b=$.length;m<b;m++){let g=$[m],x=t[u].get(g.id);x?(await x.applydata(g),x.stage()):LL("on embed to apply data to!!",g.id,f,t.id)}}}else h.embedded?Object.isPlain(c)?t[u].applydata?t[u].applydata(c):t[u].set(c):c===null&&t[u].$clear():t[u]=c}if(await t.applieddata(e),t.stage(),!t.embed)return t.synced_at=!0,await t.save()}),this[$at]=!1,this):this}applieddata(e){return this}};E(rP,fmn,"StripeMixin",1024);var A0e=rP;globalThis.StripeMixin=A0e;var j0e=Symbol(),f5=class f5 extends Qe(j0e,OPObject,A0e){constructor(){super(...arguments),super[A]||this[A](),re(this,j0e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[j0e])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,hat,"id")}get id(){return this.id.$get(this,hat,"id")}get id(){return this[loo]||y((p5=this.key(),p(p5.r,Function)?p5.r(ADMIN|OWNER):p5.r=ADMIN|OWNER,p(p5.wcd,Function)?p5.wcd(ADMIN):p5.wcd=ADMIN,p5),this,hat,"id",loo,f5.prototype)}set _cre(e){this._cre.$set(e,this,pat,"_cre")}get _cre(){return this._cre.$get(this,pat,"_cre")}get _cre(){return this[aoo]||y((d5=this.ts(),p(d5.order,Function)?d5.order("desc"):d5.order="desc",p(d5.label,Function)?d5.label("Created"):d5.label="Created",d5),this,pat,"_cre",aoo,f5.prototype)}get thismode(){return this.livemode==(APP==null?void 0:APP.livemode)}set raw(e){this.raw.$set(e,this,dat,"raw")}get raw(){return this.raw.$get(this,dat,"raw")}get raw(){return this[uoo]||y((aY=this.object(),p(aY.hidden,Function)?aY.hidden():aY.hidden=!0,aY),this,dat,"raw",uoo,f5.prototype)}set synced_at(e){this.synced_at.$set(e,this,fat,"synced_at")}get synced_at(){return this.synced_at.$get(this,fat,"synced_at")}get synced_at(){return this[coo]||y((foo=this.ts(),foo),this,fat,"synced_at",coo,f5.prototype)}static get(e,t){if(Object.isPlain(e)&&e.id){let o=e.id;return e.object=="coupon"&&o.indexOf("scoupon")==-1&&(o="scoupon_"+o),this.get(o,e.livemode?APP.stripe_prod:APP.stripe_test)}if(typeof e=="string"&&!e.match(/^(ppsub|lsub|scoupon|(\w+)_)/))return null;let r=super.get(e,t);return r&&!r[f2]&&(t!=null&&t[f2]?r[f2]=t.service:t&&(r[moo]||=t)),r}async imported(e){return await this,this.exists&&this.synced_at?this:(await this.sync(),this)}get live(){var e;return this.livemode||!!((e=this.raw)!=null&&e.livemode)}get synced(){return!!this.synced_at}};f5.abstract=!0,E(f5,j0e,"StripeObject",88);var cY=f5;globalThis.StripeObject=cY;var mmn=Symbol(),U0e=class U0e extends cY{[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.stripeid=e?e.stripeid:void 0}set id(e){this.id.$set(e,this,mat,"id")}get id(){return this.id.$get(this,mat,"id")}get id(){return this[hoo]||y((uY=this.key(),p(uY.rwxcd,Function)?uY.rwxcd(ADMIN|OWNER):uY.rwxcd=ADMIN|OWNER,uY),this,mat,"id",hoo,U0e.prototype)}static get(e,t){if(Object.isPlain(e)&&e.id)return this.get(e.id,e.livemode?APP.stripe_prod:APP.stripe_test);if(typeof e=="string"&&!e.startsWith(this.id+"_"))return null;let r=super.get(e,t);return r&&!r[f2]&&p(t,StripeService)&&(r[f2]=t),r}};E(U0e,mmn,"StripeRawObject",8);var yat=U0e;globalThis.StripeRawObject=yat;T();oe();var vno=q6(voo());$e();var kat=Symbol("last_synced"),woo=Symbol(),_at=Symbol("pro"),Soo=Symbol(),xat=Symbol("gift_product"),Coo=Symbol(),vat=Symbol("bootcamp"),Eoo=Symbol(),wat=Symbol("last_batch_subid"),joo=Symbol(),Sat=Symbol("products"),Aoo=Symbol(),Cat=Symbol("subscriptions"),Uoo=Symbol(),Eat=Symbol("coupons"),Poo=Symbol(),jat=Symbol("codes"),Too=Symbol(),Aat=Symbol("settings"),Ooo=Symbol(),Uat=Symbol("data"),Roo=Symbol(),Pat=Symbol("update_products_metadata"),Moo=Symbol(),Tat=Symbol("fetch_subscriptions"),Loo=Symbol(),Oat=Symbol("fetch_customers"),Doo=Symbol(),Rat=Symbol("fetch_invoices"),Noo=Symbol(),Mat=Symbol("fetch_products"),Ioo=Symbol(),Lat=Symbol("create_promocode"),Foo=Symbol(),Dat=Symbol("create_coupon"),Hoo=Symbol(),Nat=Symbol("wake_subscriptions"),Boo=Symbol(),Iat=Symbol("webhook"),Voo=Symbol(),Fat=Symbol("configure"),zoo=Symbol(),Hat=Symbol("remove_site_wide_offer"),qoo=Symbol(),Bat=Symbol("set_site_wide_offer"),Woo=Symbol(),Vat=Symbol("sync_customers"),Zoo=Symbol(),zat=Symbol("sync_products"),Goo=Symbol(),qat=Symbol("sync_coupons"),Yoo=Symbol(),Wat=Symbol("sync_promocodes"),Xoo=Symbol(),Zat=Symbol("lookup_promo"),Koo=Symbol(),Gat=Symbol("sync-user"),Joo=Symbol(),Yat=Symbol("sync-user-customers"),Qoo=Symbol(),Xat=Symbol("create_customer_for_user"),eno=Symbol(),Kat=Symbol("create_customer"),tno=Symbol(),Jat=Symbol("ensure_customer"),rno=Symbol(),Qat=Symbol("claim_gift"),ono=Symbol(),eut=Symbol("claim_free_month"),nno=Symbol(),tut=Symbol("create_checkout"),ino=Symbol(),rut=Symbol("sync_subs_from_v1"),sno=Symbol(),out=Symbol("sync_latest"),lno=Symbol(),nut=Symbol("fetch_current_gift_prices"),ano=Symbol(),iut=Symbol("fetch_current_prices"),uno=Symbol(),sut=Symbol("generate_new_gift_prices"),cno=Symbol(),lut=Symbol("generate_new_prices"),hno=Symbol(),aut=Symbol("update_sandbox"),pno=Symbol(),uut=Symbol("reset_stripe_sandbox"),dno=Symbol(),pY,m5,dY,fY,fno,oP,nP,iP,sP,$5,cut,vmn=le("&.test?)",globalThis,l=>l.test),wmn=le("&.live?)",globalThis,l=>l.live),Sg,Cg,Eg,jg,Ag,Ug,n1,i1,qti=le("!&.synced_at",globalThis,l=>!l.synced_at),lP,Pg,s1,Tg,Og,Rg,Mg,Lg,Dg,Ng,Ig,Fg,Hg,Bg,Vg,zg,qg,l1,a1,u1,c1,h1,p1,d1,Wti=le("& isa StripeProduct",globalThis,l=>p(l,StripeProduct)),f1,M0e=Symbol(),mY=Symbol(),Smn=Symbol(),L0e=Symbol(),mno=Symbol(),$no=Symbol(),$Y=Symbol(),Cmn=Symbol(),yY=Symbol(),Emn=Symbol(),bY=Symbol(),jmn=Symbol(),gY=Symbol(),Amn=Symbol(),yno=Symbol(),Umn=Symbol.for("#client"),bno=Symbol.for("#sanitized"),hut=Symbol.for("##up"),gno=Symbol.for("##register"),kno=Symbol.for("#getSlot"),kY=Symbol.for("#getRenderContext"),_Y=Symbol.for("#isRichElement"),y5=Symbol.for("#afterVisit"),Pmn=Symbol.for("#appendChild"),Tmn=Symbol.for("#replaceChild"),D0e=Symbol.for("#insertInto"),N0e=Symbol.for("#replaceWith"),Omn=Symbol.for("#placeChild"),Rmn=Symbol(),mut=class mut extends OPEmbed{};E(mut,Rmn,"StripeSettings",0);var put=mut,_no=Symbol(),$ut=class $ut{[A](e=null,t=!0,r=!0){var o;this.batch=e&&(o=e.batch)!==void 0?o:10,this.start=e&&(o=e.start)!==void 0?o:Date.now(),this.last=e&&(o=e.last)!==void 0?o:Date.now(),this.items=e&&(o=e.items)!==void 0?o:[]}constructor(e){this[A](),this.cursor=e,re(this,_no)}async run(e){let t=[];for await(let r of B(this.cursor))this.add(r),t.push(r),t.length==this.batch&&(await e(t),t=[]);return t.length&&await e(t),this}get msperitem(){return((Date.now()-this.start)/this.items.length).toFixed(2)+"ms"}add(e){this.items.push(e);let t=Date.now();t-this.last>1e3&&(this.last=t,console.log("Stat - "+this.items.length+" items ("+this.msperitem+")"))}};E($ut,_no,"StripeBatcher",16);var xno=$ut;var Mmn=Symbol(),vr=class vr extends OPEmbed{get livemode(){return!1}set last_synced(e){this.last_synced.$set(e,this,kat,"last_synced")}get last_synced(){return this.last_synced.$get(this,kat,"last_synced")}get last_synced(){return this[woo]||y((pY=this.ts(),p(pY.rw,Function)?pY.rw(ADMIN):pY.rw=ADMIN,pY),this,kat,"last_synced",woo,vr.prototype)}set pro(e){this.pro.$set(e,this,_at,"pro")}get pro(){return this.pro.$get(this,_at,"pro")}get pro(){return this[Soo]||y((m5=this.ref(StripeProduct),p(m5.eager,Function)?m5.eager():m5.eager=!0,p(m5.options,Function)?m5.options(function(){return this.products}):m5.options=function(){return this.products},m5),this,_at,"pro",Soo,vr.prototype)}set gift_product(e){this.gift_product.$set(e,this,xat,"gift_product")}get gift_product(){return this.gift_product.$get(this,xat,"gift_product")}get gift_product(){return this[Coo]||y((dY=this.ref(StripeProduct),p(dY.eager,Function)?dY.eager():dY.eager=!0,dY),this,xat,"gift_product",Coo,vr.prototype)}set bootcamp(e){this.bootcamp.$set(e,this,vat,"bootcamp")}get bootcamp(){return this.bootcamp.$get(this,vat,"bootcamp")}get bootcamp(){return this[Eoo]||y((fY=this.ref(StripeProduct),p(fY.eager,Function)?fY.eager():fY.eager=!0,fY),this,vat,"bootcamp",Eoo,vr.prototype)}set last_batch_subid(e){this.last_batch_subid.$set(e,this,wat,"last_batch_subid")}get last_batch_subid(){return this.last_batch_subid.$get(this,wat,"last_batch_subid")}get last_batch_subid(){return this[joo]||y((fno=this.string(),fno),this,wat,"last_batch_subid",joo,vr.prototype)}set products(e){this.products.$set(e,this,Sat,"products")}get products(){return this.products.$get(this,Sat,"products")}get products(){return this[Aoo]||y((oP=this.coll({layout:"list"}),p(oP.tab,Function)?oP.tab():oP.tab=!0,oP.callback=function(){return StripeProduct.all(this.matcher)},oP),this,Sat,"products",Aoo,vr.prototype)}set subscriptions(e){this.subscriptions.$set(e,this,Cat,"subscriptions")}get subscriptions(){return this.subscriptions.$get(this,Cat,"subscriptions")}get subscriptions(){return this[Uoo]||y((nP=this.coll({layout:"list"}),p(nP.tab,Function)?nP.tab():nP.tab=!0,nP.callback=function(){return StripeSubscription.all(this.matcher)},nP),this,Cat,"subscriptions",Uoo,vr.prototype)}set coupons(e){this.coupons.$set(e,this,Eat,"coupons")}get coupons(){return this.coupons.$get(this,Eat,"coupons")}get coupons(){return this[Poo]||y((iP=this.coll({layout:"list"}),p(iP.tab,Function)?iP.tab():iP.tab=!0,iP.callback=function(){return StripeCoupon.all(this.matcher)},iP),this,Eat,"coupons",Poo,vr.prototype)}set codes(e){this.codes.$set(e,this,jat,"codes")}get codes(){return this.codes.$get(this,jat,"codes")}get codes(){return this[Too]||y((sP=this.coll({layout:"list"}),p(sP.tab,Function)?sP.tab():sP.tab=!0,sP.callback=function(){return StripePromoCode.all(this.matcher)},sP),this,jat,"codes",Too,vr.prototype)}set settings(e){this.settings.$set(e,this,Aat,"settings")}get settings(){return this.settings.$get(this,Aat,"settings")}get settings(){return this[Ooo]||y(($5=this.embed(put),p($5.tab,Function)?$5.tab():$5.tab=!0,p($5.rw,Function)?$5.rw(ADMIN):$5.rw=ADMIN,$5),this,Aat,"settings",Ooo,vr.prototype)}set data(e){this.data.$set(e,this,Uat,"data")}get data(){return this.data.$get(this,Uat,"data")}get data(){return this[Roo]||y((cut=this.pub(),cut.callback=async function(e){return await StripeCoupon.fetchall(),e.add(StripeCoupon.all())},cut),this,Uat,"data",Roo,vr.prototype)}get matcher(){return String(this.$key)=="stripe_test"?vmn:wmn}get service(){return this}get public_key(){return"pk_live_5wiPV9eQWesOf8SZDFVt6EFe00P48s6YuB"}get api(){throw new Error("Can't access stripe from the client")}get client(){return this[Umn]||=(0,vno.loadStripe)(this.public_key)}set update_products_metadata(e){this.update_products_metadata.$set(e,this,Pat,"update_products_metadata")}get update_products_metadata(){return this.update_products_metadata.$get(this,Pat,"update_products_metadata")}get update_products_metadata(){return this[Moo]||y((Sg=this.action(),p(Sg.x,Function)?Sg.x(ADMIN):Sg.x=ADMIN,p(Sg.rpc,Function)?Sg.rpc():Sg.rpc=!0,Sg.callback=!1,Sg),this,Pat,"update_products_metadata",Moo,vr.prototype)}set fetch_subscriptions(e){this.fetch_subscriptions.$set(e,this,Tat,"fetch_subscriptions")}get fetch_subscriptions(){return this.fetch_subscriptions.$get(this,Tat,"fetch_subscriptions")}get fetch_subscriptions(){return this[Loo]||y((Cg=this.action(),p(Cg.rx,Function)?Cg.rx(ADMIN):Cg.rx=ADMIN,p(Cg.rpc,Function)?Cg.rpc():Cg.rpc=!0,Cg.callback=!1,Cg),this,Tat,"fetch_subscriptions",Loo,vr.prototype)}set fetch_customers(e){this.fetch_customers.$set(e,this,Oat,"fetch_customers")}get fetch_customers(){return this.fetch_customers.$get(this,Oat,"fetch_customers")}get fetch_customers(){return this[Doo]||y((Eg=this.action(),p(Eg.x,Function)?Eg.x(ADMIN):Eg.x=ADMIN,p(Eg.rpc,Function)?Eg.rpc():Eg.rpc=!0,Eg.callback=!1,Eg),this,Oat,"fetch_customers",Doo,vr.prototype)}set fetch_invoices(e){this.fetch_invoices.$set(e,this,Rat,"fetch_invoices")}get fetch_invoices(){return this.fetch_invoices.$get(this,Rat,"fetch_invoices")}get fetch_invoices(){return this[Noo]||y((jg=this.action(),p(jg.x,Function)?jg.x(ADMIN):jg.x=ADMIN,p(jg.rpc,Function)?jg.rpc():jg.rpc=!0,jg.callback=!1,jg),this,Rat,"fetch_invoices",Noo,vr.prototype)}set fetch_products(e){this.fetch_products.$set(e,this,Mat,"fetch_products")}get fetch_products(){return this.fetch_products.$get(this,Mat,"fetch_products")}get fetch_products(){return this[Ioo]||y((Ag=this.action(),p(Ag.x,Function)?Ag.x(ADMIN):Ag.x=ADMIN,p(Ag.rpc,Function)?Ag.rpc():Ag.rpc=!0,Ag.callback=!1,Ag),this,Mat,"fetch_products",Ioo,vr.prototype)}set create_promocode(e){this.create_promocode.$set(e,this,Lat,"create_promocode")}get create_promocode(){return this.create_promocode.$get(this,Lat,"create_promocode")}get create_promocode(){return this[Foo]||y((Ug=this.action(),p(Ug.rx,Function)?Ug.rx(ADMIN):Ug.rx=ADMIN,p(Ug.rpc,Function)?Ug.rpc():Ug.rpc=!0,Ug.callback=!1,Ug),this,Lat,"create_promocode",Foo,vr.prototype)}set create_coupon(e){this.create_coupon.$set(e,this,Dat,"create_coupon")}get create_coupon(){return this.create_coupon.$get(this,Dat,"create_coupon")}get create_coupon(){return this[Hoo]||y((n1=this.action(),p(n1.atomic,Function)?n1.atomic():n1.atomic=!0,p(n1.x,Function)?n1.x(ADMIN):n1.x=ADMIN,p(n1.rpc,Function)?n1.rpc():n1.rpc=!0,n1.callback=!1,n1),this,Dat,"create_coupon",Hoo,vr.prototype)}set wake_subscriptions(e){this.wake_subscriptions.$set(e,this,Nat,"wake_subscriptions")}get wake_subscriptions(){return this.wake_subscriptions.$get(this,Nat,"wake_subscriptions")}get wake_subscriptions(){return this[Boo]||y((i1=this.action(),p(i1.atomic,Function)?i1.atomic():i1.atomic=!0,p(i1.x,Function)?i1.x(ADMIN):i1.x=ADMIN,p(i1.rpc,Function)?i1.rpc():i1.rpc=!0,i1.callback=!1,i1),this,Nat,"wake_subscriptions",Boo,vr.prototype)}set webhook(e){this.webhook.$set(e,this,Iat,"webhook")}get webhook(){return this.webhook.$get(this,Iat,"webhook")}get webhook(){return this[Voo]||y((lP=this.webhook(),p(lP.rpc,Function)?lP.rpc():lP.rpc=!0,lP.callback=!1,lP),this,Iat,"webhook",Voo,vr.prototype)}set configure(e){this.configure.$set(e,this,Fat,"configure")}get configure(){return this.configure.$get(this,Fat,"configure")}get configure(){return this[zoo]||y((Pg=this.action(),p(Pg.rx,Function)?Pg.rx(ADMIN):Pg.rx=ADMIN,p(Pg.g,Function)?Pg.g(100):Pg.g=100,Pg.callback=async function(){let e=window.prompt("Enter Secret Key for "+this.$field);return await this.update({secret_key:e})},Pg),this,Fat,"configure",zoo,vr.prototype)}set remove_site_wide_offer(e){this.remove_site_wide_offer.$set(e,this,Hat,"remove_site_wide_offer")}get remove_site_wide_offer(){return this.remove_site_wide_offer.$get(this,Hat,"remove_site_wide_offer")}get remove_site_wide_offer(){return this[qoo]||y((s1=this.action(),p(s1.rx,Function)?s1.rx(ADMIN):s1.rx=ADMIN,p(s1.if,Function)?s1.if(function(){return APP.stripe.pro.offer}):s1.if=function(){return APP.stripe.pro.offer},p(s1.g,Function)?s1.g(100):s1.g=100,s1.callback=function(){return APP.stripe.pro.offer=null},s1),this,Hat,"remove_site_wide_offer",qoo,vr.prototype)}set set_site_wide_offer(e){this.set_site_wide_offer.$set(e,this,Bat,"set_site_wide_offer")}get set_site_wide_offer(){return this.set_site_wide_offer.$get(this,Bat,"set_site_wide_offer")}get set_site_wide_offer(){return this[Woo]||y((Tg=this.action(),p(Tg.rx,Function)?Tg.rx(ADMIN):Tg.rx=ADMIN,p(Tg.g,Function)?Tg.g(100):Tg.g=100,Tg.callback=async function(){let e=await globalThis.window.prompt("Please enter the coupon or promo code you'd like to add:");e.indexOf("promo_")>-1||e.indexOf("scoupon_")>-1||(e="scoupon_"+e);let t;if(e.indexOf("promo_")==0)t=await StripePromoCode.get(e);else if(e.indexOf("scoupon_")==0)t=await StripeCoupon.get(e);else return OP.toast("Invalid offer ID");return console.log("Offer",t),t.exists?t.livemode!=this.livemode?OP.toast("Offer has different livemode ("+e+" - "+(this.livemode?"Live mode":"Test mode")+")"):APP.stripe.pro.offer=t:OP.toast("Could not find Offer "+e+" in database")},Tg),this,Bat,"set_site_wide_offer",Woo,vr.prototype)}set sync_customers(e){this.sync_customers.$set(e,this,Vat,"sync_customers")}get sync_customers(){return this.sync_customers.$get(this,Vat,"sync_customers")}get sync_customers(){return this[Zoo]||y((Og=this.action(),p(Og.rx,Function)?Og.rx(ADMIN):Og.rx=ADMIN,p(Og.rpc,Function)?Og.rpc():Og.rpc=!0,Og.callback=!1,Og),this,Vat,"sync_customers",Zoo,vr.prototype)}set sync_products(e){this.sync_products.$set(e,this,zat,"sync_products")}get sync_products(){return this.sync_products.$get(this,zat,"sync_products")}get sync_products(){return this[Goo]||y((Rg=this.action(),p(Rg.rx,Function)?Rg.rx(ADMIN):Rg.rx=ADMIN,p(Rg.rpc,Function)?Rg.rpc():Rg.rpc=!0,Rg.callback=!1,Rg),this,zat,"sync_products",Goo,vr.prototype)}set sync_coupons(e){this.sync_coupons.$set(e,this,qat,"sync_coupons")}get sync_coupons(){return this.sync_coupons.$get(this,qat,"sync_coupons")}get sync_coupons(){return this[Yoo]||y((Mg=this.action(),p(Mg.rx,Function)?Mg.rx(ADMIN):Mg.rx=ADMIN,p(Mg.rpc,Function)?Mg.rpc():Mg.rpc=!0,Mg.callback=!1,Mg),this,qat,"sync_coupons",Yoo,vr.prototype)}set sync_promocodes(e){this.sync_promocodes.$set(e,this,Wat,"sync_promocodes")}get sync_promocodes(){return this.sync_promocodes.$get(this,Wat,"sync_promocodes")}get sync_promocodes(){return this[Xoo]||y((Lg=this.action(),p(Lg.rx,Function)?Lg.rx(ADMIN):Lg.rx=ADMIN,p(Lg.rpc,Function)?Lg.rpc():Lg.rpc=!0,Lg.callback=!1,Lg),this,Wat,"sync_promocodes",Xoo,vr.prototype)}set lookup_promo(e){this.lookup_promo.$set(e,this,Zat,"lookup_promo")}get lookup_promo(){return this.lookup_promo.$get(this,Zat,"lookup_promo")}get lookup_promo(){return this[Koo]||y((Dg=this.action(),p(Dg.x,Function)?Dg.x(OPANYONE):Dg.x=OPANYONE,p(Dg.rpc,Function)?Dg.rpc():Dg.rpc=!0,Dg.callback=!1,Dg),this,Zat,"lookup_promo",Koo,vr.prototype)}set syncuser(e){this.syncuser.$set(e,this,Gat,"syncuser")}get syncuser(){return this.syncuser.$get(this,Gat,"syncuser")}get syncuser(){return this[Joo]||y((Ng=this.action(),p(Ng.rx,Function)?Ng.rx(ADMIN):Ng.rx=ADMIN,p(Ng.rpc,Function)?Ng.rpc():Ng.rpc=!0,Ng.callback=!1,Ng),this,Gat,"syncuser",Joo,vr.prototype)}set syncusercustomers(e){this.syncusercustomers.$set(e,this,Yat,"syncusercustomers")}get syncusercustomers(){return this.syncusercustomers.$get(this,Yat,"syncusercustomers")}get syncusercustomers(){return this[Qoo]||y((Ig=this.action(),p(Ig.x,Function)?Ig.x(ADMIN):Ig.x=ADMIN,p(Ig.rpc,Function)?Ig.rpc():Ig.rpc=!0,Ig.callback=!1,Ig),this,Yat,"syncusercustomers",Qoo,vr.prototype)}set create_customer_for_user(e){this.create_customer_for_user.$set(e,this,Xat,"create_customer_for_user")}get create_customer_for_user(){return this.create_customer_for_user.$get(this,Xat,"create_customer_for_user")}get create_customer_for_user(){return this[eno]||y((Fg=this.action(),p(Fg.rx,Function)?Fg.rx(ADMIN):Fg.rx=ADMIN,p(Fg.rpc,Function)?Fg.rpc():Fg.rpc=!0,Fg.callback=!1,Fg),this,Xat,"create_customer_for_user",eno,vr.prototype)}set create_customer(e){this.create_customer.$set(e,this,Kat,"create_customer")}get create_customer(){return this.create_customer.$get(this,Kat,"create_customer")}get create_customer(){return this[tno]||y((Hg=this.action(),p(Hg.x,Function)?Hg.x(ADMIN):Hg.x=ADMIN,p(Hg.rpc,Function)?Hg.rpc():Hg.rpc=!0,Hg.callback=!1,Hg),this,Kat,"create_customer",tno,vr.prototype)}set ensure_customer(e){this.ensure_customer.$set(e,this,Jat,"ensure_customer")}get ensure_customer(){return this.ensure_customer.$get(this,Jat,"ensure_customer")}get ensure_customer(){return this[rno]||y((Bg=this.action(),p(Bg.x,Function)?Bg.x(USER):Bg.x=USER,p(Bg.rpc,Function)?Bg.rpc():Bg.rpc=!0,Bg.callback=!1,Bg),this,Jat,"ensure_customer",rno,vr.prototype)}set claim_gift(e){this.claim_gift.$set(e,this,Qat,"claim_gift")}get claim_gift(){return this.claim_gift.$get(this,Qat,"claim_gift")}get claim_gift(){return this[ono]||y((Vg=this.action(),p(Vg.x,Function)?Vg.x(USER):Vg.x=USER,p(Vg.rpc,Function)?Vg.rpc():Vg.rpc=!0,Vg.callback=!1,Vg),this,Qat,"claim_gift",ono,vr.prototype)}set claim_free_month(e){this.claim_free_month.$set(e,this,eut,"claim_free_month")}get claim_free_month(){return this.claim_free_month.$get(this,eut,"claim_free_month")}get claim_free_month(){return this[nno]||y((zg=this.action(),p(zg.x,Function)?zg.x(USER):zg.x=USER,p(zg.rpc,Function)?zg.rpc():zg.rpc=!0,zg.callback=!1,zg),this,eut,"claim_free_month",nno,vr.prototype)}set create_checkout(e){this.create_checkout.$set(e,this,tut,"create_checkout")}get create_checkout(){return this.create_checkout.$get(this,tut,"create_checkout")}get create_checkout(){return this[ino]||y((qg=this.action(),p(qg.x,Function)?qg.x(USER):qg.x=USER,p(qg.rpc,Function)?qg.rpc():qg.rpc=!0,qg.callback=!1,qg),this,tut,"create_checkout",ino,vr.prototype)}set sync_subs_from_v1(e){this.sync_subs_from_v1.$set(e,this,rut,"sync_subs_from_v1")}get sync_subs_from_v1(){return this.sync_subs_from_v1.$get(this,rut,"sync_subs_from_v1")}get sync_subs_from_v1(){return this[sno]||y((l1=this.action(),p(l1.atomic,Function)?l1.atomic():l1.atomic=!0,p(l1.x,Function)?l1.x(ADMIN):l1.x=ADMIN,p(l1.rpc,Function)?l1.rpc():l1.rpc=!0,l1.callback=!1,l1),this,rut,"sync_subs_from_v1",sno,vr.prototype)}set sync_latest(e){this.sync_latest.$set(e,this,out,"sync_latest")}get sync_latest(){return this.sync_latest.$get(this,out,"sync_latest")}get sync_latest(){return this[lno]||y((a1=this.action(),p(a1.atomic,Function)?a1.atomic():a1.atomic=!0,p(a1.x,Function)?a1.x(ADMIN):a1.x=ADMIN,p(a1.rpc,Function)?a1.rpc():a1.rpc=!0,a1.callback=!1,a1),this,out,"sync_latest",lno,vr.prototype)}set fetch_current_gift_prices(e){this.fetch_current_gift_prices.$set(e,this,nut,"fetch_current_gift_prices")}get fetch_current_gift_prices(){return this.fetch_current_gift_prices.$get(this,nut,"fetch_current_gift_prices")}get fetch_current_gift_prices(){return this[ano]||y((u1=this.action(),p(u1.rx,Function)?u1.rx(ADMIN):u1.rx=ADMIN,p(u1.g,Function)?u1.g(900):u1.g=900,p(u1.rpc,Function)?u1.rpc():u1.rpc=!0,u1.callback=!1,u1),this,nut,"fetch_current_gift_prices",ano,vr.prototype)}set fetch_current_prices(e){this.fetch_current_prices.$set(e,this,iut,"fetch_current_prices")}get fetch_current_prices(){return this.fetch_current_prices.$get(this,iut,"fetch_current_prices")}get fetch_current_prices(){return this[uno]||y((c1=this.action(),p(c1.rx,Function)?c1.rx(ADMIN):c1.rx=ADMIN,p(c1.g,Function)?c1.g(900):c1.g=900,p(c1.rpc,Function)?c1.rpc():c1.rpc=!0,c1.callback=!1,c1),this,iut,"fetch_current_prices",uno,vr.prototype)}set generate_new_gift_prices(e){this.generate_new_gift_prices.$set(e,this,sut,"generate_new_gift_prices")}get generate_new_gift_prices(){return this.generate_new_gift_prices.$get(this,sut,"generate_new_gift_prices")}get generate_new_gift_prices(){return this[cno]||y((h1=this.action(),p(h1.rx,Function)?h1.rx(ADMIN):h1.rx=ADMIN,p(h1.g,Function)?h1.g(900):h1.g=900,p(h1.rpc,Function)?h1.rpc():h1.rpc=!0,h1.callback=!1,h1),this,sut,"generate_new_gift_prices",cno,vr.prototype)}set generate_new_prices(e){this.generate_new_prices.$set(e,this,lut,"generate_new_prices")}get generate_new_prices(){return this.generate_new_prices.$get(this,lut,"generate_new_prices")}get generate_new_prices(){return this[hno]||y((p1=this.action(),p(p1.rx,Function)?p1.rx(ADMIN):p1.rx=ADMIN,p(p1.g,Function)?p1.g(900):p1.g=900,p(p1.rpc,Function)?p1.rpc():p1.rpc=!0,p1.callback=!1,p1),this,lut,"generate_new_prices",hno,vr.prototype)}set update_sandbox(e){this.update_sandbox.$set(e,this,aut,"update_sandbox")}get update_sandbox(){return this.update_sandbox.$get(this,aut,"update_sandbox")}get update_sandbox(){return this[pno]||y((d1=this.action(),p(d1.rx,Function)?d1.rx(OPADMIN):d1.rx=OPADMIN,p(d1.g,Function)?d1.g(900):d1.g=900,p(d1.rpc,Function)?d1.rpc():d1.rpc=!0,d1.callback=!1,d1),this,aut,"update_sandbox",pno,vr.prototype)}set reset_stripe_sandbox(e){this.reset_stripe_sandbox.$set(e,this,uut,"reset_stripe_sandbox")}get reset_stripe_sandbox(){return this.reset_stripe_sandbox.$get(this,uut,"reset_stripe_sandbox")}get reset_stripe_sandbox(){return this[dno]||y((f1=this.action(),p(f1.rx,Function)?f1.rx(OPADMIN):f1.rx=OPADMIN,p(f1.g,Function)?f1.g(900):f1.g=900,p(f1.rpc,Function)?f1.rpc():f1.rpc=!0,f1.callback=!1,f1),this,uut,"reset_stripe_sandbox",dno,vr.prototype)}sanitize(e,t,r=null){var a;var o,n;if(console.warn("sanitize called?!"),!e||e[bno])return e;let i={[bno]:!0},s=t.$shape;s.rawdata&&(i.rawdata=e),e.object=="coupon"&&(i.id="scoupon_"+e.id);for(let u=e.metadata||{},c=0,h=Object.keys(u),d=h.length,f,m;c<d;c++)f=h[c],m=u[f],f.startsWith("sc_")&&(e[f.slice(3)]||=m);for(let u=0,c=Object.keys(e),h=c.length,d,f;u<h;u++){d=c[u],f=e[d];let m=s[d],$=f;if(m&&Object.isPlain(f)&&f.object)if(f.id&&m.type){if(f=this.sanitize(f,m.type,e),m.type==StripeCoupon){let b=StripeCoupon.get(f.id);b.sync(f),f=b}}else f.id?(a=m.type)!=null&&a.$shape&&(f=this.sanitize(f,m.type,e)):f.object=="list"&&(f=f.data);if(m&&m.pgtype&&f!==null){if(m.ref)f=f.id||f;else if(p(m,OPEmbedsField)){f={};for(let b=0,g=B($.data),x=g.length;b<x;b++){let k=g[b],_=f[k.id]=this.sanitize(k,m.type,e);o=_.id,delete _.id,n=_.sid,delete _.sid}}i[d]??=f}}return i}opsettingsbody(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[M0e])||(r=o=0,e=t[M0e]=e=R("op",null,null,null)),r||(e[hut]=t._),r||((c=e[gno])==null||c.call(e,t,M0e)),n=e[kno]("__",e),i=e[kY](Smn),a=u=1,(s=i.run(this.oform(this)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[_Y]&&(a||!s.setup||s.setup(u,i),s[y5](u)),s==e[mY]||!e[mY]&&n[Pmn](e[mY]=s)||(n[Tmn](s,e[mY]),e[mY]=s),r||t.sym||!e.setup||e.setup(o,t,M0e),t.sym||e[y5](o),e}opownform(){var I;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L;return o=n=1,(t=r[L0e])||(o=n=0,t=r[L0e]=t=R("op",null,null,null)),o||(t[hut]=r._),o||((I=t[gno])==null||I.call(t,r,L0e)),i=t[kno]("__",t),o||(t.role="dialog"),e=null,ME!=null&&ME.admin&&(s=a=1,(e=t[mno])||(s=a=0,t[mno]=e=w("div",null,"xf-ai",null)),s||(e[hut]=i),c=h=1,(u=e[$no])||(c=h=0,e[$no]=u=w("div",e,"xf-aj",null)),d=u[kY](Cmn),m=$=1,(f=d.run(this.obuttonif(this.sync_products)))||(m=$=0,d.cache(f=M(d.value,u,null,null))),f[_Y]&&(m||!f.setup||f.setup($,d),f[y5]($)),f==u[$Y]||!u[$Y]&&(u[$Y]=f)[D0e](u)||u[$Y][N0e](u[$Y]=f,u),b=u[kY](Emn),x=k=1,(g=b.run(this.obuttonif(this.fetch_customers)))||(x=k=0,b.cache(g=M(b.value,u,null,null))),g[_Y]&&(x||!g.setup||g.setup(k,b),g[y5](k)),g==u[yY]||!u[yY]&&(u[yY]=g)[D0e](u)||u[yY][N0e](u[yY]=g,u),_=u[kY](jmn),v=C=1,(S=_.run(this.obuttonif(this.fetch_subscriptions)))||(v=C=0,_.cache(S=M(_.value,u,null,null))),S[_Y]&&(v||!S.setup||S.setup(C,_),S[y5](C)),S==u[bY]||!u[bY]&&(u[bY]=S)[D0e](u)||u[bY][N0e](u[bY]=S,u),j=u[kY](Amn),U=O=1,(P=j.run(this.obuttonif(this.sync_latest)))||(U=O=0,j.cache(P=M(j.value,u,null,null))),P[_Y]&&(U||!P.setup||P.setup(O,j),P[y5](O)),P==u[gY]||!u[gY]&&(u[gY]=P)[D0e](u)||u[gY][N0e](u[gY]=P,u),c||!u.setup||u.setup(h,L),u[y5](h)),t[yno]=i[Omn](e,0,t[yno]),o||r.sym||!t.setup||t.setup(n,r,L0e),r.sym||t[y5](n),t}};E(vr,Mmn,"StripeService",0);var xY=vr;globalThis.StripeService=xY;var Lmn=Symbol(),yut=class yut extends xY{get livemode(){return!0}};E(yut,Lmn,"StripeLiveService",0);var dut=yut;globalThis.StripeLiveService=dut;var Dmn=Symbol(),but=class but extends xY{get public_key(){return"pk_test_aDmLHp3n1rvMpuPcslOPbm4C00wqWKNIQv"}};E(but,Dmn,"StripeTestService",0);var fut=but;globalThis.StripeTestService=fut;T();oe();$e();var gut=Symbol("user"),wno=Symbol(),kut=Symbol("address"),Sno=Symbol(),_ut=Symbol("description"),Cno=Symbol(),xut=Symbol("email"),Eno=Symbol(),vut=Symbol("name"),jno=Symbol(),wut=Symbol("phone"),Ano=Symbol(),Sut=Symbol("open"),Uno=Symbol(),Cut=Symbol("active_subs"),Pno=Symbol(),Eut=Symbol("open-portal"),Tno=Symbol(),jut=Symbol("open-portal-srv"),Ono=Symbol(),Aut=Symbol("currency"),Rno=Symbol(),Uut=Symbol("balance"),Mno=Symbol(),Put=Symbol("subs"),Lno=Symbol(),Tut=Symbol("sync"),Dno=Symbol(),vY,Nno,Ino,Fno,Hno,Bno,aP,Out,I0e=Symbol(),Vno=Symbol(),zno=Symbol(),qno=Symbol(),Wno=Symbol(),F0e=Symbol(),Zno=Symbol(),uP,Wg,Gno,Yno,Xno,m1,Kno=Symbol.for("##up"),Jno=Symbol.for("##register"),Nmn=Symbol.for("#getSlot"),Rut=Symbol.for("#afterVisit"),Imn=Symbol.for("#appendChild"),Qno=Symbol.for("#placeChild"),Fmn=Symbol(),xs=class xs extends StripeObject{set user(e){this.user.$set(e,this,gut,"user")}get user(){return this.user.$get(this,gut,"user")}get user(){return this[wno]||y((vY=this.parent(OPUser),p(vY.as,Function)?vY.as(OWNER):vY.as=OWNER,vY),this,gut,"user",wno,xs.prototype)}set address(e){this.address.$set(e,this,kut,"address")}get address(){return this.address.$get(this,kut,"address")}get address(){return this[Sno]||y((Nno=this.object(),Nno),this,kut,"address",Sno,xs.prototype)}set description(e){this.description.$set(e,this,_ut,"description")}get description(){return this.description.$get(this,_ut,"description")}get description(){return this[Cno]||y((Ino=this.string(),Ino),this,_ut,"description",Cno,xs.prototype)}set email(e){this.email.$set(e,this,xut,"email")}get email(){return this.email.$get(this,xut,"email")}get email(){return this[Eno]||y((Fno=this.email(),Fno),this,xut,"email",Eno,xs.prototype)}set name(e){this.name.$set(e,this,vut,"name")}get name(){return this.name.$get(this,vut,"name")}get name(){return this[jno]||y((Hno=this.string(),Hno),this,vut,"name",jno,xs.prototype)}set phone(e){this.phone.$set(e,this,wut,"phone")}get phone(){return this.phone.$get(this,wut,"phone")}get phone(){return this[Ano]||y((Bno=this.string(),Bno),this,wut,"phone",Ano,xs.prototype)}set open(e){this.open.$set(e,this,Sut,"open")}get open(){return this.open.$get(this,Sut,"open")}get open(){return this[Uno]||y((aP=this.action(),p(aP.rx,Function)?aP.rx(ADMIN):aP.rx=ADMIN,aP.callback=function(e){return window.open("https://dashboard.stripe.com/"+(this.test?"test/":"")+"customers/"+this.id,"_blank")},aP),this,Sut,"open",Uno,xs.prototype)}set active_subs(e){this.active_subs.$set(e,this,Cut,"active_subs")}get active_subs(){return this.active_subs.$get(this,Cut,"active_subs")}get active_subs(){return this[Pno]||y((Out=this.memo(),Out.callback=function(){var t,r,o,n,i,s;var e=this;return((s=(i=(n=(o=(r=(t=this.user)==null?void 0:t.$children)==null?void 0:r.only)==null?void 0:o.call(r,StripeSubscription))==null?void 0:n.only)==null?void 0:i.call(n,function(a){return a.customer==e}))==null?void 0:s.len)||0},Out),this,Cut,"active_subs",Pno,xs.prototype)}opactive_subsstat(){var d;var e,t=H(),r,o,n,i,s,a,u,c,h;return r=o=1,(e=t[I0e])||(r=o=0,e=t[I0e]=e=R("op-stat",null,"wy-af",null)),r||(e[Kno]=t._),r||((d=e[Jno])==null||d.call(e,t,I0e)),n=e[Nmn]("__",e),s=a=1,(i=e[Vno])||(s=a=0,e[Vno]=i=R("op-icon",n,null,null)),s||(i.data="sub"),s||!i.setup||i.setup(a,u),i[Rut](a),s||n[Imn](i),(c=e[zno])||(e[zno]=c=w("div",n,null,null)),r||c[Qno]("active subs "),h=this.active_subs,h===e[Wno]&&r||(e[qno]=c[Qno](e[Wno]=h,256,e[qno])),r||t.sym||!e.setup||e.setup(o,t,I0e),t.sym||e[Rut](o),e}get aslilabel(){return"Customer"}opownstats(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[F0e])||(r=o=0,e=t[F0e]=e=R("op-stats",null,null,null)),r||(e[Kno]=t._),r||((i=e[Jno])==null||i.call(e,t,F0e)),n=this,n===e[Zno]||(e.data=e[Zno]=n),r||(e.include="user|_cre|email|active_subs"),r||t.sym||!e.setup||e.setup(o,t,F0e),t.sym||e[Rut](o),e}set openportal(e){this.openportal.$set(e,this,Eut,"openportal")}get openportal(){return this.openportal.$get(this,Eut,"openportal")}get openportal(){return this[Tno]||y((uP=this.action(),p(uP.rx,Function)?uP.rx(OWNER|ADMIN):uP.rx=OWNER|ADMIN,uP.callback=async function(){let e;try{e=await this.openportalsrv()}catch{}if(e)return window.open(e)},uP),this,Eut,"openportal",Tno,xs.prototype)}set openportalsrv(e){this.openportalsrv.$set(e,this,jut,"openportalsrv")}get openportalsrv(){return this.openportalsrv.$get(this,jut,"openportalsrv")}get openportalsrv(){return this[Ono]||y((Wg=this.action(),p(Wg.rx,Function)?Wg.rx(OWNER|ADMIN):Wg.rx=OWNER|ADMIN,p(Wg.rpc,Function)?Wg.rpc():Wg.rpc=!0,Wg.callback=!1,Wg),this,jut,"openportalsrv",Ono,xs.prototype)}set currency(e){this.currency.$set(e,this,Aut,"currency")}get currency(){return this.currency.$get(this,Aut,"currency")}get currency(){return this[Rno]||y((Gno=this.string(),Gno),this,Aut,"currency",Rno,xs.prototype)}set balance(e){this.balance.$set(e,this,Uut,"balance")}get balance(){return this.balance.$get(this,Uut,"balance")}get balance(){return this[Mno]||y((Yno=this.money(),Yno),this,Uut,"balance",Mno,xs.prototype)}set subs(e){this.subs.$set(e,this,Put,"subs")}get subs(){return this.subs.$get(this,Put,"subs")}get subs(){return this[Lno]||y((Xno=this.children(StripeSubscription),Xno),this,Put,"subs",Lno,xs.prototype)}set sync(e){this.sync.$set(e,this,Tut,"sync")}get sync(){return this.sync.$get(this,Tut,"sync")}get sync(){return this[Dno]||y((m1=this.action(),p(m1.x,Function)?m1.x(ADMIN|OWNER):m1.x=ADMIN|OWNER,p(m1.g,Function)?m1.g(500):m1.g=500,p(m1.rpc,Function)?m1.rpc():m1.rpc=!0,m1.callback=!1,m1),this,Tut,"sync",Dno,xs.prototype)}};xs.alias="cus",xs.pgafter=!1,E(xs,Fmn,"StripeCustomer",0);var Mut=xs;globalThis.StripeCustomer=Mut;T();oe();ge(),$e(),gf();var Lut=Symbol("resumes_at"),eio=Symbol(),Dut=Symbol("behavior"),tio=Symbol(),Nut=Symbol("starts_at"),rio=Symbol(),Iut=Symbol("price"),oio=Symbol(),Fut=Symbol("product"),nio=Symbol(),Hut=Symbol("quantity"),iio=Symbol(),But=Symbol("grants"),sio=Symbol(),Vut=Symbol("open"),lio=Symbol(),zut=Symbol("id"),aio=Symbol(),qut=Symbol("user"),uio=Symbol(),Wut=Symbol("customer"),cio=Symbol(),Zut=Symbol("currency"),hio=Symbol(),Gut=Symbol("start_date"),pio=Symbol(),Yut=Symbol("current_period_start"),dio=Symbol(),Xut=Symbol("current_period_end"),fio=Symbol(),Kut=Symbol("canceled_at"),mio=Symbol(),Jut=Symbol("cancel_at"),$io=Symbol(),Qut=Symbol("ended_at"),yio=Symbol(),ect=Symbol("collection_method"),bio=Symbol(),tct=Symbol("paused"),gio=Symbol(),rct=Symbol("open"),kio=Symbol(),oct=Symbol("afl"),_io=Symbol(),nct=Symbol("afp"),xio=Symbol(),ict=Symbol("aflshare"),vio=Symbol(),sct=Symbol("via_user"),wio=Symbol(),lct=Symbol("pause_reason"),Sio=Symbol(),act=Symbol("cancel_reason"),Cio=Symbol(),uct=Symbol("discount_reason"),Eio=Symbol(),cct=Symbol("interval_count"),jio=Symbol(),hct=Symbol("interval_type"),Aio=Symbol(),pct=Symbol("interval_duration"),Uio=Symbol(),dct=Symbol("cre_date"),Pio=Symbol(),fct=Symbol("activated?"),Tio=Symbol(),mct=Symbol("grants"),Oio=Symbol(),$ct=Symbol("automatic_tax"),Rio=Symbol(),yct=Symbol("pause_collection"),Mio=Symbol(),bct=Symbol("cancel_at_period_end"),Lio=Symbol(),gct=Symbol("default_payment_method"),Dio=Symbol(),kct=Symbol("latest_invoice"),Nio=Symbol(),_ct=Symbol("pending_setup_intent"),Iio=Symbol(),xct=Symbol("status"),Fio=Symbol(),vct=Symbol("offer"),Hio=Symbol(),wct=Symbol("discount"),Bio=Symbol(),Sct=Symbol("discounts"),Vio=Symbol(),Cct=Symbol("items"),zio=Symbol(),Ect=Symbol("invoices"),qio=Symbol(),jct=Symbol("nonzero?"),Wio=Symbol(),Act=Symbol("products"),Zio=Symbol(),Uct=Symbol("prices"),Gio=Symbol(),Pct=Symbol("resume"),Yio=Symbol(),Tct=Symbol("cancel"),Xio=Symbol(),Oct=Symbol("apply_churn_coupon"),Kio=Symbol(),Rct=Symbol("apply_coupon"),Jio=Symbol(),Mct=Symbol("unpause_subscription"),Qio=Symbol(),Lct=Symbol("cancel_subscription_srv"),eso=Symbol(),Dct=Symbol("pause_subscription"),tso=Symbol(),Nct=Symbol("set-affiliation"),rso=Symbol(),Ict=Symbol("abort"),oso=Symbol(),Fct=Symbol("abort_and_refund_latest"),nso=Symbol(),Hct=Symbol("delete_subscription"),iso=Symbol(),Bct=Symbol("open-in-stripe"),sso=Symbol(),Vct=Symbol("archive"),lso=Symbol(),zct=Symbol("sync"),aso=Symbol(),qct=Symbol("preview-annual-proration"),uso=Symbol(),Wct=Symbol("upgrade-to-annual"),cso=Symbol(),Zct=Symbol("upgrade-to-annual-srv"),hso=Symbol(),pso,dso,wY,SY,CY,fso,mso,H0e=Symbol(),Hmn=Symbol(),Bmn=Symbol(),$so=Symbol(),cP=Symbol(),Vmn=Symbol(),hP=Symbol(),zmn=Symbol(),pP,B0e=Symbol(),yso=Symbol(),bso=Symbol(),gso=Symbol(),kso=Symbol(),_so=Symbol();var Gct=Symbol(),xso=Symbol(),vso=Symbol(),wso=Symbol(),Sso=Symbol(),Cso=Symbol(),Eso=Symbol(),jso=Symbol(),Aso=Symbol(),Uso=Symbol(),Pso=Symbol(),Tso=Symbol(),Oso=Symbol(),Rso=Symbol(),Mso=Symbol(),Lso=Symbol();var Yct=Symbol();var Xct=Symbol(),Dso=Symbol(),Nso=Symbol(),Iso=Symbol(),Fso=Symbol(),Hso=Symbol(),Bso=Symbol(),Vso=Symbol(),zso=Symbol(),qso=Symbol(),Wso=Symbol(),Zso=Symbol(),Gso=Symbol(),Yso=Symbol(),Xso=Symbol(),Kso=Symbol(),Jso=Symbol(),Qso=Symbol(),elo=Symbol(),tlo=Symbol(),rlo=Symbol(),olo=Symbol(),nlo=Symbol(),ilo=Symbol(),slo=Symbol(),llo=Symbol(),alo=Symbol(),ulo=Symbol(),clo=Symbol(),hlo=Symbol(),plo=Symbol(),dlo=Symbol(),flo=Symbol(),mlo=Symbol(),$lo=Symbol(),ylo=Symbol(),blo=Symbol(),glo=Symbol(),b5,g5,EY,klo,_lo,xlo,vlo,wlo,Slo,Clo,Elo,k5,dP,jlo,Alo,jY,_5,Ulo,Plo,Tlo,Kct,Jct,Qct,eht,tht,Olo,Rlo,Mlo,Llo,Dlo,AY,Nlo,Ilo,Flo,Hlo,Blo,UY,Vlo,rht,oht,qmn=le("&.product",globalThis,l=>l.product),nht,Wmn=le("&.price",globalThis,l=>l.price),rl,$1,zlo=Symbol(),qlo=Symbol(),nu,y1,iu,su,lu,Zg,Ti,Yn,Xn,Gg,au,ol,V0e=Symbol(),Zmn=Symbol(),Gmn=Symbol(),Wlo=Symbol(),fP=Symbol(),Ymn=Symbol(),mP=Symbol(),Xmn=Symbol(),z0e=Symbol(),Zlo=Symbol(),Glo=Symbol(),Ylo=Symbol(),Xlo=Symbol(),Klo=Symbol(),Jlo=Symbol(),Qlo=Symbol();var iht=Symbol(),eao=Symbol(),tao=Symbol(),rao=Symbol(),oao=Symbol(),nao=Symbol(),iao=Symbol(),sao=Symbol(),lao=Symbol(),aao=Symbol(),uao=Symbol(),cao=Symbol(),hao=Symbol(),pao=Symbol(),dao=Symbol(),fao=Symbol(),mao=Symbol(),$ao=Symbol(),yao=Symbol(),bao=Symbol(),gao=Symbol(),kao=Symbol(),_ao=Symbol(),xao=Symbol(),vao=Symbol(),wao=Symbol(),Sao=Symbol(),Cao=Symbol(),Eao=Symbol(),q0e=Symbol(),jao=Symbol(),Aao=Symbol(),Uao=Symbol(),Pao=Symbol(),Tao=Symbol(),Oao=Symbol(),Rao=Symbol(),Mao=Symbol(),Lao=Symbol(),Dao=Symbol(),$P=Symbol(),Kmn=Symbol(),W0e=Symbol(),Nao=Symbol();var sht=Symbol(),Iao=Symbol();var Jmn=Symbol();var Qmn=Symbol(),Fao=Symbol(),Hao=Symbol(),Bao=Symbol(),Vao=Symbol(),zao=Symbol(),qao=Symbol(),Wao=Symbol(),Zao=Symbol(),Gao=Symbol(),lht=Symbol(),uu,b1,Z0e=Symbol(),Yao=Symbol(),Xao=Symbol(),Kao=Symbol(),cu,_o=Symbol.for("##up"),Yg=Symbol.for("##register"),ii=Symbol.for("#getSlot"),m2=Symbol.for("#getRenderContext"),$2=Symbol.for("#isRichElement"),ir=Symbol.for("#afterVisit"),_r=Symbol.for("#placeChild"),Oi=Symbol.for("#appendChild"),Y0e=Symbol.for("#replaceChild"),e$n=Symbol.for("#insertInto"),t$n=Symbol.for("#replaceWith"),r$n=Symbol.for("#visit"),Jao={0:{type:"",duration:"",unit:""},1:{type:"Monthly",duration:"1 month",unit:"month"},3:{type:"Quarterly",duration:"3 months",unit:"month"},6:{type:"Semester",duration:"6 months",unit:"month"},12:{type:"Annual",duration:"1 year",unit:"year"}},o$n=Symbol(),yP=class yP extends OPEmbed{set resumes_at(e){this.resumes_at.$set(e,this,Lut,"resumes_at")}get resumes_at(){return this.resumes_at.$get(this,Lut,"resumes_at")}get resumes_at(){return this[eio]||y((pso=this.ts(),pso),this,Lut,"resumes_at",eio,yP.prototype)}set behavior(e){this.behavior.$set(e,this,Dut,"behavior")}get behavior(){return this.behavior.$get(this,Dut,"behavior")}get behavior(){return this[tio]||y((dso=this.enum({void:{use_case:"Temporarily offer services for free and never collect payment"},keep_as_draft:{use_case:"Temporarily offer services for free and collect payment later"},mark_uncollectible:{use_case:"Temporarily offer services for free and mark invoice as uncollectible"}}),dso),this,Dut,"behavior",tio,yP.prototype)}set starts_at(e){this.starts_at.$set(e,this,Nut,"starts_at")}get starts_at(){return this.starts_at.$get(this,Nut,"starts_at")}get starts_at(){return this[rio]||y((wY=this.ts(),p(wY.readonly,Function)?wY.readonly():wY.readonly=!0,wY),this,Nut,"starts_at",rio,yP.prototype)}get pause_duration_months(){return Math.abs(Math.round(+this.resumes_at.add(-this.starts_at)/(30*24*60*60*1e3)))}};E(yP,o$n,"StripeSubscriptionPauseCollection",0);var X0e=yP;globalThis.StripeSubscriptionPauseCollection=X0e;var G0e=Symbol(),Xg=class Xg extends Qe(G0e,OPEmbed,StripeMixin){constructor(){super(...arguments),super[A]||this[A](),re(this,G0e)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[G0e])==null||o.call(this,...arguments)}set price(e){this.price.$set(e,this,Iut,"price")}get price(){return this.price.$get(this,Iut,"price")}get price(){return this[oio]||y((SY=this.ref(StripePrice),p(SY.eager,Function)?SY.eager():SY.eager=!0,SY),this,Iut,"price",oio,Xg.prototype)}set product(e){this.product.$set(e,this,Fut,"product")}get product(){return this.product.$get(this,Fut,"product")}get product(){return this[nio]||y((CY=this.ref(StripeProduct),p(CY.eager,Function)?CY.eager():CY.eager=!0,CY),this,Fut,"product",nio,Xg.prototype)}set quantity(e){this.quantity.$set(e,this,Hut,"quantity")}get quantity(){return this.quantity.$get(this,Hut,"quantity")}get quantity(){return this[iio]||y((fso=this.int(),fso),this,Hut,"quantity",iio,Xg.prototype)}set grants(e){this.grants.$set(e,this,But,"grants")}get grants(){return this.grants.$get(this,But,"grants")}get grants(){return this[sio]||y((mso=this.object(),mso),this,But,"grants",sio,Xg.prototype)}get name(){var e,t,r,o,n;return(n=(o=(r=(t=(e=this.product)==null?void 0:e.name)==null?void 0:t.replaceAll)==null?void 0:r.call(t,"Scrimba",""))==null?void 0:o.trim)==null?void 0:n.call(o)}get sub(){return this.$root}applydata(e){return super.applydata({product:e.price.product,...e})}opownlibuttons(){var x;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g;return o=n=1,(t=r[H0e])||(o=n=0,t=r[H0e]=t=R("op",null,"xq-af actions",null)),o||(t[_o]=r._),o||((x=t[Yg])==null||x.call(t,r,H0e)),i=t[ii]("__",t),e=null,this.sub.unpause_subscription.hidden&&(s=t[m2](Bmn),a=u=1,(e=s.run(this.obuttonif(this.sub.cancel)))||(a=u=0,s.cache(e=M(s.value,null,"sm",null))),a||(e[_o]=i),e[$2]&&(a||(e.label=!1),a||(e.optip="Cancel subscription"),(!a||u&2)&&e.flags.reconcile(Hmn,"sm"),a||!e.setup||e.setup(u,s),e[ir](u))),t[$so]=i[_r](e,0,t[$so]),c=t[m2](Vmn),d=f=1,(h=c.run(this.obuttonif(this.sub.resume)))||(d=f=0,c.cache(h=M(c.value,i,"sm",null))),h[$2]&&(d||(h.label=!1),d||(h.optip="This will reactivate the subscription."),(!d||f&2)&&h.flags.reconcile(cP,"sm"),d||!h.setup||h.setup(f,c),h[ir](f)),h==t[cP]||!t[cP]&&i[Oi](t[cP]=h)||(i[Y0e](h,t[cP]),t[cP]=h),m=t[m2](zmn),b=g=1,($=m.run(this.obuttonif(this.sub.unpause_subscription)))||(b=g=0,m.cache($=M(m.value,i,"sm",null))),$[$2]&&(b||($.icon="play"),b||($.label=!1),b||($.optip="Unpause subscription"),(!b||g&2)&&$.flags.reconcile(hP,"sm"),b||!$.setup||$.setup(g,m),$[ir](g)),$==t[hP]||!t[hP]&&i[Oi](t[hP]=$)||(i[Y0e]($,t[hP]),t[hP]=$),o||r.sym||!t.setup||t.setup(n,r,H0e),r.sym||t[ir](n),t}set open(e){this.open.$set(e,this,Vut,"open")}get open(){return this.open.$get(this,Vut,"open")}get open(){return this[lio]||y((pP=this.action(),p(pP.rx,Function)?pP.rx(OWNER|ADMIN):pP.rx=OWNER|ADMIN,pP.callback=function(e){return((e==null?void 0:e.originalEvent)||e).opmenu(this.sub)},pP),this,Vut,"open",lio,Xg.prototype)}opownstats(){var qr,Wr;var e,t,r,o,n,i,s,a,u=H(),c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo;return c=h=1,(a=u[B0e])||(c=h=0,a=u[B0e]=a=R("op-stats",null,null,null)),c||(a[_o]=u._),c||((qr=a[Yg])==null||qr.call(a,u,B0e)),d=a[ii]("__",a),t=null,this.price.currency&&(f=m=1,(t=a[yso])||(f=m=0,a[yso]=t=R("op-stat",null,null,null)),f||(t[_o]=d),$=t[ii]("__",t),(b=t[bso])||(t[bso]=b=w("span",$,null,null)),g=OPCurrency.from(this.price.currency).symbol,g===t[kso]&&f||(t[gso]=b[_r](t[kso]=g,384,t[gso])),k=_=1,(x=t[_so])||(k=_=0,t[_so]=x=w("span",$,null,null)),S=!this.sub.discount.empty||void 0,S===t[Gct]||(_|=2,t[Gct]=S),_&2&&x.flag$(t[Gct]?"xq-an":""),S=this.price.unit_amount.mainamount,S===t[vso]&&k||(t[xso]=x[_r](t[vso]=S,384,t[xso])),e=null,this.sub.discount.empty||(v=C=1,(e=t[wso])||(v=C=0,t[wso]=e=w("span",null,null,null)),v||(e[_o]=$),pt.context=e[Cso]||(e[Cso]={_:e}),j=this.sub.discount.onprice(this.price),pt.context=null,j===e[Eso]&&v||(e[Sso]=e[_r](e[Eso]=j,384,e[Sso]))),t[jso]=$[_r](e,0,t[jso]),(P=t[Aso])||(t[Aso]=P=w("div",$,null,null)),U="/ "+this.price.intervalstr,U===t[Pso]&&f||(t[Uso]=P[_r](t[Pso]=U,384,t[Uso])),f||!t.setup||t.setup(m,O),t[ir](m)),a[Tso]=d[_r](t,0,a[Tso]),r=null,(Wr=this.$root)!=null&&Wr.livemode||(L=I=1,(r=a[Oso])||(L=I=0,a[Oso]=r=R("op-stat",null,"xq-aq",null)),L||(r[_o]=d),F=r[ii]("__",r),V=W=1,(N=r[Rso])||(V=W=0,r[Rso]=N=R("op-icon",F,null,null)),V||(N.data="test"),V||!N.setup||N.setup(W,z),N[ir](W),V||F[Oi](N),L||(q=w("div",F,null,"Test Mode")),L||!r.setup||r.setup(I,Y),r[ir](I)),a[Mso]=d[_r](r,0,a[Mso]),X=Z=1,(K=a[Lso])||(X=Z=0,a[Lso]=K=R("op-stat",d,"xq-at",null)),Q=K[ii]("__",a),ee=!this.sub.pro||void 0,ee===a[Yct]||(Z|=2,a[Yct]=ee),ee=this.sub.pro||void 0,ee===a[Xct]||(Z|=2,a[Xct]=ee),Z&2&&K.flag$("xq-at "+(a[Yct]?"xq-au":"")+" "+(a[Xct]?"xq-av":"")),ne=ie=1,(te=a[Dso])||(ne=ie=0,a[Dso]=te=R("op-icon",Q,null,null)),ne||(te.data="info"),ne||!te.setup||te.setup(ie,J),te[ir](ie),ne||Q[Oi](te),(me=a[Nso])||(a[Nso]=me=w("div",Q,null,null)),o=null,this.sub.paused?o="Paused":(pt.context=a[Iso]||(a[Iso]={_:me}),o=this.sub.status.replace(/[^a-z0-9]/gi," "),pt.context=null),a[Fso]=me[_r](o,0,a[Fso]),X||!K.setup||K.setup(Z,ce),K[ir](Z),X||d[Oi](K),n=null,this.sub.start_date&&(ye=we=1,(n=a[Hso])||(ye=we=0,a[Hso]=n=R("op-stat",null,null,null)),ye||(n[_o]=d),ae=n[ii]("__",n),_e=Ae=1,(be=n[Bso])||(_e=Ae=0,n[Bso]=be=R("op-icon",ae,null,null)),_e||(be.data="date"),_e||!be.setup||be.setup(Ae,ve),be[ir](Ae),_e||ae[Oi](be),ye||ae[_r]("Started "),Pe=this.sub.start_date.human,Pe===n[zso]&&ye||(n[Vso]=ae[_r](n[zso]=Pe,256,n[Vso])),ye||!n.setup||n.setup(we,He),n[ir](we)),a[qso]=d[_r](n,0,a[qso]),i=null,this.sub.paused&&(Ue=Be=1,(i=a[Wso])||(Ue=Be=0,a[Wso]=i=R("op-stat",null,"xq-ba",null)),Ue||(i[_o]=d),je=i[ii]("__",i),xe=Re=1,(ue=i[Zso])||(xe=Re=0,i[Zso]=ue=R("op-icon",je,null,null)),xe||(ue.data="date"),xe||!ue.setup||ue.setup(Re,Oe),ue[ir](Re),xe||je[Oi](ue),Ue||je[_r]("Paused "),qe=this.sub.pause_collection.starts_at.human,qe===i[Yso]&&Ue||(i[Gso]=je[_r](i[Yso]=qe,256,i[Gso])),Ue||!i.setup||i.setup(Be,Ne),i[ir](Be)),a[Xso]=d[_r](i,0,a[Xso]),s=null,this.sub.ended?(Ie=Ke=1,(s=a[Kso])||(Ie=Ke=0,a[Kso]=s=R("op-stat",null,"xq-bc",null)),Ie||(s[_o]=d),Te=s[ii]("__",s),Ze=et=1,(Ce=s[Jso])||(Ze=et=0,s[Jso]=Ce=R("op-icon",Te,null,null)),Ze||(Ce.data="cancel"),Ze||!Ce.setup||Ce.setup(et,ft),Ce[ir](et),Ze||Te[Oi](Ce),(Ge=s[Qso])||(s[Qso]=Ge=w("div",Te,null,null)),Ie||Ge[_r]("Ended "),Je=this.sub.ended_at.human,Je===s[tlo]&&Ie||(s[elo]=Ge[_r](s[tlo]=Je,256,s[elo])),Ie||!s.setup||s.setup(Ke,ct),s[ir](Ke)):this.sub.will_end&&this.sub.current_period_end?(rt=$t=1,(s=a[rlo])||(rt=$t=0,a[rlo]=s=R("op-stat",null,"xq-bf",null)),rt||(s[_o]=d),it=s[ii]("__",s),ze=at=1,(tt=s[olo])||(ze=at=0,s[olo]=tt=R("op-icon",it,null,null)),ze||(tt.data="ends"),ze||!tt.setup||tt.setup(at,st),tt[ir](at),ze||it[Oi](tt),(yt=s[nlo])||(s[nlo]=yt=w("div",it,null,null)),rt||yt[_r]("Ends "),vt=this.sub.current_period_end.human,vt===s[slo]&&rt||(s[ilo]=yt[_r](s[slo]=vt,256,s[ilo])),rt||!s.setup||s.setup($t,nt),s[ir]($t)):this.sub.paused||this.sub.will_pause?(Ct=jt=1,(s=a[llo])||(Ct=jt=0,a[llo]=s=R("op-stat",null,"xq-bi",null)),Ct||(s[_o]=d),bt=s[ii]("__",s),ht=Dt=1,(Xe=s[alo])||(ht=Dt=0,s[alo]=Xe=R("op-icon",bt,null,null)),ht||(Xe.data="play"),ht||!Xe.setup||Xe.setup(Dt,mt),Xe[ir](Dt),ht||bt[Oi](Xe),(At=s[ulo])||(s[ulo]=At=w("div",bt,null,null)),Ct||At[_r]("Unpauses "),Ut=this.sub.pause_collection.resumes_at.human,Ut===s[hlo]&&Ct||(s[clo]=At[_r](s[hlo]=Ut,256,s[clo])),Ct||!s.setup||s.setup(jt,kt),s[ir](jt)):this.sub.current_period_end?(_t=xt=1,(s=a[plo])||(_t=xt=0,a[plo]=s=R("op-stat",null,null,null)),_t||(s[_o]=d),Mt=s[ii]("__",s),tr=lt=1,(Ot=s[dlo])||(tr=lt=0,s[dlo]=Ot=R("op-icon",Mt,null,null)),tr||(Ot.data="renews"),tr||!Ot.setup||Ot.setup(lt,fe),Ot[ir](lt),tr||Mt[Oi](Ot),(Me=s[flo])||(s[flo]=Me=w("div",Mt,null,null)),_t||Me[_r]("Renews "),ut=this.sub.current_period_end.human,ut===s[$lo]&&_t||(s[mlo]=Me[_r](s[$lo]=ut,256,s[mlo])),_t||!s.setup||s.setup(xt,Rt),s[ir](xt)):(St=Yt=1,(s=a[ylo])||(St=Yt=0,a[ylo]=s=R("op-stat",null,null,null)),St||(s[_o]=d),rr=s[ii]("__",s),Zt=Nr=1,(er=s[blo])||(Zt=Nr=0,s[blo]=er=R("op-icon",rr,null,null)),Zt||(er.data="renews"),Zt||!er.setup||er.setup(Nr,or),er[ir](Nr),Zt||rr[Oi](er),St||(Tr=w("div",rr,null,"Renews")),St||!s.setup||s.setup(Yt,xo),s[ir](Yt)),a[glo]=d[_r](s,0,a[glo]),c||u.sym||!a.setup||a.setup(h,u,B0e),u.sym||a[ir](h),a}};Xg.alias="si",E(Xg,G0e,"StripeSubscriptionItem",88);var K0e=Xg;globalThis.StripeSubscriptionItem=K0e;var n$n=Symbol(),Wt=class Wt extends StripeObject{set id(e){this.id.$set(e,this,zut,"id")}get id(){return this.id.$get(this,zut,"id")}get id(){return this[aio]||y((b5=this.key(),p(b5.r,Function)?b5.r(ADMIN|OWNER|REFERRER):b5.r=ADMIN|OWNER|REFERRER,p(b5.wcd,Function)?b5.wcd(ADMIN):b5.wcd=ADMIN,b5),this,zut,"id",aio,Wt.prototype)}set user(e){this.user.$set(e,this,qut,"user")}get user(){return this.user.$get(this,qut,"user")}get user(){return this[uio]||y((g5=this.parent(User),p(g5.as,Function)?g5.as(OWNER):g5.as=OWNER,p(g5.foreign,Function)?g5.foreign():g5.foreign=!0,g5),this,qut,"user",uio,Wt.prototype)}set customer(e){this.customer.$set(e,this,Wut,"customer")}get customer(){return this.customer.$get(this,Wut,"customer")}get customer(){return this[cio]||y((EY=this.parent(StripeCustomer),p(EY.owner,Function)?EY.owner():EY.owner=!0,EY),this,Wut,"customer",cio,Wt.prototype)}set currency(e){this.currency.$set(e,this,Zut,"currency")}get currency(){return this.currency.$get(this,Zut,"currency")}get currency(){return this[hio]||y((klo=this.string(),klo),this,Zut,"currency",hio,Wt.prototype)}set start_date(e){this.start_date.$set(e,this,Gut,"start_date")}get start_date(){return this.start_date.$get(this,Gut,"start_date")}get start_date(){return this[pio]||y((_lo=this.ts(),_lo),this,Gut,"start_date",pio,Wt.prototype)}set current_period_start(e){this.current_period_start.$set(e,this,Yut,"current_period_start")}get current_period_start(){return this.current_period_start.$get(this,Yut,"current_period_start")}get current_period_start(){return this[dio]||y((xlo=this.ts(),xlo),this,Yut,"current_period_start",dio,Wt.prototype)}set current_period_end(e){this.current_period_end.$set(e,this,Xut,"current_period_end")}get current_period_end(){return this.current_period_end.$get(this,Xut,"current_period_end")}get current_period_end(){return this[fio]||y((vlo=this.ts(),vlo),this,Xut,"current_period_end",fio,Wt.prototype)}set canceled_at(e){this.canceled_at.$set(e,this,Kut,"canceled_at")}get canceled_at(){return this.canceled_at.$get(this,Kut,"canceled_at")}get canceled_at(){return this[mio]||y((wlo=this.ts(),wlo),this,Kut,"canceled_at",mio,Wt.prototype)}set cancel_at(e){this.cancel_at.$set(e,this,Jut,"cancel_at")}get cancel_at(){return this.cancel_at.$get(this,Jut,"cancel_at")}get cancel_at(){return this[$io]||y((Slo=this.ts(),Slo),this,Jut,"cancel_at",$io,Wt.prototype)}set ended_at(e){this.ended_at.$set(e,this,Qut,"ended_at")}get ended_at(){return this.ended_at.$get(this,Qut,"ended_at")}get ended_at(){return this[yio]||y((Clo=this.ts(),Clo),this,Qut,"ended_at",yio,Wt.prototype)}set collection_method(e){this.collection_method.$set(e,this,ect,"collection_method")}get collection_method(){return this.collection_method.$get(this,ect,"collection_method")}get collection_method(){return this[bio]||y((Elo=this.string(),Elo),this,ect,"collection_method",bio,Wt.prototype)}set paused(e){this.paused.$set(e,this,tct,"paused")}get paused(){return this.paused.$get(this,tct,"paused")}get paused(){return this[gio]||y((k5=this.bool(),p(k5.backfill,Function)?k5.backfill():k5.backfill=!0,p(k5.derived,Function)?k5.derived(!1):k5.derived=!1,k5),this,tct,"paused",gio,Wt.prototype)}set open(e){this.open.$set(e,this,rct,"open")}get open(){return this.open.$get(this,rct,"open")}get open(){return this[kio]||y((dP=this.action(),p(dP.rx,Function)?dP.rx(OWNER|ADMIN):dP.rx=OWNER|ADMIN,dP.callback=function(e){return((e==null?void 0:e.originalEvent)||e).opmenu(this)},dP),this,rct,"open",kio,Wt.prototype)}set afl(e){this.afl.$set(e,this,oct,"afl")}get afl(){return this.afl.$get(this,oct,"afl")}get afl(){return this[_io]||y((jlo=this.ref(AffiliateLink),jlo),this,oct,"afl",_io,Wt.prototype)}set afp(e){this.afp.$set(e,this,nct,"afp")}get afp(){return this.afp.$get(this,nct,"afp")}get afp(){return this[xio]||y((Alo=this.ref(AffiliateProgram),Alo),this,nct,"afp",xio,Wt.prototype)}set aflshare(e){this.aflshare.$set(e,this,ict,"aflshare")}get aflshare(){return this.aflshare.$get(this,ict,"aflshare")}get aflshare(){return this[vio]||y((jY=this.int(),p(jY.r,Function)?jY.r(REFERRER|ADMIN):jY.r=REFERRER|ADMIN,jY),this,ict,"aflshare",vio,Wt.prototype)}set via_user(e){this.via_user.$set(e,this,sct,"via_user")}get via_user(){return this.via_user.$get(this,sct,"via_user")}get via_user(){return this[wio]||y((_5=this.ref(User),p(_5.as,Function)?_5.as(REFERRER):_5.as=REFERRER,p(_5.vias,Function)?_5.vias({[OWNER]:REFERRER}):_5.vias={[OWNER]:REFERRER},_5),this,sct,"via_user",wio,Wt.prototype)}set pause_reason(e){this.pause_reason.$set(e,this,lct,"pause_reason")}get pause_reason(){return this.pause_reason.$get(this,lct,"pause_reason")}get pause_reason(){return this[Sio]||y((Ulo=this.string(),Ulo),this,lct,"pause_reason",Sio,Wt.prototype)}set cancel_reason(e){this.cancel_reason.$set(e,this,act,"cancel_reason")}get cancel_reason(){return this.cancel_reason.$get(this,act,"cancel_reason")}get cancel_reason(){return this[Cio]||y((Plo=this.string(),Plo),this,act,"cancel_reason",Cio,Wt.prototype)}set discount_reason(e){this.discount_reason.$set(e,this,uct,"discount_reason")}get discount_reason(){return this.discount_reason.$get(this,uct,"discount_reason")}get discount_reason(){return this[Eio]||y((Tlo=this.string(),Tlo),this,uct,"discount_reason",Eio,Wt.prototype)}get github(){var e,t,r;return((e=this.metadata)==null?void 0:e.github_free_month)||((r=(t=this.raw)==null?void 0:t.metadata)==null?void 0:r.github_free_month)}set interval_count(e){this.interval_count.$set(e,this,cct,"interval_count")}get interval_count(){return this.interval_count.$get(this,cct,"interval_count")}get interval_count(){return this[jio]||y((Kct=this.get(),Kct.callback=function(){var e,t,r;return((e=this.prices)==null?void 0:e.length)!=1?0:((r=(t=this.prices[0])==null?void 0:t.recurring)==null?void 0:r.interval_count)||0},Kct),this,cct,"interval_count",jio,Wt.prototype)}set interval_type(e){this.interval_type.$set(e,this,hct,"interval_type")}get interval_type(){return this.interval_type.$get(this,hct,"interval_type")}get interval_type(){return this[Aio]||y((Jct=this.get(),Jct.callback=function(){var e;return((e=Jao[this.interval_count])==null?void 0:e.type)||""},Jct),this,hct,"interval_type",Aio,Wt.prototype)}set interval_duration(e){this.interval_duration.$set(e,this,pct,"interval_duration")}get interval_duration(){return this.interval_duration.$get(this,pct,"interval_duration")}get interval_duration(){return this[Uio]||y((Qct=this.get(),Qct.callback=function(){var e;return((e=Jao[this.interval_count])==null?void 0:e.duration)||""},Qct),this,pct,"interval_duration",Uio,Wt.prototype)}get monthly(){var e;return(e=this.prices.at(0))==null?void 0:e.monthly}get annual(){var e;return(e=this.prices.at(0))==null?void 0:e.annual}set cre_date(e){this.cre_date.$set(e,this,dct,"cre_date")}get cre_date(){return this.cre_date.$get(this,dct,"cre_date")}get cre_date(){return this[Pio]||y((eht=this.get(),eht.callback=function(){return new Date(this._cre).toISOString().substring(0,10)},eht),this,dct,"cre_date",Pio,Wt.prototype)}set activated(e){this.activated.$set(e,this,fct,"activated")}get activated(){return this.activated.$get(this,fct,"activated")}get activated(){return this[Tio]||y((tht=this.get(),tht.callback=function(){return String(this.status).indexOf("incomplete")==-1},tht),this,fct,"activated",Tio,Wt.prototype)}set grants(e){this.grants.$set(e,this,mct,"grants")}get grants(){return this.grants.$get(this,mct,"grants")}get grants(){return this[Oio]||y((Olo=this.object(),Olo),this,mct,"grants",Oio,Wt.prototype)}set automatic_tax(e){this.automatic_tax.$set(e,this,$ct,"automatic_tax")}get automatic_tax(){return this.automatic_tax.$get(this,$ct,"automatic_tax")}get automatic_tax(){return this[Rio]||y((Rlo=this.object(),Rlo),this,$ct,"automatic_tax",Rio,Wt.prototype)}set pause_collection(e){this.pause_collection.$set(e,this,yct,"pause_collection")}get pause_collection(){return this.pause_collection.$get(this,yct,"pause_collection")}get pause_collection(){return this[Mio]||y((Mlo=this.embed(X0e),Mlo),this,yct,"pause_collection",Mio,Wt.prototype)}set cancel_at_period_end(e){this.cancel_at_period_end.$set(e,this,bct,"cancel_at_period_end")}get cancel_at_period_end(){return this.cancel_at_period_end.$get(this,bct,"cancel_at_period_end")}get cancel_at_period_end(){return this[Lio]||y((Llo=this.bool(),Llo),this,bct,"cancel_at_period_end",Lio,Wt.prototype)}set default_payment_method(e){this.default_payment_method.$set(e,this,gct,"default_payment_method")}get default_payment_method(){return this.default_payment_method.$get(this,gct,"default_payment_method")}get default_payment_method(){return this[Dio]||y((Dlo=this.string(),Dlo),this,gct,"default_payment_method",Dio,Wt.prototype)}set latest_invoice(e){this.latest_invoice.$set(e,this,kct,"latest_invoice")}get latest_invoice(){return this.latest_invoice.$get(this,kct,"latest_invoice")}get latest_invoice(){return this[Nio]||y((AY=this.ref(StripeInvoice),p(AY.eager,Function)?AY.eager():AY.eager=!0,AY),this,kct,"latest_invoice",Nio,Wt.prototype)}set pending_setup_intent(e){this.pending_setup_intent.$set(e,this,_ct,"pending_setup_intent")}get pending_setup_intent(){return this.pending_setup_intent.$get(this,_ct,"pending_setup_intent")}get pending_setup_intent(){return this[Iio]||y((Nlo=this.string(),Nlo),this,_ct,"pending_setup_intent",Iio,Wt.prototype)}set status(e){this.status.$set(e,this,xct,"status")}get status(){return this.status.$get(this,xct,"status")}get status(){return this[Fio]||y((Ilo=this.string(),Ilo),this,xct,"status",Fio,Wt.prototype)}get asicon(){return"subscription"}set offer(e){this.offer.$set(e,this,vct,"offer")}get offer(){return this.offer.$get(this,vct,"offer")}get offer(){return this[Hio]||y((Flo=this.ref(Offer),Flo),this,vct,"offer",Hio,Wt.prototype)}set discount(e){this.discount.$set(e,this,wct,"discount")}get discount(){return this.discount.$get(this,wct,"discount")}get discount(){return this[Bio]||y((Hlo=this.embed(StripeDiscount),Hlo),this,wct,"discount",Bio,Wt.prototype)}set discounts(e){this.discounts.$set(e,this,Sct,"discounts")}get discounts(){return this.discounts.$get(this,Sct,"discounts")}get discounts(){return this[Vio]||y((Blo=this.embeds(StripeDiscount),Blo),this,Sct,"discounts",Vio,Wt.prototype)}set items(e){this.items.$set(e,this,Cct,"items")}get items(){return this.items.$get(this,Cct,"items")}get items(){return this[zio]||y((UY=this.embeds(K0e),p(UY.synckey,Function)?UY.synckey("data"):UY.synckey="data",UY),this,Cct,"items",zio,Wt.prototype)}set invoices(e){this.invoices.$set(e,this,Ect,"invoices")}get invoices(){return this.invoices.$get(this,Ect,"invoices")}get invoices(){return this[qio]||y((Vlo=this.children(StripeInvoice),Vlo),this,Ect,"invoices",qio,Wt.prototype)}set nonzero(e){this.nonzero.$set(e,this,jct,"nonzero")}get nonzero(){return this.nonzero.$get(this,jct,"nonzero")}get nonzero(){return this[Wio]||y((rht=this.get(),rht.callback=function(){return this.invoices.arr.some(function(e){var t;return e.paid&&((t=e.total)==null?void 0:t.amount)>0})},rht),this,jct,"nonzero",Wio,Wt.prototype)}set products(e){this.products.$set(e,this,Act,"products")}get products(){return this.products.$get(this,Act,"products")}get products(){return this[Zio]||y((oht=this.memo(),oht.callback=function(){return this.items.map(qmn)},oht),this,Act,"products",Zio,Wt.prototype)}set prices(e){this.prices.$set(e,this,Uct,"prices")}get prices(){return this.prices.$get(this,Uct,"prices")}get prices(){return this[Gio]||y((nht=this.memo(),nht.callback=function(){return this.items.map(Wmn)},nht),this,Uct,"prices",Gio,Wt.prototype)}set resume(e){this.resume.$set(e,this,Pct,"resume")}get resume(){return this.resume.$get(this,Pct,"resume")}get resume(){return this[Yio]||y((rl=this.action(),p(rl.atomic,Function)?rl.atomic():rl.atomic=!0,p(rl.rx,Function)?rl.rx(OWNER):rl.rx=OWNER,p(rl.g,Function)?rl.g(0):rl.g=0,p(rl.if,Function)?rl.if(function(){return this.resumable}):rl.if=function(){return this.resumable},p(rl.rpc,Function)?rl.rpc():rl.rpc=!0,rl.callback=!1,rl),this,Pct,"resume",Yio,Wt.prototype)}set cancel(e){this.cancel.$set(e,this,Tct,"cancel")}get cancel(){return this.cancel.$get(this,Tct,"cancel")}get cancel(){return this[Xio]||y(($1=this.action(),p($1.atomic,Function)?$1.atomic():$1.atomic=!0,p($1.rx,Function)?$1.rx(OWNER):$1.rx=OWNER,p($1.if,Function)?$1.if(function(){return this.active&&!this.cancel_at}):$1.if=function(){return this.active&&!this.cancel_at},$1.callback=function(){var i;var e,t={},r,o,n;try{this.opened_cancel_flow=!0}catch{}return Bt((r=o=0,e=e=R("cancelation-flow-modal",null,null,null),r||(e[_o]=t._),r||((i=e[Yg])==null||i.call(e,t,zlo)),n=this,n===e[qlo]||(e.data=e[qlo]=n),r||t.sym||!e.setup||e.setup(o,t,zlo),t.sym||e[ir](o),e))},$1),this,Tct,"cancel",Xio,Wt.prototype)}set apply_churn_coupon(e){this.apply_churn_coupon.$set(e,this,Oct,"apply_churn_coupon")}get apply_churn_coupon(){return this.apply_churn_coupon.$get(this,Oct,"apply_churn_coupon")}get apply_churn_coupon(){return this[Kio]||y((nu=this.action(),p(nu.atomic,Function)?nu.atomic():nu.atomic=!0,p(nu.rx,Function)?nu.rx(OWNER):nu.rx=OWNER,p(nu.if,Function)?nu.if(function(){var e;return this.start_date.age>=21*24*60*60*1e3&&((e=APP.pro)==null?void 0:e.churn_coupon)}):nu.if=function(){var e;return this.start_date.age>=21*24*60*60*1e3&&((e=APP.pro)==null?void 0:e.churn_coupon)},p(nu.rpc,Function)?nu.rpc():nu.rpc=!0,nu.callback=!1,nu),this,Oct,"apply_churn_coupon",Kio,Wt.prototype)}set apply_coupon(e){this.apply_coupon.$set(e,this,Rct,"apply_coupon")}get apply_coupon(){return this.apply_coupon.$get(this,Rct,"apply_coupon")}get apply_coupon(){return this[Jio]||y((y1=this.action(),p(y1.atomic,Function)?y1.atomic():y1.atomic=!0,p(y1.rx,Function)?y1.rx(ADMIN):y1.rx=ADMIN,p(y1.rpc,Function)?y1.rpc():y1.rpc=!0,y1.callback=!1,y1),this,Rct,"apply_coupon",Jio,Wt.prototype)}set unpause_subscription(e){this.unpause_subscription.$set(e,this,Mct,"unpause_subscription")}get unpause_subscription(){return this.unpause_subscription.$get(this,Mct,"unpause_subscription")}get unpause_subscription(){return this[Qio]||y((iu=this.action(),p(iu.atomic,Function)?iu.atomic():iu.atomic=!0,p(iu.rx,Function)?iu.rx(OWNER):iu.rx=OWNER,p(iu.if,Function)?iu.if(function(){return this.paused||this.will_pause}):iu.if=function(){return this.paused||this.will_pause},p(iu.rpc,Function)?iu.rpc():iu.rpc=!0,iu.callback=!1,iu),this,Mct,"unpause_subscription",Qio,Wt.prototype)}set cancel_subscription_srv(e){this.cancel_subscription_srv.$set(e,this,Lct,"cancel_subscription_srv")}get cancel_subscription_srv(){return this.cancel_subscription_srv.$get(this,Lct,"cancel_subscription_srv")}get cancel_subscription_srv(){return this[eso]||y((su=this.action(),p(su.atomic,Function)?su.atomic():su.atomic=!0,p(su.rx,Function)?su.rx(OWNER):su.rx=OWNER,p(su.if,Function)?su.if(function(){return this.active&&!this.cancel_at}):su.if=function(){return this.active&&!this.cancel_at},p(su.rpc,Function)?su.rpc():su.rpc=!0,su.callback=!1,su),this,Lct,"cancel_subscription_srv",eso,Wt.prototype)}set pause_subscription(e){this.pause_subscription.$set(e,this,Dct,"pause_subscription")}get pause_subscription(){return this.pause_subscription.$get(this,Dct,"pause_subscription")}get pause_subscription(){return this[tso]||y((lu=this.action(),p(lu.atomic,Function)?lu.atomic():lu.atomic=!0,p(lu.rx,Function)?lu.rx(OWNER):lu.rx=OWNER,p(lu.if,Function)?lu.if(function(){return this.active&&!this.cancel_at}):lu.if=function(){return this.active&&!this.cancel_at},p(lu.rpc,Function)?lu.rpc():lu.rpc=!0,lu.callback=!1,lu),this,Dct,"pause_subscription",tso,Wt.prototype)}set setaffiliation(e){this.setaffiliation.$set(e,this,Nct,"setaffiliation")}get setaffiliation(){return this.setaffiliation.$get(this,Nct,"setaffiliation")}get setaffiliation(){return this[rso]||y((Zg=this.action(),p(Zg.x,Function)?Zg.x(OPADMIN):Zg.x=OPADMIN,p(Zg.rpc,Function)?Zg.rpc():Zg.rpc=!0,Zg.callback=!1,Zg),this,Nct,"setaffiliation",rso,Wt.prototype)}set abort(e){this.abort.$set(e,this,Ict,"abort")}get abort(){return this.abort.$get(this,Ict,"abort")}get abort(){return this[oso]||y((Ti=this.action(),p(Ti.atomic,Function)?Ti.atomic():Ti.atomic=!0,p(Ti.x,Function)?Ti.x(ADMIN):Ti.x=ADMIN,p(Ti.g,Function)?Ti.g(101):Ti.g=101,p(Ti.if,Function)?Ti.if(function(){return this.incomplete||this.active}):Ti.if=function(){return this.incomplete||this.active},p(Ti.confirm,Function)?Ti.confirm():Ti.confirm=!0,p(Ti.rpc,Function)?Ti.rpc():Ti.rpc=!0,Ti.callback=!1,Ti),this,Ict,"abort",oso,Wt.prototype)}set abort_and_refund_latest(e){this.abort_and_refund_latest.$set(e,this,Fct,"abort_and_refund_latest")}get abort_and_refund_latest(){return this.abort_and_refund_latest.$get(this,Fct,"abort_and_refund_latest")}get abort_and_refund_latest(){return this[nso]||y((Yn=this.action(),p(Yn.atomic,Function)?Yn.atomic():Yn.atomic=!0,p(Yn.x,Function)?Yn.x(ADMIN):Yn.x=ADMIN,p(Yn.g,Function)?Yn.g(101):Yn.g=101,p(Yn.if,Function)?Yn.if(function(){var e,t;return this.active&&((t=(e=this.latest_invoice)==null?void 0:e.charge)==null?void 0:t.refundable)}):Yn.if=function(){var e,t;return this.active&&((t=(e=this.latest_invoice)==null?void 0:e.charge)==null?void 0:t.refundable)},p(Yn.label,Function)?Yn.label("Refund"):Yn.label="Refund",p(Yn.confirm,Function)?Yn.confirm():Yn.confirm=!0,p(Yn.rpc,Function)?Yn.rpc():Yn.rpc=!0,Yn.callback=!1,Yn),this,Fct,"abort_and_refund_latest",nso,Wt.prototype)}set delete_subscription(e){this.delete_subscription.$set(e,this,Hct,"delete_subscription")}get delete_subscription(){return this.delete_subscription.$get(this,Hct,"delete_subscription")}get delete_subscription(){return this[iso]||y((Xn=this.action(),p(Xn.atomic,Function)?Xn.atomic():Xn.atomic=!0,p(Xn.x,Function)?Xn.x(ADMIN):Xn.x=ADMIN,p(Xn.g,Function)?Xn.g(101):Xn.g=101,p(Xn.if,Function)?Xn.if(function(){return this.test}):Xn.if=function(){return this.test},p(Xn.label,Function)?Xn.label("Delete"):Xn.label="Delete",p(Xn.confirm,Function)?Xn.confirm():Xn.confirm=!0,p(Xn.rpc,Function)?Xn.rpc():Xn.rpc=!0,Xn.callback=!1,Xn),this,Hct,"delete_subscription",iso,Wt.prototype)}set openinstripe(e){this.openinstripe.$set(e,this,Bct,"openinstripe")}get openinstripe(){return this.openinstripe.$get(this,Bct,"openinstripe")}get openinstripe(){return this[sso]||y((Gg=this.action(),p(Gg.rx,Function)?Gg.rx(ADMIN):Gg.rx=ADMIN,p(Gg.g,Function)?Gg.g(100):Gg.g=100,Gg.callback=function(){return window.open("https://dashboard.stripe.com/"+(this.test?"test/":"")+"subscriptions/"+this.id,"_blank")},Gg),this,Bct,"openinstripe",sso,Wt.prototype)}set archive(e){this.archive.$set(e,this,Vct,"archive")}get archive(){return this.archive.$get(this,Vct,"archive")}get archive(){return this[lso]||y((au=this.action(),p(au.x,Function)?au.x(ADMIN):au.x=ADMIN,p(au.g,Function)?au.g(101):au.g=101,p(au.if,Function)?au.if(function(){return this.incomplete}):au.if=function(){return this.incomplete},p(au.rpc,Function)?au.rpc():au.rpc=!0,au.callback=!1,au),this,Vct,"archive",lso,Wt.prototype)}set sync(e){this.sync.$set(e,this,zct,"sync")}get sync(){return this.sync.$get(this,zct,"sync")}get sync(){return this[aso]||y((ol=this.action(),p(ol.atomic,Function)?ol.atomic():ol.atomic=!0,p(ol.x,Function)?ol.x(OWNER|ADMIN):ol.x=OWNER|ADMIN,p(ol.g,Function)?ol.g(100):ol.g=100,p(ol.label,Function)?ol.label("Sync Subscription"):ol.label="Sync Subscription",p(ol.rpc,Function)?ol.rpc():ol.rpc=!0,ol.callback=!1,ol),this,zct,"sync",aso,Wt.prototype)}get aslabel(){return this.name}get name(){var e,t,r,o,n,i;return((i=(n=(o=(r=(t=(e=this.items.at(0))==null?void 0:e.product)==null?void 0:t.name)==null?void 0:r.replaceAll)==null?void 0:o.call(r,"Scrimba",""))==null?void 0:n.trim)==null?void 0:i.call(n))||"Scrimba"}get coupon(){return this.discount.coupon}get incomplete(){var e;return Ye(e=this.status,"incomplete")||Ye(e,"incomplete_expired")}get expired(){var e;return Ye(e=this.status,"incomplete_expired")}get trialing(){return Ye(this.status,"trialing")}get active_or_trialing(){var e;return Ye(e=this.status,"active")||Ye(e,"trialing")}get pro(){var e;return Ye(e=this.status,"trialing")||Ye(e,"active")}get active(){var e;return Ye(e=this.status,"trialing")||Ye(e,"active")||Ye(e,"past_due")||Ye(e,"unpaid")}get needspayment(){var e;return Ye(e=this.status,"past_due")||Ye(e,"unpaid")}get ended(){return!!this.ended_at}get will_end(){return!!this.cancel_at_period_end}get upgradeable(){var e,t,r,o;return!(this.trialing||(t=(e=this.raw)==null?void 0:e.metadata)!=null&&t.gift||(o=(r=this.raw)==null?void 0:r.metadata)!=null&&o.github_free_month)}get paused(){var e;return this.active&&!!this.pause_collection.behavior&&this.pause_collection.starts_at.past&&((e=this.pause_collection.resumes_at)==null?void 0:e.future)}get will_pause(){var e;return this.active&&!!this.pause_collection.behavior&&((e=this.pause_collection.starts_at)==null?void 0:e.future)}get resumable(){var e;return Ye(e=this.status,"active")&&this.cancel_at}get discounted(){return!!this.coupon}opownlibuttons(){var x;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g;return o=n=1,(t=r[V0e])||(o=n=0,t=r[V0e]=t=R("op",null,"xq-bs actions",null)),o||(t[_o]=r._),o||((x=t[Yg])==null||x.call(t,r,V0e)),i=t[ii]("__",t),e=null,this.unpause_subscription.hidden&&(s=t[m2](Gmn),a=u=1,(e=s.run(this.obuttonif(this.cancel)))||(a=u=0,s.cache(e=M(s.value,null,"sm",null))),a||(e[_o]=i),e[$2]&&(a||(e.label=!1),a||(e.optip="Cancel subscription"),(!a||u&2)&&e.flags.reconcile(Zmn,"sm"),a||!e.setup||e.setup(u,s),e[ir](u))),t[Wlo]=i[_r](e,0,t[Wlo]),c=t[m2](Ymn),d=f=1,(h=c.run(this.obuttonif(this.resume)))||(d=f=0,c.cache(h=M(c.value,i,"sm",null))),h[$2]&&(d||(h.label=!1),d||(h.optip="This will reactivate the subscription."),(!d||f&2)&&h.flags.reconcile(fP,"sm"),d||!h.setup||h.setup(f,c),h[ir](f)),h==t[fP]||!t[fP]&&i[Oi](t[fP]=h)||(i[Y0e](h,t[fP]),t[fP]=h),m=t[m2](Xmn),b=g=1,($=m.run(this.obuttonif(this.unpause_subscription)))||(b=g=0,m.cache($=M(m.value,i,"sm",null))),$[$2]&&(b||($.icon="play"),b||($.label=!1),b||($.optip="Unpause subscription"),(!b||g&2)&&$.flags.reconcile(mP,"sm"),b||!$.setup||$.setup(g,m),$[ir](g)),$==t[mP]||!t[mP]&&i[Oi](t[mP]=$)||(i[Y0e]($,t[mP]),t[mP]=$),o||r.sym||!t.setup||t.setup(n,r,V0e),r.sym||t[ir](n),t}opownstats(){var ze;var e,t,r,o,n,i,s,a=H(),u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt;if(u=c=1,(s=a[z0e])||(u=c=0,s=a[z0e]=s=R("op-stats",null,null,null)),u||(s[_o]=a._),u||((ze=s[Yg])==null||ze.call(s,a,z0e)),h=s[ii]("__",s),d=this,d===s[Zlo]||(s.data=s[Zlo]=d),e=null,this.livemode||(f=m=1,(e=s[Glo])||(f=m=0,s[Glo]=e=R("op-stat",null,"xq-bx",null)),f||(e[_o]=h),$=e[ii]("__",e),g=x=1,(b=e[Ylo])||(g=x=0,e[Ylo]=b=R("op-icon",$,null,null)),g||(b.data="test"),g||!b.setup||b.setup(x,k),b[ir](x),g||$[Oi](b),f||(_=w("div",$,null,"Test Mode")),f||!e.setup||e.setup(m,S),e[ir](m)),s[Xlo]=h[_r](e,0,s[Xlo]),t=null,this.paused?(v=C=1,(t=s[Klo])||(v=C=0,s[Klo]=t=R("op-stat",null,"xq-ca",null)),v||(t[_o]=h),j=t[ii]("__",t),U=O=1,(P=t[Jlo])||(U=O=0,t[Jlo]=P=R("op-icon",j,null,null)),U||(P.data="pause"),U||!P.setup||P.setup(O,L),P[ir](O),U||j[Oi](P),v||(I=w("div",j,null,"Paused")),v||!t.setup||t.setup(C,F),t[ir](C)):(N=V=1,(t=s[Qlo])||(N=V=0,s[Qlo]=t=R("op-stat",null,"xq-cd",null)),N||(t[_o]=h),W=t[ii]("__",t),z=this.status,z===t[iht]||(V|=2,t[iht]=z),V&2&&t.flag$("xq-cd "+(t[iht]||"")),Y=K=1,(q=t[eao])||(Y=K=0,t[eao]=q=R("op-icon",W,null,null)),Y||(q.data="info"),Y||!q.setup||q.setup(K,X),q[ir](K),Y||W[Oi](q),(Z=t[tao])||(t[tao]=Z=w("div",W,null,null)),pt.context=t[oao]||(t[oao]={_:Z}),Q=this.status.replace(/[^a-z0-9]/gi," "),pt.context=null,Q===t[nao]&&N||(t[rao]=Z[_r](t[nao]=Q,384,t[rao])),N||!t.setup||t.setup(V,ee),t[ir](V)),s[iao]=h[_r](t,0,s[iao]),r=null,this.start_date&&(te=ne=1,(r=s[sao])||(te=ne=0,s[sao]=r=R("op-stat",null,null,null)),te||(r[_o]=h),ie=r[ii]("__",r),me=ce=1,(J=r[lao])||(me=ce=0,r[lao]=J=R("op-icon",ie,null,null)),me||(J.data="date"),me||!J.setup||J.setup(ce,ye),J[ir](ce),me||ie[Oi](J),te||ie[_r]("Started "),we=this.start_date.human,we===r[uao]&&te||(r[aao]=ie[_r](r[uao]=we,256,r[aao])),te||!r.setup||r.setup(ne,ae),r[ir](ne)),s[cao]=h[_r](r,0,s[cao]),n=null,(this.paused||this.will_pause)&&(be=_e=1,(n=s[hao])||(be=_e=0,s[hao]=n=R("op-stat",null,null,null)),be||(n[_o]=h),Ae=n[ii]("__",n),Pe=He=1,(ve=n[pao])||(Pe=He=0,n[pao]=ve=R("op-icon",Ae,null,null)),Pe||(ve.data="date"),Pe||!ve.setup||ve.setup(He,Ue),ve[ir](He),Pe||Ae[Oi](ve),o=null,this.paused?o="Paused":o="Pauses",n[dao]=Ae[_r](o,0,n[dao]),be||Ae[_r](" "),Be=this.pause_collection.starts_at.human,Be===n[mao]&&be||(n[fao]=Ae[_r](n[mao]=Be,256,n[fao])),be||!n.setup||n.setup(_e,je),n[ir](_e)),s[$ao]=h[_r](n,0,s[$ao]),i=null,this.will_end){let at=this.paused||this.will_pause?this.pause_collection.resumes_at:this.current_period_end;ue=xe=1,(i=s[yao])||(ue=xe=0,s[yao]=i=R("op-stat",null,null,null)),ue||(i[_o]=h),Re=i[ii]("__",i),qe=Ne=1,(Oe=i[bao])||(qe=Ne=0,i[bao]=Oe=R("op-icon",Re,null,null)),qe||(Oe.data="date"),qe||!Oe.setup||Oe.setup(Ne,Ie),Oe[ir](Ne),qe||Re[Oi](Oe),(Ke=i[gao])||(i[gao]=Ke=w("span",Re,null,null)),ue||Ke[_r]("Ends "),Te=at==null?void 0:at.human,Te===i[_ao]&&ue||(i[kao]=Ke[_r](i[_ao]=Te,256,i[kao])),ue||!i.setup||i.setup(xe,Ce),i[ir](xe)}else{let at=this.paused||this.will_pause?this.pause_collection.resumes_at:this.current_period_end;Ze=et=1,(i=s[xao])||(Ze=et=0,s[xao]=i=R("op-stat",null,null,null)),Ze||(i[_o]=h),ft=i[ii]("__",i),Je=ct=1,(Ge=i[vao])||(Je=ct=0,i[vao]=Ge=R("op-icon",ft,null,null)),Je||(Ge.data="date"),Je||!Ge.setup||Ge.setup(ct,rt),Ge[ir](ct),Je||ft[Oi](Ge),($t=i[wao])||(i[wao]=$t=w("span",ft,null,null)),Ze||$t[_r]("Renews "),it=at==null?void 0:at.human,it===i[Cao]&&Ze||(i[Sao]=$t[_r](i[Cao]=it,256,i[Sao])),Ze||!i.setup||i.setup(et,tt),i[ir](et)}return s[Eao]=h[_r](i,0,s[Eao]),u||a.sym||!s.setup||s.setup(c,a,z0e),a.sym||s[ir](c),s}opinvoicessection(){var Y;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q;r=o=1,(e=t[q0e])||(r=o=0,e=t[q0e]=e=R("op",null,"xq_cq",null)),r||(e[_o]=t._),r||((Y=e[Yg])==null||Y.call(e,t,q0e)),n=e[ii]("__",e),i=this.invoices,i===e[jao]||(e.data=e[jao]=i),r||(s=w("h2",n,"xq-cs xq_cq","Invoices")),r||(a=w("table",n,"xq_cq",null)),r||(u=w("thead",a,"xq_cq",null)),r||(c=w("tr",u,"xq_cq",null)),r||(h=w("th",c,"xq-cw xq_cq","Date")),r||(d=w("th",c,"xq-cx xq_cq","Amount")),r||(f=w("th",c,"xq-cy xq_cq","Status")),r||(m=w("th",c,"xq-cz xq_cq","Receipt")),($=e[Aao])||(e[Aao]=$=w("tbody",a,"xq_cq",null)),(b=e[Uao])||(e[Uao]=b=Jt(384,$)),g=0,x=b.$;for(let K=0,X=B(this.invoices),Z=X.length;K<Z;K++){let Q=X[K];_=S=1,(k=x[g])||(_=S=0,x[g]=k=w("tr",b,"xq_cq",null)),_||(k[_o]=b),(v=k[Pao])||(k[Pao]=v=w("td",k,"xq-dc xq_cq",null)),C=Q._cre.format("ymd"),C===k[Tao]||v.text$(String(k[Tao]=C)),(j=k[Oao])||(k[Oao]=j=w("td",k,"xq-dd xq_cq",null)),P=Q.total,P===k[Rao]||j.text$(String(k[Rao]=P)),(U=k[Mao])||(k[Mao]=U=w("td",k,"xq-de xq_cq",null)),O=Q.status,O===k[Lao]||U.text$(String(k[Lao]=O)),I=F=1,(L=k[Dao])||(I=F=0,k[Dao]=L=w("td",k,"xq-df xq_cq",null)),N=L[m2](Kmn),W=z=1,(V=N.run(this.obuttonif(Q.view_receipt)))||(W=z=0,N.cache(V=M(N.value,L,"xq-dg xq_cq",null))),V[$2]&&(W||(V.label=""),(!W||z&2)&&V.flags.reconcile($P,"xq-dg xq_cq"),W||!V.setup||V.setup(z,N),V[ir](z)),V==L[$P]||!L[$P]&&(L[$P]=V)[e$n](L)||L[$P][t$n](L[$P]=V,L),I||!L.setup||L.setup(F,q),L[ir](F),g++}return b[ir](g),r||t.sym||!e.setup||e.setup(o,t,q0e),t.sym||e[ir](o),e}opownform(e,t){var K,X,Z;var r,o,n,i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y;return a=u=1,(i=s[W0e])||(a=u=0,i=s[W0e]=i=R("op",null,null,null)),a||(i[_o]=s._),a||((K=i[Yg])==null||K.call(i,s,W0e)),c=i[ii]("__",i),h=this,h===i[Nao]||(i.data=i[Nao]=h),h=this.status,h===i[sht]||(u|=2,i[sht]=h),d=i[Iao]||(i[Iao]={options:[null]}),h=this,h===d.options[0]||(d.options[0]=h,u|=48),a||i.on$("opmenu",d,this),u&32&&(u^=32,(X=d[r$n])==null||X.call(d)),u&2&&i.flag$(i[sht]||""),r=o=n=null,this.incomplete?(f=i[m2](Jmn),m=$=1,(r=f.run(this.osection(this.latest_invoice.lines)))||(m=$=0,f.cache(r=M(f.value,null,null,null))),m||(r[_o]=c),r[$2]&&(m||!r.setup||r.setup($,f),r[ir]($)),b=i[m2](Qmn),g=x=1,(o=b.run(this.osection((Z=this.latest_invoice)==null?void 0:Z.payment_intent)))||(g=x=0,b.cache(o=M(b.value,null,null,null))),g||(o[_o]=c),o[$2]&&(g||!o.setup||o.setup(x,b),o[ir](x))):this.active&&(p(t,StripeProduct)&&(k=_=1,(r=i[Fao])||(k=_=0,i[Fao]=r=w("div",null,"xq-dk","Welcome as a Pro member!")),k||(r[_o]=c)),S=v=1,(o=i[Hao])||(S=v=0,i[Hao]=o=w("div",null,null,null)),S||(o[_o]=c),S||o[_r]("Get started with our "),j=P=1,(C=o[Bao])||(j=P=0,o[Bao]=C=w("a",o,"xq-dm","Courses")),j||(C.routeto="/courses"),j||!C.setup||C.setup(P,U),C[ir](P),S||o[_r](" or "),L=I=1,(O=o[Vao])||(L=I=0,o[Vao]=O=w("a",o,"xq-dn","Projects")),L||(O.routeto="/projects"),L||!O.setup||O.setup(I,F),O[ir](I),S||o[_r]("."),N=V=1,(n=i[zao])||(N=V=0,i[zao]=n=w("div",null,null,null)),N||(n[_o]=c),N||n[_r]("Or start "),z=q=1,(W=n[qao])||(z=q=0,n[qao]=W=w("a",n,"xq-dp","a new project")),z||(W.routeto="/new"),z||!W.setup||W.setup(q,Y),W[ir](q),N||n[_r](".")),i[Wao]=c[_r](r,0,i[Wao]),i[Zao]=c[_r](o,0,i[Zao]),i[Gao]=c[_r](n,0,i[Gao]),a||s.sym||!i.setup||i.setup(u,s,W0e),s.sym||i[ir](u),i}opownpagebody(){var i;var e,t,r=H(),o,n;return e=r[m2](lht),o=n=1,(t=e.run(this.osection(this)))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[_o]=r._),o||((i=t[Yg])==null||i.call(t,r,lht)),t[$2]&&(o||r.sym||!t.setup||t.setup(n,r,lht),r.sym||t[ir](n)),t}get annualsavings(){var o;let e=this.items[0].price;if(!e)return;if(e.annual)return"";let t=(o=e.unit_amount)==null?void 0:o.mainamount;if(!t)return;let r=this.discount.empty?t:this.discount.onprice(e);return e.format(6*100*r)}set previewannualproration(e){this.previewannualproration.$set(e,this,qct,"previewannualproration")}get previewannualproration(){return this.previewannualproration.$get(this,qct,"previewannualproration")}get previewannualproration(){return this[uso]||y((uu=this.action(),p(uu.atomic,Function)?uu.atomic():uu.atomic=!0,p(uu.if,Function)?uu.if(function(){return ME.onmonthly}):uu.if=function(){return ME.onmonthly},p(uu.rx,Function)?uu.rx(OWNER):uu.rx=OWNER,p(uu.rpc,Function)?uu.rpc():uu.rpc=!0,uu.callback=!1,uu),this,qct,"previewannualproration",uso,Wt.prototype)}set upgradetoannual(e){this.upgradetoannual.$set(e,this,Wct,"upgradetoannual")}get upgradetoannual(){return this.upgradetoannual.$get(this,Wct,"upgradetoannual")}get upgradetoannual(){return this[cso]||y((b1=this.action(),p(b1.atomic,Function)?b1.atomic():b1.atomic=!0,p(b1.rx,Function)?b1.rx(OWNER):b1.rx=OWNER,p(b1.if,Function)?b1.if(function(){return ME.onmonthly&&!p(ME.activesub,PaypalSubscription)&&Ye(ME.activesub,this)}):b1.if=function(){return ME.onmonthly&&!p(ME.activesub,PaypalSubscription)&&Ye(ME.activesub,this)},b1.callback=async function(){var u;var e,t=H(),r,o,n;let i=this.items[0].stripeid,{recurring:s,immediate:a}=await this.previewannualproration(i);if(await Bt((r=o=1,(e=t[Z0e])||(r=o=0,e=t[Z0e]=e=R("annual-upgrade-modal",null,null,null)),r||(e[_o]=t._),r||((u=e[Yg])==null||u.call(e,t,Z0e)),n=this,n===e[Yao]||(e.sub=e[Yao]=n),a===e[Xao]||(e.invoice=e[Xao]=a),s===e[Kao]||(e.recurring=e[Kao]=s),r||t.sym||!e.setup||e.setup(o,t,Z0e),t.sym||e[ir](o),e)))return this.upgradetoannualsrv(i)},b1),this,Wct,"upgradetoannual",cso,Wt.prototype)}set upgradetoannualsrv(e){this.upgradetoannualsrv.$set(e,this,Zct,"upgradetoannualsrv")}get upgradetoannualsrv(){return this.upgradetoannualsrv.$get(this,Zct,"upgradetoannualsrv")}get upgradetoannualsrv(){return this[hso]||y((cu=this.action(),p(cu.atomic,Function)?cu.atomic():cu.atomic=!0,p(cu.rx,Function)?cu.rx(OWNER):cu.rx=OWNER,p(cu.if,Function)?cu.if(function(){return ME.onmonthly}):cu.if=function(){return ME.onmonthly},p(cu.rpc,Function)?cu.rpc():cu.rpc=!0,cu.callback=!1,cu),this,Zct,"upgradetoannualsrv",hso,Wt.prototype)}};Wt.alias="sub",Wt.pgafter=!1,E(Wt,n$n,"StripeSubscription",0);var aht=Wt;globalThis.StripeSubscription=aht;T();oe();$e();var uht=Symbol("amount"),Qao=Symbol(),cht=Symbol("currency"),euo=Symbol(),hht=Symbol("description"),tuo=Symbol(),pht=Symbol("quantity"),ruo=Symbol(),dht=Symbol("period"),ouo=Symbol(),fht=Symbol("afl"),nuo=Symbol(),mht=Symbol("aflshare"),iuo=Symbol(),$ht=Symbol("id"),suo=Symbol(),yht=Symbol("subtotal"),luo=Symbol(),bht=Symbol("subtotal_excluding_tax"),auo=Symbol(),ght=Symbol("status"),uuo=Symbol(),kht=Symbol("total"),cuo=Symbol(),_ht=Symbol("currency"),huo=Symbol(),xht=Symbol("user"),puo=Symbol(),vht=Symbol("total_usd"),duo=Symbol(),wht=Symbol("aflcut_usd"),fuo=Symbol(),Sht=Symbol("payment_intent"),muo=Symbol(),Cht=Symbol("subscription"),$uo=Symbol(),Eht=Symbol("customer"),yuo=Symbol(),jht=Symbol("lines"),buo=Symbol(),Aht=Symbol("charge"),guo=Symbol(),Uht=Symbol("hosted_invoice_url"),kuo=Symbol(),Pht=Symbol("created"),_uo=Symbol(),Tht=Symbol("period_start"),xuo=Symbol(),Oht=Symbol("period_end"),vuo=Symbol(),Rht=Symbol("due_date"),wuo=Symbol(),Mht=Symbol("finalized_at"),Suo=Symbol(),Lht=Symbol("effective_at"),Cuo=Symbol(),Dht=Symbol("billing_reason"),Euo=Symbol(),Nht=Symbol("afp"),juo=Symbol(),Iht=Symbol("afl"),Auo=Symbol(),Fht=Symbol("aflshare"),Uuo=Symbol(),Hht=Symbol("aflcut"),Puo=Symbol(),Bht=Symbol("via_user"),Tuo=Symbol(),Vht=Symbol("payout"),Ouo=Symbol(),zht=Symbol("payout_eligible?"),Ruo=Symbol(),qht=Symbol("cre_date"),Muo=Symbol(),Wht=Symbol("commission?"),Luo=Symbol(),Zht=Symbol("start_date"),Duo=Symbol(),Ght=Symbol("commission_eligible?"),Nuo=Symbol(),Yht=Symbol("purchase_type"),Iuo=Symbol(),Xht=Symbol("sync"),Fuo=Symbol(),Kht=Symbol("refunded?"),Huo=Symbol(),Jht=Symbol("view_receipt"),Buo=Symbol(),Vuo,zuo,quo,Wuo,Zuo,Guo,x5,v5,Yuo,Xuo,PY,Kuo,Juo,w5,x0,v0,J0e=Symbol(),Quo=Symbol(),eco=Symbol(),Q0e=Symbol(),tco=Symbol(),rco=Symbol(),oco,TY,nco,OY,ico,sco,RY,lco,aco,uco,cco,hco,pco,dco,MY,S5,LY,C5,DY,Qht,ept,tpt,rpt,opt,npt,hu,ipt,Kg,efe=Symbol(),fco=Symbol(),i$n=Symbol(),mco=Symbol(),$co=Symbol(),yco=Symbol(),bco=Symbol(),gco=Symbol(),kco=Symbol(),_co=Symbol(),xco=Symbol();var s$n=Symbol(),vco=Symbol(),tfe=Symbol(),NY=Symbol(),l$n=Symbol(),wco=Symbol(),IY=Symbol(),a$n=Symbol(),bP=Symbol.for("##up"),rfe=Symbol.for("##register"),FY=Symbol.for("#getSlot"),y2=Symbol.for("#placeChild"),b2=Symbol.for("#afterVisit"),ofe=Symbol.for("#getRenderContext"),spt=Symbol.for("#isRichElement"),u$n=Symbol.for("#getFunctionalSlot"),c$n=Symbol.for("#insertInto"),h$n=Symbol.for("#replaceWith"),p$n=Symbol.for("#appendChild"),d$n=Symbol.for("#replaceChild"),nfe=Symbol(),w0=class w0 extends Qe(nfe,OPEmbed,StripeMixin){constructor(){super(...arguments),super[A]||this[A](),re(this,nfe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[nfe])==null||o.call(this,...arguments)}set amount(e){this.amount.$set(e,this,uht,"amount")}get amount(){return this.amount.$get(this,uht,"amount")}get amount(){return this[Qao]||y((Vuo=this.money(),Vuo),this,uht,"amount",Qao,w0.prototype)}set currency(e){this.currency.$set(e,this,cht,"currency")}get currency(){return this.currency.$get(this,cht,"currency")}get currency(){return this[euo]||y((zuo=this.string(),zuo),this,cht,"currency",euo,w0.prototype)}set description(e){this.description.$set(e,this,hht,"description")}get description(){return this.description.$get(this,hht,"description")}get description(){return this[tuo]||y((quo=this.string(),quo),this,hht,"description",tuo,w0.prototype)}set quantity(e){this.quantity.$set(e,this,pht,"quantity")}get quantity(){return this.quantity.$get(this,pht,"quantity")}get quantity(){return this[ruo]||y((Wuo=this.int(),Wuo),this,pht,"quantity",ruo,w0.prototype)}set period(e){this.period.$set(e,this,dht,"period")}get period(){return this.period.$get(this,dht,"period")}get period(){return this[ouo]||y((Zuo=this.object(),Zuo),this,dht,"period",ouo,w0.prototype)}set afl(e){this.afl.$set(e,this,fht,"afl")}get afl(){return this.afl.$get(this,fht,"afl")}get afl(){return this[nuo]||y((Guo=this.ref(AffiliateLink),Guo),this,fht,"afl",nuo,w0.prototype)}set aflshare(e){this.aflshare.$set(e,this,mht,"aflshare")}get aflshare(){return this.aflshare.$get(this,mht,"aflshare")}get aflshare(){return this[iuo]||y((x5=this.int(),p(x5.clamp,Function)?x5.clamp(0,100):x5.clamp=0,p(x5.r,Function)?x5.r(REFERRER|ADMIN):x5.r=REFERRER|ADMIN,x5),this,mht,"aflshare",iuo,w0.prototype)}get months(){return this.period?Math.round((this.period.end-this.period.start)/(30*24*60*60*1e3/1e3)):0}};w0.alias="il",E(w0,nfe,"StripeInvoiceLine",80);var ife=w0;globalThis.StripeInvoiceLine=ife;var f$n=Symbol(),Dr=class Dr extends StripeObject{set id(e){this.id.$set(e,this,$ht,"id")}get id(){return this.id.$get(this,$ht,"id")}get id(){return this[suo]||y((v5=this.key(),p(v5.r,Function)?v5.r(ADMIN|OWNER|REFERRER):v5.r=ADMIN|OWNER|REFERRER,p(v5.wcd,Function)?v5.wcd(ADMIN):v5.wcd=ADMIN,v5),this,$ht,"id",suo,Dr.prototype)}set subtotal(e){this.subtotal.$set(e,this,yht,"subtotal")}get subtotal(){return this.subtotal.$get(this,yht,"subtotal")}get subtotal(){return this[luo]||y((Yuo=this.money(),Yuo),this,yht,"subtotal",luo,Dr.prototype)}set subtotal_excluding_tax(e){this.subtotal_excluding_tax.$set(e,this,bht,"subtotal_excluding_tax")}get subtotal_excluding_tax(){return this.subtotal_excluding_tax.$get(this,bht,"subtotal_excluding_tax")}get subtotal_excluding_tax(){return this[auo]||y((Xuo=this.money(),Xuo),this,bht,"subtotal_excluding_tax",auo,Dr.prototype)}set status(e){this.status.$set(e,this,ght,"status")}get status(){return this.status.$get(this,ght,"status")}get status(){return this[uuo]||y((PY=this.enum({draft:{default:!0,tip:"The invoice isn't ready to use."},open:{tip:"The invoice is finalized and awaiting payment."},paid:{color:"#12b77f",tip:"This invoice is paid."},uncollectible:{tip:"The customer is unlikely to pay the invoice. Normally, you treat it as bad debt in your accounting process."},void:{tip:"This invoice is canceled."}}),p(PY.f,Function)?PY.f():PY.f=!0,PY),this,ght,"status",uuo,Dr.prototype)}set total(e){this.total.$set(e,this,kht,"total")}get total(){return this.total.$get(this,kht,"total")}get total(){return this[cuo]||y((Kuo=this.money(),Kuo),this,kht,"total",cuo,Dr.prototype)}set currency(e){this.currency.$set(e,this,_ht,"currency")}get currency(){return this.currency.$get(this,_ht,"currency")}get currency(){return this[huo]||y((Juo=this.string(),Juo),this,_ht,"currency",huo,Dr.prototype)}set user(e){this.user.$set(e,this,xht,"user")}get user(){return this.user.$get(this,xht,"user")}get user(){return this[puo]||y((w5=this.parent(User),p(w5.backfill,Function)?w5.backfill():w5.backfill=!0,p(w5.derived,Function)?w5.derived(!1):w5.derived=!1,w5),this,xht,"user",puo,Dr.prototype)}set total_usd(e){this.total_usd.$set(e,this,vht,"total_usd")}get total_usd(){return this.total_usd.$get(this,vht,"total_usd")}get total_usd(){return this[duo]||y((x0=this.money(),p(x0.w,Function)?x0.w(ADMIN):x0.w=ADMIN,p(x0.backfill,Function)?x0.backfill():x0.backfill=!0,p(x0.derived,Function)?x0.derived(!1):x0.derived=!1,x0),this,vht,"total_usd",duo,Dr.prototype)}set aflcut_usd(e){this.aflcut_usd.$set(e,this,wht,"aflcut_usd")}get aflcut_usd(){return this.aflcut_usd.$get(this,wht,"aflcut_usd")}get aflcut_usd(){return this[fuo]||y((v0=this.money(),p(v0.w,Function)?v0.w(ADMIN):v0.w=ADMIN,p(v0.backfill,Function)?v0.backfill():v0.backfill=!0,p(v0.derived,Function)?v0.derived(!1):v0.derived=!1,v0),this,wht,"aflcut_usd",fuo,Dr.prototype)}optotal_usdtip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[J0e])||(r=o=0,e=t[J0e]=e=R("op",null,null,null)),r||(e[bP]=t._),r||((s=e[rfe])==null||s.call(e,t,J0e)),n=e[FY]("__",e),r||n[y2]("Local value: "),i=this.total,i===e[eco]&&r||(e[Quo]=n[y2](e[eco]=i,256,e[Quo])),r||t.sym||!e.setup||e.setup(o,t,J0e),t.sym||e[b2](o),e}opaflcut_usdtip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Q0e])||(r=o=0,e=t[Q0e]=e=R("op",null,null,null)),r||(e[bP]=t._),r||((s=e[rfe])==null||s.call(e,t,Q0e)),n=e[FY]("__",e),r||n[y2]("Local value: "),i=this.aflcut,i===e[rco]&&r||(e[tco]=n[y2](e[rco]=i,256,e[tco])),r||t.sym||!e.setup||e.setup(o,t,Q0e),t.sym||e[b2](o),e}set payment_intent(e){this.payment_intent.$set(e,this,Sht,"payment_intent")}get payment_intent(){return this.payment_intent.$get(this,Sht,"payment_intent")}get payment_intent(){return this[muo]||y((oco=this.ref(StripePaymentIntent),oco),this,Sht,"payment_intent",muo,Dr.prototype)}set subscription(e){this.subscription.$set(e,this,Cht,"subscription")}get subscription(){return this.subscription.$get(this,Cht,"subscription")}get subscription(){return this[$uo]||y((TY=this.parent(StripeSubscription),p(TY.owner,Function)?TY.owner():TY.owner=!0,TY),this,Cht,"subscription",$uo,Dr.prototype)}set customer(e){this.customer.$set(e,this,Eht,"customer")}get customer(){return this.customer.$get(this,Eht,"customer")}get customer(){return this[yuo]||y((nco=this.parent(StripeCustomer),nco),this,Eht,"customer",yuo,Dr.prototype)}set lines(e){this.lines.$set(e,this,jht,"lines")}get lines(){return this.lines.$get(this,jht,"lines")}get lines(){return this[buo]||y((OY=this.embeds(ife),p(OY.synckey,Function)?OY.synckey("data"):OY.synckey="data",OY),this,jht,"lines",buo,Dr.prototype)}set charge(e){this.charge.$set(e,this,Aht,"charge")}get charge(){return this.charge.$get(this,Aht,"charge")}get charge(){return this[guo]||y((ico=this.ref(StripeCharge),ico),this,Aht,"charge",guo,Dr.prototype)}set hosted_invoice_url(e){this.hosted_invoice_url.$set(e,this,Uht,"hosted_invoice_url")}get hosted_invoice_url(){return this.hosted_invoice_url.$get(this,Uht,"hosted_invoice_url")}get hosted_invoice_url(){return this[kuo]||y((sco=this.string(),sco),this,Uht,"hosted_invoice_url",kuo,Dr.prototype)}set created(e){this.created.$set(e,this,Pht,"created")}get created(){return this.created.$get(this,Pht,"created")}get created(){return this[_uo]||y((RY=this.ts(),p(RY.fallback,Function)?RY.fallback(function(){return this._cre}):RY.fallback=function(){return this._cre},RY),this,Pht,"created",_uo,Dr.prototype)}set period_start(e){this.period_start.$set(e,this,Tht,"period_start")}get period_start(){return this.period_start.$get(this,Tht,"period_start")}get period_start(){return this[xuo]||y((lco=this.ts(),lco),this,Tht,"period_start",xuo,Dr.prototype)}set period_end(e){this.period_end.$set(e,this,Oht,"period_end")}get period_end(){return this.period_end.$get(this,Oht,"period_end")}get period_end(){return this[vuo]||y((aco=this.ts(),aco),this,Oht,"period_end",vuo,Dr.prototype)}set due_date(e){this.due_date.$set(e,this,Rht,"due_date")}get due_date(){return this.due_date.$get(this,Rht,"due_date")}get due_date(){return this[wuo]||y((uco=this.ts(),uco),this,Rht,"due_date",wuo,Dr.prototype)}set finalized_at(e){this.finalized_at.$set(e,this,Mht,"finalized_at")}get finalized_at(){return this.finalized_at.$get(this,Mht,"finalized_at")}get finalized_at(){return this[Suo]||y((cco=this.ts(),cco),this,Mht,"finalized_at",Suo,Dr.prototype)}set effective_at(e){this.effective_at.$set(e,this,Lht,"effective_at")}get effective_at(){return this.effective_at.$get(this,Lht,"effective_at")}get effective_at(){return this[Cuo]||y((hco=this.ts(),hco),this,Lht,"effective_at",Cuo,Dr.prototype)}set billing_reason(e){this.billing_reason.$set(e,this,Dht,"billing_reason")}get billing_reason(){return this.billing_reason.$get(this,Dht,"billing_reason")}get billing_reason(){return this[Euo]||y((pco=this.string(),pco),this,Dht,"billing_reason",Euo,Dr.prototype)}set afp(e){this.afp.$set(e,this,Nht,"afp")}get afp(){return this.afp.$get(this,Nht,"afp")}get afp(){return this[juo]||y((dco=this.parent(AffiliateProgram),dco),this,Nht,"afp",juo,Dr.prototype)}set afl(e){this.afl.$set(e,this,Iht,"afl")}get afl(){return this.afl.$get(this,Iht,"afl")}get afl(){return this[Auo]||y((MY=this.ref(AffiliateLink),p(MY.vias,Function)?MY.vias({[OWNER]:REFERRER}):MY.vias={[OWNER]:REFERRER},MY),this,Iht,"afl",Auo,Dr.prototype)}set aflshare(e){this.aflshare.$set(e,this,Fht,"aflshare")}get aflshare(){return this.aflshare.$get(this,Fht,"aflshare")}get aflshare(){return this[Uuo]||y((S5=this.int(),p(S5.clamp,Function)?S5.clamp(0,100):S5.clamp=0,p(S5.r,Function)?S5.r(REFERRER|ADMIN):S5.r=REFERRER|ADMIN,S5),this,Fht,"aflshare",Uuo,Dr.prototype)}set aflcut(e){this.aflcut.$set(e,this,Hht,"aflcut")}get aflcut(){return this.aflcut.$get(this,Hht,"aflcut")}get aflcut(){return this[Puo]||y((LY=this.money(),p(LY.r,Function)?LY.r(REFERRER|ADMIN):LY.r=REFERRER|ADMIN,LY),this,Hht,"aflcut",Puo,Dr.prototype)}set via_user(e){this.via_user.$set(e,this,Bht,"via_user")}get via_user(){return this.via_user.$get(this,Bht,"via_user")}get via_user(){return this[Tuo]||y((C5=this.ref(User),p(C5.as,Function)?C5.as(REFERRER):C5.as=REFERRER,p(C5.vias,Function)?C5.vias({[OWNER]:REFERRER}):C5.vias={[OWNER]:REFERRER},C5),this,Bht,"via_user",Tuo,Dr.prototype)}set payout(e){this.payout.$set(e,this,Vht,"payout")}get payout(){return this.payout.$get(this,Vht,"payout")}get payout(){return this[Ouo]||y((DY=this.parent(AffiliatePayout),p(DY.r,Function)?DY.r(REFERRER|ADMIN):DY.r=REFERRER|ADMIN,DY),this,Vht,"payout",Ouo,Dr.prototype)}set payout_eligible(e){this.payout_eligible.$set(e,this,zht,"payout_eligible")}get payout_eligible(){return this.payout_eligible.$get(this,zht,"payout_eligible")}get payout_eligible(){return this[Ruo]||y((Qht=this.get(),Qht.callback=function(){return this.paid&&this.commission&&!this.payout&&!this.refunded&&(this.effective_at||this._cre).age>14*24*60*60*1e3},Qht),this,zht,"payout_eligible",Ruo,Dr.prototype)}set cre_date(e){this.cre_date.$set(e,this,qht,"cre_date")}get cre_date(){return this.cre_date.$get(this,qht,"cre_date")}get cre_date(){return this[Muo]||y((ept=this.get(),ept.callback=function(){return new Date(this._cre).toISOString().substring(0,10)},ept),this,qht,"cre_date",Muo,Dr.prototype)}set commission(e){this.commission.$set(e,this,Wht,"commission")}get commission(){return this.commission.$get(this,Wht,"commission")}get commission(){return this[Luo]||y((tpt=this.get(),tpt.callback=function(){return this.aflcut&&Number(this.aflcut)>0},tpt),this,Wht,"commission",Luo,Dr.prototype)}set start_date(e){this.start_date.$set(e,this,Zht,"start_date")}get start_date(){return this.start_date.$get(this,Zht,"start_date")}get start_date(){return this[Duo]||y((rpt=this.get(),rpt.callback=function(){var e;return((e=this.lines)==null?void 0:e.length)>0&&this.lines[0].period?new Date(this.lines[0].period.start*1e3):this.effective_at},rpt),this,Zht,"start_date",Duo,Dr.prototype)}set commission_eligible(e){this.commission_eligible.$set(e,this,Ght,"commission_eligible")}get commission_eligible(){return this.commission_eligible.$get(this,Ght,"commission_eligible")}get commission_eligible(){return this[Nuo]||y((opt=this.get(),opt.callback=function(){return!this.subscription||!(this.paid&&Number(this.total)>0)?!1:Math.round((this.start_date-Number(this.subscription.start_date))/864e5)<340},opt),this,Ght,"commission_eligible",Nuo,Dr.prototype)}set purchase_type(e){this.purchase_type.$set(e,this,Yht,"purchase_type")}get purchase_type(){return this.purchase_type.$get(this,Yht,"purchase_type")}get purchase_type(){return this[Iuo]||y((npt=this.get(),npt.callback=function(){if(this.billing_reason){if(this.billing_reason=="subscription_create")return"Subscribed";if(this.billing_reason=="subscription_cycle")return"Renewal";if(this.billing_reason=="subscription_update")return"Upgrade";if(this.billing_reason=="subscription_threshold")return"Threshold Refill";if(this.billing_reason=="manual")return"Invoice"}return this.subscription?this.period_start==this.period_end?"Subscribed":"Renewal":"Invoice"},npt),this,Yht,"purchase_type",Iuo,Dr.prototype)}set sync(e){this.sync.$set(e,this,Xht,"sync")}get sync(){return this.sync.$get(this,Xht,"sync")}get sync(){return this[Fuo]||y((hu=this.action(),p(hu.rx,Function)?hu.rx(ADMIN):hu.rx=ADMIN,p(hu.g,Function)?hu.g(500):hu.g=500,p(hu.label,Function)?hu.label("Sync invoice"):hu.label="Sync invoice",p(hu.rpc,Function)?hu.rpc():hu.rpc=!0,hu.callback=!1,hu),this,Xht,"sync",Fuo,Dr.prototype)}get paid(){return this.status.paid}set refunded(e){this.refunded.$set(e,this,Kht,"refunded")}get refunded(){return this.refunded.$get(this,Kht,"refunded")}get refunded(){return this[Huo]||y((ipt=this.get(),ipt.callback=function(){var e,t;return StripeCharge.get(this.charge,null),(((t=(e=this.charge)==null?void 0:e.amount_refunded)==null?void 0:t.amount)||0)>0},ipt),this,Kht,"refunded",Huo,Dr.prototype)}applieddata(){if(this.via_user){let e=0;this.commission_eligible&&(e=Math.round(this.total.amount*((this.aflshare||0)/100))),this.aflcut=e}return this}set view_receipt(e){this.view_receipt.$set(e,this,Jht,"view_receipt")}get view_receipt(){return this.view_receipt.$get(this,Jht,"view_receipt")}get view_receipt(){return this[Buo]||y((Kg=this.action(),p(Kg.rx,Function)?Kg.rx(OWNER):Kg.rx=OWNER,p(Kg.if,Function)?Kg.if(function(){return this.hosted_invoice_url}):Kg.if=function(){return this.hosted_invoice_url},Kg.callback=function(){return window.open(this.hosted_invoice_url,"_blank")},Kg),this,Jht,"view_receipt",Buo,Dr.prototype)}oplinessection(e){var v;var t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;n=i=1,(r=o[efe])||(n=i=0,r=o[efe]=r=R("op",null,null,null)),n||(r[bP]=o._),n||((v=r[rfe])==null||v.call(r,o,efe)),s=r[FY]("__",r),(a=r[fco])||(r[fco]=a=wt(1408,s)),u=0,c=a.$;for(let C of B(e))(!this.status||this.status=="paid")&&(d=m=1,(h=(f=c[ofe](i$n)).get(u))||(d=m=0,f.set(u,h=R("op",a,"xj-ai",null))),d||(h[bP]=a),$=h[FY]("__",h),(b=h[mco])||(h[mco]=b=w("div",$,"xj-aj",null)),pt.context=h[yco]||(h[yco]={_:b}),g=this._cre.format("ymd"),pt.context=null,g===h[bco]&&d||(h[$co]=b[y2](h[bco]=g,128,h[$co])),d||b[y2](": "),g=C.description,g===h[kco]&&d||(h[gco]=b[y2](h[kco]=g,0,h[gco])),d||b[y2](" "),g=C.status,g===h[xco]&&d||(h[_co]=b[y2](h[xco]=g,256,h[_co])),t=null,this.charge&&(x=h[ofe](s$n),k=_=1,(t=x.run(this.osection(this.charge)))||(k=_=0,x.cache(t=M(x.value,null,null,null))),k||(t[bP]=$),t[spt]&&(k||!t.setup||t.setup(_,x),t[b2](_))),h[vco]=$[y2](t,0,h[vco]),d||!h.setup||h.setup(m,S),h[b2](m),a.push(h,u++,f));return a[b2](u),n||o.sym||!r.setup||r.setup(i,o,efe),o.sym||r[b2](i),r}opownsection(){var k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;return r=o=1,(e=t[tfe])||(r=o=0,e=t[tfe]=e=R("op",null,null,null)),r||(e[bP]=t._),r||((k=e[rfe])==null||k.call(e,t,tfe)),n=e[FY]("__",e),i=e[ofe](l$n),a=u=1,(s=i.run(this.osection(this.lines)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[spt]&&(c=s[u$n]("__",s),d=f=1,(h=s[wco])||(d=f=0,s[wco]=h=w("div",c,"xj-an actions",null)),m=h[ofe](a$n),b=g=1,($=m.run(this.obuttonif(this.view_receipt)))||(b=g=0,m.cache($=M(m.value,h,null,null))),$[spt]&&(b||!$.setup||$.setup(g,m),$[b2](g)),$==h[IY]||!h[IY]&&(h[IY]=$)[c$n](h)||h[IY][h$n](h[IY]=$,h),d||!h.setup||h.setup(f,x),h[b2](f),a||!s.setup||s.setup(u,i),s[b2](u)),s==e[NY]||!e[NY]&&n[p$n](e[NY]=s)||(n[d$n](s,e[NY]),e[NY]=s),r||t.sym||!e.setup||e.setup(o,t,tfe),t.sym||e[b2](o),e}};Dr.alias="in",Dr.pgafter=!1,E(Dr,f$n,"StripeInvoice",0);var lpt=Dr;globalThis.StripeInvoice=lpt;T();oe();$e();var apt=Symbol("currency"),Sco=Symbol(),upt=Symbol("amount"),Cco=Symbol(),cpt=Symbol("amount_refunded"),Eco=Symbol(),hpt=Symbol("amount_captured"),jco=Symbol(),ppt=Symbol("paid"),Aco=Symbol(),dpt=Symbol("refunded"),Uco=Symbol(),fpt=Symbol("disputed"),Pco=Symbol(),mpt=Symbol("failure_message"),Tco=Symbol(),$pt=Symbol("failure_code"),Oco=Symbol(),ypt=Symbol("user"),Rco=Symbol(),bpt=Symbol("subscription"),Mco=Symbol(),gpt=Symbol("amount_usd"),Lco=Symbol(),kpt=Symbol("invoice"),Dco=Symbol(),_pt=Symbol("customer"),Nco=Symbol(),xpt=Symbol("payout_eligible?"),Ico=Symbol(),vpt=Symbol("via_user"),Fco=Symbol(),wpt=Symbol("refund"),Hco=Symbol(),Spt=Symbol("sync"),Bco=Symbol(),Vco,zco,qco,Wco,E5,j5,HY,Zco,Gco,A5,U5,S0,BY,P5,Cpt,Ept,g1,k1,sfe=Symbol(),Yco=Symbol(),Xco=Symbol(),Kco=Symbol(),Jco=Symbol(),Qco=Symbol(),eho=Symbol(),tho=Symbol(),rho=Symbol(),oho=Symbol.for("##up"),m$n=Symbol.for("##register"),$$n=Symbol.for("#getSlot"),gP=Symbol.for("#placeChild"),y$n=Symbol.for("#afterVisit"),b$n=Symbol(),si=class si extends StripeObject{set currency(e){this.currency.$set(e,this,apt,"currency")}get currency(){return this.currency.$get(this,apt,"currency")}get currency(){return this[Sco]||y((Vco=this.string(),Vco),this,apt,"currency",Sco,si.prototype)}set amount(e){this.amount.$set(e,this,upt,"amount")}get amount(){return this.amount.$get(this,upt,"amount")}get amount(){return this[Cco]||y((zco=this.money(),zco),this,upt,"amount",Cco,si.prototype)}set amount_refunded(e){this.amount_refunded.$set(e,this,cpt,"amount_refunded")}get amount_refunded(){return this.amount_refunded.$get(this,cpt,"amount_refunded")}get amount_refunded(){return this[Eco]||y((qco=this.money(),qco),this,cpt,"amount_refunded",Eco,si.prototype)}set amount_captured(e){this.amount_captured.$set(e,this,hpt,"amount_captured")}get amount_captured(){return this.amount_captured.$get(this,hpt,"amount_captured")}get amount_captured(){return this[jco]||y((Wco=this.money(),Wco),this,hpt,"amount_captured",jco,si.prototype)}set paid(e){this.paid.$set(e,this,ppt,"paid")}get paid(){return this.paid.$get(this,ppt,"paid")}get paid(){return this[Aco]||y((E5=this.bool(),p(E5.stat,Function)?E5.stat():E5.stat=!0,p(E5.f,Function)?E5.f():E5.f=!0,E5),this,ppt,"paid",Aco,si.prototype)}set refunded(e){this.refunded.$set(e,this,dpt,"refunded")}get refunded(){return this.refunded.$get(this,dpt,"refunded")}get refunded(){return this[Uco]||y((j5=this.bool(),p(j5.stat,Function)?j5.stat():j5.stat=!0,p(j5.f,Function)?j5.f():j5.f=!0,j5),this,dpt,"refunded",Uco,si.prototype)}set disputed(e){this.disputed.$set(e,this,fpt,"disputed")}get disputed(){return this.disputed.$get(this,fpt,"disputed")}get disputed(){return this[Pco]||y((HY=this.bool(),p(HY.stat,Function)?HY.stat():HY.stat=!0,HY),this,fpt,"disputed",Pco,si.prototype)}set failure_message(e){this.failure_message.$set(e,this,mpt,"failure_message")}get failure_message(){return this.failure_message.$get(this,mpt,"failure_message")}get failure_message(){return this[Tco]||y((Zco=this.string(),Zco),this,mpt,"failure_message",Tco,si.prototype)}set failure_code(e){this.failure_code.$set(e,this,$pt,"failure_code")}get failure_code(){return this.failure_code.$get(this,$pt,"failure_code")}get failure_code(){return this[Oco]||y((Gco=this.string(),Gco),this,$pt,"failure_code",Oco,si.prototype)}set user(e){this.user.$set(e,this,ypt,"user")}get user(){return this.user.$get(this,ypt,"user")}get user(){return this[Rco]||y((A5=this.parent(User),p(A5.backfill,Function)?A5.backfill():A5.backfill=!0,p(A5.derived,Function)?A5.derived(!1):A5.derived=!1,A5),this,ypt,"user",Rco,si.prototype)}set subscription(e){this.subscription.$set(e,this,bpt,"subscription")}get subscription(){return this.subscription.$get(this,bpt,"subscription")}get subscription(){return this[Mco]||y((U5=this.parent(StripeSubscription),p(U5.backfill,Function)?U5.backfill():U5.backfill=!0,p(U5.derived,Function)?U5.derived(!1):U5.derived=!1,U5),this,bpt,"subscription",Mco,si.prototype)}set amount_usd(e){this.amount_usd.$set(e,this,gpt,"amount_usd")}get amount_usd(){return this.amount_usd.$get(this,gpt,"amount_usd")}get amount_usd(){return this[Lco]||y((S0=this.money(),p(S0.w,Function)?S0.w(ADMIN):S0.w=ADMIN,p(S0.backfill,Function)?S0.backfill():S0.backfill=!0,p(S0.derived,Function)?S0.derived(!1):S0.derived=!1,S0),this,gpt,"amount_usd",Lco,si.prototype)}set invoice(e){this.invoice.$set(e,this,kpt,"invoice")}get invoice(){return this.invoice.$get(this,kpt,"invoice")}get invoice(){return this[Dco]||y((BY=this.parent(StripeInvoice),p(BY.owner,Function)?BY.owner():BY.owner=!0,BY),this,kpt,"invoice",Dco,si.prototype)}set customer(e){this.customer.$set(e,this,_pt,"customer")}get customer(){return this.customer.$get(this,_pt,"customer")}get customer(){return this[Nco]||y((P5=this.parent(StripeCustomer),p(P5.stat,Function)?P5.stat():P5.stat=!0,p(P5.eager,Function)?P5.eager():P5.eager=!0,P5),this,_pt,"customer",Nco,si.prototype)}get refundable(){return this.paid&&!this.refunded}get aslabel(){return String(this.amount)}set payout_eligible(e){this.payout_eligible.$set(e,this,xpt,"payout_eligible")}get payout_eligible(){return this.payout_eligible.$get(this,xpt,"payout_eligible")}get payout_eligible(){return this[Ico]||y((Cpt=this.get(),Cpt.callback=function(){var e,t;return this.paid&&((e=this.invoice)==null?void 0:e.commission)&&!this.invoice.payout&&(((t=this.amount_refunded)==null?void 0:t.amount)||0)==0&&(this.invoice.effective_at||this.invoice._cre).age>14*24*60*60*1e3},Cpt),this,xpt,"payout_eligible",Ico,si.prototype)}set via_user(e){this.via_user.$set(e,this,vpt,"via_user")}get via_user(){return this.via_user.$get(this,vpt,"via_user")}get via_user(){return this[Fco]||y((Ept=this.get(),Ept.callback=function(){var e;return(e=this.invoice)==null?void 0:e.via_user},Ept),this,vpt,"via_user",Fco,si.prototype)}set refund(e){this.refund.$set(e,this,wpt,"refund")}get refund(){return this.refund.$get(this,wpt,"refund")}get refund(){return this[Hco]||y((g1=this.action(),p(g1.rx,Function)?g1.rx(ADMIN):g1.rx=ADMIN,p(g1.if,Function)?g1.if(function(){return this.refundable}):g1.if=function(){return this.refundable},p(g1.rpc,Function)?g1.rpc():g1.rpc=!0,g1.callback=!1,g1),this,wpt,"refund",Hco,si.prototype)}set sync(e){this.sync.$set(e,this,Spt,"sync")}get sync(){return this.sync.$get(this,Spt,"sync")}get sync(){return this[Bco]||y((k1=this.action(),p(k1.rx,Function)?k1.rx(ADMIN):k1.rx=ADMIN,p(k1.label,Function)?k1.label("Sync charge"):k1.label="Sync charge",p(k1.rpc,Function)?k1.rpc():k1.rpc=!0,k1.callback=!1,k1),this,Spt,"sync",Bco,si.prototype)}opownsection(){var h;var e,t,r,o=H(),n,i,s,a,u,c;return n=i=1,(r=o[sfe])||(n=i=0,r=o[sfe]=r=R("op",null,null,null)),n||(r[oho]=o._),n||((h=r[m$n])==null||h.call(r,o,sfe)),s=r[$$n]("__",r),t=null,this.amount_refunded&&this.amount_refunded.amount>0&&(a=u=1,(t=r[Yco])||(a=u=0,r[Yco]=t=w("div",null,"wk-ag",null)),a||(t[oho]=s),pt.context=t[Kco]||(t[Kco]={_:t}),c=this._cre.format("ymd"),pt.context=null,c===t[Jco]&&a||(t[Xco]=t[gP](t[Jco]=c,128,t[Xco])),a||t[gP](": Refunded "),c=this.amount_refunded,c===t[eho]&&a||(t[Qco]=t[gP](t[eho]=c,0,t[Qco])),a||t[gP](" "),e=null,this.amount_captured.amount!=this.amount_refunded.amount?e="of "+this.amount_captured:e="",t[tho]=t[gP](e,0,t[tho])),r[rho]=s[gP](t,0,r[rho]),n||o.sym||!r.setup||r.setup(i,o,sfe),o.sym||r[y$n](i),r}};si.alias="ch",si.pgafter=!1,E(si,b$n,"StripeCharge",0);var jpt=si;globalThis.StripeCharge=jpt;T();oe();$e();var Apt=Symbol("interval"),nho=Symbol(),Upt=Symbol("interval_count"),iho=Symbol(),Ppt=Symbol("usage_type"),sho=Symbol(),Tpt=Symbol("id"),lho=Symbol(),Opt=Symbol("active"),aho=Symbol(),Rpt=Symbol("type"),uho=Symbol(),Mpt=Symbol("billing_scheme"),cho=Symbol(),Lpt=Symbol("billing"),hho=Symbol(),Dpt=Symbol("product"),pho=Symbol(),Npt=Symbol("recurring"),dho=Symbol(),Ipt=Symbol("currency"),fho=Symbol(),Fpt=Symbol("currency_options"),mho=Symbol(),Hpt=Symbol("unit_amount"),$ho=Symbol(),Bpt=Symbol("lookup_key"),yho=Symbol(),Vpt=Symbol("country"),bho=Symbol(),zpt=Symbol("ppp"),gho=Symbol(),qpt=Symbol("sync"),kho=Symbol(),_ho,xho,vho,T5,who,Sho,Cho,Eho,VY,zY,jho,Aho,Uho,Pho,qY,Wpt=Symbol(),Tho=Symbol(),Oho=Symbol(),Jg,kP,lfe=Symbol(),Rho=Symbol(),Mho=Symbol(),afe=Symbol(),Lho=Symbol(),Dho=Symbol(),Nho=Symbol(),Iho=Symbol(),ufe=Symbol(),Fho=Symbol(),Hho=Symbol(),Bho=Symbol(),Vho=Symbol(),cfe=Symbol.for("##up"),hfe=Symbol.for("##register"),WY=Symbol.for("#placeChild"),Zpt=Symbol.for("#getSlot"),Gpt=Symbol.for("#afterVisit"),g$n=Symbol(),_P=class _P extends OPEmbed{set interval(e){this.interval.$set(e,this,Apt,"interval")}get interval(){return this.interval.$get(this,Apt,"interval")}get interval(){return this[nho]||y((_ho=this.string(),_ho),this,Apt,"interval",nho,_P.prototype)}set interval_count(e){this.interval_count.$set(e,this,Upt,"interval_count")}get interval_count(){return this.interval_count.$get(this,Upt,"interval_count")}get interval_count(){return this[iho]||y((xho=this.int(),xho),this,Upt,"interval_count",iho,_P.prototype)}set usage_type(e){this.usage_type.$set(e,this,Ppt,"usage_type")}get usage_type(){return this.usage_type.$get(this,Ppt,"usage_type")}get usage_type(){return this[sho]||y((vho=this.string(),vho),this,Ppt,"usage_type",sho,_P.prototype)}};E(_P,g$n,"Recurring",0);var Ypt=_P,k$n=Symbol(),nl=class nl extends StripeObject{set id(e){this.id.$set(e,this,Tpt,"id")}get id(){return this.id.$get(this,Tpt,"id")}get id(){return this[lho]||y((T5=this.key(),p(T5.r,Function)?T5.r(ANYONE):T5.r=ANYONE,p(T5.wcd,Function)?T5.wcd(ADMIN):T5.wcd=ADMIN,T5),this,Tpt,"id",lho,nl.prototype)}get visible(){var t;let e=new RegExp("^("+APP.pro.id+"|"+((t=APP.gift_product)==null?void 0:t.id)+")_(year|month)_[a-z]{2}$");return this.active&&e.test(this.lookup_key)}set active(e){this.active.$set(e,this,Opt,"active")}get active(){return this.active.$get(this,Opt,"active")}get active(){return this[aho]||y((who=this.bool(),who),this,Opt,"active",aho,nl.prototype)}set type(e){this.type.$set(e,this,Rpt,"type")}get type(){return this.type.$get(this,Rpt,"type")}get type(){return this[uho]||y((Sho=this.enum({one_time:{},recurring:{}}),Sho),this,Rpt,"type",uho,nl.prototype)}get one_time(){return this.type=="one_time"}get recurring(){return this.type=="recurring"}set billing_scheme(e){this.billing_scheme.$set(e,this,Mpt,"billing_scheme")}get billing_scheme(){return this.billing_scheme.$get(this,Mpt,"billing_scheme")}get billing_scheme(){return this[cho]||y((Cho=this.string(),Cho),this,Mpt,"billing_scheme",cho,nl.prototype)}set billing(e){this.billing.$set(e,this,Lpt,"billing")}get billing(){return this.billing.$get(this,Lpt,"billing")}get billing(){return this[hho]||y((Eho=this.string(),Eho),this,Lpt,"billing",hho,nl.prototype)}set product(e){this.product.$set(e,this,Dpt,"product")}get product(){return this.product.$get(this,Dpt,"product")}get product(){return this[pho]||y((VY=this.parent(StripeProduct),p(VY.stat,Function)?VY.stat():VY.stat=!0,VY),this,Dpt,"product",pho,nl.prototype)}set recurring(e){this.recurring.$set(e,this,Npt,"recurring")}get recurring(){return this.recurring.$get(this,Npt,"recurring")}get recurring(){return this[dho]||y((zY=this.embed(Ypt),p(zY.stat,Function)?zY.stat(200):zY.stat=200,zY),this,Npt,"recurring",dho,nl.prototype)}set currency(e){this.currency.$set(e,this,Ipt,"currency")}get currency(){return this.currency.$get(this,Ipt,"currency")}get currency(){return this[fho]||y((jho=this.string(),jho),this,Ipt,"currency",fho,nl.prototype)}set currency_options(e){this.currency_options.$set(e,this,Fpt,"currency_options")}get currency_options(){return this.currency_options.$get(this,Fpt,"currency_options")}get currency_options(){return this[mho]||y((Aho=this.object(),Aho),this,Fpt,"currency_options",mho,nl.prototype)}set unit_amount(e){this.unit_amount.$set(e,this,Hpt,"unit_amount")}get unit_amount(){return this.unit_amount.$get(this,Hpt,"unit_amount")}get unit_amount(){return this[$ho]||y((Uho=this.money(),Uho),this,Hpt,"unit_amount",$ho,nl.prototype)}get aslilabel(){return this.unit_amount}set lookup_key(e){this.lookup_key.$set(e,this,Bpt,"lookup_key")}get lookup_key(){return this.lookup_key.$get(this,Bpt,"lookup_key")}get lookup_key(){return this[yho]||y((Pho=this.string(),Pho),this,Bpt,"lookup_key",yho,nl.prototype)}set country(e){this.country.$set(e,this,Vpt,"country")}get country(){return this.country.$get(this,Vpt,"country")}get country(){return this[bho]||y((qY=this.country(),p(qY.stat,Function)?qY.stat(100):qY.stat=100,qY),this,Vpt,"country",bho,nl.prototype)}get assearchable(){var e;return(e=this.country)==null?void 0:e.name}oprecurringstatlabel(e){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[Wpt])||(o=n=0,t=r[Wpt]=t=w("div",null,null,null)),o||(t[cfe]=r._),o||((s=t[hfe])==null||s.call(t,r,Wpt)),i=e.interval_count+" months",i===t[Oho]&&o||(t[Tho]=t[WY](t[Oho]=i,384,t[Tho])),t}get formatted(){return String(this.localized)}set ppp(e){this.ppp.$set(e,this,zpt,"ppp")}get ppp(){return this.ppp.$get(this,zpt,"ppp")}get ppp(){return this[gho]||y((Jg=this.get(),p(Jg.stat,Function)?Jg.stat():Jg.stat=!0,p(Jg.label,Function)?Jg.label("PPP"):Jg.label="PPP",Jg.callback=function(){return this.country?this.country.ppp:(this.currency=="usd",1)},Jg),this,zpt,"ppp",gho,nl.prototype)}get annual(){return this.recurring.interval_count==12&&this.recurring.interval=="month"}get monthly(){return this.recurring.interval_count==1&&this.recurring.interval=="month"}get peryear(){return this.unit_amount}get permonth(){return this.unit_amount.div(this.recurring.interval_count)}get localized(){return this.unit_amount}set sync(e){this.sync.$set(e,this,qpt,"sync")}get sync(){return this.sync.$get(this,qpt,"sync")}get sync(){return this[kho]||y((kP=this.action(),p(kP.rpc,Function)?kP.rpc():kP.rpc=!0,kP.callback=!1,kP),this,qpt,"sync",kho,nl.prototype)}format(e=this.unit_amount){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.currency}).format(e/100)}opowncell(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[lfe])||(r=o=0,e=t[lfe]=e=R("op",null,null,null)),r||(e[cfe]=t._),r||((s=e[hfe])==null||s.call(e,t,lfe)),n=e[Zpt]("__",e),r||n[WY]("$"),i=this.unit_amount||0,i===e[Mho]&&r||(e[Rho]=n[WY](e[Mho]=i,256,e[Rho])),r||t.sym||!e.setup||e.setup(o,t,lfe),t.sym||e[Gpt](o),e}get asstring(){return this.resolved?""+this.formatted+" / "+this.intervalstr:"-"}get intervalstr(){return this.recurring.interval=="year"?"year":this.recurring.interval_count==1?"month":""+this.recurring.interval_count+" months"}get asrowlabel(){return""+this.product.name}opownsection(){var c;var e,t=H(),r,o,n,i,s,a,u;return r=o=1,(e=t[afe])||(r=o=0,e=t[afe]=e=R("op",null,null,null)),r||(e[cfe]=t._),r||((c=e[hfe])==null||c.call(e,t,afe)),n=e[Zpt]("__",e),i=this,i===e[Lho]||(e.data=e[Lho]=i),r||(s=w("div",n,null,"Price section")),(a=e[Dho])||(e[Dho]=a=w("div",n,null,null)),u=this.asstring,u===e[Iho]&&r||(e[Nho]=a[WY](e[Iho]=u,384,e[Nho])),r||t.sym||!e.setup||e.setup(o,t,afe),t.sym||e[Gpt](o),e}opownoption(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[ufe])||(r=o=0,e=t[ufe]=e=R("op",null,"wr-ak op-mi",null)),r||(e[cfe]=t._),r||((u=e[hfe])==null||u.call(e,t,ufe)),n=e[Zpt]("__",e),i=this,i===e[Fho]||(e.data=e[Fho]=i),(s=e[Hho])||(e[Hho]=s=w("div",n,"label",null)),a=this.asstring,a===e[Vho]&&r||(e[Bho]=s[WY](e[Vho]=a,384,e[Bho])),r||t.sym||!e.setup||e.setup(o,t,ufe),t.sym||e[Gpt](o),e}};nl.alias="price",E(nl,k$n,"StripePrice",0);var Xpt=nl;globalThis.StripePrice=Xpt;T();oe();var Kpt=Symbol("id"),zho=Symbol(),Jpt=Symbol("name"),qho=Symbol(),Qpt=Symbol("active"),Who=Symbol(),e1t=Symbol("description"),Zho=Symbol(),t1t=Symbol("prices"),Gho=Symbol(),r1t=Symbol("tax_code"),Yho=Symbol(),o1t=Symbol("grants"),Xho=Symbol(),n1t=Symbol("default_price"),Kho=Symbol(),i1t=Symbol("offer"),Jho=Symbol(),s1t=Symbol("flash_coupon"),Qho=Symbol(),l1t=Symbol("student_coupon"),epo=Symbol(),a1t=Symbol("churn_coupon"),tpo=Symbol(),u1t=Symbol("gift_coupon"),rpo=Symbol(),c1t=Symbol("sync"),opo=Symbol(),O5,npo,ipo,spo,lpo,apo,upo,ZY,R5,GY,YY,M5,L5,_1,_$n=le("&.active?",globalThis,l=>l.active),x$n=le("&.incomplete?",globalThis,l=>l.incomplete),pfe=Symbol(),h1t=Symbol(),cpo=Symbol(),hpo=Symbol(),xP=Symbol(),v$n=Symbol(),mpo=Symbol.for("#getRenderContext"),ppo=Symbol.for("##up"),dpo=Symbol.for("##register"),$po=Symbol.for("#isRichElement"),p1t=Symbol.for("#afterVisit"),w$n=Symbol.for("#beforeReconcile"),S$n=Symbol.for("#insertInto"),C$n=Symbol.for("#replaceWith"),E$n=Symbol.for("#afterReconcile"),j$n=Symbol(),m1t=class m1t extends OPEnumValue{};E(m1t,j$n,"StripeInterval",0);var d1t=m1t;globalThis.StripeInterval=d1t;var A$n=Symbol(),il=class il extends StripeObject{set id(e){this.id.$set(e,this,Kpt,"id")}get id(){return this.id.$get(this,Kpt,"id")}get id(){return this[zho]||y((O5=this.key(),p(O5.r,Function)?O5.r(ANYONE):O5.r=ANYONE,p(O5.wcd,Function)?O5.wcd(ADMIN):O5.wcd=ADMIN,O5),this,Kpt,"id",zho,il.prototype)}set name(e){this.name.$set(e,this,Jpt,"name")}get name(){return this.name.$get(this,Jpt,"name")}get name(){return this[qho]||y((npo=this.string(),npo),this,Jpt,"name",qho,il.prototype)}set active(e){this.active.$set(e,this,Qpt,"active")}get active(){return this.active.$get(this,Qpt,"active")}get active(){return this[Who]||y((ipo=this.bool(),ipo),this,Qpt,"active",Who,il.prototype)}set description(e){this.description.$set(e,this,e1t,"description")}get description(){return this.description.$get(this,e1t,"description")}get description(){return this[Zho]||y((spo=this.string(),spo),this,e1t,"description",Zho,il.prototype)}set prices(e){this.prices.$set(e,this,t1t,"prices")}get prices(){return this.prices.$get(this,t1t,"prices")}get prices(){return this[Gho]||y((lpo=this.children(StripePrice),lpo),this,t1t,"prices",Gho,il.prototype)}set tax_code(e){this.tax_code.$set(e,this,r1t,"tax_code")}get tax_code(){return this.tax_code.$get(this,r1t,"tax_code")}get tax_code(){return this[Yho]||y((apo=this.string(),apo),this,r1t,"tax_code",Yho,il.prototype)}set grants(e){this.grants.$set(e,this,o1t,"grants")}get grants(){return this.grants.$get(this,o1t,"grants")}get grants(){return this[Xho]||y((upo=this.object(),upo),this,o1t,"grants",Xho,il.prototype)}set default_price(e){this.default_price.$set(e,this,n1t,"default_price")}get default_price(){return this.default_price.$get(this,n1t,"default_price")}get default_price(){return this[Kho]||y((ZY=this.ref(StripePrice),p(ZY.eager,Function)?ZY.eager():ZY.eager=!0,ZY),this,n1t,"default_price",Kho,il.prototype)}set offer(e){this.offer.$set(e,this,i1t,"offer")}get offer(){return this.offer.$get(this,i1t,"offer")}get offer(){return this[Jho]||y((R5=this.ref(Offer),p(R5.eager,Function)?R5.eager():R5.eager=!0,p(R5.readonly,Function)?R5.readonly():R5.readonly=!0,R5),this,i1t,"offer",Jho,il.prototype)}set flash_coupon(e){this.flash_coupon.$set(e,this,s1t,"flash_coupon")}get flash_coupon(){return this.flash_coupon.$get(this,s1t,"flash_coupon")}get flash_coupon(){return this[Qho]||y((GY=this.ref(StripeCoupon),p(GY.rw,Function)?GY.rw(ADMIN):GY.rw=ADMIN,GY),this,s1t,"flash_coupon",Qho,il.prototype)}set student_coupon(e){this.student_coupon.$set(e,this,l1t,"student_coupon")}get student_coupon(){return this.student_coupon.$get(this,l1t,"student_coupon")}get student_coupon(){return this[epo]||y((YY=this.ref(StripeCoupon),p(YY.w,Function)?YY.w(ADMIN):YY.w=ADMIN,YY),this,l1t,"student_coupon",epo,il.prototype)}set churn_coupon(e){this.churn_coupon.$set(e,this,a1t,"churn_coupon")}get churn_coupon(){return this.churn_coupon.$get(this,a1t,"churn_coupon")}get churn_coupon(){return this[tpo]||y((M5=this.ref(StripeCoupon),p(M5.w,Function)?M5.w(ADMIN):M5.w=ADMIN,p(M5.eager,Function)?M5.eager():M5.eager=!0,M5),this,a1t,"churn_coupon",tpo,il.prototype)}set gift_coupon(e){this.gift_coupon.$set(e,this,u1t,"gift_coupon")}get gift_coupon(){return this.gift_coupon.$get(this,u1t,"gift_coupon")}get gift_coupon(){return this[rpo]||y((L5=this.ref(StripeCoupon),p(L5.w,Function)?L5.w(ADMIN):L5.w=ADMIN,p(L5.eager,Function)?L5.eager():L5.eager=!0,L5),this,u1t,"gift_coupon",rpo,il.prototype)}pricefor(e,t=(r=>(r=OP.session)==null?void 0:r.country)()){let o=""+this.id+"_"+e+"_"+(t||"us"),n=this.prices.find(function(i){return i.thismode&&i.lookup_key==o});return!n&&t&&t!=OPCountry.US&&(n=this.pricefor(e,OPCountry.US)),n}set sync(e){this.sync.$set(e,this,c1t,"sync")}get sync(){return this.sync.$get(this,c1t,"sync")}get sync(){return this[opo]||y((_1=this.action(),p(_1.atomic,Function)?_1.atomic():_1.atomic=!0,p(_1.g,Function)?_1.g(1e3):_1.g=1e3,p(_1.rpc,Function)?_1.rpc():_1.rpc=!0,_1.callback=!1,_1),this,c1t,"sync",opo,il.prototype)}get sub(){var t,r,o;let e=(o=(r=(t=OP.user)==null?void 0:t.subs)==null?void 0:r.filter)==null?void 0:o.call(r,le("&.products.has(self) and !&.ended?",this,n=>n.products.has(this)&&!n.ended));return e&&(e.find(_$n)||e.find(x$n))}get annualdiscount(){return"Save "+((1-this.pricefor("year").unit_amount/12/this.pricefor("month").unit_amount)*100).round(1)+"%"}opowndialog(){var i;var e,t,r=H(),o,n;return e=r[mpo](pfe),o=n=1,(t=e.run(this.oform(this)))||(o=n=0,e.cache(t=M(e.value,null,"xc-af xc_",null))),o||(t[ppo]=r._),o||((i=t[dpo])==null||i.call(t,r,pfe)),t[$po]&&(o||(t.popup__={modal:!0}),o||(t.popup="popup"),(!o||n&2)&&t.flags.reconcile(pfe,"xc-af xc_"),o||r.sym||!t.setup||t.setup(n,r,pfe),r.sym||t[p1t](n)),t}opownbody(){var n;var e,t=H(),r,o;return r=o=1,(e=t[h1t])||(r=o=0,e=t[h1t]=e=w("div",null,"xc_","Page body")),r||(e[ppo]=t._),r||((n=e[dpo])==null||n.call(e,t,h1t)),e}};il.alias="prod",E(il,A$n,"StripeProduct",0);var f1t=il;globalThis.StripeProduct=f1t;var U$n=Symbol(),dfe=class dfe extends Ve("op","OpComponent",de){render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f;return e=this,e[w$n](),t=r=1,e[cpo]===1||(t=r=0,e[cpo]=1),(!t||r&2)&&e.flagSelf$("xc-ai xc_"),t||(n=w("aside",e,`xc-aj xc_ ${o}`,"Info about product")),s=a=1,(i=e[hpo])||(s=a=0,e[hpo]=i=w("main",e,`xc-ak xc_ ${o}`,null)),u=i[mpo](v$n),h=d=1,(c=u.run(this.oel(this.data,"form")))||(h=d=0,u.cache(c=M(u.value,i,`xc_ ${o}`,null))),c[$po]&&((!h||d&2)&&c.flags.reconcile(xP,`xc_ ${o}`),h||!c.setup||c.setup(d,u),c[p1t](d)),c==i[xP]||!i[xP]&&(i[xP]=c)[S$n](i)||i[xP][C$n](i[xP]=c,i),s||!i.setup||i.setup(a,f),i[p1t](a),e[E$n](r),e}};E(dfe,U$n,"product-modal",2),pe("product-modal",dfe,{cssid:"xc-ah"});var fpo=dfe;T();oe();$e();var $1t=Symbol("amount"),ypo=Symbol(),y1t=Symbol("status"),bpo=Symbol(),b1t=Symbol("customer"),gpo=Symbol(),g1t=Symbol("last_payment_error"),kpo=Symbol(),k1t=Symbol("invoice"),_po=Symbol(),_1t=Symbol("client_secret"),xpo=Symbol(),x1t=Symbol("sync"),vpo=Symbol(),v1t=Symbol("cancel"),wpo=Symbol(),Spo,Cpo,D5,Epo,XY,jpo,vP,pu,ffe=Symbol(),Apo=Symbol(),Upo=Symbol(),Ppo=Symbol(),Tpo=Symbol(),Opo=Symbol(),Rpo=Symbol(),Mpo=Symbol(),Lpo=Symbol(),mfe=Symbol(),KY=Symbol(),P$n=Symbol(),$fe=Symbol(),wP=Symbol.for("##up"),w1t=Symbol.for("##register"),S1t=Symbol.for("#getSlot"),JY=Symbol.for("#afterVisit"),T$n=Symbol.for("#placeChild"),O$n=Symbol.for("#getRenderContext"),R$n=Symbol.for("#isRichElement"),M$n=Symbol.for("#appendChild"),L$n=Symbol.for("#replaceChild"),D$n=Symbol(),x1=class x1 extends StripeObject{set amount(e){this.amount.$set(e,this,$1t,"amount")}get amount(){return this.amount.$get(this,$1t,"amount")}get amount(){return this[ypo]||y((Spo=this.money(),Spo),this,$1t,"amount",ypo,x1.prototype)}set status(e){this.status.$set(e,this,y1t,"status")}get status(){return this.status.$get(this,y1t,"status")}get status(){return this[bpo]||y((Cpo=this.string(),Cpo),this,y1t,"status",bpo,x1.prototype)}set customer(e){this.customer.$set(e,this,b1t,"customer")}get customer(){return this.customer.$get(this,b1t,"customer")}get customer(){return this[gpo]||y((D5=this.ref(StripeCustomer),p(D5.eager,Function)?D5.eager():D5.eager=!0,p(D5.owner,Function)?D5.owner():D5.owner=!0,D5),this,b1t,"customer",gpo,x1.prototype)}set last_payment_error(e){this.last_payment_error.$set(e,this,g1t,"last_payment_error")}get last_payment_error(){return this.last_payment_error.$get(this,g1t,"last_payment_error")}get last_payment_error(){return this[kpo]||y((Epo=this.object(),Epo),this,g1t,"last_payment_error",kpo,x1.prototype)}set invoice(e){this.invoice.$set(e,this,k1t,"invoice")}get invoice(){return this.invoice.$get(this,k1t,"invoice")}get invoice(){return this[_po]||y((XY=this.ref(StripeInvoice),p(XY.eager,Function)?XY.eager():XY.eager=!0,XY),this,k1t,"invoice",_po,x1.prototype)}set client_secret(e){this.client_secret.$set(e,this,_1t,"client_secret")}get client_secret(){return this.client_secret.$get(this,_1t,"client_secret")}get client_secret(){return this[xpo]||y((jpo=this.string(),jpo),this,_1t,"client_secret",xpo,x1.prototype)}get subscription(){var e;return(e=this.invoice)==null?void 0:e.subscription}set sync(e){this.sync.$set(e,this,x1t,"sync")}get sync(){return this.sync.$get(this,x1t,"sync")}get sync(){return this[vpo]||y((vP=this.action(),p(vP.rpc,Function)?vP.rpc():vP.rpc=!0,vP.callback=!1,vP),this,x1t,"sync",vpo,x1.prototype)}syncvia(e,t){return t.id?super.syncvia(...arguments):this}set cancel(e){this.cancel.$set(e,this,v1t,"cancel")}get cancel(){return this.cancel.$get(this,v1t,"cancel")}get cancel(){return this[wpo]||y((pu=this.action(),p(pu.atomic,Function)?pu.atomic():pu.atomic=!0,p(pu.label,Function)?pu.label("Back"):pu.label="Back",p(pu.icon,Function)?pu.icon(""):pu.icon="",p(pu.rpc,Function)?pu.rpc():pu.rpc=!0,pu.callback=!1,pu),this,v1t,"cancel",wpo,x1.prototype)}get incomplete(){return this.status=="requires_confirmation"}get payable(){var e;return Ye(e=this.status,"requires_payment_method")||Ye(e,"requires_confirmation")}get success(){return this.status=="succeeded"}get processing(){return this.status=="processing"}opownsection(){var b;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$;return o=n=1,(t=r[ffe])||(o=n=0,t=r[ffe]=t=R("op",null,null,null)),o||(t[wP]=r._),o||((b=t[w1t])==null||b.call(t,r,ffe)),i=t[S1t]("__",t),s=this,s===t[Apo]||(t.data=t[Apo]=s),e=null,this.client_secret&&this.payable?(a=u=1,(e=t[Upo])||(a=u=0,t[Upo]=e=R("stripe-elements",null,null,null)),a||(e[wP]=i),c=this,c===e[Ppo]||(e.data=e[Ppo]=c),c=this.client_secret,c===e[Tpo]||(e.secret=e[Tpo]=c),c=this.cancel,c===e[Opo]||(e.cancelaction=e[Opo]=c),a||!e.setup||e.setup(u,h),e[JY](u)):this.success?(d=f=1,(e=t[Rpo])||(d=f=0,t[Rpo]=e=w("div",null,null,"Payment successful")),d||(e[wP]=i)):(m=$=1,(e=t[Mpo])||(m=$=0,t[Mpo]=e=w("div",null,null,"Payment processing?")),m||(e[wP]=i)),t[Lpo]=i[T$n](e,0,t[Lpo]),o||r.sym||!t.setup||t.setup(n,r,ffe),r.sym||t[JY](n),t}opowndialog(){var h;var e,t=H(),r,o,n,i,s,a,u,c;return r=o=1,(e=t[mfe])||(r=o=0,e=t[mfe]=e=R("op",null,null,null)),r||(e[wP]=t._),r||((h=e[w1t])==null||h.call(e,t,mfe)),n=e[S1t]("__",e),r||(e.popup__={modal:!0}),r||(e.popup="popup"),r||(i=w("div",n,null,"Payment Intent dialog")),s=e[O$n](P$n),u=c=1,(a=s.run(this.opownsection()))||(u=c=0,s.cache(a=M(s.value,n,null,null))),a[R$n]&&(u||!a.setup||a.setup(c,s),a[JY](c)),a==e[KY]||!e[KY]&&n[M$n](e[KY]=a)||(n[L$n](a,e[KY]),e[KY]=a),r||t.sym||!e.setup||e.setup(o,t,mfe),t.sym||e[JY](o),e}opcanceltip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[$fe])||(r=o=0,e=t[$fe]=e=R("op",null,null,"Go back to plan selection.")),r||(e[wP]=t._),r||((i=e[w1t])==null||i.call(e,t,$fe)),n=e[S1t]("__",e),r||t.sym||!e.setup||e.setup(o,t,$fe),t.sym||e[JY](o),e}};x1.alias="pi",E(x1,D$n,"StripePaymentIntent",8);var C1t=x1;globalThis.StripePaymentIntent=C1t;T();oe();ge(),$e();var E1t=Symbol("id"),Dpo=Symbol(),j1t=Symbol("created"),Npo=Symbol(),A1t=Symbol("expires_at"),Ipo=Symbol(),U1t=Symbol("active"),Fpo=Symbol(),P1t=Symbol("code"),Hpo=Symbol(),T1t=Symbol("coupon"),Bpo=Symbol(),O1t=Symbol("customer"),Vpo=Symbol(),R1t=Symbol("cta"),zpo=Symbol(),M1t=Symbol("sync"),qpo=Symbol(),N5,Wpo,Zpo,Gpo,QY,I5,Ypo,eX,SP,yfe=Symbol(),Xpo=Symbol(),bfe=Symbol(),Kpo=Symbol(),Jpo=Symbol(),Qpo=Symbol(),L1t=Symbol(),e1o=Symbol(),t1o=Symbol(),r1o=Symbol(),o1o=Symbol(),n1o=Symbol(),i1o=Symbol(),s1o=Symbol(),l1o=Symbol(),a1o=Symbol(),u1o=Symbol(),c1o=Symbol(),h1o=Symbol(),p1o=Symbol(),d1o=Symbol(),D1t=Symbol(),tX=Symbol.for("##up"),gfe=Symbol.for("##register"),N1t=Symbol.for("#afterVisit"),N$n=Symbol.for("#getSlot"),Qg=Symbol.for("#placeChild"),I$n=Symbol.for("#getRenderContext"),F$n=Symbol.for("#isRichElement"),kfe=Symbol(),uh=class uh extends Qe(kfe,StripeObject,Offer){constructor(){super(...arguments),super[A]||this[A](),re(this,kfe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[kfe])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,E1t,"id")}get id(){return this.id.$get(this,E1t,"id")}get id(){return this[Dpo]||y((N5=this.key(),p(N5.r,Function)?N5.r(ADMIN|OWNER|ANYONE):N5.r=ADMIN|OWNER|ANYONE,p(N5.wcd,Function)?N5.wcd(ADMIN):N5.wcd=ADMIN,N5),this,E1t,"id",Dpo,uh.prototype)}set created(e){this.created.$set(e,this,j1t,"created")}get created(){return this.created.$get(this,j1t,"created")}get created(){return this[Npo]||y((Wpo=this.ts(),Wpo),this,j1t,"created",Npo,uh.prototype)}set expires_at(e){this.expires_at.$set(e,this,A1t,"expires_at")}get expires_at(){return this.expires_at.$get(this,A1t,"expires_at")}get expires_at(){return this[Ipo]||y((Zpo=this.ts(),Zpo),this,A1t,"expires_at",Ipo,uh.prototype)}set active(e){this.active.$set(e,this,U1t,"active")}get active(){return this.active.$get(this,U1t,"active")}get active(){return this[Fpo]||y((Gpo=this.bool(),Gpo),this,U1t,"active",Fpo,uh.prototype)}set code(e){this.code.$set(e,this,P1t,"code")}get code(){return this.code.$get(this,P1t,"code")}get code(){return this[Hpo]||y((QY=this.string(),p(QY.ci,Function)?QY.ci():QY.ci=!0,QY),this,P1t,"code",Hpo,uh.prototype)}set coupon(e){this.coupon.$set(e,this,T1t,"coupon")}get coupon(){return this.coupon.$get(this,T1t,"coupon")}get coupon(){return this[Bpo]||y((I5=this.parent(StripeCoupon),p(I5.eager,Function)?I5.eager():I5.eager=!0,p(I5.stat,Function)?I5.stat():I5.stat=!0,I5),this,T1t,"coupon",Bpo,uh.prototype)}set customer(e){this.customer.$set(e,this,O1t,"customer")}get customer(){return this.customer.$get(this,O1t,"customer")}get customer(){return this[Vpo]||y((Ypo=this.ref(StripeCustomer),Ypo),this,O1t,"customer",Vpo,uh.prototype)}set cta(e){this.cta.$set(e,this,R1t,"cta")}get cta(){return this.cta.$get(this,R1t,"cta")}get cta(){return this[zpo]||y((eX=this.string(),p(eX.fallback,Function)?eX.fallback(function(){var e;return(e=this.coupon)==null?void 0:e.cta}):eX.fallback=function(){var e;return(e=this.coupon)==null?void 0:e.cta},eX),this,R1t,"cta",zpo,uh.prototype)}set sync(e){this.sync.$set(e,this,M1t,"sync")}get sync(){return this.sync.$get(this,M1t,"sync")}get sync(){return this[qpo]||y((SP=this.action(),p(SP.rpc,Function)?SP.rpc():SP.rpc=!0,SP.callback=!1,SP),this,M1t,"sync",qpo,uh.prototype)}get aslabel(){return this.code}get asicon(){return"promo"}get astitle(){var e;return(e=this.coupon)==null?void 0:e.name}get percent_off(){var e;return((e=this.coupon)==null?void 0:e.percent_off)||0}get active(){return this.active&&!this.expired}get promo(){return this}opownchip(){var i;var e,t=H(),r,o,n;return r=o=1,(e=t[yfe])||(r=o=0,e=t[yfe]=e=R("op-chip",null,null,null)),r||(e[tX]=t._),r||((i=e[gfe])==null||i.call(e,t,yfe)),n=this,n===e[Xpo]||(e.data=e[Xpo]=n),r||t.sym||!e.setup||e.setup(o,t,yfe),t.sym||e[N1t](o),e}opowninline(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[bfe])||(r=o=0,e=t[bfe]=e=R("op-inline",null,"dashed",null)),r||(e[tX]=t._),r||((s=e[gfe])==null||s.call(e,t,bfe)),n=e[N$n]("__",e),i=this,i===e[Kpo]||(e.data=e[Kpo]=i),r||e.on$("optip",{},this),i=this.aslabel,i===e[Qpo]&&r||(e[Jpo]=n[Qg](e[Qpo]=i,384,e[Jpo])),r||t.sym||!e.setup||e.setup(o,t,bfe),t.sym||e[N1t](o),e}opownpilabel(){var $;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m;return o=n=1,(t=r[L1t])||(o=n=0,t=r[L1t]=t=w("span",null,"xl-ah",null)),o||(t[tX]=r._),o||(($=t[gfe])==null||$.call(t,r,L1t)),(i=t[e1o])||(t[e1o]=i=w("span",t,"xl-ai",null)),s=this.code,s===t[r1o]&&o||(t[t1o]=i[Qg](t[r1o]=s,384,t[t1o])),(a=t[o1o])||(t[o1o]=a=w("span",t,"xl-aj",null)),u=this.percent_off,u===t[i1o]&&o||(t[n1o]=a[Qg](t[i1o]=u,128,t[n1o])),o||a[Qg]("%"),(c=t[s1o])||(t[s1o]=c=w("span",t,"xl-ak",null)),h=this.times_redeemed,h===t[a1o]&&o||(t[l1o]=c[Qg](t[a1o]=h,128,t[l1o])),o||c[Qg](" redemptions"),e=null,this.expires_at&&(d=f=1,(e=t[u1o])||(d=f=0,t[u1o]=e=w("span",null,null,null)),d||(e[tX]=t),d||e[Qg]("expires at "),pt.context=e[h1o]||(e[h1o]={_:e}),m=this.expires_at.format("ymd"),pt.context=null,m===e[p1o]&&d||(e[c1o]=e[Qg](e[p1o]=m,256,e[c1o]))),t[d1o]=t[Qg](e,0,t[d1o]),t}opowncheckoutline(){var i;var e,t,r=H(),o,n;return e=r[I$n](D1t),o=n=1,(t=e.run(this.oel(this.coupon,"checkout-line")))||(o=n=0,e.cache(t=M(e.value,null,null,null))),o||(t[tX]=r._),o||((i=t[gfe])==null||i.call(t,r,D1t)),t[F$n]&&(o||r.sym||!t.setup||t.setup(n,r,D1t),r.sym||t[N1t](n)),t}};uh.alias="promo",E(uh,kfe,"StripePromoCode",80);var I1t=uh;globalThis.StripePromoCode=I1t;T();oe();var F1t=Symbol("coupon"),f1o=Symbol(),H1t=Symbol("promotion_code"),m1o=Symbol(),B1t=Symbol("customer"),$1o=Symbol(),V1t=Symbol("start"),y1o=Symbol(),z1t=Symbol("end"),b1o=Symbol(),rX,oX,g1o,k1o,_1o,_fe=Symbol(),e6=class e6 extends Qe(_fe,OPEmbed,StripeMixin){constructor(){super(...arguments),super[A]||this[A](),re(this,_fe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[_fe])==null||o.call(this,...arguments)}set coupon(e){this.coupon.$set(e,this,F1t,"coupon")}get coupon(){return this.coupon.$get(this,F1t,"coupon")}get coupon(){return this[f1o]||y((rX=this.ref(StripeCoupon),p(rX.eager,Function)?rX.eager():rX.eager=!0,rX),this,F1t,"coupon",f1o,e6.prototype)}set promotion_code(e){this.promotion_code.$set(e,this,H1t,"promotion_code")}get promotion_code(){return this.promotion_code.$get(this,H1t,"promotion_code")}get promotion_code(){return this[m1o]||y((oX=this.ref(StripePromoCode),p(oX.eager,Function)?oX.eager():oX.eager=!0,oX),this,H1t,"promotion_code",m1o,e6.prototype)}set customer(e){this.customer.$set(e,this,B1t,"customer")}get customer(){return this.customer.$get(this,B1t,"customer")}get customer(){return this[$1o]||y((g1o=this.ref(StripeCustomer),g1o),this,B1t,"customer",$1o,e6.prototype)}set start(e){this.start.$set(e,this,V1t,"start")}get start(){return this.start.$get(this,V1t,"start")}get start(){return this[y1o]||y((k1o=this.ts(),k1o),this,V1t,"start",y1o,e6.prototype)}set end(e){this.end.$set(e,this,z1t,"end")}get end(){return this.end.$get(this,z1t,"end")}get end(){return this[b1o]||y((_1o=this.ts(),_1o),this,z1t,"end",b1o,e6.prototype)}get aslabel(){var e;return""+((e=this.coupon)==null?void 0:e.description)}onprice(e){var r;if(this.empty)return e.unit_amount;let t=((r=this.promotion_code)==null?void 0:r.coupon)||this.coupon;return e.unit_amount.mainamount*(100-t.percent_off||0)/100}get empty(){var e;return!((e=this.promotion_code)!=null&&e.coupon)&&!this.coupon}};e6.alias="di",E(e6,_fe,"StripeDiscount",80);var q1t=e6;globalThis.StripeDiscount=q1t;T();oe();$e();var W1t=Symbol("id"),x1o=Symbol(),Z1t=Symbol("name"),v1o=Symbol(),G1t=Symbol("currency"),w1o=Symbol(),Y1t=Symbol("amount_off"),S1o=Symbol(),X1t=Symbol("percent_off"),C1o=Symbol(),K1t=Symbol("percent_fee"),E1o=Symbol(),J1t=Symbol("applies_to"),j1o=Symbol(),Q1t=Symbol("cta"),A1o=Symbol(),edt=Symbol("affiliate"),U1o=Symbol(),tdt=Symbol("duration"),P1o=Symbol(),rdt=Symbol("duration_in_months"),T1o=Symbol(),odt=Symbol("promocodes"),O1o=Symbol(),ndt=Symbol("sync"),R1o=Symbol(),F5,M1o,L1o,D1o,nX,xfe=Symbol(),N1o=Symbol(),I1o=Symbol(),F1o=Symbol(),H1o=Symbol(),B1o=Symbol(),vfe=Symbol(),V1o=Symbol(),z1o=Symbol(),q1o=Symbol(),W1o,iX,Z1o,H5,G1o,Y1o,B5,wfe=Symbol(),X1o=Symbol(),K1o=Symbol(),J1o=Symbol(),Q1o=Symbol(),edo=Symbol(),tdo=Symbol(),rdo=Symbol(),CP,Sfe=Symbol.for("##up"),idt=Symbol.for("##register"),sdt=Symbol.for("#getSlot"),Cfe=Symbol.for("#afterVisit"),H$n=Symbol.for("#appendChild"),Vv=Symbol.for("#placeChild"),Efe=Symbol(),Tl=class Tl extends Qe(Efe,StripeObject,Offer){constructor(){super(...arguments),super[A]||this[A](),re(this,Efe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Efe])==null||o.call(this,...arguments)}static get(e,t){return typeof e=="string"&&e.indexOf("scoupon")==-1&&(e="scoupon_"+e),super.get(e,t)}get stripeid(){var e,t;return(t=(e=this.id)==null?void 0:e.includes)!=null&&t.call(e,"_")?this.oid:this.id}get asicon(){return"coupon"}set id(e){this.id.$set(e,this,W1t,"id")}get id(){return this.id.$get(this,W1t,"id")}get id(){return this[x1o]||y((F5=this.key(),p(F5.rwx,Function)?F5.rwx(ADMIN|OWNER|ANYONE):F5.rwx=ADMIN|OWNER|ANYONE,p(F5.cd,Function)?F5.cd(ADMIN):F5.cd=ADMIN,F5),this,W1t,"id",x1o,Tl.prototype)}set name(e){this.name.$set(e,this,Z1t,"name")}get name(){return this.name.$get(this,Z1t,"name")}get name(){return this[v1o]||y((M1o=this.string(),M1o),this,Z1t,"name",v1o,Tl.prototype)}set currency(e){this.currency.$set(e,this,G1t,"currency")}get currency(){return this.currency.$get(this,G1t,"currency")}get currency(){return this[w1o]||y((L1o=this.string(),L1o),this,G1t,"currency",w1o,Tl.prototype)}set amount_off(e){this.amount_off.$set(e,this,Y1t,"amount_off")}get amount_off(){return this.amount_off.$get(this,Y1t,"amount_off")}get amount_off(){return this[S1o]||y((D1o=this.money(),D1o),this,Y1t,"amount_off",S1o,Tl.prototype)}set percent_off(e){this.percent_off.$set(e,this,X1t,"percent_off")}get percent_off(){return this.percent_off.$get(this,X1t,"percent_off")}get percent_off(){return this[C1o]||y((nX=this.int(),p(nX.stat,Function)?nX.stat():nX.stat=!0,nX),this,X1t,"percent_off",C1o,Tl.prototype)}oppercent_offstat(e){var f;var t,r=H(),o,n,i,s,a,u,c,h,d;return o=n=1,(t=r[xfe])||(o=n=0,t=r[xfe]=t=R("op-stat",null,null,null)),o||(t[Sfe]=r._),o||((f=t[idt])==null||f.call(t,r,xfe)),i=t[sdt]("__",t),e===t[N1o]||(t.data=t[N1o]=e),a=u=1,(s=t[I1o])||(a=u=0,t[I1o]=s=R("op-icon",i,null,null)),a||(s.data="coupon"),a||!s.setup||s.setup(u,c),s[Cfe](u),a||i[H$n](s),(h=t[F1o])||(t[F1o]=h=w("em",i,null,null)),d=e,d===t[B1o]&&o||(t[H1o]=h[Vv](t[B1o]=d,128,t[H1o])),o||h[Vv]("% off"),o||r.sym||!t.setup||t.setup(n,r,xfe),r.sym||t[Cfe](n),t}opowntip(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[vfe])||(r=o=0,e=t[vfe]=e=R("op",null,null,null)),r||(e[Sfe]=t._),r||((s=e[idt])==null||s.call(e,t,vfe)),n=e[sdt]("__",e),i=this,i===e[V1o]||(e.data=e[V1o]=i),i=this.description,i===e[q1o]&&r||(e[z1o]=n[Vv](e[q1o]=i,384,e[z1o])),r||t.sym||!e.setup||e.setup(o,t,vfe),t.sym||e[Cfe](o),e}get description(){let e=this.percent_off,t=this.duration;return t!=null&&t.forever?""+e+"% off forever":t!=null&&t.repeating?""+e+"% first "+this.duration_in_months+" months":e?""+e+"% off":""}set percent_fee(e){this.percent_fee.$set(e,this,K1t,"percent_fee")}get percent_fee(){return this.percent_fee.$get(this,K1t,"percent_fee")}get percent_fee(){return this[E1o]||y((W1o=this.int(),W1o),this,K1t,"percent_fee",E1o,Tl.prototype)}set applies_to(e){this.applies_to.$set(e,this,J1t,"applies_to")}get applies_to(){return this.applies_to.$get(this,J1t,"applies_to")}get applies_to(){return this[j1o]||y((iX=this.refs(StripeProduct),p(iX.synckey,Function)?iX.synckey("products"):iX.synckey="products",iX),this,J1t,"applies_to",j1o,Tl.prototype)}set cta(e){this.cta.$set(e,this,Q1t,"cta")}get cta(){return this.cta.$get(this,Q1t,"cta")}get cta(){return this[A1o]||y((Z1o=this.string(),Z1o),this,Q1t,"cta",A1o,Tl.prototype)}set affiliate(e){this.affiliate.$set(e,this,edt,"affiliate")}get affiliate(){return this.affiliate.$get(this,edt,"affiliate")}get affiliate(){return this[U1o]||y((H5=this.ref(User),p(H5.as,Function)?H5.as(OPOWNER):H5.as=OPOWNER,p(H5.r,Function)?H5.r(OPOWNER|OPADMIN):H5.r=OPOWNER|OPADMIN,H5),this,edt,"affiliate",U1o,Tl.prototype)}set duration(e){this.duration.$set(e,this,tdt,"duration")}get duration(){return this.duration.$get(this,tdt,"duration")}get duration(){return this[P1o]||y((G1o=this.enum({forever:{},once:{},repeating:{}}),G1o),this,tdt,"duration",P1o,Tl.prototype)}set duration_in_months(e){this.duration_in_months.$set(e,this,rdt,"duration_in_months")}get duration_in_months(){return this.duration_in_months.$get(this,rdt,"duration_in_months")}get duration_in_months(){return this[T1o]||y((Y1o=this.int(),Y1o),this,rdt,"duration_in_months",T1o,Tl.prototype)}set promocodes(e){this.promocodes.$set(e,this,odt,"promocodes")}get promocodes(){return this.promocodes.$get(this,odt,"promocodes")}get promocodes(){return this[O1o]||y((B5=this.coll(StripePromoCode,{layout:"list"}),p(B5.tab,Function)?B5.tab():B5.tab=!0,p(B5.stat,Function)?B5.stat(100):B5.stat=100,B5),this,odt,"promocodes",O1o,Tl.prototype)}get coupon(){return this}opowncheckoutline(){var m;var e,t,r,o=H(),n,i,s,a,u,c,h,d;let f=this.aslabel||"";return n=i=1,(r=o[wfe])||(n=i=0,r=o[wfe]=r=R("op",null,null,null)),n||(r[Sfe]=o._),n||((m=r[idt])==null||m.call(r,o,wfe)),s=r[sdt]("__",r),a=this,a===r[X1o]||(r.data=r[X1o]=a),n||s[Vv]("Applied "),e=null,f.match(/coupon/i)||(u=c=1,(e=r[K1o])||(u=c=0,r[K1o]=e=w("span",null,null,"Coupon ")),u||(e[Sfe]=s)),r[J1o]=s[Vv](e,0,r[J1o]),(h=r[Q1o])||(r[Q1o]=h=w("b",s,"xr-al",null)),d=f,d===r[tdo]&&n||(r[edo]=h[Vv](r[tdo]=d,384,r[edo])),t=null,!f.match(/\d\d\%/i)&&this.percent_off&&(t=" "+this.percent_off+"% off"),r[rdo]=s[Vv](t,0,r[rdo]),n||o.sym||!r.setup||r.setup(i,o,wfe),o.sym||r[Cfe](i),r}set sync(e){this.sync.$set(e,this,ndt,"sync")}get sync(){return this.sync.$get(this,ndt,"sync")}get sync(){return this[R1o]||y((CP=this.action(),p(CP.rpc,Function)?CP.rpc():CP.rpc=!0,CP.callback=!1,CP),this,ndt,"sync",R1o,Tl.prototype)}};Tl.alias="scoupon",E(Tl,Efe,"StripeCoupon",88);var ldt=Tl;globalThis.StripeCoupon=ldt;T();oe();var adt=Symbol("submit"),odo=Symbol(),ndo=Symbol(),ido=Symbol(),sdo=Symbol(),ldo=Symbol(),ado=Symbol(),udo=Symbol(),cdo=Symbol(),hdo=Symbol(),pdo=Symbol(),B$n=Symbol(),V$n=Symbol(),ddo=Symbol(),EP=Symbol(),z$n=Symbol(),fdo=Symbol();var mdo=Symbol(),$do=Symbol(),jP,q$n=Symbol.for("#beforeReconcile"),AP=Symbol.for("#placeChild"),jfe=Symbol.for("##up"),W$n=Symbol.for("#appendChild"),ydo=Symbol.for("#getRenderContext"),bdo=Symbol.for("#isRichElement"),udt=Symbol.for("#afterVisit"),Z$n=Symbol.for("#insertInto"),G$n=Symbol.for("#replaceWith"),Y$n=Symbol.for("#afterReconcile"),X$n=Symbol(),sX=class sX extends Ve("op","OpComponent",de){get $content(){let e=w("div",null,`${this._ns_||""} $content`,null);return Object.defineProperty(this,"$content",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.secret=e?e.secret:void 0,this.complete=e&&(o=e.complete)!==void 0?o:!1}get service(){return this.data.service}async awaken(){var e=this;this.stripe=await this.service.client;let t={theme:"flat",labels:"floating",variables:{fontSizeBase:"14px",borderRadius:"6px",colorTextSecondary:"#000000",colorPrimary:"#3b82f6"}};return this.elements=this.stripe.elements({clientSecret:this.secret,appearance:t}),this.$payment=this.elements.create("payment",{}),this.$payment.mount(this.$content),this.$payment.on("loaderstart",function(r){return!0}),this.$payment.on("loaderror",function(r){return!0}),this.$payment.on("change",function(r){return e.complete=r.complete,Cr()}),this.$payment.on("ready",function(r){return!0})}mount(){return this.error=null,this}render(){var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;return r=this,r[q$n](),o=n=1,r[ndo]===1||(o=n=0,r[ndo]=1),s=r.__slots.before,r[ido]=r[AP](s,128,r[ido]),(a=r[sdo])||(r[sdo]=(a=this.$content,a[jfe]=r,a)),o||r[W$n](a),e=null,this.error&&(u=c=1,(e=r[ldo])||(u=c=0,r[ldo]=e=w("div",null,`wq-ai ${i}`,null)),u||(e[jfe]=r),h=this.error.message,h===e[udo]&&u||(e[ado]=e[AP](e[udo]=h,384,e[ado]))),r[cdo]=r[AP](e,0,r[cdo]),d=r.__slots.bottom,r[hdo]=r[AP](d,0,r[hdo]),f=r.__slots.buttons,(!f||!f.hasChildNodes())&&(m=$=1,(f=r[pdo])||(m=$=0,r[pdo]=f=w("div",null,`wq-al lg ${i}`,null)),m||(f[jfe]=r),t=null,this.cancelaction&&(b=f[ydo](V$n),g=x=1,(t=b.run(this.obutton(this.cancelaction)))||(g=x=0,b.cache(t=M(b.value,null,`${i}`,null))),g||(t[jfe]=f),t[bdo]&&((!g||x&2)&&t.flags.reconcile(B$n,`${i}`),g||!t.setup||t.setup(x,b),t[udt](x))),f[ddo]=f[AP](t,0,f[ddo]),k=f[ydo](z$n),S=v=1,(_=k.run(this.obutton(this.submit)))||(S=v=0,k.cache(_=M(k.value,f,`pri ${i}`,null))),_[bdo]&&(C=!this.complete,C===_[fdo]||(_.disabled=_[fdo]=C),S||(_.icon=!1),S||(_.label="Complete Purchase"),(!S||v&2)&&_.flags.reconcile(EP,`pri ${i}`),S||!_.setup||_.setup(v,k),_[udt](v)),_==f[EP]||!f[EP]&&(f[EP]=_)[Z$n](f)||f[EP][G$n](f[EP]=_,f),m||!f.setup||f.setup($,j),f[udt]($)),f===r[$do]||(r[mdo]=r[AP](r[$do]=f,256,r[mdo])),r[Y$n](n),r}set submit(e){this.submit.$set(e,this,adt,"submit")}get submit(){return this.submit.$get(this,adt,"submit")}get submit(){return this[odo]||y((jP=this.action(),p(jP.atomic,Function)?jP.atomic():jP.atomic=!0,jP.callback=async function(){let e=await(async()=>{try{return await this.stripe.confirmPayment({elements:this.elements,redirect:"if_required",confirmParams:{return_url:globalThis.document.location.href}})}catch(t){return t}})();return(this.error=e==null?void 0:e.error)?OP.toast(this.error.message):e!=null&&e.paymentIntent&&await OP.get(e.paymentIntent.id).sync(),e},jP),this,adt,"submit",odo,sX.prototype)}};E(sX,X$n,"stripe-elements",2),pe("stripe-elements",sX,{});var gdo=sX;T();oe();var cdt=Symbol("pro_before"),kdo=Symbol(),hdt=Symbol("pro_after"),_do=Symbol(),pdt=Symbol("user_before"),xdo=Symbol(),ddt=Symbol("user_after"),vdo=Symbol(),fdt=Symbol("embed"),wdo=Symbol(),mdt=Symbol("backfilled"),Sdo=Symbol(),$dt=Symbol("visited"),Cdo=Symbol(),ydt=Symbol("visited"),Edo=Symbol(),bdt=Symbol("seen_checkout"),jdo=Symbol(),gdt=Symbol("tried_checkout"),Ado=Symbol(),kdt=Symbol("spent_money"),Udo=Symbol(),_dt=Symbol("refunded_charge"),Pdo=Symbol(),xdt=Symbol("disputed_charge"),Tdo=Symbol(),vdt=Symbol("became_pro"),Odo=Symbol(),wdt=Symbol("canceled_pro"),Rdo=Symbol(),Sdt=Symbol("pro_ended"),Mdo=Symbol(),Cdt=Symbol("paused_pro"),Ldo=Symbol(),Edt=Symbol("unpaused_pro"),Ddo=Symbol(),jdt=Symbol("opened_cancel_flow"),Ndo=Symbol(),Adt=Symbol("used_churn_coupon"),Ido=Symbol(),Udt=Symbol("enrolled"),Fdo=Symbol(),Pdt=Symbol("completed"),Hdo=Symbol(),Tdt=Symbol("visits"),Bdo=Symbol(),Odt=Symbol("metrics"),Vdo=Symbol(),Rdt=Symbol("annotate"),zdo=Symbol(),Mdt=Symbol("metrics"),qdo=Symbol(),Ldt,Wdo,Zdo,Gdo,Ydo,Xdo,Ec,C0,E0,j0,A0,U0,P0,T0,O0,R0,M0,L0,D0,N0,I0,F0,Kdo,Afe=Symbol(),lX=Symbol(),K$n=Symbol(),V5,t6,aX,J$n=Symbol.for("##up"),Q$n=Symbol.for("##register"),eyn=Symbol.for("#getRenderContext"),tyn=Symbol.for("#isRichElement"),Jdo=Symbol.for("#afterVisit"),ryn=Symbol.for("#insertInto"),oyn=Symbol.for("#replaceWith"),nyn=Symbol(),Ddt=class Ddt{set pro_before(e){this.pro_before.$set(e,this,cdt,"pro_before")}get pro_before(){return this.pro_before.$get(this,cdt,"pro_before")}get pro_before(){return this[kdo]||y((Ldt=this.bool(),Ldt.default=function(){var e;return(e=this.user||OP.user)==null?void 0:e.pro},Ldt),this,cdt,"pro_before",kdo,OPEvent.prototype)}set pro_after(e){this.pro_after.$set(e,this,hdt,"pro_after")}get pro_after(){return this.pro_after.$get(this,hdt,"pro_after")}get pro_after(){return this[_do]||y((Wdo=this.bool(),Wdo),this,hdt,"pro_after",_do,OPEvent.prototype)}set user_before(e){this.user_before.$set(e,this,pdt,"user_before")}get user_before(){return this.user_before.$get(this,pdt,"user_before")}get user_before(){return this[xdo]||y((Zdo=this.bool(),Zdo),this,pdt,"user_before",xdo,OPEvent.prototype)}set user_after(e){this.user_after.$set(e,this,ddt,"user_after")}get user_after(){return this.user_after.$get(this,ddt,"user_after")}get user_after(){return this[vdo]||y((Gdo=this.bool(),Gdo),this,ddt,"user_after",vdo,OPEvent.prototype)}set embed(e){this.embed.$set(e,this,fdt,"embed")}get embed(){return this.embed.$get(this,fdt,"embed")}get embed(){return this[wdo]||y((Ydo=this.ref(),Ydo),this,fdt,"embed",wdo,OPEvent.prototype)}set backfilled(e){this.backfilled.$set(e,this,mdt,"backfilled")}get backfilled(){return this.backfilled.$get(this,mdt,"backfilled")}get backfilled(){return this[Sdo]||y((Xdo=this.bool(),Xdo),this,mdt,"backfilled",Sdo,OPEvent.prototype)}};E(Ddt,nyn,"OPEvent",1,OPEvent);var Qdo=Ddt,iyn=Symbol(),Ndt=class Ndt{set visited(e){this.visited.$set(e,this,$dt,"visited")}get visited(){return this.visited.$get(this,$dt,"visited")}get visited(){return this[Cdo]||y((Ec=this.event(),p(Ec.pov,Function)?Ec.pov():Ec.pov=!0,p(Ec.throttle,Function)?Ec.throttle(60*1e3):Ec.throttle=60*1e3,p(Ec.track,Function)?Ec.track():Ec.track=!0,p(Ec.order,Function)?Ec.order("desc"):Ec.order="desc",Ec),this,$dt,"visited",Cdo,Content.prototype)}};E(Ndt,iyn,"Content",1,Content);var e0o=Ndt,syn=Symbol(),Idt=class Idt{set visited(e){this.visited.$set(e,this,ydt,"visited")}get visited(){return this.visited.$get(this,ydt,"visited")}get visited(){return this[Edo]||y((C0=this.event(),p(C0.throttle,Function)?C0.throttle(600*1e3):C0.throttle=600*1e3,p(C0.pov,Function)?C0.pov():C0.pov=!0,p(C0.track,Function)?C0.track():C0.track=!0,C0),this,ydt,"visited",Edo,App.prototype)}set seen_checkout(e){this.seen_checkout.$set(e,this,bdt,"seen_checkout")}get seen_checkout(){return this.seen_checkout.$get(this,bdt,"seen_checkout")}get seen_checkout(){return this[jdo]||y((E0=this.event(),p(E0.throttle,Function)?E0.throttle(100*1e3):E0.throttle=100*1e3,p(E0.pov,Function)?E0.pov():E0.pov=!0,p(E0.track,Function)?E0.track():E0.track=!0,E0),this,bdt,"seen_checkout",jdo,App.prototype)}set tried_checkout(e){this.tried_checkout.$set(e,this,gdt,"tried_checkout")}get tried_checkout(){return this.tried_checkout.$get(this,gdt,"tried_checkout")}get tried_checkout(){return this[Ado]||y((j0=this.event(),p(j0.throttle,Function)?j0.throttle(100*1e3):j0.throttle=100*1e3,p(j0.pov,Function)?j0.pov():j0.pov=!0,p(j0.track,Function)?j0.track():j0.track=!0,j0),this,gdt,"tried_checkout",Ado,App.prototype)}};E(Idt,syn,"App",1,App);var t0o=Idt,lyn=Symbol(),Fdt=class Fdt{set spent_money(e){this.spent_money.$set(e,this,kdt,"spent_money")}get spent_money(){return this.spent_money.$get(this,kdt,"spent_money")}get spent_money(){return this[Udo]||y((A0=this.event(),p(A0.pov,Function)?A0.pov():A0.pov=!0,p(A0.throttle,Function)?A0.throttle(60*1e3):A0.throttle=60*1e3,p(A0.track,Function)?A0.track():A0.track=!0,A0),this,kdt,"spent_money",Udo,StripeCharge.prototype)}set refunded_charge(e){this.refunded_charge.$set(e,this,_dt,"refunded_charge")}get refunded_charge(){return this.refunded_charge.$get(this,_dt,"refunded_charge")}get refunded_charge(){return this[Pdo]||y((U0=this.event(),p(U0.pov,Function)?U0.pov():U0.pov=!0,p(U0.throttle,Function)?U0.throttle(60*1e3):U0.throttle=60*1e3,p(U0.track,Function)?U0.track():U0.track=!0,U0),this,_dt,"refunded_charge",Pdo,StripeCharge.prototype)}set disputed_charge(e){this.disputed_charge.$set(e,this,xdt,"disputed_charge")}get disputed_charge(){return this.disputed_charge.$get(this,xdt,"disputed_charge")}get disputed_charge(){return this[Tdo]||y((P0=this.event(),p(P0.pov,Function)?P0.pov():P0.pov=!0,p(P0.throttle,Function)?P0.throttle(60*1e3):P0.throttle=60*1e3,p(P0.track,Function)?P0.track():P0.track=!0,P0),this,xdt,"disputed_charge",Tdo,StripeCharge.prototype)}};E(Fdt,lyn,"StripeCharge",1,StripeCharge);var r0o=Fdt,ayn=Symbol(),Hdt=class Hdt{set became_pro(e){this.became_pro.$set(e,this,vdt,"became_pro")}get became_pro(){return this.became_pro.$get(this,vdt,"became_pro")}get became_pro(){return this[Odo]||y((T0=this.event(),p(T0.pov,Function)?T0.pov():T0.pov=!0,p(T0.throttle,Function)?T0.throttle(60*1e3):T0.throttle=60*1e3,p(T0.track,Function)?T0.track():T0.track=!0,T0),this,vdt,"became_pro",Odo,StripeSubscription.prototype)}set canceled_pro(e){this.canceled_pro.$set(e,this,wdt,"canceled_pro")}get canceled_pro(){return this.canceled_pro.$get(this,wdt,"canceled_pro")}get canceled_pro(){return this[Rdo]||y((O0=this.event(),p(O0.pov,Function)?O0.pov():O0.pov=!0,p(O0.throttle,Function)?O0.throttle(60*1e3):O0.throttle=60*1e3,p(O0.track,Function)?O0.track():O0.track=!0,O0),this,wdt,"canceled_pro",Rdo,StripeSubscription.prototype)}set pro_ended(e){this.pro_ended.$set(e,this,Sdt,"pro_ended")}get pro_ended(){return this.pro_ended.$get(this,Sdt,"pro_ended")}get pro_ended(){return this[Mdo]||y((R0=this.event(),p(R0.pov,Function)?R0.pov():R0.pov=!0,p(R0.throttle,Function)?R0.throttle(60*1e3):R0.throttle=60*1e3,p(R0.track,Function)?R0.track():R0.track=!0,R0),this,Sdt,"pro_ended",Mdo,StripeSubscription.prototype)}set paused_pro(e){this.paused_pro.$set(e,this,Cdt,"paused_pro")}get paused_pro(){return this.paused_pro.$get(this,Cdt,"paused_pro")}get paused_pro(){return this[Ldo]||y((M0=this.event(),p(M0.pov,Function)?M0.pov():M0.pov=!0,p(M0.throttle,Function)?M0.throttle(60*1e3):M0.throttle=60*1e3,p(M0.track,Function)?M0.track():M0.track=!0,M0),this,Cdt,"paused_pro",Ldo,StripeSubscription.prototype)}set unpaused_pro(e){this.unpaused_pro.$set(e,this,Edt,"unpaused_pro")}get unpaused_pro(){return this.unpaused_pro.$get(this,Edt,"unpaused_pro")}get unpaused_pro(){return this[Ddo]||y((L0=this.event(),p(L0.pov,Function)?L0.pov():L0.pov=!0,p(L0.throttle,Function)?L0.throttle(60*1e3):L0.throttle=60*1e3,p(L0.track,Function)?L0.track():L0.track=!0,L0),this,Edt,"unpaused_pro",Ddo,StripeSubscription.prototype)}set opened_cancel_flow(e){this.opened_cancel_flow.$set(e,this,jdt,"opened_cancel_flow")}get opened_cancel_flow(){return this.opened_cancel_flow.$get(this,jdt,"opened_cancel_flow")}get opened_cancel_flow(){return this[Ndo]||y((D0=this.event(),p(D0.pov,Function)?D0.pov():D0.pov=!0,p(D0.throttle,Function)?D0.throttle(60*1e3):D0.throttle=60*1e3,p(D0.track,Function)?D0.track():D0.track=!0,D0),this,jdt,"opened_cancel_flow",Ndo,StripeSubscription.prototype)}set used_churn_coupon(e){this.used_churn_coupon.$set(e,this,Adt,"used_churn_coupon")}get used_churn_coupon(){return this.used_churn_coupon.$get(this,Adt,"used_churn_coupon")}get used_churn_coupon(){return this[Ido]||y((N0=this.event(),p(N0.pov,Function)?N0.pov():N0.pov=!0,p(N0.throttle,Function)?N0.throttle(60*1e3):N0.throttle=60*1e3,p(N0.track,Function)?N0.track():N0.track=!0,N0),this,Adt,"used_churn_coupon",Ido,StripeSubscription.prototype)}};E(Hdt,ayn,"StripeSubscription",1,StripeSubscription);var o0o=Hdt,uyn=Symbol(),Bdt=class Bdt{set enrolled(e){this.enrolled.$set(e,this,Udt,"enrolled")}get enrolled(){return this.enrolled.$get(this,Udt,"enrolled")}get enrolled(){return this[Fdo]||y((I0=this.event(),p(I0.pov,Function)?I0.pov():I0.pov=!0,p(I0.throttle,Function)?I0.throttle(60*1e3):I0.throttle=60*1e3,p(I0.track,Function)?I0.track():I0.track=!0,I0),this,Udt,"enrolled",Fdo,Course.prototype)}set completed(e){this.completed.$set(e,this,Pdt,"completed")}get completed(){return this.completed.$get(this,Pdt,"completed")}get completed(){return this[Hdo]||y((F0=this.event(),p(F0.pov,Function)?F0.pov():F0.pov=!0,p(F0.throttle,Function)?F0.throttle(60*1e3):F0.throttle=60*1e3,p(F0.track,Function)?F0.track():F0.track=!0,F0),this,Pdt,"completed",Hdo,Course.prototype)}};E(Bdt,uyn,"Course",1,Course);var n0o=Bdt,cyn=Symbol(),Tfe=class Tfe extends OPEmbed{get course(){return this.$up}set visits(e){this.visits.$set(e,this,Tdt,"visits")}get visits(){return this.visits.$get(this,Tdt,"visits")}get visits(){return this[Bdo]||y((Kdo=this.embed(OPChartView,{sources:OPEvent,query:{name:"visited",target:"../.."}}),Kdo),this,Tdt,"visits",Bdo,Tfe.prototype)}opownpagebody(){var u;var e,t=H(),r,o,n,i,s,a;return r=o=1,(e=t[Afe])||(r=o=0,e=t[Afe]=e=w("section",null,"cdr-af",null)),r||(e[J$n]=t._),r||((u=e[Q$n])==null||u.call(e,t,Afe)),n=e[eyn](K$n),s=a=1,(i=n.run(this.oel(this.visits,"body")))||(s=a=0,n.cache(i=M(n.value,e,null,null))),i[tyn]&&(s||!i.setup||i.setup(a,n),i[Jdo](a)),i==e[lX]||!e[lX]&&(e[lX]=i)[ryn](e)||e[lX][oyn](e[lX]=i,e),r||t.sym||!e.setup||e.setup(o,t,Afe),t.sym||e[Jdo](o),e}};E(Tfe,cyn,"CourseMetrics",0);var Ufe=Tfe;globalThis.CourseMetrics=Ufe;var hyn=Symbol(),Vdt=class Vdt{set metrics(e){this.metrics.$set(e,this,Odt,"metrics")}get metrics(){return this.metrics.$get(this,Odt,"metrics")}get metrics(){return this[Vdo]||y((V5=this.embed(Ufe),p(V5.rw,Function)?V5.rw(OPADMIN):V5.rw=OPADMIN,p(V5.tab,Function)?V5.tab():V5.tab=!0,V5),this,Odt,"metrics",Vdo,Course.prototype)}};E(Vdt,hyn,"Course",1,Course);var i0o=Vdt,pyn=Symbol(),Ofe=class Ofe extends OPEmbed{get user(){return this.$up}set annotate(e){this.annotate.$set(e,this,Rdt,"annotate")}get annotate(){return this.annotate.$get(this,Rdt,"annotate")}get annotate(){return this[zdo]||y((t6=this.action(),p(t6.x,Function)?t6.x(OPADMIN):t6.x=OPADMIN,p(t6.rpc,Function)?t6.rpc():t6.rpc=!0,t6.callback=!1,t6),this,Rdt,"annotate",zdo,Ofe.prototype)}};E(Ofe,pyn,"UserMetrics",0);var Pfe=Ofe;globalThis.UserMetrics=Pfe;var dyn=Symbol(),zdt=class zdt{set metrics(e){this.metrics.$set(e,this,Mdt,"metrics")}get metrics(){return this.metrics.$get(this,Mdt,"metrics")}get metrics(){return this[qdo]||y((aX=this.embed(Pfe),p(aX.rw,Function)?aX.rw(OPADMIN):aX.rw=OPADMIN,aX),this,Mdt,"metrics",qdo,User.prototype)}};E(zdt,dyn,"User",1,User);var s0o=zdt;T();oe();ge(),dt(),$e();var qdt=Symbol("id"),l0o=Symbol(),Wdt=Symbol("giver"),a0o=Symbol(),Zdt=Symbol("receiver"),u0o=Symbol(),Gdt=Symbol("message"),c0o=Symbol(),Ydt=Symbol("coupon"),h0o=Symbol(),Xdt=Symbol("promocode"),p0o=Symbol(),Kdt=Symbol("duration"),d0o=Symbol(),Jdt=Symbol("open"),f0o=Symbol(),Qdt=Symbol("claim-your-gift"),m0o=Symbol(),z5,uX,cX,$0o,hX,pX,y0o,e0t,v1,Rfe=Symbol(),b0o=Symbol(),g0o=Symbol(),k0o=Symbol(),_0o=Symbol(),x0o=Symbol(),t0t=Symbol(),Mfe=Symbol(),v0o=Symbol(),w0o=Symbol(),S0o=Symbol(),C0o=Symbol(),E0o=Symbol(),j0o=Symbol(),A0o=Symbol(),U0o=Symbol(),P0o=Symbol(),T0o=Symbol(),O0o=Symbol(),R0o=Symbol(),Lfe=Symbol(),M0o=Symbol(),L0o=Symbol(),D0o=Symbol(),N0o=Symbol(),I0o=Symbol(),F0o=Symbol(),H0o=Symbol(),B0o=Symbol(),dX=Symbol(),fyn=Symbol(),fX=Symbol(),myn=Symbol(),V0o=Symbol(),z0o=Symbol(),q0o=Symbol(),W0o=Symbol(),Z0o=Symbol(),UP=Symbol(),$yn=Symbol(),q5=Symbol.for("##up"),Dfe=Symbol.for("##register"),PP=Symbol.for("#getSlot"),jc=Symbol.for("#afterVisit"),zv=Symbol.for("#appendChild"),Ac=Symbol.for("#placeChild"),r0t=Symbol.for("#getRenderContext"),o0t=Symbol.for("#isRichElement"),G0o=Symbol.for("#insertInto"),Y0o=Symbol.for("#replaceWith"),yyn=Symbol.for("#replaceChild"),byn=Symbol(),w1=class w1 extends OPObject{set id(e){this.id.$set(e,this,qdt,"id")}get id(){return this.id.$get(this,qdt,"id")}get id(){return this[l0o]||y((z5=this.key(),p(z5.w,Function)?z5.w(ADMIN|SRV):z5.w=ADMIN|SRV,p(z5.r,Function)?z5.r(ANYONE):z5.r=ANYONE,z5),this,qdt,"id",l0o,w1.prototype)}set giver(e){this.giver.$set(e,this,Wdt,"giver")}get giver(){return this.giver.$get(this,Wdt,"giver")}get giver(){return this[a0o]||y((uX=this.parent(User),p(uX.eager,Function)?uX.eager():uX.eager=!0,uX),this,Wdt,"giver",a0o,w1.prototype)}set receiver(e){this.receiver.$set(e,this,Zdt,"receiver")}get receiver(){return this.receiver.$get(this,Zdt,"receiver")}get receiver(){return this[u0o]||y((cX=this.ref(User),p(cX.eager,Function)?cX.eager():cX.eager=!0,cX),this,Zdt,"receiver",u0o,w1.prototype)}set message(e){this.message.$set(e,this,Gdt,"message")}get message(){return this.message.$get(this,Gdt,"message")}get message(){return this[c0o]||y(($0o=this.string(),$0o),this,Gdt,"message",c0o,w1.prototype)}set coupon(e){this.coupon.$set(e,this,Ydt,"coupon")}get coupon(){return this.coupon.$get(this,Ydt,"coupon")}get coupon(){return this[h0o]||y((hX=this.ref(StripeCoupon),p(hX.eager,Function)?hX.eager():hX.eager=!0,hX),this,Ydt,"coupon",h0o,w1.prototype)}set promocode(e){this.promocode.$set(e,this,Xdt,"promocode")}get promocode(){return this.promocode.$get(this,Xdt,"promocode")}get promocode(){return this[p0o]||y((pX=this.ref(StripePromoCode),p(pX.eager,Function)?pX.eager():pX.eager=!0,pX),this,Xdt,"promocode",p0o,w1.prototype)}set duration(e){this.duration.$set(e,this,Kdt,"duration")}get duration(){return this.duration.$get(this,Kdt,"duration")}get duration(){return this[d0o]||y((y0o=this.int(),y0o),this,Kdt,"duration",d0o,w1.prototype)}get redeemed(){return!!this.receiver}get mine(){return Ye(this.giver,ME)}get asurl(){return"/"+this.id}set open(e){this.open.$set(e,this,Jdt,"open")}get open(){return this.open.$get(this,Jdt,"open")}get open(){return this[f0o]||y((e0t=this.action(),e0t.callback=function(){return 1},e0t),this,Jdt,"open",f0o,w1.prototype)}set claimyourgift(e){this.claimyourgift.$set(e,this,Qdt,"claimyourgift")}get claimyourgift(){return this.claimyourgift.$get(this,Qdt,"claimyourgift")}get claimyourgift(){return this[m0o]||y((v1=this.action(),p(v1.rx,Function)?v1.rx(OPANYONE):v1.rx=OPANYONE,p(v1.if,Function)?v1.if(function(){return!this.receiver&&!Ye(ME,this.giver)}):v1.if=function(){return!this.receiver&&!Ye(ME,this.giver)},p(v1.tip,Function)?v1.tip("Claim your gift. You will be prompted to login if not already."):v1.tip="Claim your gift. You will be prompted to login if not already.",v1.callback=async function(){return await APP.signin(),APP.stripe.claim_gift(this)},v1),this,Qdt,"claimyourgift",m0o,w1.prototype)}opownliheading(){var f;var e,t,r=H(),o,n,i,s,a,u,c,h,d;return o=n=1,(t=r[Rfe])||(o=n=0,t=r[Rfe]=t=R("op",null,null,null)),o||(t[q5]=r._),o||((f=t[Dfe])==null||f.call(t,r,Rfe)),i=t[PP]("__",t),a=u=1,(s=t[b0o])||(a=u=0,t[b0o]=s=R("op-icon",i,null,null)),a||(s.data="gift"),a||!s.setup||s.setup(u,c),s[jc](u),a||i[zv](s),(h=t[g0o])||(t[g0o]=h=w("span",i,null,null)),d=this.duration,d===t[_0o]&&o||(t[k0o]=h[Ac](t[_0o]=d,128,t[k0o])),o||h[Ac](" month"),e=null,this.duration>1?e="s":e="",t[x0o]=h[Ac](e,0,t[x0o]),o||r.sym||!t.setup||t.setup(n,r,Rfe),r.sym||t[jc](n),t}opownpagestats(){var n;var e,t=H(),r,o;return r=o=1,(e=t[t0t])||(r=o=0,e=t[t0t]=e=w("div",null,null,null)),r||(e[q5]=t._),r||((n=e[Dfe])==null||n.call(e,t,t0t)),e}opownstats(){var Z;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X;return t.this=this,i=s=1,(n=t[Mfe])||(i=s=0,n=t[Mfe]=n=R("op-stats",null,null,null)),i||(n[q5]=t._),i||((Z=n[Dfe])==null||Z.call(n,t,Mfe)),a=n[PP]("__",n),r=null,this.message&&(u=c=1,(r=n[v0o])||(u=c=0,n[v0o]=r=R("op-stat",null,null,null)),u||(r[q5]=a),h=r[PP]("__",r),f=m=1,(d=r[w0o])||(f=m=0,r[w0o]=d=R("op-icon",h,null,null)),f||(d.data="email"),f||!d.setup||d.setup(m,$),d[jc](m),f||h[zv](d),(b=r[S0o])||(r[S0o]=b=w("span",h,null,null)),g=this.message,g===r[E0o]&&u||(r[C0o]=b[Ac](r[E0o]=g,384,r[C0o])),u||!r.setup||r.setup(c,x),r[jc](c)),n[j0o]=a[Ac](r,0,n[j0o]),_=S=1,(k=n[A0o])||(_=S=0,n[A0o]=k=R("op-stat",a,null,null)),v=k[PP]("__",n),(C=n[U0o])||(n[U0o]=C=w("span",v,null,null)),o=null,this.redeemed?o="":o="not ",n[P0o]=C[Ac](o,0,n[P0o]),_||C[Ac]("redeemed"),_||!k.setup||k.setup(S,j),k[jc](S),_||a[zv](k),U=O=1,(P=n[T0o])||(U=O=0,n[T0o]=P=R("op-stat",a,null,null)),L=P[PP]("__",n),U||P.on$("click",{$_:[function(Q,ee){return OP.copystr(t.this.asfullurl)}]},this),F=N=1,(I=n[O0o])||(F=N=0,n[O0o]=I=R("op-icon",L,null,null)),F||(I.data="link"),F||!I.setup||I.setup(N,V),I[jc](N),F||L[zv](I),U||(W=w("span",L,null,"copy link")),q=Y=1,(z=n[R0o])||(q=Y=0,n[R0o]=z=R("op-icon",L,null,null)),q||(z.data="copy"),q||!z.setup||z.setup(Y,K),z[jc](Y),q||L[zv](z),U||!P.setup||P.setup(O,X),P[jc](O),U||a[zv](P),i||t.sym||!n.setup||n.setup(s,t,Mfe),t.sym||n[jc](s),n}opownpagehead(){var K;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y;return i=s=1,(o=n[Lfe])||(i=s=0,o=n[Lfe]=o=R("op",null,"cbl-at",null)),i||(o[q5]=n._),i||((K=o[Dfe])==null||K.call(o,n,Lfe)),a=o[PP]("__",o),i||(u=w("div",a,"cbl-au %text",null)),(c=o[M0o])||(o[M0o]=c=w("h1",u,null,null)),i||c[Ac]("You have received a Scrimba Pro membership of "),h=this.duration,h===o[D0o]&&i||(o[L0o]=c[Ac](o[D0o]=h,0,o[L0o])),i||c[Ac](" month"),e=null,this.duration>1?e="s":e="",o[N0o]=c[Ac](e,0,o[N0o]),(d=o[I0o])||(o[I0o]=d=w("div",a,"cbl-aw %text",null)),t=null,this.message||(f=m=1,(t=o[F0o])||(f=m=0,o[F0o]=t=w("span",null,null,"With regards from ")),f||(t[q5]=d)),o[H0o]=d[Ac](t,0,o[H0o]),b=g=1,($=o[B0o])||(b=g=0,o[B0o]=$=w("div",d,"cbl-ay",null)),x=$[r0t](fyn),_=S=1,(k=x.run(this.oel(this.giver,"icon")))||(_=S=0,x.cache(k=M(x.value,$,null,null))),k[o0t]&&(_||!k.setup||k.setup(S,x),k[jc](S)),k==$[dX]||!$[dX]&&($[dX]=k)[G0o]($)||$[dX][Y0o]($[dX]=k,$),v=$[r0t](myn),j=P=1,(C=v.run(this.oel(this.giver,"span")))||(j=P=0,v.cache(C=M(v.value,$,null,null))),C[o0t]&&(j||!C.setup||C.setup(P,v),C[jc](P)),C==$[fX]||!$[fX]&&($[fX]=C)[G0o]($)||$[fX][Y0o]($[fX]=C,$),b||!$.setup||$.setup(g,U),$[jc](g),r=null,this.message?(O=L=1,(r=o[V0o])||(O=L=0,o[V0o]=r=w("span",null,null,null)),O||(r[q5]=d),O||(I=w("span",r,"cbl-bc","left a note with the gift: ")),F=this.message,F===r[q0o]&&O||(r[z0o]=r[Ac](String(r[q0o]=F),256,r[z0o]))):(N=V=1,(r=o[W0o])||(N=V=0,o[W0o]=r=w("span",null,null,null)),N||(r[q5]=d)),o[Z0o]=d[Ac](r,0,o[Z0o]),W=o[r0t]($yn),q=Y=1,(z=W.run(this.obutton(this.claimyourgift)))||(q=Y=0,W.cache(z=M(W.value,a,"xl",null))),z[o0t]&&((!q||Y&2)&&z.flags.reconcile(UP,"xl"),q||!z.setup||z.setup(Y,W),z[jc](Y)),z==o[UP]||!o[UP]&&a[zv](o[UP]=z)||(a[yyn](z,o[UP]),o[UP]=z),i||n.sym||!o.setup||o.setup(s,n,Lfe),n.sym||o[jc](s),o}};E(w1,byn,"Gift",0);var n0t=w1;globalThis.Gift=n0t;T();oe();var i0t=Symbol("used"),X0o=Symbol(),s0t=Symbol("limit"),K0o=Symbol(),l0t=Symbol("offer"),J0o=Symbol(),a0t=Symbol("spend"),Q0o=Symbol(),u0t=Symbol("give_offer"),efo=Symbol(),c0t=Symbol("pro_views"),tfo=Symbol(),h0t=Symbol("pro_challenges"),rfo=Symbol(),p0t=Symbol("anon_views"),ofo=Symbol(),d0t=Symbol("pro_views"),nfo=Symbol(),f0t=Symbol("pro_challenges"),ifo=Symbol(),m0t=Symbol("credits"),sfo=Symbol(),$0t=Symbol("credits"),lfo=Symbol(),y0t=Symbol("spent_credit"),afo=Symbol(),qv,ufo,cfo,r6,o6,hfo,pfo,dfo,ffo,mfo,W5,Z5,mX,gyn=Symbol(),G5=class G5 extends OPEmbed{set used(e){this.used.$set(e,this,i0t,"used")}get used(){return this.used.$get(this,i0t,"used")}get used(){return this[X0o]||y((qv=this.int(),p(qv.r,Function)?qv.r(OPANYONE):qv.r=OPANYONE,qv.default=function(){return 0},qv.default.literal=0,qv),this,i0t,"used",X0o,G5.prototype)}set limit(e){this.limit.$set(e,this,s0t,"limit")}get limit(){return this.limit.$get(this,s0t,"limit")}get limit(){return this[K0o]||y((ufo=this.int(),ufo),this,s0t,"limit",K0o,G5.prototype)}set offer(e){this.offer.$set(e,this,l0t,"offer")}get offer(){return this.offer.$get(this,l0t,"offer")}get offer(){return this[J0o]||y((cfo=this.ref(ExclusiveOffer),cfo),this,l0t,"offer",J0o,G5.prototype)}get remaining(){return(this.limit-this.used).max(0)}set spend(e){this.spend.$set(e,this,a0t,"spend")}get spend(){return this.spend.$get(this,a0t,"spend")}get spend(){return this[Q0o]||y((r6=this.action(),p(r6.rx,Function)?r6.rx(OWNER):r6.rx=OWNER,p(r6.rpc,Function)?r6.rpc():r6.rpc=!0,r6.callback=!1,r6),this,a0t,"spend",Q0o,G5.prototype)}set give_offer(e){this.give_offer.$set(e,this,u0t,"give_offer")}get give_offer(){return this.give_offer.$get(this,u0t,"give_offer")}get give_offer(){return this[efo]||y((o6=this.action(),p(o6.rx,Function)?o6.rx(OWNER):o6.rx=OWNER,p(o6.rpc,Function)?o6.rpc():o6.rpc=!0,o6.callback=!1,o6),this,u0t,"give_offer",efo,G5.prototype)}};E(G5,gyn,"Credit",0);var Y5=G5;globalThis.Credit=Y5;var kyn=Symbol(),$X=class $X extends OPEmbed{set pro_views(e){this.pro_views.$set(e,this,c0t,"pro_views")}get pro_views(){return this.pro_views.$get(this,c0t,"pro_views")}get pro_views(){return this[tfo]||y((hfo=this.embed(Y5,{limit:3}),hfo),this,c0t,"pro_views",tfo,$X.prototype)}set pro_challenges(e){this.pro_challenges.$set(e,this,h0t,"pro_challenges")}get pro_challenges(){return this.pro_challenges.$get(this,h0t,"pro_challenges")}get pro_challenges(){return this[rfo]||y((pfo=this.embed(Y5,{limit:6}),pfo),this,h0t,"pro_challenges",rfo,$X.prototype)}};E($X,kyn,"UserCredits",0);var Nfe=$X;globalThis.UserCredits=Nfe;var _yn=Symbol(),TP=class TP extends OPEmbed{set anon_views(e){this.anon_views.$set(e,this,p0t,"anon_views")}get anon_views(){return this.anon_views.$get(this,p0t,"anon_views")}get anon_views(){return this[ofo]||y((dfo=this.embed(Y5,{limit:2}),dfo),this,p0t,"anon_views",ofo,TP.prototype)}set pro_views(e){this.pro_views.$set(e,this,d0t,"pro_views")}get pro_views(){return this.pro_views.$get(this,d0t,"pro_views")}get pro_views(){return this[nfo]||y((ffo=this.embed(Y5,{limit:0}),ffo),this,d0t,"pro_views",nfo,TP.prototype)}set pro_challenges(e){this.pro_challenges.$set(e,this,f0t,"pro_challenges")}get pro_challenges(){return this.pro_challenges.$get(this,f0t,"pro_challenges")}get pro_challenges(){return this[ifo]||y((mfo=this.embed(Y5,{limit:1}),mfo),this,f0t,"pro_challenges",ifo,TP.prototype)}};E(TP,_yn,"SessionCredits",0);var Ife=TP;globalThis.SessionCredits=Ife;var xyn=Symbol(),b0t=class b0t{set credits(e){this.credits.$set(e,this,m0t,"credits")}get credits(){return this.credits.$get(this,m0t,"credits")}get credits(){return this[sfo]||y((W5=this.embed(Nfe),p(W5.r,Function)?W5.r(OWNER):W5.r=OWNER,p(W5.w,Function)?W5.w(0):W5.w=0,W5),this,m0t,"credits",sfo,User.prototype)}};E(b0t,xyn,"User",1,User);var $fo=b0t,vyn=Symbol(),g0t=class g0t{set credits(e){this.credits.$set(e,this,$0t,"credits")}get credits(){return this.credits.$get(this,$0t,"credits")}get credits(){return this[lfo]||y((Z5=this.embed(Ife),p(Z5.r,Function)?Z5.r(OWNER):Z5.r=OWNER,p(Z5.w,Function)?Z5.w(0):Z5.w=0,Z5),this,$0t,"credits",lfo,OPSession.prototype)}};E(g0t,vyn,"OPSession",1,OPSession);var yfo=g0t,wyn=Symbol(),k0t=class k0t{set spent_credit(e){this.spent_credit.$set(e,this,y0t,"spent_credit")}get spent_credit(){return this.spent_credit.$get(this,y0t,"spent_credit")}get spent_credit(){return this[afo]||y((mX=this.event(),p(mX.pov,Function)?mX.pov():mX.pov=!0,mX),this,y0t,"spent_credit",afo,Scrim.prototype)}};E(k0t,wyn,"Scrim",1,Scrim);var bfo=k0t;T();oe();T();var gfo="/assets/pro-badge.FJ7C42ZJ.svg";var kfo=Object.assign({url:gfo,type:"svg",toString:function(){return this.url}},{attributes:{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none"},flags:[],content:`
<circle cx="10.9" cy="13.4" r="9.9" fill="#32363E" stroke="#C7B9FF" stroke-width="2"/>
<mask id="mask0_433_16480" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="2" width="22" height="23">
<circle cx="10.9" cy="13.4" r="10.4458" fill="#32363E" stroke="#C7B9FF" stroke-width="0.908333"/>
</mask>
<g mask="url(#mask0_433_16480)">
<path opacity="0.1" d="M6.62975 12.2341C6.92797 12.1511 6.92862 11.6765 6.62975 11.5933C6.61871 11.59 5.51193 11.2757 4.98335 10.6888C4.55152 10.2089 4.25297 8.74714 4.17425 8.22439C4.11962 7.85913 3.64238 7.85847 3.58761 8.22439C3.5089 8.74714 3.21035 10.2089 2.77853 10.6888C2.24966 11.2764 1.14201 11.5968 1.13071 11.6001C0.832965 11.6852 0.834155 12.1588 1.13358 12.2412C1.14463 12.2441 2.25055 12.5523 2.77853 13.1386C3.21036 13.6185 3.50891 15.0803 3.58761 15.603C3.64236 15.9689 4.11949 15.969 4.17425 15.603C4.25297 15.0803 4.55152 13.6185 4.98335 13.1386C5.51193 12.5517 6.61871 12.2374 6.62975 12.2341Z" fill="#D9D9D9"/>
<path opacity="0.1" d="M12.0799 2.24243C12.3782 2.15942 12.3788 1.68478 12.0799 1.60158C12.0689 1.59832 10.9621 1.28403 10.4335 0.697078C10.0017 0.21722 9.70317 -1.24456 9.62445 -1.76731C9.56982 -2.13257 9.09257 -2.13323 9.03781 -1.76731C8.95909 -1.24456 8.66054 0.21722 8.22872 0.697078C7.69985 1.28469 6.5922 1.60511 6.5809 1.60835C6.28316 1.69354 6.28435 2.16709 6.58377 2.24953C6.59482 2.25244 7.70074 2.5606 8.22872 3.14693C8.66056 3.62678 8.95911 5.08856 9.03781 5.61131C9.09256 5.9772 9.56969 5.9773 9.62445 5.61131C9.70317 5.08856 10.0017 3.62678 10.4335 3.14693C10.9621 2.55997 12.0689 2.24566 12.0799 2.24243Z" fill="#D9D9D9"/>
<path opacity="0.1" d="M21.2083 16.7756C21.5563 16.6926 21.557 16.218 21.2083 16.1348C21.1955 16.1315 19.9042 15.8172 19.2875 15.2303C18.7837 14.7504 18.4354 13.2886 18.3436 12.7659C18.2799 12.4006 17.7231 12.4 17.6592 12.7659C17.5673 13.2886 17.219 14.7504 16.7152 15.2303C16.0982 15.8179 14.806 16.1383 14.7928 16.1416C14.4454 16.2267 14.4468 16.7003 14.7961 16.7827C14.809 16.7856 16.0993 17.0938 16.7152 17.6801C17.2191 18.16 17.5674 19.6218 17.6592 20.1445C17.7231 20.5104 18.2797 20.5105 18.3436 20.1445C18.4354 19.6218 18.7837 18.16 19.2875 17.6801C19.9042 17.0932 21.1955 16.7789 21.2083 16.7756Z" fill="#D9D9D9"/>
<path opacity="0.1" d="M14.805 23.5067C15.1033 23.4341 15.1039 23.0188 14.805 22.946C14.794 22.9432 13.6872 22.6681 13.1586 22.1546C12.7268 21.7347 12.4283 20.4556 12.3495 19.9982C12.2949 19.6786 11.8177 19.678 11.7629 19.9982C11.6842 20.4556 11.3856 21.7347 10.9538 22.1546C10.4249 22.6687 9.3173 22.9491 9.306 22.9519C9.00826 23.0265 9.00945 23.4408 9.30887 23.513C9.31992 23.5155 10.4258 23.7851 10.9538 24.2982C11.3857 24.7181 11.6842 25.9971 11.7629 26.4545C11.8177 26.7747 12.2948 26.7748 12.3495 26.4545C12.4283 25.9971 12.7268 24.7181 13.1586 24.2982C13.6872 23.7846 14.794 23.5096 14.805 23.5067Z" fill="#D9D9D9"/>
</g>
<path d="M14.7415 6.95129L14.7415 6.95127C14.3238 6.85542 14.0806 6.50853 14.079 6.14443C14.0775 5.78079 14.3171 5.43157 14.7337 5.33218C14.7337 5.33218 14.7337 5.33218 14.7337 5.33217L14.7337 5.33217C14.7393 5.33081 15.1015 5.24314 15.5466 5.07734C16.01 4.90473 16.5014 4.66955 16.7963 4.39652L14.7415 6.95129ZM14.7415 6.95129L14.7458 6.95222M14.7415 6.95129L14.7458 6.95222M14.7458 6.95222C14.7455 6.95216 14.746 6.95227 14.7472 6.95257M14.7458 6.95222L14.7472 6.95257M22.5042 6.94259C22.4633 6.95248 22.1153 7.03797 21.6925 7.19395C21.2297 7.36469 20.7393 7.59794 20.4451 7.87011C20.3541 7.95435 20.2462 8.10723 20.1324 8.33135C20.0218 8.5494 19.9193 8.80731 19.8284 9.07597C19.6463 9.61386 19.5218 10.1601 19.471 10.4412C19.471 10.4413 19.471 10.4413 19.471 10.4414L19.024 10.3607L22.5042 6.94259ZM22.5042 6.94259C23.3795 6.73841 23.384 5.52925 22.5042 5.32403C22.4607 5.31352 22.1138 5.22809 21.6925 5.07267C21.2296 4.90191 20.7392 4.66863 20.445 4.39641C20.3541 4.31215 20.2461 4.1593 20.1324 3.93528C20.0218 3.71723 19.9193 3.45932 19.8284 3.19066C19.6462 2.65264 19.5217 2.10622 19.471 1.82522C19.3842 1.34356 18.9607 1.13781 18.621 1.13763C18.281 1.13745 17.8573 1.34312 17.7705 1.82522C17.7197 2.10622 17.5952 2.65264 17.413 3.19066C17.3221 3.45932 17.2196 3.71723 17.109 3.93529C16.9953 4.15938 16.8873 4.31226 16.7963 4.3965L22.5042 6.94259ZM14.7472 6.95257C14.773 6.95872 15.1234 7.04226 15.5517 7.19866M14.7472 6.95257L15.5517 7.19866M15.5517 7.19866C16.0139 7.36748 16.5031 7.59881 16.7963 7.87011L15.5517 7.19866ZM17.413 9.07597C17.5951 9.61384 17.7196 10.1601 17.7704 10.4412L16.7964 7.87021C16.8874 7.95446 16.9953 8.10732 17.109 8.33135C17.2197 8.5494 17.3221 8.80731 17.413 9.07597Z" fill="#FBF3AB" stroke="#4B4B4B" stroke-width="0.908333"/>
<path d="M7.92725 19.3453L8.84995 8.44531H11.966C12.6315 8.44531 13.1887 8.57967 13.6374 8.84839C14.0912 9.11712 14.4214 9.5118 14.6282 10.0324C14.8349 10.5475 14.9055 11.1773 14.8399 11.9219C14.7492 13.0192 14.3962 13.8701 13.7811 14.4747C13.166 15.0794 12.3643 15.3817 11.376 15.3817H9.87853L9.54575 19.3453H7.92725ZM10.0298 13.6518H11.5273C12.0214 13.6518 12.4097 13.4894 12.692 13.1647C12.9794 12.84 13.1408 12.4257 13.1761 11.9219C13.2214 11.4068 13.1307 10.9842 12.9038 10.6539C12.6769 10.3236 12.3139 10.1584 11.8147 10.1584H10.3172L10.0298 13.6518Z" fill="#C7B9FF"/>

`});ge(),dt(),$e();var _0t=Symbol("checkout"),_fo=Symbol(),x0t=Symbol("offer"),xfo=Symbol(),v0t=Symbol("monthly_offer"),vfo=Symbol(),w0t=Symbol("annual_offer"),wfo=Symbol(),S0t=Symbol("trial_days"),Sfo=Symbol(),C0t=Symbol("interval"),Cfo=Symbol(),E0t=Symbol("price"),Efo=Symbol(),j0t=Symbol("intent"),jfo=Symbol(),A0t=Symbol("request_offer"),Afo=Symbol(),U0t=Symbol("continue_to_checkout"),Ufo=Symbol(),P0t=Symbol("contact"),Pfo=Symbol(),Tfo,yX,bX,gX,kX,Cyn=le("&.resolved",globalThis,l=>l.resolved),Eyn=le("&.coupon..resolved",globalThis,l=>{var e;return(e=l.coupon)==null?void 0:e.resolved}),jyn=le("!&.annual-only?",globalThis,l=>!l.annualonly),Ayn=le("!&.monthly-only?",globalThis,l=>!l.monthlyonly),_X,T0t,O0t,RP,Ffe=Symbol(),Ofo=Symbol(),Hfe=Symbol(),Rfo=Symbol(),R0t=Symbol(),Mfo=Symbol(),Lfo=Symbol(),Dfo=Symbol(),Nfo=Symbol(),M0t=Symbol(),Ifo=Symbol(),Ffo=Symbol(),Uyn=le("&.active?",globalThis,l=>l.active),Pyn=le("&.incomplete?",globalThis,l=>l.incomplete),n6,L0t=Symbol(),Hfo=Symbol(),Bfo=Symbol(),Vfo=Symbol(),zfo=Symbol(),qfo=Symbol(),Wfo=Symbol(),Zfo=Symbol(),Gfo=Symbol(),Yfo=Symbol(),Xfo=Symbol(),Kfo=Symbol(),Jfo=Symbol(),MP,D0t=Symbol(),Qfo=Symbol(),e2o=Symbol(),LP=Symbol(),Tyn=Symbol(),t2o=Symbol(),DP=Symbol(),Oyn=Symbol(),NP=Symbol(),Ryn=Symbol(),IP=Symbol(),Myn=Symbol(),FP=Symbol(),Lyn=Symbol(),r2o=Symbol(),o2o=Symbol(),N0t=Symbol(),n2o=Symbol(),i2o=Symbol();var I0t=Symbol(),s2o=Symbol();var F0t=Symbol(),l2o=Symbol(),a2o=Symbol(),u2o=Symbol(),c2o=Symbol(),h2o=Symbol(),p2o=Symbol(),d2o=Symbol(),f2o=Symbol(),m2o=Symbol(),$2o=Symbol(),y2o=Symbol(),b2o=Symbol(),g2o=Symbol(),k2o=Symbol(),_2o=Symbol(),x2o=Symbol(),v2o=Symbol(),w2o=Symbol(),S2o=Symbol(),C2o=Symbol(),E2o=Symbol(),j2o=Symbol(),A2o=Symbol(),U2o=Symbol(),P2o=Symbol(),T2o=Symbol(),O2o=Symbol(),R2o=Symbol(),M2o=Symbol(),HP=Symbol(),Dyn=Symbol(),L2o=Symbol(),D2o=Symbol(),N2o=Symbol(),I2o=Symbol(),F2o=Symbol(),H2o=Symbol(),B2o=Symbol(),V2o=Symbol(),z2o=Symbol(),q2o=Symbol(),W2o=Symbol(),Z2o=Symbol(),G2o=Symbol(),Y2o=Symbol(),X2o=Symbol(),K2o=Symbol(),J2o=Symbol(),Q2o=Symbol(),emo=Symbol(),tmo=Symbol(),rmo=Symbol(),omo=Symbol(),nmo=Symbol(),imo=Symbol(),smo=Symbol(),lmo=Symbol(),amo=Symbol(),umo=Symbol(),cmo=Symbol(),hmo=Symbol(),BP=Symbol(),Nyn=Symbol(),pmo=Symbol(),dmo=Symbol(),fmo=Symbol(),mmo=Symbol(),$mo=Symbol(),ymo=Symbol(),bmo=Symbol(),gmo=Symbol(),kmo=Symbol(),_mo=Symbol(),xmo=Symbol(),vmo=Symbol(),wmo=Symbol(),Smo=Symbol(),Iyn=Symbol(),Fyn=Symbol();var H0t=Symbol(),Cmo=Symbol(),Emo=Symbol(),jmo=Symbol(),Amo=Symbol(),Umo=Symbol(),Pmo=Symbol(),Tmo=Symbol(),Omo=Symbol(),Rmo=Symbol(),Mmo=Symbol(),Lmo=Symbol(),Dmo=Symbol();var B0t=Symbol(),Nmo=Symbol(),Imo=Symbol(),Fmo=Symbol(),Hmo=Symbol(),Bmo=Symbol(),Vmo=Symbol(),zmo=Symbol(),qmo=Symbol(),Wmo=Symbol(),Zmo=Symbol(),Gmo=Symbol(),Hyn=Symbol(),Byn=Symbol(),Vyn=Symbol(),zyn=Symbol(),Ymo=Symbol(),Xmo=Symbol(),Kmo=Symbol(),Jmo=Symbol(),qyn=Symbol(),Wyn=Symbol(),Qmo=Symbol(),e$o=Symbol(),t$o=Symbol(),r$o=Symbol(),Gr=Symbol.for("##up"),Gv=Symbol.for("##register"),Br=Symbol.for("#afterVisit"),sr=Symbol.for("#placeChild"),ns=Symbol.for("#appendChild"),H0=Symbol.for("#getRenderContext"),B0=Symbol.for("#isRichElement"),Wv=Symbol.for("#insertInto"),Zv=Symbol.for("#replaceWith"),Zyn=Symbol.for("#getFunctionalSlot"),o$o=Symbol.for("#getSlot"),Gyn=Symbol.for("#beforeReconcile"),Yyn=Symbol.for("#visit"),Xyn=Symbol.for("#afterReconcile");no.addSelectors(["section.ui_ek.fade"],"transition");var Kyn=Symbol(),V0t=class V0t{set checkout(e){this.checkout.$set(e,this,_0t,"checkout")}get checkout(){return this.checkout.$get(this,_0t,"checkout")}get checkout(){return this[_fo]||y((Tfo=this.embed(Bfe),Tfo),this,_0t,"checkout",_fo,StripeProduct.prototype)}};E(V0t,Kyn,"StripeProduct",1,StripeProduct);var n$o=V0t,Jyn=Symbol(),V0=class V0 extends OPEmbed{set offer(e){this.offer.$set(e,this,x0t,"offer")}get offer(){return this.offer.$get(this,x0t,"offer")}get offer(){return this[xfo]||y((yX=this.ref(Offer),p(yX.session,Function)?yX.session():yX.session=!0,yX),this,x0t,"offer",xfo,V0.prototype)}set monthly_offer(e){this.monthly_offer.$set(e,this,v0t,"monthly_offer")}get monthly_offer(){return this.monthly_offer.$get(this,v0t,"monthly_offer")}get monthly_offer(){return this[vfo]||y((bX=this.ref(Offer),p(bX.session,Function)?bX.session():bX.session=!0,bX),this,v0t,"monthly_offer",vfo,V0.prototype)}set annual_offer(e){this.annual_offer.$set(e,this,w0t,"annual_offer")}get annual_offer(){return this.annual_offer.$get(this,w0t,"annual_offer")}get annual_offer(){return this[wfo]||y((gX=this.ref(Offer),p(gX.session,Function)?gX.session():gX.session=!0,gX),this,w0t,"annual_offer",wfo,V0.prototype)}set trial_days(e){this.trial_days.$set(e,this,S0t,"trial_days")}get trial_days(){return this.trial_days.$get(this,S0t,"trial_days")}get trial_days(){return this[Sfo]||y((kX=this.int(),p(kX.session,Function)?kX.session():kX.session=!0,kX),this,S0t,"trial_days",Sfo,V0.prototype)}get plan_offer(){return this.interval=="year"?this.annual_offer:this.monthly_offer}get coupon(){var e;return(e=this.plan_offer)==null?void 0:e.coupon}get promo(){return p(this.offer,StripePromoCode)?this.offer:null}get ppp(){return OP.session.country}async prep(){var n,i,s;var e=this;let t=[];(n=OP.session)!=null&&n.offers&&t.push(...OP.session.offers),(i=OP.user)!=null&&i.offers&&t.push(...OP.user.offers),this.product.offer&&t.push(this.product.offer),await Promise.all(t.map(Cyn)),await Promise.all(t.map(Eyn)),t=t.compact().unique.desc("percent_off").filter(function(a){return a.valid&&a.livemode==e.product.livemode});let r=t[0];this.monthly_offer=t.filter(jyn)[0],this.annual_offer=t.filter(Ayn)[0],this.offer=r;let o=(s=OP.user)==null?void 0:s.github;return o!=null&&o.student&&!(o!=null&&o.used_student_offer)&&(this.trial_days=30),r!=null&&r.synced?(p(r,ExclusiveOffer)&&!r.presented&&r.present(),this):this}set interval(e){this.interval.$set(e,this,C0t,"interval")}get interval(){return this.interval.$get(this,C0t,"interval")}get interval(){return this[Cfo]||y((_X=this.enum(StripeInterval,{month:{label:"Monthly"},year:{label:"Yearly",default:!0}}),p(_X.session,Function)?_X.session():_X.session=!0,_X),this,C0t,"interval",Cfo,V0.prototype)}set price(e){this.price.$set(e,this,E0t,"price")}get price(){return this.price.$get(this,E0t,"price")}get price(){return this[Efo]||y((T0t=this.get(),T0t.callback=function(){return this.interval&&this.product.pricefor(this.interval)},T0t),this,E0t,"price",Efo,V0.prototype)}set intent(e){this.intent.$set(e,this,j0t,"intent")}get intent(){return this.intent.$get(this,j0t,"intent")}get intent(){return this[jfo]||y((O0t=this.get(),O0t.callback=function(){var t;let e;if(e=(t=this.sub)==null?void 0:t.latest_invoice)return e.payment_intent},O0t),this,j0t,"intent",jfo,V0.prototype)}set request_offer(e){this.request_offer.$set(e,this,A0t,"request_offer")}get request_offer(){return this.request_offer.$get(this,A0t,"request_offer")}get request_offer(){return this[Afo]||y((RP=this.action(),p(RP.rpc,Function)?RP.rpc():RP.rpc=!0,RP.callback=!1,RP),this,A0t,"request_offer",Afo,V0.prototype)}get product(){return this.$up}opownform(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[Ffe])||(n=i=0,r=o[Ffe]=r=R("checkout-flow",null,null,null)),n||(r[Gr]=o._),n||((a=r[Gv])==null||a.call(r,o,Ffe)),s=this,s===r[Ofo]||(r.data=r[Ofo]=s),n||r.on$("opnav",{deep:!0,stack:!0},this),n||o.sym||!r.setup||r.setup(i,o,Ffe),o.sym||r[Br](i),r}opowndialog(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[Hfe])||(n=i=0,r=o[Hfe]=r=R("checkout-flow",null,null,null)),n||(r[Gr]=o._),n||((a=r[Gv])==null||a.call(r,o,Hfe)),s=this,s===r[Rfo]||(r.data=r[Rfo]=s),n||r.on$("opnav",{deep:!0,stack:!0},this),n||o.sym||!r.setup||r.setup(i,o,Hfe),o.sym||r[Br](i),r}get annualdiscountpercentage(){var r,o,n,i;if(!this.price)return 0;let e=(o=(r=this.product)==null?void 0:r.pricefor)==null?void 0:o.call(r,"month"),t=(i=(n=this.product)==null?void 0:n.pricefor)==null?void 0:i.call(n,"year");return t&&e?((1-t.unit_amount.rebated(this.annual_offer)/12/e.unit_amount)*100).round(1):0}get annualbasediscountpercentage(){var r,o,n,i;if(!this.price)return 0;let e=(o=(r=this.product)==null?void 0:r.pricefor)==null?void 0:o.call(r,"month"),t=(i=(n=this.product)==null?void 0:n.pricefor)==null?void 0:i.call(n,"year");return t&&e?((1-t.unit_amount/12/e.unit_amount)*100).round(1):0}get annualdiscount(){if(this.price)return"Save "+this.annualdiscountpercentage+"%"}get actualpercentoff(){return this.offer.annual?this.annualdiscountpercentage:this.offer.percent_off}opownofferdescription(){var b,g,x,k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m;let $=(g=(b=this.plan_offer)==null?void 0:b.coupon)==null?void 0:g.description;return this.plan_offer.annual&&($=this.plan_offer.description.replace(/\d*%/,""+this.actualpercentoff+"%")||""+this.actualpercentoff+"% Off"),this.plan_offer.countdown?(r=o=1,(e=t[R0t])||(r=o=0,e=t[R0t]=e=w("span",null,null,null)),r||(e[Gr]=t._),r||((x=e[Gv])==null||x.call(e,t,R0t)),n=this.actualpercentoff,n===e[Lfo]&&r||(e[Mfo]=e[sr](e[Lfo]=n,128,e[Mfo])),r||e[sr]("% Off Ending in "),s=a=1,(i=e[Dfo])||(s=a=0,e[Dfo]=i=R("app-countdown",e,"ui-ai",null)),u=this.plan_offer.expires_at,u===e[Nfo]||(i.target=e[Nfo]=u),s||!i.setup||i.setup(a,c),i[Br](a),s||e[ns](i),e):(d=f=1,(h=t[M0t])||(d=f=0,h=t[M0t]=h=w("span",null,null,null)),d||(h[Gr]=t._),d||((k=h[Gv])==null||k.call(h,t,M0t)),m=$,m===h[Ffo]&&d||(h[Ifo]=h[sr](h[Ffo]=m,384,h[Ifo])),h)}get sub(){var r,o,n;var e=this;let t=(n=(o=(r=OP.user)==null?void 0:r.subs)==null?void 0:o.filter)==null?void 0:n.call(o,i=>i.prices.has(this.price)&&!i.ended);return this.coupon&&t&&(t=t.filter(function(i){var s;return((s=i.discount)==null?void 0:s.coupon)==e.coupon})),t&&(t.find(Uyn)||t.find(Pyn))}};E(V0,Jyn,"CheckoutFlow",0);var Bfe=V0;globalThis.CheckoutFlow=Bfe;var Qyn=Symbol(),VP=class VP extends Ve("op","OpComponent",de){get $left(){let e=w("section",null,`ui-eh ${this._ns_||""} $left`,null);return Object.defineProperty(this,"$left",{value:e}),e}get $right(){let e=w("section",null,`ui-ek right-pane ${this._ns_||""} $right`,null);return Object.defineProperty(this,"$right",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0}set continue_to_checkout(e){this.continue_to_checkout.$set(e,this,U0t,"continue_to_checkout")}get continue_to_checkout(){return this.continue_to_checkout.$get(this,U0t,"continue_to_checkout")}get continue_to_checkout(){return this[Ufo]||y((n6=this.action(),p(n6.atomic,Function)?n6.atomic():n6.atomic=!0,p(n6.if,Function)?n6.if(function(){return this.data.price}):n6.if=function(){return this.data.price},n6.callback=async function(){try{let e=await this.data.product.service.create_checkout({price:this.data.price,offer:this.data.plan_offer});return APP.tried_checkout=!0,await Utils.sleep(200),globalThis.location=e}catch(e){return e.code=="resource_missing"&&e.param.includes("discount")?this.data.coupon=this.data.promo=null:e.message.includes("Wrong mode for discount")?this.data.coupon=this.data.promo=null:(console.error(e),OP.logged(e))}},n6),this,U0t,"continue_to_checkout",Ufo,VP.prototype)}money(e,t=this.data.coupon){var k;var r,o,n=this._ns_||"",i,s=H(),a,u,c,h,d,f,m,$,b,g,x;return a=u=1,(i=s[L0t])||(a=u=0,i=s[L0t]=i=w("span",null,`ui-al ${n}`,null)),a||(i[Gr]=s._),a||((k=i[Gv])==null||k.call(i,s,L0t)),r=o=null,t?(c=h=1,(r=i[Hfo])||(c=h=0,i[Hfo]=r=w("span",null,`ui-am money before ${n}`,null)),c||(r[Gr]=i),d=e,d===r[Vfo]&&c||(r[Bfo]=r[sr](r[Vfo]=d,384,r[Bfo])),f=m=1,(o=i[zfo])||(f=m=0,i[zfo]=o=w("span",null,`money after ${n}`,null)),f||(o[Gr]=i),pt.context=o[Wfo]||(o[Wfo]={_:o}),$=e.rebated(t),pt.context=null,$===o[Zfo]&&f||(o[qfo]=o[sr](o[Zfo]=$,384,o[qfo]))):(b=g=1,(r=i[Gfo])||(b=g=0,i[Gfo]=r=w("span",null,`money ${n}`,null)),b||(r[Gr]=i),x=e,x===r[Xfo]&&b||(r[Yfo]=r[sr](r[Xfo]=x,384,r[Yfo]))),i[Kfo]=i[sr](r,0,i[Kfo]),i[Jfo]=i[sr](o,0,i[Jfo]),i}focuspayment(){var e,t;try{return(t=(e=this.$right)==null?void 0:e.scrollIntoView)==null?void 0:t.call(e,{behavior:"smooth"})}catch{}}async mount(){var s,a;let{price:e,product:t,interval:r,coupon:o,sub:n,intent:i}=this.data;if(await((s=i==null?void 0:i.sync)==null?void 0:s.call(i)),(a=ME==null?void 0:ME.offer)!=null&&a.coupon)return await ME.offer.coupon}get upgraded(){var e;return((e=this.intent)==null?void 0:e.success)||(ME==null?void 0:ME.pro)}set contact(e){this.contact.$set(e,this,P0t,"contact")}get contact(){return this.contact.$get(this,P0t,"contact")}get contact(){return this[Pfo]||y((MP=this.action(),p(MP.rx,Function)?MP.rx(OPANYONE):MP.rx=OPANYONE,MP.callback=function(){return this.emit("resolve"),OP.dialog(Ticket.new({uad:!0,category:"checkout"}))},MP),this,P0t,"contact",Pfo,VP.prototype)}upgradedsection(){var ae;var e=H(),t=this._ns_||"",r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we;return e.this=this,o=n=1,(r=e[D0t])||(o=n=0,r=e[D0t]=r=fa(0,null)),o||(r[Gr]=e._),o||((ae=r[Gv])==null||ae.call(r,e,D0t)),o||(i=w("h2",r,`${t}`,"You're a Pro member!")),o||(s=w("hr",r,`${t}`,null)),u=c=1,(a=r[Qfo])||(u=c=0,r[Qfo]=a=w("section",r,`${t}`,null)),u||(h=w("h4",a,`${t}`,"Discord Pro role & channels")),(d=a[e2o])||(a[e2o]=d=w("p",a,`ui-au ${t}`,null)),u||d[sr]("Get the Pro Member linked role on Discord to access exclusive channels."),f=a[H0](Tyn),$=b=1,(m=f.run(this.obutton(APP.extras.discordlinkedroles)))||($=b=0,f.cache(m=M(f.value,a,`${t}`,null))),m[B0]&&($||(m.label="open discord"),(!$||b&2)&&m.flags.reconcile(LP,`${t}`),$||!m.setup||m.setup(b,f),m[Br](b)),m==a[LP]||!a[LP]&&(a[LP]=m)[Wv](a)||a[LP][Zv](a[LP]=m,a),u||!a.setup||a.setup(c,g),a[Br](c),o||(x=w("hr",r,`${t}`,null)),o||(k=w("section",r,`${t}`,null)),o||(_=w("h4",k,`${t}`,"View Pro courses")),o||(S=w("p",k,`${t}`,"Check out our most popular pro courses!")),C=j=1,(v=r[t2o])||(C=j=0,r[t2o]=v=w("div",k,`ui-ba ${t}`,null)),P=v[H0](Oyn),O=L=1,(U=P.run(this.obutton(OP.get("c0j"))))||(O=L=0,P.cache(U=M(P.value,v,`${t}`,null))),U[B0]&&(O||U.on$("click",{$_:[function(be,_e){return APP.open(OP.get("c0j"))}]},this),O||(U.label="frontend developer career path"),O||(U.icon="crown"),(!O||L&2)&&U.flags.reconcile(DP,`${t}`),O||!U.setup||U.setup(L,P),U[Br](L)),U==v[DP]||!v[DP]&&(v[DP]=U)[Wv](v)||v[DP][Zv](v[DP]=U,v),I=v[H0](Ryn),N=V=1,(F=I.run(this.obutton(OP.get("c02v"))))||(N=V=0,I.cache(F=M(I.value,v,`${t}`,null))),F[B0]&&(N||F.on$("click",{$_:[function(be,_e){return APP.open(OP.get("c02v"))}]},this),(!N||V&2)&&F.flags.reconcile(NP,`${t}`),N||!F.setup||F.setup(V,I),F[Br](V)),F==v[NP]||!v[NP]&&(v[NP]=F)[Wv](v)||v[NP][Zv](v[NP]=F,v),W=v[H0](Myn),q=Y=1,(z=W.run(this.obutton(OP.get("c03kpi3kss"))))||(q=Y=0,W.cache(z=M(W.value,v,`${t}`,null))),z[B0]&&(q||z.on$("click",{$_:[function(be,_e){return APP.open(OP.get("c03kpi3kss"))}]},this),(!q||Y&2)&&z.flags.reconcile(IP,`${t}`),q||!z.setup||z.setup(Y,W),z[Br](Y)),z==v[IP]||!v[IP]&&(v[IP]=z)[Wv](v)||v[IP][Zv](v[IP]=z,v),K=v[H0](Lyn),Z=Q=1,(X=K.run(this.obutton(OP.get("c02h"))))||(Z=Q=0,K.cache(X=M(K.value,v,`${t}`,null))),X[B0]&&(Z||X.on$("click",{$_:[function(be,_e){return APP.open(OP.get("c02h"))}]},this),(!Z||Q&2)&&X.flags.reconcile(FP,`${t}`),Z||!X.setup||X.setup(Q,K),X[Br](Q)),X==v[FP]||!v[FP]&&(v[FP]=X)[Wv](v)||v[FP][Zv](v[FP]=X,v),C||!v.setup||v.setup(j,ee),v[Br](j),o||(te=w("hr",r,`${t}`,null)),o||(ne=w("section",r,`${t}`,null)),o||(ie=w("h4",ne,`${t}`,"Manage your subscription")),me=ce=1,(J=r[r2o])||(me=ce=0,r[r2o]=J=w("p",ne,`ui-bi ${t}`,null)),ye="You can manage your subscription from the [account page]("+ME.asurl+") on your profile.",ye===r[o2o]||(J.md=r[o2o]=ye),o||(we=w("div",r,`ui-bj ${t}`,null)),r}pricingsection(){var ha,sn,Jo;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v=this._ns_||"",C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr,Or,Ao,mn,Uo,Xr,Ar,Mi,ul,Li,Yo,vn,Ur,Po,yo,ui,_i,is,gu,ro,$n,ci,hi,Di,To,pi,Fn,Sr,wn,vo,Ni,Kt,cl,Rr,Kr,di,rn,bo,Ii,Nt,Tn,No,hl,ss,yn,Fi,Ml,Mr,Xo,ls,pl,Ll,xi,Hi,Dl,dl,Rc,fl,Mc,oo,Bi,ku,ml,Io,fi,Sn,vi,Ko,on,On,as,_u,co,Rn,js,ca,$h,wi,As,Fo;let{price:Vi,product:$l,interval:yh,plan_offer:nn,coupon:Us,sub:xu,intent:O1}=this.data,Kn=nn,{month:bn,year:Ps}=this.data.$.interval.$,Nl=$l.pricefor("month"),yf=(sn=(ha=Vi==null?void 0:Vi.unit_amount)==null?void 0:ha.rebated)==null?void 0:sn.call(ha,Us),R1=Vi==null?void 0:Vi.permonth;if(t.this=this,j=P=1,(C=t[N0t])||(j=P=0,C=t[N0t]=C=fa(1024,null)),j||(C[Gr]=t._),j||((Jo=C[Gv])==null||Jo.call(C,t,N0t)),(U=C[n2o])||(C[n2o]=U=w("div",C,`ui-bl ${v}`,null)),L=I=1,(O=C[i2o])||(L=I=0,C[i2o]=O=w("div",U,`ui_bl ${v}`,"Monthly")),F=bn.checked||void 0,F===C[I0t]||(I|=2,C[I0t]=F),L||O.on$("click",{$_:[function(kr,Ho){return t.this.data.interval="month"}]},this),I&2&&O.flag$(`ui_bl ${v} `+(C[I0t]?"checked":"")),V=W=1,(N=C[s2o])||(V=W=0,C[s2o]=N=w("div",U,`ui_bl ${v}`,"Yearly")),z=Ps.checked||void 0,z===C[F0t]||(W|=2,C[F0t]=z),V||N.on$("click",{$_:[function(kr,Ho){return t.this.data.interval="year"}]},this),W&2&&N.flag$(`ui_bl ${v} `+(C[F0t]?"checked":"")),h=d=f=m=$=b=null,Vi&&(q=Y=1,(h=C[l2o])||(q=Y=0,C[l2o]=h=w("h2",null,`ui-bo ${v}`,null)),q||(h[Gr]=C),q||h[sr]("Upgrade to Scrimba Pro "),q||(K=Ir("svg",h,`ui-bp ${v}`,null)),q||K.set$("src",kfo),q||K.set$("alt","Pro badge"),X=Z=1,(d=C[a2o])||(X=Z=0,C[a2o]=d=w("hr",null,`${v}`,null)),X||(d[Gr]=C),Q=ee=1,(f=C[u2o])||(Q=ee=0,C[u2o]=f=w("div",null,`ui-br usps ${v}`,null)),Q||(f[Gr]=C),Q||(te=w("h4",f,`${v}`,"Your Pro Plan includes")),Q||(ne=w("ul",f,`${v}`,null)),(ie=f[c2o])||(f[c2o]=ie=w("li",ne,`${v}`,null)),me=ce=1,(J=f[h2o])||(me=ce=0,f[h2o]=J=R("op-icon",ie,`${v}`,null)),me||(J.data="fullstack"),me||!J.setup||J.setup(ce,ye),J[Br](ce),me||ie[ns](J),Q||ie[sr]("Fullstack Developer Path"),(we=f[p2o])||(f[p2o]=we=w("li",ne,`${v}`,null)),be=_e=1,(ae=f[d2o])||(be=_e=0,f[d2o]=ae=R("op-icon",we,`${v}`,null)),be||(ae.data="backend_developer"),be||!ae.setup||ae.setup(_e,Ae),ae[Br](_e),be||we[ns](ae),Q||we[sr]("Backend Developer Path"),(ve=f[f2o])||(f[f2o]=ve=w("li",ne,`usp-frontend ${v}`,null)),He=Ue=1,(Pe=f[m2o])||(He=Ue=0,f[m2o]=Pe=R("op-icon",ve,`${v}`,null)),He||(Pe.data="frontend_developer"),He||!Pe.setup||Pe.setup(Ue,Be),Pe[Br](Ue),He||ve[ns](Pe),Q||ve[sr]("Frontend Developer Path"),(je=f[$2o])||(f[$2o]=je=w("li",ne,`usp-ai ${v}`,null)),xe=Re=1,(ue=f[y2o])||(xe=Re=0,f[y2o]=ue=R("op-icon",je,`${v}`,null)),xe||(ue.data="robot"),xe||!ue.setup||ue.setup(Re,Oe),ue[Br](Re),xe||je[ns](ue),Q||je[sr]("AI Engineer Path"),(qe=f[b2o])||(f[b2o]=qe=w("li",ne,`${v}`,null)),Ie=Ke=1,(Ne=f[g2o])||(Ie=Ke=0,f[g2o]=Ne=R("op-icon",qe,`${v}`,null)),Ie||(Ne.data="graduation_cap"),Ie||!Ne.setup||Ne.setup(Ke,Te),Ne[Br](Ke),Ie||qe[ns](Ne),Q||qe[sr]("All 70+ courses"),(Ce=f[k2o])||(f[k2o]=Ce=w("li",ne,`${v}`,null)),et=ft=1,(Ze=f[_2o])||(et=ft=0,f[_2o]=Ze=R("op-icon",Ce,`${v}`,null)),et||(Ze.data="medal"),et||!Ze.setup||Ze.setup(ft,Ge),Ze[Br](ft),et||Ce[ns](Ze),Q||Ce[sr]("Course certificates"),(Je=f[x2o])||(f[x2o]=Je=w("li",ne,`${v}`,null)),rt=$t=1,(ct=f[v2o])||(rt=$t=0,f[v2o]=ct=R("op-icon",Je,`${v}`,null)),rt||(ct.data="challenge"),rt||!ct.setup||ct.setup($t,it),ct[Br]($t),rt||Je[ns](ct),Q||Je[sr]("Unlimited Challenges and Instant Feedback"),(tt=f[w2o])||(f[w2o]=tt=w("li",ne,`usp-discord ${v}`,null)),at=st=1,(ze=f[S2o])||(at=st=0,f[S2o]=ze=R("op-icon",tt,`${v}`,null)),at||(ze.data="users"),at||!ze.setup||ze.setup(st,yt),ze[Br](st),at||tt[ns](ze),Q||tt[sr]("Full access to Discord community"),vt=nt=1,(m=C[C2o])||(vt=nt=0,C[C2o]=m=w("hr",null,`${v}`,null)),vt||(m[Gr]=C),Ct=jt=1,($=C[E2o])||(Ct=jt=0,C[E2o]=$=w("div",null,`ui-cl breakdown ${v}`,null)),Ct||($[Gr]=C),Ct||(bt=w("h4",$,`${v}`,"Your total price")),(Xe=$[j2o])||($[j2o]=Xe=w("ul",$,`${v}`,null)),r=null,ME.country&&ME.country.ppp<.9&&(ht=Dt=1,(r=$[A2o])||(ht=Dt=0,$[A2o]=r=w("li",null,`${v}`,null)),ht||(r[Gr]=Xe),(mt=r[U2o])||(r[U2o]=mt=w("span",r,`ui-cp ${v}`,null)),At=ME.country.flag,At===r[T2o]&&ht||(r[P2o]=mt[sr](r[T2o]=At,384,r[P2o])),ht||(Ut=w("span",r,`ui-cq ${v}`,"Price discounted based on your region"))),$[O2o]=Xe[sr](r,0,$[O2o]),o=null,Kn&&(kt=_t=1,(o=$[R2o])||(kt=_t=0,$[R2o]=o=w("li",null,`ui-cr ${v}`,null)),kt||(o[Gr]=Xe),Mt=Ot=1,(xt=o[M2o])||(Mt=Ot=0,o[M2o]=xt=R("op-icon",o,`${v}`,null)),Mt||(xt.data="seal_percent_filled"),Mt||!xt.setup||xt.setup(Ot,tr),xt[Br](Ot),Mt||o[ns](xt),lt=o[H0](Dyn),Me=ut=1,(fe=lt.run(this.oel(Kn,"checkout-line")))||(Me=ut=0,lt.cache(fe=M(lt.value,o,`${v}`,null))),fe[B0]&&((!Me||ut&2)&&fe.flags.reconcile(HP,`${v}`),Me||!fe.setup||fe.setup(ut,lt),fe[Br](ut)),fe==o[HP]||!o[HP]&&(o[HP]=fe)[Wv](o)||o[HP][Zv](o[HP]=fe,o),kt||!o.setup||o.setup(_t,Rt),o[Br](_t)),$[L2o]=Xe[sr](o,0,$[L2o]),n=null,yh=="year"&&(St=Yt=1,(n=$[D2o])||(St=Yt=0,$[D2o]=n=w("li",null,`ui-cu ${v}`,null)),St||(n[Gr]=Xe),er=Zt=1,(rr=n[N2o])||(er=Zt=0,n[N2o]=rr=R("op-icon",n,`${v}`,null)),er||(rr.data="seal_percent_filled"),er||!rr.setup||rr.setup(Zt,Nr),rr[Br](Zt),er||n[ns](rr),(or=n[I2o])||(n[I2o]=or=w("span",n,`${v}`,null)),St||or[sr]("Applied "),St||(Tr=w("b",or,`${v}`,"Annual Discount")),St||or[sr](" "),xo=this.data.annualbasediscountpercentage,xo===n[H2o]&&St||(n[F2o]=or[sr](n[H2o]=xo,0,n[F2o])),St||or[sr]("% off")),$[B2o]=Xe[sr](n,0,$[B2o]),i=null,this.data.trial_days?(qr=Wr=1,(i=$[V2o])||(qr=Wr=0,$[V2o]=i=w("li",null,`ui-cy ${v}`,null)),qr||(i[Gr]=Xe),mr=Go=1,(to=i[z2o])||(mr=Go=0,i[z2o]=to=R("op-icon",i,`${v}`,null)),mr||(to.data="seal_percent_filled"),mr||!to.setup||to.setup(Go,fn),to[Br](Go),mr||i[ns](to),(Yr=i[q2o])||(i[q2o]=Yr=w("span",i,`${v}`,null)),qr||Yr[sr]("Applied GitHub Student "),Or=this.data.trial_days,Or===i[Z2o]&&qr||(i[W2o]=Yr[sr](i[Z2o]=Or,0,i[W2o])),qr||Yr[sr](" Day Trial")):(Ao=mn=1,(i=$[G2o])||(Ao=mn=0,$[G2o]=i=w("li",null,`${v}`,null)),Ao||(i[Gr]=Xe),Xr=Ar=1,(Uo=i[Y2o])||(Xr=Ar=0,i[Y2o]=Uo=R("op-icon",i,`${v}`,null)),Xr||(Uo.data="coins"),Xr||!Uo.setup||Uo.setup(Ar,Mi),Uo[Br](Ar),Xr||i[ns](Uo),Ao||(ul=w("span",i,`${v}`,"7 day money-back guarantee"))),$[X2o]=Xe[sr](i,0,$[X2o]),Li=Yo=1,(b=C[K2o])||(Li=Yo=0,C[K2o]=b=w("section",null,`ui-de ${v}`,null)),Li||(b[Gr]=C),u=c=null,Vi.annual?(vn=Ur=1,(u=b[J2o])||(vn=Ur=0,b[J2o]=u=w("div",null,`ui-df ${v}`,null)),vn||(u[Gr]=b),(Po=u[Q2o])||(u[Q2o]=Po=w("span",u,`ui-dg ${v}`,null)),s=null,Nl&&(yo=ui=1,(s=u[emo])||(yo=ui=0,u[emo]=s=w("span",null,`ui-dh money before ${v}`,null)),yo||(s[Gr]=Po),_i=Nl.unit_amount,_i===s[rmo]&&yo||(s[tmo]=s[sr](s[rmo]=_i,384,s[tmo]))),u[omo]=Po[sr](s,0,u[omo]),(is=u[nmo])||(u[nmo]=is=w("span",Po,`money after ${v}`,null)),a=null,Us?(pt.context=u[imo]||(u[imo]={_:is}),a=R1.rebated(Us),pt.context=null):a=R1,u[smo]=is[sr](a,0,u[smo]),vn||(gu=w("span",u,`ui-dj ${v}`,"/ month")),ro=$n=1,(c=b[lmo])||(ro=$n=0,b[lmo]=c=w("div",null,`ui-dk ${v}`,null)),ro||(c[Gr]=b),ro||c[sr]("Billed annually for "),(ci=c[amo])||(c[amo]=ci=w("span",c,`money ${v}`,null)),hi=yf,hi===c[cmo]&&ro||(c[umo]=ci[sr](c[cmo]=hi,384,c[umo]))):(Di=To=1,(u=b[hmo])||(Di=To=0,b[hmo]=u=w("div",null,`${v}`,null)),Di||(u[Gr]=b),pi=u[H0](Nyn),Sr=wn=1,(Fn=pi.run(this.money(R1)))||(Sr=wn=0,pi.cache(Fn=M(pi.value,u,`ui-dn ${v}`,null))),Fn[B0]&&((!Sr||wn&2)&&Fn.flags.reconcile(BP,`ui-dn ${v}`),Sr||!Fn.setup||Fn.setup(wn,pi),Fn[Br](wn)),Fn==u[BP]||!u[BP]&&(u[BP]=Fn)[Wv](u)||u[BP][Zv](u[BP]=Fn,u),Di||(vo=w("span",u,`ui-do ${v}`,"/ month")),Di||!u.setup||u.setup(To,Ni),u[Br](To)),b[pmo]=b[sr](u,0,b[pmo]),b[dmo]=b[sr](c,0,b[dmo])),C[fmo]=C[sr](h,0,C[fmo]),C[mmo]=C[sr](d,0,C[mmo]),C[$mo]=C[sr](f,0,C[$mo]),C[ymo]=C[sr](m,0,C[ymo]),C[bmo]=C[sr]($,0,C[bmo]),C[gmo]=C[sr](b,0,C[gmo]),cl=Rr=1,(Kt=C[kmo])||(cl=Rr=0,C[kmo]=Kt=w("footer",C,`ui-dp ${v}`,null)),di=rn=1,(Kr=Kt[_mo])||(di=rn=0,Kt[_mo]=Kr=R("op-timeout",Kt,`${v}`,null)),bo=5*1e3,bo===Kt[xmo]||(Kr.timeout=Kt[xmo]=bo),di||Kr.on$("step",{$_:[function(kr,Ho){return APP.seen_checkout=!0}]},this),di||!Kr.setup||Kr.setup(rn,Ii),Kr[Br](rn),di||Kt[ns](Kr),g=null,OP.user&&(Nt=Tn=1,(g=Kt[vmo])||(Nt=Tn=0,Kt[vmo]=g=R("op-timeout",null,`${v}`,null)),Nt||(g[Gr]=Kt),No=5*1e3,No===g[wmo]||(g.timeout=g[wmo]=No),Nt||g.on$("step",{$_:[function(kr,Ho){return!t.this.data.offer&&t.this.data.request_offer()}]},this),Nt||!g.setup||g.setup(Tn,hl),g[Br](Tn)),Kt[Smo]=Kt[sr](g,0,Kt[Smo]),_=S=null,OP.user){let kr=this.data.trial_days?"Start "+this.data.trial_days+" Day Trial":"CONTINUE TO CHECKOUT";ss=Kt[H0](Fyn),yn=Fi=1,(_=ss.run(this.obutton(this.continue_to_checkout)))||(yn=Fi=0,ss.cache(_=M(ss.value,null,`ui-ds lg pri ${v}`,null))),yn||(_[Gr]=Kt),_[B0]&&(Ml=_[Zyn]("__",_),yn||(_.icon=!1),Mr=!!Kn||void 0,Mr===_[H0t]||(Fi|=2,_[H0t]=Mr),(!yn||Fi&2)&&_.flags.reconcile(Iyn,`ui-ds lg pri ${v} `+(_[H0t]?"offer":"")),(Xo=_[Cmo])||(_[Cmo]=Xo=w("div",Ml,`ui-dt ${v}`,null)),x=null,Kn!=null&&Kn.countdown?(ls=pl=1,(x=_[Emo])||(ls=pl=0,_[Emo]=x=w("span",null,`${v}`,null)),ls||(x[Gr]=Xo),Ll=kr,Ll===x[Amo]&&ls||(x[jmo]=x[sr](x[Amo]=Ll,128,x[jmo])),ls||x[sr](" - "),Hi=Dl=1,(xi=x[Umo])||(Hi=Dl=0,x[Umo]=xi=R("app-countdown",x,`ui-dv ${v}`,null)),dl=Kn.expires_at,dl===x[Pmo]||(xi.target=x[Pmo]=dl),Hi||!xi.setup||xi.setup(Dl,Rc),xi[Br](Dl),Hi||x[ns](xi)):(fl=Mc=1,(x=_[Tmo])||(fl=Mc=0,_[Tmo]=x=w("span",null,`${v}`,null)),fl||(x[Gr]=Xo),oo=kr,oo===x[Rmo]&&fl||(x[Omo]=x[sr](x[Rmo]=oo,384,x[Omo]))),_[Mmo]=Xo[sr](x,0,_[Mmo]),yn||!_.setup||_.setup(Fi,ss),_[Br](Fi)),Bi=ku=1,(S=Kt[Lmo])||(Bi=ku=0,Kt[Lmo]=S=w("div",null,`ui-dx ${v}`,null)),Bi||(S[Gr]=Kt),Bi||S[sr]("Or request a "),Bi||(ml=w("a",S,`ui-dy ${v}`,"Team Plan here")),Bi||(ml.newtab="newtab"),Bi||(ml.href="https://form.typeform.com/to/vo8eIgBd")}else Io=fi=1,(_=Kt[Dmo])||(Io=fi=0,Kt[Dmo]=_=R("op-button",null,`ui-dz lg pri ${v}`,null)),Io||(_[Gr]=Kt),Sn=_[o$o]("__",_),Io||(_.icon=!1),Io||_.on$("click",{$_:[function(kr,Ho){return t.this.focus_signin(kr)}]},this),vi=!!Kn||void 0,vi===_[B0t]||(fi|=2,_[B0t]=vi),fi&2&&_.flag$(`ui-dz lg pri ${v} `+(_[B0t]?"offer":"")),(Ko=_[Nmo])||(_[Nmo]=Ko=w("div",Sn,`ui-ea ${v}`,null)),Io||(on=w("span",Ko,`${v}`,"Sign up to continue")),k=null,Kn!=null&&Kn.countdown&&(On=as=1,(k=_[Imo])||(On=as=0,_[Imo]=k=w("span",null,`ui-ec ${v}`,null)),On||(k[Gr]=Ko),On||k[sr]("Offer expires in "),co=Rn=1,(_u=k[Fmo])||(co=Rn=0,k[Fmo]=_u=R("app-countdown",k,`ui-ed ${v}`,null)),js=Kn.expires_at,js===k[Hmo]||(_u.target=k[Hmo]=js),co||!_u.setup||_u.setup(Rn,ca),_u[Br](Rn),co||k[ns](_u)),_[Bmo]=Ko[sr](k,0,_[Bmo]),Io||!_.setup||_.setup(fi,$h),_[Br](fi),wi=As=1,(S=Kt[Vmo])||(wi=As=0,Kt[Vmo]=S=w("div",null,`ui-ee ${v}`," ")),wi||(S[Gr]=Kt);return Kt[zmo]=Kt[sr](_,0,Kt[zmo]),Kt[qmo]=Kt[sr](S,0,Kt[qmo]),cl||!Kt.setup||Kt.setup(Rr,Fo),Kt[Br](Rr),C}async focus_signin(){var e;e=[];for(let t=0,r=B(this.querySelectorAll(".auth op-button")),o=r.length;t<o;t++)r[t].contour.glimmer(),e.push(await APP.signin());return e}render(){var ne;var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te;return o=this,o[Gyn](),n=i=1,o[Wmo]===1||(n=i=0,o[Wmo]=1),s=o[Zmo]||(o[Zmo]={options:[null]}),a=this.data,a===s.options[0]||(s.options[0]=a,i|=48),n||o.on$("opmenu",s,this),i&32&&(i^=32,(ne=s[Yyn])==null||ne.call(s)),(!n||i&2)&&o.flagSelf$("ocontainer"),n||(c=w("div",o,`obody ${u}`,null)),d=f=1,(h=o[Gmo])||(d=f=0,o[Gmo]=(h=this.$left,h[Gr]=c,h)),t=null,this.upgraded?(m=h[H0](Byn),$=b=1,(t=m.run(this.upgradedsection()))||($=b=0,m.cache(t=M(m.value,null,`${u}`,null))),$||(t[Gr]=h),t[B0]&&((!$||b&2)&&t.flags.reconcile(Hyn,`${u}`),$||!t.setup||t.setup(b,m),t[Br](b))):(g=h[H0](zyn),x=k=1,(t=g.run(this.pricingsection()))||(x=k=0,g.cache(t=M(g.value,null,`${u}`,null))),x||(t[Gr]=h),t[B0]&&((!x||k&2)&&t.flags.reconcile(Vyn,`${u}`),x||!t.setup||t.setup(k,g),t[Br](k))),h[Ymo]=h[sr](t,0,h[Ymo]),d||!h.setup||h.setup(f,_),h[Br](f),d||c[ns](h),v=C=1,(S=o[Xmo])||(v=C=0,o[Xmo]=(S=this.$right,S[Gr]=c,S)),P=U=1,(j=S[Kmo])||(P=U=0,S[Kmo]=j=R("app-bg",S,`ui_ek ${u}`,null)),O=j[o$o]("__",S),I=F=1,(L=S[Jmo])||(I=F=0,S[Jmo]=L=R("app-cubes",O,`ui-em ui_ek ${u}`,null)),I||!L.setup||L.setup(F,N),L[Br](F),I||O[ns](L),P||!j.setup||j.setup(U,V),j[Br](U),P||S[ns](j),r=null,OP.user?(Y=K=1,(r=S[Qmo])||(Y=K=0,S[Qmo]=r=R("testimonial-carousel",null,`ui_ek ${u}`,null)),Y||(r[Gr]=S),Y||!r.setup||r.setup(K,X),r[Br](K)):(W=S[H0](Wyn),z=q=1,(r=W.run(this.oform(APP.auth)))||(z=q=0,W.cache(r=M(W.value,null,`ui-en auth ui_ek ${u}`,null))),z||(r[Gr]=S),r[B0]&&((!z||q&2)&&r.flags.reconcile(qyn,`ui-en auth ui_ek ${u}`),z||!r.setup||r.setup(q,W),r[Br](q))),S[e$o]=S[sr](r,0,S[e$o]),(Z=S[t$o])||(S[t$o]=Z=w("div",S,`ui-ep ui_ek ${u}`,null)),(Q=S[r$o])||(S[r$o]=Q=w("div",Z,`ui-eq ui_ek ${u}`,null)),v||Q[sr]("Having issues? "),v||(ee=w("a",Q,`ui-er ui_ek ${u}`,"Contact us here")),v||ee.on$("click",{$_:[function(ie,J){return e.contact(ie)}]},this),v||!S.setup||S.setup(C,te),S[Br](C),v||c[ns](S),o[Xyn](i),o}};E(VP,Qyn,"checkout-flow",2),pe("checkout-flow",VP,{cssns:"ui_ak",cssid:"ui-ak"});var i$o=VP;T();oe();ge(),$e();var z0t=Symbol("ppid"),s$o=Symbol(),q0t=Symbol("manage-on-paypal"),l$o=Symbol(),a$o,zP,Vfe=Symbol(),u$o=Symbol();var W0t=Symbol(),c$o=Symbol(),h$o=Symbol(),p$o=Symbol(),d$o=Symbol(),f$o=Symbol(),xX=Symbol(),ebn=Symbol(),m$o=Symbol(),$$o=Symbol(),y$o=Symbol(),b$o=Symbol(),Z0t=Symbol.for("##up"),tbn=Symbol.for("##register"),rbn=Symbol.for("#getSlot"),obn=Symbol.for("#visit"),Yv=Symbol.for("#placeChild"),nbn=Symbol.for("#getRenderContext"),ibn=Symbol.for("#isRichElement"),g$o=Symbol.for("#afterVisit"),sbn=Symbol.for("#appendChild"),lbn=Symbol.for("#replaceChild"),abn=Symbol(),qP=class qP extends StripeSubscription{set ppid(e){this.ppid.$set(e,this,z0t,"ppid")}get ppid(){return this.ppid.$get(this,z0t,"ppid")}get ppid(){return this[s$o]||y((a$o=this.string(),a$o),this,z0t,"ppid",s$o,qP.prototype)}set manageonpaypal(e){this.manageonpaypal.$set(e,this,q0t,"manageonpaypal")}get manageonpaypal(){return this.manageonpaypal.$get(this,q0t,"manageonpaypal")}get manageonpaypal(){return this[l$o]||y((zP=this.action(),p(zP.rx,Function)?zP.rx(OPOWNER|ADMIN):zP.rx=OPOWNER|ADMIN,zP.callback=function(){return window.open("https://www.paypal.com/myaccount/autopay/connect/"+this.ppid,"_blank")},zP),this,q0t,"manageonpaypal",l$o,qP.prototype)}opownsection(){var v,C;var e,t,r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S;return n=i=1,(r=o[Vfe])||(n=i=0,r=o[Vfe]=r=R("op",null,"tf-af",null)),n||(r[Z0t]=o._),n||((v=r[tbn])==null||v.call(r,o,Vfe)),s=r[rbn]("__",r),a=this,a===r[u$o]||(r.data=r[u$o]=a),a=this.status,a===r[W0t]||(i|=2,r[W0t]=a),u=r[c$o]||(r[c$o]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,i|=48),n||r.on$("opmenu",u,this),i&32&&(i^=32,(C=u[obn])==null||C.call(u)),i&2&&r.flag$("tf-af "+(r[W0t]||"")),n||(c=w("div",s,"tf-ag","Scrimba Pro Access.")),e=null,this.ended_at&&(h=d=1,(e=r[h$o])||(h=d=0,r[h$o]=e=w("div",null,"tf-ah",null)),h||(e[Z0t]=s),h||e[Yv]("Expires: "),f=this.ended_at.asdate,f===e[d$o]&&h||(e[p$o]=e[Yv](e[d$o]=f,256,e[p$o]))),r[f$o]=s[Yv](e,0,r[f$o]),n||(m=w("div",s,null,"Manage your subscription on Paypal.")),$=r[nbn](ebn),g=x=1,(b=$.run(this.obutton(this.manageonpaypal)))||(g=x=0,$.cache(b=M($.value,s,null,null))),b[ibn]&&(g||!b.setup||b.setup(x,$),b[g$o](x)),b==r[xX]||!r[xX]&&s[sbn](r[xX]=b)||(s[lbn](b,r[xX]),r[xX]=b),t=null,ME.admin&&(k=_=1,(t=r[m$o])||(k=_=0,r[m$o]=t=w("div",null,null,null)),k||(t[Z0t]=s),k||t[Yv]("Paypal ID: "),S=this.ppid,S===t[y$o]&&k||(t[$$o]=t[Yv](t[y$o]=S,0,t[$$o])),k||t[Yv](".")),r[b$o]=s[Yv](t,0,r[b$o]),n||o.sym||!r.setup||r.setup(i,o,Vfe),o.sym||r[g$o](i),r}};qP.alias="ppsub",E(qP,abn,"PaypalSubscription",0);var G0t=qP;globalThis.PaypalSubscription=G0t;T();oe();var Y0t=Symbol("sync"),k$o=Symbol(),X0t=Symbol("fetch_tags"),_$o=Symbol(),K0t=Symbol("tag_pros"),x$o=Symbol(),J0t=Symbol("sid"),v$o=Symbol(),Q0t=Symbol("push"),w$o=Symbol(),eft=Symbol("sid"),S$o=Symbol(),tft=Symbol("email"),C$o=Symbol(),rft=Symbol("subscribed"),E$o=Symbol(),oft=Symbol("unsubscribed"),j$o=Symbol(),nft=Symbol("status"),A$o=Symbol(),ift=Symbol("subscribe"),U$o=Symbol(),sft=Symbol("beacons"),P$o=Symbol(),lft=Symbol("push"),T$o=Symbol(),aft=Symbol("kit"),O$o=Symbol(),WP,i6,s6,R$o,ZP,M$o,L$o,D$o,N$o,I$o,l6,F$o,GP,z0,ubn=Symbol(),YP=class YP extends OPEmbed{set sync(e){this.sync.$set(e,this,Y0t,"sync")}get sync(){return this.sync.$get(this,Y0t,"sync")}get sync(){return this[k$o]||y((WP=this.action(),p(WP.rpc,Function)?WP.rpc():WP.rpc=!0,WP.callback=!1,WP),this,Y0t,"sync",k$o,YP.prototype)}set fetch_tags(e){this.fetch_tags.$set(e,this,X0t,"fetch_tags")}get fetch_tags(){return this.fetch_tags.$get(this,X0t,"fetch_tags")}get fetch_tags(){return this[_$o]||y((i6=this.action(),p(i6.rx,Function)?i6.rx(ADMIN):i6.rx=ADMIN,p(i6.rpc,Function)?i6.rpc():i6.rpc=!0,i6.callback=!1,i6),this,X0t,"fetch_tags",_$o,YP.prototype)}set tag_pros(e){this.tag_pros.$set(e,this,K0t,"tag_pros")}get tag_pros(){return this.tag_pros.$get(this,K0t,"tag_pros")}get tag_pros(){return this[x$o]||y((s6=this.action(),p(s6.rx,Function)?s6.rx(ADMIN):s6.rx=ADMIN,p(s6.rpc,Function)?s6.rpc():s6.rpc=!0,s6.callback=!1,s6),this,K0t,"tag_pros",x$o,YP.prototype)}};E(YP,ubn,"KitService",0);var zfe=YP;globalThis.KitService=zfe;var cbn=Symbol(),vX=class vX extends OPEmbed{set sid(e){this.sid.$set(e,this,J0t,"sid")}get sid(){return this.sid.$get(this,J0t,"sid")}get sid(){return this[v$o]||y((R$o=this.string(),R$o),this,J0t,"sid",v$o,vX.prototype)}set push(e){this.push.$set(e,this,Q0t,"push")}get push(){return this.push.$get(this,Q0t,"push")}get push(){return this[w$o]||y((ZP=this.action(),p(ZP.rpc,Function)?ZP.rpc():ZP.rpc=!0,ZP.callback=!1,ZP),this,Q0t,"push",w$o,vX.prototype)}};E(vX,cbn,"KitTag",0);var uft=vX;globalThis.KitTag=uft;var hbn=Symbol(),q0=class q0 extends OPEmbed{set sid(e){this.sid.$set(e,this,eft,"sid")}get sid(){return this.sid.$get(this,eft,"sid")}get sid(){return this[S$o]||y((M$o=this.string(),M$o),this,eft,"sid",S$o,q0.prototype)}set email(e){this.email.$set(e,this,tft,"email")}get email(){return this.email.$get(this,tft,"email")}get email(){return this[C$o]||y((L$o=this.email(),L$o),this,tft,"email",C$o,q0.prototype)}set subscribed(e){this.subscribed.$set(e,this,rft,"subscribed")}get subscribed(){return this.subscribed.$get(this,rft,"subscribed")}get subscribed(){return this[E$o]||y((D$o=this.ts(),D$o),this,rft,"subscribed",E$o,q0.prototype)}set unsubscribed(e){this.unsubscribed.$set(e,this,oft,"unsubscribed")}get unsubscribed(){return this.unsubscribed.$get(this,oft,"unsubscribed")}get unsubscribed(){return this[j$o]||y((N$o=this.ts(),N$o),this,oft,"unsubscribed",j$o,q0.prototype)}set status(e){this.status.$set(e,this,nft,"status")}get status(){return this.status.$get(this,nft,"status")}get status(){return this[A$o]||y((I$o=this.enum({active:{},inactive:{},bounced:{},complained:{}}),I$o),this,nft,"status",A$o,q0.prototype)}get user(){return this.$up}set subscribe(e){this.subscribe.$set(e,this,ift,"subscribe")}get subscribe(){return this.subscribe.$get(this,ift,"subscribe")}get subscribe(){return this[U$o]||y((l6=this.action(),p(l6.rx,Function)?l6.rx(OWNER|ADMIN):l6.rx=OWNER|ADMIN,p(l6.rpc,Function)?l6.rpc():l6.rpc=!0,l6.callback=!1,l6),this,ift,"subscribe",U$o,q0.prototype)}set beacons(e){this.beacons.$set(e,this,sft,"beacons")}get beacons(){return this.beacons.$get(this,sft,"beacons")}get beacons(){return this[P$o]||y((F$o=this.refs(Beacon),F$o),this,sft,"beacons",P$o,q0.prototype)}set push(e){this.push.$set(e,this,lft,"push")}get push(){return this.push.$get(this,lft,"push")}get push(){return this[T$o]||y((GP=this.action(),p(GP.rpc,Function)?GP.rpc():GP.rpc=!0,GP.callback=!1,GP),this,lft,"push",T$o,q0.prototype)}};E(q0,hbn,"KitSubscriber",0);var cft=q0;globalThis.KitSubscriber=cft;var pbn=Symbol(),hft=class hft{set kit(e){this.kit.$set(e,this,aft,"kit")}get kit(){return this.kit.$get(this,aft,"kit")}get kit(){return this[O$o]||y((z0=this.embed(zfe),p(z0.g,Function)?z0.g(800.5):z0.g=800.5,p(z0.gr,Function)?z0.gr(ADMIN):z0.gr=ADMIN,p(z0.x,Function)?z0.x(ADMIN):z0.x=ADMIN,z0),this,aft,"kit",O$o,App.prototype)}};E(hft,pbn,"App",1,App);var H$o=hft;T();oe();ge(),$e();var pft=Symbol("legacy_id"),B$o=Symbol(),V$o,qfe=Symbol(),z$o=Symbol();var dft=Symbol(),q$o=Symbol(),W$o=Symbol(),Z$o=Symbol(),G$o=Symbol(),Y$o=Symbol(),X$o=Symbol(),K$o=Symbol(),J$o=Symbol(),Q$o=Symbol(),eyo=Symbol(),tyo=Symbol(),ryo=Symbol(),oyo=Symbol(),nyo=Symbol(),iyo=Symbol(),syo=Symbol(),lyo=Symbol(),XP=Symbol(),dbn=Symbol(),ayo=Symbol(),uyo=Symbol(),cyo=Symbol(),hyo=Symbol(),Wfe=Symbol.for("##up"),fbn=Symbol.for("##register"),mbn=Symbol.for("#getSlot"),$bn=Symbol.for("#visit"),ua=Symbol.for("#placeChild"),ybn=Symbol.for("#getRenderContext"),bbn=Symbol.for("#isRichElement"),fft=Symbol.for("#afterVisit"),gbn=Symbol.for("#insertInto"),kbn=Symbol.for("#replaceWith"),_bn=Symbol(),wX=class wX extends StripeSubscription{set legacy_id(e){this.legacy_id.$set(e,this,pft,"legacy_id")}get legacy_id(){return this.legacy_id.$get(this,pft,"legacy_id")}get legacy_id(){return this[B$o]||y((V$o=this.string(),V$o),this,pft,"legacy_id",B$o,wX.prototype)}get type(){return Object.keys(this.grants)[0]}opownsection(){var W,z;var e,t,r,o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return i=s=1,(o=n[qfe])||(i=s=0,o=n[qfe]=o=R("op",null,"ts-af",null)),i||(o[Wfe]=n._),i||((W=o[fbn])==null||W.call(o,n,qfe)),a=o[mbn]("__",o),u=this,u===o[z$o]||(o.data=o[z$o]=u),u=this.status,u===o[dft]||(s|=2,o[dft]=u),c=o[q$o]||(o[q$o]={options:[null]}),u=this,u===c.options[0]||(c.options[0]=u,s|=48),i||o.on$("opmenu",c,this),s&32&&(s^=32,(z=c[$bn])==null||z.call(c)),s&2&&o.flag$("ts-af "+(o[dft]||"")),(h=o[W$o])||(o[W$o]=h=w("div",a,"ts-ag",null)),i||h[ua]("Scrimba "),d=this.type,d===o[G$o]&&i||(o[Z$o]=h[ua](o[G$o]=d,0,o[Z$o])),i||h[ua](" access."),(f=o[Y$o])||(o[Y$o]=f=w("div",a,null,null)),(m=o[X$o])||(o[X$o]=m=w("div",f,"ts-ai",null)),i||m[ua]("Status: "),$=this.status,$===o[J$o]&&i||(o[K$o]=m[ua](o[J$o]=$,256,o[K$o])),e=null,this.start_date&&(b=g=1,(e=o[Q$o])||(b=g=0,o[Q$o]=e=w("div",null,"ts-aj",null)),b||(e[Wfe]=f),b||e[ua]("Membership started at "),x=this.start_date.aslocale,x===e[tyo]&&b||(e[eyo]=e[ua](e[tyo]=x,256,e[eyo]))),o[ryo]=f[ua](e,0,o[ryo]),t=null,this.ended_at&&(k=_=1,(t=o[oyo])||(k=_=0,o[oyo]=t=w("div",null,"ts-ak",null)),k||(t[Wfe]=f),k||t[ua]("Membership ends at "),S=this.ended_at.aslocale,S===t[iyo]&&k||(t[nyo]=t[ua](t[iyo]=S,256,t[nyo]))),o[syo]=f[ua](t,0,o[syo]),C=j=1,(v=o[lyo])||(C=j=0,o[lyo]=v=w("div",a,null,null)),C||v[ua]("This is a legacy Subscription. "),P=v[ybn](dbn),O=L=1,(U=P.run(this.obutton(APP.reportabug)))||(O=L=0,P.cache(U=M(P.value,v,"ts-am",null))),U[bbn]&&(O||(U.label="Contact support"),(!O||L&2)&&U.flags.reconcile(XP,"ts-am"),O||!U.setup||U.setup(L,P),U[fft](L)),U==v[XP]||!v[XP]&&(v[XP]=U)[gbn](v)||v[XP][kbn](v[XP]=U,v),C||!v.setup||v.setup(j,I),v[fft](j),r=null,ME.admin&&(F=N=1,(r=o[ayo])||(F=N=0,o[ayo]=r=w("div",null,null,null)),F||(r[Wfe]=a),F||r[ua]("Legacy_id: "),V=this.legacy_id,V===r[cyo]&&F||(r[uyo]=r[ua](r[cyo]=V,0,r[uyo])),F||r[ua](".")),o[hyo]=a[ua](r,0,o[hyo]),i||n.sym||!o.setup||o.setup(s,n,qfe),n.sym||o[fft](s),o}};wX.alias="lsub",E(wX,_bn,"LegacySubscription",0);var mft=wX;globalThis.LegacySubscription=mft;T();oe();ge(),dt(),wo(),$e();var $ft=Symbol("id"),pyo=Symbol(),yft=Symbol("name"),dyo=Symbol(),bft=Symbol("sql_query"),fyo=Symbol(),gft=Symbol("chart"),myo=Symbol(),kft=Symbol("page-size"),$yo=Symbol(),_ft=Symbol("description"),yyo=Symbol(),xft=Symbol("creator"),byo=Symbol(),vft=Symbol("last_ran"),gyo=Symbol(),wft=Symbol("run_count"),kyo=Symbol(),Sft=Symbol("rows"),_yo=Symbol(),Cft=Symbol("page"),xyo=Symbol(),Eft=Symbol("duration"),vyo=Symbol(),jft=Symbol("count"),wyo=Symbol(),Aft=Symbol("edit-item"),Syo=Symbol(),Uft=Symbol("run-srv"),Cyo=Symbol(),Pft=Symbol("run"),Eyo=Symbol(),Tft=Symbol("page-next"),jyo=Symbol(),Oft=Symbol("page-prev"),Ayo=Symbol(),Rft=Symbol("page-prompt"),Uyo=Symbol(),SX,W0,X5,K5,J5,CX,KP,Pyo,EX,Q5,Z0,G0,Y0,Zfe=Symbol(),Tyo=Symbol(),Oyo=Symbol(),Ryo=Symbol(),Gfe=Symbol(),Myo=Symbol(),Lyo=Symbol(),Dyo=Symbol(),Yfe=Symbol(),Nyo=Symbol(),Iyo=Symbol(),Fyo=Symbol(),Hyo=Symbol(),Xfe=Symbol();var xbn=Symbol(),Byo=Symbol(),Vyo=Symbol(),zyo=Symbol(),Kfe=Symbol(),jX=Symbol(),vbn=Symbol(),AX=Symbol(),wbn=Symbol(),qyo=Symbol(),UX=Symbol(),Sbn=Symbol(),PX=Symbol(),Cbn=Symbol(),TX=Symbol(),Ebn=Symbol(),Wyo=Symbol(),Jfe=Symbol(),Zyo=Symbol(),Gyo=Symbol(),Yyo=Symbol(),JP=Symbol(),jbn=Symbol(),Xyo=Symbol(),Kyo=Symbol(),Jyo=Symbol(),Qyo=Symbol(),ebo=Symbol(),tbo=Symbol(),rbo=Symbol(),obo=Symbol(),OX=Symbol(),Abn=Symbol();var Ubn=Symbol(),nbo=Symbol(),ibo=Symbol(),RX=Symbol(),Pbn=Symbol(),QP,S1,eT,tT,rT,Mft,e3=Symbol.for("##up"),oT=Symbol.for("##register"),MX=Symbol.for("#getSlot"),C1=Symbol.for("#placeChild"),vs=Symbol.for("#afterVisit"),g2=Symbol.for("#getRenderContext"),k2=Symbol.for("#isRichElement"),Xv=Symbol.for("#appendChild"),LX=Symbol.for("#replaceChild"),Tbn=Symbol.for("#visit"),Lft=Symbol.for("#insertInto"),Dft=Symbol.for("#replaceWith"),Qfe=Symbol(),ki=class ki extends Qe(Qfe,OPObject,Followable,Deletable){constructor(){super(...arguments),super[A]||this[A](),re(this,Qfe)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Qfe])==null||o.call(this,...arguments)}set id(e){this.id.$set(e,this,$ft,"id")}get id(){return this.id.$get(this,$ft,"id")}get id(){return this[pyo]||y((SX=this.key(),p(SX.rwxcd,Function)?SX.rwxcd(ADMIN):SX.rwxcd=ADMIN,SX),this,$ft,"id",pyo,ki.prototype)}set name(e){this.name.$set(e,this,yft,"name")}get name(){return this.name.$get(this,yft,"name")}get name(){return this[dyo]||y((W0=this.string(),p(W0.s,Function)?W0.s():W0.s=!0,p(W0.editable,Function)?W0.editable():W0.editable=!0,p(W0.dialog,Function)?W0.dialog():W0.dialog=!0,W0),this,yft,"name",dyo,ki.prototype)}set sql_query(e){this.sql_query.$set(e,this,bft,"sql_query")}get sql_query(){return this.sql_query.$get(this,bft,"sql_query")}get sql_query(){return this[fyo]||y((X5=this.text(),p(X5.editable,Function)?X5.editable():X5.editable=!0,p(X5.dialog,Function)?X5.dialog():X5.dialog=!0,X5),this,bft,"sql_query",fyo,ki.prototype)}set chart(e){this.chart.$set(e,this,gft,"chart")}get chart(){return this.chart.$get(this,gft,"chart")}get chart(){return this[myo]||y((K5=this.embed(OPChartView),p(K5.editable,Function)?K5.editable():K5.editable=!0,p(K5.dialog,Function)?K5.dialog():K5.dialog=!0,K5),this,gft,"chart",myo,ki.prototype)}set pagesize(e){this.pagesize.$set(e,this,kft,"pagesize")}get pagesize(){return this.pagesize.$get(this,kft,"pagesize")}get pagesize(){return this[$yo]||y((J5=this.number(),p(J5.fallback,Function)?J5.fallback(10):J5.fallback=10,p(J5.editable,Function)?J5.editable():J5.editable=!0,J5),this,kft,"pagesize",$yo,ki.prototype)}set description(e){this.description.$set(e,this,_ft,"description")}get description(){return this.description.$get(this,_ft,"description")}get description(){return this[yyo]||y((CX=this.text(),p(CX.editable,Function)?CX.editable():CX.editable=!0,CX),this,_ft,"description",yyo,ki.prototype)}set creator(e){this.creator.$set(e,this,xft,"creator")}get creator(){return this.creator.$get(this,xft,"creator")}get creator(){return this[byo]||y((KP=this.ref(OPUser),p(KP.as,Function)?KP.as(OWNER):KP.as=OWNER,KP.default=function(){return OP.user},KP),this,xft,"creator",byo,ki.prototype)}set last_ran(e){this.last_ran.$set(e,this,vft,"last_ran")}get last_ran(){return this.last_ran.$get(this,vft,"last_ran")}get last_ran(){return this[gyo]||y((Pyo=this.ts(),Pyo),this,vft,"last_ran",gyo,ki.prototype)}set run_count(e){this.run_count.$set(e,this,wft,"run_count")}get run_count(){return this.run_count.$get(this,wft,"run_count")}get run_count(){return this[kyo]||y((EX=this.number(),p(EX.stat,Function)?EX.stat():EX.stat=!0,EX),this,wft,"run_count",kyo,ki.prototype)}set rows(e){this.rows.$set(e,this,Sft,"rows")}get rows(){return this.rows.$get(this,Sft,"rows")}get rows(){return this[_yo]||y((Q5=this.json(),p(Q5.memory,Function)?Q5.memory():Q5.memory=!0,p(Q5.fallback,Function)?Q5.fallback([]):Q5.fallback=[],Q5),this,Sft,"rows",_yo,ki.prototype)}set page(e){this.page.$set(e,this,Cft,"page")}get page(){return this.page.$get(this,Cft,"page")}get page(){return this[xyo]||y((Z0=this.number(),p(Z0.memory,Function)?Z0.memory():Z0.memory=!0,p(Z0.fallback,Function)?Z0.fallback(0):Z0.fallback=0,p(Z0.stat,Function)?Z0.stat():Z0.stat=!0,Z0),this,Cft,"page",xyo,ki.prototype)}set duration(e){this.duration.$set(e,this,Eft,"duration")}get duration(){return this.duration.$get(this,Eft,"duration")}get duration(){return this[vyo]||y((G0=this.number(),p(G0.memory,Function)?G0.memory():G0.memory=!0,p(G0.fallback,Function)?G0.fallback(0):G0.fallback=0,p(G0.stat,Function)?G0.stat():G0.stat=!0,G0),this,Eft,"duration",vyo,ki.prototype)}set count(e){this.count.$set(e,this,jft,"count")}get count(){return this.count.$get(this,jft,"count")}get count(){return this[wyo]||y((Y0=this.number(),p(Y0.memory,Function)?Y0.memory():Y0.memory=!0,p(Y0.fallback,Function)?Y0.fallback(0):Y0.fallback=0,p(Y0.stat,Function)?Y0.stat():Y0.stat=!0,Y0),this,jft,"count",wyo,ki.prototype)}routed(){var e,t;if((t=(e=this.sql_query)==null?void 0:e.trim)!=null&&t.call(e))return this.run()}static async interactivecreate(){let e;if(e=await super.interactivecreate(...arguments))return APP.open(e)}get pagecount(){return Math.ceil(this.count/this.pagesize)}get askindlabel(){return"Query"}opdurationstat(){var s;var e,t=H(),r,o,n,i;if(this.duration)return r=o=1,(e=t[Zfe])||(r=o=0,e=t[Zfe]=e=R("op-stat",null,null,null)),r||(e[e3]=t._),r||((s=e[oT])==null||s.call(e,t,Zfe)),n=e[MX]("__",e),pt.context=e[Oyo]||(e[Oyo]={_:n}),i=this.duration.toFixed(2),pt.context=null,i===e[Ryo]&&r||(e[Tyo]=n[C1](e[Ryo]=i,128,e[Tyo])),r||n[C1]("s"),r||t.sym||!e.setup||e.setup(o,t,Zfe),t.sym||e[vs](o),e}opcountstat(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Gfe])||(r=o=0,e=t[Gfe]=e=R("op-stat",null,null,null)),r||(e[e3]=t._),r||((s=e[oT])==null||s.call(e,t,Gfe)),n=e[MX]("__",e),pt.context=e[Lyo]||(e[Lyo]={_:n}),i=(this.count||0).toLocaleString("en-US"),pt.context=null,i===e[Dyo]&&r||(e[Myo]=n[C1](e[Dyo]=i,128,e[Myo])),r||n[C1](" rows"),r||t.sym||!e.setup||e.setup(o,t,Gfe),t.sym||e[vs](o),e}oppagestat(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[Yfe])||(r=o=0,e=t[Yfe]=e=R("op-stat",null,null,null)),r||(e[e3]=t._),r||((s=e[oT])==null||s.call(e,t,Yfe)),n=e[MX]("__",e),r||n[C1]("Page "),i=this.page+1,i===e[Iyo]&&r||(e[Nyo]=n[C1](e[Iyo]=i,0,e[Nyo])),r||n[C1](" of "),i=this.pagecount,i===e[Hyo]&&r||(e[Fyo]=n[C1](e[Hyo]=i,256,e[Fyo])),r||t.sym||!e.setup||e.setup(o,t,Yfe),t.sym||e[vs](o),e}opownbody(){var $;var e,t,r=H(),o,n,i,s,a,u,c,h,d,f,m;return o=n=1,(t=r[Xfe])||(o=n=0,t=r[Xfe]=t=R("op",null,"xk-ai",null)),o||(t[e3]=r._),o||(($=t[oT])==null||$.call(t,r,Xfe)),i=t[MX]("__",t),e=null,this.chart.raw_query&&(s=t[g2](xbn),a=u=1,(e=s.run(this.oel(this.chart,"body")))||(a=u=0,s.cache(e=M(s.value,null,null,null))),a||(e[e3]=i),e[k2]&&(a||!e.setup||e.setup(u,s),e[vs](u))),t[Byo]=i[C1](e,0,t[Byo]),h=d=1,(c=t[Vyo])||(h=d=0,t[Vyo]=c=R("op-dynamic-table",i,null,null)),f=this.rows,f===t[zyo]||(c.data=t[zyo]=f),h||!c.setup||c.setup(d,m),c[vs](d),h||i[Xv](c),o||r.sym||!t.setup||t.setup(n,r,Xfe),r.sym||t[vs](n),t}opownintro(){var L;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O;return r=o=1,(e=t[Kfe])||(r=o=0,e=t[Kfe]=e=R("op",null,"xk-al",null)),r||(e[e3]=t._),r||((L=e[oT])==null||L.call(e,t,Kfe)),n=e[MX]("__",e),i=e[g2](vbn),a=u=1,(s=i.run(this.obutton(this.edititem)))||(a=u=0,i.cache(s=M(i.value,n,null,null))),s[k2]&&(a||(s.label=!1),a||!s.setup||s.setup(u,i),s[vs](u)),s==e[jX]||!e[jX]&&n[Xv](e[jX]=s)||(n[LX](s,e[jX]),e[jX]=s),c=e[g2](wbn),d=f=1,(h=c.run(this.obutton(this.run)))||(d=f=0,c.cache(h=M(c.value,n,null,null))),h[k2]&&(d||(h.label=!1),m=pw,m===h[qyo]||(h.icon=h[qyo]=m),d||!h.setup||h.setup(f,c),h[vs](f)),h==e[AX]||!e[AX]&&n[Xv](e[AX]=h)||(n[LX](h,e[AX]),e[AX]=h),$=e[g2](Sbn),g=x=1,(b=$.run(this.obutton(this.pageprev)))||(g=x=0,$.cache(b=M($.value,n,null,null))),b[k2]&&(g||(b.label=!1),g||!b.setup||b.setup(x,$),b[vs](x)),b==e[UX]||!e[UX]&&n[Xv](e[UX]=b)||(n[LX](b,e[UX]),e[UX]=b),k=e[g2](Cbn),S=v=1,(_=k.run(this.obutton(this.pagenext)))||(S=v=0,k.cache(_=M(k.value,n,null,null))),_[k2]&&(S||(_.label=!1),S||!_.setup||_.setup(v,k),_[vs](v)),_==e[PX]||!e[PX]&&n[Xv](e[PX]=_)||(n[LX](_,e[PX]),e[PX]=_),C=e[g2](Ebn),P=U=1,(j=C.run(this.obutton(this.pageprompt)))||(P=U=0,C.cache(j=M(C.value,n,null,null))),j[k2]&&(P||(j.label=!1),O=gw,O===j[Wyo]||(j.icon=j[Wyo]=O),P||!j.setup||j.setup(U,C),j[vs](U)),j==e[TX]||!e[TX]&&n[Xv](e[TX]=j)||(n[LX](j,e[TX]),e[TX]=j),r||t.sym||!e.setup||e.setup(o,t,Kfe),t.sym||e[vs](o),e}opownli(){var X,Z;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;return t.this=this,n=i=1,(o=t[Jfe])||(n=i=0,o=t[Jfe]=o=w("section",null,"xli",null)),n||(o[e3]=t._),n||((X=o[oT])==null||X.call(o,t,Jfe)),s=this,s===o[Zyo]||(o.odata=o[Zyo]=s),a=o[Gyo]||(o[Gyo]={options:[null]}),s=this,s===a.options[0]||(a.options[0]=s,i|=48),n||o.on$("opmenu",a,this),i&32&&(i^=32,(Z=a[Tbn])==null||Z.call(a)),a=o[Yyo]||(o[Yyo]={open:[null]}),a.open[0]=this,n||o.on$("click",a,this),n||o.on$("hotkey",{options:["e"],passive:!0,haspointer:!0,trap:!0,$_:[function(Q,ee){return t.this.edititem(Q)}]},this),u=o[g2](jbn),h=d=1,(c=u.run(this.oicon(this)))||(h=d=0,u.cache(c=M(u.value,o,"xk-as bullet",null))),c[k2]&&((!h||d&2)&&c.flags.reconcile(JP,"xk-as bullet"),h||!c.setup||c.setup(d,u),c[vs](d)),c==o[JP]||!o[JP]&&(o[JP]=c)[Lft](o)||o[JP][Dft](o[JP]=c,o),m=$=1,(f=o[Xyo])||(m=$=0,o[Xyo]=f=w("section",o,null,null)),(b=f[Kyo])||(f[Kyo]=b=w("h2",f,"xk-au",null)),(g=f[Jyo])||(f[Jyo]=g=w("span",b,"xk-av xk_au",null)),x=this.aslabel,x===f[ebo]&&m||(f[Qyo]=g[C1](f[ebo]=x,384,f[Qyo])),(k=f[tbo])||(f[tbo]=k=w("span",b,"xk_au",null)),_=this.description,_===f[obo]&&m||(f[rbo]=k[C1](f[obo]=_,384,f[rbo])),m||(S=w("hr",f,null,null)),v=f[g2](Abn),j=P=1,(C=v.run(this.ochip(this.$.last_ran)))||(j=P=0,v.cache(C=M(v.value,f,null,null))),C[k2]&&(j||C.on$("optip",{},this),j||!C.setup||C.setup(P,v),C[vs](P)),C==f[OX]||!f[OX]&&(f[OX]=C)[Lft](f)||f[OX][Dft](f[OX]=C,f),r=null,this.run_count&&(U=f[g2](Ubn),O=L=1,(r=U.run(this.ochip(this.$.run_count)))||(O=L=0,U.cache(r=M(U.value,null,null,null))),O||(r[e3]=f),r[k2]&&(O||r.on$("optip",{},this),O||!r.setup||r.setup(L,U),r[vs](L))),f[nbo]=f[C1](r,0,f[nbo]),m||!f.setup||f.setup($,I),f[vs]($),N=V=1,(F=o[ibo])||(N=V=0,o[ibo]=F=R("op-button",o,"square",null)),N||F.on$("click",{trap:!0,$_:[function(Q,ee){return t.this.edititem(Q)}]},this),N||(F.icon="edit"),N||(F.label="Edit"),N||!F.setup||F.setup(V,W),F[vs](V),N||o[Xv](F),z=o[g2](Pbn),Y=K=1,(q=z.run(this.oel(this,"more")))||(Y=K=0,z.cache(q=M(z.value,o,null,null))),q[k2]&&(Y||!q.setup||q.setup(K,z),q[vs](K)),q==o[RX]||!o[RX]&&(o[RX]=q)[Lft](o)||o[RX][Dft](o[RX]=q,o),n||t.sym||!o.setup||o.setup(i,t,Jfe),t.sym||o[vs](i),o}set edititem(e){this.edititem.$set(e,this,Aft,"edititem")}get edititem(){return this.edititem.$get(this,Aft,"edititem")}get edititem(){return this[Syo]||y((QP=this.action(),p(QP.g,Function)?QP.g(0):QP.g=0,QP.callback=async function(){var r,o,n;let e=this.$checkout();if(await OP.dialog(e,"editor")&&this==((n=(o=(r=APP==null?void 0:APP.url)==null?void 0:r.page)==null?void 0:o.main)==null?void 0:n.object))return OP.toast("RUNNING QUERY!"),this.run()},QP),this,Aft,"edititem",Syo,ki.prototype)}set runsrv(e){this.runsrv.$set(e,this,Uft,"runsrv")}get runsrv(){return this.runsrv.$get(this,Uft,"runsrv")}get runsrv(){return this[Cyo]||y((S1=this.action(),p(S1.atomic,Function)?S1.atomic():S1.atomic=!0,p(S1.rx,Function)?S1.rx(ADMIN):S1.rx=ADMIN,p(S1.rpc,Function)?S1.rpc():S1.rpc=!0,S1.callback=!1,S1),this,Uft,"runsrv",Cyo,ki.prototype)}set run(e){this.run.$set(e,this,Pft,"run")}get run(){return this.run.$get(this,Pft,"run")}get run(){return this[Eyo]||y((eT=this.action(),p(eT.atomic,Function)?eT.atomic():eT.atomic=!0,eT.callback=async function(){var r,o;if(!((o=(r=this.sql_query)==null?void 0:r.trim)!=null&&o.call(r)))return;let e=await this.runsrv(this.sql_query,this.page,this.pagesize);if(!e)return;let t=e.rows.map(function(n){for(let i=0,s=Object.keys(n),a=s.length,u,c;i<a;i++)u=s[i],c=n[u],p(c,Object)&&(p(c,Date)||(n[u]=new String(JSON.stringify(c,null,2)),n[u].json=!0));return n});return this.count=e.count,this.duration=e.duration,this.rows=t,this.last_ran=new Date,this.run_count??=0,this.run_count++,this.save()},eT),this,Pft,"run",Eyo,ki.prototype)}set pagenext(e){this.pagenext.$set(e,this,Tft,"pagenext")}get pagenext(){return this.pagenext.$get(this,Tft,"pagenext")}get pagenext(){return this[jyo]||y((tT=this.action(),p(tT.if,Function)?tT.if(function(){return this.page<this.pagecount-1}):tT.if=function(){return this.page<this.pagecount-1},tT.callback=async function(){return await this.update({page:(this.page||0)+1}),await this.run()},tT),this,Tft,"pagenext",jyo,ki.prototype)}set pageprev(e){this.pageprev.$set(e,this,Oft,"pageprev")}get pageprev(){return this.pageprev.$get(this,Oft,"pageprev")}get pageprev(){return this[Ayo]||y((rT=this.action(),p(rT.if,Function)?rT.if(function(){return this.page>0}):rT.if=function(){return this.page>0},rT.callback=async function(){return await this.update({page:Math.max(0,(this.page||0)-1)}),await this.run()},rT),this,Oft,"pageprev",Ayo,ki.prototype)}set pageprompt(e){this.pageprompt.$set(e,this,Rft,"pageprompt")}get pageprompt(){return this.pageprompt.$get(this,Rft,"pageprompt")}get pageprompt(){return this[Uyo]||y((Mft=this.action(),Mft.callback=async function(){let e=await window.prompt("Enter page number");try{e=parseInt(e)-1}catch{}return e<0||isNaN(e)?OP.toast(""+e+" is an invalid number"):(await this.update({page:e}),await this.run())},Mft),this,Rft,"pageprompt",Uyo,ki.prototype)}};E(ki,Qfe,"SharedQuery",88);var Nft=ki;globalThis.SharedQuery=Nft;T();oe();ge(),dt(),an(),$e();var Ift=Symbol("id"),sbo=Symbol(),Fft=Symbol("submitted_ts"),lbo=Symbol(),Hft=Symbol("url"),abo=Symbol(),Bft=Symbol("submitter_name"),ubo=Symbol(),Vft=Symbol("submitter_avatar"),cbo=Symbol(),zft=Symbol("content"),hbo=Symbol(),qft=Symbol("priority"),pbo=Symbol(),Wft=Symbol("creator"),dbo=Symbol(),Zft=Symbol("seen"),fbo=Symbol(),Gft=Symbol("unsolicited"),mbo=Symbol(),Yft=Symbol("typname"),$bo=Symbol(),Xft=Symbol("mark_featured"),ybo=Symbol(),t3,X0,K0,r3,o3,n3,i3,DX,NX,bbo,nT,a6,e2e=Symbol(),gbo=Symbol(),kbo=Symbol(),_bo=Symbol(),xbo=Symbol(),vbo=Symbol(),t2e=Symbol(),wbo=Symbol(),Sbo=Symbol(),r2e=Symbol(),Cbo=Symbol(),Ebo=Symbol(),jbo=Symbol(),Abo=Symbol(),Ubo=Symbol(),Pbo=Symbol(),Tbo=Symbol(),Obo=Symbol(),Rbo=Symbol(),Mbo=Symbol(),Lbo=Symbol(),Dbo=Symbol(),Nbo=Symbol(),Ibo=Symbol(),Fbo=Symbol(),Hbo=Symbol(),Bbo=Symbol(),Vbo=Symbol(),IX=Symbol(),Obn=Symbol(),o2e=Symbol(),zbo=Symbol(),qbo=Symbol(),Rbn=Symbol(),Mbn=Symbol(),n2e=Symbol(),Wbo=Symbol(),Zbo=Symbol(),Gbo=Symbol(),Ybo=Symbol(),Xbo=Symbol(),Kbo=Symbol(),Jbo=Symbol(),Qbo=Symbol(),ego=Symbol(),tgo=Symbol(),rgo=Symbol(),ogo=Symbol(),ngo=Symbol(),igo=Symbol(),sgo=Symbol(),lgo=Symbol(),ago=Symbol(),ugo=Symbol(),cgo=Symbol(),hgo=Symbol(),pgo=Symbol(),dgo=Symbol(),fgo=Symbol(),mgo=Symbol(),Kft=Symbol(),$go=Symbol(),ygo=Symbol(),bgo=Symbol(),ggo=Symbol(),kgo=Symbol(),_go=Symbol(),xgo=Symbol(),vgo=Symbol(),wgo=Symbol(),Sgo=le("!&.seen",globalThis,l=>!l.seen),Cgo=Symbol(),Ego=Symbol(),jgo=Symbol(),Ago=Symbol(),Ugo=Symbol(),iT=Symbol(),Lbn=Symbol(),Pgo=Symbol(),Tgo=Symbol(),Ogo=Symbol(),Rgo=Symbol(),Mgo=Symbol(),Lgo=Symbol();var Jft=Symbol(),Dgo=Symbol(),Ngo=Symbol(),Igo=Symbol(),Fgo=Symbol();var Qft=Symbol(),ws=Symbol.for("##up"),sT=Symbol.for("##register"),FX=Symbol.for("#getSlot"),Ri=Symbol.for("#afterVisit"),Kv=Symbol.for("#appendChild"),Uc=Symbol.for("#placeChild"),Dbn=Symbol.for("#getRenderContext"),e2t=Symbol.for("#isRichElement"),Bgo=Symbol.for("#insertInto"),Vgo=Symbol.for("#replaceWith"),zgo=Symbol.for("#getDynamicContext"),qgo=Symbol.for("#visit"),Wgo=Symbol.for("#beforeReconcile"),Zgo=Symbol.for("#afterReconcile");no.addSelectors([".ye-br"],"transition");var Nbn=Symbol(),du=class du extends OPObject{set id(e){this.id.$set(e,this,Ift,"id")}get id(){return this.id.$get(this,Ift,"id")}get id(){return this[sbo]||y((t3=this.key(),p(t3.r,Function)?t3.r(ANYONE):t3.r=ANYONE,p(t3.wxcd,Function)?t3.wxcd(ADMIN):t3.wxcd=ADMIN,t3),this,Ift,"id",sbo,du.prototype)}set submitted_ts(e){this.submitted_ts.$set(e,this,Fft,"submitted_ts")}get submitted_ts(){return this.submitted_ts.$get(this,Fft,"submitted_ts")}get submitted_ts(){return this[lbo]||y((X0=this.ts(),p(X0.stat,Function)?X0.stat():X0.stat=!0,p(X0.dialog,Function)?X0.dialog():X0.dialog=!0,p(X0.editable,Function)?X0.editable():X0.editable=!0,X0),this,Fft,"submitted_ts",lbo,du.prototype)}set url(e){this.url.$set(e,this,Hft,"url")}get url(){return this.url.$get(this,Hft,"url")}get url(){return this[abo]||y((K0=this.url(),p(K0.stat,Function)?K0.stat():K0.stat=!0,p(K0.dialog,Function)?K0.dialog():K0.dialog=!0,p(K0.editable,Function)?K0.editable():K0.editable=!0,K0),this,Hft,"url",abo,du.prototype)}set submitter_name(e){this.submitter_name.$set(e,this,Bft,"submitter_name")}get submitter_name(){return this.submitter_name.$get(this,Bft,"submitter_name")}get submitter_name(){return this[ubo]||y((r3=this.string(),p(r3.dialog,Function)?r3.dialog():r3.dialog=!0,p(r3.editable,Function)?r3.editable():r3.editable=!0,r3),this,Bft,"submitter_name",ubo,du.prototype)}set submitter_avatar(e){this.submitter_avatar.$set(e,this,Vft,"submitter_avatar")}get submitter_avatar(){return this.submitter_avatar.$get(this,Vft,"submitter_avatar")}get submitter_avatar(){return this[cbo]||y((o3=this.url(),p(o3.dialog,Function)?o3.dialog():o3.dialog=!0,p(o3.editable,Function)?o3.editable():o3.editable=!0,o3),this,Vft,"submitter_avatar",cbo,du.prototype)}set content(e){this.content.$set(e,this,zft,"content")}get content(){return this.content.$get(this,zft,"content")}get content(){return this[hbo]||y((n3=this.text(),p(n3.dialog,Function)?n3.dialog():n3.dialog=!0,p(n3.editable,Function)?n3.editable():n3.editable=!0,n3),this,zft,"content",hbo,du.prototype)}set priority(e){this.priority.$set(e,this,qft,"priority")}get priority(){return this.priority.$get(this,qft,"priority")}get priority(){return this[pbo]||y((i3=this.int(),p(i3.dialog,Function)?i3.dialog():i3.dialog=!0,p(i3.editable,Function)?i3.editable():i3.editable=!0,i3),this,qft,"priority",pbo,du.prototype)}set creator(e){this.creator.$set(e,this,Wft,"creator")}get creator(){return this.creator.$get(this,Wft,"creator")}get creator(){return this[dbo]||y((DX=this.creator(),p(DX.stat,Function)?DX.stat():DX.stat=!0,DX),this,Wft,"creator",dbo,du.prototype)}set seen(e){this.seen.$set(e,this,Zft,"seen")}get seen(){return this.seen.$get(this,Zft,"seen")}get seen(){return this[fbo]||y((NX=this.ts(),p(NX.local,Function)?NX.local():NX.local=!0,NX),this,Zft,"seen",fbo,du.prototype)}set unsolicited(e){this.unsolicited.$set(e,this,Gft,"unsolicited")}get unsolicited(){return this.unsolicited.$get(this,Gft,"unsolicited")}get unsolicited(){return this[mbo]||y((bbo=this.bool(),bbo),this,Gft,"unsolicited",mbo,du.prototype)}get asicon(){return this.constructor.asicon}set typname(e){this.typname.$set(e,this,Yft,"typname")}get typname(){return this.typname.$get(this,Yft,"typname")}get typname(){return this[$bo]||y((nT=this.memo(),p(nT.stat,Function)?nT.stat():nT.stat=!0,nT.callback=function(){var e,t;return(t=(e=this.askindlabel)==null?void 0:e.slice)==null?void 0:t.call(e,0,-12)},nT),this,Yft,"typname",$bo,du.prototype)}set mark_featured(e){this.mark_featured.$set(e,this,Xft,"mark_featured")}get mark_featured(){return this.mark_featured.$get(this,Xft,"mark_featured")}get mark_featured(){return this[ybo]||y((a6=this.action(),p(a6.g,Function)?a6.g(100):a6.g=100,p(a6.x,Function)?a6.x(OPADMIN):a6.x=OPADMIN,a6.callback=function(){return this.priority=(this.priority||0)+1e3},a6),this,Xft,"mark_featured",ybo,du.prototype)}static get showing(){return this.all().sort(function(e,t){return e.unsolicited!=t.unsolicited?t.unsolicited-e.unsolicited:t.submitted_ts-e.submitted_ts})}get aslabel(){return""+this.submitter_name+"'s "+this.typname+" Testimonial"}optypstat(){var f;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[e2e])||(r=o=0,e=t[e2e]=e=R("op-stat",null,null,null)),r||(e[ws]=t._),r||((f=e[sT])==null||f.call(e,t,e2e)),n=e[FX]("__",e),s=a=1,(i=e[gbo])||(s=a=0,e[gbo]=i=R("op-icon",n,null,null)),u=this.typname.lower,u===e[kbo]||(i.data=e[kbo]=u),s||!i.setup||i.setup(a,c),i[Ri](a),s||n[Kv](i),(h=e[_bo])||(e[_bo]=h=w("div",n,null,null)),d=this.typname,d===e[vbo]&&r||(e[xbo]=h[Uc](e[vbo]=d,384,e[xbo])),r||t.sym||!e.setup||e.setup(o,t,e2e),t.sym||e[Ri](o),e}get footnote(){return this.unsolicited?"This is an unsolicited testimonial from a Scrimba user ":"This user was possibly given a free trial for their testimonial"}opownentrybody(){var s;var e,t=H(),r,o,n,i;return r=o=1,(e=t[t2e])||(r=o=0,e=t[t2e]=e=R("op",null,null,null)),r||(e[ws]=t._),r||((s=e[sT])==null||s.call(e,t,t2e)),n=e[FX]("__",e),i=this.content,i===e[Sbo]&&r||(e[wbo]=n[Uc](e[Sbo]=i,384,e[wbo])),r||t.sym||!e.setup||e.setup(o,t,t2e),t.sym||e[Ri](o),e}opownentry(e,t){var ie;var r=this,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne;return o.this=this,a=u=1,(s=o[r2e])||(a=u=0,s=o[r2e]=s=R("op",null,"ye-aj",null)),a||(s[ws]=o._),a||((ie=s[sT])==null||ie.call(s,o,r2e)),c=s[FX]("__",s),h=this,h===s[Cbo]||(s.data=s[Cbo]=h),n=null,this.seen||(d=f=1,(n=s[Ebo])||(d=f=0,s[Ebo]=n=R("op-timeout",null,null,null)),d||(n[ws]=c),m=5*1e3,m===n[jbo]||(n.timeout=n[jbo]=m),d||n.on$("step",{log:["marking as seen!!"],$_:[function(J,me){return o.this.seen=!0}]},this),d||!n.setup||n.setup(f,$),n[Ri](f)),s[Abo]=c[Uc](n,0,s[Abo]),(b=s[Ubo])||(s[Ubo]=b=w("div",c,"ye-al %top",null)),i=null,this.submitter_avatar?(g=x=1,(i=s[Pbo])||(g=x=0,s[Pbo]=i=w("div",null,"ye-am xxl",null)),g||(i[ws]=b),_=S=1,(k=i[Tbo])||(_=S=0,i[Tbo]=k=w("img",i,"ye-an",null)),_||(k.alt="avatar"),v=this.submitter_avatar,v===i[Obo]||(k.src=i[Obo]=v),_||(k.crossOrigin="anonymous")):(C=j=1,(i=s[Rbo])||(C=j=0,s[Rbo]=i=w("div",null,"ye-ao xxl",null)),C||(i[ws]=b),U=O=1,(P=i[Mbo])||(U=O=0,i[Mbo]=P=w("img",i,"ye-ap",null)),U||(P.alt="avatar"),fv===i[Lbo]||(P.src=i[Lbo]=fv)),s[Dbo]=b[Uc](i,0,s[Dbo]),(L=s[Nbo])||(s[Nbo]=L=w("div",b,"ye-aq %name",null)),I=this.submitter_name,I===s[Fbo]&&a||(s[Ibo]=L[Uc](s[Fbo]=I,256,s[Ibo])),N=V=1,(F=s[Hbo])||(N=V=0,s[Hbo]=F=R("op-icon",b,"ye-ar",null)),W=this.constructor.asicon,W===s[Bbo]||(F.data=s[Bbo]=W),N||!F.setup||F.setup(V,z),F[Ri](V),N||b[Kv](F),Y=K=1,(q=s[Vbo])||(Y=K=0,s[Vbo]=q=w("div",c,"ye-as %middle",null)),X=q[Dbn](Obn),Q=ee=1,(Z=X.run(this.oel(this,"entry-body",t)))||(Q=ee=0,X.cache(Z=M(X.value,q,null,null))),Z[e2t]&&(Q||!Z.setup||Z.setup(ee,X),Z[Ri](ee)),Z==q[IX]||!q[IX]&&(q[IX]=Z)[Bgo](q)||q[IX][Vgo](q[IX]=Z,q),Y||!q.setup||q.setup(K,te),q[Ri](K),a||(ne=w("div",c,"ye-au",null)),a||o.sym||!s.setup||s.setup(u,o,r2e),o.sym||s[Ri](u),s}static opowncoursefooter(e,t){var x;var r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g;n=i=1,(r=o[o2e])||(n=i=0,r=o[o2e]=r=R("op",null,"ye-av",null)),n||(r[ws]=o._),n||((x=r[sT])==null||x.call(r,o,o2e)),s=r[FX]("__",r),n||(a=w("h2",s,null,"Testimonials")),(u=r[zbo])||(r[zbo]=u=w("div",s,"ye-ax",null)),(c=r[qbo])||(r[qbo]=c=wt(256,u)),h=0,d=c.$;for(let k=0,_=B(this.showing),S=_.length;k<S;k++){let v=_[k];$=b=1,(m=(f=d[zgo](Rbn,h)).run(this.oel(v,"entry",t)))||($=b=0,f.cache(m=M(f.value,c,"ye-ay",null))),$||(m[ws]=c),m[e2t]&&((!$||b&2)&&m.flags.reconcile(Mbn,"ye-ay"),$||!m.setup||m.setup(b,f),m[Ri](b)),c.push(m,h++,g)}return c[Ri](h),n||o.sym||!r.setup||r.setup(i,o,o2e),o.sym||r[Ri](i),r}opownli(){var z,q,Y,K;var e=this,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;return t.this=this,n=i=1,(o=t[n2e])||(n=i=0,o=t[n2e]=o=R("op-li",null,"ye-az xli",null)),n||(o[ws]=t._),n||((z=o[sT])==null||z.call(o,t,n2e)),s=o[FX]("__",o),a=this,a===o[Wbo]||(o.data=o[Wbo]=a),a=this,a===o[Zbo]||(o.odata=o[Zbo]=a),u=o[Gbo]||(o[Gbo]={options:[null]}),a=this,a===u.options[0]||(u.options[0]=a,i|=48),n||o.on$("opmenu",u,this),i&32&&(i^=32,(q=u[qgo])==null||q.call(u)),n||(o.contour="contour"),n||o.on$("click",{trap:!0,$_:[function(X,Z){return APP.newtab(t.this.url)}]},this),h=d=1,(c=o[Ybo])||(h=d=0,o[Ybo]=c=R("op-icon",s,"ye-ba",null)),f=this.asicon,f===o[Xbo]||(c.data=o[Xbo]=f),h||!c.setup||c.setup(d,m),c[Ri](d),h||s[Kv](c),r=null,this.submitter_avatar?($=b=1,(r=o[Kbo])||($=b=0,o[Kbo]=r=w("div",null,"ye-bb xxl",null)),$||(r[ws]=s),x=k=1,(g=r[Jbo])||(x=k=0,r[Jbo]=g=w("img",r,"ye-bc",null)),x||(g.alt="avatar"),_=this.submitter_avatar,_===r[Qbo]||(g.src=r[Qbo]=_),x||(g.crossOrigin="anonymous")):(S=v=1,(r=o[ego])||(S=v=0,o[ego]=r=w("div",null,"ye-bd xxl",null)),S||(r[ws]=s),j=P=1,(C=r[tgo])||(j=P=0,r[tgo]=C=w("img",r,"ye-be",null)),j||(C.alt="avatar"),fv===r[rgo]||(C.src=r[rgo]=fv)),o[ogo]=s[Uc](r,0,o[ogo]),(U=o[ngo])||(o[ngo]=U=w("div",s,"ye-bf",null)),(O=o[igo])||(o[igo]=O=w("div",U,"ye-bg",null)),(L=o[sgo])||(o[sgo]=L=w("div",O,"ye-bh",null)),I=this.submitter_name,I===o[ago]&&n||(o[lgo]=L[Uc](o[ago]=I,256,o[lgo])),(F=o[ugo])||(o[ugo]=F=w("div",O,"ye-bi",null)),pt.context=o[hgo]||(o[hgo]={_:F}),N=(K=(Y=this.submitted_ts)==null?void 0:Y.toUTCString)==null?void 0:K.call(Y).slice(5,16),pt.context=null,N===o[pgo]&&n||(o[cgo]=F[Uc](o[pgo]=N,256,o[cgo])),(V=o[dgo])||(o[dgo]=V=w("div",U,"ye-bj",null)),W=this.content,W===o[mgo]&&n||(o[fgo]=V[Uc](o[mgo]=W,256,o[fgo])),n||t.sym||!o.setup||o.setup(i,t,n2e),t.sym||o[Ri](i),o}};E(du,Nbn,"Testimonial",0);var s3=du;globalThis.Testimonial=s3;var Ibn=Symbol(),s2t=class s2t extends s3{static get asicon(){return"discord"}};E(s2t,Ibn,"DiscordTestimonial",0);var t2t=s2t;globalThis.DiscordTestimonial=t2t;var Fbn=Symbol(),l2t=class l2t extends s3{static get asicon(){return"twitter"}};E(l2t,Fbn,"XTestimonial",0);var r2t=l2t;globalThis.XTestimonial=r2t;var Hbn=Symbol(),a2t=class a2t extends s3{static get asicon(){return"text"}};E(a2t,Hbn,"TextTestimonial",0);var o2t=a2t;globalThis.TextTestimonial=o2t;var Bbn=Symbol(),u2t=class u2t extends s3{static get asicon(){return"video"}opownentrybody(e,t){var _;var r,o,n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k;return s=a=1,(n=i[Kft])||(s=a=0,n=i[Kft]=n=fa(1024,null)),s||(n[ws]=i._),s||((_=n[sT])==null||_.call(n,i,Kft)),r=o=null,p(t,Course)?(u=c=1,(r=n[$go])||(u=c=0,n[$go]=r=R(i2e,null,null,null)),u||(r[ws]=n),h=this.url,h===r[ygo]||(r.src=r[ygo]=h),u||!r.setup||r.setup(c,d),r[Ri](c)):(f=m=1,(r=n[bgo])||(f=m=0,n[bgo]=r=w("div",null,null,null)),f||(r[ws]=n),$=this.content,$===r[kgo]&&f||(r[ggo]=r[Uc](r[kgo]=$,384,r[ggo])),b=g=1,(o=n[_go])||(b=g=0,n[_go]=o=R(i2t,null,null,null)),b||(o[ws]=n),x=this.url,x===o[xgo]||(o.src=o[xgo]=x),b||!o.setup||o.setup(g,k),o[Ri](g)),n[vgo]=n[Uc](r,0,n[vgo]),n[wgo]=n[Uc](o,0,n[wgo]),n}};E(u2t,Bbn,"VideoLinkTestimonial",0);var n2t=u2t;globalThis.VideoLinkTestimonial=n2t;var Vbn=Symbol(),s2e=class s2e extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.autoscroll=e&&(o=e.autoscroll)!==void 0?o:!0,this.options=e&&(o=e.options)!==void 0?o:s3.all().sorted({priority:-1}),this.current=e?e.current:void 0}stepnext(){return this.current=this.options.after(this.current)||this.options.at(0)}stepprev(){return this.current=this.options.before(this.current)||this.options.at(-1)}mount(){let e=this.options.only(Sgo);return this.current=e.at(0)||this.options.at(0),this.current=this.options.at(0)}render(){var N;var e=this,t,r,o,n,i,s=this._ns_||"",a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F;return this.current||=this.options.only(Sgo).at(0)||this.options.at(0),o=this,o[Wgo](),n=i=1,o[Cgo]===1||(n=i=0,o[Cgo]=1),n||o.on$("manual",{$_:[function(V,W){return e.autoscroll=!1}]},this),(!n||i&2)&&o.flagSelf$("ye-bo"),t=null,this.autoscroll&&(a=u=1,(t=o[Ego])||(a=u=0,o[Ego]=t=R("op-interval",null,`${s}`,null)),a||(t[ws]=o),c=10*1e3,c===t[jgo]||(t.autorender=t[jgo]=c),a||t.on$("tock",{$_:[function(V,W){return e.stepnext(V)}]},this),a||!t.setup||t.setup(u,h),t[Ri](u)),o[Ago]=o[Uc](t,0,o[Ago]),r=null,this.current&&(d=f=1,(r=o[Ugo])||(d=f=0,o[Ugo]=r=w("div",null,`ye-bq ${s}`,null)),d||(r[ws]=o),m=r[zgo](Lbn,this.current.id),b=g=1,($=m.run(this.oel(this.current,"entry")))||(b=g=0,m.cache($=M(m.value,null,`ye-br ${s}`,null))),b||($[ws]=r),$[e2t]&&(b||($.ease="ease"),x=$[Pgo]||($[Pgo]={options:[null]}),k=this.current,k===x.options[0]||(x.options[0]=k,g|=48),b||$.on$("opmenu",x,this),g&32&&(g^=32,(N=x[qgo])==null||N.call(x)),(!b||g&2)&&$.flags.reconcile(iT,`ye-br ${s}`),b||!$.setup||$.setup(g,m),$[Ri](g)),$==r[iT]||!r[iT]&&(r[iT]=$)[Bgo](r)||r[iT][Vgo](r[iT]=$,r),d||!r.setup||r.setup(f,_),r[Ri](f)),o[Tgo]=o[Uc](r,0,o[Tgo]),n||(S=w("div",o,`ye-bs ${s}`,null)),(v=o[Ogo])||(o[Ogo]=v=w("div",o,`ye-bt buttons ${s}`,null)),j=P=1,(C=o[Rgo])||(j=P=0,o[Rgo]=C=R("op-button",v,`ye-bu lg ${s}`,null)),j||(C.icon="previous"),j||(C.label=!1),j||C.on$("click",{emit:["manual"],$_:[function(V,W){return e.stepprev(V)}]},this),j||!C.setup||C.setup(P,U),C[Ri](P),j||v[Kv](C),L=I=1,(O=o[Mgo])||(L=I=0,o[Mgo]=O=R("op-button",v,`ye-bv lg ${s}`,null)),L||(O.icon="next"),L||(O.label=!1),L||O.on$("click",{emit:["manual"],$_:[function(V,W){return e.stepnext(V)}]},this),L||!O.setup||O.setup(I,F),O[Ri](I),L||v[Kv](O),o[Zgo](i),o}};E(s2e,Vbn,"testimonial-carousel",2),pe("testimonial-carousel",s2e,{});var Hgo=s2e,zbn=Symbol(),l2e=class l2e extends de{get $vid(){let e=w("video",null,`ye-bx ${this._ns_||""} $vid`,null);return Object.defineProperty(this,"$vid",{value:e}),e}get vid(){return this.$vid}get paused(){var e;return(e=this.$vid)==null?void 0:e.paused}get playing(){return this.$vid&&!this.paused}set muted(e){this.$vid.muted=!!e}get muted(){var e;return(e=this.$vid)==null?void 0:e.muted}play(){var e,t;return(t=(e=this.$vid)==null?void 0:e.play)==null?void 0:t.call(e)}pause(){var e,t;return(t=(e=this.$vid)==null?void 0:e.pause)==null?void 0:t.call(e)}onload(){return this.$vid.volume=1,this.loaded=!0}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x;return t=this,t[Wgo](),r=o=1,t[Lgo]===1||(r=o=0,t[Lgo]=1),n=this.loaded||void 0,n===t[Jft]||(o|=2,t[Jft]=n),(!r||o&2)&&t.flagSelf$("ye-bw "+(t[Jft]?"loaded":"")),s=a=1,(i=t[Dgo])||(s=a=0,t[Dgo]=(i=this.$vid,i[ws]=t,i)),s||i.on$("loadeddata",{$_:[function(k,_){return e.onload(k)}]},this),s||i.on$("play",{emit:["manual"]},this),s||(i.crossOrigin="crossOrigin"),s||(i.controls="controls"),h=d=1,(c=t[Ngo])||(h=d=0,t[Ngo]=c=w("source",i,`${u}`,null)),f=this.src,f===t[Igo]||(c.src=t[Igo]=f),h||(c.type="video/mp4"),s||t[Kv](i),$=b=1,(m=t[Fgo])||($=b=0,t[Fgo]=m=R("op-icon",t,`ye-bz ${u}`,null)),$||(m.data="play"),g=this.playing||void 0,g===t[Qft]||(b|=2,t[Qft]=g),$||m.on$("click",{$_:[function(k,_){return e.play(k)}]},this),b&2&&m.flag$(`ye-bz ${u} `+(t[Qft]?"ye-ca":"")),$||!m.setup||m.setup(b,x),m[Ri](b),$||t[Kv](m),t[Zgo](o),t}};E(l2e,zbn,"SimpleVideo",2),pe("simple-video-ye-cb",l2e,{name:"SimpleVideo"});var i2e=l2e,qbn=Symbol(),a2e=class a2e extends i2e{};E(a2e,qbn,"CheckoutVideo",2),pe("checkout-video-ye-cc",a2e,{name:"CheckoutVideo"});var i2t=a2e;T();oe();var c2t=Symbol("fetch"),Ggo=Symbol(),h2t=Symbol("get_tags"),Ygo=Symbol(),p2t=Symbol("get_sub_by_email"),Xgo=Symbol(),d2t=Symbol("get_sub_by_id"),Kgo=Symbol(),f2t=Symbol("get_tags_for_sub"),Jgo=Symbol(),m2t=Symbol("tag_user_by_id"),Qgo=Symbol(),$2t=Symbol("untag_user_by_id"),e6o=Symbol(),y2t=Symbol("sync_all"),t6o=Symbol(),b2t=Symbol("sync_tags"),r6o=Symbol(),g2t=Symbol("sync_all_users"),o6o=Symbol(),k2t=Symbol("id"),n6o=Symbol(),_2t=Symbol("kit_id"),i6o=Symbol(),x2t=Symbol("name"),s6o=Symbol(),v2t=Symbol("created_at"),l6o=Symbol(),w2t=Symbol("kit_id"),a6o=Symbol(),S2t=Symbol("tags"),u6o=Symbol(),C2t=Symbol("first_name"),c6o=Symbol(),E2t=Symbol("email_address"),h6o=Symbol(),j2t=Symbol("created_at"),p6o=Symbol(),A2t=Symbol("last_sync"),d6o=Symbol(),U2t=Symbol("does_not_exist"),f6o=Symbol(),P2t=Symbol("state"),m6o=Symbol(),T2t=Symbol("add_tag"),$6o=Symbol(),O2t=Symbol("remove_tag"),y6o=Symbol(),R2t=Symbol("has_tag"),b6o=Symbol(),M2t=Symbol("sync"),g6o=Symbol(),L2t=Symbol("convertkit"),k6o=Symbol(),D2t=Symbol("convertkit"),_6o=Symbol(),u6,c6,h6,p6,d6,f6,m6,$6,y6,E1,HX,BX,x6o,v6o,l3,VX,zX,qX,WX,ZX,a3,u3,b6,g6,k6,_6,dni=le("&.prices.at(0)",globalThis,l=>l.prices.at(0)),fni=le("&.active_or_trialing?",globalThis,l=>l.active_or_trialing),mni=le("&.active_or_trialing? and &.github?",globalThis,l=>l.active_or_trialing&&l.github),GX,YX,Wbn=Symbol(),ch=class ch extends OPEmbed{set fetch(e){this.fetch.$set(e,this,c2t,"fetch")}get fetch(){return this.fetch.$get(this,c2t,"fetch")}get fetch(){return this[Ggo]||y((u6=this.action(),p(u6.rx,Function)?u6.rx(ADMIN):u6.rx=ADMIN,p(u6.rpc,Function)?u6.rpc():u6.rpc=!0,u6.callback=!1,u6),this,c2t,"fetch",Ggo,ch.prototype)}set get_tags(e){this.get_tags.$set(e,this,h2t,"get_tags")}get get_tags(){return this.get_tags.$get(this,h2t,"get_tags")}get get_tags(){return this[Ygo]||y((c6=this.action(),p(c6.rx,Function)?c6.rx(ADMIN):c6.rx=ADMIN,p(c6.rpc,Function)?c6.rpc():c6.rpc=!0,c6.callback=!1,c6),this,h2t,"get_tags",Ygo,ch.prototype)}set get_sub_by_email(e){this.get_sub_by_email.$set(e,this,p2t,"get_sub_by_email")}get get_sub_by_email(){return this.get_sub_by_email.$get(this,p2t,"get_sub_by_email")}get get_sub_by_email(){return this[Xgo]||y((h6=this.action(),p(h6.rx,Function)?h6.rx(ADMIN):h6.rx=ADMIN,p(h6.rpc,Function)?h6.rpc():h6.rpc=!0,h6.callback=!1,h6),this,p2t,"get_sub_by_email",Xgo,ch.prototype)}set get_sub_by_id(e){this.get_sub_by_id.$set(e,this,d2t,"get_sub_by_id")}get get_sub_by_id(){return this.get_sub_by_id.$get(this,d2t,"get_sub_by_id")}get get_sub_by_id(){return this[Kgo]||y((p6=this.action(),p(p6.rx,Function)?p6.rx(ADMIN):p6.rx=ADMIN,p(p6.rpc,Function)?p6.rpc():p6.rpc=!0,p6.callback=!1,p6),this,d2t,"get_sub_by_id",Kgo,ch.prototype)}set get_tags_for_sub(e){this.get_tags_for_sub.$set(e,this,f2t,"get_tags_for_sub")}get get_tags_for_sub(){return this.get_tags_for_sub.$get(this,f2t,"get_tags_for_sub")}get get_tags_for_sub(){return this[Jgo]||y((d6=this.action(),p(d6.rx,Function)?d6.rx(ADMIN):d6.rx=ADMIN,p(d6.rpc,Function)?d6.rpc():d6.rpc=!0,d6.callback=!1,d6),this,f2t,"get_tags_for_sub",Jgo,ch.prototype)}set tag_user_by_id(e){this.tag_user_by_id.$set(e,this,m2t,"tag_user_by_id")}get tag_user_by_id(){return this.tag_user_by_id.$get(this,m2t,"tag_user_by_id")}get tag_user_by_id(){return this[Qgo]||y((f6=this.action(),p(f6.rx,Function)?f6.rx(ADMIN):f6.rx=ADMIN,p(f6.rpc,Function)?f6.rpc():f6.rpc=!0,f6.callback=!1,f6),this,m2t,"tag_user_by_id",Qgo,ch.prototype)}set untag_user_by_id(e){this.untag_user_by_id.$set(e,this,$2t,"untag_user_by_id")}get untag_user_by_id(){return this.untag_user_by_id.$get(this,$2t,"untag_user_by_id")}get untag_user_by_id(){return this[e6o]||y((m6=this.action(),p(m6.rx,Function)?m6.rx(ADMIN):m6.rx=ADMIN,p(m6.rpc,Function)?m6.rpc():m6.rpc=!0,m6.callback=!1,m6),this,$2t,"untag_user_by_id",e6o,ch.prototype)}set sync_all(e){this.sync_all.$set(e,this,y2t,"sync_all")}get sync_all(){return this.sync_all.$get(this,y2t,"sync_all")}get sync_all(){return this[t6o]||y(($6=this.action(),p($6.rx,Function)?$6.rx(ADMIN):$6.rx=ADMIN,p($6.rpc,Function)?$6.rpc():$6.rpc=!0,$6.callback=!1,$6),this,y2t,"sync_all",t6o,ch.prototype)}set sync_tags(e){this.sync_tags.$set(e,this,b2t,"sync_tags")}get sync_tags(){return this.sync_tags.$get(this,b2t,"sync_tags")}get sync_tags(){return this[r6o]||y((y6=this.action(),p(y6.rx,Function)?y6.rx(ADMIN):y6.rx=ADMIN,p(y6.rpc,Function)?y6.rpc():y6.rpc=!0,y6.callback=!1,y6),this,b2t,"sync_tags",r6o,ch.prototype)}set sync_all_users(e){this.sync_all_users.$set(e,this,g2t,"sync_all_users")}get sync_all_users(){return this.sync_all_users.$get(this,g2t,"sync_all_users")}get sync_all_users(){return this[o6o]||y((E1=this.action(),p(E1.atomic,Function)?E1.atomic():E1.atomic=!0,p(E1.rx,Function)?E1.rx(ADMIN):E1.rx=ADMIN,p(E1.rpc,Function)?E1.rpc():E1.rpc=!0,E1.callback=!1,E1),this,g2t,"sync_all_users",o6o,ch.prototype)}};E(ch,Wbn,"ConvertKitService",0);var u2e=ch;globalThis.ConvertKitService=u2e;var Zbn=Symbol(),Jv=class Jv extends OPObject{set id(e){this.id.$set(e,this,k2t,"id")}get id(){return this.id.$get(this,k2t,"id")}get id(){return this[n6o]||y((HX=this.key(),p(HX.rwxcd,Function)?HX.rwxcd(ADMIN):HX.rwxcd=ADMIN,HX),this,k2t,"id",n6o,Jv.prototype)}set kit_id(e){this.kit_id.$set(e,this,_2t,"kit_id")}get kit_id(){return this.kit_id.$get(this,_2t,"kit_id")}get kit_id(){return this[i6o]||y((BX=this.string(),p(BX.tip,Function)?BX.tip("Kit ID"):BX.tip="Kit ID",BX),this,_2t,"kit_id",i6o,Jv.prototype)}set name(e){this.name.$set(e,this,x2t,"name")}get name(){return this.name.$get(this,x2t,"name")}get name(){return this[s6o]||y((x6o=this.string(),x6o),this,x2t,"name",s6o,Jv.prototype)}set created_at(e){this.created_at.$set(e,this,v2t,"created_at")}get created_at(){return this.created_at.$get(this,v2t,"created_at")}get created_at(){return this[l6o]||y((v6o=this.ts(),v6o),this,v2t,"created_at",l6o,Jv.prototype)}};E(Jv,Zbn,"ConvertKitTag",0);var c2e=Jv;globalThis.ConvertKitTag=c2e;var Gbn=Symbol(),fu=class fu extends OPEmbed{set kit_id(e){this.kit_id.$set(e,this,w2t,"kit_id")}get kit_id(){return this.kit_id.$get(this,w2t,"kit_id")}get kit_id(){return this[a6o]||y((l3=this.string(),p(l3.tip,Function)?l3.tip("User Kit ID"):l3.tip="User Kit ID",p(l3.rw,Function)?l3.rw(ADMIN):l3.rw=ADMIN,l3),this,w2t,"kit_id",a6o,fu.prototype)}set tags(e){this.tags.$set(e,this,S2t,"tags")}get tags(){return this.tags.$get(this,S2t,"tags")}get tags(){return this[u6o]||y((VX=this.refs(c2e),p(VX.rw,Function)?VX.rw(ADMIN):VX.rw=ADMIN,VX),this,S2t,"tags",u6o,fu.prototype)}set first_name(e){this.first_name.$set(e,this,C2t,"first_name")}get first_name(){return this.first_name.$get(this,C2t,"first_name")}get first_name(){return this[c6o]||y((zX=this.string(),p(zX.rw,Function)?zX.rw(ADMIN):zX.rw=ADMIN,zX),this,C2t,"first_name",c6o,fu.prototype)}set email_address(e){this.email_address.$set(e,this,E2t,"email_address")}get email_address(){return this.email_address.$get(this,E2t,"email_address")}get email_address(){return this[h6o]||y((qX=this.string(),p(qX.rw,Function)?qX.rw(ADMIN):qX.rw=ADMIN,qX),this,E2t,"email_address",h6o,fu.prototype)}set created_at(e){this.created_at.$set(e,this,j2t,"created_at")}get created_at(){return this.created_at.$get(this,j2t,"created_at")}get created_at(){return this[p6o]||y((WX=this.ts(),p(WX.rw,Function)?WX.rw(ADMIN):WX.rw=ADMIN,WX),this,j2t,"created_at",p6o,fu.prototype)}set last_sync(e){this.last_sync.$set(e,this,A2t,"last_sync")}get last_sync(){return this.last_sync.$get(this,A2t,"last_sync")}get last_sync(){return this[d6o]||y((ZX=this.ts(),p(ZX.rw,Function)?ZX.rw(ADMIN):ZX.rw=ADMIN,ZX),this,A2t,"last_sync",d6o,fu.prototype)}get ck(){return APP.convertkit}set does_not_exist(e){this.does_not_exist.$set(e,this,U2t,"does_not_exist")}get does_not_exist(){return this.does_not_exist.$get(this,U2t,"does_not_exist")}get does_not_exist(){return this[f6o]||y((a3=this.bool(),p(a3.rw,Function)?a3.rw(ADMIN):a3.rw=ADMIN,p(a3.tip,Function)?a3.tip("User does not exist in Kit"):a3.tip="User does not exist in Kit",a3),this,U2t,"does_not_exist",f6o,fu.prototype)}set state(e){this.state.$set(e,this,P2t,"state")}get state(){return this.state.$get(this,P2t,"state")}get state(){return this[m6o]||y((u3=this.enum({active:{},cancelled:{},bounced:{},complained:{},inactive:{}}),p(u3.rw,Function)?u3.rw(ADMIN):u3.rw=ADMIN,p(u3.tip,Function)?u3.tip("active == confirmed and inactive == unconfirmed"):u3.tip="active == confirmed and inactive == unconfirmed",u3),this,P2t,"state",m6o,fu.prototype)}get user(){return this.$root}set add_tag(e){this.add_tag.$set(e,this,T2t,"add_tag")}get add_tag(){return this.add_tag.$get(this,T2t,"add_tag")}get add_tag(){return this[$6o]||y((b6=this.action(),p(b6.rx,Function)?b6.rx(ADMIN):b6.rx=ADMIN,p(b6.rpc,Function)?b6.rpc():b6.rpc=!0,b6.callback=!1,b6),this,T2t,"add_tag",$6o,fu.prototype)}set remove_tag(e){this.remove_tag.$set(e,this,O2t,"remove_tag")}get remove_tag(){return this.remove_tag.$get(this,O2t,"remove_tag")}get remove_tag(){return this[y6o]||y((g6=this.action(),p(g6.rx,Function)?g6.rx(ADMIN):g6.rx=ADMIN,p(g6.rpc,Function)?g6.rpc():g6.rpc=!0,g6.callback=!1,g6),this,O2t,"remove_tag",y6o,fu.prototype)}set has_tag(e){this.has_tag.$set(e,this,R2t,"has_tag")}get has_tag(){return this.has_tag.$get(this,R2t,"has_tag")}get has_tag(){return this[b6o]||y((k6=this.action(),p(k6.rx,Function)?k6.rx(ADMIN):k6.rx=ADMIN,p(k6.rpc,Function)?k6.rpc():k6.rpc=!0,k6.callback=!1,k6),this,R2t,"has_tag",b6o,fu.prototype)}set sync(e){this.sync.$set(e,this,M2t,"sync")}get sync(){return this.sync.$get(this,M2t,"sync")}get sync(){return this[g6o]||y((_6=this.action(),p(_6.rx,Function)?_6.rx(ADMIN):_6.rx=ADMIN,p(_6.rpc,Function)?_6.rpc():_6.rpc=!0,_6.callback=!1,_6),this,M2t,"sync",g6o,fu.prototype)}};E(fu,Gbn,"UserConvertKit",0);var h2e=fu;globalThis.UserConvertKit=h2e;var Ybn=Symbol(),N2t=class N2t{set convertkit(e){this.convertkit.$set(e,this,L2t,"convertkit")}get convertkit(){return this.convertkit.$get(this,L2t,"convertkit")}get convertkit(){return this[k6o]||y((GX=this.embed(u2e),p(GX.rw,Function)?GX.rw(ADMIN):GX.rw=ADMIN,GX),this,L2t,"convertkit",k6o,App.prototype)}};E(N2t,Ybn,"App",1,App);var w6o=N2t,Xbn=Symbol(),I2t=class I2t{set convertkit(e){this.convertkit.$set(e,this,D2t,"convertkit")}get convertkit(){return this.convertkit.$get(this,D2t,"convertkit")}get convertkit(){return this[_6o]||y((YX=this.embed(h2e),p(YX.rw,Function)?YX.rw(ADMIN):YX.rw=ADMIN,YX),this,D2t,"convertkit",_6o,User.prototype)}};E(I2t,Xbn,"User",1,User);var S6o=I2t;T();oe();ge(),dt(),$e();var F2t=Symbol("real-delete-dangerous"),C6o=Symbol(),H2t=Symbol("real-delete-dangerous-srv"),E6o=Symbol(),B2t=Symbol("wipe_reason"),j6o=Symbol(),V2t=Symbol("email"),A6o=Symbol(),z2t=Symbol("wipe"),U6o=Symbol(),q2t=Symbol("wiped"),P6o=Symbol(),W2t=Symbol("wipe_reason"),T6o=Symbol(),Z2t=Symbol("delete-account"),O6o=Symbol(),G2t=Symbol("wipe-data-dangerous"),R6o=Symbol(),Y2t=Symbol("unsubscribe-and-real-delete-dangerous"),M6o=Symbol(),X2t=Symbol("wiped"),L6o=Symbol(),K2t=Symbol("wipe-data-dangerous"),D6o=Symbol(),lT,x6,N6o,I6o,aT,p2e=Symbol(),F6o=Symbol(),H6o=Symbol(),B6o=Symbol(),V6o=Symbol(),z6o=Symbol(),uT=Symbol(),Kbn=Symbol(),cT=Symbol(),Jbn=Symbol(),d2e=Symbol(),q6o=Symbol(),hT=Symbol(),Qbn=Symbol(),pT=Symbol(),egn=Symbol(),f2e=Symbol(),W6o=Symbol(),dT=Symbol(),tgn=Symbol(),Z6o=Symbol(),fT=Symbol(),rgn=Symbol(),mT=Symbol(),ogn=Symbol(),m2e=Symbol(),G6o=Symbol(),$T=Symbol(),ngn=Symbol(),Y6o=Symbol(),yT=Symbol(),ign=Symbol(),bT=Symbol(),sgn=Symbol(),XX,KX,gT,$2e=Symbol(),X6o=Symbol(),v6,w6,K6o,S6,JX=Symbol.for("##up"),QX=Symbol.for("##register"),y2e=Symbol.for("#getSlot"),li=Symbol.for("#afterVisit"),J6o=Symbol.for("#appendChild"),_2=Symbol.for("#getRenderContext"),x2=Symbol.for("#isRichElement"),v2=Symbol.for("#insertInto"),w2=Symbol.for("#replaceWith"),lgn=Symbol(),Q2t=class Q2t{set realdeletedangerous(e){this.realdeletedangerous.$set(e,this,F2t,"realdeletedangerous")}get realdeletedangerous(){return this.realdeletedangerous.$get(this,F2t,"realdeletedangerous")}get realdeletedangerous(){return this[C6o]||y((lT=this.action(),p(lT.rx,Function)?lT.rx(ADMIN):lT.rx=ADMIN,lT.callback=async function(){return await this.realdeletedangeroussrv(),this.unmount()},lT),this,F2t,"realdeletedangerous",C6o,OPObject.prototype)}set realdeletedangeroussrv(e){this.realdeletedangeroussrv.$set(e,this,H2t,"realdeletedangeroussrv")}get realdeletedangeroussrv(){return this.realdeletedangeroussrv.$get(this,H2t,"realdeletedangeroussrv")}get realdeletedangeroussrv(){return this[E6o]||y((x6=this.action(),p(x6.rx,Function)?x6.rx(ADMIN):x6.rx=ADMIN,p(x6.rpc,Function)?x6.rpc():x6.rpc=!0,x6.callback=!1,x6),this,H2t,"realdeletedangeroussrv",E6o,OPObject.prototype)}};E(Q2t,lgn,"OPObject",1,OPObject);var Q6o=Q2t,agn=Symbol(),Qv=class Qv extends Ve("op-stack-modal","OpStackModalComponent",de){set wipe_reason(e){this.wipe_reason.$set(e,this,B2t,"wipe_reason")}get wipe_reason(){return this.wipe_reason.$get(this,B2t,"wipe_reason")}get wipe_reason(){return this[j6o]||y((N6o=this.text(),N6o),this,B2t,"wipe_reason",j6o,Qv.prototype)}set email(e){this.email.$set(e,this,V2t,"email")}get email(){return this.email.$get(this,V2t,"email")}get email(){return this[A6o]||y((I6o=this.text(),I6o),this,V2t,"email",A6o,Qv.prototype)}set wipe(e){this.wipe.$set(e,this,z2t,"wipe")}get wipe(){return this.wipe.$get(this,z2t,"wipe")}get wipe(){return this[U6o]||y((aT=this.action(),p(aT.label,Function)?aT.label("confirm deletion"):aT.label="confirm deletion",aT.callback=async function(){var e,t;return this.data.email!=this.email?OP.toast("Entered email does not match your account."):((t=(e=this.wipe_reason)==null?void 0:e.trim)!=null&&t.call(e)&&await this.data.update({wipe_reason:this.wipe_reason}),await this.data.delete_helpscout_data(),await this.data.wipedatadangerous(),globalThis.localStorage.clear(),globalThis.sessionStorage.clear(),await APP.signout(),this.end())},aT),this,z2t,"wipe",U6o,Qv.prototype)}body(){var ut,Rt,St,Yt;var e=H(),t=this,r=this._ns_||"",o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me;if(!this.state&&this.data.legacy_id)return e.this=this,n=i=1,(o=e[p2e])||(n=i=0,o=e[p2e]=o=R("op-sheet",null,`${r}`,null)),n||(o[JX]=e._),n||((ut=o[QX])==null||ut.call(o,e,p2e)),s=o[y2e]("__",o),n||(a=w("div",s,`%head ${r}`,"V1 User")),n||(u=w("div",s,`%body ${r}`,null)),n||(c=w("p",u,`${r}`,"Looks like you have a v1 account. If you wish to delete your v1 account, please first sign in:")),d=f=1,(h=o[F6o])||(d=f=0,o[F6o]=h=R("op-button",u,`vg-aj red ${r}`,null)),d||(h.label="V1 Sign In"),d||h.on$("click",{$_:[function(rr,er){return window.open("https://v1.scrimba.com/#sign-in")}]},this),m=Sw,m===o[H6o]||(h.icon=o[H6o]=m),d||!h.setup||h.setup(f,$),h[li](f),d||u[J6o](h),n||(b=w("p",u,`${r}`,"Then delete your v1 account:")),x=k=1,(g=o[B6o])||(x=k=0,o[B6o]=g=R("op-button",u,`vg-al red ${r}`,null)),x||(g.label="Delete V1 Account"),x||g.on$("click",{$_:[function(rr,er){return window.open("https://v1.scrimba.com/settings#user-delete")}]},this),_=wf,_===o[V6o]||(g.icon=o[V6o]=_),x||!g.setup||g.setup(k,S),g[li](k),x||u[J6o](g),C=j=1,(v=o[z6o])||(C=j=0,o[z6o]=v=w("div",s,`%foot ${r}`,null)),P=v[_2](Kbn),O=L=1,(U=P.run(this.obutton(this.back)))||(O=L=0,P.cache(U=M(P.value,v,`${r}`,null))),U[x2]&&((!O||L&2)&&U.flags.reconcile(uT,`${r}`),O||!U.setup||U.setup(L,P),U[li](L)),U==v[uT]||!v[uT]&&(v[uT]=U)[v2](v)||v[uT][w2](v[uT]=U,v),I=v[_2](Jbn),N=V=1,(F=I.run(this.obutton(this.next)))||(N=V=0,I.cache(F=M(I.value,v,`${r}`,null))),F[x2]&&(N||F.on$("click",{$_:[function(rr,er){return e.this.go("sure")}]},this),(!N||V&2)&&F.flags.reconcile(cT,`${r}`),N||!F.setup||F.setup(V,I),F[li](V)),F==v[cT]||!v[cT]&&(v[cT]=F)[v2](v)||v[cT][w2](v[cT]=F,v),C||!v.setup||v.setup(j,W),v[li](j),n||e.sym||!o.setup||o.setup(i,e,p2e),e.sym||o[li](i),o;if(!this.state||this.state=="sure")return e.this=this,q=Y=1,(z=e[d2e])||(q=Y=0,z=e[d2e]=z=R("op-sheet",null,`${r}`,null)),q||(z[JX]=e._),q||((Rt=z[QX])==null||Rt.call(z,e,d2e)),K=z[y2e]("__",z),q||(X=w("div",K,`%head ${r}`,"Are you sure?")),q||(Z=w("div",K,`%body ${r}`,null)),q||(Z.md=`
				This action is irreversible. Deleting your V2 account will:

				- Delete all personal data associated with your V2 account
				- Delete all V2 course progress
				- Delete all V2 scrims, solutions, and scribbles
				- Cancel any active subscriptions
				- Unsubscribe you from emails
				- Revoke relevant Discord roles
				- Delete HelpScout support data 
				`),ee=te=1,(Q=z[q6o])||(ee=te=0,z[q6o]=Q=w("div",K,`%foot ${r}`,null)),ne=Q[_2](Qbn),J=me=1,(ie=ne.run(this.obutton(this.back)))||(J=me=0,ne.cache(ie=M(ne.value,Q,`${r}`,null))),ie[x2]&&((!J||me&2)&&ie.flags.reconcile(hT,`${r}`),J||!ie.setup||ie.setup(me,ne),ie[li](me)),ie==Q[hT]||!Q[hT]&&(Q[hT]=ie)[v2](Q)||Q[hT][w2](Q[hT]=ie,Q),ce=Q[_2](egn),we=ae=1,(ye=ce.run(this.obutton(this.next)))||(we=ae=0,ce.cache(ye=M(ce.value,Q,`${r}`,null))),ye[x2]&&(we||(ye.label="yes, i'm sure"),we||ye.on$("click",{$_:[function(rr,er){return e.this.go("why")}]},this),(!we||ae&2)&&ye.flags.reconcile(pT,`${r}`),we||!ye.setup||ye.setup(ae,ce),ye[li](ae)),ye==Q[pT]||!Q[pT]&&(Q[pT]=ye)[v2](Q)||Q[pT][w2](Q[pT]=ye,Q),ee||!Q.setup||Q.setup(te,be),Q[li](te),q||e.sym||!z.setup||z.setup(Y,e,d2e),e.sym||z[li](Y),z;if(this.state=="why")return e.this=this,Ae=ve=1,(_e=e[f2e])||(Ae=ve=0,_e=e[f2e]=_e=R("op-sheet",null,`${r}`,null)),Ae||(_e[JX]=e._),Ae||((St=_e[QX])==null||St.call(_e,e,f2e)),Pe=_e[y2e]("__",_e),Ae||(He=w("div",Pe,`%head ${r}`,"Tell us why")),Be=je=1,(Ue=_e[W6o])||(Be=je=0,_e[W6o]=Ue=w("div",Pe,`%body ${r}`,null)),Be||(ue=w("p",Ue,`${r}`,"Let us know why you're leaving if you have a moment. If not, just hit next.")),xe=Ue[_2](tgn),Oe=qe=1,(Re=xe.run(OPVIEW(this.$.wipe_reason,"field")))||(Oe=qe=0,xe.cache(Re=M(xe.value,Ue,`${r}`,null))),Re[x2]&&((!Oe||qe&2)&&Re.flags.reconcile(dT,`${r}`),Oe||!Re.setup||Re.setup(qe,xe),Re[li](qe)),Re==Ue[dT]||!Ue[dT]&&(Ue[dT]=Re)[v2](Ue)||Ue[dT][w2](Ue[dT]=Re,Ue),Be||!Ue.setup||Ue.setup(je,Ne),Ue[li](je),Ke=Te=1,(Ie=_e[Z6o])||(Ke=Te=0,_e[Z6o]=Ie=w("div",Pe,`%foot ${r}`,null)),Ce=Ie[_2](rgn),et=ft=1,(Ze=Ce.run(this.obutton(this.back)))||(et=ft=0,Ce.cache(Ze=M(Ce.value,Ie,`${r}`,null))),Ze[x2]&&((!et||ft&2)&&Ze.flags.reconcile(fT,`${r}`),et||!Ze.setup||Ze.setup(ft,Ce),Ze[li](ft)),Ze==Ie[fT]||!Ie[fT]&&(Ie[fT]=Ze)[v2](Ie)||Ie[fT][w2](Ie[fT]=Ze,Ie),Ge=Ie[_2](ogn),ct=rt=1,(Je=Ge.run(this.obutton(this.next)))||(ct=rt=0,Ge.cache(Je=M(Ge.value,Ie,`${r}`,null))),Je[x2]&&(ct||Je.on$("click",{$_:[function(rr,er){return e.this.go("bye")}]},this),(!ct||rt&2)&&Je.flags.reconcile(mT,`${r}`),ct||!Je.setup||Je.setup(rt,Ge),Je[li](rt)),Je==Ie[mT]||!Ie[mT]&&(Ie[mT]=Je)[v2](Ie)||Ie[mT][w2](Ie[mT]=Je,Ie),Ke||!Ie.setup||Ie.setup(Te,$t),Ie[li](Te),Ae||e.sym||!_e.setup||_e.setup(ve,e,f2e),e.sym||_e[li](ve),_e;if(this.state=="bye")return tt=ze=1,(it=e[m2e])||(tt=ze=0,it=e[m2e]=it=R("op-sheet",null,`${r}`,null)),tt||(it[JX]=e._),tt||((Yt=it[QX])==null||Yt.call(it,e,m2e)),at=it[y2e]("__",it),tt||(st=w("div",at,`%head ${r}`,"Goodbye!")),vt=nt=1,(yt=it[G6o])||(vt=nt=0,it[G6o]=yt=w("div",at,`%body ${r}`,null)),vt||(Ct=w("p",yt,`${r}`,"We wish you luck on your coding journey. To complete your account deletion, please type your email below.")),jt=yt[_2](ngn),Xe=ht=1,(bt=jt.run(OPVIEW(this.$.email,"field")))||(Xe=ht=0,jt.cache(bt=M(jt.value,yt,`${r}`,null))),bt[x2]&&((!Xe||ht&2)&&bt.flags.reconcile($T,`${r}`),Xe||!bt.setup||bt.setup(ht,jt),bt[li](ht)),bt==yt[$T]||!yt[$T]&&(yt[$T]=bt)[v2](yt)||yt[$T][w2](yt[$T]=bt,yt),vt||!yt.setup||yt.setup(nt,Dt),yt[li](nt),At=Ut=1,(mt=it[Y6o])||(At=Ut=0,it[Y6o]=mt=w("div",at,`%foot ${r}`,null)),kt=mt[_2](ign),xt=Mt=1,(_t=kt.run(this.obutton(this.back)))||(xt=Mt=0,kt.cache(_t=M(kt.value,mt,`${r}`,null))),_t[x2]&&((!xt||Mt&2)&&_t.flags.reconcile(yT,`${r}`),xt||!_t.setup||_t.setup(Mt,kt),_t[li](Mt)),_t==mt[yT]||!mt[yT]&&(mt[yT]=_t)[v2](mt)||mt[yT][w2](mt[yT]=_t,mt),Ot=mt[_2](sgn),lt=fe=1,(tr=Ot.run(this.obutton(this.wipe)))||(lt=fe=0,Ot.cache(tr=M(Ot.value,mt,`red ${r}`,null))),tr[x2]&&((!lt||fe&2)&&tr.flags.reconcile(bT,`red ${r}`),lt||!tr.setup||tr.setup(fe,Ot),tr[li](fe)),tr==mt[bT]||!mt[bT]&&(mt[bT]=tr)[v2](mt)||mt[bT][w2](mt[bT]=tr,mt),At||!mt.setup||mt.setup(Ut,Me),mt[li](Ut),tt||e.sym||!it.setup||it.setup(ze,e,m2e),e.sym||it[li](ze),it}};E(Qv,agn,"UserDeleteModal",2),pe("user-delete-modal-vg-bl",Qv,{name:"UserDeleteModal"});var J2t=Qv,ugn=Symbol(),emt=class emt{set wiped(e){this.wiped.$set(e,this,q2t,"wiped")}get wiped(){return this.wiped.$get(this,q2t,"wiped")}get wiped(){return this[P6o]||y((XX=this.ts(),p(XX.rw,Function)?XX.rw(OWNER|ADMIN):XX.rw=OWNER|ADMIN,XX),this,q2t,"wiped",P6o,User.prototype)}set wipe_reason(e){this.wipe_reason.$set(e,this,W2t,"wipe_reason")}get wipe_reason(){return this.wipe_reason.$get(this,W2t,"wipe_reason")}get wipe_reason(){return this[T6o]||y((KX=this.text(),p(KX.rw,Function)?KX.rw(OWNER|ADMIN):KX.rw=OWNER|ADMIN,KX),this,W2t,"wipe_reason",T6o,User.prototype)}set deleteaccount(e){this.deleteaccount.$set(e,this,Z2t,"deleteaccount")}get deleteaccount(){return this.deleteaccount.$get(this,Z2t,"deleteaccount")}get deleteaccount(){return this[O6o]||y((gT=this.action(),p(gT.rx,Function)?gT.rx(OWNER):gT.rx=OWNER,gT.callback=function(){var e=this;return Bt(function(){var s;var t,r=H(),o,n,i;return o=n=1,(t=r[$2e])||(o=n=0,t=r[$2e]=t=R(J2t,null,null,null)),o||(t[JX]=r._),o||((s=t[QX])==null||s.call(t,r,$2e)),i=e,i===t[X6o]||(t.data=t[X6o]=i),o||r.sym||!t.setup||t.setup(n,r,$2e),r.sym||t[li](n),t})},gT),this,Z2t,"deleteaccount",O6o,User.prototype)}set wipedatadangerous(e){this.wipedatadangerous.$set(e,this,G2t,"wipedatadangerous")}get wipedatadangerous(){return this.wipedatadangerous.$get(this,G2t,"wipedatadangerous")}get wipedatadangerous(){return this[R6o]||y((v6=this.action(),p(v6.rx,Function)?v6.rx(OWNER):v6.rx=OWNER,p(v6.rpc,Function)?v6.rpc():v6.rpc=!0,v6.callback=!1,v6),this,G2t,"wipedatadangerous",R6o,User.prototype)}};E(emt,ugn,"User",1,User);var eko=emt,cgn=Symbol(),tmt=class tmt{set unsubscribeandrealdeletedangerous(e){this.unsubscribeandrealdeletedangerous.$set(e,this,Y2t,"unsubscribeandrealdeletedangerous")}get unsubscribeandrealdeletedangerous(){return this.unsubscribeandrealdeletedangerous.$get(this,Y2t,"unsubscribeandrealdeletedangerous")}get unsubscribeandrealdeletedangerous(){return this[M6o]||y((w6=this.action(),p(w6.rx,Function)?w6.rx(OPSRV):w6.rx=OPSRV,p(w6.rpc,Function)?w6.rpc():w6.rpc=!0,w6.callback=!1,w6),this,Y2t,"unsubscribeandrealdeletedangerous",M6o,OPEmail.prototype)}};E(tmt,cgn,"OPEmail",1,OPEmail);var tko=tmt,hgn=Symbol(),rmt=class rmt{set wiped(e){this.wiped.$set(e,this,X2t,"wiped")}get wiped(){return this.wiped.$get(this,X2t,"wiped")}get wiped(){return this[L6o]||y((K6o=this.ts(),K6o),this,X2t,"wiped",L6o,StripeCustomer.prototype)}set wipedatadangerous(e){this.wipedatadangerous.$set(e,this,K2t,"wipedatadangerous")}get wipedatadangerous(){return this.wipedatadangerous.$get(this,K2t,"wipedatadangerous")}get wipedatadangerous(){return this[D6o]||y((S6=this.action(),p(S6.rx,Function)?S6.rx(ADMIN):S6.rx=ADMIN,p(S6.rpc,Function)?S6.rpc():S6.rpc=!0,S6.callback=!1,S6),this,K2t,"wipedatadangerous",D6o,StripeCustomer.prototype)}};E(rmt,hgn,"StripeCustomer",1,StripeCustomer);var rko=rmt;T();oe();var omt=Symbol("init"),oko=Symbol(),nmt=Symbol("notify"),nko=Symbol(),imt=Symbol("run"),iko=Symbol(),smt=Symbol("check-org-pros"),sko=Symbol(),lmt=Symbol("check-sub-pros"),lko=Symbol(),amt=Symbol("fix-sub-pros"),ako=Symbol(),umt=Symbol("check-legacy-pros"),uko=Symbol(),cmt=Symbol("check-di"),cko=Symbol(),C6,E6,j6,A6,U6,Eni=le("&.id",globalThis,l=>l.id),P6,T6,jni=le("&.uid",globalThis,l=>l.uid),Ani=le("&.legacy_id",globalThis,l=>l.legacy_id),O6,pgn=Symbol(),J0=class J0 extends OPEmbed{set init(e){this.init.$set(e,this,omt,"init")}get init(){return this.init.$get(this,omt,"init")}get init(){return this[oko]||y((C6=this.action(),p(C6.rx,Function)?C6.rx(ADMIN):C6.rx=ADMIN,p(C6.rpc,Function)?C6.rpc():C6.rpc=!0,C6.callback=!1,C6),this,omt,"init",oko,J0.prototype)}set notify(e){this.notify.$set(e,this,nmt,"notify")}get notify(){return this.notify.$get(this,nmt,"notify")}get notify(){return this[nko]||y((E6=this.action(),p(E6.rx,Function)?E6.rx(ADMIN):E6.rx=ADMIN,p(E6.rpc,Function)?E6.rpc():E6.rpc=!0,E6.callback=!1,E6),this,nmt,"notify",nko,J0.prototype)}set run(e){this.run.$set(e,this,imt,"run")}get run(){return this.run.$get(this,imt,"run")}get run(){return this[iko]||y((j6=this.action(),p(j6.rx,Function)?j6.rx(ADMIN):j6.rx=ADMIN,p(j6.rpc,Function)?j6.rpc():j6.rpc=!0,j6.callback=!1,j6),this,imt,"run",iko,J0.prototype)}set checkorgpros(e){this.checkorgpros.$set(e,this,smt,"checkorgpros")}get checkorgpros(){return this.checkorgpros.$get(this,smt,"checkorgpros")}get checkorgpros(){return this[sko]||y((A6=this.action(),p(A6.rx,Function)?A6.rx(ADMIN):A6.rx=ADMIN,p(A6.rpc,Function)?A6.rpc():A6.rpc=!0,A6.callback=!1,A6),this,smt,"checkorgpros",sko,J0.prototype)}set checksubpros(e){this.checksubpros.$set(e,this,lmt,"checksubpros")}get checksubpros(){return this.checksubpros.$get(this,lmt,"checksubpros")}get checksubpros(){return this[lko]||y((U6=this.action(),p(U6.rx,Function)?U6.rx(ADMIN):U6.rx=ADMIN,p(U6.rpc,Function)?U6.rpc():U6.rpc=!0,U6.callback=!1,U6),this,lmt,"checksubpros",lko,J0.prototype)}set fixsubpros(e){this.fixsubpros.$set(e,this,amt,"fixsubpros")}get fixsubpros(){return this.fixsubpros.$get(this,amt,"fixsubpros")}get fixsubpros(){return this[ako]||y((P6=this.action(),p(P6.rx,Function)?P6.rx(ADMIN):P6.rx=ADMIN,p(P6.rpc,Function)?P6.rpc():P6.rpc=!0,P6.callback=!1,P6),this,amt,"fixsubpros",ako,J0.prototype)}set checklegacypros(e){this.checklegacypros.$set(e,this,umt,"checklegacypros")}get checklegacypros(){return this.checklegacypros.$get(this,umt,"checklegacypros")}get checklegacypros(){return this[uko]||y((T6=this.action(),p(T6.rx,Function)?T6.rx(ADMIN):T6.rx=ADMIN,p(T6.rpc,Function)?T6.rpc():T6.rpc=!0,T6.callback=!1,T6),this,umt,"checklegacypros",uko,J0.prototype)}set checkdi(e){this.checkdi.$set(e,this,cmt,"checkdi")}get checkdi(){return this.checkdi.$get(this,cmt,"checkdi")}get checkdi(){return this[cko]||y((O6=this.action(),p(O6.rx,Function)?O6.rx(ADMIN):O6.rx=ADMIN,p(O6.rpc,Function)?O6.rpc():O6.rpc=!0,O6.callback=!1,O6),this,cmt,"checkdi",cko,J0.prototype)}};E(J0,pgn,"AppScheduler",0);var hmt=J0;globalThis.AppScheduler=hmt;T();oe();T();oe();T();oe();var dgn=Symbol(),dmt=class dmt extends OPEmbed{p(...e){return globalThis.OP_ELECTRON?console.log(...e):this.$root.p(...e)}get ide(){return this.$root.ide}get idenode(){var e,t,r;return(r=(t=(e=this.ide)==null?void 0:e.entries)==null?void 0:t.has)==null?void 0:r.call(t,this.$key)}get idenode(){return this.ide.entries.$sub(this.$key)}};E(dmt,dgn,"HostEmbed",0);var pmt=dmt;globalThis.HostEmbed=pmt;function fgn(l,e){return l[l.length+e]}var fmt=Symbol("value"),hko=Symbol(),mmt=Symbol("name"),pko=Symbol(),$mt=Symbol("size"),dko=Symbol(),ymt=Symbol("ino"),fko=Symbol(),bmt=Symbol("unlinked"),mko=Symbol(),gmt=Symbol("generated"),$ko=Symbol(),kmt=Symbol("up"),yko=Symbol(),_mt=Symbol("path"),bko=Symbol(),xmt=Symbol("abs"),gko=Symbol(),vmt=Symbol("body"),kko=Symbol(),wmt=Symbol("binary"),_ko=Symbol(),Smt=Symbol("asset"),xko=Symbol(),Cmt=Symbol("read"),vko=Symbol(),Emt=Symbol("read_rpc"),wko=Symbol(),jmt=Symbol("nodes"),Sko=Symbol(),Amt=Symbol("expanded"),Cko=Symbol(),Umt=Symbol("crawled"),Eko=Symbol(),Pmt=Symbol("watched"),jko=Symbol(),Tmt=Symbol("excluded?"),Ako=Symbol(),Omt=Symbol(),Rmt=Symbol("exclude"),Uko=Symbol(),Mmt=Symbol("fsignore"),Pko=Symbol(),eK,c3,Tko,tK,rK,Oko,Q0,Lmt,Dmt,oK,nK,iK,Nmt,kT,Rko,Mko,Lko,Dko,Imt,mgn=le("!&.ino",globalThis,l=>!l.ino),Nko,Fmt,$gn=Symbol.for("#matcher"),Iko=Symbol.for("#has"),b2e=Symbol.for("#stat"),Fko=Symbol.for("#syncedFromDisk"),_T=Symbol.for("#watcher");function Bmt(l){let e=0,t=l.length;for(;e<t;){if(e===1024)return!1;let r=l[e++];if(r===0||r<7||r>13&&r<32)return!0}return!1}var ygn=Symbol(),k2e=class k2e extends OPTuple{set value(e){this.value.$set(e,this,fmt,"value")}get value(){return this.value.$get(this,fmt,"value")}get value(){return this[hko]||y((eK=this.string(),p(eK.at,Function)?eK.at(0):eK.at=0,eK),this,fmt,"value",hko,k2e.prototype)}get regex(){return this.value.fspathRegex()}[$gn](e){return this[Iko](e)}[Iko](e){return e.file&&fgn(this.value,-1)=="/"?!1:e.name==this.value||this.regex.test(e.name)}};E(k2e,ygn,"FSExcludePattern",0);var g2e=k2e,bgn=Symbol(),ef=class ef extends HostEmbed{set name(e){this.name.$set(e,this,mmt,"name")}get name(){return this.name.$get(this,mmt,"name")}get name(){return this[pko]||y((c3=this.string(),p(c3.guard,Function)?c3.guard(this.rename):c3.guard=this.rename,p(c3.watch,Function)?c3.watch(this.changed):c3.watch=this.changed,c3),this,mmt,"name",pko,ef.prototype)}set size(e){this.size.$set(e,this,$mt,"size")}get size(){return this.size.$get(this,$mt,"size")}get size(){return this[dko]||y((Tko=this.int(),Tko),this,$mt,"size",dko,ef.prototype)}set ino(e){this.ino.$set(e,this,ymt,"ino")}get ino(){return this.ino.$get(this,ymt,"ino")}get ino(){return this[fko]||y((tK=this.int(),p(tK.watch,Function)?tK.watch(this.changed):tK.watch=this.changed,tK),this,ymt,"ino",fko,ef.prototype)}set unlinked(e){this.unlinked.$set(e,this,bmt,"unlinked")}get unlinked(){return this.unlinked.$get(this,bmt,"unlinked")}get unlinked(){return this[mko]||y((rK=this.bool(),p(rK.guard,Function)?rK.guard(this.unlinked_guard):rK.guard=this.unlinked_guard,rK),this,bmt,"unlinked",mko,ef.prototype)}set generated(e){this.generated.$set(e,this,gmt,"generated")}get generated(){return this.generated.$get(this,gmt,"generated")}get generated(){return this[$ko]||y((Oko=this.bool(),Oko),this,gmt,"generated",$ko,ef.prototype)}set up(e){this.up.$set(e,this,kmt,"up")}get up(){return this.up.$get(this,kmt,"up")}get up(){return this[yko]||y((Q0=this.ref(lK),p(Q0.guard,Function)?Q0.guard(this.move):Q0.guard=this.move,p(Q0.parent,Function)?Q0.parent():Q0.parent=!0,p(Q0.watch,Function)?Q0.watch(this.changed):Q0.watch=this.changed,Q0),this,kmt,"up",yko,ef.prototype)}get file(){return!1}get dir(){return!1}get fs(){return this.$root.fs}get inomap(){return this.fs.inos}sync(e){try{return this.$set(e,83887104)}catch(t){return this.p("sync failed",t)}}syncStat(){return!0}changed(e,t,r,o){return!0}moved(e,t,r=0){this.name}ino_sync(e,t){if(e&&this.inomap[e]!=this&&(this.inomap[e]=this,!0))return this.connected()}name_sync(){if(this.ino&&this.dir)return this.rewatch()}name_set(e,t){var r;return!this.ino&&((r=this.up)!=null&&r.ino)&&this.trypersist(),this.ino&&this.dir&&this.rewatch(),!0}trypersist(){var e;if(!this.ino&&((e=this.up)!=null&&e.ino))return!0}rename(e,t,r){return!0}move(e,t,r){return!0}up_set(e,t,r){if(!this.ino)return this.trypersist()}unlinked_guard(e,t,r){return!0}connected(){return!0}toTree(){let e={};for(let t=0,r=B(this.nodes),o=r.length;t<o;t++){let n=r[t];e[n.name]=n.toTree()}return e}set path(e){this.path.$set(e,this,_mt,"path")}get path(){return this.path.$get(this,_mt,"path")}get path(){return this[bko]||y((Lmt=this.get(),Lmt.callback=function(){return this.unlinked&&this.ino,(this.up?this.up.path:"")+"/"+(this.name||"")},Lmt),this,_mt,"path",bko,ef.prototype)}set abs(e){this.abs.$set(e,this,xmt,"abs")}get abs(){return this.abs.$get(this,xmt,"abs")}get abs(){return this[gko]||y((Dmt=this.get(),Dmt.callback=function(){return this.path},Dmt),this,xmt,"abs",gko,ef.prototype)}readSync(){return this.nfs.readFileSync(this.abs,"utf-8")}};E(ef,bgn,"HostFSEntry",0);var xT=ef;globalThis.HostFSEntry=xT;var ggn=Symbol(),h3=class h3 extends xT{get file(){return!0}set body(e){this.body.$set(e,this,vmt,"body")}get body(){return this.body.$get(this,vmt,"body")}get body(){return this[kko]||y((oK=this.text(),p(oK.watch,Function)?oK.watch(this.changed):oK.watch=this.changed,oK),this,vmt,"body",kko,h3.prototype)}set binary(e){this.binary.$set(e,this,wmt,"binary")}get binary(){return this.binary.$get(this,wmt,"binary")}get binary(){return this[_ko]||y((nK=this.bytea(),p(nK.watch,Function)?nK.watch(this.changed):nK.watch=this.changed,nK),this,wmt,"binary",_ko,h3.prototype)}set asset(e){this.asset.$set(e,this,Smt,"asset")}get asset(){return this.asset.$get(this,Smt,"asset")}get asset(){return this[xko]||y((iK=this.ref(OPAsset),p(iK.watch,Function)?iK.watch(this.changed):iK.watch=this.changed,iK),this,Smt,"asset",xko,h3.prototype)}toTree(){return this.body||{size:this.size}}connected(){}pullFromDisk(){return this}syncFromDisk(e=!1){let t=this[b2e];if(!this.asset&&(this[Fko]&&this.p(this.abs,"already synced from disk",this[Fko],t.mtime),t&&t.size<2*1024*1024)){let r=this.nfs.readFileSync(this.abs,null),o=Bmt(r);return this.p("SYNCING",this.abs,r.length),o?this.sync({binary:r}):this.sync({body:r.toString("utf8")})}}appendSync(e){return this.nfs.appendFileSync(this.path,e),this.syncStat()}body_set(e,t){if(this.ino&&this.path)return this.p("body_set",this.path,e,t),this.nfs.writeFileSync(this.path,e)}binary_set(e){if(this.ino&&this.path)return this.p("body_set",this.path,e,this.from),this.nfs.writeFileSync(this.path,e)}asset_set(e,t){var r;if(this.ino&&this.path&&e)return(r=e==null?void 0:e.writeToPath)==null?void 0:r.call(e,this.path)}trypersist(){var e,t,r,o;if(!this.ino&&((e=this.up)!=null&&e.ino)&&this.path){if(this.asset)return(r=(t=this.asset)==null?void 0:t.writeToPath)==null?void 0:r.call(t,this.path);if(this.binary?(this.p("write binary",this.path,this.binary.length),this.nfs.writeFileSync(this.path,this.binary,{encoding:null})):(this.p("write",this.path,(o=this.body||"")==null?void 0:o.length),this.nfs.writeFileSync(this.path,this.body||"")),this.syncStat(),this.body)return this.sync({body:this.body})}}repair(e){return this.p("repair file "+this.path)}set read(e){this.read.$set(e,this,Cmt,"read")}get read(){return this.read.$get(this,Cmt,"read")}get read(){return this[vko]||y((Nmt=this.action(),Nmt.callback=async function(){let e=await this.read_rpc();return e.body&&(this.$cloud&&(this.$cloud.body=e.body),this.$plain.body=e.body),e},Nmt),this,Cmt,"read",vko,h3.prototype)}set read_rpc(e){this.read_rpc.$set(e,this,Emt,"read_rpc")}get read_rpc(){return this.read_rpc.$get(this,Emt,"read_rpc")}get read_rpc(){return this[wko]||y((kT=this.action(),p(kT.rpc,Function)?kT.rpc():kT.rpc=!0,kT.callback=!1,kT),this,Emt,"read_rpc",wko,h3.prototype)}};E(h3,ggn,"HostFile",0);var ew=h3;globalThis.HostFile=ew;var kgn=Symbol(),tf=class tf extends xT{set nodes(e){this.nodes.$set(e,this,jmt,"nodes")}get nodes(){return this.nodes.$get(this,jmt,"nodes")}get nodes(){return this[Sko]||y((Rko=this.children(xT),Rko),this,jmt,"nodes",Sko,tf.prototype)}set expanded(e){this.expanded.$set(e,this,Amt,"expanded")}get expanded(){return this.expanded.$get(this,Amt,"expanded")}get expanded(){return this[Cko]||y((Mko=this.bool(),Mko),this,Amt,"expanded",Cko,tf.prototype)}set crawled(e){this.crawled.$set(e,this,Umt,"crawled")}get crawled(){return this.crawled.$get(this,Umt,"crawled")}get crawled(){return this[Eko]||y((Lko=this.bool(),Lko),this,Umt,"crawled",Eko,tf.prototype)}set watched(e){this.watched.$set(e,this,Pmt,"watched")}get watched(){return this.watched.$get(this,Pmt,"watched")}get watched(){return this[jko]||y((Dko=this.bool(),Dko),this,Pmt,"watched",jko,tf.prototype)}get dir(){return!0}get watched(){return!!this[_T]}set excluded(e){this.excluded.$set(e,this,Tmt,"excluded")}get excluded(){return this.excluded.$get(this,Tmt,"excluded")}get excluded(){return this[Ako]||y((Imt=this.memo(),Imt.callback=function(){let e=this.fs;for(let t=0,r=B(e.fsignore),o=r.length;t<o;t++){let n=r[t];if(Cn(this,n))return!0}return!1},Imt),this,Tmt,"excluded",Ako,tf.prototype)}mkfile(e,t){return this.$root.entries.build({name:e,body:t,up:this,as:ew})}mkdir(e){return this.$root.entries.build({name:e,up:this,as:tf})}find(e){return this.nodes.find(function(r){return r.name==e&&!r.unlinked})}trypersist(){var e;if(!this.ino&&((e=this.up)!=null&&e.ino))return this.nfs.mkdirSync(this.path),this.syncStat()}connected(){}watch(){var e=this;return this[_T]||(this.sync({watched:!0}),this[_T]=this.nfs.watch(this.abs,{persistent:!0},function(t,r){return e.onfsevent(t,r)})),this}unwatch(){return this[_T]&&(this[_T].close(),this[_T]=null),this}rewatch(){return this.unwatch(),this.watch()}onfsevent(e,t){var r=gt(this),o=this;r[Omt]??={};let n=this.np.resolve(this.abs,t),i=this.nfs.existsSync(n),s=i&&this.nfs.statSync(n);clearTimeout(r[Omt][t]);let a=this.find(t);if(this.p(e.toUpperCase(),n,i,s==null?void 0:s.ino,s==null?void 0:s.size,!!a,s==null?void 0:s.mtimeMs),a&&!i)return this.p("removed?!",a.unlinked),a.sync({unlinked:!0});if(i&&!a)return a=this.inomap[s.ino],a?a.sync({name:t,unlinked:!1,up:this,size:s.size}):(a=this.$root.entries.add({as:s.isDirectory()?tf:ew}),a[b2e]=s,a.sync({generated:!0,up:this,name:t,size:s.size,ino:s.ino}));if(i&&a&&(a&&a.ino&&a.ino!=s.ino&&this.p("ino changed?!",n),p(a,ew)&&e=="change"&&a.body!=null&&!a.asset))return(s==null?void 0:s.size)==0&&a.size>0?r[Omt][t]=setTimeout(function(){return o.p("syncFromDisk delayed",n),a.syncFromDisk()},10):a.syncFromDisk()}pullFromDisk(e={}){if(this.crawled&&!(e!=null&&e.force))return this.p("already crawled",this.path),this;if(this.syncStat(),this.excluded)return this;this.p(this.path,this.id,"pullFromDisk");let t=this.nfs.readdirSync(this.path);this.sync({crawled:!0});for(let r=0,o=B(t),n=o.length;r<n;r++){let i=o[r];if(Ye(i,".DS_Store"))continue;let s=this.np.resolve(this.abs,i),a=this.nfs.statSync(s),u=this.$root.entries.find(function(c){return c.ino==a.ino});u||(u=this.$root.entries.add({name:i,generated:!0,as:a.isDirectory()?tf:ew})),u[b2e]=a,u.sync({name:i,up:this,ino:a.ino}),u.pullFromDisk(e)}return this}};E(tf,kgn,"HostDir",0);var lK=tf;globalThis.HostDir=lK;var Hko=Symbol(),sK=class sK extends lK{constructor(){super(...arguments),super[A]||this[A](),re(this,Hko)}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.inos=e&&(o=e.inos)!==void 0?o:{}}set exclude(e){this.exclude.$set(e,this,Rmt,"exclude")}get exclude(){return this.exclude.$get(this,Rmt,"exclude")}get exclude(){return this[Uko]||y((Nko=this.tuples(g2e),Nko),this,Rmt,"exclude",Uko,sK.prototype)}set fsignore(e){this.fsignore.$set(e,this,Mmt,"fsignore")}get fsignore(){return this.fsignore.$get(this,Mmt,"fsignore")}get fsignore(){return this[Pko]||y((Fmt=this.memo(),Fmt.callback=function(){return["node_modules","out/",".DS_Store",".*/","dist/"].map(function(t){return g2e.new({value:t})})},Fmt),this,Mmt,"fsignore",Pko,sK.prototype)}get path(){return this.$root.cwd}};E(sK,Hko,"HostFSRoot",16);var Hmt=sK;globalThis.HostFSRoot=Hmt;T();oe();function _gn(l,e){return l[l.length+e]}var Vmt=Symbol("name"),Bko=Symbol(),zmt=Symbol("cols"),Vko=Symbol(),qmt=Symbol("rows"),zko=Symbol(),Wmt=Symbol("type"),qko=Symbol(),Zmt=Symbol("group"),Wko=Symbol(),Gmt=Symbol("init"),Zko=Symbol(),Ymt=Symbol("connect"),Gko=Symbol(),Xmt=Symbol("kill"),Yko=Symbol(),Kmt=Symbol("start"),Xko=Symbol(),Jmt=Symbol("write"),Kko=Symbol(),Qmt=Symbol("resize"),Jko=Symbol(),e$t=Symbol("connect"),Qko=Symbol(),t$t=Symbol("write"),e8o=Symbol(),t8o,r8o,o8o,aK,n8o,vT,r$t,wT,ST,CT,o$t,n$t,i$t,_2e=Symbol.for("#output"),xgn=Symbol(),hh=class hh extends HostEmbed{set name(e){this.name.$set(e,this,Vmt,"name")}get name(){return this.name.$get(this,Vmt,"name")}get name(){return this[Bko]||y((t8o=this.string(),t8o),this,Vmt,"name",Bko,hh.prototype)}set cols(e){this.cols.$set(e,this,zmt,"cols")}get cols(){return this.cols.$get(this,zmt,"cols")}get cols(){return this[Vko]||y((r8o=this.int(),r8o),this,zmt,"cols",Vko,hh.prototype)}set rows(e){this.rows.$set(e,this,qmt,"rows")}get rows(){return this.rows.$get(this,qmt,"rows")}get rows(){return this[zko]||y((o8o=this.int(),o8o),this,qmt,"rows",zko,hh.prototype)}set type(e){this.type.$set(e,this,Wmt,"type")}get type(){return this.type.$get(this,Wmt,"type")}get type(){return this[qko]||y((aK=this.string(),p(aK.fallback,Function)?aK.fallback(function(){return"bash"}):aK.fallback=function(){return"bash"},aK),this,Wmt,"type",qko,hh.prototype)}set group(e){this.group.$set(e,this,Zmt,"group")}get group(){return this.group.$get(this,Zmt,"group")}get group(){return this[Wko]||y((n8o=this.ref(),n8o),this,Zmt,"group",Wko,hh.prototype)}set init(e){this.init.$set(e,this,Gmt,"init")}get init(){return this.init.$get(this,Gmt,"init")}get init(){return this[Zko]||y((vT=this.action(),p(vT.rpc,Function)?vT.rpc():vT.rpc=!0,vT.callback=!1,vT),this,Gmt,"init",Zko,hh.prototype)}set connect(e){this.connect.$set(e,this,Ymt,"connect")}get connect(){return this.connect.$get(this,Ymt,"connect")}get connect(){return this[Gko]||y((r$t=this.action(),r$t.callback=async function(){let e=OPActionCall.new({action:this.start,params:[]}).send(this.$root);this.proc={output:"",resize:function(){return!0},write:function(t){return!0},kill:function(){return e.abort()}};for await(let t of B(e.body))this.proc.output+=t,this.idenode&&(this.idenode.output=this.proc.output);return this},r$t),this,Ymt,"connect",Gko,hh.prototype)}set kill(e){this.kill.$set(e,this,Xmt,"kill")}get kill(){return this.kill.$get(this,Xmt,"kill")}get kill(){return this[Yko]||y((wT=this.action(),p(wT.if,Function)?wT.if(function(){return this.proc}):wT.if=function(){return this.proc},wT.callback=function(){return this.proc.kill()},wT),this,Xmt,"kill",Yko,hh.prototype)}set start(e){this.start.$set(e,this,Kmt,"start")}get start(){return this.start.$get(this,Kmt,"start")}get start(){return this[Xko]||y((ST=this.action(),p(ST.rpc,Function)?ST.rpc():ST.rpc=!0,ST.callback=!1,ST),this,Kmt,"start",Xko,hh.prototype)}set write(e){this.write.$set(e,this,Jmt,"write")}get write(){return this.write.$get(this,Jmt,"write")}get write(){return this[Kko]||y((CT=this.action(),p(CT.rpc,Function)?CT.rpc():CT.rpc=!0,CT.callback=!1,CT),this,Jmt,"write",Kko,hh.prototype)}};E(hh,xgn,"HostTerminal",0);var x2e=hh;globalThis.HostTerminal=x2e;var vgn=Symbol(),ET=class ET extends x2e{get output(){return this[_2e]??(this.proc?this.proc.output:null)}get widget(){var t;let e=this.$root.ide;return(t=e==null?void 0:e.entries)==null?void 0:t.$rich[this.$key]}set resize(e){this.resize.$set(e,this,Qmt,"resize")}get resize(){return this.resize.$get(this,Qmt,"resize")}get resize(){return this[Jko]||y((o$t=this.action(),o$t.callback=function(e,t){return this.cols=e,this.rows=t,this.proc&&this.proc.resize({cols:e,rows:t}),!0},o$t),this,Qmt,"resize",Jko,ET.prototype)}set connect(e){this.connect.$set(e,this,e$t,"connect")}get connect(){return this.connect.$get(this,e$t,"connect")}get connect(){return this[Qko]||y((n$t=this.action(),n$t.callback=async function(e){var n;var t=this;this.p("connecting to WCTerminal");let r=Object.assign({},((n=ME==null?void 0:ME.env)==null?void 0:n.asobject)||{});this.rows=10,this.cols=80,this.stage(),await this.save();let o=[];return this[_2e]="",this.proc=await SWC.newterm({cwd:this.$root.ns,env:r},function(i){o.at(-1)==i&&_gn(i,-1)=="\r"&&i.indexOf(`
`)==-1||(o.push(i),t[_2e]+=i,t.idenode&&(t.idenode.output=t[_2e]))}),this.proc.exit.then(function(i){return t.proc=null}),this.proc},n$t),this,e$t,"connect",Qko,ET.prototype)}set write(e){this.write.$set(e,this,t$t,"write")}get write(){return this.write.$get(this,t$t,"write")}get write(){return this[e8o]||y((i$t=this.action(),i$t.callback=function(e){if(this.proc)return this.proc.write(e)},i$t),this,t$t,"write",e8o,ET.prototype)}};E(ET,vgn,"WCTerminal",0);var s$t=ET;globalThis.WCTerminal=s$t;We();var l$t=Symbol("port"),i8o=Symbol(),a$t=Symbol("cwd"),s8o=Symbol(),u$t=Symbol("secret"),l8o=Symbol(),c$t=Symbol("session"),a8o=Symbol(),h$t=Symbol("fs"),u8o=Symbol(),p$t=Symbol("state"),c8o=Symbol(),d$t=Symbol("entries"),h8o=Symbol(),f$t=Symbol(),p8o=Symbol(),m$t=Symbol("connect"),d8o=Symbol(),$$t=Symbol("secret"),f8o=Symbol(),y$t=Symbol("ping"),m8o=Symbol(),b$t=Symbol("merge"),$8o=Symbol(),g$t=Symbol("connect"),y8o=Symbol(),k$t=Symbol("disconnect"),b8o=Symbol(),_$t=Symbol("fs"),g8o=Symbol(),x$t=Symbol("booted"),k8o=Symbol(),v$t=Symbol("note"),_8o=Symbol(),w$t=Symbol("workdir"),x8o=Symbol(),S$t=Symbol("cwd"),v8o=Symbol(),C$t=Symbol("tmpdir"),w8o=Symbol(),E$t=Symbol("entries"),S8o=Symbol(),j$t=Symbol("connect"),C8o=Symbol(),A$t=Symbol("disconnect"),E8o=Symbol(),U$t=Symbol("webfetch"),j8o=Symbol(),P$t=Symbol("download_as_zip"),A8o=Symbol(),T$t=Symbol("serializeDir"),U8o=Symbol(),O$t=Symbol("boot"),P8o=Symbol(),R$t=Symbol("install"),T8o=Symbol(),M$t=Symbol("merge"),O8o=Symbol(),uK,R8o,L$t,cK,M8o,hK,L8o,jT,pK,AT,j1,MT=le("!&.booted?",globalThis,l=>!l.booted),UT,D$t,D8o,N8o,I8o,N$t,I$t,F$t,F8o,PT,H$t,TT,B$t,V$t=Symbol(),H8o=Symbol(),OT,R6,RT,A1,wgn=Symbol.for("#cloud"),z$t=Symbol.for("#store"),Sgn=Symbol.for("#owner"),Cgn=Symbol.for("##up"),Egn=Symbol.for("##register"),jgn=Symbol(),U1=class U1 extends OPObject{set port(e){this.port.$set(e,this,l$t,"port")}get port(){return this.port.$get(this,l$t,"port")}get port(){return this[i8o]||y((uK=this.int(),p(uK.composite,Function)?uK.composite():uK.composite=!0,uK),this,l$t,"port",i8o,U1.prototype)}set cwd(e){this.cwd.$set(e,this,a$t,"cwd")}get cwd(){return this.cwd.$get(this,a$t,"cwd")}get cwd(){return this[s8o]||y((R8o=this.string(),R8o),this,a$t,"cwd",s8o,U1.prototype)}set secret(e){this.secret.$set(e,this,u$t,"secret")}get secret(){return this.secret.$get(this,u$t,"secret")}get secret(){return this[l8o]||y((L$t=this.string(),L$t.default=function(){return OPKey.random()},L$t),this,u$t,"secret",l8o,U1.prototype)}set session(e){this.session.$set(e,this,c$t,"session")}get session(){return this.session.$get(this,c$t,"session")}get session(){return this[a8o]||y((cK=this.ref(OPSession),p(cK.memory,Function)?cK.memory():cK.memory=!0,cK),this,c$t,"session",a8o,U1.prototype)}set fs(e){this.fs.$set(e,this,h$t,"fs")}get fs(){return this.fs.$get(this,h$t,"fs")}get fs(){return this[u8o]||y((M8o=this.embed(HostFSRoot),M8o),this,h$t,"fs",u8o,U1.prototype)}set state(e){this.state.$set(e,this,p$t,"state")}get state(){return this.state.$get(this,p$t,"state")}get state(){return this[c8o]||y((hK=this.enum({idle:{default:!0},connecting:{},open:{},closing:{},closed:{}}),p(hK.memory,Function)?hK.memory():hK.memory=!0,hK),this,p$t,"state",c8o,U1.prototype)}set entries(e){this.entries.$set(e,this,d$t,"entries")}get entries(){return this.entries.$get(this,d$t,"entries")}get entries(){return this[h8o]||y((L8o=this.embeds({t:HostTerminal,f:HostFile,d:HostDir}),L8o),this,d$t,"entries",h8o,U1.prototype)}get terminals(){return this.entries.only(HostTerminal)}p(...e){var t=gt(this);t[f$t]??=0;let r=Date.now(),o=r-t[f$t];return t[f$t]=r,(this.$logs||=[]).push([...e,o])}get $cloud(){return this.$plain[wgn]}set $cloud(e){this.$$store.$cloud[this.id]=e}get autosave(){return!0}$changed(e,t,r,o,n,i){var s=this,a=gt(this);return a[p8o]??=Utils.throttled(function(){return s.save()},30,10),n&67108864&&a[p8o](),!0}$send(e){throw new OPError("HostWorkspace.$send not implemented - use LocalWorkspace or WCWorkspace")}set connect(e){this.connect.$set(e,this,m$t,"connect")}get connect(){return this.connect.$get(this,m$t,"connect")}get connect(){return this[d8o]||y((jT=this.action(),p(jT.rpc,Function)?jT.rpc():jT.rpc=!0,jT.callback=!1,jT),this,m$t,"connect",d8o,U1.prototype)}};U1.alias="hws",E(U1,jgn,"HostWorkspace",0);var dK=U1;globalThis.HostWorkspace=dK;var B8o=Symbol(),rf=class rf extends dK{set secret(e){this.secret.$set(e,this,$$t,"secret")}get secret(){return this.secret.$get(this,$$t,"secret")}get secret(){return this[f8o]||y((pK=this.string(),p(pK.composite,Function)?pK.composite():pK.composite=!0,pK),this,$$t,"secret",f8o,rf.prototype)}constructor(e,t=0){if(APP.electron&&!e.port)e[z$t]=APP.electron.store;else{let r=SILocalHost.for({port:e.port});e[z$t]=r.store}console.log("constructing local workslace",e,e[z$t]),super(e,t),re(this,B8o)}get host(){return this.$$store[Sgn]||SILocalHost.for({port:this.port})}$send(e){return this.host.socket.send(e)}async boot(e){return await this}set ping(e){this.ping.$set(e,this,y$t,"ping")}get ping(){return this.ping.$get(this,y$t,"ping")}get ping(){return this[m8o]||y((AT=this.action(),p(AT.rpc,Function)?AT.rpc():AT.rpc=!0,AT.callback=!1,AT),this,y$t,"ping",m8o,rf.prototype)}set merge(e){this.merge.$set(e,this,b$t,"merge")}get merge(){return this.merge.$get(this,b$t,"merge")}get merge(){return this[$8o]||y((j1=this.action(),p(j1.atomic,Function)?j1.atomic():j1.atomic=!0,p(j1.if,Function)?j1.if(MT):j1.if=MT,p(j1.rpc,Function)?j1.rpc():j1.rpc=!0,j1.callback=!1,j1),this,b$t,"merge",$8o,rf.prototype)}set connect(e){this.connect.$set(e,this,g$t,"connect")}get connect(){return this.connect.$get(this,g$t,"connect")}get connect(){return this[y8o]||y((UT=this.action(),p(UT.atomic,Function)?UT.atomic():UT.atomic=!0,UT.callback=function(e,t){let r=this.ide;return this.ide!=e&&(this.ide=e,!0)&&console.log("connected to host",this.id),this},UT),this,g$t,"connect",y8o,rf.prototype)}set disconnect(e){this.disconnect.$set(e,this,k$t,"disconnect")}get disconnect(){return this.disconnect.$get(this,k$t,"disconnect")}get disconnect(){return this[b8o]||y((D$t=this.action(),D$t.callback=function(e){return this.ide==e&&(console.log("disconnected from host",this.id),this.ide=null),this},D$t),this,k$t,"disconnect",b8o,rf.prototype)}};rf.prototype[Le]=De,rf.alias="lws",se([ke.bind([])],rf.prototype,"host",null),E(rf,B8o,"LocalWorkspace",272);var q$t=rf;globalThis.LocalWorkspace=q$t;var V8o=Symbol(),Ss=class Ss extends dK{set fs(e){this.fs.$set(e,this,_$t,"fs")}get fs(){return this.fs.$get(this,_$t,"fs")}get fs(){return this[g8o]||y((D8o=this.embed(HostFSRoot),D8o),this,_$t,"fs",g8o,Ss.prototype)}set booted(e){this.booted.$set(e,this,x$t,"booted")}get booted(){return this.booted.$get(this,x$t,"booted")}get booted(){return this[k8o]||y((N8o=this.bool(),N8o),this,x$t,"booted",k8o,Ss.prototype)}set note(e){this.note.$set(e,this,v$t,"note")}get note(){return this.note.$get(this,v$t,"note")}get note(){return this[_8o]||y((I8o=this.string(),I8o),this,v$t,"note",_8o,Ss.prototype)}get ns(){return this.id.slice(5)}set workdir(e){this.workdir.$set(e,this,w$t,"workdir")}get workdir(){return this.workdir.$get(this,w$t,"workdir")}get workdir(){return this[x8o]||y((N$t=this.get(),N$t.callback=function(){return this.cwd},N$t),this,w$t,"workdir",x8o,Ss.prototype)}set cwd(e){this.cwd.$set(e,this,S$t,"cwd")}get cwd(){return this.cwd.$get(this,S$t,"cwd")}get cwd(){return this[v8o]||y((I$t=this.get(),I$t.callback=function(){return"/home/projects/"+this.ns},I$t),this,S$t,"cwd",v8o,Ss.prototype)}set tmpdir(e){this.tmpdir.$set(e,this,C$t,"tmpdir")}get tmpdir(){return this.tmpdir.$get(this,C$t,"tmpdir")}get tmpdir(){return this[w8o]||y((F$t=this.get(),F$t.callback=function(){return"/home/.trash"},F$t),this,C$t,"tmpdir",w8o,Ss.prototype)}set entries(e){this.entries.$set(e,this,E$t,"entries")}get entries(){return this.entries.$get(this,E$t,"entries")}get entries(){return this[S8o]||y((F8o=this.embeds({t:WCTerminal,f:HostFile,d:HostDir}),F8o),this,E$t,"entries",S8o,Ss.prototype)}get nfs(){return this.nfs}get np(){return this.np}$send(e){return SWC.send(e)}constructor(){super(...arguments),globalThis.wcw=this,re(this,V8o)}set connect(e){this.connect.$set(e,this,j$t,"connect")}get connect(){return this.connect.$get(this,j$t,"connect")}get connect(){return this[C8o]||y((PT=this.action(),p(PT.atomic,Function)?PT.atomic():PT.atomic=!0,PT.callback=function(e,t){let r=this.ide;return this.ide!=e&&(this.ide=e,!0)&&console.log("connected to host",this.id),this},PT),this,j$t,"connect",C8o,Ss.prototype)}set disconnect(e){this.disconnect.$set(e,this,A$t,"disconnect")}get disconnect(){return this.disconnect.$get(this,A$t,"disconnect")}get disconnect(){return this[E8o]||y((H$t=this.action(),H$t.callback=function(e){if(this.ide==e){let t=SWC.procs[this];if(console.log("disconnected from host",this.id),this.ide=null,t){for(let r of B(t))try{r.kill()}catch{}t.clear()}}return this},H$t),this,A$t,"disconnect",E8o,Ss.prototype)}set webfetch(e){this.webfetch.$set(e,this,U$t,"webfetch")}get webfetch(){return this.webfetch.$get(this,U$t,"webfetch")}get webfetch(){return this[j8o]||y((TT=this.action(),p(TT.rpc,Function)?TT.rpc():TT.rpc=!0,TT.callback=!1,TT),this,U$t,"webfetch",j8o,Ss.prototype)}set download_as_zip(e){this.download_as_zip.$set(e,this,P$t,"download_as_zip")}get download_as_zip(){return this.download_as_zip.$get(this,P$t,"download_as_zip")}get download_as_zip(){return this[A8o]||y((B$t=this.action(),B$t.callback=async function(e="."){var f;var t,r=H(),o,n;let i=await this.serializeDir(e),s=await ScrimArchiver.jszip,a=new s,u;u=function(m,$,b){var g;let x;if($.directory){x=m?b.folder(m):b,g=[];for(let k=$.directory,_=0,S=Object.keys(k),v=S.length,C,j;_<v;_++)C=S[_],j=k[C],g.push(u(C,j,x));return g}else if($.file)return Bmt($.file.contents)?b.file(m,$.file.contents,{binary:"true"}):b.file(m,$.file.contents)},u(null,i,a);let c=await a.generateAsync({type:"blob"}),h=URL.createObjectURL(c);return Bt((o=n=1,(t=r[V$t])||(o=n=0,t=r[V$t]=t=w("a",null,null,null)),o||(t[Cgn]=r._),o||((f=t[Egn])==null||f.call(t,r,V$t)),h===t[H8o]||(t.href=t[H8o]=h),o||(t.download="dump.zip"),o||(t.target="_blank"),t)).click()},B$t),this,P$t,"download_as_zip",A8o,Ss.prototype)}set serializeDir(e){this.serializeDir.$set(e,this,T$t,"serializeDir")}get serializeDir(){return this.serializeDir.$get(this,T$t,"serializeDir")}get serializeDir(){return this[U8o]||y((OT=this.action(),p(OT.rpc,Function)?OT.rpc():OT.rpc=!0,OT.callback=!1,OT),this,T$t,"serializeDir",U8o,Ss.prototype)}set boot(e){this.boot.$set(e,this,O$t,"boot")}get boot(){return this.boot.$get(this,O$t,"boot")}get boot(){return this[P8o]||y((R6=this.action(),p(R6.atomic,Function)?R6.atomic():R6.atomic=!0,p(R6.if,Function)?R6.if(MT):R6.if=MT,R6.callback=async function(e,t){return await SWC.boot(this,e),this.p("booting host",this.cwd,this.$plain,t),this.booted!=!0&&(this.booted=!0,!0)&&await this.install(t),this},R6),this,O$t,"boot",P8o,Ss.prototype)}set install(e){this.install.$set(e,this,R$t,"install")}get install(){return this.install.$get(this,R$t,"install")}get install(){return this[T8o]||y((RT=this.action(),p(RT.rpc,Function)?RT.rpc():RT.rpc=!0,RT.callback=!1,RT),this,R$t,"install",T8o,Ss.prototype)}set merge(e){this.merge.$set(e,this,M$t,"merge")}get merge(){return this.merge.$get(this,M$t,"merge")}get merge(){return this[O8o]||y((A1=this.action(),p(A1.atomic,Function)?A1.atomic():A1.atomic=!0,p(A1.if,Function)?A1.if(MT):A1.if=MT,p(A1.rpc,Function)?A1.rpc():A1.rpc=!0,A1.callback=!1,A1),this,M$t,"merge",O8o,Ss.prototype)}testm(e=500){var t=this;return this.i(),setTimeout(function(){return t.u()},e)}i(){return this.p("INSTALLING"),this.cp.exec("npm install math",{cwd:this.cwd})}u(){return this.p("UNINSTALLING"),this.cp.exec("npm uninstall math",{cwd:this.cwd})}get cp(){return this.cp}};Ss.alias="wcws",E(Ss,V8o,"WCWorkspace",16);var W$t=Ss;globalThis.WCWorkspace=W$t;T();oe();We();var Z$t=Symbol("id"),z8o=Symbol(),G$t=Symbol("port"),q8o=Symbol(),fK,mK,Agn=Symbol.for("#owner"),W8o=Symbol(),p3=class p3 extends OPObject{constructor(){super(...arguments),re(this,W8o)}set id(e){this.id.$set(e,this,Z$t,"id")}get id(){return this.id.$get(this,Z$t,"id")}get id(){return this[z8o]||y((fK=this.key(),p(fK.virtual,Function)?fK.virtual():fK.virtual=!0,fK),this,Z$t,"id",z8o,p3.prototype)}set port(e){this.port.$set(e,this,G$t,"port")}get port(){return this.port.$get(this,G$t,"port")}get port(){return this[q8o]||y((mK=this.number(),p(mK.composite,Function)?mK.composite():mK.composite=!0,mK),this,G$t,"port",q8o,p3.prototype)}get store(){var e=this;let t=new OPCommonData;return t.$send=function(r){return e.socket.send(r)},t[Agn]=this,t}get socket(){return new OPSocket(this,"/op/ws",{origin:"http://localhost:"+this.port,flushDelay:0,sender:this})}onmessage(e){return OP.$handle(e,this.socket)}};p3.prototype[Le]=De,se([ke.bind([])],p3.prototype,"store",null),se([ke.bind([])],p3.prototype,"socket",null),E(p3,W8o,"SILocalHost",272);var Y$t=p3;globalThis.SILocalHost=Y$t;Object.defineProperty(globalThis,"ME",{get:function(){return OP.pov}});var Tli=Model;T();oe();var Ugn=Symbol.for("#opified"),Pgn=Symbol(),X$t=class X$t{get opified(){var e=this;return this[Ugn]||=new Promise(async function(t){return e.values=await e.opify(),await e.appopify(),t(e.values)})}async appopify(){var e;for(let t=0,r=B(this.values),o=r.length;t<o;t++){let n=r[t];if(!p(n,OPUrl))continue;let i=new AppUrl(n.pathname);await i;let s=(e=i.page)==null?void 0:e.object;s&&this.values.add(s)}return this.values}};E(X$t,Pgn,"DataTransfer",1,DataTransfer);var Z8o=X$t;T();T();oe();var G8o="/assets/pling.YXW6A2Z2.mp3?file";var Y8o="/assets/blower.PLMKF747.mp3?file";var X8o="/assets/coin.VTXCNYGP.mp3?file";var K8o="/assets/cheering.KI36HT2A.mp3?file";var J8o="/assets/total_score.UPLWX2A5.mp3?file";var Q8o="/assets/score_appears.273X3IHO.mp3?file";var e_o="/assets/coins_reward.KTR7MFAD.mp3?file";We();var v_o=Symbol.for("#blob"),m3=Symbol.for("#pbr"),d3=Symbol.for("#volume"),M6=Symbol.for("#devices"),yK=Symbol.for("#allowed"),f3=Symbol.for("#elements"),w_o=Symbol.for("#objectURL"),zgn=Symbol.for("#allDevices"),qgn=Symbol.for("#context"),bK=Symbol.for("#gainNode"),Wgn=Symbol.for("#promise"),Zgn=Symbol.for("#constraints"),gK=Symbol.for("#anchor"),Sai=K$t(),Ggn=x_o(),Ygn={},Xgn={pling:G8o,confetti:Y8o,coin:X8o,cheering:K8o,total_score:J8o,score_appears:Q8o,coins_reward:e_o},Kgn=Symbol(),eyt=class eyt{static build(e){return new this(e)}static get(e){return Ygn[e]||new this({id:e})}save(){throw"not supported"}fetchLocalBlob(){return this[v_o]?Promise.resolve(this[v_o]):null}fetchAsArrayBuffer(e=null){var t=this;return this.fetcher||=new Promise(async function(r){let o=await t.fetchLocalBlob();if(o){let n=new FileReader;return n.onloadend=function(i){return t.arraybuffer=i.target.result,r(t.arraybuffer)},n.readAsArrayBuffer(o)}else{let n=new XMLHttpRequest;return n.open("GET",e||"/cdn/"+t.id,!0),n.responseType="arraybuffer",n.onload=function(){return r(t.arraybuffer=n.response)},n.send()}})}async repair(){return(await this.db.api.rpc("checkIntegrity",[this.id])).realSize==0?await this.fetchLocalBlob()?(console.log("found local file! - try to upload"),this.upload()):{error:"file not found"}:this}};E(eyt,Kgn,"AudioFile",0);var J$t=eyt,S_o=Symbol(),kK=class kK{constructor(){re(this,S_o)}set pbr(e){this[m3]=e}get pbr(){return this[m3]||1}prepareToPlay(e,t){var r=this;return new Promise(function(o,n){return r.currentTime=e/1e3,r.pbr=t,r.playbackRate=0,r.play(),r.addEventListener("canplaythrough",function(i){return o(r)},{once:!0})})}resume(e=this.pbr){return this.pause(),this.playbackRate=e,this.paused&&this.play(),this}seekToTime(e){return this.currentTime=e/1e3}get playedDuration(){let e=this.played,t=0,r=0;for(;r<e.length;){let o=e.start(r),n=e.end(r);t+=n-o,r++}return(t*1e3).floor()}inspect(){let e=[],t=0;for(;t<this.seekable.length;)e.push(this.seekable.start(t),this.seekable.end(t)),t++;return console.log("inspect audio",this.src,e)}get extended(){var e=this;let t=globalThis.performance.now(),r=function(n){var c;let i,s,a=globalThis.performance.now(),u=a-t;if(t=a,APP!=null&&APP.debugging.audio&&console.log("onaudio",n.type,e.playbackRate,e.currentTime*1e3,u),i=e.clipTimeline)return(s=i["onaudio"+n.type])?s.call(i,n):(c=i==null?void 0:i.onaudioevent)==null?void 0:c.call(i,n)},o={play:1,pause:2,playing:2,complete:1,canplaythrough:1,canplay:1,durationchange:1,emptied:1,seeking:1,seeked:1,stalled:1,suspend:1,waiting:1,progress:1,timeupdate:1,ended:1,loadeddata:1,loadedmetadata:1,loadstart:1};for(let n=0,i=Object.keys(o),s=i.length,a,u;n<s;n++)a=i[n],u=o[a],this.addEventListener(a,r);return this}};kK.prototype[Le]=De,se([ke.bind([])],kK.prototype,"extended",null),E(kK,S_o,"HTMLAudioElement",273,HTMLAudioElement);var C_o=kK,E_o=Symbol(),L6=class L6{[A](e=null,t=!0,r=!0){var o;this.outputLatency=e&&(o=e.outputLatency)!==void 0?o:0,this.mic=e&&(o=e.mic)!==void 0?o:null,this.recording=e&&(o=e.recording)!==void 0?o:[],this.userMediaStreams=e&&(o=e.userMediaStreams)!==void 0?o:[],this.userMediaRequests=e&&(o=e.userMediaRequests)!==void 0?o:[]}get volume(){return this[d3]}constructor(){var e=this;this[A](),this.loaders={},this.buffers={},this.waveforms={},this.muted=!1,this.media=[],this.interacted=!1,this[d3]=1,this[M6]=null,this[yK]=null,this[f3]={},globalThis.document.addEventListener("DOMContentLoaded",function(){return e.updateGain(),qgt(function(){let t=APP.settings.volume,r=APP.settings.muted;return setTimeout(function(){return e.updateGain()},10)})}),re(this,E_o)}derefElement(e){var t,r;t=[];for(let o=this[f3],n=0,i=Object.keys(o),s=i.length,a,u;n<s;n++)if(a=i[n],u=o[a],u===e){try{e.src=""}catch{}t.push((r=this[f3][a],delete this[f3][a],r))}return t}elementForId(e,t=null){if(typeof e!="string"&&(e=String(e)),this[f3][e])return this[f3][e];let r=OP.get(e);if(p(r,ScrimAudio))t||=r.audioSrc;else if(p(r,OPMedia))t=r.url;else if(e.match(/^(msr|afc|at|sat)/)){let i=OP.get(e);t=i[w_o]||i.url}t.match(/\.webm$/)&&(globalThis.safari?t+=".m4a":globalThis.firefox&&(t+=".ogg"));let o=t||this.urlForId(e,"?"+Math.random()),n=this[f3][e]=globalThis.document.createElement("audio");return n.preload="auto",n.controls=!0,n.src=o,n.volume=this[d3],n.load(),n}get mediaDevices(){return globalThis.navigator.mediaDevices}async askForPermissions(){if(this[yK]===null)try{this[yK]=!1;let e=await this.enumerateDevices();if(e[0]&&e[0].label!="")return this[yK]=!0;let t=await this.mediaDevices.getUserMedia({video:!1,audio:!0});for(let r=0,o=B(t.getAudioTracks()),n=o.length;r<n;r++)o[r].stop();return this[yK]=!0,this.enumerateDevices()}catch{return null}}enumerateDevices(){var e=this;return this.mediaDevices.enumerateDevices().then(function(t){e[zgn]=t,e[M6]=t.filter(function(r){return r.kind=="audioinput"});for(let r=0,o=B(e[M6]),n=o.length;r<n;r++){let i=o[r];e[M6][i.deviceId]=i}return Cr(),e[M6]})}get devices(){var e=this;return this[M6]||(this[M6]=[],window.navigator.mediaDevices.ondevicechange=function(t){return e.enumerateDevices()},this.enumerateDevices()),this[M6]}deviceForId(e){return this[M6][e]}get canRecordAudio(){return window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia&&window.MediaRecorder}set realVolume(e){e==0?(this.volume=1,this.mute()):e>0&&(this.volume=e,this.muted&&this.unmute()),this.updateGain()}get realVolume(){return this[d3]}updateGain(){let e=APP.settings.volume;if(APP.settings.muted&&(e=0),this[d3]!=e&&(this[d3]=e,!0)){this.context&&(this.gainNode.gain.value=e);for(let r=0,o=B(this.media),n=o.length;r<n;r++){let i=o[r];i.volume=e}for(let r=this[f3],o=0,n=Object.keys(r),i=n.length,s,a;o<i;o++)s=n[o],a=r[s],a.volume=e}return this}urlForId(e){let t=this.audioElement||=globalThis.document.createElement("audio"),o=""+"https://v1.scrimba.com"+"/cdn/"+e,n="";if(e.match(/^(msr|at|afc)/)){let i=Model.get(e);console.warn("get url for msr!!",e,i==null?void 0:i.url);let s=i[w_o]||i.url;return globalThis.safari&&(s+=".m4a"),s}return t.canPlayType('audio/webm;codecs="opus"')?""+o.replace(".webm","")+".webm"+n:t.canPlayType('audio/ogg;codecs="opus"')?""+o.replace(".ogg","")+".ogg"+n:t.canPlayType("audio/mp4")?""+o+".m4a"+n:""+o+".mp3"+n}loadBufferForId(e,t=null){var r=this;return this.loaders[e]||=new Promise(async function(o){let n;if(e.match(/^s0/)){let s=OP.get(e);p(s,ScrimAudio)&&(n=await s.webm.arrayBuffer())}else if(e.match(/^msr/)){let s=r.urlForId(e);n=await(await globalThis.fetch(s)).arrayBuffer()}else n=await J$t.get(e).fetchAsArrayBuffer(t||r.urlForId(e));let i=function(s){return o(null)};r.context.decodeAudioData(n,function(s){return r.buffers[e]=s,o(s)},i)})}waveformForAudioBuffer(e){return new Promise(function(t){return Ggn({scale:128,amplitude_scale:1},function(n,i,s){return t(i)})(e)})}waveformForId(e){var t=this;typeof e!="string"&&(e=String(e));let r=e+".dat";return this.loaders[r]||=new Promise(async function(o){let n=await t.loadBufferForId(e);if(!n||p(n,Error))return o(null);let i=await t.waveformForAudioBuffer(n);console.log("returned from wf",i);let s=i.adapter.data.buffer;return t.loaders[r]=i,o(i)})}durationForBlob(e,t=36e5){return new Promise(function(r){let o=new Audio,n=!1,i=function(){let s=o.duration;if(s!=1/0&&!n)return o.ondurationchange=null,o.onloadeddata=null,n=!0,r(s*1e3)};o.ondurationchange=i,o.onloadeddata=i,o.src=URL.createObjectURL(e),o.load(),o.currentTime=t/1e3*1.5,o.onerror=function(s){if(console.log("error!",s),!n)return n=!0,r(0)}})}audioBufferFromBlob(e){var t=this;return new Promise(function(r,o){let n=new FileReader;return n.onload=function(){let i=this.result;return t.context.decodeAudioData(i,r,o)},n.readAsArrayBuffer(e)})}durationForAudioElement(e,t=36e5){return new Promise(function(r){let o=!1,n=function(){let i=e.duration;if(console.log("checkDuration",i),i!=1/0&&!Number.isNaN(i)&&!o)return o=!0,e.ondurationchange=null,e.onloadeddata=null,e.currentTime=0,r(i*1e3)};e.ondurationchange=n,e.onloadeddata=n,e.onerror=function(i){if(console.log("error!",i),!o)return o=!0,r(0)},e.load(),e.currentTime=t/1e3*1.5,n()})}get context(){return this[qgn]||=new window.AudioContext}get output(){return this.context.destination}get gainNode(){return this[bK]||(this[bK]=this.context.createGain(),this[bK].connect(this.output),this[bK].gain.value=this[d3]),this[bK]}sourceForMedia(e){return e.mediaSource||=this.context.createMediaElementSource(e)}registerMedia(e){return e.volume=this[d3],e.indexOf(e)<0&&e.push(e),this}deregisterMedia(e){let t=e.indexOf(e);return t>=0&&e.splice(t,1),this}async playEffect(e){let t=Xgn[e],r=await this.loadBufferForId("effects/"+e,t),o={buffer:r,t0:0,t1:r.duration*1e3};return this.scheduleClips([o])}scheduleClips(e,t=0,r=1){let o=this.context.currentTime*1e3;this.outputLatency&&(t+=this.outputLatency);for(let n=0,i=B(e),s=i.length;n<s;n++){let a=i[n],u=a.buffer||this.buffers[a.src];if(!u)continue;let c=a.t0-t+o,h=a.t1-a.t0,d=a.skip||0;if(o>c+h||(c<o&&(d+=o-c,h-=o-c,c=o),h<200)||u.duration*1e3-d<100)continue;let m=a.node=this.context.createBufferSource();m.buffer=u,c=(c-o)/r+o,m.connect(this.gainNode),m.start(c/1e3,d/1e3,h/1e3),r!=1&&(m.playbackRate.value=r)}return e}unscheduleClips(e){for(let t=0,r=B(e),o=r.length;t<o;t++){let n=r[t];n.node&&n.node.stop()}return this}async getAudioInput(e=!0){try{return await window.navigator.mediaDevices.getUserMedia({video:!1,audio:e})}catch{return null}}async getUserMedia(e={video:!1,audio:!0}){let t=JSON.stringify(e);try{let o=await(e[Wgn]=window.navigator.mediaDevices.getUserMedia(e));return o[Zgn]=e,this.userMediaStreams.add(o),o}catch{return null}}stopUserMedia(){for(let e=0,t=B(this.userMediaStreams),r=t.length;e<r;e++){let o=t[e];for(let n=0,i=B(o.getAudioTracks()),s=i.length;n<s;n++)i[n].stop()}return console.log("stopped user media!"),this.userMediaStreams=[],this}clipForBuffer(e,t={}){return t.buffer=e,new w2e(t)}get checkPlayAllowed(){return new Promise(async function(e){let t;try{await Utils.sleep(100);let r=new Audio;if(r.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",setTimeout(function(){if(t!=!0&&(t=!0,!0))return e(!1)},500),await r.play(),t!=!0&&(t=!0,!0))return e(!0)}catch{if(t!=!0&&(t=!0,!0))return e(!1)}})}};L6.prototype[Le]=De,se([jn.bind([])],L6.prototype,"mic",null),se([jn.bind([])],L6.prototype,"recording",null),se([jn.bind([])],L6.prototype,"userMediaStreams",null),se([jn.bind([])],L6.prototype,"userMediaRequests",null),se([ke.bind([])],L6.prototype,"checkPlayAllowed",null),E(L6,E_o,"AudioManager",272);var v2e=L6;globalThis.AudioManager=v2e;var Q$t=new v2e,j_o=Symbol(),tyt=class tyt{constructor(e=null){this[A](e),re(this,j_o)}[A](e=null,t=!0,r=!0){var o;this.buffer=e?e.buffer:void 0,this.loop=e&&(o=e.loop)!==void 0?o:!1}get ctx(){return Q$t.context}play(){this[m3]||=1,this.source&&this.pause();let e=this.ctx.currentTime*1e3;return this.source=this.ctx.createBufferSource(),this.source.buffer=this.buffer,this.source.loop=this.loop,this.source.connect(Q$t.gainNode),this.source.playbackRate.value=this[m3]||1,this.source.start(0,this.elapsed/1e3),this.anchor(this.elapsed,this[m3])}set pbr(e){if(this[m3]!=e){let t=!!this.source;t&&this.pause(),this.anchor(this.elapsed,e),this[m3]=e,t&&this.play()}}get pbr(){return this[m3]||0}anchor(e=this.elapsed,t=1){return this[gK]={ts:Date.now(),offset:e,pbr:t}}get elapsed(){return this[gK]?(this[gK].offset+(Date.now()-this[gK].ts)*this[gK].pbr)%this.duration:0}get duration(){return this.buffer.duration*1e3}get progress(){return this.elapsed/this.duration}get playing(){return!!this.source}get paused(){return!this.playing}pause(){return this.source?(this.anchor(this.elapsed,0),this.source.stop(),this.source=null,this):this}};E(tyt,j_o,"AudioClip",16);var w2e=tyt;globalThis.AudioClip=w2e;var Jgn=Symbol(),ryt=class ryt{get audio(){return Q$t}};E(ryt,Jgn,"App",1,App);var A_o=ryt;T();oe();var nf=Symbol.for("#from"),Qgn=Symbol.for("#olc"),e6n=Symbol.for("#easer"),oyt=Symbol.for("#morphable"),t6n=Symbol.for("#relativeRect"),U_o=Symbol(),DT,T_o=new(DT=class{constructor(e=null){this[A](e),re(this,U_o)}[A](e=null,t=!0,r=!0){var o;this.morphing=e&&(o=e.morphing)!==void 0?o:0,this.varcache=e&&(o=e.varcache)!==void 0?o:Symbol(),this.memocache=e&&(o=e.memocache)!==void 0?o:Symbol(),this.morphings=e&&(o=e.morphings)!==void 0?o:new Set}get morphing(){let e=this[nf];return this.morphings.size>0&&Array.from(this.morphings).find(function(t){var r,o;return t.state!="init"&&((o=(r=t.target)==null?void 0:r.contains)==null?void 0:o.call(r,e))})}log(...e){return console.log("%c fx","color:green",...e)}easeinexpo(e){return e===0?0:Math.pow(2,10*e-10)}easebackin(e){return 2.70158*e*e*e-1.70158*e*e}animate(e,t={}){var r;let o=this[nf];return e.duration&&(t.duration=e.duration/1e3,r=e.duration,delete e.duration),T_t(o,e,t)}pulsate(e=1*1e3,t="50px"){let r=this[nf];return r.animate([{outlineWidth:"0px"},{outlineWidth:t}],{duration:e,easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)"}),r.animate([{},{offset:.95,outlineColor:"transparent"},{outlineColor:"transparent"}],{duration:e,easing:"cubic-bezier(0.425, 0.635, 0.225, 0.995)"})}ripple(e=800){let t=this[nf],r=t.animate([{outlineOffset:"0px",outlineWidth:"2px"},{outlineOffset:"30px",outlineWidth:"1px"}],{duration:e,composite:"replace",easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)"}),o=t[Qgn]||=t.op.style.outlineColor;return t.animate({outlineColor:[o,"transparent"]},{duration:e,easing:"cubic-bezier(0.425, 0.635, 0.225, 0.995)",composite:"replace"})}beat(e=300,t=1.15){return this[nf].animate([{scale:t,offset:.7},{scale:1}],{duration:e,easing:"cubic-bezier(0.165, 0.840, 0.440, 1.000)"}).finished}motion(e,t={}){let o=rye(e,{defaultOptions:{}});return o.pause(),o}tween(e,t){let r=this[nf];return this.motion([[r,t,{duration:e}]])}timeline(e,t={}){return new IDEBranchTimeline(e,t)}count(e={from:0,to:100},t=null){var r=this;return new Promise(function(o){let n=e.from||0,i=e.to,s=e.element,a=0,u=0,c=Math.randfloat(.7,.9),h,d=function(f,m){let $=20,b=(f-c)/(1-c),g=10+r.easeinexpo(b)*20;return f<c&&(g=1),i==100&&a>95&&(g=3),console.log("count",g,a),$*g};return h=function(){a++;let f=a/i,m=d(f,a),$=Date.now();if(a<i&&setTimeout(h,m),$-u>40&&(r.play("coin"),u=$),s&&s.update(a,m),t&&t(a,m),a==i)return o(a)},h()})}memo(...e){let t=this[nf][this.memosym]||=e;return OP.compare(t,e)?!1:(this[nf][this.memosym]=e,!0)}async transition(e,t={flag:"tweening"}){let r=this[nf],o={before:globalThis.document.getAnimations()};return r.offsetWidth,t.flag&&r.flags.incr(t.flag),typeof e=="string"?r.flags.add(e):await e(o),r.offsetWidth,o.after=globalThis.document.getAnimations(),o.fresh=o.after.filter(function(n){return o.before.indexOf(n)==-1}),o.own=o.fresh,o.own.length?o.finished=new Promise(function(n){let i=new Set(o.own),s=function(){if(i.delete(this),i.size==0)return n()};for(let a=0,u=B(o.own),c=u.length;a<c;a++){let h=u[a];h[e6n]=o,h.addEventListener("finish",s,{once:!0}),h.addEventListener("cancel",s,{once:!0})}}):o.finished=Promise.resolve(!0),t.flag&&o.finished.then(function(){return r.flags.decr(t.flag)}),o.finished}confetti(e={}){if(e=Object.assign({particleCount:200,sound:"total_score",angle:70,startVelocity:50,spread:300,zIndex:1e3,colors:["#96CEB4","#FFEEAD","#D9534F","#FFAD60"]},e),p(e.origin,Element)){let t=e.origin.opbox(),r=e.ax??.5,o=e.ay??.5;e.origin={x:(t.left+t.width*r)/window.innerWidth,y:(t.top+t.height*o)/window.innerHeight}}if(console.log("confetti!",e),setTimeout(function(){return P_t(e)},200),e.sound)return APP.audio.playEffect(e.sound)}salute(e,t=10,r=1e3,o={}){var n=this,i;let s=0,u=e.opbox().width;t=Math.max(t,u/20);let c=r/t;for(;s<t;){let f=s/(t-1),m=Object.assign({origin:e,ay:o.ay??0,ax:.02+f*.96,particleCount:500/t,spread:45,angle:120-60*f,sound:null},o);setTimeout(function(){return n.confetti(m)},c*s),s++}let h=100,d=Math.max(r/h);i=[];for(let f=d,m=0,$=f-m;$>0?m<f:m>f;$>0?m++:m--)i.push(setTimeout(function(){return n.play(o.audio||"coin")},m*h));return i}from(e){return this[nf]=e,this}play(e){return APP.audio.playEffect(e)}async morph(e,t={}){var g,x;var r=this,o,n;let i=this[nf];for(let k of B(this.morphings))if(k.target==i){let _=k,S=e;e=function(){var v;return(v=_==null?void 0:_.pause)==null||v.call(_),_.animation.forEachNative(function(C){return C.cancel()}),_.cleanup(),i.offsetWidth,S()},k.replaced=!0}else if((x=(g=k.target)==null?void 0:g.contains)!=null&&x.call(g,i))return k.nested=!0,k.queued.push(e),k.finished;let s={},a=[],u=[],c=new Map,h=Date.now(),d=Array.from((t.from||t.in||globalThis.document).querySelectorAll("[morphable]"));for(let k=0,_=B(d),S=_.length;k<S;k++){let v=_[k],C=d.slice(0,k).reverse().find(function(P){return P.contains(v)}),j=v.getMorphStyle(C);s[j.name]={from:j},c.set(v,j),j.name&&c.set(j.name,j)}let f=(t.duration||500)/1e3,m={state:"init",target:i,before:c,tweens:s,post:[],queued:[]};this.morphings.add(m),m.finished=new Promise(function(k){return m.resolve=k}),globalThis.document.flags.incr("morphing"),i.flags.incr("morphing"),await e();for(let k=0,_=B(m.queued),S=_.length;k<S;k++){let v=_[k];await v()}globalThis.document.body.offsetLeft;let $=!1;for(let k of B(i.querySelectorAll(".reflowable")))$=!0,k.reflow(),k.render(!0);m.state="ready",$&&globalThis.document.body.offsetLeft;let b=Array.from((t.to||t.in||globalThis.document).querySelectorAll("[morphable]"));m.after=b;for(let k=0,_=B(b),S=_.length;k<S;k++){let v=_[k],C=b.slice(0,k).reverse().find(function(ee){return ee.contains(v)}),j=b.slice(0,k).filter(function(ee){return ee.contains(v)}),P=v.getMorphStyle(C),U=d.indexOf(v)>=0,O=P.name,L=P,I=U?c.get(v):c.get(O);if(m.post.push(P),!I)continue;I.to=L;let F=L.width==0&&L.height==0,N=I.width==0&&I.height==0;if(F||N)continue;let V=L.rect,W=I.rect,z=W.width/(V.width||W.width),q=W.height/(V.height||W.height),Y=(I.x-L.x)/L.scaleX,K=(I.y-L.y)/L.scaleY,X={duration:f,at:0},Z={};if(W.width==V.width&&(z=1),W.height==V.height&&(q=1),L.mods.text){let ee=z,te=q,ne=L.fontSize*L.scaleY,ie=I.fontSize*I.scaleY/ne;q=ie,z=ie*(L.scaleY/L.scaleX)}L.name=="idebrowser"?X.easing=[.115,.855,.405,.995]:X.easing=[.245,.085,.005,1];let Q=(""+(L.transform||"")+" translate("+Y+"px,"+K+"px) scale("+z+","+q+")").replace(/%px/g,"%");Q.match(/NaN/)&&console.warn("NAN transform",Q,I,L,V,W),!(Y.round(1)==(o=K.round(1))&&o==0&&z.round(.01)==(n=q.round(.01))&&n==1)&&(L.mods.size?(Z.width=[I.rect.width,L.rect.width],Z.height=[I.rect.height,L.rect.height]):Z.transform=[Q,L.transform||"translate(0px,0px)"],a.push([v,Z,X]),v.style.transform=Q,u.push([v,Z]))}if(m.anims=a,m.cleanup=u,a.length){let k="cubic-bezier(0.020, 0.990, 0.155, 0.965)";k=[.02,.99,.155,.965],k="linear";let _=rye(a,{defaultOptions:{easing:k}});return globalThis.morphanim=_,_.pause(),_.playbackRate=1,m.animation=_,m.state="running",_.play(),m.pause=function(){return _.pause()},m.cleanup=function(){m.cleanup=function(){return!0};for(let S=0,v=B(u),C=v.length;S<C;S++){let[j,P]=v[S];for(let U=0,O=Object.keys(P),L=O.length,I,F;U<L;U++)I=O[U],F=P[I],j.style.removeProperty(I)}return globalThis.document.body.offsetWidth},_.finished.then(function(){return setTimeout(function(){return m.cleanup(),globalThis.document.flags.decr("morphing"),i.flags.decr("morphing"),globalThis.document.documentElement.emit("morphed")},10),r.morphings.delete(m),m.resolve(!0)}),_.finished}else return globalThis.document.flags.decr("morphing"),i.flags.decr("morphing"),this.morphings.delete(m),Promise.resolve(!0)}},E(DT,U_o,"Effects",16),DT),r6n=Symbol(),NT;NT=class{get fx(){return T_o.from(this)}set vtref(e){this.setAttribute("vtref",e),this.setAttribute("morphable","")}get vtref(){return this.getAttribute("vtref")}on$morph(e,t,r,o){var n;return this.setAttribute("morphable",""),this[oyt]=e,e.name||=(n=e.options)==null?void 0:n[0],r}getMorphStyle(e=null){var c;let t=window.getComputedStyle(this),r=this.opbox(),o=this.offsetWidth,n=this.offsetHeight,[i,s]=t.transformOrigin.split(" "),a=o?parseFloat(i)/o:.5,u=n?parseFloat(s)/n:.5;return this[t6n]={rel:e,element:this,width:o,height:n,left:this.offsetLeft,top:this.offsetTop,ox:parseFloat(i),oy:parseFloat(s),ax:a,ay:u,scaleX:o?r.width/o:1,scaleY:n?r.height/n:1,x:r.left+r.width*a,y:r.top+r.height*u,transform:t.transform.replace("none",""),origin:t.transformOrigin,transformBox:t.transformBox,fontSize:parseFloat(t.fontSize),lineHeight:parseFloat(t.lineHeight),name:this.vtref||((c=this[oyt])==null?void 0:c.name),rect:r,style:t,mods:this[oyt]||this.vtref__||{}}}},E(NT,r6n,"element",3,da("element","Element"));var o6n=Symbol(),nyt=class nyt{confetti(e=null){let t=this.target,r={};return p(e,Element)?r.origin=e:typeof e=="string"&&(r.origin=t.closest(e)||t.querySelector(e)||globalThis.document.querySelector(e)),T_o.confetti(r)}};E(nyt,o6n,"Event",1,Event);var P_o=nyt;T();oe();ge(),Bl();var n6n=Symbol.for("#beforeReconcile"),i6n=Symbol.for("#afterReconcile"),O_o=Symbol(),s6n=Symbol(),S2e=class S2e extends de{get stickyElement(){return this.nextElementSibling}check(){let e=this.stickyElement,t=e.offsetTop;return e.flags.toggle("sticky",t>0),window.addEventListener("scroll",function(){return e.flags.toggle("sticky",e.offsetTop>0)},{once:!0})}render(){var e=this,t,r,o;return t=this,t[n6n](),r=o=1,t[O_o]===1||(r=o=0,t[O_o]=1),r||t.on$("intersect",{silent:!0,$_:[function(n,i){return e.check(n)}]},this),(!r||o&2)&&t.flagSelf$("lb_"),t[i6n](o),t}};E(S2e,s6n,"app-sticky-check",2),pe("app-sticky-check",S2e,{cssid:"lb-af"});var R_o=S2e;T();oe();var l6n=Symbol.for("#beforeReconcile"),a6n=Symbol.for("#placeChild"),u6n=Symbol.for("#getRenderContext"),c6n=Symbol.for("#isRichElement"),h6n=Symbol.for("#afterVisit"),p6n=Symbol.for("#insertInto"),d6n=Symbol.for("#replaceWith"),f6n=Symbol.for("#afterReconcile"),M_o=Symbol(),L_o=Symbol(),D_o=Symbol(),IT=Symbol(),m6n=Symbol(),$6n=Symbol(),C2e=class C2e extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.target=e?e.target:void 0}render(){var e,t,r,o,n,i,s=this._ns_||"",a,u,c;let h=this.target-Date.now(),d=Math.floor(h/(1*24*60*60*1e3));return h>1*24*60*60*1e3&&(h=h%(1*24*60*60*1e3)),t=this,t[l6n](),r=o=1,t[M_o]===1||(r=o=0,t[M_o]=1),n=1*1e3,n===t[L_o]||(t.autorender=t[L_o]=n),e=null,d&&(e=""+d+"d "),t[D_o]=t[a6n](e,0,t[D_o]),i=t[u6n](m6n),u=c=1,(a=i.run(this.ofmt(h,"0:00")))||(u=c=0,i.cache(a=M(i.value,t,`${s}`,null))),a[c6n]&&((!u||c&2)&&a.flags.reconcile(IT,`${s}`),u||!a.setup||a.setup(c,i),a[h6n](c)),a==t[IT]||!t[IT]&&(t[IT]=a)[p6n](t)||t[IT][d6n](t[IT]=a,t),t[f6n](o),t}};E(C2e,$6n,"app-countdown",2),pe("app-countdown",C2e,{cssid:"uw-af"});var N_o=C2e;T();oe();ge(),Bl(),Hl(),wo(),We(),$e();var iyt=Symbol(),E2e=Symbol(),I_o=Symbol(),F_o=Symbol(),syt=Symbol(),H_o=Symbol(),B_o=Symbol(),V_o=Symbol();var lyt=Symbol();var ayt=Symbol(),z_o=Symbol(),q_o=Symbol(),W_o=Symbol(),Z_o=Symbol(),G_o=Symbol(),Y_o=Symbol(),X_o=Symbol(),y6n=Symbol(),b6n=Symbol(),K_o=Symbol(),J_o=Symbol(),_K=Symbol(),g6n=Symbol(),Q_o=Symbol(),e4o=Symbol(),t4o=Symbol(),r4o=Symbol(),o4o=Symbol(),FT=Symbol(),k6n=Symbol(),n4o=Symbol(),i4o=Symbol(),s4o=Symbol(),l4o=Symbol();var uyt=Symbol(),a4o=Symbol(),u4o=Symbol(),c4o=Symbol();var cyt=Symbol(),h4o=Symbol(),p4o=Symbol(),_6n=Symbol(),d4o=Symbol(),f4o=Symbol(),m4o=Symbol.for("#sources"),$4o=Symbol.for("#filters"),xK=Symbol.for("#getRenderContext"),D6=Symbol.for("##up"),y4o=Symbol.for("##register"),j2e=Symbol.for("#isRichElement"),sf=Symbol.for("#afterVisit"),tw=Symbol.for("#placeChild"),b4o=Symbol.for("#id"),x6n=Symbol.for("#beforeReconcile"),hyt=Symbol.for("#appendChild"),g4o=Symbol.for("#insertInto"),k4o=Symbol.for("#replaceWith"),v6n=Symbol.for("#getSlot"),w6n=Symbol.for("#visit"),S6n=Symbol.for("#afterReconcile"),C6n=Symbol(),lf=class lf extends Ve("op","OpComponent",de){get $head(){let e=w("div",null,`head ${this._ns_||""} $head`,null);return Object.defineProperty(this,"$head",{value:e}),e}get $body(){let e=R("op-options",null,`lh-at items no-scrollbar ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.name=e?e.name:void 0,this.data=e?e.data:void 0,this.scope=e?e.scope:void 0,this.selected=e&&(o=e.selected)!==void 0?o:null,this.limit=e&&(o=e.limit)!==void 0?o:16,this.sorter=e?e.sorter:void 0,this.nodrag=e&&(o=e.nodrag)!==void 0?o:!1,this.showmore=e&&(o=e.showmore)!==void 0?o:!0,this.filterable=e&&(o=e.filterable)!==void 0?o:!0,this.ghosted=e&&(o=e.ghosted)!==void 0?o:!1,this.viewtype=e&&(o=e.viewtype)!==void 0?o:"tile",this.excludes=e&&(o=e.excludes)!==void 0?o:null,this.total=e&&(o=e.total)!==void 0?o:null,this.checked=e&&(o=e.checked)!==void 0?o:null,this.simple=e&&(o=e.simple)!==void 0?o:!1,this.pivots=e?e.pivots:void 0,this.suggestions=e?e.suggestions:void 0,this.results=e&&(o=e.results)!==void 0?o:[],this.layout=e&&(o=e.layout)!==void 0?o:"grid"}get $list(){return this.querySelector(":scope > [role=list]")}get coll(){return this}get max(){var e;return((e=this.results)==null?void 0:e.length)||0}get sources(){return this[m4o]||this.data}set sources(e){this[m4o]=e}set filters(e){this[$4o]=e}get filters(){return this[$4o]||null}get badge(){var e;return((e=this.data)==null?void 0:e.size)||""}set renderer(e){p(e,Function)&&(this.template=e)}template(e,t,r){var d,f,m;var o,n=this._ns_||"",i,s=H(),a,u,c;let h=this.layout=="list"?"li":((d=this.layout)==null?void 0:d.kind)||this.viewtype;return o=s[xK](E2e),a=u=1,(i=o.run(OPVIEW(e,h,this.data||this)))||(a=u=0,o.cache(i=M(o.value,null,`${n}`,null))),a||(i[D6]=s._),a||((f=i[y4o])==null||f.call(i,s,E2e)),i[j2e]&&(a||i.on$("opdrag",{},this),c=((m=this.filters)==null?void 0:m.sorter)||this.data.sorter,c===i[I_o]||(i.sorter=i[I_o]=c),c=r==null?void 0:r.match,c===i[F_o]||(i.match=i[F_o]=c),(!a||u&2)&&i.flags.reconcile(E2e,`${n}`),a||s.sym||!i.setup||i.setup(u,s,E2e),s.sym||i[sf](u)),i}astab(){var s;var e=this._ns_||"",t,r=H(),o,n,i;return o=n=1,(t=r[syt])||(o=n=0,t=r[syt]=t=w("div",null,`${e}`,null)),o||(t[D6]=r._),o||((s=t[y4o])==null||s.call(t,r,syt)),i=this.name||"Collection",i===t[B_o]&&o||(t[H_o]=t[tw](t[B_o]=i,384,t[H_o])),t}get activetab(){return!!this.route||!this.matches(".tabbed > :not(.active)")}togglesticky(e){return this.flags.toggle("sticky",!e.isIntersecting&&globalThis.document.scrollingElement.scrollTop>0),this.offsetParent}viewForModel(e){return this.querySelector(":scope > [data-id="+e.id+"]")}mount(){if(this.baselimit=this.limit,this.pivots)for(let e=0,t=B(this.pivots),r=t.length;e<r;e++){let o=t[e];this.filters.add(o,{exclude_when_off:!0,pinned:!0})}return this.search(),this.render()}unmount(){return this.limit=this.baselimit}resort(){return this.results.sort(this.results.resorter),this.render()}search(e){var s,a,u;var t=gt(this),r;t[iyt]??={};let o=this.filters,n=(a=(s=o==null?void 0:o.query)==null?void 0:s.trim)==null?void 0:a.call(s);this.results=o.filterandsort(this.sources,{query:n}),e&&e();let i=this.$head.offsetTop;i>0&&(t[iyt].hits!=(r=(u=this.results.stat)==null?void 0:u.hit)&&(t[iyt].hits=r,!0))&&(window.scrollTo(0,window.scrollY-i),this.baselimit&&(this.limit=this.baselimit),this.render())}set id(e){this[b4o]=e}get id(){return this[b4o]}render(){var Ke,Te;var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re;if(!this.activetab)return;let Oe=this.results,qe=(Ke=this.results.stat)==null?void 0:Ke.hit,Ne=this.results.length,Ie=Math.min(this.limit,Ne);n=this,n[x6n](),i=s=1,n[V_o]===1||(i=s=0,n[V_o]=1),a=this.results.size==0||void 0,a===n[lyt]||(s|=2,n[lyt]=a),a=this.layout,a===n[ayt]||(s|=2,n[ayt]=a),(!i||s&2)&&n.flagSelf$("lh-aj tiled "+(n[lyt]?"empty":"")+" "+(n[ayt]||"")),h=d=1,(c=n[z_o])||(h=d=0,n[z_o]=c=R("app-sticky-check",n,`${u}`,null)),h||!c.setup||c.setup(d,f),c[sf](d),h||n[hyt](c),$=b=1,(m=n[q_o])||($=b=0,n[q_o]=(m=this.$head,m[D6]=n,m)),x=k=1,(g=m[W_o])||(x=k=0,m[W_o]=g=w("div",m,`lh-am ${u}`,null)),x||g.on$("intersect",{silent:!0,$_:[function(Ce,Ze){return e.togglesticky(Ce)}]},this),(_=m[Z_o])||(m[Z_o]=_=w("div",m,`lh-an %name ${u}`,null)),S=this.name||"",S===m[Y_o]&&$||(m[G_o]=_[tw](m[Y_o]=S,128,m[G_o])),r=null,this.filters&&this.filterable&&(v=C=1,(r=m[X_o])||(v=C=0,m[X_o]=r=w("div",null,`lh-ao filters ${u}`,null)),v||(r[D6]=m),t=null,p(this.filters,AppFilters)&&!this.simple&&(j=r[xK](b6n),P=U=1,(t=j.run(this.obutton(this.filters)))||(P=U=0,j.cache(t=M(j.value,null,`lh-ap ${u}`,null))),P||(t[D6]=r),t[j2e]&&(O=O2,O===t[K_o]||(t.icon=t[K_o]=O),P||(t.label=!1),P||t.on$("opmenu",{},this),P||t.on$("opnav",{},this),(!P||U&2)&&t.flags.reconcile(y6n,`lh-ap ${u}`),P||!t.setup||t.setup(U,j),t[sf](U))),r[J_o]=r[tw](t,0,r[J_o]),F=r[xK](g6n),I=N=1,(L=F.run(this.filters))||(I=N=0,F.cache(L=R("op-multi-input",null,`lh-aq ${u}`,null))),I||(L[D6]=r),V=this.filters,V===r[Q_o]||(L.data=r[Q_o]=V),V=this.sources,V===r[e4o]||(L.sources=r[e4o]=V),V=r[t4o]||(r[t4o]=L.bind$("query",[null,"query"])),V[0]=this.filters,V="Filter "+qe+" results...",V===r[r4o]||(L.placeholder=r[r4o]=V),I||L.set$("aria-label","Filter content"),I||(L.role="searchbox"),I||L.on$("hotkey",{options:["mod+f"],unobstructed:!0,opfocus:!0},this),I||L.on$("navdown",{trap:!0,$_:[function(Ce,Ze){return e.$body.opnavfocus(Ce,0)}]},this),I||!L.setup||L.setup(N,F),L[sf](N),L==r[_K]||!r[_K]&&(r[_K]=L)[g4o](r)||r[_K][k4o](r[_K]=L,r),v||!r.setup||r.setup(C,W),r[sf](C)),m[o4o]=m[tw](r,0,m[o4o]),z=m[xK](k6n),Y=K=1,(q=z.run(this.oel(this.data,"coll-actions")))||(Y=K=0,z.cache(q=M(z.value,m,`${u}`,null))),q[j2e]&&((!Y||K&2)&&q.flags.reconcile(FT,`${u}`),Y||!q.setup||q.setup(K,z),q[sf](K)),q==m[FT]||!m[FT]&&(m[FT]=q)[g4o](m)||m[FT][k4o](m[FT]=q,m),X=n.__slots.actions,m[n4o]=m[tw](X,256,m[n4o]),$||!m.setup||m.setup(b,Z),m[sf](b),$||n[hyt](m),ee=te=1,(Q=n[i4o])||(ee=te=0,n[i4o]=(Q=this.$body,Q[D6]=n,Q)),ne=Q[v6n]("__",n),ie=this.ghosted,ie===n[s4o]||(Q.ghosted=n[s4o]=ie),ee||(Q.role="list"),ee||(Q.tabIndex=0),ee||(Q.multiple="multiple"),ee||(Q.clickable="clickable"),ee||(Q.checkable="checkable"),ie=this.checked,ie===n[l4o]||(Q.values=n[l4o]=ie),ee||(Q.focusonhover=!1),ee||(Q.deselectonunmount=!0),ie=this.layout,ie===n[uyt]||(te|=2,n[uyt]=ie),ee||(Q.opnav__={area:!0,list:!0}),ee||(Q.opnav="opnav"),te&2&&Q.flag$(`lh-at items no-scrollbar ${this._ns_||""} $body `+(n[uyt]||"")),o=null,this.limit<Ne&&(J=me=1,(o=n[a4o])||(J=me=0,n[a4o]=o=w("div",null,`lh-au lh_at ${u}`,null)),J||(o[D6]=ne),J||o.on$("intersect",{options:["600px 0px"],silent:!0,in:!0,$_:[function(Ce,Ze){return e.showmore(Ce)}]},this)),n[u4o]=ne[tw](o,0,n[u4o]),(ce=n[c4o])||(n[c4o]=ce=wt(1280,ne)),ye=0,we=ce.$;for(let Ce=0,Ze=B(this.results),et=Ze.length;Ce<et;Ce++){let ft=Ze[Ce];Ce>=Ie||(ae=we[xK](ft.data),_e=Ae=1,(be=ae.run(this.template(ft.data,Ce,ft)))||(_e=Ae=0,ae.cache(be=M(ae.value,null,`item lh_at ${u}`,null))),_e||(be[D6]=ce),be[j2e]&&(ve=!ft.hit||void 0,ve===be[cyt]||(Ae|=2,be[cyt]=ve),_e||(be.role="listitem"),Pe=be[h4o]||(be[h4o]={options:[null],stop:!0}),ve=ft.data,ve===Pe.options[0]||(Pe.options[0]=ve,Ae|=48),_e||be.on$("opmenu",Pe,this),Ae&32&&(Ae^=32,(Te=Pe[w6n])==null||Te.call(Pe)),_e||be.on$("opnav",{item:!0},this),ve=!ft.hit,ve===be[p4o]||be.set$("aria-disabled",be[p4o]=ve),(!_e||Ae&2)&&be.flags.reconcile(_6n,`item lh_at ${u} `+(be[cyt]?"miss":"")),_e||!be.setup||be.setup(Ae,ae),be[sf](Ae)),ce.push(be,ye++,He))}return ce[sf](ye),ee||!Q.setup||Q.setup(te,Ue),Q[sf](te),ee||n[hyt](Q),je=ue=1,(Be=n[d4o])||(je=ue=0,n[d4o]=Be=w("div",n,`lh-aw below ${u}`,null)),xe=n.__slots.placeholder,Be[f4o]=Be[tw](xe,256,Be[f4o]),je||!Be.setup||Be.setup(ue,Re),Be[sf](ue),n[S6n](s),n}showmore(){return this.limit=Math.min(this.limit+20,this.max),this.render()}};lf.prototype[Le]=De,se([jn.bind([])],lf.prototype,"data",null),se([jn.bind([])],lf.prototype,"scope",null),se([jn.bind([])],lf.prototype,"selected",null),se([jn.bind([])],lf.prototype,"limit",null),se([jn.bind([])],lf.prototype,"sorter",null),se([kf.bind([{delay:50}])],lf.prototype,"search",null),E(lf,C6n,"app-collection",258),pe("app-collection",lf,{cssns:"lh_af",cssid:"lh-af"});var _4o=lf;T();oe();an(),ge(),Hl(),We(),$e();var vK=Symbol(),E6n=Symbol(),pyt=Symbol(),j6n=le("&.kind.template?",globalThis,l=>l.kind.template),A6n=le("!&.legacy?",globalThis,l=>!l.legacy),x4o=Symbol(),v4o=Symbol(),w4o=Symbol(),U6n=le("&.value",globalThis,l=>l.value),S4o=Symbol();var dyt=Symbol();var fyt=Symbol(),C4o=Symbol(),E4o=Symbol(),j4o=Symbol(),A4o=Symbol(),U4o=Symbol(),P4o=Symbol(),T4o=Symbol(),O4o=Symbol(),R4o=Symbol(),M4o=Symbol(),L4o=Symbol(),D4o=Symbol(),N4o=Symbol(),I4o=Symbol(),F4o=Symbol();var myt=Symbol(),P6n=Symbol(),H4o=Symbol(),A2e=Symbol(),B4o=Symbol(),V4o=Symbol(),z4o=Symbol(),q4o=Symbol(),W4o=Symbol(),Z4o=Symbol(),G4o=Symbol(),Y4o=Symbol(),X4o=Symbol(),K4o=Symbol(),J4o=Symbol(),Q4o=Symbol(),e5o=Symbol(),t5o=Symbol(),r5o=Symbol(),o5o=Symbol(),n5o=Symbol(),i5o=Symbol(),s5o=Symbol(),l5o=Symbol(),a5o=Symbol(),u5o=Symbol(),c5o=Symbol(),h5o=Symbol(),p5o=Symbol(),d5o=Symbol(),f5o=Symbol(),T6n=Symbol(),O6n=Symbol(),m5o=Symbol(),U2e=Symbol.for("#template"),af=Symbol.for("##up"),$5o=Symbol.for("##register"),N6=Symbol.for("#afterVisit"),R6n=Symbol.for("#beforeReconcile"),$yt=Symbol.for("#appendChild"),uf=Symbol.for("#placeChild"),y5o=Symbol.for("#getSlot"),b5o=Symbol.for("#getRenderContext"),g5o=Symbol.for("#isRichElement"),M6n=Symbol.for("#afterReconcile"),yyt=Symbol.for("#visit");no.addSelectors([".yz-af",".yz-aj",".yz-am"],"transition");var L6n=null,x5o=!1,D6n=null,v5o=function(){return D6n||=new Promise(function(l){return import("/assets/chunks/ide.SVKDJZOG.js").then(function(e){return x5o=!0,l(L6n=e)})})};globalThis.loadide=v5o;var k5o=Symbol(),gyt=class gyt{constructor(e){this.target=e,this.stacks={},this.added=new Set,this.suspended=!1,re(this,k5o)}add(e){if(!this.has(e))return this.added.add(e),this.suspended?void 0:this.target.flags.incr(e)}remove(e){if(this.has(e))return this.added.delete(e),this.suspended?void 0:this.target.flags.decr(e)}has(e){return this.added.has(e)}toggle(e,t=null){return t==null?this.toggle(e,!this.has(e)):(t?this.add(e):this.remove(e),this)}clear(){return this.suspend(),this.stacks={},this.added=new Set,this}suspend(){if(this.suspended!=!0&&(this.suspended=!0,!0))for(let e of B(this.added))this.target.flags.decr(e);return this}unsuspend(){if(this.suspended!=!1&&(this.suspended=!1,!0))for(let e of B(this.added))this.target.flags.incr(e);return this}incr(e,t=0){var r=this;let o=this.stacks,n=o[e]||0;return n<1&&this.add(e),t>0&&setTimeout(function(){return r.decr(e)},t),o[e]=Math.max(n,0)+1}decr(e){let t=this.stacks,r=t[e]||0;return r==1&&this.remove(e),t[e]=Math.max(r,1)-1}};E(gyt,k5o,"Flagger",16);var byt=gyt,N6n=Symbol(),I6=class I6 extends Ve("op","OpComponent",de){get $drawer(){let e=w("div",null,`yz-ai ${this._ns_||""} $drawer`,null);return Object.defineProperty(this,"$drawer",{value:e}),e}get $filters(){let e=R("op-multi-input",null,`yz-ak yz_ai ${this._ns_||""} $filters`,null);return Object.defineProperty(this,"$filters",{value:e}),e}get $templates(){let e=R("op-options",null,`yz-ao sm items no-scrollbar list yz_am yz_ai ${this._ns_||""} $templates`,null);return Object.defineProperty(this,"$templates",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.view=e?e.view:void 0,this.pip=e&&(o=e.pip)!==void 0?o:!1,this.pinned=e&&(o=e.pinned)!==void 0?o:!1,this.wizard=e&&(o=e.wizard)!==void 0?o:!1,this.opaque=e&&(o=e.opaque)!==void 0?o:!1,this.templates=e&&(o=e.templates)!==void 0?o:Scrim.all(j6n,A6n),this.docflags=e&&(o=e.docflags)!==void 0?o:new byt(globalThis.document),this.entered=e&&(o=e.entered)!==void 0?o:!1,this.noscroll=e&&(o=e.noscroll)!==void 0?o:!0,this.memo=e&&(o=e.memo)!==void 0?o:{views:{},blank:null},this.results=e&&(o=e.results)!==void 0?o:[]}get filters(){return this.data.templatefilters}get scope(){return this.data.$route.object}get scrim(){return p(this.scope,CourseEntry)?this.scope:p(this.scope,Scrim)?this.scope:this.blankScrim}get entry(){return p(this.data,CourseEntry)?this.data:null}async mount(){var e=this;return globalThis.ide=this,OP.ui.overlays.add(this),this.suspended&&this.unsuspend(),this.templates&&this.filters&&OP.connected.then(function(){if(OP.user)return e.filters.add(OP.user,!1)}),this.wizard&&await OP.connected,await Cr(),this.emit("ready"),this.flags.add("ready"),this.entered=!0}persist(){throw this.log("persist scrim now!",this.wizard),"Dot use"}unmount(){return this.suspend(),this.memo={views:{}},this.view&&(this.view.remove(),this.view=null),this[U2e]=null}set template(e){var t,r;this[U2e]!=e&&(this[U2e]=e,!0)&&(this.router.query.tpl=e?e.id:void 0,(r=(t=this.view)==null?void 0:t.resetWithTemplate)==null||r.call(t,e))}get template(){return this[U2e]}get showtemplates(){var e,t,r;return this.templates&&((e=this.scrim)==null?void 0:e.unsaved)&&((r=(t=this.scrim)==null?void 0:t.kind)==null?void 0:r.blank)}get wizard(){return this.showtemplates}opnavfocus(e){return super.opnavfocus(...arguments)}opnavfocusout(e,t){return this.opnavexit(e)}minimize(){var n,i,s,a;var e=gt(this);if(globalThis.embed)return;e[vK]??={last:0};let t=this.scrim.branch;if(t!=null&&t.autoplay){(i=(n=t.autoplay)==null?void 0:n.cancel)==null||i.call(n);return}let r=Date.now();r-e[vK].last>5*1e3?(e[vK].toast=OP.toast("Press esc again to close scrim",{duration:2*1e3}),e[vK].last=r):((a=(s=e[vK].toast)==null?void 0:s.dismiss)==null||a.call(s),this.emit("close"))}opnavexit(e){var t,r,o,n,i;return this.wizard&&((r=(t=this.view)==null?void 0:t.branch)!=null&&r.trunk)?((i=(n=(o=this.view)==null?void 0:o.branch)==null?void 0:n.discard)==null||i.call(n),this.emit("close")):this.minimize()}escape(){var e,t,r,o,n;return this.wizard&&((t=(e=this.view)==null?void 0:e.branch)!=null&&t.trunk)?((n=(o=(r=this.view)==null?void 0:r.branch)==null?void 0:o.discard)==null||n.call(o),this.emit("close")):this.minimize()}transitionin(){OP.ui.overlays.add(this),this.docflags.toggle("blur-site",!!this.wizard),this.docflags.unsuspend();try{return globalThis.app.$main.suspend()}catch{}}transitionincancel(){return this.docflags.suspend()}transitioninend(){return this.docflags.toggle("site-covered",!this.wizard),OP.ui.overlays.add(this)}transitionout(){var e,t;(t=(e=this.view)==null?void 0:e.suspend)==null||t.call(e),this.docflags.suspend(),OP.ui.overlays.remove(this);try{return globalThis.app.$main.unsuspend()}catch{}}transitionoutcancel(){var e,t;return this.docflags.unsuspend(),(t=(e=this.view)==null?void 0:e.unsuspend)==null?void 0:t.call(e)}transitionoutend(){return this.docflags.clear()}idefortarget(e){var a;var t=this._ns_||"",r,o={},n,i,s;return this.memo.views[e]||=(n=i=0,r=r=R("scrim-view",null,`view ${t}`,null),n||(r[af]=o._),n||((a=r[$5o])==null||a.call(r,o,x4o)),e===r[v4o]||(r.data=r[v4o]=e),s=this,s===r[w4o]||(r.modal=r[w4o]=s),n||o.sym||!r.setup||r.setup(i,o,x4o),o.sym||r[N6](i),r)}loadtemplates(){return!0}refiltered(e){var r,o,n,i,s,a;var t;if(this.filters){let u=this.filters.active;this.router.query.in=OP.encodeURIComponent(u.map(U6n));for(let d=0,f=B(this.filters),m=f.length;d<m;d++){let $=f[d];p(t=$.value,OPUser)&&$.value.data}let c=(n=(o=(r=this.filters)==null?void 0:r.query)==null?void 0:o.trim)==null?void 0:n.call(o),h=this.filters.filterandsort(this.templates,{query:c});this.results=h.desc(function(d){return d.hit?d.data.last_forked:0}),e&&e(),this.render(),(a=(s=(i=this.$templates)==null?void 0:i.$ghosts)==null?void 0:s.reposition)==null||a.call(s)}return!0}checkiscovering(){var e=gt(this);return e[E6n]??={state:!1}}togglecovering(e=!1){var t=gt(this);if(t[pyt]??={state:!1},t[pyt].state!=e&&(t[pyt].state=e,!0))return globalThis.document.flags.toggle(e,!0)}get blankScrim(){return this.memo.blank&&this.memo.blank.kind!="blank"&&(this.memo.blank=null),this.memo.blank||=Scrim.new({kind:"blank",spiv:100,owner:OP.pov,origin_snapshot:Scrim.BaseSnapshot})}async render(){var Z;var e=this,t,r,o,n,i,s,a,u,c,h=this._ns_||"",d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K;let X=this.memo;if(X.route!=(r=this.data.$route)&&(X.route=r,!0)){let Q=X.route.find(function(ee){var te;return p(te=ee.object,Scrim)||p(te,CourseEntry)});if(Q||(LL("found no scrim for ide url"),Q={object:this.blankScrim}),Q&&X.target!=Q.object){this.suspend(),x5o||await v5o();let ee=X.target,te=X.target=Q.object,ne=await this.idefortarget(te);ne.$route=this.data.$route;let ie=this.view;Bt(ne,this),ie&&(ie.suspend(),Jn(ie),o=this.memo.views[ie.data],delete this.memo.views[ie.data]),this.view=ne,this.refiltered(),this.unsuspend()}}if(this.view&&(this.view.$route=this.data.$route),n=this,n[R6n](),i=s=1,n[S4o]===1||(i=s=0,n[S4o]=1),i||(n.ease="ease"),a=this.wizard||void 0,a===n[dyt]||(s|=2,n[dyt]=a),a=((Z=this.view)==null?void 0:Z.studio)||void 0,a===n[fyt]||(s|=2,n[fyt]=a),i||(n.role="main"),i||n.on$("pin",{$_:[function(Q,ee){return e.pinned=!0}]},this),i||n.on$("close",{$_:[function(Q,ee){return e.close(Q)}]},this),i||n.on$("escape",{$_:[function(Q,ee){return e.escape(Q)}]},this),i||n.on$("opnav",{area:!0,stack:!0},this),(!i||s&2)&&n.flagSelf$((n[dyt]?"wizard":"")+" "+(n[fyt]?"studio":"")),t=null,this.wizard){u=c=1,(t=n[C4o])||(u=c=0,n[C4o]=(t=this.$drawer,t[af]=null,t)),u||(t[af]=n),u||(t.ease="ease"),(d=t[E4o])||(t[E4o]=d=w("div",t,`yz-aj %head yz_ai ${h}`,null)),m=$=1,(f=t[j4o])||(m=$=0,t[j4o]=(f=this.$filters,f[af]=d,f)),b=this.filters,b===t[A4o]||(f.data=t[A4o]=b),b=t[U4o]||(t[U4o]=f.bind$("query",[null,"query"])),b[0]=this.filters,m||(f.placeholder="Find a template (by topic, creator, framework and more)..."),m||(f.role="searchbox"),b=this.templates,b===t[P4o]||(f.sources=t[P4o]=b),b=this.filters.sources,b===t[T4o]||(f.list=t[T4o]=b),m||!f.setup||f.setup($,g),f[N6]($),m||d[$yt](f),(x=t[O4o])||(t[O4o]=x=w("div",d,`yz-al yz_ai ${h}`,null)),_=S=1,(k=t[R4o])||(_=S=0,t[R4o]=k=w("div",t,`yz-am yz_ai ${h}`,null)),_||k.on$("tapped",{trap:!0},this),(v=t[M4o])||(t[M4o]=v=w("div",k,`yz-an label yz_am yz_ai ${h}`,null)),_||v[uf]("Matching templates"),j=P=1,(C=t[L4o])||(j=P=0,t[L4o]=(C=this.$templates,C[af]=k,C)),U=C[y5o]("__",t),O=t[D4o]||(t[D4o]=C.bind$("selection",[this,"template"])),j||(C.checkable="checkable"),j||(C.ghosted=!0),j||(C.followonhover="follow-on-hover"),j||(C.deselectonblur=!1),O=this.templates,O===t[N4o]||(C.data=t[N4o]=O),j||(C.multiple=!1),O=this.filters,O===t[I4o]||(C.filters=t[I4o]=O),j||C.on$("opnav",{area:!0,list:!0},this),(L=t[F4o])||(t[F4o]=L=wt(0,U)),I=0,F=L.$;for(let Q=0,ee=B(this.results),te=ee.length;Q<te;Q++){let ne=ee[Q];N=F[b5o](ne.data),W=z=1,(V=N.run(this.templateitem(ne.data)))||(W=z=0,N.cache(V=M(N.value,null,`yz_am yz_ai ${h}`,null))),W||(V[af]=L),V[g5o]&&(W||(V.role="listitem"),q=!ne.hit||void 0,q===V[myt]||(z|=2,V[myt]=q),(!W||z&2)&&V.flags.reconcile(P6n,`yz_am yz_ai ${h} `+(V[myt]?"miss":"")),W||!V.setup||V.setup(z,N),V[N6](z)),L.push(V,I++,Y)}L[N6](I),j||!C.setup||C.setup(P,K),C[N6](P),j||k[$yt](C)}return n[H4o]=n[uf](t,0,n[H4o]),n[M6n](s),n}show(){throw"scrim-modal.show deprecated"}async close(e){if(globalThis.embed)return;let t="/",r=Xt.states.filter(function(n,i,s){return!s[i+1]||s[i+1].type=="push"}),o=null;for(;o=r.pop();){let n=await AppUrl.parse(o.path);if(n&&!n.ide){t=n;break}}return Xt.go(String(t)),!0}templateitem(e){var ie,J,me,ce;var t,r,o,n=this._ns_||"",i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q;let ee=e.topics.at(0),te=e.creator,ne=e.publisher;return a=u=1,(i=s[A2e])||(a=u=0,i=s[A2e]=i=R("op",null,`yz-aq ${n}`,null)),a||(i[af]=s._),a||((ie=i[$5o])==null||ie.call(i,s,A2e)),c=i[y5o]("__",i),e===i[B4o]||(i.data=i[B4o]=e),h=ee==null?void 0:ee.color,h===i[V4o]||(i.opcolor=i[V4o]=h),a||(i.opnav="opnav"),a||(i.contour="contour"),d=i[z4o]||(i[z4o]={options:[null]}),h=e,h===d.options[0]||(d.options[0]=h,u|=48),a||i.on$("opmenu",d,this),u&32&&(u^=32,(J=d[yyt])==null||J.call(d)),(f=i[q4o])||(i[q4o]=f=w("div",c,`yz-ar %leftbd yz_aq ${n}`,null)),a||(m=w("div",c,`yz-as main yz_aq ${n}`,null)),($=i[W4o])||(i[W4o]=$=w("div",m,`yz-at radio yz_aq ${n}`,null)),(b=i[Z4o])||(i[Z4o]=b=w("div",m,`label yz_aq ${n}`,null)),g=e.aslabel,g===i[Y4o]&&a||(i[G4o]=b[uf](i[Y4o]=g,384,i[G4o])),k=_=1,(x=i[X4o])||(k=_=0,i[X4o]=x=R("op-icon",m,`yz-av yz_aq ${n}`,null)),S=e.asicon||"scrim",S===i[K4o]||(x.data=i[K4o]=S),k||!x.setup||x.setup(_,v),x[N6](_),k||m[$yt](x),j=P=1,(C=i[J4o])||(j=P=0,i[J4o]=C=w("div",c,`yz-aw legend compact yz_aq ${n}`,null)),t=null,ne&&ne!=te?(U=O=1,(t=C[Q4o])||(U=O=0,C[Q4o]=t=w("span",null,`yz_aq ${n}`,null)),U||(t[af]=C),ne===t[e5o]||(t.data=t[e5o]=ne),L=t[t5o]||(t[t5o]={options:[null]}),I=ne,I===L.options[0]||(L.options[0]=I,O|=48),U||t.on$("opmenu",L,this),O&32&&(O^=32,(me=L[yyt])==null||me.call(L)),U||t[uf]("By "),I=ne==null?void 0:ne.name,I===t[o5o]&&U||(t[r5o]=t[uf](t[o5o]=I,256,t[r5o]))):(F=N=1,(t=C[n5o])||(F=N=0,C[n5o]=t=w("span",null,`yz_aq ${n}`,null)),F||(t[af]=C),te===t[i5o]||(t.data=t[i5o]=te),V=t[s5o]||(t[s5o]={options:[null]}),W=te,W===V.options[0]||(V.options[0]=W,N|=48),F||t.on$("opmenu",V,this),N&32&&(N^=32,(ce=V[yyt])==null||ce.call(V)),F||t[uf]("By "),W=te==null?void 0:te.name,W===t[a5o]&&F||(t[l5o]=t[uf](t[a5o]=W,256,t[l5o]))),C[u5o]=C[uf](t,0,C[u5o]),r=null,e.kind!="template"&&(z=q=1,(r=C[c5o])||(z=q=0,C[c5o]=r=w("span",null,`yz_aq ${n}`,null)),z||(r[af]=C),pt.context=r[p5o]||(r[p5o]={_:r}),Y=String(e.kind),pt.context=null,Y===r[d5o]&&z||(r[h5o]=r[uf](r[d5o]=Y,384,r[h5o]))),C[f5o]=C[uf](r,0,C[f5o]),o=null,e.last_forked&&(K=C[b5o](O6n),X=Z=1,(o=K.run(this.ostat(e.$.last_forked,{label:"Used"})))||(X=Z=0,K.cache(o=M(K.value,null,`yz_aq ${n}`,null))),X||(o[af]=C),o[g5o]&&(X||(o.label=!1),(!X||Z&2)&&o.flags.reconcile(T6n,`yz_aq ${n}`),X||!o.setup||o.setup(Z,K),o[N6](Z))),C[m5o]=C[uf](o,0,C[m5o]),j||!C.setup||C.setup(P,Q),C[N6](P),a||s.sym||!i.setup||i.setup(u,s,A2e),s.sym||i[N6](u),i}};I6.prototype[Le]=De,se([jn.bind([])],I6.prototype,"noscroll",null),se([BK.bind([])],I6.prototype,"minimize",null),se([kf.bind([{delay:50}])],I6.prototype,"refiltered",null),se([Fl.bind([])],I6.prototype,"templateitem",null),E(I6,N6n,"app-ide",266),pe("app-ide",I6,{cssns:"yz_af",cssid:"yz-af"});var _5o=I6;T();oe();ge(),En(),an(),$e(),$i();var kyt=Symbol("get_chrome"),w5o=Symbol(),_yt=Symbol(),xyt,S5o=Symbol();var vyt=Symbol();var wyt=Symbol(),C5o=Symbol();var E5o=Symbol(),j5o=Symbol(),A5o=Symbol(),U5o=Symbol(),P5o=Symbol(),T5o=Symbol(),O5o=Symbol(),R5o=Symbol(),M5o=Symbol(),L5o=Symbol(),D5o=Symbol(),HT=Symbol(),I6n=Symbol(),F6n=Symbol(),H6n=Symbol(),N5o=Symbol(),I5o=Symbol.for("#scrollTop"),Syt=Symbol.for("#strollstick"),B6n=Symbol.for("#beforeReconcile"),P2e=Symbol.for("##up"),F6=Symbol.for("#afterVisit"),V6n=Symbol.for("#getRenderContext"),F5o=Symbol.for("#isRichElement"),z6n=Symbol.for("#insertInto"),q6n=Symbol.for("#replaceWith"),H5o=Symbol.for("#placeChild"),W6n=Symbol.for("#getSlot"),T2e=Symbol.for("#appendChild"),Z6n=Symbol.for("#visit"),G6n=Symbol.for("#getDynamicContext"),Y6n=Symbol.for("#afterReconcile");no.addSelectors([".lf-av",".xsheet"],"transition");globalThis.INITIAL_RENDER=!1;var X6n=Symbol(),wK=class wK extends Ve("op","OpComponent",de){get $nav(){let e=R("app-nav",null,`lf-ar ${this._ns_||""} $nav`,null);return Object.defineProperty(this,"$nav",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.target=e?e.target:void 0}set get_chrome(e){this.get_chrome.$set(e,this,kyt,"get_chrome")}get get_chrome(){return this.get_chrome.$get(this,kyt,"get_chrome")}get get_chrome(){return this[w5o]||y((xyt=this.action(),xyt.callback=function(){return window.open("https://www.google.com/chrome/","_blank")},xyt),this,kyt,"get_chrome",w5o,wK.prototype)}mount(){return!0}get scroller(){return globalThis.document.scrollingElement}get app(){return globalThis.app}scrolled(){var e;let t=Math.min(this.scroller.scrollTop,36);if(this[I5o]=t,this[Syt]!=(e=t>20)&&(this[Syt]=e,!0))return this.flags.toggle("scrolling",this[Syt]),this.offsetParent}rendered(){var e=gt(this),t;if(e[_yt]??={},e[_yt].page!=(t=this.data)&&(e[_yt].page=t,!0)&&this[I5o])return this.scroller.scrollTop=0}render(){var Ne;var e=this,t,r,o,n,i,s,a=this._ns_||"",u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe;if(!this.target)return;let qe=this.data;return o=this,o[B6n](),n=i=1,o[S5o]===1||(n=i=0,o[S5o]=1),s=qe==null?void 0:qe.cssflags,s===o[vyt]||(i|=2,o[vyt]=s),s=(APP==null?void 0:APP.announcement.visible)||void 0,s===o[wyt]||(i|=2,o[wyt]=s),(!n||i&2)&&o.flagSelf$((o[vyt]||"")+" "+(o[wyt]?"with-banner":"")),t=null,APP!=null&&APP.announcement.visible?(u=c=1,(t=o[C5o])||(u=c=0,o[C5o]=t=R("app-banner",null,`lf-ah ${a}`,null)),u||(t[P2e]=o),u||!t.setup||t.setup(c,h),t[F6](c)):globalThis.safari,o[E5o]=o[H5o](t,0,o[E5o]),j=P=1,(C=o[j5o])||(j=P=0,o[j5o]=C=R("op-button",o,`lf-am ${a}`,null)),U=C[W6n]("__",o),j||(C.tabIndex=0),O=o[A5o]||(o[A5o]={trap:!0,wait:[null],$_:[function(Ie,Ke){return e.$nav.focin?Ie.target.focus():e.$nav.focin()}]}),O.wait[0]=100,j||C.on$("press",O,this),I=F=1,(L=o[U5o])||(I=F=0,o[U5o]=L=R("op-icon",U,`${a}`,null)),I||(L.data="menu"),I||!L.setup||L.setup(F,N),L[F6](F),I||U[T2e](L),j||!C.setup||C.setup(P,V),C[F6](P),j||o[T2e](C),z=q=1,(W=o[P5o])||(z=q=0,o[P5o]=W=w("div",o,`lf-ao ${a}`,null)),z||W.set$("aria-hidden",!0),K=X=1,(Y=o[T5o])||(K=X=0,o[T5o]=Y=w("div",o,`lf-ap ${a}`,null)),K||Y.set$("aria-hidden",!0),Q=ee=1,(Z=o[O5o])||(Q=ee=0,o[O5o]=Z=R("i-global",o,`${a}`,null)),Q||Z.on$("scroll",{silent:!0,$_:[function(Ie,Ke){return e.scrolled(Ie)}]},this),Q||!Z.setup||Z.setup(ee,te),Z[F6](ee),Q||o[T2e](Z),ie=J=1,(ne=o[R5o])||(ie=J=0,o[R5o]=(ne=this.$nav,ne[P2e]=o,ne)),ie||(ne.role="none"),ie||!ne.setup||ne.setup(J,me),ne[F6](J),ie||o[T2e](ne),ye=we=1,(ce=o[M5o])||(ye=we=0,o[M5o]=ce=w("div",o,`lf-as %container covered ${a}`,null)),ye||(ce.role="none"),be=_e=1,(ae=ce[L5o])||(be=_e=0,ce[L5o]=ae=w("main",ce,`lf-at %body ${a}`,null)),be||ae.on$("pointerdown",{silent:!0,$_:[function(Ie,Ke){return e.$nav.hide(Ie)}]},this),Ae=ae[D5o]||(ae[D5o]={options:[null],stop:!0}),ve=qe,ve===Ae.options[0]||(Ae.options[0]=ve,_e|=48),be||ae.on$("opmenu",Ae,this),_e&32&&(_e^=32,(Ne=Ae[Z6n])==null||Ne.call(Ae)),be||(ae.role="main"),Pe=ae[G6n](I6n,qe),Ue=Be=1,(He=Pe.run(this.opage(qe,this.target)))||(Ue=Be=0,Pe.cache(He=M(Pe.value,null,`page lf_at ${a}`,null))),Ue||(He[P2e]=ae),He[F5o]&&((!Ue||Be&2)&&He.flags.reconcile(HT,`page lf_at ${a}`),Ue||!He.setup||He.setup(Be,Pe),He[F6](Be)),He==ae[HT]||!ae[HT]&&(ae[HT]=He)[z6n](ae)||ae[HT][q6n](ae[HT]=He,ae),be||!ae.setup||ae.setup(_e,je),ae[F6](_e),r=null,qe&&(ue=ce[V6n](H6n),xe=Re=1,(r=ue.run(this.oel(qe,"page-fab")))||(xe=Re=0,ue.cache(r=M(ue.value,null,`lf-av ${a}`,null))),xe||(r[P2e]=ce),r[F5o]&&(xe||(r.ease="ease"),xe||(r.role="none"),(!xe||Re&2)&&r.flags.reconcile(F6n,`lf-av ${a}`),xe||!r.setup||r.setup(Re,ue),r[F6](Re))),ce[N5o]=ce[H5o](r,0,ce[N5o]),ye||!ce.setup||ce.setup(we,Oe),ce[F6](we),o[Y6n](i),o}};E(wK,X6n,"app-main",2),pe("app-main",wK,{cssns:"lf_af",cssid:"lf-af"});var B5o=wK;T();T();oe();$e();var Cyt=Symbol("go"),V5o=Symbol(),Eyt,z5o=Symbol();var jyt=Symbol();var Ayt=Symbol(),BT=Symbol(),K6n=Symbol(),O2e=Symbol(),q5o=Symbol(),W5o=Symbol(),Z5o=Symbol(),G5o=Symbol(),Y5o=Symbol(),VT=Symbol(),J6n=Symbol(),Q6n=Symbol.for("#beforeReconcile"),X5o=Symbol.for("#getRenderContext"),K5o=Symbol.for("#isRichElement"),R2e=Symbol.for("#afterVisit"),J5o=Symbol.for("#insertInto"),Q5o=Symbol.for("#replaceWith"),ekn=Symbol.for("#afterReconcile"),tkn=Symbol.for("##up"),rkn=Symbol.for("##register"),okn=Symbol.for("#getSlot"),M2e=Symbol.for("#placeChild"),nkn=Symbol(),SK=class SK extends Ve("op-stack-modal","OpStackModalComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.title=e&&(o=e.title)!==void 0?o:"Welcome to Scrimba"}set go(e){this.go.$set(e,this,Cyt,"go")}get go(){return this.go.$get(this,Cyt,"go")}get go(){return this[V5o]||y((Eyt=this.action(),Eyt.callback=function(){return this.emit("close")},Eyt),this,Cyt,"go",V5o,SK.prototype)}render(){var e,t,r,o,n,i=this._ns_||"",s,a,u;return e=this,e[Q6n](),t=r=1,e[z5o]===1||(t=r=0,e[z5o]=1),t||(e.popup__={modal:!0}),t||(e.popup="popup"),t||(e.role="dialog"),o=this.up||void 0,o===e[jyt]||(r|=2,e[jyt]=o),o=!this.up||void 0,o===e[Ayt]||(r|=2,e[Ayt]=o),(!t||r&2)&&e.flagSelf$("yb-af odialog "+(e[jyt]?"up":"")+" "+(e[Ayt]?"down":"")),n=e[X5o](K6n),a=u=1,(s=n.run(this.body()))||(a=u=0,n.cache(s=M(n.value,e,`${i}`,null))),s[K5o]&&((!a||u&2)&&s.flags.reconcile(BT,`${i}`),a||!s.setup||s.setup(u,n),s[R2e](u)),s==e[BT]||!e[BT]&&(e[BT]=s)[J5o](e)||e[BT][Q5o](e[BT]=s,e),e[ekn](r),e}body(){var k,_;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x;return o=n=1,(t=r[O2e])||(o=n=0,t=r[O2e]=t=R("op-sheet",null,`yb-ah ${e}`,null)),o||(t[tkn]=r._),o||((k=t[rkn])==null||k.call(t,r,O2e)),i=t[okn]("__",t),a=u=1,(s=t[q5o])||(a=u=0,t[q5o]=s=w("div",i,`yb-ai workaround ${e}`,null)),a||(c=w("h1",s,`yb-aj ${e}`,"Welcome to Scrimba")),(h=s[W5o])||(s[W5o]=h=w("p",s,`large ${e}`,null)),a||h[M2e]("You've unlocked an extra "),(d=s[Z5o])||(s[Z5o]=d=w("span",h,`${e}`,null)),f=((_=OP==null?void 0:OP.session)==null?void 0:_.offer.percent_off)||0,f===s[Y5o]&&a||(s[G5o]=d[M2e](s[Y5o]=f,128,s[G5o])),a||d[M2e]("% OFF"),a||h[M2e](" the Pro subscription when you upgrade from a free account. Yay!"),m=s[X5o](J6n),b=g=1,($=m.run(this.obutton(this.go)))||(b=g=0,m.cache($=M(m.value,s,`yb-am xl ${e}`,null))),$[K5o]&&(b||($.label="Let's go!"),(!b||g&2)&&$.flags.reconcile(VT,`yb-am xl ${e}`),b||!$.setup||$.setup(g,m),$[R2e](g)),$==s[VT]||!s[VT]&&(s[VT]=$)[J5o](s)||s[VT][Q5o](s[VT]=$,s),a||!s.setup||s.setup(u,x),s[R2e](u),o||r.sym||!t.setup||t.setup(n,r,O2e),r.sym||t[R2e](n),t}};E(SK,nkn,"afl-welcome-modal",2),pe("afl-welcome-modal",SK,{});var e3o=SK;T();oe();function ikn(l,e){return l[l.length+e]}ge(),dt(),$e();var Uyt=Symbol("feedback"),t3o=Symbol(),Pyt=Symbol("worthy-price"),r3o=Symbol(),Tyt=Symbol("reason"),o3o=Symbol(),Oyt=Symbol("cancel-subscription"),n3o=Symbol(),Ryt=Symbol("pause"),i3o=Symbol(),Myt=Symbol("pause-1"),s3o=Symbol(),Lyt=Symbol("pause-2"),l3o=Symbol(),Dyt=Symbol("pause-3"),a3o=Symbol(),Nyt=Symbol("claim-discount"),u3o=Symbol(),Iyt=Symbol("undo-cancellation"),c3o=Symbol(),h3o,p3o,d3o,Fyt,Hyt,Byt,Vyt,zyt,zT,qyt,L2e=Symbol(),f3o=Symbol(),qT=Symbol(),skn=Symbol(),m3o=Symbol(),$3o=Symbol(),D2e=Symbol(),y3o=Symbol(),WT=Symbol(),lkn=Symbol(),akn=Symbol(),ukn=Symbol(),b3o=Symbol(),g3o=Symbol(),ZT=Symbol(),ckn=Symbol(),k3o=Symbol(),_3o=Symbol(),x3o=Symbol(),v3o=Symbol(),N2e=Symbol(),w3o=Symbol(),S3o=Symbol(),C3o=Symbol(),E3o=Symbol(),j3o=Symbol(),A3o=Symbol(),U3o=Symbol(),GT=Symbol(),hkn=Symbol(),YT=Symbol(),pkn=Symbol(),XT=Symbol(),dkn=Symbol(),P3o=Symbol(),KT=Symbol(),fkn=Symbol(),T3o=Symbol(),O3o=Symbol(),R3o=Symbol(),M3o=Symbol(),L3o=Symbol(),D3o=Symbol(),N3o=Symbol(),I2e=Symbol(),I3o=Symbol(),F3o=Symbol(),H3o=Symbol(),B3o=Symbol(),V3o=Symbol(),z3o=Symbol(),q3o=Symbol(),W3o=Symbol(),Z3o=Symbol(),mkn=Symbol(),$kn=Symbol(),G3o=Symbol(),ykn=Symbol(),bkn=Symbol(),Y3o=Symbol(),X3o=Symbol(),K3o=Symbol(),J3o=Symbol(),Q3o=Symbol(),JT=Symbol(),gkn=Symbol(),exo=Symbol(),txo=Symbol(),rxo=Symbol(),F2e=Symbol(),oxo=Symbol(),QT=Symbol(),kkn=Symbol(),nxo=Symbol(),eO=Symbol(),_kn=Symbol(),ixo=Symbol(),sxo=Symbol(),lxo=Symbol(),axo=Symbol(),H2e=Symbol(),uxo=Symbol(),cxo=Symbol(),hxo=Symbol(),pxo=Symbol(),dxo=Symbol(),fxo=Symbol(),mxo=Symbol(),$xo=Symbol(),yxo=Symbol(),bxo=Symbol(),tO=Symbol(),xkn=Symbol(),rO=Symbol(),vkn=Symbol(),gxo=Symbol(),B2e=Symbol(),kxo=Symbol(),_xo=Symbol(),xxo=Symbol(),vxo=Symbol(),wxo=Symbol(),Sxo=Symbol(),oO=Symbol(),wkn=Symbol(),Cxo=Symbol(),nO=Symbol(),Skn=Symbol(),mu=Symbol.for("##up"),rw=Symbol.for("##register"),ow=Symbol.for("#getSlot"),Ol=Symbol.for("#getRenderContext"),Rl=Symbol.for("#isRichElement"),Vr=Symbol.for("#afterVisit"),Pc=Symbol.for("#insertInto"),Tc=Symbol.for("#replaceWith"),V2e=Symbol.for("#appendChild"),Wo=Symbol.for("#placeChild"),Ckn=Symbol(),Oc=class Oc extends Ve("op-stack-modal","OpStackModalComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.mspaid=e?e.mspaid:void 0}set feedback(e){this.feedback.$set(e,this,Uyt,"feedback")}get feedback(){return this.feedback.$get(this,Uyt,"feedback")}get feedback(){return this[t3o]||y((h3o=this.string(),h3o),this,Uyt,"feedback",t3o,Oc.prototype)}set worthyprice(e){this.worthyprice.$set(e,this,Pyt,"worthyprice")}get worthyprice(){return this.worthyprice.$get(this,Pyt,"worthyprice")}get worthyprice(){return this[r3o]||y((p3o=this.text(),p3o),this,Pyt,"worthyprice",r3o,Oc.prototype)}set reason(e){this.reason.$set(e,this,Tyt,"reason")}get reason(){return this.reason.$get(this,Tyt,"reason")}get reason(){return this[o3o]||y((d3o=this.enum({time:{label:"I don't have enough time right now",short:"no time",icon:"clock"},learned:{label:"I have learned everything I wanted to learn",short:"learned everything",icon:"graduation_cap"},price:{label:"The price is too high for me right now",short:"too expensive",icon:"money"},other:{label:"Other",icon:"other"}}),d3o),this,Tyt,"reason",o3o,Oc.prototype)}get sub(){return this.data}async mount(){return await this.sub,await ME,await ME.$children,await APP.stripe,await APP.stripe.pro,await APP.stripe.pro.default_price,await APP.stripe.pro.churn_coupon,this.mspaid=await ME.getmspaid()}get currentprice(){var e,t;return(t=(e=ikn(this.sub.items,-1))==null?void 0:e.price)==null?void 0:t.asstring}get standardmonthlyprice(){return APP.pro.default_price.unit_amount.toString()}get reasonstr(){return"reason: "+this.reason.label+`
feedback: `+this.feedback+`
desired price: `+this.worthyprice}get newdiscount(){var r;if(!APP.pro)return;let e=(r=APP.pro.churn_coupon)==null?void 0:r.percent_off;if(!e)return;if(e-this.currentdiscountpercent>0||!this.currentdiscountpercent)return e}get currentdiscountpercent(){var e,t;return(t=(e=this.sub.discount)==null?void 0:e.coupon)==null?void 0:t.percent_off}get discountavailable(){return this.newdiscount&&this.mspaid>21*24*60*60*1e3}set cancelsubscription(e){this.cancelsubscription.$set(e,this,Oyt,"cancelsubscription")}get cancelsubscription(){return this.cancelsubscription.$get(this,Oyt,"cancelsubscription")}get cancelsubscription(){return this[n3o]||y((Fyt=this.action(),Fyt.callback=async function(){await this.sub.cancel_subscription_srv(this.reasonstr||this.sub.pause_reason);try{this.sub.canceled_pro=!0}catch{}return this.go("canceled")},Fyt),this,Oyt,"cancelsubscription",n3o,Oc.prototype)}set pause(e){this.pause.$set(e,this,Ryt,"pause")}get pause(){return this.pause.$get(this,Ryt,"pause")}get pause(){return this[i3o]||y((Hyt=this.action(),Hyt.callback=async function(e){await this.sub.pause_subscription(e,this.reasonstr);try{this.sub.paused_pro=!0}catch{}return OP.toast("Subscription Paused for "+e+" months"),this.end(!0)},Hyt),this,Ryt,"pause",i3o,Oc.prototype)}set pause1(e){this.pause1.$set(e,this,Myt,"pause1")}get pause1(){return this.pause1.$get(this,Myt,"pause1")}get pause1(){return this[s3o]||y((Byt=this.action(),Byt.callback=function(){return this.pause(1)},Byt),this,Myt,"pause1",s3o,Oc.prototype)}set pause2(e){this.pause2.$set(e,this,Lyt,"pause2")}get pause2(){return this.pause2.$get(this,Lyt,"pause2")}get pause2(){return this[l3o]||y((Vyt=this.action(),Vyt.callback=function(){return this.pause(2)},Vyt),this,Lyt,"pause2",l3o,Oc.prototype)}set pause3(e){this.pause3.$set(e,this,Dyt,"pause3")}get pause3(){return this.pause3.$get(this,Dyt,"pause3")}get pause3(){return this[a3o]||y((zyt=this.action(),zyt.callback=function(){return this.pause(3)},zyt),this,Dyt,"pause3",a3o,Oc.prototype)}set claimdiscount(e){this.claimdiscount.$set(e,this,Nyt,"claimdiscount")}get claimdiscount(){return this.claimdiscount.$get(this,Nyt,"claimdiscount")}get claimdiscount(){return this[u3o]||y((zT=this.action(),p(zT.if,Function)?zT.if(function(){return this.discountavailable}):zT.if=function(){return this.discountavailable},zT.callback=async function(){this.end(!0),await this.sub.apply_churn_coupon(this.reasonstr);try{this.sub.used_churn_coupon=!0}catch{}return OP.toast("New discount applied")},zT),this,Nyt,"claimdiscount",u3o,Oc.prototype)}set undocancellation(e){this.undocancellation.$set(e,this,Iyt,"undocancellation")}get undocancellation(){return this.undocancellation.$get(this,Iyt,"undocancellation")}get undocancellation(){return this[c3o]||y((qyt=this.action(),qyt.callback=async function(){return await this.sub.resume(),OP.toast("Subscription resumed"),this.end(!0)},qyt),this,Iyt,"undocancellation",c3o,Oc.prototype)}get chosereason(){return this.reason=="other"&&this.feedback||this.reason&&this.reason!="other"}body(){var R1,ha,sn,Jo,kr,Ho,us;var e=this,t=H(),r,o,n,i,s,a,u,c,h=this._ns_||"",d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr,Or,Ao,mn,Uo,Xr,Ar,Mi,ul,Li,Yo,vn,Ur,Po,yo,ui,_i,is,gu,ro,$n,ci,hi,Di,To,pi,Fn,Sr,wn,vo,Ni,Kt,cl,Rr,Kr,di,rn,bo,Ii,Nt,Tn,No,hl,ss,yn,Fi,Ml,Mr,Xo,ls,pl,Ll,xi,Hi,Dl,dl,Rc,fl,Mc,oo,Bi,ku,ml,Io,fi,Sn,vi,Ko,on,On,as,_u,co,Rn,js,ca,$h,wi,As,Fo,Vi,$l,yh,nn,Us,xu,O1,Kn,bn,Ps,Nl,yf;if(this.state){if(this.state=="reason")return t.this=this,W=z=1,(V=t[D2e])||(W=z=0,V=t[D2e]=V=R("op-sheet",null,`${h}`,null)),W||(V[mu]=t._),W||((ha=V[rw])==null||ha.call(V,t,D2e)),q=V[ow]("__",V),W||(Y=w("div",q,`%head ${h}`,"Cancel Pro plan")),X=Z=1,(K=V[y3o])||(X=Z=0,V[y3o]=K=w("div",q,`%body ${h}`,null)),X||(Q=w("p",K,`${h}`,"Please help us understand why you wish to cancel:")),ee=K[Ol](lkn),ne=ie=1,(te=ee.run(this.ofield(this.$.reason)))||(ne=ie=0,ee.cache(te=M(ee.value,K,`${h}`,null))),te[Rl]&&((!ne||ie&2)&&te.flags.reconcile(WT,`${h}`),ne||!te.setup||te.setup(ie,ee),te[Vr](ie)),te==K[WT]||!K[WT]&&(K[WT]=te)[Pc](K)||K[WT][Tc](K[WT]=te,K),r=null,this.reason=="other"&&(J=K[Ol](ukn),me=ce=1,(r=J.run(this.ofield(this.$.feedback)))||(me=ce=0,J.cache(r=M(J.value,null,`${h}`,null))),me||(r[mu]=K),r[Rl]&&((!me||ce&2)&&r.flags.reconcile(akn,`${h}`),me||!r.setup||r.setup(ce,J),r[Vr](ce))),K[b3o]=K[Wo](r,0,K[b3o]),X||!K.setup||K.setup(Z,ye),K[Vr](Z),ae=be=1,(we=V[g3o])||(ae=be=0,V[g3o]=we=w("div",q,`%foot ${h}`,null)),_e=we[Ol](ckn),ve=Pe=1,(Ae=_e.run(this.obutton(this.cancel)))||(ve=Pe=0,_e.cache(Ae=M(_e.value,we,`${h}`,null))),Ae[Rl]&&(ve||(Ae.icon=!1),ve||(Ae.label="back"),(!ve||Pe&2)&&Ae.flags.reconcile(ZT,`${h}`),ve||!Ae.setup||Ae.setup(Pe,_e),Ae[Vr](Pe)),Ae==we[ZT]||!we[ZT]&&(we[ZT]=Ae)[Pc](we)||we[ZT][Tc](we[ZT]=Ae,we),Ue=Be=1,(He=we[k3o])||(Ue=Be=0,we[k3o]=He=R("op-button",we,`red ${h}`,null)),je=we[_3o]||(we[_3o]={if:[null],$_:[function(mi,zi){return t.this.go("pause")}]}),je.if[0]=this.chosereason,Ue||He.on$("click",je,this),Ue||(He.label="stop learning"),ue=i8t,ue===we[x3o]||(He.icon=we[x3o]=ue),ue=!this.chosereason,ue===we[v3o]||(He.disabled=we[v3o]=ue),Ue||!He.setup||He.setup(Be,xe),He[Vr](Be),Ue||we[V2e](He),ae||!we.setup||we.setup(be,Re),we[Vr](be),W||t.sym||!V.setup||V.setup(z,t,D2e),t.sym||V[Vr](z),V;if(this.state=="pause"){t.this=this,qe=Ne=1,(Oe=t[N2e])||(qe=Ne=0,Oe=t[N2e]=Oe=R("op-sheet",null,`${h}`,null)),qe||(Oe[mu]=t._),qe||((sn=Oe[rw])==null||sn.call(Oe,t,N2e)),Ie=Oe[ow]("__",Oe),qe||(Ke=w("div",Ie,`%head ${h}`,"Pausing is available")),(Te=Oe[w3o])||(Oe[w3o]=Te=w("div",Ie,`%body ${h}`,null)),o=null,this.currentdiscountpercent?(Ce=Ze=1,(o=Oe[S3o])||(Ce=Ze=0,Oe[S3o]=o=w("p",null,`${h}`,null)),Ce||(o[mu]=Te),Ce||o[Wo]("If you cancel now, you will lose your "),(et=o[C3o])||(o[C3o]=et=w("span",o,`yc-ba %discount ${h}`,null)),ft=this.currentdiscountpercent,ft===o[j3o]&&Ce||(o[E3o]=et[Wo](o[j3o]=ft,128,o[E3o])),Ce||et[Wo]("% "),Ce||o[Wo]("discount. Instead, would you consider pausing for a period? You can still choose to downgrade anytime before this date.")):o="Would you like to consider pausing your membership instead?",Oe[A3o]=Te[Wo](o,0,Oe[A3o]),Je=ct=1,(Ge=Oe[U3o])||(Je=ct=0,Oe[U3o]=Ge=w("div",Te,`yc-bb %pause-buttons ${h}`,null)),rt=Ge[Ol](hkn),it=tt=1,($t=rt.run(this.obutton(this.pause1)))||(it=tt=0,rt.cache($t=M(rt.value,Ge,`green ${h}`,null))),$t[Rl]&&(it||($t.label="1 month"),(!it||tt&2)&&$t.flags.reconcile(GT,`green ${h}`),it||!$t.setup||$t.setup(tt,rt),$t[Vr](tt)),$t==Ge[GT]||!Ge[GT]&&(Ge[GT]=$t)[Pc](Ge)||Ge[GT][Tc](Ge[GT]=$t,Ge),ze=Ge[Ol](pkn),st=yt=1,(at=ze.run(this.obutton(this.pause2)))||(st=yt=0,ze.cache(at=M(ze.value,Ge,`green ${h}`,null))),at[Rl]&&(st||(at.label="2 months"),(!st||yt&2)&&at.flags.reconcile(YT,`green ${h}`),st||!at.setup||at.setup(yt,ze),at[Vr](yt)),at==Ge[YT]||!Ge[YT]&&(Ge[YT]=at)[Pc](Ge)||Ge[YT][Tc](Ge[YT]=at,Ge),vt=Ge[Ol](dkn),Ct=jt=1,(nt=vt.run(this.obutton(this.pause3)))||(Ct=jt=0,vt.cache(nt=M(vt.value,Ge,`green ${h}`,null))),nt[Rl]&&(Ct||(nt.label="3 months"),(!Ct||jt&2)&&nt.flags.reconcile(XT,`green ${h}`),Ct||!nt.setup||nt.setup(jt,vt),nt[Vr](jt)),nt==Ge[XT]||!Ge[XT]&&(Ge[XT]=nt)[Pc](Ge)||Ge[XT][Tc](Ge[XT]=nt,Ge),Je||!Ge.setup||Ge.setup(ct,bt),Ge[Vr](ct);{ht=Dt=1,(Xe=Oe[P3o])||(ht=Dt=0,Oe[P3o]=Xe=w("div",Ie,`%foot ${h}`,null)),mt=Xe[Ol](fkn),Ut=kt=1,(At=mt.run(this.obutton(this.cancel)))||(Ut=kt=0,mt.cache(At=M(mt.value,Xe,`${h}`,null))),At[Rl]&&(Ut||(At.icon=!1),Ut||(At.label="back"),(!Ut||kt&2)&&At.flags.reconcile(KT,`${h}`),Ut||!At.setup||At.setup(kt,mt),At[Vr](kt)),At==Xe[KT]||!Xe[KT]&&(Xe[KT]=At)[Pc](Xe)||Xe[KT][Tc](Xe[KT]=At,Xe);let mi=this.currentdiscountpercent?"lose "+this.currentdiscountpercent+"%":"stop learning forever";n=null,this.discountavailable?(_t=xt=1,(n=Xe[T3o])||(_t=xt=0,Xe[T3o]=n=R("op-button",null,`red ${h}`,null)),_t||(n[mu]=Xe),_t||n.on$("click",{$_:[function(zi,b3){return t.this.go("discount")}]},this),Mt=Ikt,Mt===n[O3o]||(n.icon=n[O3o]=Mt),mi===n[R3o]||(n.label=n[R3o]=mi),_t||!n.setup||n.setup(xt,Ot),n[Vr](xt)):(tr=lt=1,(n=Xe[M3o])||(tr=lt=0,Xe[M3o]=n=R("op-button",null,`red ${h}`,null)),tr||(n[mu]=Xe),tr||n.on$("click",{$_:[function(zi,b3){return t.this.go("price")}]},this),fe=z$e,fe===n[L3o]||(n.icon=n[L3o]=fe),mi===n[D3o]||(n.label=n[D3o]=mi),tr||!n.setup||n.setup(lt,Me),n[Vr](lt)),Xe[N3o]=Xe[Wo](n,0,Xe[N3o]),ht||!Xe.setup||Xe.setup(Dt,ut),Xe[Vr](Dt)}return qe||t.sym||!Oe.setup||Oe.setup(Ne,t,N2e),t.sym||Oe[Vr](Ne),Oe}else{if(this.state=="discount")return t.this=this,St=Yt=1,(Rt=t[I2e])||(St=Yt=0,Rt=t[I2e]=Rt=R("op-sheet",null,`${h}`,null)),St||(Rt[mu]=t._),St||((Jo=Rt[rw])==null||Jo.call(Rt,t,I2e)),rr=Rt[ow]("__",Rt),(er=Rt[I3o])||(Rt[I3o]=er=w("div",rr,`%head ${h}`,null)),i=null,this.currentdiscountpercent?i="Even higher discount offer":i="Exclusive offer",Rt[F3o]=er[Wo](i,0,Rt[F3o]),Nr=or=1,(Zt=Rt[H3o])||(Nr=or=0,Rt[H3o]=Zt=w("div",rr,`%body ${h}`,null)),s=a=u=null,this.currentdiscountpercent?(Tr=xo=1,(s=Zt[B3o])||(Tr=xo=0,Zt[B3o]=s=w("p",null,`${h}`,null)),Tr||(s[mu]=Zt),Tr||s[Wo]("You currently have a "),(qr=s[V3o])||(s[V3o]=qr=w("span",s,`yc-bn %discount ${h}`,null)),Wr=this.currentdiscountpercent,Wr===s[q3o]&&Tr||(s[z3o]=qr[Wo](s[q3o]=Wr,128,s[z3o])),Tr||qr[Wo]("%"),Tr||s[Wo](" discount at "),to=this.currentprice,to===s[Z3o]&&Tr||(s[W3o]=s[Wo](s[Z3o]=to,0,s[W3o])),Tr||s[Wo](". "),a="We appreciate that you've been with us for "+ME.monthspro+" months and would like to offer you an even lower rate to continue with us:",mr=Zt[Ol]($kn),Go=fn=1,(u=mr.run(this.obutton(this.claimdiscount)))||(Go=fn=0,mr.cache(u=M(mr.value,null,`green ${h}`,null))),Go||(u[mu]=Zt),u[Rl]&&(Yr="claim "+this.newdiscount+"% off forever",Yr===u[G3o]||(u.label=u[G3o]=Yr),(!Go||fn&2)&&u.flags.reconcile(mkn,`green ${h}`),Go||!u.setup||u.setup(fn,mr),u[Vr](fn))):(s="We appreciate that you've been with us for "+ME.monthspro+" months and would like to offer you a lower rate to continue with us:",Or=Zt[Ol](bkn),Ao=mn=1,(a=Or.run(this.obutton(this.claimdiscount)))||(Ao=mn=0,Or.cache(a=M(Or.value,null,`green ${h}`,null))),Ao||(a[mu]=Zt),a[Rl]&&(Uo="claim "+this.newdiscount+"% off forever",Uo===a[Y3o]||(a.label=a[Y3o]=Uo),(!Ao||mn&2)&&a.flags.reconcile(ykn,`green ${h}`),Ao||!a.setup||a.setup(mn,Or),a[Vr](mn))),Zt[X3o]=Zt[Wo](s,0,Zt[X3o]),Zt[K3o]=Zt[Wo](a,0,Zt[K3o]),Zt[J3o]=Zt[Wo](u,0,Zt[J3o]),Nr||!Zt.setup||Zt.setup(or,Xr),Zt[Vr](or),Mi=ul=1,(Ar=Rt[Q3o])||(Mi=ul=0,Rt[Q3o]=Ar=w("div",rr,`%foot ${h}`,null)),Li=Ar[Ol](gkn),vn=Ur=1,(Yo=Li.run(this.obutton(this.cancel)))||(vn=Ur=0,Li.cache(Yo=M(Li.value,Ar,`${h}`,null))),Yo[Rl]&&(vn||(Yo.icon=!1),vn||(Yo.label="back"),(!vn||Ur&2)&&Yo.flags.reconcile(JT,`${h}`),vn||!Yo.setup||Yo.setup(Ur,Li),Yo[Vr](Ur)),Yo==Ar[JT]||!Ar[JT]&&(Ar[JT]=Yo)[Pc](Ar)||Ar[JT][Tc](Ar[JT]=Yo,Ar),yo=ui=1,(Po=Ar[exo])||(yo=ui=0,Ar[exo]=Po=R("op-button",Ar,`red ${h}`,null)),yo||Po.on$("click",{$_:[function(mi,zi){return t.this.go("price")}]},this),_i=z$e,_i===Ar[txo]||(Po.icon=Ar[txo]=_i),_i="lose "+this.newdiscount+"%",_i===Ar[rxo]||(Po.label=Ar[rxo]=_i),yo||!Po.setup||Po.setup(ui,is),Po[Vr](ui),yo||Ar[V2e](Po),Mi||!Ar.setup||Ar.setup(ul,gu),Ar[Vr](ul),St||t.sym||!Rt.setup||Rt.setup(Yt,t,I2e),t.sym||Rt[Vr](Yt),Rt;if(this.state=="price")return t.this=this,$n=ci=1,(ro=t[F2e])||($n=ci=0,ro=t[F2e]=ro=R("op-sheet",null,`${h}`,null)),$n||(ro[mu]=t._),$n||((kr=ro[rw])==null||kr.call(ro,t,F2e)),hi=ro[ow]("__",ro),$n||(Di=w("div",hi,`%head ${h}`,"Pricing")),pi=Fn=1,(To=ro[oxo])||(pi=Fn=0,ro[oxo]=To=w("div",hi,`%body ${h}`,null)),pi||(Sr=w("p",To,`${h}`,"At what price point would Scrimba feel worth it for you again? Please share your preference, and then we will see if we can accommodate.")),wn=To[Ol](kkn),Ni=Kt=1,(vo=wn.run(this.ofield(this.$.worthyprice)))||(Ni=Kt=0,wn.cache(vo=M(wn.value,To,`yc-bx ${h}`,null))),vo[Rl]&&((!Ni||Kt&2)&&vo.flags.reconcile(QT,`yc-bx ${h}`),Ni||!vo.setup||vo.setup(Kt,wn),vo[Vr](Kt)),vo==To[QT]||!To[QT]&&(To[QT]=vo)[Pc](To)||To[QT][Tc](To[QT]=vo,To),pi||!To.setup||To.setup(Fn,cl),To[Vr](Fn),Kr=di=1,(Rr=ro[nxo])||(Kr=di=0,ro[nxo]=Rr=w("div",hi,`%foot ${h}`,null)),rn=Rr[Ol](_kn),Ii=Nt=1,(bo=rn.run(this.obutton(this.cancel)))||(Ii=Nt=0,rn.cache(bo=M(rn.value,Rr,`${h}`,null))),bo[Rl]&&(Ii||(bo.icon=!1),Ii||(bo.label="back"),(!Ii||Nt&2)&&bo.flags.reconcile(eO,`${h}`),Ii||!bo.setup||bo.setup(Nt,rn),bo[Vr](Nt)),bo==Rr[eO]||!Rr[eO]&&(Rr[eO]=bo)[Pc](Rr)||Rr[eO][Tc](Rr[eO]=bo,Rr),No=hl=1,(Tn=Rr[ixo])||(No=hl=0,Rr[ixo]=Tn=R("op-button",Rr,`red ${h}`,null)),ss=Rr[sxo]||(Rr[sxo]={if:[null],$_:[function(mi,zi){return t.this.go("confirm")}]}),ss.if[0]=this.worthyprice,No||Tn.on$("click",ss,this),yn=!this.worthyprice,yn===Rr[lxo]||(Tn.disabled=Rr[lxo]=yn),yn=D1,yn===Rr[axo]||(Tn.icon=Rr[axo]=yn),No||(Tn.label="share price feedback"),No||!Tn.setup||Tn.setup(hl,Fi),Tn[Vr](hl),No||Rr[V2e](Tn),Kr||!Rr.setup||Rr.setup(di,Ml),Rr[Vr](di),$n||t.sym||!ro.setup||ro.setup(ci,t,F2e),t.sym||ro[Vr](ci),ro;if(this.state=="confirm")return Xo=ls=1,(Mr=t[H2e])||(Xo=ls=0,Mr=t[H2e]=Mr=R("op-sheet",null,`${h}`,null)),Xo||(Mr[mu]=t._),Xo||((Ho=Mr[rw])==null||Ho.call(Mr,t,H2e)),pl=Mr[ow]("__",Mr),Xo||(Ll=w("div",pl,`%head ${h}`,"Confirm cancellation")),(xi=Mr[uxo])||(Mr[uxo]=xi=w("div",pl,`%body ${h}`,null)),c=null,this.currentdiscountpercent?(Hi=Dl=1,(c=Mr[cxo])||(Hi=Dl=0,Mr[cxo]=c=w("p",null,`${h}`,null)),Hi||(c[mu]=xi),Hi||c[Wo]("I understand that by cancelling, I will"),(dl=c[hxo])||(c[hxo]=dl=w("span",c,`%discount ${h}`,null)),Hi||dl[Wo](" lose my "),Rc=this.currentdiscountpercent,Rc===c[dxo]&&Hi||(c[pxo]=dl[Wo](c[dxo]=Rc,0,c[pxo])),Hi||dl[Wo]("% discount "),Hi||c[Wo]("and I risk having to pay the standard price of "),(fl=c[fxo])||(c[fxo]=fl=w("span",c,`yc-cg ${h}`,null)),Mc=this.standardmonthlyprice,Mc===c[$xo]&&Hi||(c[mxo]=fl[Wo](c[$xo]=Mc,384,c[mxo])),Hi||c[Wo](" per month if I choose to sign up again later.")):c="I understand that by cancelling, I will lose access to Pro courses and the ability to run challenges on Free courses.",Mr[yxo]=xi[Wo](c,0,Mr[yxo]),Bi=ku=1,(oo=Mr[bxo])||(Bi=ku=0,Mr[bxo]=oo=w("div",pl,`%foot ${h}`,null)),ml=oo[Ol](xkn),fi=Sn=1,(Io=ml.run(this.obutton(this.cancel)))||(fi=Sn=0,ml.cache(Io=M(ml.value,oo,`${h}`,null))),Io[Rl]&&(fi||(Io.icon=!1),fi||(Io.label="back"),(!fi||Sn&2)&&Io.flags.reconcile(tO,`${h}`),fi||!Io.setup||Io.setup(Sn,ml),Io[Vr](Sn)),Io==oo[tO]||!oo[tO]&&(oo[tO]=Io)[Pc](oo)||oo[tO][Tc](oo[tO]=Io,oo),vi=oo[Ol](vkn),on=On=1,(Ko=vi.run(this.obutton(this.cancelsubscription)))||(on=On=0,vi.cache(Ko=M(vi.value,oo,`red ${h}`,null))),Ko[Rl]&&(as=M2,as===Ko[gxo]||(Ko.icon=Ko[gxo]=as),on||(Ko.label="confirm cancellation"),(!on||On&2)&&Ko.flags.reconcile(rO,`red ${h}`),on||!Ko.setup||Ko.setup(On,vi),Ko[Vr](On)),Ko==oo[rO]||!oo[rO]&&(oo[rO]=Ko)[Pc](oo)||oo[rO][Tc](oo[rO]=Ko,oo),Bi||!oo.setup||oo.setup(ku,_u),oo[Vr](ku),Xo||t.sym||!Mr.setup||Mr.setup(ls,t,H2e),t.sym||Mr[Vr](ls),Mr;if(this.state=="canceled")return Rn=js=1,(co=t[B2e])||(Rn=js=0,co=t[B2e]=co=R("op-sheet",null,`${h}`,null)),Rn||(co[mu]=t._),Rn||((us=co[rw])==null||us.call(co,t,B2e)),ca=co[ow]("__",co),Rn||($h=w("div",ca,`%head ${h}`,"See you later!")),(wi=co[kxo])||(co[kxo]=wi=w("div",ca,`%body ${h}`,null)),Rn||wi[Wo]("We're sorry to see you go "),As=ME.name,As===co[xxo]&&Rn||(co[_xo]=wi[Wo](co[xxo]=As,0,co[_xo])),Rn||wi[Wo]("! Your Pro membership will expire on "),As=this.sub.current_period_end.aslocale,As===co[wxo]&&Rn||(co[vxo]=wi[Wo](co[wxo]=As,0,co[vxo])),Rn||wi[Wo](". You can now close this message."),Vi=$l=1,(Fo=co[Sxo])||(Vi=$l=0,co[Sxo]=Fo=w("div",ca,`%foot ${h}`,null)),yh=Fo[Ol](wkn),Us=xu=1,(nn=yh.run(this.obutton(this.undocancellation)))||(Us=xu=0,yh.cache(nn=M(yh.value,Fo,`green ${h}`,null))),nn[Rl]&&(O1=j8t,O1===nn[Cxo]||(nn.icon=nn[Cxo]=O1),(!Us||xu&2)&&nn.flags.reconcile(oO,`green ${h}`),Us||!nn.setup||nn.setup(xu,yh),nn[Vr](xu)),nn==Fo[oO]||!Fo[oO]&&(Fo[oO]=nn)[Pc](Fo)||Fo[oO][Tc](Fo[oO]=nn,Fo),Kn=Fo[Ol](Skn),Ps=Nl=1,(bn=Kn.run(this.obutton(this.cancel)))||(Ps=Nl=0,Kn.cache(bn=M(Kn.value,Fo,`${h}`,null))),bn[Rl]&&(Ps||(bn.icon=!1),Ps||(bn.label="done"),(!Ps||Nl&2)&&bn.flags.reconcile(nO,`${h}`),Ps||!bn.setup||bn.setup(Nl,Kn),bn[Vr](Nl)),bn==Fo[nO]||!Fo[nO]&&(Fo[nO]=bn)[Pc](Fo)||Fo[nO][Tc](Fo[nO]=bn,Fo),Vi||!Fo.setup||Fo.setup($l,yf),Fo[Vr]($l),Rn||t.sym||!co.setup||co.setup(js,t,B2e),t.sym||co[Vr](js),co}}else return t.this=this,f=m=1,(d=t[L2e])||(f=m=0,d=t[L2e]=d=R("op-sheet",null,`${h}`,null)),f||(d[mu]=t._),f||((R1=d[rw])==null||R1.call(d,t,L2e)),$=d[ow]("__",d),f||(b=w("div",$,`%head ${h}`,"Warning")),f||(g=w("div",$,`%body ${h}`,null)),f||(x=w("p",g,`${h}`,"By cancelling, you risk losing any discounts you have.")),_=S=1,(k=d[f3o])||(_=S=0,d[f3o]=k=w("div",$,`%foot ${h}`,null)),v=k[Ol](skn),j=P=1,(C=v.run(this.obutton(this.cancel)))||(j=P=0,v.cache(C=M(v.value,k,`${h}`,null))),C[Rl]&&(j||(C.icon=!1),j||(C.label="back"),(!j||P&2)&&C.flags.reconcile(qT,`${h}`),j||!C.setup||C.setup(P,v),C[Vr](P)),C==k[qT]||!k[qT]&&(k[qT]=C)[Pc](k)||k[qT][Tc](k[qT]=C,k),O=L=1,(U=k[m3o])||(O=L=0,k[m3o]=U=R("op-button",k,`red ${h}`,null)),O||U.on$("click",{$_:[function(mi,zi){return t.this.go("reason")}]},this),O||(U.label="risk losing discounts"),I=u_t,I===k[$3o]||(U.icon=k[$3o]=I),O||!U.setup||U.setup(L,F),U[Vr](L),O||k[V2e](U),_||!k.setup||k.setup(S,N),k[Vr](S),f||t.sym||!d.setup||d.setup(m,t,L2e),t.sym||d[Vr](m),d}};E(Oc,Ckn,"cancelation-flow-modal",2),pe("cancelation-flow-modal",Oc,{cssns:"yc_af",cssid:"yc-af"});var Exo=Oc;T();oe();var jxo="/assets/hero-image-only.PNHM6TSI.jpg";var Axo="/assets/mdn-docs-logo.VAS2N42R.png";T();var Uxo="/assets/hermina_condei_signature.BLLFURMR.svg";var Pxo=Object.assign({url:Uxo,type:"svg",toString:function(){return this.url}},{attributes:{width:"163",height:"39",viewBox:"0 0 163 39",fill:"none"},flags:[],content:`
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.22639 0.335399C8.05565 0.562016 7.84688 1.12576 7.70309 1.74826C7.57105 2.31831 7.38164 3.073 7.28209 3.42552C7.18254 3.77803 7.083 4.16412 7.06157 4.28233C7.03944 4.40123 6.91847 4.8167 6.79196 5.20558C6.32741 6.63803 6.77468 8.32298 7.60008 8.24814C7.69479 8.23904 7.8372 8.22576 7.9167 8.21876C8.11994 8.19988 8.09574 7.97466 7.83374 7.45498C7.70931 7.20738 7.62704 6.97237 7.65193 6.9318C7.67612 6.89193 7.7259 6.46457 7.76254 5.98266C7.79918 5.49725 7.92568 4.89923 8.04527 4.64464C8.16487 4.39074 8.37779 3.78992 8.51812 3.30941C9.12508 1.23557 9.53294 1.13136 11.499 2.54492C12.1599 3.02054 13.7816 3.89204 14.0056 3.89204C14.0962 3.89204 14.26 3.9438 14.3706 4.00675C14.7107 4.20119 16.4991 4.64184 18.8765 5.11536C20.1484 5.36925 20.2404 5.59937 19.5767 6.86465C19.3749 7.24934 18.8212 8.42929 18.3469 9.48754C17.4794 11.4208 15.6405 15.118 15.3958 15.4195C15.223 15.6335 14.437 16.1322 14.2731 16.1322C14.2026 16.1322 13.9807 16.2091 13.7816 16.3029C13.5818 16.3966 12.9936 16.6302 12.4744 16.8219C11.9559 17.0135 11.2819 17.2968 10.9771 17.4506C10.6722 17.6052 10.0597 17.8731 9.6159 18.0459C8.71514 18.3977 8.40682 18.5313 7.47289 18.974C7.11825 19.1419 6.75256 19.2797 6.66061 19.2797C6.56867 19.2797 6.42903 19.3447 6.35023 19.4245C6.20229 19.5748 4.8591 20.3554 4.40078 20.559C3.56915 20.9269 1.25193 23.079 0.859278 23.8477C0.671938 24.2156 0.539207 24.6276 0.163143 26.0174C-0.392657 28.0695 0.543357 30.4371 1.88654 30.3756C2.00752 30.37 2.19624 30.4147 2.30685 30.4742C2.45133 30.5525 2.52599 30.5343 2.57299 30.4105C2.61654 30.2951 2.56539 30.2378 2.42022 30.2378C2.2156 30.2378 1.72409 29.7377 1.72409 29.5292C1.72409 29.4775 1.5167 28.983 1.26299 28.4304C1.00929 27.8779 0.801901 27.3505 0.801901 27.2582C0.801901 27.1658 0.743139 27.0903 0.671935 27.0903C0.463856 27.0903 0.63599 26.1635 0.878635 25.9775C0.994772 25.888 1.03832 25.8124 0.974724 25.8096C0.90283 25.8061 0.904906 25.7726 0.980257 25.7187C1.10123 25.6327 1.63905 24.7514 1.93977 24.145C2.1755 23.6707 2.97464 22.9251 3.56708 22.6272C3.85258 22.4838 4.07656 22.3124 4.06481 22.246C4.04338 22.1215 6.13177 20.6786 6.33432 20.6786C6.39654 20.6786 6.4477 20.6303 6.4477 20.5715C6.4477 20.5121 6.61637 20.4275 6.82238 20.3834C7.02838 20.3393 7.27448 20.2337 7.36988 20.1491C7.60561 19.9392 8.05703 19.7749 8.63772 19.6874C8.92115 19.6448 9.23776 19.4986 9.39814 19.3356C9.66014 19.0712 10.3134 18.8152 10.7323 18.8139C10.8402 18.8139 10.9556 18.767 10.9902 18.711C11.0248 18.6544 11.3255 18.518 11.6594 18.4075C11.9933 18.2977 12.5629 18.0585 12.9258 17.8766C13.3012 17.6885 13.6157 17.5933 13.6544 17.657C13.6918 17.7178 13.7664 17.7402 13.821 17.7059C14.1356 17.5094 14.027 18.1879 13.6206 18.9579C12.3838 21.3039 12.2297 21.557 10.4164 24.2338C8.75247 26.6902 7.50054 28.1087 6.32603 28.869C5.97554 29.0956 5.62022 29.3656 5.53588 29.4677C5.45154 29.5705 5.32296 29.6544 5.24968 29.6544C5.17641 29.6544 4.98838 29.7454 4.83214 29.8559C4.54871 30.0573 4.35446 30.1266 4.02817 30.1433C3.82424 30.1545 3.56708 30.342 3.56708 30.4805C3.56708 30.5336 3.72262 30.5672 3.91272 30.5532C4.10283 30.5399 4.25837 30.4833 4.25837 30.428C4.25837 30.3721 4.36483 30.3553 4.49548 30.3896C4.82938 30.4777 6.34262 30.0335 6.62813 29.7635C6.75878 29.6397 6.89911 29.5383 6.93921 29.5383C7.29522 29.5383 9.67396 27.4225 9.67396 27.1057C9.67396 27.0392 9.73964 26.9434 9.81983 26.8917C9.98781 26.7846 10.0493 26.6972 11.2881 24.8171C11.7949 24.0477 12.2622 23.3532 12.3265 23.2749C12.3907 23.1958 12.4488 23.0909 12.4543 23.0413C12.4606 22.9923 12.6431 22.6894 12.8601 22.3691C13.2957 21.727 13.9876 20.5107 14.8829 18.8132C15.5313 17.5842 15.8693 17.0513 16.0857 16.9163C16.1645 16.8673 16.2972 16.7603 16.3795 16.6799C16.701 16.3637 17.2409 16.0413 17.6812 15.9021C17.9349 15.8224 18.2522 15.6867 18.3863 15.6013C19.1288 15.132 19.3542 15.737 18.8495 16.8449C18.4935 17.6255 17.9743 18.9614 17.9709 19.1055C17.964 19.3741 17.7172 20.4862 17.6218 20.6786C17.5734 20.7744 17.5049 21.0632 17.4697 21.3199C17.4344 21.5759 17.3217 22.1795 17.2208 22.6601C17.0252 23.5854 17.01 25.4333 17.1918 26.1572C17.5519 27.5918 17.6425 27.7883 18.2363 28.4241C18.8585 29.09 19.0099 29.1529 19.5152 28.9592C19.8657 28.8242 19.8159 28.5962 19.3265 28.0975C18.779 27.54 18.6718 27.2561 18.3532 25.5166C18.1796 24.5702 18.2799 23.1091 18.6 21.9026C18.77 21.2612 18.9207 20.6583 18.9352 20.5617C19.003 20.1043 19.2788 19.2314 19.7627 17.9389C19.8111 17.8109 19.8616 17.6668 19.8747 17.6185C19.8878 17.5702 19.9093 17.5178 19.9224 17.5017C19.9348 17.4856 19.9639 17.3765 19.9853 17.259C20.0275 17.0331 20.5999 15.8063 20.7554 15.6076C20.8059 15.5433 21.016 15.26 21.2227 14.9774C21.4294 14.6949 21.7025 14.4067 21.829 14.336C21.9555 14.2661 22.0855 14.1752 22.1173 14.1346C22.2175 14.0052 22.9385 13.5995 24.3059 12.9036C25.0352 12.5329 25.6567 12.1965 25.6885 12.1566C25.7203 12.116 25.9795 11.9643 26.265 11.8188C26.5498 11.6733 26.8091 11.5222 26.8409 11.483C26.9017 11.4068 27.3953 11.1109 27.8778 10.8605C28.0361 10.7787 28.2435 10.6479 28.3389 10.571C28.7163 10.2632 29.3634 9.76942 29.606 9.60435C30.1736 9.21686 30.6934 8.76643 31.0336 8.36565C31.6308 7.66061 32.3684 6.63873 32.3698 6.51353C32.3705 6.44849 32.4652 6.21208 32.5807 5.98896C33.2464 4.69919 33.0791 2.49316 32.3152 2.49316C32.2191 2.49316 32.141 2.4505 32.141 2.39804C32.141 2.16932 31.243 1.83499 30.5524 1.80702C29.8231 1.77694 28.7993 2.11967 28.7993 2.39385C28.7993 2.4561 28.7523 2.47708 28.6942 2.44071C28.6362 2.40503 28.5712 2.41483 28.5504 2.46309C28.529 2.51205 28.2124 2.78133 27.8467 3.06321C27.1298 3.61436 24.6626 6.21348 24.1987 6.90662C24.0425 7.14023 23.795 7.46127 23.6492 7.62144C23.504 7.78092 23.3844 7.94668 23.3844 7.99075C23.3844 8.03411 23.1577 8.45727 22.8804 8.93219C22.6032 9.40641 22.3371 9.9219 22.2887 10.0779C22.2403 10.2338 22.1649 10.3877 22.1214 10.4199C22.0778 10.4521 21.7695 11.0417 21.437 11.7306C20.8301 12.9889 20.3738 13.5191 19.5823 13.8856C16.5682 15.2817 16.5565 15.5181 19.827 8.96297C21.4308 5.74765 21.3561 5.85676 22.9627 4.37815C24.0183 3.40593 23.2772 2.50855 22.158 3.40383C21.3548 4.04661 21.1163 4.15293 20.4554 4.16482C18.2937 4.20469 13.7291 3.01704 12.7848 2.17002C12.6894 2.08469 12.4073 1.8308 12.1571 1.60558C11.9068 1.38036 11.4665 1.09219 11.1775 0.966292C10.8893 0.839694 10.5236 0.65644 10.3653 0.559219C9.28477 -0.104548 8.61145 -0.175191 8.22639 0.335399ZM32.1631 3.89134C32.0753 5.75534 30.6499 7.58087 27.8204 9.45117C27.5667 9.61834 27.342 9.80019 27.3206 9.85475C27.2999 9.90931 27.2314 9.95407 27.1685 9.95407C27.1063 9.95407 26.825 10.1142 26.5436 10.3101C26.2622 10.5059 25.8641 10.7437 25.6587 10.8389C25.4534 10.9333 25.0262 11.1662 24.7096 11.3557C24.3923 11.5453 23.9001 11.8188 23.6146 11.9636C23.3298 12.1083 23.0788 12.2664 23.0581 12.3147C23.0367 12.3622 22.9392 12.4021 22.8403 12.4021C22.3032 12.4021 22.989 10.7367 24.1794 9.15321C24.534 8.68109 24.9281 8.12504 25.0552 7.918C25.5951 7.03601 26.722 5.75814 26.9598 5.75744C26.9936 5.75744 27.1208 5.58678 27.2425 5.37835C27.6262 4.71948 28.5981 3.89204 28.9894 3.89204C29.0765 3.89204 29.4028 3.71019 29.7153 3.48846C30.0581 3.24436 30.4121 3.08839 30.607 3.09398C30.7854 3.09958 31.1373 3.02404 31.3889 2.92682C32.0014 2.6904 32.2081 2.9478 32.1631 3.89134ZM112.1 6.94159C111.688 7.07169 111.27 7.25214 111.17 7.34237C111.069 7.43189 110.927 7.50604 110.853 7.50604C110.778 7.50604 110.718 7.55849 110.718 7.62214C110.718 7.68649 110.621 7.73895 110.501 7.73895C110.382 7.73895 110.221 7.81729 110.142 7.91381C110.063 8.00963 109.953 8.08867 109.898 8.08867C109.71 8.08867 108.205 9.33577 107.598 9.99464C107.351 10.2632 107.227 10.3933 106.829 10.8053C105.753 11.9174 105.3 12.4266 104.958 12.9078C104.746 13.2065 104.529 13.4513 104.477 13.4513C104.424 13.4513 104.38 13.5163 104.378 13.5967C104.378 13.6772 104.196 13.9521 103.975 14.2074C103.755 14.4633 103.574 14.7144 103.574 14.7662C103.574 14.8173 103.465 14.9753 103.33 15.1173C103.196 15.2586 102.902 15.6629 102.677 16.0154C102.453 16.3679 102.239 16.6827 102.202 16.7148C102.044 16.8505 101.501 17.729 101.501 17.8479C101.501 17.9193 101.458 17.9955 101.405 18.0165C101.252 18.0787 100.459 19.7616 100.529 19.8756C100.564 19.9322 100.539 19.9791 100.474 19.9791C100.371 19.9791 99.7779 21.1094 99.7087 21.436C99.6949 21.5004 99.538 22.025 99.3596 22.602C98.7873 24.4527 98.931 27.7953 99.6182 28.6144C99.7032 28.7158 99.7723 28.8592 99.7723 28.9326C99.7723 29.1355 100.934 30.2741 101.328 30.456C101.518 30.5434 101.829 30.7008 102.019 30.8057C102.455 31.0449 105.061 31.0715 105.338 30.8393C105.432 30.7603 105.556 30.7106 105.614 30.7288C105.786 30.7833 106.886 30.1357 106.962 29.9349C107.021 29.7803 106.962 29.7615 106.599 29.8195C104.531 30.1475 102.759 30.1063 102.145 29.716C102.012 29.6314 101.778 29.5243 101.624 29.4775C101.228 29.3572 100.502 28.5353 100.412 28.1059C100.397 28.0282 100.351 27.8856 100.312 27.7897C99.7717 26.4776 100.247 21.8403 100.971 21.3507C101.04 21.3038 101.048 21.264 100.988 21.2633C100.927 21.2619 100.941 21.1982 101.017 21.1213C101.093 21.0444 101.155 20.8646 101.155 20.7219C101.155 20.5792 101.22 20.3925 101.299 20.3078C101.378 20.2232 101.616 19.7868 101.828 19.3377C102.673 17.5472 102.784 17.3723 104.09 15.7699C104.215 15.6167 104.799 14.8368 105.388 14.0374C106.009 13.1939 106.654 12.4504 106.925 12.2657C107.39 11.9496 108.183 11.0116 108.183 10.7766C108.183 10.7088 108.246 10.6535 108.322 10.6535C108.399 10.6535 108.709 10.3912 109.011 10.0702C109.314 9.74983 109.601 9.48754 109.65 9.48754C109.7 9.48754 109.8 9.39102 109.874 9.27212C109.947 9.15391 110.244 8.99024 110.535 8.90771C110.825 8.82517 111.063 8.71186 111.063 8.65661C111.063 8.60065 111.195 8.55519 111.355 8.55519C111.515 8.55519 111.672 8.48735 111.704 8.40482C111.735 8.32228 111.902 8.24184 112.075 8.22646C113.004 8.14322 113.237 8.10825 113.683 7.98375C114.346 7.7984 115.438 8.36495 115.443 8.89582C115.445 9.0385 115.467 9.0455 115.541 8.92659C115.877 8.39152 116.451 10.6346 116.193 11.4691C115.96 12.2182 114.806 13.5233 114.068 13.8709C113.448 14.1633 113.217 14.448 113.367 14.7333C113.891 15.7216 116.116 13.4373 116.697 11.3138C117.185 9.53441 116.215 7.34307 114.808 7.04301C114.744 7.02902 114.537 6.95488 114.347 6.87654C113.808 6.65622 112.92 6.6821 112.1 6.94159ZM71.5634 12.1216C71.1106 12.4427 71.5786 13.3345 72.2001 13.3345C72.3467 13.3345 72.4662 13.3785 72.4662 13.4317C72.4662 13.4848 72.5437 13.5289 72.6391 13.5289C72.7379 13.5289 72.8112 13.4247 72.8098 13.2862C72.8077 12.9931 72.3314 12.1111 72.1745 12.1083C72.113 12.1076 72.0065 12.0706 71.9374 12.0258C71.869 11.9817 71.7003 12.0251 71.5634 12.1216ZM148.88 12.5287C148.584 12.8546 148.219 13.3659 148.07 13.6653C147.921 13.9639 147.706 14.3137 147.592 14.4417C147.478 14.5704 147.062 15.1733 146.668 15.7825C146.274 16.3917 145.88 16.9708 145.794 17.0688C145.609 17.2793 143.595 21.2997 143.269 22.1068C143.147 22.4111 143.013 22.6601 142.973 22.6601C142.933 22.6601 142.801 22.844 142.682 23.0685C142.433 23.5372 142.218 23.5924 142.118 23.214C141.876 22.2978 141.741 22.0271 141.354 21.6732C140.702 21.0772 140.074 21.0185 139.211 21.4731C138.844 21.6676 138.179 22.0054 137.733 22.225C137.123 22.5251 136.669 22.8825 135.89 23.6749C134.563 25.0235 134.534 25.0626 134.165 25.9418C133.994 26.3489 133.81 26.7686 133.756 26.8749C133.026 28.3052 133.403 29.7447 134.519 29.7859C134.736 29.7936 134.978 29.8097 135.057 29.8209C135.325 29.8594 135.889 29.6181 136.723 29.1089C137.18 28.8298 137.711 28.5696 137.904 28.5304C138.096 28.492 138.255 28.4136 138.255 28.3577C138.255 28.3017 138.322 28.2556 138.405 28.2556C138.635 28.2556 139.462 27.8275 139.631 27.6219C139.713 27.5219 139.851 27.44 139.939 27.44C140.026 27.44 140.098 27.3841 140.098 27.3162C140.098 27.2484 140.145 27.2225 140.204 27.2589C140.262 27.2952 140.388 27.2463 140.483 27.1498C140.674 26.956 140.841 26.9105 140.738 27.0798C140.702 27.1386 140.734 27.2071 140.808 27.2323C140.888 27.2596 140.936 27.4799 140.925 27.7674C140.893 28.5864 141.174 28.3479 141.695 27.1148C142.221 25.8691 142.825 24.8745 143.55 24.0589C143.806 23.7708 144.046 23.442 144.082 23.3287C144.117 23.2154 144.195 23.1532 144.254 23.1902C144.312 23.2266 144.361 23.2084 144.361 23.1497C144.361 23.0601 144.621 22.6824 145.141 22.0194C145.191 21.955 145.386 21.6927 145.574 21.436C145.762 21.18 145.955 20.9527 146.003 20.931C146.05 20.9101 146.089 20.838 146.089 20.7716C146.089 20.7051 146.247 20.4603 146.439 20.2274C146.631 19.9945 146.848 19.7301 146.921 19.6399C146.995 19.549 147.14 19.3132 147.245 19.1153C147.951 17.7815 148.186 17.3597 148.378 17.0848C150.239 14.4186 150.664 10.5696 148.88 12.5287ZM161.801 15.2789C161.747 15.495 161.801 15.7405 161.979 16.0791C162.576 17.2184 163.324 16.9764 162.85 15.7979C162.513 14.9613 161.949 14.6823 161.801 15.2789ZM39.86 15.7482C39.5904 15.8475 39.074 16.3686 38.6136 17.0065C38.382 17.3268 38.1013 17.6913 37.99 17.8151C37.8781 17.9396 37.7861 18.0892 37.7861 18.1487C37.7861 18.3669 37.0658 19.7728 36.6227 20.4191C35.9411 21.4123 35.6092 21.8788 35.4177 22.111C35.323 22.2257 34.9421 22.6978 34.5702 23.1602C33.9923 23.8785 32.4092 25.483 31.897 25.8698C31.8092 25.9355 31.3723 26.2831 30.9257 26.6427C29.6738 27.6492 28.3907 28.173 26.2443 28.5535C25.8578 28.6214 25.1347 28.3612 25.1036 28.143C25.0988 28.1087 25.0684 27.9758 25.0359 27.8478C24.7863 26.8665 25.1811 24.9997 25.7369 24.5332C25.8841 24.4101 26.3003 24.3646 27.3386 24.3583C29.3026 24.3464 30.4377 23.9309 31.8818 22.6964C32.1507 22.4663 32.3712 22.2103 32.3712 22.1271C32.3712 22.0446 32.4638 21.9466 32.5772 21.9103C32.6899 21.8739 32.7825 21.7424 32.7825 21.6179C32.7825 21.3563 32.1859 21.3255 32.0885 21.5822C32.0581 21.662 31.9654 21.7277 31.8832 21.7277C31.7387 21.7277 31.4656 21.862 30.2206 22.5474C28.1184 23.7043 25.7058 23.4308 27.0247 22.1851C27.1893 22.0299 27.4195 21.7186 27.5363 21.4948C27.6531 21.2703 27.92 20.8933 28.1301 20.6569C28.3396 20.4212 28.6493 20.0672 28.8173 19.8707C29.127 19.5098 30.0243 19.0468 30.4142 19.0468C30.531 19.0468 30.7038 18.9677 30.7992 18.8719C31.328 18.3368 32.0346 18.4543 32.3622 19.1314C32.7189 19.8693 32.9422 19.5539 32.8268 18.476C32.6878 17.1919 31.6474 16.8379 30.1978 17.5814C29.8722 17.7479 29.606 17.9277 29.606 17.9808C29.606 18.0333 29.4892 18.1319 29.3468 18.2004C28.7758 18.4732 27.3165 19.8567 26.6722 20.7366C26.4378 21.0576 25.9885 21.5682 25.6747 21.8718C25.2502 22.2824 25.0483 22.5964 24.8866 23.0958C24.767 23.4651 24.478 24.2925 24.2444 24.9332C23.2012 27.7981 23.8337 29.5607 25.9194 29.6027C26.7392 29.6195 28.6465 29.1991 28.9721 28.9298C29.2528 28.6983 29.9558 28.229 30.7004 27.7771C33.1952 26.2615 34.2128 25.4026 35.5118 23.7155C36.8072 22.0327 37.549 21.599 37.7274 22.4195C37.7695 22.616 37.8456 22.7769 37.896 22.7769C37.9458 22.7769 38.0495 23.0979 38.1255 23.4896C38.2949 24.3611 38.1905 24.6856 37.4826 25.4928C36.2127 26.9413 35.9169 28.7913 36.8722 29.3089C37.1895 29.481 38.5465 29.4985 38.9385 29.3355C39.0968 29.2697 39.2786 29.2061 39.3415 29.1942C39.4051 29.1816 39.542 29.0935 39.6464 28.9984C39.9367 28.7326 39.7065 28.122 39.3899 28.3199C39.3215 28.3633 39.0491 28.4129 38.785 28.4311C38.521 28.4493 38.2527 28.4759 38.1898 28.4906C37.0402 28.7522 37.1778 27.5757 38.4912 25.911C39.5655 24.5492 39.6471 23.7358 38.8818 22.0194C38.2935 20.6995 38.2472 20.0756 38.6952 19.4958C38.8113 19.3447 38.9433 19.102 38.989 18.9565C39.0339 18.8111 39.2378 18.4704 39.4411 18.199C40.5416 16.7358 40.7414 16.2917 40.4746 15.9063C40.3066 15.6643 40.178 15.6307 39.86 15.7482ZM75.0482 16.6967C74.8215 16.8624 74.6556 17.3178 74.6556 17.7738C74.6556 18.0627 74.5657 18.3802 74.4295 18.5739C74.3051 18.7502 74.1571 19.0992 74.1005 19.3496C73.9919 19.8329 73.4161 21.357 73.2695 21.5528C73.0677 21.8207 71.9893 24.7388 71.9291 25.1787C71.8634 25.6571 72.1662 26.1607 72.5167 26.1559C72.9114 26.1503 73.7182 25.732 74.0984 25.3354C74.341 25.0822 74.565 24.8752 74.5961 24.8752C74.7434 24.8752 75.1485 24.4275 75.3102 24.0862C75.4506 23.789 75.5238 23.733 75.6441 23.8337C75.7616 23.9323 75.8681 23.8918 76.0962 23.6617C76.2601 23.4952 76.4433 23.3595 76.5041 23.3595C76.5642 23.3595 76.614 23.3119 76.614 23.2539C76.614 23.1056 77.0399 23.235 77.2016 23.4315C77.2749 23.5218 77.3295 23.8617 77.3219 24.1876C77.2797 26.1062 78.3492 27.0826 80.2772 26.8847C81.6093 26.7476 81.9625 26.7846 82.6414 27.1323C83.3133 27.4764 84.8715 27.5246 85.1812 27.2113C85.2476 27.1449 85.3817 27.0896 85.4799 27.0896C85.578 27.0896 85.9409 26.8728 86.2859 26.6077C87.2917 25.8362 87.6395 25.7285 87.7328 26.1586C87.7743 26.3496 87.8738 26.5454 87.9547 26.5937C88.0349 26.6427 88.1344 26.9357 88.1752 27.2463C88.2699 27.9681 88.6487 28.8389 88.8686 28.8389C88.9619 28.8389 89.0552 28.8809 89.0767 28.9326C89.0974 28.9837 89.4679 29.1767 89.9 29.3614C91.4609 30.0265 93.3212 29.7601 94.3975 28.7158C95.0584 28.0737 94.9948 28.0171 93.9323 28.3031C93.6032 28.392 93.3067 28.436 93.2721 28.4017C93.2382 28.3675 93.1442 28.392 93.064 28.4556C92.9057 28.5822 92.2013 28.6556 91.3441 28.6354C89.0428 28.5822 88.7566 25.6704 90.8139 23.235C91.4298 22.5055 91.5923 22.2712 91.5923 22.1117C91.5923 22.0292 91.6358 21.9606 91.6897 21.9606C91.9089 21.9606 92.1868 20.9143 92.2455 19.8623C92.3333 18.304 91.7305 17.4604 90.5712 17.5199C90.1647 17.5409 89.0573 18.0487 89.0573 18.2144C89.0573 18.3054 88.7428 18.4809 87.963 18.8243C87.4438 19.0538 86.5223 19.6553 86.5223 19.7658C86.5223 19.8189 86.4449 19.8623 86.3495 19.8623C86.2548 19.8623 86.1767 19.905 86.1767 19.9567C86.1767 20.0085 85.9479 20.2141 85.6672 20.4142C85.204 20.7443 83.688 22.4376 83.3693 22.9797C83.1882 23.2882 82.5177 24.3254 82.4077 24.4674C82.358 24.5311 82.3013 24.6884 82.2819 24.8171C82.0752 26.1768 79.2133 26.33 78.4853 25.02C78.3533 24.7815 78.3581 24.3891 78.5088 23.2434C78.5655 22.8111 78.925 21.9361 79.1545 21.6697C79.684 21.0548 80.0615 20.2967 79.9467 20.0798C79.8838 19.9602 79.87 19.8623 79.9163 19.8623C79.9633 19.8623 79.9433 19.8036 79.8714 19.7315C79.6481 19.5056 78.9886 19.7238 78.5026 20.184C78.2496 20.424 77.8901 20.7555 77.7028 20.9213C77.5161 21.087 76.8705 21.7438 76.2684 22.3817C74.8478 23.8855 74.1412 24.3856 73.835 24.1051C73.5094 23.8064 73.5405 23.7029 74.7807 20.9471C74.9017 20.6786 75.0012 20.424 75.0012 20.382C75.0012 20.34 75.0738 20.1407 75.163 19.9385C75.3773 19.4517 75.5017 18.9502 75.5142 18.5222C75.5197 18.3298 75.5674 17.9983 75.6192 17.7857C75.7665 17.1842 75.3828 16.4518 75.0482 16.6967ZM67.8864 18.7544C67.6804 18.8446 67.5117 18.9656 67.5117 19.023C67.5117 19.0803 67.3845 19.2769 67.2283 19.4608C67.0728 19.6441 66.9684 19.8175 66.9974 19.8469C67.0258 19.8756 66.9981 19.9616 66.9359 20.0379C66.8737 20.1134 66.6352 20.538 66.4064 20.9807C66.1782 21.4235 65.8416 22.076 65.6584 22.4306C65.1703 23.377 63.6149 24.6423 62.9402 24.6423C62.8566 24.6423 62.7881 24.6968 62.7881 24.764C62.7881 24.8304 62.7232 24.8724 62.6444 24.8556C62.5649 24.8395 62.3844 24.8913 62.2427 24.9703C62.0118 25.0997 61.5535 25.2228 60.5629 25.4214C59.7347 25.5879 59.6047 24.5933 60.3327 23.6512C60.7115 23.1609 60.7025 23.1699 61.7394 22.1502C62.2531 21.6459 62.6727 21.1605 62.6727 21.0723C62.6727 20.9842 62.719 20.9115 62.7757 20.9115C62.8324 20.9115 62.9174 20.7674 62.9644 20.5911C63.2237 19.6245 63.0674 19.4147 62.2413 19.6231C61.7291 19.7525 60.8297 20.4456 60.8297 20.7114C60.8297 21.3283 59.0441 23.2525 58.0265 23.7323C57.5779 23.9442 56.6197 24.4191 55.898 24.7878C55.177 25.1564 54.4829 25.4578 54.3564 25.4578C54.2306 25.4578 53.7992 25.5466 53.3976 25.6544L52.669 25.8516L52.3731 25.5669C51.8989 25.1123 52.0164 23.868 52.6109 23.0469C52.7588 22.8426 52.8798 22.6181 52.8798 22.5481C52.8798 22.4775 52.9524 22.3915 53.0423 22.3565C53.1315 22.3222 53.2331 22.1781 53.2683 22.0376C53.3029 21.897 53.4259 21.6774 53.5414 21.5508C54.1048 20.9311 54.2631 20.2134 53.914 19.8602C53.502 19.4433 52.8771 19.9728 52.0966 21.3997C51.9804 21.6123 51.6092 22.2936 51.2726 22.9133C50.4928 24.3485 50.2619 24.5982 48.8738 25.5068C47.8195 26.1971 47.1656 26.4349 46.0298 26.544C45.4989 26.5944 45.4284 26.0404 45.8369 25.0353C46.0422 24.5304 46.2254 24.0652 46.2441 24.0009C46.2628 23.9365 46.3589 23.7008 46.457 23.4763C46.5552 23.2518 46.8006 22.544 47.0024 21.9026C47.4338 20.531 47.7767 19.7518 47.9834 19.6714C48.1306 19.614 48.1528 19.0048 48.0131 18.8635C47.7394 18.5865 46.392 19.7833 46.4052 20.2911C46.4065 20.3442 46.3665 20.4393 46.3167 20.5037C46.2662 20.568 46.1362 20.9352 46.0284 21.3199C45.9199 21.7046 45.6302 22.4495 45.3841 22.9755C45.138 23.5022 44.9037 24.0659 44.8629 24.2289C44.8228 24.3919 44.7495 24.5255 44.7004 24.5255C44.605 24.5255 44.5719 24.6332 44.3085 25.7914C44.1792 26.3594 44.1695 26.6049 44.2684 26.8406C44.4599 27.2966 44.8173 27.6645 44.9998 27.5939C45.0876 27.5596 45.1601 27.5925 45.1601 27.6673C45.1601 27.7422 45.1995 27.7785 45.2479 27.7485C45.2963 27.7177 45.6206 27.6799 45.9683 27.6638C46.7252 27.6296 47.8113 27.2407 48.5592 26.7371C48.7493 26.6091 48.9954 26.4727 49.106 26.4342C49.2173 26.3951 49.3079 26.3244 49.3079 26.2762C49.3079 26.1838 50.0725 25.8782 50.6048 25.7579C50.8834 25.6949 50.9463 25.7369 51.1143 26.0929C51.7012 27.3386 53.8359 27.0637 57.1838 25.3116C57.826 24.9759 58.433 25.1682 58.7572 25.811C59.1837 26.6566 60.2283 26.921 61.1387 26.4139C61.277 26.337 61.4698 26.2741 61.5673 26.2741C61.7837 26.2741 62.9935 25.7411 63.2278 25.5431C63.9288 24.9493 65.2001 25.341 65.2097 26.1545C65.2208 27.0274 66.9919 27.6946 67.5843 27.049C67.9528 26.6469 67.9286 26.507 67.4903 26.507C66.181 26.507 65.63 24.1708 66.7444 23.3462C66.7976 23.307 66.9013 23.1665 66.9753 23.0336C67.0486 22.9014 67.417 22.3327 67.7938 21.7704C68.8411 20.2085 69.2109 18.9572 68.6821 18.7656C68.577 18.7278 68.4395 18.6726 68.3759 18.6432C68.313 18.6138 68.0924 18.6642 67.8864 18.7544ZM91.6089 19.3664C91.8135 19.5734 91.622 20.0658 91.154 20.5359C90.7192 20.9737 90.5705 21.1675 90.0217 22.0194C89.77 22.4097 88.8188 23.4015 88.2201 23.8974C87.9478 24.1233 87.6222 24.2625 87.4839 24.2121C87.4099 24.1855 87.3166 24.2184 87.2751 24.2863C87.2337 24.3534 87.2585 24.4087 87.3304 24.4087C87.4086 24.4087 87.3913 24.4793 87.2876 24.5835C87.2751 24.6709 87.2482 24.7584 87.2482 24.7584C87.2883 24.6779 87.0415 24.559 86.9502 24.6709C86.7753 24.8871 86.5749 24.9563 86.6951 24.7584C86.7345 24.6947 86.6564 24.6423 86.5223 24.6423C86.3882 24.6423 86.3108 24.6947 86.3495 24.7584C86.3917 24.8269 86.2672 24.8752 86.0481 24.8752C85.661 24.8752 85.0616 25.0374 84.5639 25.2767C84.2003 25.4515 83.7744 25.2746 83.6839 24.9109C83.6244 24.6709 83.6749 24.5695 84.1028 24.0764C84.1982 23.9666 84.3537 23.7267 84.4484 23.5435C84.7063 23.0441 86.0191 21.6515 86.6246 21.2353C86.9171 21.0339 87.1977 20.8003 87.2482 20.7156C87.2993 20.631 87.4155 20.5617 87.5074 20.5617C87.5994 20.5617 87.6747 20.5079 87.6747 20.4428C87.6747 20.3771 87.8047 20.2729 87.963 20.212C88.1213 20.1512 88.2505 20.0477 88.2505 19.9819C88.2505 19.9162 88.3301 19.8623 88.4275 19.8623C88.5243 19.8623 88.6321 19.7875 88.6674 19.6951C88.702 19.6028 88.805 19.5567 88.8955 19.5916C88.9861 19.6266 89.125 19.6014 89.2038 19.535C89.2827 19.4685 89.602 19.3839 89.9124 19.3475C90.2235 19.3105 90.4993 19.2587 90.5249 19.2328C90.621 19.1356 91.4858 19.2419 91.6089 19.3664ZM150.782 20.0595C150.306 20.1854 148.284 21.3269 147.729 21.783C146.912 22.4551 145.739 24.1799 145.465 25.1095C144.762 27.5079 146.204 28.578 149.391 28.0233C149.824 27.9485 150.278 27.8884 150.399 27.8905C150.728 27.8961 152.896 27.3239 153.254 27.1365C153.973 26.7609 154.099 27.0455 153.664 28.059C153.328 28.8424 153.31 29.8727 153.625 30.2252C154.104 30.761 154.719 30.335 154.331 29.7363C153.958 29.1599 155.012 26.6685 156.014 25.7565C156.624 25.2011 156.752 24.7465 156.355 24.5325C156.13 24.4101 156.149 24.3982 154.774 25.4704C154.513 25.6739 153.995 25.9642 153.622 26.1153C153.249 26.2671 152.841 26.4412 152.714 26.5035C152.454 26.6294 150.898 27.126 150.145 27.3225C149.51 27.4883 147.08 27.2791 146.698 27.0259C146.151 26.6636 146.265 25.362 146.903 24.6709L147.253 24.2925H148.543C151.366 24.2932 152.759 23.754 152.609 22.7188C152.571 22.4621 152.496 21.9354 152.441 21.548C152.246 20.1708 151.818 19.7868 150.782 20.0595ZM119.724 21.0059C119.451 21.1122 118.919 21.4934 118.544 21.8522C118.169 22.2117 117.836 22.4789 117.804 22.4467C117.772 22.4146 117.746 22.446 117.746 22.5167C117.746 22.5866 117.642 22.6775 117.516 22.7188C117.389 22.7594 117.285 22.8615 117.285 22.9454C117.285 23.0294 117.207 23.1637 117.112 23.2434C117.017 23.3231 116.939 23.5127 116.939 23.6651C116.939 23.8344 117.007 23.9428 117.112 23.9428C117.27 23.9428 117.337 24.0834 117.297 24.3261C117.289 24.3765 117.361 24.7598 117.456 25.178C117.644 25.9992 117.687 26.9245 117.54 27.0169C117.49 27.0483 117.437 27.2477 117.422 27.461C117.348 28.5549 117.01 28.8767 115.777 29.0228C113.818 29.2558 112.993 27.2568 114.21 25.2249C114.484 24.7675 115.309 23.9428 115.494 23.9421C115.56 23.9414 115.78 23.7841 115.982 23.5924C116.185 23.4001 116.406 23.2434 116.473 23.2434C116.539 23.2434 116.594 23.1588 116.594 23.0559C116.594 22.9426 116.529 22.8937 116.433 22.9314C116.343 22.9657 116.175 22.9223 116.058 22.8349C115.877 22.6992 115.806 22.7006 115.586 22.8454C115.443 22.9391 115.326 22.9776 115.326 22.9321C115.326 22.8867 115.25 22.951 115.157 23.0748C115.064 23.1993 114.986 23.2644 114.984 23.2196C114.981 23.1343 114.697 23.3826 113.853 24.2107C112.873 25.1717 112.468 26.6685 112.744 28.3017C112.937 29.4474 114.758 30.3777 116.074 30.0049C117.387 29.6328 117.926 28.4171 117.87 25.9537C117.863 25.6166 117.897 25.341 117.946 25.341C117.994 25.3403 118.047 25.1179 118.063 24.8458C118.078 24.5737 118.143 24.3331 118.206 24.3121C118.27 24.2904 118.322 24.2219 118.322 24.159C118.322 24.0967 118.278 24.0729 118.224 24.1072C117.911 24.303 118.32 23.4959 118.777 23.0161C120.907 20.78 122.291 21.8508 122.183 25.6502C122.109 28.2115 122.621 28.2402 124.844 25.8019C125.105 25.5166 125.379 25.2305 125.455 25.1668C125.531 25.1025 126.09 24.5255 126.696 23.8841L127.799 22.7188L127.909 23.2259C128 23.6463 127.978 23.8295 127.78 24.2939C127.211 25.632 127.047 26.9763 127.36 27.7352C127.452 27.9576 127.507 28.1395 127.481 28.1395C127.456 28.1395 127.555 28.2703 127.702 28.4304C127.849 28.5913 128.005 28.7221 128.05 28.7221C128.095 28.7221 128.208 28.7997 128.301 28.8942C128.776 29.3747 130.995 29.5055 131.524 29.0844C131.748 28.9067 131.781 28.8389 131.645 28.8389C131.541 28.8389 131.456 28.7948 131.456 28.741C131.456 28.6878 131.246 28.6354 130.99 28.6256C130.084 28.5892 129.113 28.3563 128.729 28.0828C128.173 27.6883 128.122 25.846 128.627 24.4674C128.674 24.3387 128.756 24.1289 128.81 24.0009C128.864 23.8729 129.067 23.3917 129.261 22.9321C130.346 20.3589 128.583 20.3344 126.503 22.8944C126.217 23.2448 125.829 23.6617 125.638 23.8204C125.448 23.9799 125.034 24.387 124.716 24.7262C124.176 25.3046 123.294 25.6264 123.271 25.2543C123.267 25.206 123.251 24.7996 123.233 24.3506C123.189 23.2007 123.06 22.6747 122.683 22.1145C122.502 21.8466 122.355 21.5829 122.355 21.5284C122.355 21.4186 122.062 21.1619 121.685 20.9408C121.341 20.7394 120.324 20.773 119.724 21.0059ZM151.5 21.3689C151.565 21.4927 151.637 21.7158 151.66 21.8648C151.691 22.0613 151.767 22.1264 151.939 22.1012C152.641 21.9977 151.627 22.9538 150.844 23.1329C149.799 23.3714 148.641 23.398 148.327 23.1902L148.027 22.9909L148.569 22.4649C149.575 21.4892 151.235 20.8688 151.5 21.3689ZM140.744 23.0147C140.895 23.0727 141.117 23.284 141.238 23.4833C141.366 23.698 141.486 23.7938 141.532 23.719C141.574 23.6498 141.658 23.5931 141.718 23.5931C141.889 23.5931 141.844 23.8995 141.647 24.0645C141.548 24.1478 141.397 24.3772 141.311 24.5744C140.979 25.3389 138.124 28.0646 137.282 28.4199C136.855 28.6011 134.891 28.6221 134.719 28.4472C134.614 28.3416 134.84 27.4883 135.236 26.4979C135.579 25.6397 136.761 24.1757 137.112 24.1757C137.225 24.1757 137.387 24.1037 137.474 24.0163C137.561 23.9281 137.8 23.768 138.006 23.6603C138.213 23.5525 138.409 23.3917 138.443 23.3028C138.477 23.214 138.564 23.163 138.638 23.1895C138.712 23.2161 138.98 23.1364 139.233 23.0133C139.697 22.7867 140.153 22.7874 140.744 23.0147Z" fill="white"/>

`});ge();var Ukn=Symbol.for("#beforeReconcile"),Wyt=Symbol.for("#placeChild"),Pkn=Symbol.for("#afterReconcile"),Txo=Symbol(),Oxo=Symbol(),Rxo=Symbol(),Mxo=Symbol(),Tkn=Symbol(),z2e=class z2e extends de{render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C;return e=this,e[Ukn](),t=r=1,e[Txo]===1||(t=r=0,e[Txo]=1),t||(e.popup__={modal:!0}),t||(e.popup="popup"),t||e.on$("opnav",{stack:!0,deep:!0,cycle:!0},this),(!t||r&2)&&e.flagSelf$("yd-af ocontainer"),t||(n=w("div",e,`yd-ag ohead ${o}`,null)),t||(i=w("img",n,`yd-ah ${o}`,null)),t||(i.src=jxo),t||(s=w("div",n,`yd-ai ${o}`,null)),t||(a=w("h2",s,`${o}`,"Recommended learning partner")),t||(u=w("img",s,`yd-ak ${o}`,null)),t||(u.src=Axo),t||(c=w("div",e,`yd-al obody ${o}`,null)),t||(h=w("h2",c,`yd-am ${o}`,"MDN recommends Scrimba to help you become job-ready faster")),(d=e[Oxo])||(e[Oxo]=d=w("p",c,`yd-an ${o}`,null)),t||d[Wyt]("Greetings, and welcome to the Scrimba Frontend Developer Career Path! "),t||d[Wyt]("Scrimba has formed a partnership with MDN, reviewing the path and updating it with new content to cover every topic in the MDN Curriculum Core and more. "),(f=e[Rxo])||(e[Rxo]=f=w("p",c,`yd-ao ${o}`,null)),t||f[Wyt]("We are confident that this engaging, interactive learning experience will help you achieve your dream of becoming at front-end web "),t||(m=w("a",f,`yd-ap ${o}`,"(see a demo).")),t||(m.target="_blank"),t||(m.href="/s06icdv"),($=e[Mxo])||(e[Mxo]=$=w("div",c,`yd-aq signatures ${o}`,null)),t||(b=w("div",$,`sign yd_aq ${o}`,null)),t||(g=Ir("svg",b,`yd_aq ${o}`,null)),t||g.set$("src",Bhe),t||(x=w("span",b,`yd_aq ${o}`,"Per Harald Borgen")),t||(k=w("p",b,`yd_aq ${o}`,"CEO, Scrimba")),t||(_=w("div",$,`sign yd_aq ${o}`,null)),t||(S=Ir("svg",_,`yd_aq ${o}`,null)),t||S.set$("src",Pxo),t||(v=w("span",_,`yd_aq ${o}`,"Hermina Condei")),t||(C=w("p",_,`yd_aq ${o}`,"Director, Mozilla")),e[Pkn](r),e}};E(z2e,Tkn,"mdn-modal",2),pe("mdn-modal",z2e,{});var Lxo=z2e;T();oe();ge(),$e();var Okn=Symbol.for("#beforeReconcile"),Rkn=Symbol.for("#getSlot"),CK=Symbol.for("#placeChild"),Mkn=Symbol.for("#getRenderContext"),Lkn=Symbol.for("#isRichElement"),Zyt=Symbol.for("#afterVisit"),Dkn=Symbol.for("#insertInto"),Nkn=Symbol.for("#replaceWith"),Ikn=Symbol.for("#appendChild"),Fkn=Symbol.for("#afterReconcile"),Dxo=Symbol(),Nxo=Symbol(),Ixo=Symbol(),Fxo=Symbol(),Hxo=Symbol(),Bxo=Symbol(),Vxo=Symbol(),zxo=Symbol(),iO=Symbol(),Hkn=Symbol(),Bkn=Symbol(),q2e=class q2e extends Ve("op","OpComponent",de){get offer(){return ME.offer}get coupon(){var e;return(e=this.offer)==null?void 0:e.coupon}dismiss(){if(ME.offer)return ME.offer.presented=OP.now}render(){var P,U;var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;if(OP.user&&((P=ME.email)!=null&&P.academia)&&this.coupon===APP.pro.student_coupon&&!this.offer.presented)return t=this,t[Okn](),r=o=1,t[Dxo]===1||(r=o=0,t[Dxo]=1),s=a=1,(i=t[Nxo])||(s=a=0,t[Nxo]=i=R("op",t,`xz-ag ocontainer ${n}`,null)),u=i[Rkn]("__",t),s||(i.popup__={modal:!0}),s||(i.popup="popup"),s||i.on$("opnav",{stack:!0,deep:!0,cycle:!0},this),s||i.on$("dismiss",{$_:[function(O,L){return e.dismiss(O)}]},this),h=d=1,(c=t[Ixo])||(h=d=0,t[Ixo]=c=w("div",u,`xz-ah obody ${n}`,null)),h||(f=w("h2",c,`xz-ai xz_ah ${n}`,"Unlock Your Exclusive Student Offer Limited Time Only!")),(m=c[Fxo])||(c[Fxo]=m=w("p",c,`xz_ah ${n}`,null)),h||m[CK]("It looks like you've registered with a student email, and guess what? We've got something"),h||($=w("em",m,`xz_ah ${n}`," just for you.")),(b=c[Hxo])||(c[Hxo]=b=w("p",c,`xz_ah ${n}`,null)),h||b[CK]("For a limited time, were offering a "),(g=c[Bxo])||(c[Bxo]=g=w("strong",b,`xz_ah ${n}`,null)),x=(U=this.coupon)==null?void 0:U.percent_off,x===c[zxo]&&h||(c[Vxo]=g[CK](c[zxo]=x,128,c[Vxo])),h||g[CK]("% discount "),h||b[CK]("designed specifically for students like you. Dont miss out on this chance to access premium features at a fraction of the cost."),k=c[Mkn](Hkn),S=v=1,(_=k.run(this.obutton(this.offer)))||(S=v=0,k.cache(_=M(k.value,c,`xz-an xz_ah ${n}`,null))),_[Lkn]&&((!S||v&2)&&_.flags.reconcile(iO,`xz-an xz_ah ${n}`),S||!_.setup||_.setup(v,k),_[Zyt](v)),_==c[iO]||!c[iO]&&(c[iO]=_)[Dkn](c)||c[iO][Nkn](c[iO]=_,c),h||!c.setup||c.setup(d,C),c[Zyt](d),s||!i.setup||i.setup(a,j),i[Zyt](a),s||t[Ikn](i),t[Fkn](o),t}};E(q2e,Bkn,"student-offer-modal",2),pe("student-offer-modal",q2e,{});var qxo=q2e;T();oe();$e();var W2e=Symbol(),Wxo=Symbol(),Zxo=Symbol(),Gxo=Symbol(),Yxo=Symbol(),Xxo=Symbol(),Kxo=Symbol(),Jxo=Symbol(),Qxo=Symbol(),evo=Symbol(),tvo=Symbol(),rvo=Symbol(),ovo=Symbol(),nvo=Symbol(),ivo=Symbol(),svo=Symbol(),lvo=Symbol(),avo=Symbol(),sO=Symbol(),Vkn=Symbol(),lO=Symbol(),zkn=Symbol(),Gyt=Symbol.for("##up"),qkn=Symbol.for("##register"),Wkn=Symbol.for("#getSlot"),ph=Symbol.for("#placeChild"),uvo=Symbol.for("#getRenderContext"),cvo=Symbol.for("#isRichElement"),Z2e=Symbol.for("#afterVisit"),hvo=Symbol.for("#insertInto"),pvo=Symbol.for("#replaceWith"),Zkn=Symbol(),G2e=class G2e extends Ve("op-stack-modal","OpStackModalComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.sub=e?e.sub:void 0,this.invoice=e?e.invoice:void 0,this.recurring=e?e.recurring:void 0}get price(){return this.sub.prices[0]}get monthlyprice(){if(this.price)return this.sub.discount.empty?this.price.unit_amount:this.price.unit_amount.rebated(this.sub.discount.coupon)}get prevannualprice(){if(this.price)return this.sub.discount.empty?this.price.unit_amount.div(1/12):this.price.unit_amount.div(1/12).rebated(this.sub.discount.coupon)}get renewalannualprice(){if(this.annualprice)return this.sub.discount.empty?this.annualprice.unit_amount:this.annualprice.unit_amount.rebated(this.sub.discount.coupon)}get annualprice(){return APP.pro.pricefor("year")}get recurringprice(){return OPMoney.from(this.recurring.total,this.recurring.currency)}get immediateprice(){return OPMoney.from(this.invoice.total,this.invoice.currency)}body(){var W;var e,t,r=this._ns_||"",o,n=H(),i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;return i=s=1,(o=n[W2e])||(i=s=0,o=n[W2e]=o=R("op-sheet",null,`${r}`,null)),i||(o[Gyt]=n._),i||((W=o[qkn])==null||W.call(o,n,W2e)),a=o[Wkn]("__",o),i||(u=w("div",a,`%head ${r}`,"Upgrade to annual")),(c=o[Wxo])||(o[Wxo]=c=w("div",a,`%body ${r}`,null)),(h=o[Zxo])||(o[Zxo]=h=w("p",c,`${r}`,null)),i||h[ph]("You are actually paying "),d=this.monthlyprice,d===o[Yxo]&&i||(o[Gxo]=h[ph](o[Yxo]=d,0,o[Gxo])),i||h[ph](" monthly. That is "),d=this.prevannualprice,d===o[Kxo]&&i||(o[Xxo]=h[ph](o[Kxo]=d,0,o[Xxo])),i||h[ph](" per year."),(f=o[Jxo])||(o[Jxo]=f=w("p",c,`${r}`,null)),i||f[ph]("By upgrading, you will only pay "),m=this.recurringprice,m===o[evo]&&i||(o[Qxo]=f[ph](o[evo]=m,0,o[Qxo])),i||f[ph](" per year: ~50% less!"),e=null,(this.sub.paused||this.sub.will_pause)&&($=b=1,(e=o[tvo])||($=b=0,o[tvo]=e=w("p",null,`${r}`,"We will also automatically unpause your subscription.")),$||(e[Gyt]=c)),o[rvo]=c[ph](e,0,o[rvo]),t=null,this.sub.cancel_at_period_end&&(g=x=1,(t=o[ovo])||(g=x=0,o[ovo]=t=w("p",null,`${r}`,"We will also automatically resume your subscription.")),g||(t[Gyt]=c)),o[nvo]=c[ph](t,0,o[nvo]),(k=o[ivo])||(o[ivo]=k=w("p",c,`${r}`,null)),i||k[ph]("Only "),_=this.immediateprice,_===o[lvo]&&i||(o[svo]=k[ph](o[lvo]=_,0,o[svo])),i||k[ph](" will be collected this year since you still have some days left in your current plan."),v=C=1,(S=o[avo])||(v=C=0,o[avo]=S=w("div",a,`%foot ${r}`,null)),j=S[uvo](Vkn),U=O=1,(P=j.run(this.obutton(this.cancel)))||(U=O=0,j.cache(P=M(j.value,S,`${r}`,null))),P[cvo]&&((!U||O&2)&&P.flags.reconcile(sO,`${r}`),U||!P.setup||P.setup(O,j),P[Z2e](O)),P==S[sO]||!S[sO]&&(S[sO]=P)[hvo](S)||S[sO][pvo](S[sO]=P,S),L=S[uvo](zkn),F=N=1,(I=L.run(this.obutton(this.done)))||(F=N=0,L.cache(I=M(L.value,S,`amber ${r}`,null))),I[cvo]&&(F||(I.label="Upgrade"),(!F||N&2)&&I.flags.reconcile(lO,`amber ${r}`),F||!I.setup||I.setup(N,L),I[Z2e](N)),I==S[lO]||!S[lO]&&(S[lO]=I)[hvo](S)||S[lO][pvo](S[lO]=I,S),v||!S.setup||S.setup(C,V),S[Z2e](C),i||n.sym||!o.setup||o.setup(s,n,W2e),n.sym||o[Z2e](s),o}};E(G2e,Zkn,"annual-upgrade-modal",2),pe("annual-upgrade-modal",G2e,{cssid:"yj-af"});var dvo=G2e;T();oe();$e();var Yyt=Symbol("platform"),fvo=Symbol(),Xyt=Symbol("text"),mvo=Symbol(),Kyt=Symbol("share-to-tiktok"),$vo=Symbol(),Jyt=Symbol("share-to-instagram"),yvo=Symbol(),Qyt=Symbol("share-to-x"),bvo=Symbol(),ebt=Symbol("share-to-linkedin"),gvo=Symbol(),tbt=Symbol("share"),kvo=Symbol(),_vo,EK,aO,uO,cO,hO,rbt,Y2e=Symbol(),pO=Symbol(),Gkn=Symbol(),xvo=Symbol(),dO=Symbol(),Ykn=Symbol(),fO=Symbol(),Xkn=Symbol(),mO=Symbol(),Kkn=Symbol(),$O=Symbol(),Jkn=Symbol(),Qkn=Symbol.for("##up"),e8n=Symbol.for("##register"),t8n=Symbol.for("#getSlot"),jK=Symbol.for("#getRenderContext"),AK=Symbol.for("#isRichElement"),nw=Symbol.for("#afterVisit"),r8n=Symbol.for("#appendChild"),o8n=Symbol.for("#replaceChild"),X2e=Symbol.for("#insertInto"),K2e=Symbol.for("#replaceWith"),n8n=`[intros]

[mids] [emojis]

[check]
{url}

[ends]`,i8n={ends:["Would love to hear any feedback!","Can you do it better?","Anyone else doing the advent calendar?",`

Totally recommend this advent calendar.`,"Such a fun little advent calendar."],mids:["I just completed @scrimba's #JavaScriptmas challenge","Here's how I solved today's #JavaScriptmas challenge by @scrimba","Here's my #JavaScriptmas solution for today @scrimba","Just solved the #JavaScriptmas challenge from @scrimba"],check:["Solution here  ","Check it out   ","Link  "],emojis:["","","","",""],intros:["Merry #JavaScriptmas!","Wohoo! ","Merry Christmas!","Hey all!","Greetings!","This was a fun one!"]},s8n=Symbol(),cf=class cf extends Ve("op-stack-modal","OpStackModalComponent",de){[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.branch=e?e.branch:void 0}set platform(e){this.platform.$set(e,this,Yyt,"platform")}get platform(){return this.platform.$get(this,Yyt,"platform")}get platform(){return this[fvo]||y((_vo=this.enum({x:{default:!0,label:"Twitter",icon:"twitter",url:"https://twitter.com/intent/tweet?text=$0&related=@scrimba"},linkedin:{label:"Linkedin",icon:"linkedin",url:"https://www.linkedin.com/feed/?shareActive=true&text=$0"},tiktok:{label:"TikTok",icon:"tiktok",url:"https://www.tiktok.com/tiktokstudio/upload"},instagram:{label:"Instagram",icon:"instagram",url:"https://instagram.com"}}),_vo),this,Yyt,"platform",fvo,cf.prototype)}set text(e){this.text.$set(e,this,Xyt,"text")}get text(){return this.text.$get(this,Xyt,"text")}get text(){return this[mvo]||y((EK=this.text(),p(EK.rows,Function)?EK.rows(12):EK.rows=12,EK),this,Xyt,"text",mvo,cf.prototype)}set sharetotiktok(e){this.sharetotiktok.$set(e,this,Kyt,"sharetotiktok")}get sharetotiktok(){return this.sharetotiktok.$get(this,Kyt,"sharetotiktok")}get sharetotiktok(){return this[$vo]||y((aO=this.action(),p(aO.icon,Function)?aO.icon("tiktok"):aO.icon="tiktok",aO.callback=function(){return this.share("tiktok")},aO),this,Kyt,"sharetotiktok",$vo,cf.prototype)}set sharetoinstagram(e){this.sharetoinstagram.$set(e,this,Jyt,"sharetoinstagram")}get sharetoinstagram(){return this.sharetoinstagram.$get(this,Jyt,"sharetoinstagram")}get sharetoinstagram(){return this[yvo]||y((uO=this.action(),p(uO.icon,Function)?uO.icon("instagram"):uO.icon="instagram",uO.callback=function(){return this.share("instagram")},uO),this,Jyt,"sharetoinstagram",yvo,cf.prototype)}set sharetox(e){this.sharetox.$set(e,this,Qyt,"sharetox")}get sharetox(){return this.sharetox.$get(this,Qyt,"sharetox")}get sharetox(){return this[bvo]||y((cO=this.action(),p(cO.icon,Function)?cO.icon("twitter"):cO.icon="twitter",cO.callback=function(){return this.share("x")},cO),this,Qyt,"sharetox",bvo,cf.prototype)}set sharetolinkedin(e){this.sharetolinkedin.$set(e,this,ebt,"sharetolinkedin")}get sharetolinkedin(){return this.sharetolinkedin.$get(this,ebt,"sharetolinkedin")}get sharetolinkedin(){return this[gvo]||y((hO=this.action(),p(hO.icon,Function)?hO.icon("linkedin"):hO.icon="linkedin",hO.callback=function(){return this.share("linkedin")},hO),this,ebt,"sharetolinkedin",gvo,cf.prototype)}set share(e){this.share.$set(e,this,tbt,"share")}get share(){return this.share.$get(this,tbt,"share")}get share(){return this[kvo]||y((rbt=this.action(),rbt.callback=async function(e){this.platform=e;let t=this.platform.url.replace("$0",window.encodeURIComponent(this.text));return OP.toast("Heading over to "+this.platform+" in a sec ..."),await Utils.sleep(1*1e3),window.open(t,"_blank")},rbt),this,tbt,"share",kvo,cf.prototype)}get format(){return n8n}get parts(){return i8n}gen(){let e=this.format;for(let t=this.parts,r=0,o=Object.keys(t),n=o.length,i,s;r<n;r++)i=o[r],s=t[i],Array.isArray(s)&&(e=e.replaceAll("["+i+"]",function(){return s.random}));return e=e.replace("{url}",this.branch.asfullurl)}mount(){return this.text=this.gen(this.branch)}body(){var z;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W;return o=n=1,(t=r[Y2e])||(o=n=0,t=r[Y2e]=t=R("op-sheet",null,`${e}`,null)),o||(t[Qkn]=r._),o||((z=t[e8n])==null||z.call(t,r,Y2e)),i=t[t8n]("__",t),o||(s=w("div",i,`%head ${e}`,"Share on social media")),o||(a=w("p",i,`${e}`,`Heres a suggested text for your post. Feel free to tweak it, but make sure to include
the #JavaScriptmas hashtag. Share your solution on X, LinkedIn, TikTok, or Instagram
to enter the prize draw.`)),u=t[jK](Gkn),h=d=1,(c=u.run(this.ofield(this.$.text)))||(h=d=0,u.cache(c=M(u.value,i,`md ${e}`,null))),c[AK]&&((!h||d&2)&&c.flags.reconcile(pO,`md ${e}`),h||!c.setup||c.setup(d,u),c[nw](d)),c==t[pO]||!t[pO]&&i[r8n](t[pO]=c)||(i[o8n](c,t[pO]),t[pO]=c),m=$=1,(f=t[xvo])||(m=$=0,t[xvo]=f=w("div",i,`%foot ${e}`,null)),m||(b=w("span",f,`${e}`,"Share to")),g=f[jK](Ykn),k=_=1,(x=g.run(this.obutton(this.sharetoinstagram)))||(k=_=0,g.cache(x=M(g.value,f,`primary ${e}`,null))),x[AK]&&(k||(x.label=!1),(!k||_&2)&&x.flags.reconcile(dO,`primary ${e}`),k||!x.setup||x.setup(_,g),x[nw](_)),x==f[dO]||!f[dO]&&(f[dO]=x)[X2e](f)||f[dO][K2e](f[dO]=x,f),S=f[jK](Xkn),C=j=1,(v=S.run(this.obutton(this.sharetotiktok)))||(C=j=0,S.cache(v=M(S.value,f,`primary ${e}`,null))),v[AK]&&(C||(v.label=!1),(!C||j&2)&&v.flags.reconcile(fO,`primary ${e}`),C||!v.setup||v.setup(j,S),v[nw](j)),v==f[fO]||!f[fO]&&(f[fO]=v)[X2e](f)||f[fO][K2e](f[fO]=v,f),P=f[jK](Kkn),O=L=1,(U=P.run(this.obutton(this.sharetox)))||(O=L=0,P.cache(U=M(P.value,f,`primary ${e}`,null))),U[AK]&&(O||(U.label=!1),(!O||L&2)&&U.flags.reconcile(mO,`primary ${e}`),O||!U.setup||U.setup(L,P),U[nw](L)),U==f[mO]||!f[mO]&&(f[mO]=U)[X2e](f)||f[mO][K2e](f[mO]=U,f),I=f[jK](Jkn),N=V=1,(F=I.run(this.obutton(this.sharetolinkedin)))||(N=V=0,I.cache(F=M(I.value,f,`primary ${e}`,null))),F[AK]&&(N||(F.label=!1),(!N||V&2)&&F.flags.reconcile($O,`primary ${e}`),N||!F.setup||F.setup(V,I),F[nw](V)),F==f[$O]||!f[$O]&&(f[$O]=F)[X2e](f)||f[$O][K2e](f[$O]=F,f),m||!f.setup||f.setup($,W),f[nw]($),o||r.sym||!t.setup||t.setup(n,r,Y2e),r.sym||t[nw](n),t}};E(cf,s8n,"social-share-modal",2),pe("social-share-modal",cf,{cssid:"yi-af"});var vvo=cf;T();oe();$e();var obt=Symbol("gift-1-month"),wvo=Symbol(),nbt=Symbol("gift-12-months"),Svo=Symbol(),ibt=Symbol("checkout"),Cvo=Symbol(),sbt,lbt,abt,J2e=Symbol(),yO=Symbol(),l8n=Symbol(),Evo=Symbol(),bO=Symbol(),a8n=Symbol(),jvo=Symbol(),Avo=Symbol(),gO=Symbol(),u8n=Symbol(),c8n=Symbol.for("##up"),h8n=Symbol.for("##register"),p8n=Symbol.for("#getSlot"),ubt=Symbol.for("#getRenderContext"),cbt=Symbol.for("#isRichElement"),UK=Symbol.for("#afterVisit"),Uvo=Symbol.for("#appendChild"),Pvo=Symbol.for("#replaceChild"),d8n=Symbol.for("#insertInto"),f8n=Symbol.for("#replaceWith"),m8n=Symbol(),iw=class iw extends Ve("op-stack-modal","OpStackModalComponent",de){get monthly(){return APP.stripe.gift_product.pricefor("month")}get yearly(){return APP.stripe.gift_product.pricefor("year")}set gift1month(e){this.gift1month.$set(e,this,obt,"gift1month")}get gift1month(){return this.gift1month.$get(this,obt,"gift1month")}get gift1month(){return this[wvo]||y((sbt=this.action(),sbt.callback=function(){return this.checkout(1)},sbt),this,obt,"gift1month",wvo,iw.prototype)}set gift12months(e){this.gift12months.$set(e,this,nbt,"gift12months")}get gift12months(){return this.gift12months.$get(this,nbt,"gift12months")}get gift12months(){return this[Svo]||y((lbt=this.action(),lbt.callback=function(){return this.checkout(12)},lbt),this,nbt,"gift12months",Svo,iw.prototype)}set checkout(e){this.checkout.$set(e,this,ibt,"checkout")}get checkout(){return this.checkout.$get(this,ibt,"checkout")}get checkout(){return this[Cvo]||y((abt=this.action(),abt.callback=async function(e){if(!OP.user&&(this.cancel(),!await APP.signin()))return;let t=e==1?this.monthly:this.yearly;if(!t)throw"No duration provided for gift subscription";try{let r=await APP.stripe.create_checkout({price:t,offer:ME.offer,gift:{months:e}});return globalThis.location=r}catch(r){return OP.logged(r)}},abt),this,ibt,"checkout",Cvo,iw.prototype)}body(){var O;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;return o=n=1,(t=r[J2e])||(o=n=0,t=r[J2e]=t=R("op-sheet",null,`${e}`,null)),o||(t[c8n]=r._),o||((O=t[h8n])==null||O.call(t,r,J2e)),i=t[p8n]("__",t),o||(s=w("div",i,`cbm-ah %head ${e}`,"Gift a Scrimba subscription")),a=t[ubt](l8n),c=h=1,(u=a.run(this.obutton(this.gift1month)))||(c=h=0,a.cache(u=M(a.value,i,`primary ${e}`,null))),u[cbt]&&(d="1 month for "+this.monthly.formatted,d===u[Evo]||(u.label=u[Evo]=d),(!c||h&2)&&u.flags.reconcile(yO,`primary ${e}`),c||!u.setup||u.setup(h,a),u[UK](h)),u==t[yO]||!t[yO]&&i[Uvo](t[yO]=u)||(i[Pvo](u,t[yO]),t[yO]=u),f=t[ubt](a8n),$=b=1,(m=f.run(this.obutton(this.gift12months)))||($=b=0,f.cache(m=M(f.value,i,`primary ${e}`,null))),m[cbt]&&(g="1 year for "+this.yearly.formatted,g===m[jvo]||(m.label=m[jvo]=g),(!$||b&2)&&m.flags.reconcile(bO,`primary ${e}`),$||!m.setup||m.setup(b,f),m[UK](b)),m==t[bO]||!t[bO]&&i[Uvo](t[bO]=m)||(i[Pvo](m,t[bO]),t[bO]=m),o||(x=w("p",i,`cbm-ak ${e}`,`Once you have completed the purchase, a gift link to share will be added
to your account settings page.`)),_=S=1,(k=t[Avo])||(_=S=0,t[Avo]=k=w("div",i,`cbm-al %foot ${e}`,null)),v=k[ubt](u8n),j=P=1,(C=v.run(this.obutton(this.cancel)))||(j=P=0,v.cache(C=M(v.value,k,`${e}`,null))),C[cbt]&&((!j||P&2)&&C.flags.reconcile(gO,`${e}`),j||!C.setup||C.setup(P,v),C[UK](P)),C==k[gO]||!k[gO]&&(k[gO]=C)[d8n](k)||k[gO][f8n](k[gO]=C,k),_||!k.setup||k.setup(S,U),k[UK](S),o||r.sym||!t.setup||t.setup(n,r,J2e),r.sym||t[UK](n),t}};E(iw,m8n,"gift-sub-modal",2),pe("gift-sub-modal",iw,{cssid:"cbm-af"});var Tvo=iw;T();oe();var $8n=Symbol.for("#beforeReconcile"),y8n=Symbol.for("#afterReconcile"),Ovo=Symbol(),b8n=Symbol(),Q2e=class Q2e extends de{render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f;return e=this,e[$8n](),t=r=1,e[Ovo]===1||(t=r=0,e[Ovo]=1),t||(n=w("div",e,`kw-ah %s ${o}`,null)),t||(i=w("b",n,`kw-ai %a ${o}`,null)),t||(s=w("b",n,`kw-aj %b ${o}`,null)),t||(a=w("b",n,`kw-ak %c ${o}`,null)),t||(u=w("b",n,`kw-al %d ${o}`,null)),t||(c=w("div",e,`kw-am %br ${o}`,null)),t||(h=w("b",c,`kw-an %e ${o}`,null)),t||(d=w("b",c,`kw-ao %f ${o}`,null)),t||(f=w("b",c,`kw-ap %g ${o}`,null)),e[y8n](r),e}};E(Q2e,b8n,"scrimba-logo",2),pe("scrimba-logo",Q2e,{cssns:"kw_af",cssid:"kw-af"});var Rvo=Q2e;T();oe();var Mvo="/assets/favicon-128x128.7IAMGRTH.png";T();var Lvo="/assets/scrimba_logotype.YHWLRKY4.svg";var Dvo=Object.assign({url:Lvo,type:"svg",toString:function(){return this.url}},{attributes:{width:"135",height:"12",fill:"none"},flags:[],content:'<g fill="#fff" clip-path="url(#a)"><path d="M50.33 11.942a4.75 4.75 0 0 1-1.998-.413 3.746 3.746 0 0 1-1.578-1.249c-.395-.55-.6-1.356-.619-2.183h1.748c0 .497.04 1.021.279 1.339.245.317.568.554.968.71.4.149.715.223 1.2.223.49 0 1.051-.074 1.428-.224.376-.15.666-.35.87-.601a1.31 1.31 0 0 0 .313-.863c0-.437-.134-.787-.403-1.05-.27-.27-.679-.498-1.229-.683l-2.125-.79c-.914-.342-1.611-.734-2.09-1.177-.477-.45-.717-1.072-.717-1.869 0-.904.353-1.637 1.058-2.2.706-.57 1.615-.854 2.894-.854 1.214 0 2.239.282 2.908.845.676.563 1.016 1.331 1.112 2.301H52.6c-.084-.491-.198-.882-.574-1.17-.37-.287-.992-.49-1.698-.49-.681 0-1.13.21-1.513.508-.382.294-.573.665-.573 1.114 0 .372.12.668.358.89.245.221.625.422 1.14.601l2.42.89c.831.293 1.48.688 1.946 1.185.466.497.7 1.129.7 1.895 0 .647-.168 1.219-.503 1.716-.334.497-.825.89-1.47 1.177-.646.281-1.578.422-2.505.422ZM64.144 11.942c-1.01 0-1.883-.246-2.618-.737-.73-.497-1.294-1.194-1.695-2.093-.4-.904-.59-1.964-.59-3.18 0-1.28.202-2.356.626-3.224.425-.874 1.007-1.533 1.749-1.976.747-.449 1.59-.674 2.528-.674 1.262 0 2.266.315 3.013.944.748.622 1.244 1.434 1.489 2.434l-1.82.35c-.216-.665-.556-1.195-1.023-1.59a2.461 2.461 0 0 0-1.659-.602c-.562 0-1.076.162-1.542.485-.466.324-.84.809-1.12 1.456-.282.64-.405 1.44-.405 2.398 0 .886.1 1.664.332 2.335.233.665.577 1.183 1.032 1.554.454.371 1.022.557 1.703.557.831 0 1.486-.222 1.964-.665.478-.449.648-1.073.648-1.792h1.922c0 .839-.203 1.595-.58 2.187-.37.587-.893 1.04-1.568 1.357-.676.317-1.471.476-2.386.476ZM73.572 11.767V.233h4.079c1.333 0 2.346.35 3.04.984.699.629 1.049 1.458 1.049 2.488 0 1.018-.35 1.842-1.05 2.47-.693.629-1.718.822-3.05.822l-.398.036-.7.016h-1.048v4.718h-1.922Zm6.29 0-2.795-4.73 1.922-.163 2.796 4.893h-1.922Zm-4.368-5.942h2.01c.813 0 1.426-.069 1.85-.458.425-.395.637-.904.637-1.527 0-.64-.2-1.15-.6-1.527-.395-.383-.975-.682-1.74-.682h-2.157v4.194ZM87.028 11.767V.233h1.922v11.534h-1.922ZM94.717.233h2.621l3.67 7.515h-.35l3.56-7.515h2.557v11.534h-1.922V2.156h.524l-4.019 8.038h-1.049l-4.194-8.038h.524v9.611h-1.922V.233ZM112.542 11.767V.233h4.543c.855 0 1.453.17 2.015.445.568.276.992.641 1.273 1.096a2.8 2.8 0 0 1 .422 1.5c0 .653-.182 1.216-.547 1.689-.359.473-.896.77-1.59.95.454.078.866.271 1.213.523.347.245.619.55.816.916.203.365.305.77.305 1.212 0 .378-.066.752-.197 1.123-.132.372-.35.71-.655 1.015-.305.306-.714.551-1.228.737-.514.18-1.23.328-2.001.328h-4.369Zm1.922-1.573h2.447c.777 0 1.376-.139 1.723-.462.352-.323.529-.742.529-1.257 0-.521-.186-.94-.556-1.258-.371-.317-.96-.518-1.695-.518h-2.448v3.495Zm0-8.388v3.32h2.448c.664 0 1.184-.026 1.56-.343.383-.317.574-.757.574-1.32 0-.533-.185-.952-.556-1.258-.364-.311-.902-.399-1.578-.399h-2.448ZM124.949 11.767 128.794.233h2.097c1.481 4.492 2.363 7.042 3.845 11.534h-1.923l-.874-2.796h-4.194l-.873 2.796h-1.923Zm3.321-4.194h3.145l-1.573-5.243-1.572 5.243Z"/><path d="M64.144 11.942c-1.01 0-1.883-.246-2.618-.737-.73-.497-1.294-1.194-1.695-2.093-.4-.904-.59-1.964-.59-3.18 0-1.28.202-2.356.626-3.224.425-.874 1.007-1.533 1.749-1.976.747-.449 1.59-.674 2.528-.674 1.262 0 2.266.315 3.013.944.748.622 1.244 1.434 1.489 2.434l-1.82.35c-.216-.665-.556-1.195-1.023-1.59a2.461 2.461 0 0 0-1.659-.602c-.562 0-1.076.162-1.542.485-.466.324-.84.809-1.12 1.456-.282.64-.405 1.44-.405 2.398 0 .886.1 1.664.332 2.335.233.665.577 1.183 1.032 1.554.454.371 1.022.557 1.703.557.831 0 1.486-.222 1.964-.665.478-.449.648-1.073.648-1.792h1.922c0 .839-.203 1.595-.58 2.187-.37.587-.893 1.04-1.568 1.357-.676.317-1.471.476-2.386.476ZM5.767 6H0v5.767h11.534V6H17.3V.233H5.767V6ZM34.601.233h-5.767V6h-5.767v5.767h11.534V.233Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 .059h134.735v11.883H0z"/></clipPath></defs>'});ge(),dt(),an(),wo(),gf(),ln(),$e();var eme=Symbol(),Nvo=Symbol(),Ivo=Symbol(),Fvo=Symbol(),kO=Symbol(),_8n=Symbol(),Hvo=Symbol(),Bvo=Symbol(),Vvo=Symbol(),tme=Symbol(),zvo=Symbol(),qvo=Symbol();var hbt=Symbol(),Wvo=Symbol(),Zvo=Symbol(),_O=Symbol(),x8n=Symbol(),Gvo=Symbol(),Yvo=Symbol(),Xvo=Symbol(),PK=Symbol(),v8n=Symbol(),Kvo=Symbol();var pbt=Symbol(),Jvo=Symbol(),Qvo=Symbol(),ewo=Symbol(),w8n=Symbol(),S8n=Symbol(),two=Symbol(),rwo=Symbol();var dbt=Symbol(),owo=Symbol(),nwo=Symbol(),iwo=Symbol(),swo=Symbol(),lwo=Symbol(),awo=Symbol(),xO=Symbol(),C8n=Symbol(),E8n=le("&.r?",globalThis,l=>l.r),uwo=Symbol(),cwo=Symbol(),vO=Symbol(),j8n=Symbol(),hwo=Symbol(),pwo=Symbol(),dwo=Symbol(),fwo=Symbol(),wO=Symbol(),A8n=Symbol(),mwo=Symbol(),$wo=Symbol();var fbt=Symbol(),ywo=Symbol(),bwo=Symbol(),gwo=Symbol(),kwo=Symbol(),SO=Symbol(),U8n=Symbol(),_wo=Symbol(),xwo=Symbol(),vwo=Symbol(),wwo=Symbol(),Swo=Symbol();var mbt=Symbol(),P8n=le("&.rank and !&.followed",globalThis,l=>l.rank&&!l.followed),Cwo=Symbol(),Ewo=Symbol(),jwo=Symbol(),CO=Symbol(),T8n=Symbol(),Awo=Symbol(),Uwo=Symbol(),Pwo=Symbol(),Two=Symbol(),Owo=Symbol(),Rwo=Symbol(),Mwo=Symbol(),Lwo=Symbol(),Dwo=Symbol(),Nwo=Symbol(),Iwo=Symbol(),Fwo=Symbol(),Hwo=Symbol(),Bwo=Symbol(),Vwo=Symbol(),zwo=Symbol(),EO=Symbol(),O8n=Symbol(),qwo=Symbol(),Wwo=Symbol(),Zwo=Symbol(),Gwo=Symbol(),R8n=Symbol(),M8n=Symbol(),Ywo=Symbol(),L8n=Symbol(),D8n=Symbol();var $bt=Symbol(),Xwo=Symbol(),Kwo=Symbol(),Jwo=Symbol(),Qwo=Symbol(),eSo=Symbol(),tSo=Symbol(),rSo=Symbol(),oSo=Symbol(),nSo=Symbol(),iSo=Symbol(),sSo=Symbol(),lSo=Symbol(),aSo=Symbol(),uSo=Symbol(),jO=Symbol(),N8n=Symbol(),cSo=Symbol(),Pn=Symbol.for("##up"),$So=Symbol.for("##register"),$3=Symbol.for("#visit"),dh=Symbol.for("#getRenderContext"),fh=Symbol.for("#isRichElement"),Zo=Symbol.for("#afterVisit"),H6=Symbol.for("#insertInto"),B6=Symbol.for("#replaceWith"),Cs=Symbol.for("#placeChild"),I8n=Symbol.for("#vw"),F8n=Symbol.for("#beforeReconcile"),H8n=Symbol.for("#getSlot"),hSo=Symbol.for("#appendChild"),B8n=Symbol.for("#replaceChild"),pSo=Symbol.for("#getFunctionalSlot"),V8n=Symbol.for("#afterReconcile");no.addSelectors([".kz-ca"],"transition");no.addSelectors([".kz-ca"],"_off_sized");var z8n=Symbol(),ybt=class ybt{opownnavitem(){var f,m;var e,t=H(),r,o,n,i,s,a,u,c,h,d;return r=o=1,(e=t[eme])||(r=o=0,e=t[eme]=e=w("a",null,null,null)),r||(e[Pn]=t._),r||((f=e[$So])==null||f.call(e,t,eme)),r||(e.odata__={rich:!0}),n=this,n===e[Nvo]||(e.odata=e[Nvo]=n),r||(e.contour="contour"),i=e[Ivo]||(e[Ivo]={opmenu:[null]}),i.opmenu[0]=this,r||e.on$("click",i,this),r||e.on$("opnav",{},this),i=e[Fvo]||(e[Fvo]={options:[null]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(m=i[$3])==null||m.call(i)),s=e[dh](_8n),u=c=1,(a=s.run(this.oicon(this)))||(u=c=0,s.cache(a=M(s.value,e,"oicon",null))),a[fh]&&(u||a.set$("aria-hidden",!0),(!u||c&2)&&a.flags.reconcile(kO,"oicon"),u||!a.setup||a.setup(c,s),a[Zo](c)),a==e[kO]||!e[kO]&&(e[kO]=a)[H6](e)||e[kO][B6](e[kO]=a,e),(h=e[Hvo])||(e[Hvo]=h=w("span",e,null,null)),d=this.asnavlabel,d===e[Vvo]&&r||(e[Bvo]=h[Cs](e[Vvo]=d,384,e[Bvo])),r||t.sym||!e.setup||e.setup(o,t,eme),t.sym||e[Zo](o),e}};E(ybt,z8n,"AppExtras",1,AppExtras);var dSo=ybt,q8n=Symbol(),bbt=class bbt{opownnavitem(){var g,x,k;var e,t=H(),r,o,n,i,s,a,u,c,h,d,f,m,$,b;return r=o=1,(e=t[tme])||(r=o=0,e=t[tme]=e=w("a",null,null,null)),r||(e[Pn]=t._),r||((g=e[$So])==null||g.call(e,t,tme)),r||(e.odata__={rich:!0}),n=this,n===e[zvo]||(e.odata=e[zvo]=n),r||e.on$("opnav",{},this),r||(e.contour="contour"),n=this.asurl,n===e[qvo]||(e.href=e[qvo]=n),n=((x=this.$route)==null?void 0:x.active)||void 0,n===e[hbt]||(o|=2,e[hbt]=n),n=APP.url.root.object==this?"page":!1,n===e[Wvo]||e.set$("aria-current",e[Wvo]=n),i=e[Zvo]||(e[Zvo]={options:[null],stop:!0,depth:[.1]}),n=this,n===i.options[0]||(i.options[0]=n,o|=48),r||e.on$("opmenu",i,this),o&32&&(o^=32,(k=i[$3])==null||k.call(i)),o&2&&e.flag$(e[hbt]?"active":""),s=e[dh](x8n),u=c=1,(a=s.run(this.oicon(this)))||(u=c=0,s.cache(a=M(s.value,e,"oicon",null))),a[fh]&&(u||a.set$("aria-hidden",!0),(!u||c&2)&&a.flags.reconcile(_O,"oicon"),u||!a.setup||a.setup(c,s),a[Zo](c)),a==e[_O]||!e[_O]&&(e[_O]=a)[H6](e)||e[_O][B6](e[_O]=a,e),(h=e[Gvo])||(e[Gvo]=h=w("span",e,null,null)),d=this.asnavlabel,d===e[Xvo]&&r||(e[Yvo]=h[Cs](e[Xvo]=d,384,e[Yvo])),f=e[dh](v8n),$=b=1,(m=f.run(this.oel(this,"nav-badges")))||($=b=0,f.cache(m=M(f.value,e,null,null))),m[fh]&&($||!m.setup||m.setup(b,f),m[Zo](b)),m==e[PK]||!e[PK]&&(e[PK]=m)[H6](e)||e[PK][B6](e[PK]=m,e),r||t.sym||!e.setup||e.setup(o,t,tme),t.sym||e[Zo](o),e}};E(bbt,q8n,"OPBase",1,OPBase);var fSo=bbt,W8n=Symbol(),rme=class rme extends Ve("op","OpComponent",de){get $toggler(){let e=w("button",null,`kz-ct ${this._ns_||""} $toggler`,null);return Object.defineProperty(this,"$toggler",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.expand_browse=e&&(o=e.expand_browse)!==void 0?o:!1}get active(){return this.flags.contains("active")}set active(e){this.flags.toggle("active",e)}hide(){return this.active=!1}toggle(){return APP.sidebar_collapsed=!APP.sidebar_collapsed}get narrow(){return APP.sidebar_collapsed&&window[I8n]>=600}render(){var Rn,js,ca,$h,wi,As,Fo,Vi,$l,yh,nn,Us,xu,O1,Kn,bn,Ps,Nl,yf,R1,ha;var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v=this._ns_||"",C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr,Or,Ao,mn,Uo,Xr,Ar,Mi,ul,Li,Yo,vn,Ur,Po,yo,ui,_i,is,gu,ro,$n,ci,hi,Di,To,pi,Fn,Sr,wn,vo,Ni,Kt,cl,Rr,Kr,di,rn,bo,Ii,Nt,Tn,No,hl,ss,yn,Fi,Ml,Mr,Xo,ls,pl,Ll,xi,Hi,Dl,dl,Rc,fl,Mc,oo,Bi,ku,ml,Io,fi,Sn,vi,Ko,on,On,as,_u;let co=(Rn=APP.url)==null?void 0:Rn.page;globalThis.document.flags.toggle("sidebar-off",this.narrow),g=this,g[F8n](),x=k=1,g[Kvo]===1||(x=k=0,g[Kvo]=1),_=this.narrow||void 0,_===g[pbt]||(k|=2,g[pbt]=_),S=g[Jvo]||(g[Jvo]={options:[null]}),_=APP,_===S.options[0]||(S.options[0]=_,k|=48),x||g.on$("opmenu",S,this),k&32&&(k^=32,(js=S[$3])==null||js.call(S)),x||(g.role="navigation"),x||g.set$("aria-label","Main Navigation"),x||g.on$("opnav",{area:!0,col:!0},this),(!x||k&2)&&g.flagSelf$(g[pbt]?"off":""),j=P=1,(C=g[Qvo])||(j=P=0,g[Qvo]=C=w("div",g,`${v}`,null)),j||(C.role="presentation"),O=L=1,(U=g[ewo])||(O=L=0,g[ewo]=U=w("section",C,`kz-ao ${v}`,null)),O||(U.role="presentation"),O||U.set$("aria-label","Header"),r=null,p(ME,User)?(I=U[dh](S8n),F=N=1,(r=I.run(this.oel(ME,"navitem")))||(F=N=0,I.cache(r=M(I.value,null,`${v}`,null))),F||(r[Pn]=U),r[fh]&&(V=r[two]||(r[two]={options:[null,null]}),W=ME,W===V.options[0]||(V.options[0]=W,N|=48),W=APP,W===V.options[1]||(V.options[1]=W,N|=48),F||r.on$("opmenu",V,this),N&32&&(N^=32,(ca=V[$3])==null||ca.call(V)),(!F||N&2)&&r.flags.reconcile(w8n,`${v}`),F||!r.setup||r.setup(N,I),r[Zo](N))):(z=q=1,(r=U[rwo])||(z=q=0,U[rwo]=r=w("a",null,`kz-aq ${v}`,null)),z||(r[Pn]=U),z||(r.routeto="/"),Y=!this.narrow||void 0,Y===r[dbt]||(q|=2,r[dbt]=Y),q&2&&r.flag$(`kz-aq ${v} `+(r[dbt]?"onavitem":"")),t=null,this.narrow?(K=X=1,(t=r[owo])||(K=X=0,r[owo]=t=w("img",null,`kz-ar ${v}`,null)),K||(t[Pn]=r),K||(t.src=Mvo)):(Z=Q=1,(t=r[nwo])||(Z=Q=0,r[nwo]=t=w("div",null,`kz-as %logotype ${v}`,null)),Z||(t[Pn]=r),Z||(ee=Ir("svg",t,`${v}`,null)),Z||ee.set$("src",Dvo)),r[iwo]=r[Cs](t,0,r[iwo]),z||!r.setup||r.setup(q,te),r[Zo](q)),U[swo]=U[Cs](r,0,U[swo]),O||!U.setup||U.setup(L,ne),U[Zo](L),J=me=1,(ie=g[lwo])||(J=me=0,g[lwo]=ie=w("ul",C,`kz-au section ${v}`,null)),J||ie.set$("aria-label","Main"),(ce=g[awo])||(g[awo]=ce=Jt(384,ie)),ye=0,we=ce.$;for(let sn=0,Jo=B(APP.$.$nav.filter(E8n)),kr=Jo.length;sn<kr;sn++){let Ho=Jo[sn];be=_e=1,(ae=we[ye])||(be=_e=0,we[ye]=ae=w("li",ce,`${v}`,null)),be||(ae[Pn]=ce),Ae=ae[dh](C8n),Pe=He=1,(ve=Ae.run(this.oel(Ho,"navitem")))||(Pe=He=0,Ae.cache(ve=M(Ae.value,ae,`${v}`,null))),ve[fh]&&((!Pe||He&2)&&ve.flags.reconcile(xO,`${v}`),Pe||!ve.setup||ve.setup(He,Ae),ve[Zo](He)),ve==ae[xO]||!ae[xO]&&(ae[xO]=ve)[H6](ae)||ae[xO][B6](ae[xO]=ve,ae),be||!ae.setup||ae.setup(_e,Ue),ae[Zo](_e),ye++}if(ce[Zo](ye),o=null,p(ME,OPSession)&&!this.narrow&&(Be=je=1,(o=g[uwo])||(Be=je=0,g[uwo]=o=w("section",null,`${v}`,null)),Be||(o[Pn]=C),Be||(o.role="presentation"),xe=Re=1,(ue=o[cwo])||(xe=Re=0,o[cwo]=ue=w("div",o,`kz-ay lg ${v}`,null)),xe||(Oe=w("div",ue,`${v}`,"Sign in to unlock courses, challenges and more.")),qe=ue[dh](j8n),Ie=Ke=1,(Ne=qe.run(this.obutton(APP.signin)))||(Ie=Ke=0,qe.cache(Ne=M(qe.value,ue,`kz-ba pri ${v}`,null))),Ne[fh]&&(Ie||(Ne.opnav="opnav"),(!Ie||Ke&2)&&Ne.flags.reconcile(vO,`kz-ba pri ${v}`),Ie||!Ne.setup||Ne.setup(Ke,qe),Ne[Zo](Ke)),Ne==ue[vO]||!ue[vO]&&(ue[vO]=Ne)[H6](ue)||ue[vO][B6](ue[vO]=Ne,ue),xe||!ue.setup||ue.setup(Re,Te),ue[Zo](Re)),g[hwo]=C[Cs](o,0,g[hwo]),i=s=null,p(ME,User)){if(ME.orgs.any){Ce=Ze=1,(i=g[pwo])||(Ce=Ze=0,g[pwo]=i=w("section",null,`${v}`,null)),Ce||(i[Pn]=C),Ce||(i.role="presentation"),Ce||(et=w("h2",i,`${v}`,"Workspaces")),(ft=i[dwo])||(i[dwo]=ft=w("ul",i,`${v}`,null)),(Ge=i[fwo])||(i[fwo]=Ge=Jt(384,ft)),Je=0,ct=Ge.$;for(let Jo=0,kr=B(ME.orgs),Ho=kr.length;Jo<Ho;Jo++){let us=kr[Jo];$t=it=1,(rt=ct[Je])||($t=it=0,ct[Je]=rt=w("li",Ge,`${v}`,null)),$t||(rt[Pn]=Ge),tt=rt[dh](A8n),at=st=1,(ze=tt.run(this.oel(us,"navitem")))||(at=st=0,tt.cache(ze=M(tt.value,rt,`${v}`,null))),ze[fh]&&(yt=ze[mwo]||(ze[mwo]={options:[null]}),vt=us,vt===yt.options[0]||(yt.options[0]=vt,st|=48),at||ze.on$("opdrag",yt,this),st&32&&(st^=32,($h=yt[$3])==null||$h.call(yt)),(!at||st&2)&&ze.flags.reconcile(wO,`${v}`),at||!ze.setup||ze.setup(st,tt),ze[Zo](st)),ze==rt[wO]||!rt[wO]&&(rt[wO]=ze)[H6](rt)||rt[wO][B6](rt[wO]=ze,rt),$t||!rt.setup||rt.setup(it,nt),rt[Zo](it),Je++}Ge[Zo](Je)}let sn=ME.following.filter(function(Jo){return!ME.workspaces.has(Jo)});if(Ct=jt=1,(s=g[$wo])||(Ct=jt=0,g[$wo]=s=w("section",null,`${v}`,null)),Ct||(s[Pn]=C),Ct||(s.role="presentation"),bt=!sn.any||void 0,bt===s[fbt]||(jt|=2,s[fbt]=bt),jt&2&&s.flag$(`${v} `+(s[fbt]?"kz-bh":"")),Ct||(Xe=w("h2",s,`${v}`,"Following")),n=null,!sn.any)ht=Dt=1,(n=s[ywo])||(ht=Dt=0,s[ywo]=n=w("p",null,`${v}`,"Topics, Courses and users you follow will show here.")),ht||(n[Pn]=s);else{mt=At=1,(n=s[bwo])||(mt=At=0,s[bwo]=n=w("ol",null,`kz-bk ${v}`,null)),mt||(n[Pn]=s),mt||(n.contour__={zone:!0}),mt||(n.contour="contour"),Ut=n[gwo]||(n[gwo]={options:[null,null],capture:!0}),kt=ME.following.additem,kt===Ut.options[0]||(Ut.options[0]=kt,At|=48),kt=ME.following.moveitem,kt===Ut.options[1]||(Ut.options[1]=kt,At|=48),mt||n.on$("opdrop",Ut,this),At&32&&(At^=32,(wi=Ut[$3])==null||wi.call(Ut)),(_t=n[kwo])||(n[kwo]=_t=Jt(256,n)),xt=0,Mt=_t.$;for(let Jo=0,kr=B(sn),Ho=kr.length;Jo<Ho;Jo++){let us=kr[Jo];tr=lt=1,(Ot=Mt[xt])||(tr=lt=0,Mt[xt]=Ot=w("li",_t,`${v}`,null)),tr||(Ot[Pn]=_t),fe=Ot[dh](U8n),ut=Rt=1,(Me=fe.run(this.oel(us,"navitem")))||(ut=Rt=0,fe.cache(Me=M(fe.value,Ot,`${v}`,null))),Me[fh]&&(St=Me[_wo]||(Me[_wo]={options:[null]}),Yt=us,Yt===St.options[0]||(St.options[0]=Yt,Rt|=48),ut||Me.on$("opdrag",St,this),Rt&32&&(Rt^=32,(As=St[$3])==null||As.call(St)),(!ut||Rt&2)&&Me.flags.reconcile(SO,`${v}`),ut||!Me.setup||Me.setup(Rt,fe),Me[Zo](Rt)),Me==Ot[SO]||!Ot[SO]&&(Ot[SO]=Me)[H6](Ot)||Ot[SO][B6](Ot[SO]=Me,Ot),tr||!Ot.setup||Ot.setup(lt,rr),Ot[Zo](lt),xt++}_t[Zo](xt)}s[xwo]=s[Cs](n,0,s[xwo])}g[vwo]=C[Cs](i,0,g[vwo]),g[wwo]=C[Cs](s,0,g[wwo]);{Zt=Nr=1,(er=g[Swo])||(Zt=Nr=0,g[Swo]=er=w("section",C,`kz-bn ${v}`,null)),or=this.expand_browse||void 0,or===g[mbt]||(Nr|=2,g[mbt]=or),Zt||(er.role="presentation"),Nr&2&&er.flag$(`kz-bn ${v} `+(g[mbt]?"expanded":""));let sn=Topic.all().filter(P8n),Jo=sn.asc("rank"),kr=sn.asc("name");or=sn.size,or===g[Cwo]||er.css$var("--kz_bo",g[Cwo]=or,null,"--max"),Zt||(Tr=w("h2",er,`${v}`,"Popular")),(xo=g[Ewo])||(g[Ewo]=xo=w("ol",er,`kz-bq ${v}`,null)),(qr=g[jwo])||(g[jwo]=qr=Jt(256,xo)),Wr=0,to=qr.$;for(let Ho=0,us=B(kr),mi=us.length;Ho<mi;Ho++){let zi=us[Ho];Go=fn=1,(mr=to[Wr])||(Go=fn=0,to[Wr]=mr=w("li",qr,`${v}`,null)),Go||(mr[Pn]=qr),Yr=mr[dh](T8n),Ao=mn=1,(Or=Yr.run(this.oel(zi,"navitem")))||(Ao=mn=0,Yr.cache(Or=M(Yr.value,mr,`kz-bs ${v}`,null))),Or[fh]&&((!Ao||mn&2)&&Or.flags.reconcile(CO,`kz-bs ${v}`),Uo=kr.indexOf(zi),Uo===Or[Awo]||Or.css$var("--kz_bt",Or[Awo]=Uo,null,"--byname"),Uo=Jo.indexOf(zi),Uo===Or[Uwo]||Or.css$var("--kz_bu",Or[Uwo]=Uo,null,"--byrank"),Uo=zi.rank||0,Uo===Or[Pwo]||Or.css$var("--kz_bv",Or[Pwo]=Uo,null,"--rank"),Ao||!Or.setup||Or.setup(mn,Yr),Or[Zo](mn)),Or==mr[CO]||!mr[CO]&&(mr[CO]=Or)[H6](mr)||mr[CO][B6](mr[CO]=Or,mr),Go||!mr.setup||mr.setup(fn,Xr),mr[Zo](fn),Wr++}qr[Zo](Wr),Mi=ul=1,(Ar=g[Two])||(Mi=ul=0,g[Two]=Ar=w("div",er,`kz-bw show-more ${v}`,null)),Mi||(Ar.opnav="opnav"),Mi||Ar.on$("click",{$_:[function(Ho,us){return e.expand_browse=!e.expand_browse}]},this),Mi||(Ar.role="button"),u=null,this.narrow?(Li=Yo=1,(u=g[Owo])||(Li=Yo=0,g[Owo]=u=w("div",null,`kz-bx ${v}`,null)),Li||(u[Pn]=Ar),a=null,this.expand_browse?a="less":a="more",u[Rwo]=u[Cs](a,0,u[Rwo])):u="Show "+(this.expand_browse?"less":"more")+"...",g[Mwo]=Ar[Cs](u,0,g[Mwo])}j||(vn=w("div",C,`kz-by ${v}`,null)),j||(vn.role="presentation");{Po=yo=1,(Ur=g[Lwo])||(Po=yo=0,g[Lwo]=Ur=w("div",C,`kz-bz %bottom ${v}`,null)),Po||(Ur.role="presentation");let sn=(Fo=OP.session)==null?void 0:Fo.clipboard,Jo=sn==null?void 0:sn.entries;if(c=null,Jo!=null&&Jo.size){ui=_i=1,(c=Ur[Dwo])||(ui=_i=0,Ur[Dwo]=c=w("div",null,`kz-ca ${v}`,null)),ui||(c[Pn]=Ur),ui||(c.ease="ease"),ui||(is=w("div",c,`head kz_ca ${v}`,null)),ui||(gu=w("h2",is,`kz-cc kz_ca ${v}`,"Clipboard")),$n=ci=1,(ro=c[Nwo])||($n=ci=0,c[Nwo]=ro=w("span",is,`kz-cd kz_ca ${v}`,"Clear")),hi=c[Iwo]||(c[Iwo]={$_:[function(kr,Ho,us){return us.clear(kr)},null]}),hi.$_[1]=sn,$n||ro.on$("click",hi,this),(Di=c[Fwo])||(c[Fwo]=Di=w("div",c,`items kz_ca ${v}`,null)),(To=c[Hwo])||(c[Hwo]=To=Jt(384,Di)),pi=0,Fn=To.$;for(let kr=0,Ho=B(Jo),us=Ho.length;kr<us;kr++){let mi=Ho[kr];wn=vo=1,(Sr=Fn[pi])||(wn=vo=0,Fn[pi]=Sr=R("op",To,`item kz_ca ${v}`,null)),wn||(Sr[Pn]=To),Ni=Sr[H8n]("__",Sr),mi===Sr[Bwo]||(Sr.data=Sr[Bwo]=mi),Kt=Sr[Vwo]||(Sr[Vwo]={options:[null],instant:!0}),cl=mi,cl===Kt.options[0]||(Kt.options[0]=cl,vo|=48),wn||Sr.on$("opdrag",Kt,this),vo&32&&(vo^=32,(Vi=Kt[$3])==null||Vi.call(Kt)),Kt=Sr[zwo]||(Sr[zwo]={emit:["open",null]}),Kt.emit[1]=mi,wn||Sr.on$("click",Kt,this),Rr=Sr[dh](O8n),di=rn=1,(Kr=Rr.run(this.oicon(mi)))||(di=rn=0,Rr.cache(Kr=M(Rr.value,Ni,`icon kz_ca ${v}`,null))),Kr[fh]&&((!di||rn&2)&&Kr.flags.reconcile(EO,`icon kz_ca ${v}`),di||!Kr.setup||Kr.setup(rn,Rr),Kr[Zo](rn)),Kr==Sr[EO]||!Sr[EO]&&Ni[hSo](Sr[EO]=Kr)||(Ni[B8n](Kr,Sr[EO]),Sr[EO]=Kr),(bo=Sr[qwo])||(Sr[qwo]=bo=w("span",Ni,`kz_ca ${v}`,null)),Ii=mi.asshortlabel,Ii===Sr[Zwo]&&wn||(Sr[Wwo]=bo[Cs](Sr[Zwo]=Ii,384,Sr[Wwo])),wn||!Sr.setup||Sr.setup(vo,Nt),Sr[Zo](vo),pi++}To[Zo](pi)}if(Ur[Gwo]=Ur[Cs](c,0,Ur[Gwo]),b=null,OP.user&&!(ME!=null&&ME.pro)&&(($l=ME==null?void 0:ME.github)!=null&&$l.student)&&!((yh=ME==null?void 0:ME.github)!=null&&yh.used_student_offer)&&((nn=ME==null?void 0:ME.github)!=null&&nn.show_student_offer))Tn=Ur[dh](M8n),No=hl=1,(b=Tn.run(this.obutton((Us=ME==null?void 0:ME.github)==null?void 0:Us.claim_student_offer)))||(No=hl=0,Tn.cache(b=M(Tn.value,null,`kz-ci xl min yellow ${v}`,null))),No||(b[Pn]=Ur),b[fh]&&(ss=b[pSo]("__",b),No||b.on$("optip",{},this),No||(b.opnav="opnav"),No||(b.icon=!1),(!No||hl&2)&&b.flags.reconcile(R8n,`kz-ci xl min yellow ${v}`),No||(yn=w("div",ss,`kz-cj olabel ${v}`,null)),(Fi=b[Ywo])||(b[Ywo]=Fi=w("span",yn,`kz-ck ${v}`,null)),No||Fi[Cs]("claim free month"),No||!b.setup||b.setup(hl,Tn),b[Zo](hl));else if(!((xu=OP.user)!=null&&xu.pro)&&(OP.user||(Kn=(O1=APP.pro)==null?void 0:O1.checkout)!=null&&Kn.offer||!0)){let kr=(Nl=(Ps=(bn=APP.stripe)==null?void 0:bn.pro)==null?void 0:Ps.checkout)==null?void 0:Nl.offer,Ho=(yf=kr==null?void 0:kr.coupon)==null?void 0:yf.percent_off;Ml=Ur[dh](D8n),Mr=Xo=1,(b=Ml.run(this.obutton(APP.upgrade)))||(Mr=Xo=0,Ml.cache(b=M(Ml.value,null,`kz-cl xl min ${v}`,null))),Mr||(b[Pn]=Ur),b[fh]&&(ls=b[pSo]("__",b),Mr||b.on$("optip",{},this),Mr||(b.opnav="opnav"),Mr||(b.icon=!1),pl=kr||void 0,pl===b[$bt]||(Xo|=2,b[$bt]=pl),(!Mr||Xo&2)&&b.flags.reconcile(L8n,`kz-cl xl min ${v} `+(b[$bt]?"yellow":"")),(Ll=b[Xwo])||(b[Xwo]=Ll=w("div",ls,`kz-cm olabel ${v}`,null)),m=$=null,(R1=ME.activesub)!=null&&R1.paused?(xi=Hi=1,(m=b[Kwo])||(xi=Hi=0,b[Kwo]=m=w("span",null,`kz-cn ${v}`,"Resume subscription")),xi||(m[Pn]=Ll)):kr?(Dl=dl=1,(m=b[Jwo])||(Dl=dl=0,b[Jwo]=m=w("span",null,`kz-co ${v}`,null)),Dl||(m[Pn]=Ll),h=null,kr.cta?h=kr.cta:Ho?h="Upgrade & save "+Ho+"%":h="Upgrade",m[Qwo]=m[Cs](h,0,m[Qwo]),Rc=fl=1,($=b[eSo])||(Rc=fl=0,b[eSo]=$=w("div",null,`kz-cp ${v}`,null)),Rc||($[Pn]=Ll),d=f=null,kr.countdown?(d="Ending in",Mc=oo=1,(f=$[tSo])||(Mc=oo=0,$[tSo]=f=R("app-countdown",null,`${v}`,null)),Mc||(f[Pn]=$),Bi=kr.expires_at,Bi===f[rSo]||(f.target=f[rSo]=Bi),Bi=kr.coupon,Bi===f[oSo]||(f.odata=f[oSo]=Bi),Mc||!f.setup||f.setup(oo,ku),f[Zo](oo)):d=(ha=kr.coupon)==null?void 0:ha.description,$[nSo]=$[Cs](d,0,$[nSo]),$[iSo]=$[Cs](f,0,$[iSo])):(ml=Io=1,(m=b[sSo])||(ml=Io=0,b[sSo]=m=w("span",null,`${v}`,"upgrade to pro")),ml||(m[Pn]=Ll)),b[lSo]=Ll[Cs](m,0,b[lSo]),b[aSo]=Ll[Cs]($,0,b[aSo]),Mr||!b.setup||b.setup(Xo,Ml),b[Zo](Xo))}Ur[uSo]=Ur[Cs](b,0,Ur[uSo]),fi=Ur[dh](N8n),vi=Ko=1,(Sn=fi.run(this.obutton(APP.newscrim)))||(vi=Ko=0,fi.cache(Sn=M(fi.value,Ur,`kz-cs xl ${v}`,null))),Sn[fh]&&(vi||(Sn.icon="plus"),vi||(Sn.kbd="kbd"),vi||Sn.on$("hotkey",{options:["meta+enter"]},this),vi||(Sn.opnav="opnav"),(!vi||Ko&2)&&Sn.flags.reconcile(jO,`kz-cs xl ${v}`),vi||!Sn.setup||Sn.setup(Ko,fi),Sn[Zo](Ko)),Sn==Ur[jO]||!Ur[jO]&&(Ur[jO]=Sn)[H6](Ur)||Ur[jO][B6](Ur[jO]=Sn,Ur),Po||!Ur.setup||Ur.setup(yo,on),Ur[Zo](yo)}return as=_u=1,(On=g[cSo])||(as=_u=0,g[cSo]=(On=this.$toggler,On[Pn]=g,On)),as||(On.optip__={right:!0}),as||(On.optip="op-tip"),as||On.on$("click",{$_:[function(sn,Jo){return e.toggle(sn)}]},this),as||On.set$("aria-label","Toggle Sidebar"),as||g[hSo](On),g[V8n](k),g}};E(rme,W8n,"app-nav",2),pe("app-nav",rme,{});var mSo=rme;T();oe();function ySo(l,e){return l[l.length+e]}ge(),dt(),En(),an(),un(),Bl(),wu(),ln(),$e(),$i();var gbt=Symbol("add-playlist"),bSo=Symbol(),kbt=Symbol("add-playlist-entry"),gSo=Symbol(),_bt=Symbol("add-scrim"),kSo=Symbol(),xbt=Symbol("move-item"),_So=Symbol(),vbt=Symbol("move-item-to-empty"),xSo=Symbol(),wbt=Symbol("connect-scrim"),vSo=Symbol(),ome=Symbol(),wSo=Symbol(),SSo=Symbol(),CSo=Symbol();var Sbt=Symbol();var Cbt=Symbol(),ESo=Symbol(),nme=Symbol(),jSo=Symbol(),ASo=Symbol(),USo=Symbol();var Ebt=Symbol();var jbt=Symbol(),PSo=Symbol(),ime=Symbol(),TSo=Symbol(),OSo=Symbol(),RSo=Symbol();var Abt=Symbol();var Ubt=Symbol(),MSo=Symbol(),Pbt=Symbol(),Tbt=Symbol(),LSo=Symbol(),DSo=Symbol(),sme=Symbol(),lme=Symbol(),ame=Symbol(),NSo=Symbol(),ISo=Symbol(),FSo=Symbol(),HSo=Symbol(),BSo=Symbol();var Obt=Symbol(),VSo=Symbol(),zSo=Symbol(),qSo=Symbol(),WSo=Symbol(),ZSo=Symbol(),GSo=Symbol(),YSo=Symbol(),XSo=Symbol(),KSo=Symbol(),JSo=Symbol(),AO=Symbol(),Z8n=Symbol(),UO=Symbol(),G8n=Symbol(),QSo=Symbol(),e7o=Symbol(),t7o=Symbol(),r7o=Symbol(),o7o=Symbol(),n7o=Symbol(),i7o=Symbol(),s7o=Symbol(),l7o=Symbol(),a7o=Symbol(),u7o=Symbol(),$u,yu,bu,P1,T1,ume=Symbol(),c7o=Symbol(),Y8n=le("&._pos",globalThis,l=>l._pos),h7o=Symbol(),X8n=Symbol(),p7o=Symbol();var Rbt=Symbol();var Mbt=Symbol();var Lbt=Symbol();var Dbt=Symbol();var Nbt=Symbol();var Ibt=Symbol();var Fbt=Symbol(),d7o=Symbol();var Hbt=Symbol(),f7o=Symbol(),m7o=Symbol();var Bbt=Symbol();var Vbt=Symbol();var zbt=Symbol();var qbt=Symbol();var Wbt=Symbol(),$7o=Symbol(),y7o=Symbol(),b7o=Symbol(),g7o=Symbol(),k7o=Symbol(),_7o=Symbol(),x7o=Symbol(),v7o=Symbol(),w7o=Symbol(),S7o=Symbol(),C7o=Symbol(),E7o=Symbol(),j7o=Symbol(),A7o=Symbol(),U7o=Symbol(),P7o=Symbol(),T7o=Symbol(),O7o=Symbol(),R7o=Symbol(),M7o=Symbol(),L7o=Symbol(),D7o=Symbol(),N7o=Symbol(),I7o=Symbol(),F7o=Symbol(),H7o=Symbol(),B7o=Symbol();var Zbt=Symbol(),V7o=Symbol(),z7o=Symbol(),q7o=Symbol(),W7o=Symbol(),Z7o=Symbol(),G7o=Symbol(),Y7o=Symbol(),X7o=Symbol(),K8n=Symbol(),J8n=Symbol(),K7o=Symbol(),J7o=Symbol(),Q7o=Symbol(),e9o=Symbol(),t9o=Symbol(),r9o=Symbol(),o9o=Symbol(),PO=Symbol(),Q8n=Symbol(),TO=Symbol(),e_n=Symbol(),n9o=Symbol(),i9o=Symbol(),s9o=Symbol();var Gbt=Symbol();var Ybt=Symbol();var Xbt=Symbol();var Kbt=Symbol();var Jbt=Symbol(),l9o=Symbol(),a9o=Symbol(),u9o=Symbol(),c9o=Symbol(),h9o=Symbol(),p9o=Symbol(),d9o=Symbol();var Qbt=Symbol(),f9o=Symbol(),m9o=Symbol(),$9o=Symbol(),y9o=Symbol(),b9o=Symbol(),g9o=Symbol(),k9o=Symbol(),_9o=Symbol(),x9o=Symbol(),v9o=Symbol(),w9o=Symbol(),S9o=Symbol(),t_n=Symbol(),r_n=Symbol(),C9o=Symbol(),OO,E9o=Symbol();var egt=Symbol();var tgt=Symbol();var rgt=Symbol();var ogt=Symbol();var ngt=Symbol();var igt=Symbol(),j9o=Symbol(),A9o=Symbol(),U9o=Symbol(),P9o=Symbol(),T9o=Symbol(),O9o=Symbol(),R9o=Symbol();var sgt=Symbol(),M9o=Symbol(),L9o=Symbol(),D9o=Symbol(),N9o=Symbol(),I9o=Symbol(),F9o=Symbol(),H9o=Symbol(),B9o=Symbol(),V9o=Symbol(),z9o=Symbol(),q9o=Symbol(),W9o=Symbol(),Z9o=Symbol(),G9o=Symbol(),Y9o=Symbol(),X9o=Symbol(),K9o=Symbol(),J9o=Symbol(),Q9o=Symbol(),eCo=Symbol(),tCo=Symbol(),rCo=Symbol(),oCo=Symbol(),nCo=Symbol(),iCo=Symbol(),sCo=Symbol(),lCo=Symbol(),aCo=Symbol();var lgt=Symbol();var agt=Symbol();var ugt=Symbol(),uCo=Symbol(),cCo=Symbol(),RO=Symbol(),o_n=Symbol(),hCo=Symbol(),pCo=Symbol(),n_n=Symbol(),i_n=Symbol(),dCo=Symbol(),fCo=Symbol(),mCo=Symbol(),$Co=Symbol(),MO=Symbol(),s_n=Symbol(),yCo=Symbol(),cgt=Symbol(),bCo=Symbol(),l_n=Symbol(),a_n=Symbol();var gCo=Symbol();var hgt=Symbol(),kCo=Symbol(),_Co=Symbol(),xCo=Symbol(),vCo=Symbol(),wCo=Symbol(),SCo=Symbol(),CCo=Symbol(),ECo=Symbol(),jCo=Symbol(),ACo=Symbol(),u_n=Symbol(),c_n=Symbol(),UCo=Symbol(),PCo=Symbol(),TCo=Symbol(),OCo=Symbol(),RCo=Symbol(),MCo=Symbol(),LCo=Symbol(),lr=Symbol.for("##up"),S2=Symbol.for("##register"),ar=Symbol.for("#afterVisit"),hf=Symbol.for("#getRenderContext"),mh=Symbol.for("#isRichElement"),C2=Symbol.for("#getSlot"),mo=Symbol.for("#placeChild"),Es=Symbol.for("#appendChild"),df=Symbol.for("#beforeReconcile"),LO=Symbol.for("#insertInto"),DO=Symbol.for("#replaceWith"),ff=Symbol.for("#afterReconcile"),pgt=Symbol.for("#parent"),dgt=Symbol.for("#progress"),pf=Symbol.for("#visit"),DCo=Symbol.for("#getDynamicContext"),h_n=Symbol.for("#detachFromParent"),p_n=Symbol.for("#attachToParent");no.addSelectors([".ll-bo",".ll_bo.\\%line",".ll_bo.\\$contents","toc-connector.ll_bo",".ll_en.\\$body"],"transition");no.addSelectors([".ll-bo"],"_off_sized");function fgt(l,e,t,r,o,n){var P,U,O;var i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;return l.lesson?(a=s[ome]=s[ome]||new Map,u=c=1,(i=a.get(h=l))||(u=c=0,a.set(h,i=R("toc-scrim-item",null,"ll_",null))),u||(i[lr]=s._),u||((P=i[S2])==null||P.call(i,s,ome)),l===i[wSo]||(i.data=i[wSo]=l),t===i[SSo]||(i.depth=i[SSo]=t),e===i[CSo]||(i.number=i[CSo]=e),d=`l${t}`,d===i[Sbt]||(c|=2,i[Sbt]=d),d=!o||void 0,d===i[Cbt]||(c|=2,i[Cbt]=d),n===i[ESo]||(i.ctx=i[ESo]=n),c&2&&i.flag$("ll_ "+(i[Sbt]||"")+" "+(i[Cbt]?"last":"")),u||s.sym||!i.setup||i.setup(c,s,ome),s.sym||i[ar](c),i):l.cert?(m=s[nme]=s[nme]||new Map,$=b=1,(f=m.get(g=l))||($=b=0,m.set(g,f=R("toc-cert-item",null,"ll_",null))),$||(f[lr]=s._),$||((U=f[S2])==null||U.call(f,s,nme)),l===f[jSo]||(f.data=f[jSo]=l),t===f[ASo]||(f.depth=f[ASo]=t),e===f[USo]||(f.number=f[USo]=e),x=`l${t}`,x===f[Ebt]||(b|=2,f[Ebt]=x),x=!o||void 0,x===f[jbt]||(b|=2,f[jbt]=x),n===f[PSo]||(f.ctx=f[PSo]=n),b&2&&f.flag$("ll_ "+(f[Ebt]||"")+" "+(f[jbt]?"last":"")),$||s.sym||!f.setup||f.setup(b,s,nme),s.sym||f[ar](b),f):(_=s[ime]=s[ime]||new Map,S=v=1,(k=_.get(C=l))||(S=v=0,_.set(C,k=R("toc-group",null,"ll-ah group ll_",null))),S||(k[lr]=s._),S||((O=k[S2])==null||O.call(k,s,ime)),t===k[TSo]||k.css$var("--ll_ai",k[TSo]=t,null,"--depth"),l===k[OSo]||(k.data=k[OSo]=l),t===k[RSo]||(k.depth=k[RSo]=t),j=`l${t}`,j===k[Abt]||(v|=2,k[Abt]=j),j=!o||void 0,j===k[Ubt]||(v|=2,k[Ubt]=j),n===k[MSo]||(k.ctx=k[MSo]=n),v&2&&k.flag$("ll-ah group ll_ "+(k[Abt]||"")+" "+(k[Ubt]?"last":"")),S||s.sym||!k.setup||k.setup(v,s,ime),s.sym||k[ar](v),k)}var d_n=Symbol(),cme=class cme extends Ve("op-contour","OpContourComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.size=e&&(o=e.size)!==void 0?o:28}get circle(){return!0}};E(cme,d_n,"toc-contour",2),pe("toc-contour",cme,{cssns:"ll_ak",cssid:"ll-ak"});var NCo=cme,f_n=Symbol(),hme=class hme extends Ve("op","OpComponent",de){[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.depth=e&&(o=e.depth)!==void 0?o:0,this.number=e&&(o=e.number)!==void 0?o:0}get item(){return this.data.item}head(){return null}contents(){return null}get progress(){return this.data.progress*100}get editing(){return this.data.course.editing}get current(){var t;let e=(t=this.ctx)==null?void 0:t.scope;return e?e==this.data||Cn(e,this.data):this.data.current}get contour(){return this.$contour}after(){var s;var e=this._ns_||"",t,r=H(),o,n,i;return o=n=1,(t=r[Pbt])||(o=n=0,t=r[Pbt]=t=w("div",null,`%after ll_ ${e}`,null)),o||(t[lr]=r._),o||((s=t[S2])==null||s.call(t,r,Pbt)),o||(i=w("div",t,`%line ll_ ${e}`,null)),t}rendered(){return this.op.vars({"1progress":this.data.progress})}editcontrols(){var c;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u;return o=n=1,(t=r[Tbt])||(o=n=0,t=r[Tbt]=t=w("div",null,`ll-ap ll_ ${e}`,null)),o||(t[lr]=r._),o||((c=t[S2])==null||c.call(t,r,Tbt)),s=a=1,(i=t[LSo])||(s=a=0,t[LSo]=i=w("div",t,`ostat ll_ ${e}`,"...")),u=t[DSo]||(t[DSo]={trap:!0,menu:[null,1]}),u.menu[0]=this.data,s||i.on$("click",u,this),t}lockview(){var c,h;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u;if(this.data.gated)return o=n=1,(t=r[sme])||(o=n=0,t=r[sme]=t=R("op-icon",null,`ll_ ${e}`,null)),o||(t[lr]=r._),o||((c=t[S2])==null||c.call(t,r,sme)),o||(t.data="keyhole"),o||(t.optip="Only available to Subscribers"),o||r.sym||!t.setup||t.setup(n,r,sme),r.sym||t[ar](n),i=r[hf](lme),a=u=1,(s=i.run(this.oicon(this.data.$.gated)))||(a=u=0,i.cache(s=M(i.value,null,`ll_ ${e}`,null))),a||(s[lr]=r._),a||((h=s[S2])==null||h.call(s,r,lme)),s[mh]&&((!a||u&2)&&s.flags.reconcile(lme,`ll_ ${e}`),a||r.sym||!s.setup||s.setup(u,r,lme),r.sym||s[ar](u)),s}opownstats(){var F;var e,t=this._ns_||"",r,o=H(),n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U;let O=this.data.exercises,L=O.filter(function(N){return N.completed}),I=O.size;return n=i=1,(r=o[ame])||(n=i=0,r=o[ame]=r=R("op",null,`ll_ ${t}`,null)),n||(r[lr]=o._),n||((F=r[S2])==null||F.call(r,o,ame)),s=r[C2]("__",r),e=null,this.progress&&(a=u=1,(e=r[NSo])||(a=u=0,r[NSo]=e=w("div",null,`ll-au %stat green box ll_ ${t}`,null)),a||(e[lr]=s),c=this.progress.aspercentstr,c===e[FSo]&&a||(e[ISo]=e[mo](e[FSo]=c,384,e[ISo]))),r[HSo]=s[mo](e,0,r[HSo]),d=f=1,(h=r[BSo])||(d=f=0,r[BSo]=h=w("div",s,`%stat box ll_ ${t}`,null)),m=I==L.size&&I>0||void 0,m===r[Obt]||(f|=2,r[Obt]=m),f&2&&h.flag$(`%stat box ll_ ${t} `+(r[Obt]?"completed":"")),b=g=1,($=r[VSo])||(b=g=0,r[VSo]=$=R("op-icon",h,`ll-aw ll_ ${t}`,null)),b||($.data="exercise"),b||!$.setup||$.setup(g,x),$[ar](g),b||h[Es]($),d||(k=w("span",h,`ll-ax ll_ ${t}`,null)),(_=r[zSo])||(r[zSo]=_=w("span",k,`ll_ ${t}`,null)),S=L.size,S===r[qSo]||_.text$(String(r[qSo]=S)),d||(v=w("span",k,`ll-az ll_ ${t}`,"/")),(C=r[WSo])||(r[WSo]=C=w("span",k,`ll_ ${t}`,null)),j=I,j===r[ZSo]||C.text$(String(r[ZSo]=j)),(P=r[GSo])||(r[GSo]=P=w("div",s,`ll-bb %stat box ll_ ${t}`,null)),U=this.data.duration.asdurationstr,U===r[XSo]&&n||(r[YSo]=P[mo](r[XSo]=U,384,r[YSo])),n||o.sym||!r.setup||r.setup(i,o,ame),o.sym||r[ar](i),r}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b;return e=this,e[df](),t=r=1,e[KSo]===1||(t=r=0,e[KSo]=1),(!t||r&2)&&e.flagSelf$("ll_"),i=s=1,(n=e[JSo])||(i=s=0,e[JSo]=n=w("div",e,`%box ll_ ${o}`,null)),a=n[hf](Z8n),c=h=1,(u=a.run(this.head()))||(c=h=0,a.cache(u=M(a.value,n,`ll_ ${o}`,null))),u[mh]&&((!c||h&2)&&u.flags.reconcile(AO,`ll_ ${o}`),c||!u.setup||u.setup(h,a),u[ar](h)),u==n[AO]||!n[AO]&&(n[AO]=u)[LO](n)||n[AO][DO](n[AO]=u,n),d=n[hf](G8n),m=$=1,(f=d.run(this.contents()))||(m=$=0,d.cache(f=M(d.value,n,`ll_ ${o}`,null))),f[mh]&&((!m||$&2)&&f.flags.reconcile(UO,`ll_ ${o}`),m||!f.setup||f.setup($,d),f[ar]($)),f==n[UO]||!n[UO]&&(n[UO]=f)[LO](n)||n[UO][DO](n[UO]=f,n),i||!n.setup||n.setup(s,b),n[ar](s),e[ff](r),e}};E(hme,f_n,"toc-item",2),pe("toc-item",hme,{cssns:"ll_am",cssid:"ll-am"});var ICo=hme,m_n=Symbol(),pme=class pme extends Ve("op","OpComponent",de){pointermove(e){var t,r;if(!this.focin&&!((r=(t=OP.ui.focel)==null?void 0:t.closest)!=null&&r.call(t,"input,textarea,[contenteditable]"))&&!this.closest(".use-popup"))return this.opfocus()}get contour(){return this[pgt].$contour||this[pgt][pgt].$contour}set progress(e){let t=this[dgt];this[dgt]=e,(t||e>0)&&(this.contour.render(),this.contour.el("progress").set({anchor:0,size:e}))}get progress(){return this[dgt]}render(){var e=this,t,r,o,n=this._ns_||"",i;return t=this,t[df](),r=o=1,t[QSo]===1||(r=o=0,t[QSo]=1),r||t.on$("pointermove",{silent:!0,$_:[function(s,a){return e.pointermove(s)}]},this),r||t.on$("opnav",{},this),r||t.on$("focus",{},this),(!r||o&2)&&t.flagSelf$("ll_"),i=t.__slots.__,t[e7o]=t[mo](i,384,t[e7o]),t[ff](o),t}};E(pme,m_n,"toc-item-head",2),pe("toc-item-head",pme,{cssid:"ll-bg"});var FCo=pme,$_n=Symbol(),dme=class dme extends de{get $a(){let e=w("div",null,`ll_ ${this._ns_||""} $a`,null);return Object.defineProperty(this,"$a",{value:e}),e}get $b(){let e=w("div",null,`ll_ ${this._ns_||""} $b`,null);return Object.defineProperty(this,"$b",{value:e}),e}render(){var e,t,r,o=this._ns_||"",n,i,s;return e=this,e[df](),t=r=1,e[t7o]===1||(t=r=0,e[t7o]=1),(!t||r&2)&&e.flagSelf$("ll_"),t||(n=w("div",e,`%wrap ll_ ${o}`,null)),(i=e[r7o])||(e[r7o]=(i=this.$a,i[lr]=n,i)),t||n[Es](i),(s=e[o7o])||(e[o7o]=(s=this.$b,s[lr]=n,s)),t||n[Es](s),e[ff](r),e}};E(dme,$_n,"toc-connector",2),pe("toc-connector",dme,{cssns:"ll_bj",cssid:"ll-bj"});var HCo=dme,y_n=Symbol(),fme=class fme extends de{get $contents(){let e=w("div",null,`ll-bs ll_ ${this._ns_||""} $contents`,null);return Object.defineProperty(this,"$contents",{value:e}),e}render(){var e,t,r,o=this._ns_||"",n,i,s,a,u,c,h,d,f,m,$,b,g,x,k;return e=this,e[df](),t=r=1,e[n7o]===1||(t=r=0,e[n7o]=1),t||(e.ease="ease"),(!t||r&2)&&e.flagSelf$("ll_"),t||(n=w("div",e,`%line ll_ ${o}`,null)),s=a=1,(i=e[i7o])||(s=a=0,e[i7o]=i=R("toc-connector",e,`ll-br ll_ ${o}`,null)),s||!i.setup||i.setup(a,u),i[ar](a),s||e[Es](i),h=d=1,(c=e[s7o])||(h=d=0,e[s7o]=(c=this.$contents,c[lr]=e,c)),(f=c[l7o])||(c[l7o]=f=w("div",c,`ll-bt ll_ ${o}`,null)),h||f[mo]("No items..."),m=e.__slots.__,c[a7o]=c[mo](m,256,c[a7o]),h||!c.setup||c.setup(d,$),c[ar](d),h||e[Es](c),g=x=1,(b=e[u7o])||(g=x=0,e[u7o]=b=R("toc-connector",e,`ll-bv ll_ ${o}`,null)),g||!b.setup||b.setup(x,k),b[ar](x),g||e[Es](b),e[ff](r),e}};E(fme,y_n,"toc-items",2),pe("toc-items",fme,{cssns:"ll_bo",cssid:"ll-bo"});var BCo=fme,b_n=Symbol(),V6=class V6 extends Ve("toc-item","TocItemComponent",de){get $head(){let e=R("toc-item-head",null,`ll-cb %head ll_ ${this._ns_||""} $head`,null);return Object.defineProperty(this,"$head",{value:e}),e}get $contour(){let e=R("toc-contour",null,`ll_ ${this._ns_||""} $contour`,null);return Object.defineProperty(this,"$contour",{value:e}),e}get on(){return this.data.expanded}get completed(){return this.data.completed}add(){return this.log("add item?!")}get item(){return this.data}has(e){return this.data.entries.has(e)}set addplaylist(e){this.addplaylist.$set(e,this,gbt,"addplaylist")}get addplaylist(){return this.addplaylist.$get(this,gbt,"addplaylist")}get addplaylist(){return this[bSo]||y(($u=this.action(Playlist,OPPos),p($u.label,Function)?$u.label("Add Playlist to Course"):$u.label="Add Playlist to Course",p($u.x,Function)?$u.x(OWNER|ADMIN):$u.x=OWNER|ADMIN,p($u.dnd,Function)?$u.dnd():$u.dnd=!0,p($u.if,Function)?$u.if(function(){return this.editing}):$u.if=function(){return this.editing},$u.callback=async function(e,t){let r=this.data.$root.toc;await e;let o=r.add({name:e.name||"Section",group:this.data}),n=o;t&&r.move(o,t);for(let i=0,s=B(e.entries),a=s.length;i<a;i++){let c=await s[i].item,h=c.name;n=r.add({name:h,item:c,group:o},{after:n})}},$u),this,gbt,"addplaylist",bSo,V6.prototype)}set addplaylistentry(e){this.addplaylistentry.$set(e,this,kbt,"addplaylistentry")}get addplaylistentry(){return this.addplaylistentry.$get(this,kbt,"addplaylistentry")}get addplaylistentry(){return this[gSo]||y((yu=this.action(PlaylistEntry,OPPos),p(yu.label,Function)?yu.label("Add Playlist entry to Course"):yu.label="Add Playlist entry to Course",p(yu.x,Function)?yu.x(OWNER|ADMIN):yu.x=OWNER|ADMIN,p(yu.dnd,Function)?yu.dnd():yu.dnd=!0,p(yu.if,Function)?yu.if(function(){return this.editing}):yu.if=function(){return this.editing},yu.callback=function(e,t){return this.addscrim(e.item,t)},yu),this,kbt,"addplaylistentry",gSo,V6.prototype)}set addscrim(e){this.addscrim.$set(e,this,_bt,"addscrim")}get addscrim(){return this.addscrim.$get(this,_bt,"addscrim")}get addscrim(){return this[kSo]||y((bu=this.action(Scrim,OPPos),p(bu.label,Function)?bu.label("Add Scrim to Course"):bu.label="Add Scrim to Course",p(bu.x,Function)?bu.x(OWNER|ADMIN):bu.x=OWNER|ADMIN,p(bu.dnd,Function)?bu.dnd():bu.dnd=!0,p(bu.if,Function)?bu.if(function(){return this.editing}):bu.if=function(){return this.editing},bu.callback=function(e,t){let r=this.data.$root.toc;if(r.find(function(i){return i.item==e}))return OP.toast("Scrim already exists in course!");let n=r.add({name:e.name,item:e,group:this.data});return t&&r.move(n,t),n},bu),this,_bt,"addscrim",kSo,V6.prototype)}set moveitem(e){this.moveitem.$set(e,this,xbt,"moveitem")}get moveitem(){return this.moveitem.$get(this,xbt,"moveitem")}get moveitem(){return this[_So]||y((P1=this.action(CourseEntry,OPPos),p(P1.label,Function)?P1.label("Move/Add $1 $2"):P1.label="Move/Add $1 $2",p(P1.dnd,Function)?P1.dnd():P1.dnd=!0,p(P1.if,Function)?P1.if(function(){return this.editing}):P1.if=function(){return this.editing},P1.callback=function(e,t){if(e.$root!=this.data.$root){e.scrim?this.addscrim(e.scrim,t):OP.toast("Cannot add section from other course - Not implemented");return}if(e!=this.data)if(this.tagName=="TOC-ROOT"){if(e.group=null,t)return this.data.$root.toc.move(e,t)}else return e.group=this.data,this.data.$root.toc.move(e,t||OPPos.after(this.data))},P1),this,xbt,"moveitem",_So,V6.prototype)}set moveitemtoempty(e){this.moveitemtoempty.$set(e,this,vbt,"moveitemtoempty")}get moveitemtoempty(){return this.moveitemtoempty.$get(this,vbt,"moveitemtoempty")}get moveitemtoempty(){return this[xSo]||y((T1=this.action(CourseEntry),p(T1.label,Function)?T1.label("Move/Add $1 $2"):T1.label="Move/Add $1 $2",p(T1.dnd,Function)?T1.dnd():T1.dnd=!0,p(T1.if,Function)?T1.if(function(){return this.editing}):T1.if=function(){return this.editing},T1.callback=function(e){return this.moveitem(e)},T1),this,vbt,"moveitemtoempty",xSo,V6.prototype)}contents(){var g,x;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f,m,$,b;if(!this.data.expanded)return null;{o=n=1,(t=r[ume])||(o=n=0,t=r[ume]=t=R("toc-items",null,`ll-bx %items ll_ ${e}`,null)),o||(t[lr]=r._),o||((g=t[S2])==null||g.call(t,r,ume)),i=t[C2]("__",t),s=t[c7o]||(t[c7o]={options:[null]}),a=this,a===s.options[0]||(s.options[0]=a,n|=48),o||t.on$("opdrop",s,this),n&32&&(n^=32,(x=s[pf])==null||x.call(s)),o||(t.role="list");let k=this.data.entries.asc(Y8n);(u=t[h7o])||(t[h7o]=u=wt(256,i)),c=0,h=u.$;for(let _=0,S=B(k),v=S.length;_<v;_++){let C=S[_];d=h[hf](C),m=$=1,(f=d.run(fgt(C,_+1,this.depth+1,k[_-1],k[_+1],this.ctx)))||(m=$=0,d.cache(f=M(d.value,null,`ll_ ${e}`,null))),m||(f[lr]=u),f[mh]&&((!m||$&2)&&f.flags.reconcile(X8n,`ll_ ${e}`),m||!f.setup||f.setup($,d),f[ar]($)),u.push(f,c++,b)}return u[ar](c),o||r.sym||!t.setup||t.setup(n,r,ume),r.sym||t[ar](n),t}}toggle(){return this.data.expanded=!this.data.expanded}get expanded(){return this.data.expanded}collapse(){return this.data.set({expanded:!1})}expand(){return this.data.set({expanded:!0})}render(){var kt,_t;var e=this,t,r,o,n,i,s,a,u,c,h,d,f=this._ns_||"",m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt;let mt=this.data.exercises,At=mt.filter(function(xt){return xt.completed}),Ut=this.editing;u=this,u[df](),c=h=1,u[p7o]===1||(c=h=0,u[p7o]=1),d=this.expanded||void 0,d===u[Rbt]||(h|=2,u[Rbt]=d),d=!this.expanded||void 0,d===u[Mbt]||(h|=2,u[Mbt]=d),d=this.data.locked||void 0,d===u[Lbt]||(h|=2,u[Lbt]=d),d=this.item.module||void 0,d===u[Dbt]||(h|=2,u[Dbt]=d),d=!Ut&&this.completed||void 0,d===u[Nbt]||(h|=2,u[Nbt]=d),d=this.item.gated||void 0,d===u[Ibt]||(h|=2,u[Ibt]=d),d=this.data.hidden||void 0,d===u[Fbt]||(h|=2,u[Fbt]=d),c||(u.role="listitem"),c||u.on$("tapped",{stop:!0,$_:[function(xt,Mt){return e.toggle(xt)}]},this),(!c||h&2)&&u.flagSelf$("ll_ "+(u[Rbt]?"on":"")+" "+(u[Mbt]?"off":"")+" "+(u[Lbt]?"locked":"")+" "+(u[Dbt]?"deep":"")+" "+(u[Nbt]?"completed":"")+" "+(u[Ibt]?"gated":"")+" "+(u[Fbt]?"hidden":"")),$=b=1,(m=u[d7o])||($=b=0,u[d7o]=m=w("div",u,`ll-ca %main ll_ ${f}`,null)),$||m.on$("hover",{silent:!0,flag:["hov"]},this),g=this.expanded||void 0,g===u[Hbt]||(b|=2,u[Hbt]=g),b&2&&m.flag$(`ll-ca %main ll_ ${f} `+(u[Hbt]?"hon":"")),k=_=1,(x=u[f7o])||(k=_=0,u[f7o]=(x=this.$head,x[lr]=m,x)),S=x[C2]("__",u),v=this.data,v===u[m7o]||(x.data=u[m7o]=v),v=this.on||void 0,v===u[Bbt]||(_|=2,u[Bbt]=v),v=!this.on||void 0,v===u[Vbt]||(_|=2,u[Vbt]=v),v=`hl${this.depth}`,v===u[zbt]||(_|=2,u[zbt]=v),v=this.completed||void 0,v===u[qbt]||(_|=2,u[qbt]=v),v=this.current||void 0,v===u[Wbt]||(_|=2,u[Wbt]=v),C=u[$7o]||(u[$7o]={options:[null],stop:!0}),v=this.data,v===C.options[0]||(C.options[0]=v,_|=48),k||x.on$("opmenu",C,this),_&32&&(_^=32,(kt=C[pf])==null||kt.call(C)),C=u[y7o]||(u[y7o]={options:[null]}),v=this.data,v===C.options[0]||(C.options[0]=v,_|=48),k||x.on$("opdrag",C,this),_&32&&(_^=32,(_t=C[pf])==null||_t.call(C)),k||x.on$("click",{trap:!0,$_:[function(xt,Mt){return e.toggle(xt)}]},this),k||x.on$("keydown",{self:!0,left:!0,trap:!0,$_:[function(xt,Mt){return e.collapse(xt)}]},this),k||x.on$("keydown",{self:!0,right:!0,trap:!0,$_:[function(xt,Mt){return e.expand(xt)}]},this),v=this.progress,v===u[b7o]||(x.progress=u[b7o]=v),_&2&&x.flag$(`ll-cb %head ll_ ${this._ns_||""} $head `+(u[Bbt]?"on":"")+" "+(u[Vbt]?"off":"")+" "+(u[zbt]||"")+" "+(u[qbt]?"completed":"")+" "+(u[Wbt]?"current":"")),P=U=1,(j=u[g7o])||(P=U=0,u[g7o]=(j=this.$contour,j[lr]=S,j)),O=j[C2]("__",u),P||(j.size=32),t=null,Ut?(L=I=1,(t=u[k7o])||(L=I=0,u[k7o]=t=R("op-icon",null,`ll_ ${f}`,null)),L||(t[lr]=O),F=O2,F===t[_7o]||(t.data=t[_7o]=F),L||!t.setup||t.setup(I,N),t[ar](I)):(V=W=1,(t=u[x7o])||(V=W=0,u[x7o]=t=R("op-icon",null,`ll-ce ll_ ${f}`,null)),V||(t[lr]=O),z=XK,z===t[v7o]||(t.data=t[v7o]=z),V||!t.setup||t.setup(W,q),t[ar](W)),u[w7o]=O[mo](t,0,u[w7o]),P||!j.setup||j.setup(U,Y),j[ar](U),P||S[Es](j);{(K=u[S7o])||(u[S7o]=K=w("h2",S,`ll-cf %label ll_ ${f}`,null)),r=null,Ut?(X=Z=1,(r=u[C7o])||(X=Z=0,u[C7o]=r=R("op-text",null,`ll-cg %name ll_ ll_cf ${f}`,null)),X||(r[lr]=K),Q=this.data.$.name,Q===r[E7o]||(r.data=r[E7o]=Q),X||(r.editable="editable"),X||!r.setup||r.setup(Z,ee),r[ar](Z)):(te=ne=1,(r=u[j7o])||(te=ne=0,u[j7o]=r=w("span",null,`%name ll_ ll_cf ${f}`,null)),te||(r[lr]=K),ie=this.data.name,ie===r[U7o]&&te||(r[A7o]=r[mo](r[U7o]=ie,384,r[A7o]))),u[P7o]=K[mo](r,0,u[P7o]);let xt=mt.len,Mt=At.len;me=ce=1,(J=u[T7o])||(me=ce=0,u[T7o]=J=w("div",K,`ll-ci ostats xs boxed ll_ ll_cf ${f}`,null)),me||J.set$("aria-hidden",!0),o=null,Ut&&this.data.hidden&&(ye=we=1,(o=J[O7o])||(ye=we=0,J[O7o]=o=w("div",null,`ostat pill red ll_ ll_cf ${f}`,"Hidden")),ye||(o[lr]=J)),J[R7o]=J[mo](o,0,J[R7o]),n=null,this.progress&&!Ut&&(ae=be=1,(n=J[M7o])||(ae=be=0,J[M7o]=n=w("div",null,`ll-ck %stat ostat green ll_ ll_cf ${f}`,null)),ae||(n[lr]=J),_e=this.progress.aspercentstr,_e===n[D7o]&&ae||(n[L7o]=n[mo](n[D7o]=_e,384,n[L7o]))),J[N7o]=J[mo](n,0,J[N7o]),(Ae=J[I7o])||(J[I7o]=Ae=w("div",J,`ll-cl %stat ostat ll_ ll_cf ${f}`,null)),ve=this.data.duration.asdurationstr,ve===J[H7o]&&me||(J[F7o]=Ae[mo](J[H7o]=ve,384,J[F7o])),i=null,Ut||(Pe=He=1,(i=J[B7o])||(Pe=He=0,J[B7o]=i=w("div",null,`ll-cm %stat ostat ll_ ll_cf ${f}`,null)),Pe||(i[lr]=J),Ue=xt==Mt&&xt>0||void 0,Ue===i[Zbt]||(He|=2,i[Zbt]=Ue),He&2&&i.flag$(`ll-cm %stat ostat ll_ ll_cf ${f} `+(i[Zbt]?"completed":"")),Mt===i[V7o]||i.css$var("--ll_cn",i[V7o]=Mt,null,"--tasks-done"),xt===i[z7o]||i.css$var("--ll_co",i[z7o]=xt,null,"--tasks-count"),je=ue=1,(Be=i[q7o])||(je=ue=0,i[q7o]=Be=R("op-icon",i,`ll-cp ll_ ll_cf ${f}`,null)),je||(Be.data="exercise"),je||!Be.setup||Be.setup(ue,xe),Be[ar](ue),je||i[Es](Be),Pe||(Re=w("span",i,`ll-cq ll_ ll_cf ${f}`,null)),(Oe=i[W7o])||(i[W7o]=Oe=w("span",Re,`ll-cr ll_ ll_cf ${f}`,null)),qe=Mt,qe===i[Z7o]||Oe.text$(String(i[Z7o]=qe)),Pe||(Ne=w("span",Re,`ll-cs ll_ ll_cf ${f}`,"/")),(Ie=i[G7o])||(i[G7o]=Ie=w("span",Re,`ll_ ll_cf ${f}`,null)),Ke=xt,Ke===i[Y7o]||Ie.text$(String(i[Y7o]=Ke))),J[X7o]=J[mo](i,0,J[X7o]),s=null,Ut&&(Te=J[hf](J8n),Ce=Ze=1,(s=Te.run(this.editcontrols()))||(Ce=Ze=0,Te.cache(s=M(Te.value,null,`ll_ ll_cf ${f}`,null))),Ce||(s[lr]=J),s[mh]&&((!Ce||Ze&2)&&s.flags.reconcile(K8n,`ll_ ll_cf ${f}`),Ce||!s.setup||s.setup(Ze,Te),s[ar](Ze))),J[K7o]=J[mo](s,0,J[K7o]),me||!J.setup||J.setup(ce,et),J[ar](ce)}return k||!x.setup||x.setup(_,ft),x[ar](_),k||m[Es](x),Je=ct=1,(Ge=u[J7o])||(Je=ct=0,u[J7o]=Ge=w("p",m,`ll-cv %body ll_ ${f}`,null)),Je||Ge.on$("click",{shift:!0,trap:!0,$_:[function(xt,Mt){return xt.target.flags.add("fill")}]},this),Je||(rt=w("div",Ge,`%line ll_ ${f}`,null)),a=null,Ut?($t=it=1,(a=u[Q7o])||($t=it=0,u[Q7o]=a=R("op-text",null,`ll-cx ll_ ${f}`,null)),$t||(a[lr]=Ge),tt=this.data.$.desc,tt===a[e9o]||(a.data=a[e9o]=tt),$t||(a.editable="editable"),$t||(a.placeholder="Description"),$t||!a.setup||a.setup(it,ze),a[ar](it)):(at=st=1,(a=u[t9o])||(at=st=0,u[t9o]=a=w("div",null,`ll-cy ll_ ${f}`,null)),at||(a[lr]=Ge),yt=this.data.desc,yt===a[r9o]||(a.md=a[r9o]=yt)),u[o9o]=Ge[mo](a,0,u[o9o]),vt=u[hf](Q8n),Ct=jt=1,(nt=vt.run(this.contents()))||(Ct=jt=0,vt.cache(nt=M(vt.value,u,`ll_ ${f}`,null))),nt[mh]&&((!Ct||jt&2)&&nt.flags.reconcile(PO,`ll_ ${f}`),Ct||!nt.setup||nt.setup(jt,vt),nt[ar](jt)),nt==u[PO]||!u[PO]&&(u[PO]=nt)[LO](u)||u[PO][DO](u[PO]=nt,u),bt=u[hf](e_n),ht=Dt=1,(Xe=bt.run(this.after()))||(ht=Dt=0,bt.cache(Xe=M(bt.value,u,`ll_ ${f}`,null))),Xe[mh]&&((!ht||Dt&2)&&Xe.flags.reconcile(TO,`ll_ ${f}`),ht||!Xe.setup||Xe.setup(Dt,bt),Xe[ar](Dt)),Xe==u[TO]||!u[TO]&&(u[TO]=Xe)[LO](u)||u[TO][DO](u[TO]=Xe,u),u[ff](h),u}};E(V6,b_n,"toc-group",2),pe("toc-group",V6,{cssns:"ll_bw",cssid:"ll-bw"});var VCo=V6,g_n=Symbol(),mme=class mme extends de{render(){var e,t,r,o=this._ns_||"",n,i;return e=this,e[df](),t=r=1,e[n9o]===1||(t=r=0,e[n9o]=1),(!t||r&2)&&e.flagSelf$("ll_"),t||(n=w("div",e,`%line ll_ ${o}`,null)),(i=e[i9o])||(e[i9o]=i=w("div",e,`ll-de add-after ll_ ${o}`,null)),t||i[mo]("+"),e[ff](r),e}};E(mme,g_n,"toc-item-slot",2),pe("toc-item-slot",mme,{cssid:"ll-db"});var zCo=mme,k_n=Symbol(),$me=class $me extends Ve("toc-item","TocItemComponent",de){};E($me,k_n,"toc-leaf",2),pe("toc-leaf",$me,{cssns:"ll_df",cssid:"ll-df"});var qCo=$me,__n=Symbol(),yme=class yme extends Ve("toc-leaf","TocLeafComponent",de){get $head(){let e=R("toc-item-head",null,`ll-dj %head ll_ ${this._ns_||""} $head`,null);return Object.defineProperty(this,"$head",{value:e}),e}get $contour(){let e=R("toc-contour",null,`scrim ll_ ${this._ns_||""} $contour`,null);return Object.defineProperty(this,"$contour",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0}get completed(){return!!this.cert}get cert(){return this.data.cert}render(){var ie,J,me;var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne;return n=this,n[df](),i=s=1,n[s9o]===1||(i=s=0,n[s9o]=1),a=this.data.gated||void 0,a===n[Gbt]||(s|=2,n[Gbt]=a),a=this.data.locked||void 0,a===n[Ybt]||(s|=2,n[Ybt]=a),a=this.data.started||void 0,a===n[Xbt]||(s|=2,n[Xbt]=a),a=this.data.progress>0||void 0,a===n[Kbt]||(s|=2,n[Kbt]=a),a=this.data.archived||void 0,a===n[Jbt]||(s|=2,n[Jbt]=a),i||n.on$("tapped",{stop:!0},this),i||(n.role="listitem"),(!i||s&2)&&n.flagSelf$("ll-dh ll_ "+(n[Gbt]?"gated":"")+" "+(n[Ybt]?"locked":"")+" "+(n[Xbt]?"started":"")+" "+(n[Kbt]?"available":"")+" "+(n[Jbt]?"archived":"")),i||(c=w("div",n,`%line ll_ ${u}`,null)),d=f=1,(h=n[l9o])||(d=f=0,n[l9o]=(h=this.$head,h[lr]=n,h)),m=h[C2]("__",n),$=this.data,$===n[a9o]||(h.data=n[a9o]=$),$=this.progress,$===n[u9o]||(h.progress=n[u9o]=$),b=n[c9o]||(n[c9o]={options:[null]}),$=this,$===b.options[0]||(b.options[0]=$,f|=48),d||h.on$("opdrop",b,this),f&32&&(f^=32,(ie=b[pf])==null||ie.call(b)),b=n[h9o]||(n[h9o]={options:[null],stop:!0,depth:[null]}),$=this.data,$===b.options[0]||(b.options[0]=$,f|=48),b.depth[0]=this.editing?1:0,d||h.on$("opmenu",b,this),f&32&&(f^=32,(J=b[pf])==null||J.call(b)),b=n[p9o]||(n[p9o]={options:[null]}),$=this.data,$===b.options[0]||(b.options[0]=$,f|=48),d||h.on$("opdrag",b,this),f&32&&(f^=32,(me=b[pf])==null||me.call(b)),b=n[d9o]||(n[d9o]={if:[null],emit:["open",null]}),b.if[0]=this.cert&&!this.editing,b.emit[1]=this.cert,d||h.on$("click",b,this),d||h.on$("keydown",{self:!0,left:!0,trap:!0,$_:[function(ce,ye){return e.moveleft(ce)}]},this),$=this.current||void 0,$===n[Qbt]||(f|=2,n[Qbt]=$),f&2&&h.flag$(`ll-dj %head ll_ ${this._ns_||""} $head `+(n[Qbt]?"current":"")),x=k=1,(g=n[f9o])||(x=k=0,n[f9o]=(g=this.$contour,g[lr]=m,g)),_=g[C2]("__",n),x||(g.size=32),v=C=1,(S=n[m9o])||(v=C=0,n[m9o]=S=R("op-icon",_,`ll_ ${u}`,null)),v||(S.data="medal"),v||!S.setup||S.setup(C,j),S[ar](C),v||_[Es](S),x||!g.setup||g.setup(k,P),g[ar](k),x||m[Es](g),(U=n[$9o])||(n[$9o]=U=w("div",m,`ll-dm %main ll_ ${u}`,null)),t=null,this.editing?(O=L=1,(t=n[y9o])||(O=L=0,n[y9o]=t=R("op-text",null,`ll-dn %name ll_ ll_dm ${u}`,null)),O||(t[lr]=U),I=this.data.$.name,I===t[b9o]||(t.data=t[b9o]=I),O||(t.editable="editable"),O||!t.setup||t.setup(L,F),t[ar](L)):(N=V=1,(t=n[g9o])||(N=V=0,n[g9o]=t=w("div",null,`%name ll_ ll_dm ${u}`,null)),N||(t[lr]=U),W=this.data.name,W===t[_9o]&&N||(t[k9o]=t[mo](t[_9o]=W,384,t[k9o]))),n[x9o]=U[mo](t,0,n[x9o]),q=Y=1,(z=n[v9o])||(q=Y=0,n[v9o]=z=w("div",U,`ostats boxed xxs ll_ ll_dm ${u}`,null)),r=null,this.data.hidden&&(K=X=1,(r=z[w9o])||(K=X=0,z[w9o]=r=w("div",null,`ostat pill red ll_ ll_dm ${u}`,"Hidden")),K||(r[lr]=z)),z[S9o]=z[mo](r,0,z[S9o]),o=null,this.editing&&(Z=z[hf](r_n),Q=ee=1,(o=Z.run(this.editcontrols()))||(Q=ee=0,Z.cache(o=M(Z.value,null,`ll_ ll_dm ${u}`,null))),Q||(o[lr]=z),o[mh]&&((!Q||ee&2)&&o.flags.reconcile(t_n,`ll_ ll_dm ${u}`),Q||!o.setup||o.setup(ee,Z),o[ar](ee))),z[C9o]=z[mo](o,0,z[C9o]),q||!z.setup||z.setup(Y,te),z[ar](Y),d||!h.setup||h.setup(f,ne),h[ar](f),d||n[Es](h),n[ff](s),n}};E(yme,__n,"toc-cert-item",2),pe("toc-cert-item",yme,{cssns:"ll_dg",cssid:"ll-dg"});var WCo=yme,x_n=Symbol(),TK=class TK extends Ve("toc-leaf","TocLeafComponent",de){get $head(){let e=R("toc-item-head",null,`ll-dv %head ll_ ${this._ns_||""} $head`,null);return Object.defineProperty(this,"$head",{value:e}),e}get $contour(){let e=R("toc-contour",null,`scrim ll_ ${this._ns_||""} $contour`,null);return Object.defineProperty(this,"$contour",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.shown=e&&(o=e.shown)!==void 0?o:!1}set connectscrim(e){this.connectscrim.$set(e,this,wbt,"connectscrim")}get connectscrim(){return this.connectscrim.$get(this,wbt,"connectscrim")}get connectscrim(){return this[vSo]||y((OO=this.action(Scrim),p(OO.g,Function)?OO.g(0,OPOWNER):OO.g=0,OO.callback=function(e){return this.data.item=e},OO),this,wbt,"connectscrim",vSo,TK.prototype)}get completed(){return this.data.completed}get item(){return this.data.item}moveleft(){var t;let e=(t=this.closest("toc-group"))==null?void 0:t.$head;if(e)return e.focus()}appeared(){if(this.shown!=!0&&(this.shown=!0,!0))return this.render(),!0}render(){var ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt;var e=this,t,r,o,n,i,s,a,u,c,h,d,f,m,$=this._ns_||"",b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it;let tt=this.editing;if(h=this,h[df](),d=f=1,h[E9o]===1||(d=f=0,h[E9o]=1),m=!tt&&this.data.gated||void 0,m===h[egt]||(f|=2,h[egt]=m),m=!tt&&this.data.started||void 0,m===h[tgt]||(f|=2,h[tgt]=m),m=!tt&&this.data.locked||void 0,m===h[rgt]||(f|=2,h[rgt]=m),m=!tt&&this.completed||void 0,m===h[ogt]||(f|=2,h[ogt]=m),m=this.data.progress>0||void 0,m===h[ngt]||(f|=2,h[ngt]=m),m=this.data.archived||void 0,m===h[igt]||(f|=2,h[igt]=m),d||h.on$("tapped",{stop:!0},this),d||(h.role="listitem"),d||h.on$("intersect",{options:["200px 0px"],silent:!0,in:!0,$_:[function(At,Ut){return e.appeared(At)}]},this),d||h.on$("open",{$_:[function(At,Ut){return At.context||=e.data}]},this),(!d||f&2)&&h.flagSelf$("ll-dt ll_ "+(h[egt]?"gated":"")+" "+(h[tgt]?"started":"")+" "+(h[rgt]?"locked":"")+" "+(h[ogt]?"completed":"")+" "+(h[ngt]?"available":"")+" "+(h[igt]?"archived":"")),d||(b=w("div",h,`%line ll_ ${$}`,null)),x=k=1,(g=h[j9o])||(x=k=0,h[j9o]=(g=this.$head,g[lr]=h,g)),_=g[C2]("__",h),S=this.data,S===h[A9o]||(g.data=h[A9o]=S),S=tt?0:this.progress,S===h[U9o]||(g.progress=h[U9o]=S),v=h[P9o]||(h[P9o]={options:[null]}),S=this,S===v.options[0]||(v.options[0]=S,k|=48),x||g.on$("opdrop",v,this),k&32&&(k^=32,(ze=v[pf])==null||ze.call(v)),v=h[T9o]||(h[T9o]={options:[null,null],stop:!0,depth:[null]}),S=this.data,S===v.options[0]||(v.options[0]=S,k|=48),S=this.item,S===v.options[1]||(v.options[1]=S,k|=48),v.depth[0]=tt?1:0,x||g.on$("opmenu",v,this),k&32&&(k^=32,(at=v[pf])==null||at.call(v)),v=h[O9o]||(h[O9o]={options:[null]}),S=this.data,S===v.options[0]||(v.options[0]=S,k|=48),x||g.on$("opdrag",v,this),k&32&&(k^=32,(st=v[pf])==null||st.call(v)),v=h[R9o]||(h[R9o]={if:[null],emit:["open",null]}),v.if[0]=this.item&&!tt,v.emit[1]=this.data,x||g.on$("click",v,this),x||g.on$("keydown",{self:!0,left:!0,trap:!0,$_:[function(At,Ut){return e.moveleft(At)}]},this),S=this.current||void 0,S===h[sgt]||(k|=2,h[sgt]=S),k&2&&g.flag$(`ll-dv %head ll_ ${this._ns_||""} $head `+(h[sgt]?"current":"")),j=P=1,(C=h[M9o])||(j=P=0,h[M9o]=(C=this.$contour,C[lr]=_,C)),U=C[C2]("__",h),j||(C.size=32),t=r=null,this.shown&&(this.completed&&!tt?(O=L=1,(t=h[L9o])||(O=L=0,h[L9o]=t=R("op-icon",null,`ll-dx ll_ ${$}`,null)),O||(t[lr]=U),O||(t.data="v"),O||!t.setup||t.setup(L,I),t[ar](L),F=N=1,(r=h[D9o])||(F=N=0,h[D9o]=r=R("op-icon",null,`ll-dy ll_ ${$}`,null)),F||(r[lr]=U),F||(r.data="play"),F||!r.setup||r.setup(N,V),r[ar](N)):(W=z=1,(t=h[N9o])||(W=z=0,h[N9o]=t=R("op-icon",null,`ll_ ${$}`,null)),W||(t[lr]=U),q=tt?O2:"play",q===t[I9o]||(t.data=t[I9o]=q),W||!t.setup||t.setup(z,Y),t[ar](z))),h[F9o]=U[mo](t,0,h[F9o]),h[H9o]=U[mo](r,0,h[H9o]),j||!C.setup||C.setup(P,K),C[ar](P),j||_[Es](C),(X=h[B9o])||(h[B9o]=X=w("div",_,`ll-ea %main ll_ ${$}`,null)),o=null,this.editing?(Z=Q=1,(o=h[V9o])||(Z=Q=0,h[V9o]=o=R("op-text",null,`ll-eb %name ll_ ll_ea ${$}`,null)),Z||(o[lr]=X),ee=this.data.$.name,ee===o[z9o]||(o.data=o[z9o]=ee),Z||(o.editable="editable"),Z||!o.setup||o.setup(Q,te),o[ar](Q)):(ne=ie=1,(o=h[q9o])||(ne=ie=0,h[q9o]=o=w("div",null,`%name ll_ ll_ea ${$}`,null)),ne||(o[lr]=X),J=this.data.name,J===o[Z9o]&&ne||(o[W9o]=o[mo](o[Z9o]=J,384,o[W9o]))),h[G9o]=X[mo](o,0,h[G9o]),c=null,this.shown){me=ce=1,(c=h[Y9o])||(me=ce=0,h[Y9o]=c=w("div",null,`ostats boxed xxs ll_ ll_ea ${$}`,null)),me||(c[lr]=X),n=null,this.data.hidden&&(ye=we=1,(n=c[X9o])||(ye=we=0,c[X9o]=n=w("div",null,`ostat pill red ll_ ll_ea ${$}`,"Hidden")),ye||(n[lr]=c)),c[K9o]=c[mo](n,0,c[K9o]),i=null,ME!=null&&ME.admin&&tt&&((vt=(yt=this.data)==null?void 0:yt.item)==null?void 0:vt.privacy)!="public"&&(ae=be=1,(i=c[J9o])||(ae=be=0,c[J9o]=i=w("div",null,`ostat pill red ll_ ll_ea ${$}`,null)),ae||(i[lr]=c),_e=(jt=(Ct=(nt=this.data)==null?void 0:nt.item)==null?void 0:Ct.privacy)==null?void 0:jt.name,_e===i[eCo]&&ae||(i[Q9o]=i[mo](i[eCo]=_e,384,i[Q9o]))),c[tCo]=c[mo](i,0,c[tCo]),(Ae=c[rCo])||(c[rCo]=Ae=w("div",c,`ll-eg %dur ostat ll_ ll_ea ${$}`,null)),ve=(bt=this.data.duration)==null?void 0:bt.msToDuration,ve===c[nCo]&&me||(c[oCo]=Ae[mo](c[nCo]=ve,384,c[oCo])),(Pe=c[iCo])||(c[iCo]=Pe=w("div",c,`ll-eh exercises ll_ ll_ea ${$}`,null)),(He=c[sCo])||(c[sCo]=He=Jt(384,Pe)),Ue=0,Be=He.$;for(let At=0,Ut=B(((Xe=this.item)==null?void 0:Xe.exercises)||[]),kt=Ut.length;At<kt;At++){let _t=Ut[At];ue=xe=1,(je=Be[Ue])||(ue=xe=0,Be[Ue]=je=R("op-icon",He,`ll-ei ostat ll_ ll_ea ${$}`,null)),ue||(je[lr]=He),ue||(je.data="challenge"),Re=je[lCo]||(je[lCo]={options:[null]}),Oe=_t,Oe===Re.options[0]||(Re.options[0]=Oe,xe|=48),ue||je.on$("optip",Re,this),xe&32&&(xe^=32,(ht=Re[pf])==null||ht.call(Re)),Re=je[aCo]||(je[aCo]={trap:!0,emit:["open",null]}),Re.emit[1]=_t,ue||je.on$("click",Re,this),Oe=_t.completed||void 0,Oe===je[lgt]||(xe|=2,je[lgt]=Oe),Oe=_t.status.failed||void 0,Oe===je[agt]||(xe|=2,je[agt]=Oe),Oe=!_t.status.not_started||void 0,Oe===je[ugt]||(xe|=2,je[ugt]=Oe),xe&2&&je.flag$(`ll-ei ostat ll_ ll_ea ${$} `+(je[lgt]?"done":"")+" "+(je[agt]?"failed":"")+" "+(je[ugt]?"skipped":"")),ue||!je.setup||je.setup(xe,qe),je[ar](xe),Ue++}He[ar](Ue),s=null,(mt=(Dt=this.item)==null?void 0:Dt.scribbles)!=null&&mt.size&&(Ne=Ie=1,(s=c[uCo])||(Ne=Ie=0,c[uCo]=s=R("op-icon",null,`ll-ej ostat ll_ ll_ea ${$}`,null)),Ne||(s[lr]=c),Ne||(s.data="scribble"),Ne||(s.optip="You made a scribble in this scrim"),Ne||!s.setup||s.setup(Ie,Ke),s[ar](Ie)),c[cCo]=c[mo](s,0,c[cCo]),Te=c[hf](o_n),Ze=et=1,(Ce=Te.run(this.lockview()))||(Ze=et=0,Te.cache(Ce=M(Te.value,c,`ll_ ll_ea ${$}`,null))),Ce[mh]&&((!Ze||et&2)&&Ce.flags.reconcile(RO,`ll_ ll_ea ${$}`),Ze||!Ce.setup||Ce.setup(et,Te),Ce[ar](et)),Ce==c[RO]||!c[RO]&&(c[RO]=Ce)[LO](c)||c[RO][DO](c[RO]=Ce,c),a=null,this.data.freesample&&(ft=Ge=1,(a=c[hCo])||(ft=Ge=0,c[hCo]=a=w("div",null,`ostat pill ll_ ll_ea ${$}`,"Sample")),ft||(a[lr]=c)),c[pCo]=c[mo](a,0,c[pCo]),u=null,this.editing&&(Je=c[hf](i_n),ct=rt=1,(u=Je.run(this.editcontrols()))||(ct=rt=0,Je.cache(u=M(Je.value,null,`ll_ ll_ea ${$}`,null))),ct||(u[lr]=c),u[mh]&&((!ct||rt&2)&&u.flags.reconcile(n_n,`ll_ ll_ea ${$}`),ct||!u.setup||u.setup(rt,Je),u[ar](rt))),c[dCo]=c[mo](u,0,c[dCo]),me||!c.setup||c.setup(ce,$t),c[ar](ce)}return h[fCo]=X[mo](c,0,h[fCo]),x||!g.setup||g.setup(k,it),g[ar](k),x||h[Es](g),h[ff](f),h}};E(TK,x_n,"toc-scrim-item",2),pe("toc-scrim-item",TK,{cssns:"ll_ds",cssid:"ll-ds"});var ZCo=TK,v_n=Symbol(),bme=class bme extends Ve("toc-scrim-item","TocScrimItemComponent",de){};E(bme,v_n,"toc-end-item",2),pe("toc-end-item",bme,{});var GCo=bme,w_n=Symbol(),gme=class gme extends de{};E(gme,w_n,"toc-slot",2),pe("toc-slot",gme,{});var YCo=gme,S_n=Symbol(),kme=class kme extends Ve("op","OpComponent",de){get $body(){let e=w("div",null,`ll-ep ll_ ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.course=e?e.course:void 0,this.toc=e?e.toc:void 0}mount(){return this.flags.incr("mounting",.2*1e3)}follow(){var e=this;for(let t=0,r=B(this.course.toc),o=r.length;t<o;t++){let n=r[t];n.lesson||(n.expanded=!!n.current)}return this.toc.render(),setTimeout(function(){var r;let t=ySo(e.toc.op.qsa(".current"),-1);return(r=t==null?void 0:t.scrollIntoView)==null||r.call(t,{behavior:"smooth",block:"center"}),t.focus({preventScroll:!0})},100),this}redraw(){var u,c,h;if(!(this.toc&&this.toc.offsetParent))return;let e=this.toc.querySelectorAll(".current"),r=this.toc.querySelector(".current.off")||ySo(e,-1),o=(c=(u=this.toc)==null?void 0:u.opbox)==null?void 0:c.call(u),n=(h=r==null?void 0:r.opbox)==null?void 0:h.call(r);if(this.flags.toggle("off",!n),!n)return;let i=n.left,s=n.top+n.height*.5,a=s;return s=s.clamp(70,window.innerHeight-10),this.flags.toggle("below",a>s),this.flags.toggle("above",a<s),this.flags.toggle("outside",a!=s),a!=s&&(i=o.left+44),this.style.translate=""+i+"px "+s+"px",this.op.units(n,"anchor"),this}render(){var e=this,t,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g;return t=this,t[df](),r=o=1,t[mCo]===1||(r=o=0,t[mCo]=1),(!r||o&2)&&t.flagSelf$("ll_"),i=s=1,(n=t[$Co])||(i=s=0,t[$Co]=(n=this.$body,n[lr]=t,n)),i||n.on$("click",{$_:[function(x,k){return e.follow(x)}]},this),a=n[hf](s_n),h=d=1,(c=a.run(this.oel(this.data,"icon")))||(h=d=0,a.cache(c=M(a.value,n,`ll_ ${u}`,null))),c[mh]&&((!h||d&2)&&c.flags.reconcile(MO,`ll_ ${u}`),h||!c.setup||c.setup(d,a),c[ar](d)),c==n[MO]||!n[MO]&&(n[MO]=c)[LO](n)||n[MO][DO](n[MO]=c,n),i||!n.setup||n.setup(s,f),n[ar](s),i||t[Es](n),$=b=1,(m=t[yCo])||($=b=0,t[yCo]=m=R("i-global",t,`ll_ ${u}`,null)),$||m.on$("scroll",{silent:!0,$_:[function(x,k){return e.redraw(x)}]},this),$||!m.setup||m.setup(b,g),m[ar](b),$||t[Es](m),t[ff](o),t}};E(kme,S_n,"toc-fab",2),pe("toc-fab",kme,{cssns:"ll_en",cssid:"ll-en"});var XCo=kme,C_n=Symbol(),_me=class _me extends Ve("toc-group","TocGroupComponent",de){get $fab(){let e=R("toc-fab",null,`ll_ ${this._ns_||""} $fab`,null);return Object.defineProperty(this,"$fab",{value:e}),e}get $body(){let e=R("op",null,`ll_ ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),this.currheight=e&&(o=e.currheight)!==void 0?o:0}get items(){return this.data.items}has(e){return this.items.has(e)}contents(){var $;var e=this._ns_||"",t,r=H(),o,n,i,s,a,u,c,h,d,f;let m=this.data.entries;o=n=1,(t=r[cgt])||(o=n=0,t=r[cgt]=t=w("div",null,`%items ll_ ${e}`,null)),o||(t[lr]=r._),o||(($=t[S2])==null||$.call(t,r,cgt)),(i=t[bCo])||(t[bCo]=i=wt(384,t)),s=0,a=i.$;for(let b=0,g=B(m),x=g.length;b<x;b++){let k=g[b];h=d=1,(c=(u=a[DCo](l_n,s)).run(fgt(k,b+1,0,m[b-1])))||(h=d=0,u.cache(c=M(u.value,i,`ll_ ${e}`,null))),h||(c[lr]=i),c[mh]&&((!h||d&2)&&c.flags.reconcile(a_n,`ll_ ${e}`),h||!c.setup||c.setup(d,u),c[ar](d)),i.push(c,s++,f)}return i[ar](s),t}resized(){var t,r;(r=(t=this.$fab)==null?void 0:t.redraw)==null||r.call(t);let e=this.$body.offsetHeight;if(e>this.currheight)return this.currheight=e}scrolled(){let e,t=globalThis.document.scrollingElement.scrollTop;return e=this.op.rect.height}mount(){var e=this,t=this._ns_||"",r,o={},n,i,s;super.mount(...arguments),OP.user}unmount(){return super.unmount(...arguments)}bench(e=!1){let t,r=this.offsetParent;this[h_n]();let o=globalThis.performance.now();return r==null||r.offsetWidth,this[p_n](),e&&(this.render(),this.offsetWidth),t=globalThis.performance.now()}reveal(e){var r;if(p(e,CourseEntry))for(let o=0,n=B(e.path),i=n.length;o<i;o++){let s=n[o];s.expanded=!0}this.render();let t=this.querySelector('[data-id="'+e.id+'"]');if(t)return(r=t==null?void 0:t.scrollIntoView)==null?void 0:r.call(t,{behavior:"instant",block:"center"})}render(){var ee;var e=this,t,r,o,n,i,s,a=this._ns_||"",u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q;{o=this,o[df](),n=i=1,o[gCo]===1||(n=i=0,o[gCo]=1),s=this.data.editing||void 0,s===o[hgt]||(i|=2,o[hgt]=s),(!n||i&2)&&o.flagSelf$("ll_ "+(o[hgt]?"editing":"")),c=h=1,(u=o[kCo])||(c=h=0,o[kCo]=u=R("i-global",o,`ll_ ${a}`,null)),d=u[C2]("__",o),f=o[_Co]||(o[_Co]={silent:!0,throttle:[null,null],$_:[function(ne,ie){return e.scrolled(ne)}]}),f.throttle[0]=100,c||u.on$("scroll",f,this),t=null,!this.data.editing&&!this.nofab&&(m=$=1,(t=o[xCo])||(m=$=0,o[xCo]=(t=this.$fab,t[lr]=null,t)),m||(t[lr]=d),b=this.data,b===t[vCo]||(t.course=t[vCo]=b),b=this,b===t[wCo]||(t.toc=t[wCo]=b),b=OP.user,b===t[SCo]||(t.data=t[SCo]=b),m||!t.setup||t.setup($,g),t[ar]($)),o[CCo]=d[mo](t,0,o[CCo]),c||!u.setup||u.setup(h,x),u[ar](h),c||o[Es](u);let te=this.items;_=S=1,(k=o[ECo])||(_=S=0,o[ECo]=(k=this.$body,k[lr]=o,k)),v=k[C2]("__",o),C=o[jCo]||(o[jCo]={options:[null]}),j=this,j===C.options[0]||(C.options[0]=j,S|=48),_||k.on$("opdrop",C,this),S&32&&(S^=32,(ee=C[pf])==null||ee.call(C)),_||k.on$("resize",{silent:!0,$_:[function(ne,ie){return e.resized(ne)}]},this),_||k.on$("opnav",{area:!0,col:!0},this),_||(k.role="list"),(P=o[ACo])||(o[ACo]=P=wt(384,v)),U=0,O=P.$;for(let ne=0,ie=B(te),J=ie.length;ne<J;ne++){let me=ie[ne];F=N=1,(I=(L=O[DCo](u_n,U)).run(fgt(me,ne+1,0,te[ne-1],te[ne+1],this)))||(F=N=0,L.cache(I=M(L.value,P,`ll_ ${a}`,null))),F||(I[lr]=P),I[mh]&&((!F||N&2)&&I.flags.reconcile(c_n,`ll_ ${a}`),F||!I.setup||I.setup(N,L),I[ar](N)),P.push(I,U++,V)}return P[ar](U),_||!k.setup||k.setup(S,W),k[ar](S),_||o[Es](k),r=null,te.len||(ME.admin||ME.teacher||Ye(this.data.owner,ME)?(z=q=1,(r=o[UCo])||(z=q=0,o[UCo]=r=w("div",null,`ll_ ${a}`,null)),z||(r[lr]=o),z||(Y=w("p",r,`ll_ ll_fb ${a}`,"In order to fill out your course, first click on edit.")),z||(K=w("p",r,`ll_ ll_fb ${a}`,"After that you can drag and drop scrims, playlists or playlist items in here.")),z||(X=w("p",r,`ll_ ll_fb ${a}`,"Or you can copy paste links to these as well."))):(Z=Q=1,(r=o[PCo])||(Z=Q=0,o[PCo]=r=w("p",null,`ll_ ${a}`,"This course is empty for the moment.")),Z||(r[lr]=o))),o[TCo]=o[mo](r,0,o[TCo]),o[ff](i),o}}};E(_me,C_n,"toc-root",10),pe("toc-root",_me,{cssns:"ll_es",cssid:"ll-es"});var KCo=_me,E_n=Symbol(),xme=class xme extends Ve("op","OpComponent",de){get $toc(){let e=R("toc-root",null,`inset flat ll_ ${this._ns_||""} $toc`,null);return Object.defineProperty(this,"$toc",{value:e}),e}render(){var e,t,r,o,n,i,s,a;return e=this,e[df](),t=r=1,e[OCo]===1||(t=r=0,e[OCo]=1),(!t||r&2)&&e.flagSelf$("ll_"),n=i=1,(o=e[RCo])||(n=i=0,e[RCo]=(o=this.$toc,o[lr]=e,o)),s=this.data.$root,s===e[MCo]||(o.data=e[MCo]=s),n||o.on$("tapped",{stop:!0},this),n||(o.nofab="nofab"),s=this.data,s===e[LCo]||(o.scope=e[LCo]=s),n||!o.setup||o.setup(i,a),o[ar](i),n||e[Es](o),e[ff](r),e}mount(){return super.mount(...arguments),this.$toc.reveal(this.data)}};E(xme,E_n,"toc-menu",10),pe("toc-menu",xme,{cssns:"ll_fg",cssid:"ll-fg"});var JCo=xme;T();oe();T();oe();var j_n=Symbol.for("#beforeReconcile"),A_n=Symbol.for("##up"),U_n=Symbol.for("#appendChild"),P_n=Symbol.for("#placeChild"),T_n=Symbol.for("#afterReconcile"),QCo=Symbol(),eEo=Symbol(),tEo=Symbol(),O_n=Symbol(),vme=class vme extends de{get $base(){let e=w("div",null,`lt-ah ${this._ns_||""} $base`,null);return Object.defineProperty(this,"$base",{value:e}),e}render(){var e,t,r,o,n=this._ns_||"",i;return e=this,e[j_n](),t=r=1,e[QCo]===1||(t=r=0,e[QCo]=1),(o=e[eEo])||(e[eEo]=(o=this.$base,o[A_n]=e,o)),t||e[U_n](o),i=e.__slots.__,e[tEo]=e[P_n](i,256,e[tEo]),e[T_n](r),e}};E(vme,O_n,"cover-gradient",2),pe("cover-gradient",vme,{cssid:"lt-af"});var rEo=vme;T();oe();ge(),ln();var OK=Symbol.for("#raw"),R_n=Symbol.for("#beforeReconcile"),mgt=Symbol.for("#placeChild"),RK=Symbol.for("##up"),M_n=Symbol.for("#getRenderContext"),oEo=Symbol.for("#afterVisit"),nEo=Symbol.for("#appendChild"),L_n=Symbol.for("#afterReconcile"),iEo=Symbol(),sEo=Symbol(),lEo=Symbol(),aEo=Symbol(),uEo=Symbol(),cEo=Symbol(),hEo=Symbol(),pEo=Symbol(),D_n=Symbol();var $gt=Symbol(),dEo=Symbol(),fEo=Symbol(),mEo=Symbol(),$Eo=Symbol(),yEo=Symbol(),bEo=Symbol(),gEo=Symbol(),kEo=Symbol(),_Eo=Symbol(),xEo=Symbol(),vEo=Symbol();var N_n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","~@":"<","@~":">"},I_n={prop:[/([\w\-]+)(?=\:)/g,"u"],dim:/(\d*\.?\d+)([\%\w]\b)?/g,num:/(\d*\.?\d+)/g},wEo={keyword:/\b(css|new|import|from|export|var|let|const|return|global|tag|class|if|else|elif|prop|extends|for|in|while|def|get|set)(?=\b)/g,prop:[/([\w\-]+)(?=\:)/g,"u"],num:/(\d*\.?\d+)/g,dim:/(\d*\.?\d+)([\%\w]\b)?/g,sel:[/([^\{]+)(\{)([^\}]+)(\})/,"sel","",I_n,""]};function F_n(l){return l.replace(/[\&\<\>]|~@|@~/g,function(e){return N_n[e]})}function H_n(l,e=20){if(!(l&&l.name))return"";let t=l.name.split(".").pop()||"",r=l.body;r=r.split(`
`).slice(0,e).join(`
`);let o=function(i,s,a=""){let u=i;return/^(b|i|u)$/.test(i)||(u="b",a=" class='"+i+"'"),"~@"+u+a+"@~"+s+"~@/"+u+"@~"},n=function(i,s,a){let u=i;if(p(i,Array))s=s.replace(i[0],function(c,...h){return h=h.slice(0,-2),h.map(function(f,m){let $=i[m+1]||"span";return typeof $=="string"?o($,f):n($,f)}).join("")});else if(p(i,RegExp))s=s.replace(i,function(c){return o("i",c,a?" class='"+a+"'":"")});else if(i)for(let c=0,h=Object.keys(i),d=h.length,f,m;c<d;c++)f=h[c],m=i[f],s=n(m,s,f);return s};return(t=="html"||t=="imba")&&(r=r.replace(/\<[\/\!]?\w+[^\>]*\>/g,function(i){return o("b",i)})),t.match(/ts|js|imba/)&&(r=r.replace(wEo.keyword,function(i){return o("i",i)})),t.match(/css/)&&(r=n(wEo.sel,r)),r=F_n(r),r=r.replace(/<\/b>(\s*)<b>/g,"$1"),r}var B_n=Symbol(),wme=class wme extends de{get $tabs(){let e=w("div",null,`lv-am ${this._ns_||""} $tabs`,null);return Object.defineProperty(this,"$tabs",{value:e}),e}get $code(){let e=w("pre",null,`lv-ap ${this._ns_||""} $code`,null);return Object.defineProperty(this,"$code",{value:e}),e}get $browser(){let e=w("div",null,`lv-ar ${this._ns_||""} $browser`,null);return Object.defineProperty(this,"$browser",{value:e}),e}setup(){return this.symbol=Symbol()}async render(e=!1){var K,X,Z,Q;var t,r,o,n,i,s,a=this._ns_||"",u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y;if(!this.data.legacy){if(this[OK]!=(r=this.data)&&(this[OK]=r,!0)){let ee=await this.data.stream.previewState({at:+this.data.modified});if(ee){let te=ScrimPreview.new().$apply(ee,2);this.innerHTML=te.html}}return}if(this[OK]!=(o=this.data.snapshot)&&(this[OK]=o,!0)&&(this.snap=await this[OK].preview,this.render(!0)),!(!e&&this.rendered)&&!(this.snap&&!this.snap.widgets)){n=this,n[R_n](),i=s=1,n[iEo]===1||(i=s=0,n[iEo]=1),(u=n[sEo])||(n[sEo]=u=w("div",n,`lv-ah %bg ${a}`,null)),(c=n[lEo])||(n[lEo]=c=w("div",u,`lv-ai %surface ${a}`,null)),d=f=1,(h=n[aEo])||(d=f=0,n[aEo]=h=w("div",u,`lv-aj %frame ${a}`,null)),d||h.on$("morph",{options:["idemain"]},this),$=b=1,(m=n[uEo])||($=b=0,n[uEo]=m=w("div",h,`lv-ak ${a}`,null)),g=n.__slots.__,m[cEo]=m[mgt](g,0,m[cEo]),(x=m[hEo])||(m[hEo]=(x=this.$tabs,x[RK]=m,x)),(k=m[pEo])||(m[pEo]=k=wt(1280,x)),_=0,S=k.$;for(let ee=0,te=B(((K=this.snap)==null?void 0:K.tabs)||[]),ne=te.length;ee<ne;ee++){let ie=te[ee];ie&&(C=P=1,(v=(j=S[M_n](D_n)).get(_))||(C=P=0,j.set(_,v=w("div",k,`%tab lv_am ${a}`,null))),C||(v[RK]=k),U=ie==this.snap.file||void 0,U===v[$gt]||(P|=2,v[$gt]=U),P&2&&v.flag$(`%tab lv_am ${a} `+(v[$gt]?"active":"")),U=ie.name,U===v[fEo]&&C||(v[dEo]=v[mgt](v[fEo]=U,384,v[dEo])),k.push(v,_++,j))}return k[oEo](_),$||m[nEo](x),L=I=1,(O=m[mEo])||(L=I=0,m[mEo]=(O=this.$code,O[RK]=m,O)),F=H_n((X=this.snap)==null?void 0:X.file),F===m[$Eo]||(O.innerHTML=m[$Eo]=F),L||m[nEo](O),$||!m.setup||m.setup(b,N),m[oEo](b),(V=n[yEo])||(n[yEo]=V=w("div",h,`lv-aq %fade ${a}`,null)),t=null,(Q=(Z=this.snap)==null?void 0:Z.browser)!=null&&Q.visible&&(W=z=1,(t=n[bEo])||(W=z=0,n[bEo]=(t=this.$browser,t[RK]=null,t)),W||(t[RK]=u),W||t.on$("morph",{options:["idebrowser"]},this),q=this.snap.browser.w*100,q===t[gEo]||t.css$var("--lv_as",t[gEo]=q,"%","w"),q=this.snap.browser.h*100,q===t[kEo]||t.css$var("--lv_at",t[kEo]=q,"%","h"),q=this.snap.browser.t*100,q===t[_Eo]||t.css$var("--lv_au",t[_Eo]=q,"%","--t"),q=this.snap.browser.r*100,q===t[xEo]||t.css$var("--lv_av",t[xEo]=q,"%","--r"),W||(Y=w("div",t,`%head lv_ar ${a}`,null))),n[vEo]=u[mgt](t,0,n[vEo]),n[L_n](s),n}}};E(wme,B_n,"scrim-preview",2),pe("scrim-preview",wme,{cssid:"lv-af"});var SEo=wme;ge(),ln(),$e();var Sme=Symbol(),V_n=Symbol(),z_n=Symbol(),CEo=Symbol(),q_n=Symbol(),W_n=Symbol(),EEo=Symbol(),Z_n=Symbol(),G_n=Symbol(),jEo=Symbol(),Y_n=Symbol(),X_n=Symbol(),AEo=Symbol(),ygt=Symbol(),UEo=Symbol(),PEo=Symbol(),TEo=Symbol(),OEo=Symbol(),REo=Symbol(),MEo=Symbol(),LEo=Symbol(),DEo=Symbol(),NEo=Symbol(),IEo=Symbol(),FEo=Symbol(),HEo=Symbol(),BEo=Symbol();var bgt=Symbol();var ggt=Symbol();var kgt=Symbol();var _gt=Symbol(),VEo=Symbol(),zEo=Symbol(),qEo=Symbol(),WEo=Symbol(),NO=Symbol(),K_n=Symbol(),J_n=Symbol(),Q_n=Symbol(),ZEo=Symbol(),GEo=Symbol(),YEo=Symbol(),XEo=Symbol(),KEo=Symbol(),JEo=Symbol(),QEo=Symbol(),IO=Symbol(),e4n=Symbol(),ejo=Symbol(),tjo=Symbol(),rjo=Symbol(),ojo=Symbol(),njo=Symbol(),ijo=Symbol(),sjo=Symbol(),ljo=Symbol(),FO=Symbol(),t4n=Symbol(),ajo=Symbol(),ujo=Symbol(),HO=Symbol(),r4n=Symbol(),BO=Symbol(),o4n=Symbol();var cjo=Symbol(),hjo=Symbol(),pjo=Symbol(),VO=Symbol(),n4n=Symbol(),zO=Symbol(),i4n=Symbol(),qO=Symbol(),s4n=Symbol(),WO=Symbol(),l4n=Symbol(),djo=Symbol(),fjo=Symbol(),mjo=Symbol(),$jo=Symbol(),yjo=Symbol(),bjo=Symbol(),gjo=Symbol(),kjo=Symbol(),_jo=Symbol(),xjo=Symbol(),vjo=Symbol(),wjo=Symbol(),Sjo=Symbol(),Cjo=Symbol(),ZO=Symbol(),a4n=Symbol(),Ejo=Symbol(),jjo=Symbol(),Ajo=Symbol(),Ujo=Symbol(),Pjo=Symbol(),GO=Symbol(),u4n=Symbol(),Tjo=Symbol(),c4n=Symbol(),h4n=Symbol(),Ojo=Symbol(),Rjo=Symbol(),Mjo=Symbol(),Ljo=Symbol(),Djo=Symbol(),Njo=Symbol(),Ijo=Symbol(),Fjo=Symbol(),Hjo=Symbol(),Bjo=Symbol(),YO=Symbol(),p4n=Symbol(),Cme=Symbol(),Vjo=Symbol(),zjo=Symbol(),In=Symbol.for("##up"),xgt=Symbol.for("##register"),sl=Symbol.for("#getRenderContext"),ll=Symbol.for("#isRichElement"),$o=Symbol.for("#afterVisit"),ai=Symbol.for("#placeChild"),XO=Symbol.for("#appendChild"),d4n=Symbol.for("#beforeReconcile"),mf=Symbol.for("#insertInto"),$f=Symbol.for("#replaceWith"),f4n=Symbol.for("#getSlot"),m4n=Symbol.for("#replaceChild"),$4n=Symbol.for("#afterReconcile"),y4n=Symbol(),Eme=class Eme extends Ve("op","OpComponent",de){get $body(){let e=w("div",null,`otile-body ${this._ns_||""} $body`,null);return Object.defineProperty(this,"$body",{value:e}),e}get $surface(){let e=w("div",null,`tracked ${this._ns_||""} $surface`,null);return Object.defineProperty(this,"$surface",{value:e}),e}get $inner(){let e=w("div",null,`${this._ns_||""} $inner`,null);return Object.defineProperty(this,"$inner",{value:e}),e}[A](e=null,t=!0,r=!0){t&&super[A]&&super[A](...arguments),this.data=e?e.data:void 0,this.sorter=e?e.sorter:void 0}get item(){return this.data.item||this.data}get progress(){return p(this.data,Scrim)&&this.data.lesson?this.data.progress:null}pills(){var v,C,j,P,U;var e,t,r,o,n=this._ns_||"",i,s=H(),a,u,c,h,d,f,m,$,b,g,x,k,_,S;return a=u=1,(i=s[Sme])||(a=u=0,i=s[Sme]=i=w("div",null,`lm-af ${n}`,null)),a||(i[In]=s._),a||((v=i[xgt])==null||v.call(i,s,Sme)),e=null,(C=this.data.kind)!=null&&C.template&&(c=i[sl](z_n),h=d=1,(e=c.run(this.obadge(this.data.kind)))||(h=d=0,c.cache(e=M(c.value,null,`${n}`,null))),h||(e[In]=i),e[ll]&&((!h||d&2)&&e.flags.reconcile(V_n,`${n}`),h||!e.setup||e.setup(d,c),e[$o](d))),i[CEo]=i[ai](e,0,i[CEo]),t=null,this.data.privacy&&(f=i[sl](W_n),m=$=1,(t=f.run(this.obadge(this.data.privacy)))||(m=$=0,f.cache(t=M(f.value,null,`lm-ah no-icon ${n}`,null))),m||(t[In]=i),t[ll]&&((!m||$&2)&&t.flags.reconcile(q_n,`lm-ah no-icon ${n}`),m||!t.setup||t.setup($,f),t[$o]($))),i[EEo]=i[ai](t,0,i[EEo]),r=null,(j=this.data.tier)!=null&&j.paid&&(b=i[sl](G_n),g=x=1,(r=b.run(this.obadge(this.data.tier)))||(g=x=0,b.cache(r=M(b.value,null,`${n}`,null))),g||(r[In]=i),r[ll]&&((!g||x&2)&&r.flags.reconcile(Z_n,`${n}`),g||!r.setup||r.setup(x,b),r[$o](x))),i[jEo]=i[ai](r,0,i[jEo]),o=null,(U=(P=this.data.labels)==null?void 0:P.at)!=null&&U.call(P,0)&&(k=i[sl](X_n),_=S=1,(o=k.run(this.obadge(this.data.labels.at(0))))||(_=S=0,k.cache(o=M(k.value,null,`${n}`,null))),_||(o[In]=i),o[ll]&&((!_||S&2)&&o.flags.reconcile(Y_n,`${n}`),_||!o.setup||o.setup(S,k),o[$o](S))),i[AEo]=i[ai](o,0,i[AEo]),a||s.sym||!i.setup||i.setup(u,s,Sme),s.sym||i[$o](u),i}renderscreenshots(e){var v;var t,r,o=this._ns_||"",n,i=H(),s,a,u,c,h,d,f,m,$,b,g,x,k;if(!e)return;let _=e==null?void 0:e.desktop,S=(e==null?void 0:e.mobile)||_;return s=a=1,(n=i[ygt])||(s=a=0,n=i[ygt]=n=w("div",null,`lm-al clipped ${o}`,null)),s||(n[In]=i._),s||((v=n[xgt])==null||v.call(n,i,ygt)),(u=n[UEo])||(n[UEo]=u=w("div",n,`lm-am browser desktop lm_al ${o}`,null)),t=null,_&&(c=h=1,(t=n[PEo])||(c=h=0,n[PEo]=t=R("op-image",null,`lm_al ${o}`,null)),c||(t[In]=u),c||(t.width=500),_===t[TEo]||(t.data=t[TEo]=_),c||!t.setup||t.setup(h,d),t[$o](h)),n[OEo]=u[ai](t,0,n[OEo]),r=null,S&&(f=m=1,(r=n[REo])||(f=m=0,n[REo]=r=w("div",null,`lm-ao browser mobile lm_al ${o}`,null)),f||(r[In]=n),$=S.aspectRatio,$===r[MEo]||r.css$var("--lm_ap",r[MEo]=$,null,"aspect-ratio"),g=x=1,(b=r[LEo])||(g=x=0,r[LEo]=b=R("op-image",r,`lm_al ${o}`,null)),g||(b.width=500),S===r[DEo]||(b.data=r[DEo]=S),g||!b.setup||b.setup(x,k),b[$o](x),g||r[XO](b)),n[NEo]=n[ai](r,0,n[NEo]),n}opnavfocus(){return super.opnavfocus(...arguments),this.opreveal()}opnaventer(e){var t;return(t=e==null?void 0:e.preventDefault)==null||t.call(e),this.emit("open",this.data)}render(){var ss,yn,Fi,Ml;var e,t,r,o,n,i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C=this._ns_||"",j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye,we,ae,be,_e,Ae,ve,Pe,He,Ue,Be,je,ue,xe,Re,Oe,qe,Ne,Ie,Ke,Te,Ce,Ze,et,ft,Ge,Je,ct,rt,$t,it,tt,ze,at,st,yt,vt,nt,Ct,jt,bt,Xe,ht,Dt,mt,At,Ut,kt,_t,xt,Mt,Ot,tr,lt,fe,Me,ut,Rt,St,Yt,rr,er,Zt,Nr,or,Tr,xo,qr,Wr,to,mr,Go,fn,Yr,Or,Ao,mn,Uo,Xr,Ar,Mi,ul,Li,Yo,vn,Ur,Po,yo,ui,_i,is,gu,ro,$n,ci,hi,Di,To,pi,Fn,Sr,wn,vo,Ni,Kt,cl,Rr,Kr,di,rn,bo,Ii;let Nt=this.data.item||this.data,Tn=null,No=this.progress;(ss=Nt.kind)!=null&&ss.solution&&(Tn=(yn=Nt.exercise)==null?void 0:yn.scrim);let hl=Nt.astilelabel||Nt.name;if(d=this,d[d4n](),f=m=1,d[IEo]===1||(f=m=0,d[IEo]=1),$=d[FEo]||(d[FEo]={trap:!0,emit:["open",null]}),$.emit[1]=Nt,f||d.on$("tapped",$,this),$=d[HEo]||(d[HEo]={trap:!0,emit:["open",null]}),$.emit[1]=Nt,f||d.on$("dblclick",$,this),hl===d[BEo]||d.set$("aria-label",d[BEo]=hl),b=Nt.completed||void 0,b===d[bgt]||(m|=2,d[bgt]=b),b=Nt.upcoming||void 0,b===d[ggt]||(m|=2,d[ggt]=b),b=Nt.$type.ref,b===d[kgt]||(m|=2,d[kgt]=b),b=Nt.kind,b===d[_gt]||(m|=2,d[_gt]=b),f||d.on$("opdrop",{},this),b=Nt.color,b===d[VEo]||(d.opcolor=d[VEo]=b),f||(d.contour="contour"),f||(d.opnav="opnav"),(!f||m&2)&&d.flagSelf$("tile "+(d[bgt]?"complete":"")+" "+(d[ggt]?"upcoming":"")+" "+(d[kgt]||"")+" "+(d[_gt]||"")),(g=d[zEo])||(d[zEo]=(g=this.$body,g[In]=d,g)),(x=d[qEo])||(d[qEo]=(x=this.$surface,x[In]=g,x)),f||g[XO](x),_=S=1,(k=d[WEo])||(_=S=0,d[WEo]=(k=this.$inner,k[In]=g,k)),v=k[sl](K_n),P=U=1,(j=v.run(this.renderscreenshots(Nt.cover)))||(P=U=0,v.cache(j=M(v.value,k,`${C}`,null))),j[ll]&&((!P||U&2)&&j.flags.reconcile(NO,`${C}`),P||!j.setup||j.setup(U,v),j[$o](U)),j==k[NO]||!k[NO]&&(k[NO]=j)[mf](k)||k[NO][$f](k[NO]=j,k),e=null,p(Nt,Certificate)&&(O=k[sl](Q_n),L=I=1,(e=O.run(this.obody(Nt)))||(L=I=0,O.cache(e=M(O.value,null,`lm-aw ${C}`,null))),L||(e[In]=k),e[ll]&&((!L||I&2)&&e.flags.reconcile(J_n,`lm-aw ${C}`),L||!e.setup||e.setup(I,O),e[$o](I))),k[ZEo]=k[ai](e,0,k[ZEo]),o=n=i=null,p(Nt,Scrim)&&(F=N=1,(o=k[GEo])||(F=N=0,k[GEo]=o=R("scrim-preview",null,`%main ${C}`,null)),F||(o[In]=k),Nt===o[YEo]||(o.data=o[YEo]=Nt),F||!o.setup||o.setup(N,V),o[$o](N),Nt.lesson&&(W=z=1,(n=k[XEo])||(W=z=0,k[XEo]=n=Ir("svg",null,`lm-ay ${C}`,null)),W||(n[In]=k),q=jJ,q===n[KEo]||n.set$("src",n[KEo]=q)),Y=K=1,(i=k[JEo])||(Y=K=0,k[JEo]=i=w("div",null,`lm-az %bottom ${C}`,null)),Y||(i[In]=k),Z=Q=1,(X=i[QEo])||(Z=Q=0,i[QEo]=X=w("section",i,`xli inline double ${C}`,null)),ee=X[sl](e4n),ne=ie=1,(te=ee.run(this.oicon(Nt)))||(ne=ie=0,ee.cache(te=M(ee.value,X,`${C}`,null))),te[ll]&&((!ne||ie&2)&&te.flags.reconcile(IO,`${C}`),ne||!te.setup||te.setup(ie,ee),te[$o](ie)),te==X[IO]||!X[IO]&&(X[IO]=te)[mf](X)||X[IO][$f](X[IO]=te,X),me=ce=1,(J=X[ejo])||(me=ce=0,X[ejo]=J=w("section",X,`lm-bc ${C}`,null)),t=null,Nt.scribble&&Nt.via_lesson?(ye=we=1,(t=J[tjo])||(ye=we=0,J[tjo]=t=w("h2",null,`${C}`,null)),ye||(t[In]=J),ye||t[ai]("Scribble in "),ae=(Fi=Nt.via_lesson)==null?void 0:Fi.name,ae===t[ojo]&&ye||(t[rjo]=t[ai](t[ojo]=ae,256,t[rjo]))):(be=_e=1,(t=J[njo])||(be=_e=0,J[njo]=t=w("h2",null,`${C}`,null)),be||(t[In]=J),Ae=Nt.name,Ae===t[sjo]&&be||(t[ijo]=t[ai](t[sjo]=Ae,384,t[ijo]))),J[ljo]=J[ai](t,0,J[ljo]),ve=J[sl](t4n),He=Ue=1,(Pe=ve.run(this.ofmt(Nt.duration,"0:00")))||(He=Ue=0,ve.cache(Pe=M(ve.value,J,`${C}`,null))),Pe[ll]&&((!He||Ue&2)&&Pe.flags.reconcile(FO,`${C}`),He||!Pe.setup||Pe.setup(Ue,ve),Pe[$o](Ue)),Pe==J[FO]||!J[FO]&&(J[FO]=Pe)[mf](J)||J[FO][$f](J[FO]=Pe,J),me||(Be=w("hr",J,`${C}`,null)),ue=xe=1,(je=J[ajo])||(ue=xe=0,J[ajo]=je=w("span",J,`${C}`,null)),Re=je[ujo]||(je[ujo]={trap:!0,emit:["open",null]}),Re.emit[1]=Nt.creator,ue||je.on$("tapped",Re,this),ue||je[ai]("By "),Oe=je[sl](r4n),Ne=Ie=1,(qe=Oe.run(this.ospan(Nt.creator)))||(Ne=Ie=0,Oe.cache(qe=M(Oe.value,je,`${C}`,null))),qe[ll]&&((!Ne||Ie&2)&&qe.flags.reconcile(HO,`${C}`),Ne||!qe.setup||qe.setup(Ie,Oe),qe[$o](Ie)),qe==je[HO]||!je[HO]&&(je[HO]=qe)[mf](je)||je[HO][$f](je[HO]=qe,je),ue||!je.setup||je.setup(xe,Ke),je[$o](xe),Te=J[sl](o4n),Ze=et=1,(Ce=Te.run(this.oicon(Nt.$.starred)))||(Ze=et=0,Te.cache(Ce=M(Te.value,J,`${C}`,null))),Ce[ll]&&(Ze||Ce.on$("tapped",{trap:!0},this),(!Ze||et&2)&&Ce.flags.reconcile(BO,`${C}`),Ze||!Ce.setup||Ce.setup(et,Te),Ce[$o](et)),Ce==J[BO]||!J[BO]&&(J[BO]=Ce)[mf](J)||J[BO][$f](J[BO]=Ce,J),r=null,ME!=null&&ME.admin,J[cjo]=J[ai](r,0,J[cjo]),at=st=1,(ze=J[hjo])||(at=st=0,J[hjo]=ze=w("span",J,`${C}`,null)),vt=nt=1,(yt=ze[pjo])||(vt=nt=0,ze[pjo]=yt=R("op-icon",ze,`oicon ${C}`,null)),vt||(yt.data="clock"),vt||!yt.setup||yt.setup(nt,Ct),yt[$o](nt),vt||ze[XO](yt),jt=ze[sl](n4n),Xe=ht=1,(bt=jt.run(this.ofmt(Nt.modified,"ago")))||(Xe=ht=0,jt.cache(bt=M(jt.value,ze,`${C}`,null))),bt[ll]&&((!Xe||ht&2)&&bt.flags.reconcile(VO,`${C}`),Xe||!bt.setup||bt.setup(ht,jt),bt[$o](ht)),bt==ze[VO]||!ze[VO]&&(ze[VO]=bt)[mf](ze)||ze[VO][$f](ze[VO]=bt,ze),at||!ze.setup||ze.setup(st,Dt),ze[$o](st),mt=J[sl](i4n),Ut=kt=1,(At=mt.run(this.ochip(Nt.commits)))||(Ut=kt=0,mt.cache(At=M(mt.value,J,`compact ${C}`,null))),At[ll]&&((!Ut||kt&2)&&At.flags.reconcile(zO,`compact ${C}`),Ut||!At.setup||At.setup(kt,mt),At[$o](kt)),At==J[zO]||!J[zO]&&(J[zO]=At)[mf](J)||J[zO][$f](J[zO]=At,J),_t=J[sl](s4n),Mt=Ot=1,(xt=_t.run(this.ochip(Nt.recs)))||(Mt=Ot=0,_t.cache(xt=M(_t.value,J,`compact ${C}`,null))),xt[ll]&&((!Mt||Ot&2)&&xt.flags.reconcile(qO,`compact ${C}`),Mt||!xt.setup||xt.setup(Ot,_t),xt[$o](Ot)),xt==J[qO]||!J[qO]&&(J[qO]=xt)[mf](J)||J[qO][$f](J[qO]=xt,J),tr=J[sl](l4n),fe=Me=1,(lt=tr.run(this.ochip(Nt.scribbles)))||(fe=Me=0,tr.cache(lt=M(tr.value,J,`compact ${C}`,null))),lt[ll]&&((!fe||Me&2)&&lt.flags.reconcile(WO,`compact ${C}`),fe||!lt.setup||lt.setup(Me,tr),lt[$o](Me)),lt==J[WO]||!J[WO]&&(J[WO]=lt)[mf](J)||J[WO][$f](J[WO]=lt,J),me||!J.setup||J.setup(ce,ut),J[$o](ce),Z||!X.setup||X.setup(Q,Rt),X[$o](Q)),k[djo]=k[ai](o,0,k[djo]),k[fjo]=k[ai](n,0,k[fjo]),k[mjo]=k[ai](i,0,k[mjo]),Yt=rr=1,(St=k[$jo])||(Yt=rr=0,k[$jo]=St=w("div",k,`lm-bt %main ${C}`,null)),h=null,!(p(Nt,Scrim)||p(Nt,Certificate))){if(er=Zt=1,(h=St[yjo])||(er=Zt=0,St[yjo]=h=w("div",null,`lm-bu %content ${C}`,null)),er||(h[In]=St),(Nr=h[bjo])||(h[bjo]=Nr=w("div",h,`%title ${C}`,null)),s=null,p(Nt,Topic)&&(or=Tr=1,(s=h[gjo])||(or=Tr=0,h[gjo]=s=R("op-icon",null,`lm-bw ${C}`,null)),or||(s[In]=Nr),Nt===s[kjo]||(s.data=s[kjo]=Nt),xo=Nt.color,xo===s[_jo]||(s.color=s[_jo]=xo),or||!s.setup||s.setup(Tr,qr),s[$o](Tr)),h[xjo]=Nr[ai](s,0,h[xjo]),(Wr=h[vjo])||(h[vjo]=Wr=w("span",Nr,`${C}`,null)),to=Nt.astilelabel||Nt.name,to===h[Sjo]&&er||(h[wjo]=Wr[ai](h[Sjo]=to,384,h[wjo])),a=null,Nt.partner&&(mr=Go=1,(a=h[Cjo])||(mr=Go=0,h[Cjo]=a=w("span",null,`lm-by ${C}`,null)),mr||(a[In]=h),mr||a[ai]("In partnership with "),fn=a[sl](a4n),Or=Ao=1,(Yr=fn.run(this.olink(Nt.partner)))||(Or=Ao=0,fn.cache(Yr=M(fn.value,a,`textlink ${C}`,null))),Yr[ll]&&(mn=Yr[Ejo]||(Yr[Ejo]={stop:!0,emit:["open",null]}),mn.emit[1]=Nt.resumable,Or||Yr.on$("tapped",mn,this),(!Or||Ao&2)&&Yr.flags.reconcile(ZO,`textlink ${C}`),Or||!Yr.setup||Yr.setup(Ao,fn),Yr[$o](Ao)),Yr==a[ZO]||!a[ZO]&&(a[ZO]=Yr)[mf](a)||a[ZO][$f](a[ZO]=Yr,a),mr||!a.setup||a.setup(Go,Uo),a[$o](Go)),h[jjo]=h[ai](a,0,h[jjo]),Ar=Mi=1,(Xr=h[Ajo])||(Ar=Mi=0,h[Ajo]=Xr=w("div",h,`lm-ca sm ${C}`,null)),u=null,p(Nt,Course)&&Nt.started?(ul=Li=1,(u=Xr[Ujo])||(ul=Li=0,Xr[Ujo]=u=R("op",null,`lm-cb ${C}`,null)),ul||(u[In]=Xr),Yo=u[f4n]("__",u),vn=(Ml=Nt.resumable)==null?void 0:Ml.item,vn===u[Pjo]||(u.data=u[Pjo]=vn),ul||(Ur=w("div",Yo,`lm-cc ${C}`,"Continue Learning:")),Po=u[sl](u4n),ui=_i=1,(yo=Po.run(this.olink(Nt.resumable)))||(ui=_i=0,Po.cache(yo=M(Po.value,Yo,`lm-cd textlink ${C}`,null))),yo[ll]&&(is=yo[Tjo]||(yo[Tjo]={stop:!0,emit:["open",null]}),is.emit[1]=Nt.resumable,ui||yo.on$("tapped",is,this),(!ui||_i&2)&&yo.flags.reconcile(GO,`lm-cd textlink ${C}`),ui||!yo.setup||yo.setup(_i,Po),yo[$o](_i)),yo==u[GO]||!u[GO]&&Yo[XO](u[GO]=yo)||(Yo[m4n](yo,u[GO]),u[GO]=yo),ul||!u.setup||u.setup(Li,gu),u[$o](Li)):(ro=Xr[sl](h4n),$n=ci=1,(u=ro.run(this.ostats(Nt)))||($n=ci=0,ro.cache(u=M(ro.value,null,`lm-ce ${C}`,null))),$n||(u[In]=Xr),u[ll]&&((!$n||ci&2)&&u.flags.reconcile(c4n,`lm-ce ${C}`),$n||!u.setup||u.setup(ci,ro),u[$o](ci))),Xr[Ojo]=Xr[ai](u,0,Xr[Ojo]),c=null,p(Nt,Course)){let Mr=Nt.teachers;hi=Di=1,(c=Xr[Rjo])||(hi=Di=0,Xr[Rjo]=c=R("op-stack",null,`lm-cf ${C}`,null)),hi||(c[In]=Xr),Mr===c[Mjo]||(c.data=c[Mjo]=Mr),hi||!c.setup||c.setup(Di,To),c[$o](Di)}else p(Nt,Scrim)&&typeof No=="number"&&(pi=Fn=1,(c=Xr[Ljo])||(pi=Fn=0,Xr[Ljo]=c=w("div",null,`lm-cg %progress ${C}`,null)),pi||(c[In]=Xr),No===c[Djo]||c.css$var("--lm_ch",c[Djo]=No,null,"--progress"));Xr[Njo]=Xr[ai](c,0,Xr[Njo]),Ar||!Xr.setup||Xr.setup(Mi,Sr),Xr[$o](Mi),(wn=h[Ijo])||(h[Ijo]=wn=w("div",h,`lm-ci trunc-3 ${C}`,null)),Ni=Kt=1,(vo=h[Fjo])||(Ni=Kt=0,h[Fjo]=vo=w("div",wn,`%desc ${C}`,null)),cl=Nt.astiledesc||Nt.synopsis,cl===h[Hjo]||(vo.innerText=h[Hjo]=cl)}return St[Bjo]=St[ai](h,0,St[Bjo]),Rr=St[sl](p4n),di=rn=1,(Kr=Rr.run(this.pills()))||(di=rn=0,Rr.cache(Kr=M(Rr.value,St,`lm-ck ${C}`,null))),Kr[ll]&&((!di||rn&2)&&Kr.flags.reconcile(YO,`lm-ck ${C}`),di||!Kr.setup||Kr.setup(rn,Rr),Kr[$o](rn)),Kr==St[YO]||!St[YO]&&(St[YO]=Kr)[mf](St)||St[YO][$f](St[YO]=Kr,St),Yt||!St.setup||St.setup(rr,bo),St[$o](rr),_||!k.setup||k.setup(S,Ii),k[$o](S),_||g[XO](k),f||d[XO](g),d[$4n](m),d}};E(Eme,y4n,"app-tile",10),pe("app-tile",Eme,{cssns:"lm_ak",cssid:"lm-ak"});var qjo=Eme,b4n=Symbol(),jme=class jme extends de{};E(jme,b4n,"op-split",2),pe("op-split",jme,{});var Wjo=jme,g4n=Symbol(),vgt=class vgt{opowntile(e,t){var a;var r,o=H(),n,i,s;return n=i=1,(r=o[Cme])||(n=i=0,r=o[Cme]=r=R("app-tile",null,null,null)),n||(r[In]=o._),n||((a=r[xgt])==null||a.call(r,o,Cme)),s=this,s===r[Vjo]||(r.data=r[Vjo]=s),t===r[zjo]||(r.ctx=r[zjo]=t),n||o.sym||!r.setup||r.setup(i,o,Cme),o.sym||r[$o](i),r}};E(vgt,g4n,"OPRenderable",1025,OPRenderable);var Zjo=vgt;T();oe();var Ome=Symbol.for("#beforeReconcile"),y3=Symbol.for("##up"),al=Symbol.for("#appendChild"),Rme=Symbol.for("#afterReconcile"),E2=Symbol.for("#afterVisit"),wAo=Symbol.for("#placeChild"),Gjo=Symbol(),Yjo=Symbol(),Xjo=Symbol(),Kjo=Symbol(),Jjo=Symbol(),Qjo=Symbol(),eAo=Symbol();var wgt=Symbol(),tAo=Symbol(),rAo=Symbol(),oAo=Symbol(),nAo=Symbol(),iAo=Symbol(),sAo=Symbol(),lAo=Symbol(),aAo=Symbol(),uAo=Symbol(),cAo=Symbol(),hAo=Symbol(),pAo=Symbol(),dAo=Symbol(),fAo=Symbol(),mAo=Symbol(),$Ao=Symbol(),yAo=Symbol(),bAo=Symbol(),gAo=Symbol(),k4n=Symbol(),Ame=class Ame extends de{get $n(){let e=w("div",null,`${this._ns_||""} $n`,null);return Object.defineProperty(this,"$n",{value:e}),e}get $e(){let e=w("div",null,`${this._ns_||""} $e`,null);return Object.defineProperty(this,"$e",{value:e}),e}get $s(){let e=w("div",null,`${this._ns_||""} $s`,null);return Object.defineProperty(this,"$s",{value:e}),e}get $w(){let e=w("div",null,`${this._ns_||""} $w`,null);return Object.defineProperty(this,"$w",{value:e}),e}get $top(){let e=w("div",null,`${this._ns_||""} $top`,null);return Object.defineProperty(this,"$top",{value:e}),e}render(){var e,t,r,o,n,i,s,a;return e=this,e[Ome](),t=r=1,e[Gjo]===1||(t=r=0,e[Gjo]=1),(o=e[Yjo])||(e[Yjo]=(o=this.$n,o[y3]=e,o)),t||e[al](o),(n=e[Xjo])||(e[Xjo]=(n=this.$e,n[y3]=e,n)),t||e[al](n),(i=e[Kjo])||(e[Kjo]=(i=this.$s,i[y3]=e,i)),t||e[al](i),(s=e[Jjo])||(e[Jjo]=(s=this.$w,s[y3]=e,s)),t||e[al](s),(a=e[Qjo])||(e[Qjo]=(a=this.$top,a[y3]=e,a)),t||e[al](a),e[Rme](r),e}};E(Ame,k4n,"app-cube",2),pe("app-cube",Ame,{cssns:"um_af",cssid:"um-af"});var kAo=Ame,_4n=Symbol(),Ume=class Ume extends de{get $perspective(){let e=w("div",null,`${this._ns_||""} $perspective`,null);return Object.defineProperty(this,"$perspective",{value:e}),e}[A](e=null,t=!0,r=!0){var o;super[A](...arguments),this.depth=e&&(o=e.depth)!==void 0?o:!0}render(){var e,t,r,o,n,i=this._ns_||"",s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V,W,z,q,Y,K,X,Z,Q,ee,te,ne,ie,J,me,ce,ye;return e=this,e[Ome](),t=r=1,e[eAo]===1||(t=r=0,e[eAo]=1),o=this.depth||void 0,o===e[wgt]||(r|=2,e[wgt]=o),(!t||r&2)&&e.flagSelf$("outlined "+(e[wgt]?"depth":"")),(n=e[tAo])||(e[tAo]=(n=this.$perspective,n[y3]=e,n)),t||(s=w("div",n,`um-ap ${i}`,null)),u=c=1,(a=e[rAo])||(u=c=0,e[rAo]=a=R("app-cube",s,`um-aq ${i}`,null)),u||!a.setup||a.setup(c,h),a[E2](c),u||s[al](a),f=m=1,(d=e[oAo])||(f=m=0,e[oAo]=d=R("app-cube",s,`${i}`,null)),f||!d.setup||d.setup(m,$),d[E2](m),f||s[al](d),g=x=1,(b=e[nAo])||(g=x=0,e[nAo]=b=R("app-cube",s,`${i}`,null)),g||!b.setup||b.setup(x,k),b[E2](x),g||s[al](b),S=v=1,(_=e[iAo])||(S=v=0,e[iAo]=_=R("app-cube",s,`${i}`,null)),S||!_.setup||_.setup(v,C),_[E2](v),S||s[al](_),P=U=1,(j=e[sAo])||(P=U=0,e[sAo]=j=R("app-cube",s,`${i}`,null)),P||!j.setup||j.setup(U,O),j[E2](U),P||s[al](j),I=F=1,(L=e[lAo])||(I=F=0,e[lAo]=L=R("app-cube",s,`um-av ${i}`,null)),I||!L.setup||L.setup(F,N),L[E2](F),I||s[al](L),t||(V=w("div",n,`um-aw ${i}`,null)),z=q=1,(W=e[aAo])||(z=q=0,e[aAo]=W=R("app-cube",V,`um-ax ${i}`,null)),z||!W.setup||W.setup(q,Y),W[E2](q),z||V[al](W),X=Z=1,(K=e[uAo])||(X=Z=0,e[uAo]=K=R("app-cube",V,`${i}`,null)),X||!K.setup||K.setup(Z,Q),K[E2](Z),X||V[al](K),te=ne=1,(ee=e[cAo])||(te=ne=0,e[cAo]=ee=R("app-cube",V,`${i}`,null)),te||!ee.setup||ee.setup(ne,ie),ee[E2](ne),te||V[al](ee),me=ce=1,(J=e[hAo])||(me=ce=0,e[hAo]=J=R("app-cube",V,`${i}`,null)),me||!J.setup||J.setup(ce,ye),J[E2](ce),me||V[al](J),t||e[al](n),e[Rme](r),e}};E(Ume,_4n,"app-cubes",2),pe("app-cubes",Ume,{cssns:"um_am",cssid:"um-am"});var _Ao=Ume,x4n=Symbol(),Pme=class Pme extends de{get $base(){let e=w("div",null,`${this._ns_||""} $base`,null);return Object.defineProperty(this,"$base",{value:e}),e}get $noise(){let e=w("div",null,`${this._ns_||""} $noise`,null);return Object.defineProperty(this,"$noise",{value:e}),e}render(){var e,t,r,o,n,i=this._ns_||"",s;return e=this,e[Ome](),t=r=1,e[pAo]===1||(t=r=0,e[pAo]=1),(o=e[dAo])||(e[dAo]=(o=this.$base,o[y3]=e,o)),t||e[al](o),(n=e[fAo])||(e[fAo]=(n=this.$noise,n[y3]=e,n)),t||e[al](n),s=e.__slots.__,e[mAo]=e[wAo](s,256,e[mAo]),e[Rme](r),e}};E(Pme,x4n,"app-bg",2),pe("app-bg",Pme,{cssns:"um_bb",cssid:"um-bb"});var xAo=Pme,v4n=Symbol(),Tme=class Tme extends de{render(){var e,t,r,o=this._ns_||"",n,i,s,a,u;return e=this,e[Ome](),t=r=1,e[$Ao]===1||(t=r=0,e[$Ao]=1),i=s=1,(n=e[yAo])||(i=s=0,e[yAo]=n=Ir("svg",e,`um-bi ${o}`,null)),a=cJ,a===e[bAo]||n.set$("src",e[bAo]=a),u=e.__slots.__,e[gAo]=e[wAo](u,256,e[gAo]),e[Rme](r),e}};E(Tme,v4n,"app-hexagon",2),pe("app-hexagon",Tme,{cssns:"um_bg",cssid:"um-bg"});var vAo=Tme;T();oe();ge(),dt();var Sgt=Symbol("go"),SAo=Symbol(),Cgt,CAo=Symbol(),EAo=Symbol(),jAo=Symbol(),AAo=Symbol(),UAo=Symbol(),KO=Symbol(),w4n=Symbol(),PAo=Symbol(),TAo=Symbol(),JO=Symbol(),S4n=Symbol(),C4n=Symbol.for("#beforeReconcile"),E4n=Symbol.for("#placeChild"),OAo=Symbol.for("#getRenderContext"),RAo=Symbol.for("#isRichElement"),Mme=Symbol.for("#afterVisit"),MAo=Symbol.for("#insertInto"),LAo=Symbol.for("#replaceWith"),j4n=Symbol.for("#appendChild"),A4n=Symbol.for("#afterReconcile"),U4n=Symbol(),MK=class MK extends Ve("op","OpComponent",de){get data(){return APP.announcement}set go(e){this.go.$set(e,this,Sgt,"go")}get go(){return this.go.$get(this,Sgt,"go")}get go(){return this[SAo]||y((Cgt=this.action(),Cgt.callback=function(){let e=new URL(this.data.link);return e.hostname==globalThis.location.hostname?Xt.go(e.href):window.open(this.data.link,"_blank")},Cgt),this,Sgt,"go",SAo,MK.prototype)}render(){var e=this,t,r,o,n=this._ns_||"",i,s,a,u,c,h,d,f,m,$,b,g,x,k,_,S,v,C,j;return t=this,t[C4n](),r=o=1,t[CAo]===1||(r=o=0,t[CAo]=1),(i=t[EAo])||(t[EAo]=i=w("span",t,`${n}`,null)),s=this.data.text,s===t[AAo]&&r||(t[jAo]=i[E4n](t[AAo]=s,384,t[jAo])),u=c=1,(a=t[UAo])||(u=c=0,t[UAo]=a=w("div",t,`actions ${n}`,null)),h=a[OAo](w4n),f=m=1,(d=h.run(this.obutton(this.go)))||(f=m=0,h.cache(d=M(h.value,a,`${n}`,null))),d[RAo]&&($=this.data.link_label,$===d[PAo]||(d.label=d[PAo]=$),f||(d.icon=!1),(!f||m&2)&&d.flags.reconcile(KO,`${n}`),f||!d.setup||d.setup(m,h),d[Mme](m)),d==a[KO]||!a[KO]&&(a[KO]=d)[MAo](a)||a[KO][LAo](a[KO]=d,a),g=x=1,(b=a[TAo])||(g=x=0,a[TAo]=b=R("op-icon",a,`zy-ak xl ${n}`,null)),g||(b.data="xcircle"),g||b.on$("click",{$_:[function(P,U){return e.data.dismiss(P)}]},this),g||!b.setup||b.setup(x,k),b[Mme](x),g||a[j4n](b),_=a[OAo](S4n),v=C=1,(S=_.run(this.obutton(this.data.dismiss)))||(v=C=0,_.cache(S=M(_.value,a,`zy-al ${n}`,null))),S[RAo]&&((!v||C&2)&&S.flags.reconcile(JO,`zy-al ${n}`),v||!S.setup||S.setup(C,_),S[Mme](C)),S==a[JO]||!a[JO]&&(a[JO]=S)[MAo](a)||a[JO][LAo](a[JO]=S,a),u||!a.setup||a.setup(c,j),a[Mme](c),t[A4n](o),t}};E(MK,U4n,"app-banner",2),pe("app-banner",MK,{cssns:"zy_af",cssid:"zy-af"});var DAo=MK;ge(),wo(),wu(),an(),We(),$i(),$e(),ln();var Egt=Symbol("query"),NAo=Symbol(),QO=Symbol(),IAo=Symbol(),Lme=Symbol(),FAo=Symbol(),LK;var HAo=Symbol(),BAo=Symbol(),VAo=Symbol(),zAo=Symbol(),qAo=Symbol(),WAo=Symbol(),ZAo=Symbol(),GAo=Symbol();var jgt=Symbol(),YAo=Symbol(),XAo=Symbol(),KAo=Symbol(),JAo=Symbol(),QAo=Symbol(),eUo=Symbol(),tUo=Symbol(),P4n=Symbol(),j2,DK={},rUo=Symbol(),Dme,Agt,sw=Symbol.for("##up"),Nme=Symbol.for("##register"),z6=Symbol.for("#afterVisit"),Ugt=Symbol.for("#routing"),Pgt=Symbol.for("#title"),Tgt=Symbol.for("#color"),T4n=Symbol.for("#beforeReconcile"),O4n=Symbol.for("#visit"),Ogt=Symbol.for("#appendChild"),R4n=Symbol.for("#getSlot"),M4n=Symbol.for("#getRenderContext"),L4n=Symbol.for("#isRichElement"),D4n=Symbol.for("#afterReconcile");globalThis.IMBA_DEBUG=1;console.log("39f024145".cyan);OP.init();globalThis.APP=App.get(1).resolved;APP.github;var N4n=Symbol(),Ime=class Ime extends de{get hidden(){return this.offsetWidth==0}async hide(){var e=this;if(globalThis.document.visibilityState=="hidden"){globalThis.document.addEventListener("visibilitychange",function(){return e.hide()});return}if(this.hidden!=!0&&(this.hidden=!0,!0))return await this.animate([{},{opacity:0,display:"none"}],{duration:500,fill:"forwards"}).finished,this.flags.add("hidden"),this.style.display="none"}};E(Ime,N4n,"app-splash",2),pe("app-splash",Ime,{cssid:"kp-af"});var oUo=Ime,Rgt=Symbol(),lw=class lw extends Qe(Rgt,de,OPRenderer){get $main(){let e=R("app-main",null,`${this._ns_||""} $main`,null);return Object.defineProperty(this,"$main",{value:e}),e}get $layers(){let e=R("op-layers",null,`${this._ns_||""} $layers`,null);return Object.defineProperty(this,"$layers",{value:e}),e}[A](e=null,t=!0,r=!0){var o;t&&super[A]&&super[A](...arguments),(o=this[Rgt])==null||o.call(this,...arguments),this.url=e?e.url:void 0,this.scrim=e?e.scrim:void 0}get me(){return OP.user}presentmodals(){var f,m,$,b,g,x;var e=this._ns_||"",t,r={},o,n,i,s=this,a,u,c;if(globalThis.url.params.via!=null&&OP.session.offer&&!globalThis.embed){Bt((o=n=0,t=t=R("afl-welcome-modal",null,`${e}`,null),o||(t[sw]=r._),o||((f=t[Nme])==null||f.call(t,r,IAo)),o||r.sym||!t.setup||t.setup(n,r,IAo),r.sym||t[z6](n),t));return}if(p(i=($=(m=this.url)==null?void 0:m.page)==null?void 0:$.object,CourseEntry)||p(i,Scrim))return;let h=globalThis.url.params,d=globalThis.url.pathname||"/";if(h.pricing!=null)return APP.upgrade();if(h.checkoutsuccess!=null)return APP.upgrade();if(h.signin!=null)return APP.signin();if(h["gift-pro"]!=null||h.gifts!=null)return APP.giftprosubscription();if(h.via=="mdn"){if(!d.includes("/s")&&!d.includes("~")&&APP.seen_mdn_modal!=!0&&(APP.seen_mdn_modal=!0,!0))return Bt(function(){var j;var k=s._ns_||"",_,S=H(),v,C;return v=C=1,(_=S[Lme])||(v=C=0,_=S[Lme]=_=R("mdn-modal",null,`${k}`,null)),v||(_[sw]=S._),v||((j=_[Nme])==null||j.call(_,S,Lme)),v||S.sym||!_.setup||_.setup(C,S,Lme),S.sym||_[z6](C),_})}else if(OP.user&&ME.academia&&((b=ME.offer)==null?void 0:b.coupon)===((g=APP.pro)==null?void 0:g.student_coupon)&&!ME.offer.presented)return Bt((u=c=0,a=a=R("student-offer-modal",null,`${e}`,null),u||(a[sw]=r._),u||((x=a[Nme])==null||x.call(a,r,FAo)),u||r.sym||!a.setup||a.setup(c,r,FAo),r.sym||a[z6](c),a))}set query(e){this.query.$set(e,this,Egt,"query")}get query(){return this.query.$get(this,Egt,"query")}get query(){return this[NAo]||y((LK=this.string(),p(LK.local,Function)?LK.local():LK.local=!0,LK),this,Egt,"query",NAo,lw.prototype)}setup(){var e=this;APP.view=this,globalThis.app=this,globalThis.document.flags.incr("initing"),globalThis.document.flags.incr("mounting",1*1e3),this.router.query.rt&&(this.router.query.rt=null),this.router.query.redir&&(this.router.query.redir=null);let t=this.router.path;if(t.match(/\w~/)&&this.router.replace(t.replace(/(\w)~\w+([\?\/\#\:]|$)/,"$1$2")),this.router.pathname=="/"&&this.router.replace(t.replace(/\//,"/home")),this.router.on("change",function(r){return e.routed(e.router.path,r)}),this.routed(this.router.path),this.router.query.payment_intent){let r=OP.get(this.router.query.payment_intent);r.sync().then(function(){return OP.dialog(r),e.router.replace(e.router.path)})}return this}async routed(e,t){let r=this.url;e=="/new",this[Ugt]=!0;let o=await AppUrl.parse(e);if(this[Ugt]=!1,r?OP.interacted=!0:globalThis.document.flags.incr("mounting",1*1e3),APP.url=this.url=o,globalThis.app=this,o.apply(),this.presentmodals(),!vu.committing)return this.render()}get path(){return Bgt.path||A2.path||"/"}get scroller(){return globalThis.document.scrollingElement}get initing(){return globalThis.document.flags.contains("initing")}async mount(){var r,o,n,i,s,a;var e,t=this;return OP.ui,globalThis.document.flags.decr("initing"),await ME,setTimeout(function(){return APP.visited=!0},10*1e3),(n=(o=(r=OP.user)==null?void 0:r.survey)==null?void 0:o.resolve)==null||n.call(o),(a=(s=(i=OP.user)==null?void 0:i.new_survey)==null?void 0:s.resolve)==null||a.call(s),(e=A2.criticalerrortoreport)&&(A2.criticalerrortoreport=null,APP.reportcriticalerror(e)),globalThis.electron&&globalThis.embed,this}async open(e,t){var s,a;let r=null,o=this.url;p(e,ScrimPractice)&&(r=await e.tourl(t==null?void 0:t.context,o)),(p(e,Ticket)||p(e,ScrimAudioTrack)||p(e,Certificate))&&(r=o.root.raw+(";"+e.id));try{t.trap()}catch{}try{t.original.trap()}catch{}if(r){t!=null&&t.metaKey?window.open(r,"_blank"):Xt.go(r);return}let n=(a=(s=t==null?void 0:t.target)==null?void 0:s.closest)==null?void 0:a.call(s,"app-tile"),i={};this.opener=n,p(e,OPPlain)&&(i=e,e=i.target),p(e==null?void 0:e.open,OPAction)?e.open(t):APP.url.open(e,t,i)}openwindow(){return window.open(globalThis.document.location.href,"_blank","popup")}async togglepalette(){if(globalThis.cmdpalette)return globalThis.cmdpalette.emit("resolve",null),globalThis.cmdpalette=null;{globalThis.cmdpalette=OP.pick(Content.all());let e=await globalThis.cmdpalette;return globalThis.cmdpalette=null,e?this.emit("open",e):void 0}}resized(e){return globalThis.reflag()}async testleak(){return Xt.go("/frontend-path-c0j/~03is"),await Utils.sleep(2*1e3),Xt.go("/"),await Utils.sleep(1*1e3),globalThis.scr=null,OP.ui.gc(),this.fx}render(){var Y,K,X,Z,Q;var e=gt(this),t=this,r,o,n,i,s,a,u=this._ns_||"",c,h,d,f,m,$,b,g,x,k,_,S,v,C,j,P,U,O,L,I,F,N,V;if(APP.debugging.tick(),e[QO]??={root:null,page:APP.home},this[Ugt])return;let W=this.url,z=vu.version;try{let ee=W.root.object,te=ee==null?void 0:ee.astitle;p(ee,WithOpenGraph)&&(te=ee.og.astitle),this[Pgt]!=te&&(this[Pgt]=te,!0)&&(globalThis.document.title=this[Pgt]),this[Tgt]!=(r=(ee==null?void 0:ee.color)||APP.accent)&&(this[Tgt]=r,!0)&&this.op.vars({accent:this[Tgt]})}catch{}(Z=(X=(K=(Y=APP==null?void 0:APP.stripe)==null?void 0:Y.pro)==null?void 0:K.checkout)==null?void 0:X.prep)==null||Z.call(X);let q=W.sheets;W.root.sheet||(e[QO].root=W.root,e[QO].page=e[QO].root.object),o=this,o[T4n](),n=i=1,o[HAo]===1||(n=i=0,o[HAo]=1),s=APP,s===o[BAo]||(o.data=o[BAo]=s),a=o[VAo]||(o[VAo]={options:[null],global:!0}),s=APP,s===a.options[0]||(a.options[0]=s,i|=48),n||o.on$("opdrop",a,this),i&32&&(i^=32,(Q=a[O4n])==null||Q.call(a)),n||o.on$("hotkey",{options:["meta+k"],force:!0,$_:[function(ee,te){return t.togglepalette(ee)}]},this),n||o.on$("visited",{$_:[function(ee,te){return ee.detail.visited=!0}]},this),n||(o.role="none"),h=d=1,(c=o[zAo])||(h=d=0,o[zAo]=c=R("i-global",o,`${u}`,null)),h||c.on$("open",{$_:[function(ee,te){return t.open(ee.detail,ee)}]},this),f=o[qAo]||(o[qAo]={silent:!0,passive:!0,throttle:[null,null],$_:[function(ee,te){return t.resized(ee)}]}),f.throttle[0]=100,h||c.on$("resize",f,this),h||!c.setup||c.setup(d,m),c[z6](d),h||o[Ogt](c),b=g=1,($=o[WAo])||(b=g=0,o[WAo]=($=this.$main,$[sw]=o,$)),x=e[QO].page,x===o[ZAo]||($.data=o[ZAo]=x),x=e[QO].root,x===o[GAo]||($.target=o[GAo]=x),x=q.any||void 0,x===o[jgt]||(g|=2,o[jgt]=x),g&2&&$.flag$(`${this._ns_||""} $main `+(o[jgt]?"layered":"")),b||!$.setup||$.setup(g,k),$[z6](g),b||o[Ogt]($),S=v=1,(_=o[YAo])||(S=v=0,o[YAo]=(_=this.$layers,_[sw]=o,_)),C=_[R4n]("__",o),(j=o[XAo])||(o[XAo]=j=wt(384,C)),P=0,U=j.$;for(let ee=0,te=B(q),ne=te.length;ee<ne;ee++){let ie=te[ee],J=ne-ee-1,me=ie.target;O=U[M4n](me),I=F=1,(L=O.run(this.oel(me,"sheet",ie.main)))||(I=F=0,O.cache(L=M(O.value,null,`kp-ap ${u}`,null))),I||(L[sw]=j),L[L4n]&&(I||(L.ease="ease"),ie===L[KAo]||(L.oproute=L[KAo]=ie),ee===L[JAo]||(L.level=L[JAo]=ee),J===L[QAo]||(L.depth=L[QAo]=J),ee===L[eUo]||L.css$var("--kp_aq",L[eUo]=ee,null,"--level"),J===L[tUo]||L.css$var("--kp_ar",L[tUo]=J,null,"--depth"),(!I||F&2)&&L.flags.reconcile(P4n,`kp-ap ${u}`),I||!L.setup||L.setup(F,O),L[z6](F)),j.push(L,P++,N)}return j[z6](P),S||!_.setup||_.setup(v,V),_[z6](v),S||o[Ogt](_),o[D4n](i),o}};lw.prototype[Le]=De,se([BK.bind([])],lw.prototype,"open",null),E(lw,Rgt,"app",322),pe("app",lw,{cssid:"kp-ag"});var nUo=lw,iUo;Bt(globalThis.app=(Dme=Agt=0,j2=j2=R("app",null,null,null),Dme||(j2[sw]=DK._),Dme||((iUo=j2[Nme])==null||iUo.call(j2,DK,rUo)),Dme||DK.sym||!j2.setup||j2.setup(Agt,DK,rUo),DK.sym||j2[z6](Agt),j2));Xt.alias("/","/home");
//__FOOT__
